<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"/><meta name="theme-color" content="#bd93f9"/><link rel="icon" href="/favicon.ico"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true"/><title class="jsx-745d6189719dfe72">Vault Installation Guide - HowToMgr</title><meta name="description" content="Repo for vault" class="jsx-745d6189719dfe72"/><meta name="keywords" content="installation guides, tutorials, linux, docker, kubernetes, mobile-first, responsive" class="jsx-745d6189719dfe72"/><meta property="og:title" content="Vault Installation Guide - HowToMgr" class="jsx-745d6189719dfe72"/><meta property="og:description" content="Repo for vault" class="jsx-745d6189719dfe72"/><meta property="og:type" content="website" class="jsx-745d6189719dfe72"/><meta property="og:url" content="https://howtomgr.github.io" class="jsx-745d6189719dfe72"/><meta property="og:image" content="https://howtomgr.github.io/social-preview.png" class="jsx-745d6189719dfe72"/><meta property="twitter:card" content="summary_large_image" class="jsx-745d6189719dfe72"/><meta property="twitter:title" content="Vault Installation Guide - HowToMgr" class="jsx-745d6189719dfe72"/><meta property="twitter:description" content="Repo for vault" class="jsx-745d6189719dfe72"/><meta name="next-head-count" content="17"/><link rel="dns-prefetch" href="//api.github.com"/><link rel="dns-prefetch" href="//github.com"/><link rel="preload" href="/favicon.ico" as="image"/><meta name="application-name" content="HowToMgr"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="default"/><meta name="apple-mobile-web-app-title" content="HowToMgr"/><meta name="format-detection" content="telephone=no"/><meta name="mobile-web-app-capable" content="yes"/><noscript><style>
            .requires-js { display: none !important; }
            .no-js-message { display: block !important; }
          </style></noscript><link rel="preload" href="/_next/static/css/eec6c1c201affe77.css" as="style"/><link rel="stylesheet" href="/_next/static/css/eec6c1c201affe77.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-ee7e63bc15b31913.js" defer=""></script><script src="/_next/static/chunks/framework-2b1f7a23d657eae4.js" defer=""></script><script src="/_next/static/chunks/main-6ec3f7584970eebe.js" defer=""></script><script src="/_next/static/chunks/pages/_app-d149ee305b4f74bb.js" defer=""></script><script src="/_next/static/chunks/675-4a724ee9ded8dc5b.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bcategory%5D/%5Bguide%5D-1ac9c2ceb48b9f4e.js" defer=""></script><script src="/_next/static/gwB4j0n9ndF37HVylNSlu/_buildManifest.js" defer=""></script><script src="/_next/static/gwB4j0n9ndF37HVylNSlu/_ssgManifest.js" defer=""></script><style id="__jsx-8a7f0cdcf94f52ce">.breadcrumb.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:var(--space-2);margin-bottom:var(--space-6);font-size:var(--font-sm);color:var(--text-secondary);overflow-x:auto;white-space:nowrap;-webkit-overflow-scrolling:touch}.breadcrumb.jsx-8a7f0cdcf94f52ce a.jsx-8a7f0cdcf94f52ce{color:var(--accent-primary);text-decoration:none;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.breadcrumb.jsx-8a7f0cdcf94f52ce a.jsx-8a7f0cdcf94f52ce:hover{text-decoration:underline}.separator.jsx-8a7f0cdcf94f52ce{color:var(--text-muted);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.current.jsx-8a7f0cdcf94f52ce{color:var(--text-primary);font-weight:500;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.guide-header.jsx-8a7f0cdcf94f52ce{background:var(--bg-secondary);-webkit-border-radius:var(--border-radius-lg);-moz-border-radius:var(--border-radius-lg);border-radius:var(--border-radius-lg);padding:var(--space-6);margin-bottom:var(--space-8);border:1px solid var(--bg-surface)}.guide-title.jsx-8a7f0cdcf94f52ce{color:var(--accent-primary);font-size:var(--font-3xl);margin-bottom:var(--space-4);line-height:1.2;word-break:break-word}.guide-description.jsx-8a7f0cdcf94f52ce{color:var(--text-secondary);font-size:var(--font-lg);margin-bottom:var(--space-5);line-height:1.5}.guide-badges.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-3);margin-bottom:var(--space-5);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.guide-actions.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-3);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.guide-content.jsx-8a7f0cdcf94f52ce{background:var(--bg-secondary);-webkit-border-radius:var(--border-radius-lg);-moz-border-radius:var(--border-radius-lg);border-radius:var(--border-radius-lg);padding:var(--space-6);margin-bottom:var(--space-8);border:1px solid var(--bg-surface);overflow-x:hidden}.related-section.jsx-8a7f0cdcf94f52ce{margin-bottom:var(--space-8)}.section-title.jsx-8a7f0cdcf94f52ce{color:var(--accent-primary);font-size:var(--font-2xl);text-align:center;margin-bottom:var(--space-6)}.guide-navigation.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-4);-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:var(--space-8)}.loading-container.jsx-8a7f0cdcf94f52ce,.error-container.jsx-8a7f0cdcf94f52ce{text-align:center;padding:var(--space-8)}.error-actions.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-4);-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:var(--space-6);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}@media(max-width:767px){.guide-header.jsx-8a7f0cdcf94f52ce{padding:var(--space-4);margin-bottom:var(--space-6)}.guide-title.jsx-8a7f0cdcf94f52ce{font-size:var(--font-2xl)}.guide-description.jsx-8a7f0cdcf94f52ce{font-size:var(--font-base)}.guide-content.jsx-8a7f0cdcf94f52ce{padding:var(--space-4);margin-bottom:var(--space-6)}.guide-badges.jsx-8a7f0cdcf94f52ce{gap:var(--space-2)}.guide-actions.jsx-8a7f0cdcf94f52ce{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.guide-navigation.jsx-8a7f0cdcf94f52ce{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.breadcrumb.jsx-8a7f0cdcf94f52ce{margin-bottom:var(--space-4)}}</style><style id="__jsx-745d6189719dfe72">.app-container.jsx-745d6189719dfe72{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding-top:56px}.main-content.jsx-745d6189719dfe72{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;padding:var(--space-6)0}.mobile-footer.jsx-745d6189719dfe72{background:var(--bg-secondary);border-top:1px solid var(--bg-surface);padding:var(--space-6)0;margin-top:auto}.footer-content.jsx-745d6189719dfe72{text-align:center}.footer-links.jsx-745d6189719dfe72{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:var(--space-6);margin-bottom:var(--space-4);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.footer-links.jsx-745d6189719dfe72 a.jsx-745d6189719dfe72{color:var(--accent-primary);text-decoration:none;font-size:var(--font-sm)}.footer-links.jsx-745d6189719dfe72 a.jsx-745d6189719dfe72:hover{color:var(--accent-secondary)}.footer-separator.jsx-745d6189719dfe72{height:1px;background:var(--bg-surface);margin:var(--space-4)auto;width:200px}.footer-text.jsx-745d6189719dfe72,.footer-tech.jsx-745d6189719dfe72{color:var(--text-secondary);font-size:var(--font-sm);margin-bottom:var(--space-2)}.footer-disclaimer.jsx-745d6189719dfe72{color:var(--text-muted);font-size:var(--font-xs)}[data-theme="light"].jsx-745d6189719dfe72 .theme-icon-dark.jsx-745d6189719dfe72{display:none}[data-theme="light"].jsx-745d6189719dfe72 .theme-icon-light.jsx-745d6189719dfe72{display:inline!important}@media(max-width:767px){.main-content.jsx-745d6189719dfe72{padding:var(--space-4)0}.footer-links.jsx-745d6189719dfe72{gap:var(--space-4)}}</style></head><body><noscript><div class="no-js-message" style="padding:1rem;background:#ff5555;color:#f8f8f2;text-align:center;font-size:0.9rem">This site requires JavaScript to function properly. Please enable JavaScript in your browser.</div></noscript><div id="__next"><div class="jsx-745d6189719dfe72 app-container"><a href="#main-content" class="jsx-745d6189719dfe72 skip-link">Skip to main content</a><nav class="jsx-745d6189719dfe72 mobile-nav"><div class="jsx-745d6189719dfe72 mobile-nav-content"><a class="mobile-brand" href="/"><span role="img" aria-label="Books" class="jsx-745d6189719dfe72">üìö</span>HowToMgr</a><button aria-label="Toggle theme" title="Switch theme" class="jsx-745d6189719dfe72 mobile-theme-toggle touch-target"><span class="jsx-745d6189719dfe72 theme-icon-dark">üåô</span><span style="display:none" class="jsx-745d6189719dfe72 theme-icon-light">‚òÄÔ∏è</span></button></div></nav><main id="main-content" tabindex="-1" class="jsx-745d6189719dfe72 main-content"><div class="jsx-745d6189719dfe72 container"><nav aria-label="Breadcrumb" class="jsx-8a7f0cdcf94f52ce breadcrumb"><a href="/">Home</a><span class="jsx-8a7f0cdcf94f52ce separator">‚Üí</span><a href="/security/">Security</a><span class="jsx-8a7f0cdcf94f52ce separator">‚Üí</span><span class="jsx-8a7f0cdcf94f52ce current">Vault</span></nav><header class="jsx-8a7f0cdcf94f52ce guide-header"><div class="jsx-8a7f0cdcf94f52ce guide-meta-top"><h1 class="jsx-8a7f0cdcf94f52ce guide-title">Vault</h1><p class="jsx-8a7f0cdcf94f52ce guide-description">Repo for vault</p><div class="jsx-8a7f0cdcf94f52ce guide-badges"><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-primary">Security</span><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-info">8 min</span></div><div class="jsx-8a7f0cdcf94f52ce guide-actions"><a href="https://github.com/howtomgr/vault" target="_blank" rel="noopener" class="jsx-8a7f0cdcf94f52ce btn btn-secondary">View on GitHub</a></div></div></header><article class="jsx-8a7f0cdcf94f52ce guide-content"><div class="jsx-8a7f0cdcf94f52ce readme-content"><h1 id="hashicorp-vault-installation-guide" class="mobile-header">HashiCorp Vault Installation Guide</h1>
<p class="mobile-paragraph">Secrets management platform for securely storing and accessing API keys, passwords, certificates, and other sensitive data.</p>
<h2 id="prerequisites" class="mobile-header">Prerequisites</h2>
<li class="mobile-list-item">Linux system (Ubuntu/Debian, RHEL/CentOS, or compatible)</li>
<li class="mobile-list-item">Root or sudo access</li>
<li class="mobile-list-item">2GB RAM minimum, 4GB recommended</li>
<li class="mobile-list-item">Persistent storage for Vault data</li>
<h2 id="installation" class="mobile-header">Installation</h2>
<h3 id="using-package-manager-recommended" class="mobile-header">Using Package Manager (Recommended)</h3>
<p class="mobile-paragraph">#### Ubuntu/Debian</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Add HashiCorp GPG key
wget -O- https://apt.releases.hashicorp.com/gpg | sudo gpg --dearmor -o /usr/share/keyrings/hashicorp-archive-keyring.gpg

# Add HashiCorp repository
echo &quot;deb [signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(lsb_release -cs) main&quot; | sudo tee /etc/apt/sources.list.d/hashicorp.list

# Update and install
sudo apt update
sudo apt install -y vault</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">#### RHEL/CentOS/Rocky Linux</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Add HashiCorp repository
sudo yum install -y yum-utils
sudo yum-config-manager --add-repo https://rpm.releases.hashicorp.com/RHEL/hashicorp.repo

# Install Vault
sudo yum install -y vault</code></pre>
      </div>
    </div>
<h3 id="manual-binary-installation" class="mobile-header">Manual Binary Installation</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Download latest Vault
VAULT_VERSION=&quot;1.14.1&quot;
cd /tmp
wget https://releases.hashicorp.com/vault/${VAULT_VERSION}/vault_${VAULT_VERSION}_linux_amd64.zip

# Install
sudo apt install -y unzip  # or yum install -y unzip
unzip vault_${VAULT_VERSION}_linux_amd64.zip
sudo mv vault /usr/local/bin/
sudo chmod +x /usr/local/bin/vault

# Create vault user
sudo useradd --system --home /etc/vault.d --shell /bin/false vault</code></pre>
      </div>
    </div>
<h3 id="using-docker" class="mobile-header">Using Docker</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create directories for persistent data
mkdir -p ~/vault/{data,config,logs}

# Create basic configuration
cat &gt; ~/vault/config/vault.hcl &lt;&lt;EOF
ui = true
disable_mlock = true

storage &quot;file&quot; {
  path = &quot;/vault/data&quot;
}

listener &quot;tcp&quot; {
  address     = &quot;0.0.0.0:8200&quot;
  tls_disable = true
}

api_addr = &quot;http://0.0.0.0:8200&quot;
cluster_addr = &quot;https://0.0.0.0:8201&quot;
EOF

# Run Vault container
docker run -d \
  --name vault \
  --restart unless-stopped \
  -p 8200:8200 \
  -v ~/vault/data:/vault/data \
  -v ~/vault/config:/vault/config \
  -v ~/vault/logs:/vault/logs \
  --cap-add=IPC_LOCK \
  vault:latest server -config=/vault/config/vault.hcl</code></pre>
      </div>
    </div>
<h2 id="configuration" class="mobile-header">Configuration</h2>
<h3 id="basic-configuration-file" class="mobile-header">Basic Configuration File</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create Vault configuration directory
sudo mkdir -p /etc/vault.d
sudo chown -R vault:vault /etc/vault.d

# Create main configuration
sudo tee /etc/vault.d/vault.hcl &gt; /dev/null &lt;&lt;EOF
# Full configuration options: https://www.vaultproject.io/docs/configuration

ui = true
disable_mlock = true

# Storage backend
storage &quot;file&quot; {
  path = &quot;/opt/vault/data&quot;
}

# HTTPS listener
listener &quot;tcp&quot; {
  address       = &quot;0.0.0.0:8200&quot;
  tls_cert_file = &quot;/opt/vault/tls/tls.crt&quot;
  tls_key_file  = &quot;/opt/vault/tls/tls.key&quot;
}

# HTTP listener (disable in production)
listener &quot;tcp&quot; {
  address     = &quot;127.0.0.1:8201&quot;
  tls_disable = true
}

# Enterprise license (if applicable)
# license_path = &quot;/etc/vault.d/vault.hclic&quot;

# API address
api_addr = &quot;https://127.0.0.1:8200&quot;

# Cluster address  
cluster_addr = &quot;https://127.0.0.1:8201&quot;

# Logging
log_level = &quot;INFO&quot;
log_file  = &quot;/var/log/vault/vault.log&quot;
EOF

# Create data directory
sudo mkdir -p /opt/vault/{data,tls}
sudo chown -R vault:vault /opt/vault

# Create log directory
sudo mkdir -p /var/log/vault
sudo chown vault:vault /var/log/vault</code></pre>
      </div>
    </div>
<h3 id="ssltls-certificate-setup" class="mobile-header">SSL/TLS Certificate Setup</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Generate self-signed certificate for development
sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
  -keyout /opt/vault/tls/tls.key \
  -out /opt/vault/tls/tls.crt \
  -subj &quot;/C=US/ST=State/L=City/O=Organization/CN=vault.example.com&quot;

sudo chown vault:vault /opt/vault/tls/*
sudo chmod 600 /opt/vault/tls/tls.key
sudo chmod 644 /opt/vault/tls/tls.crt

# For production, use Let&#039;s Encrypt
sudo apt install -y certbot
sudo certbot certonly --standalone -d vault.example.com
sudo cp /etc/letsencrypt/live/vault.example.com/fullchain.pem /opt/vault/tls/tls.crt
sudo cp /etc/letsencrypt/live/vault.example.com/privkey.pem /opt/vault/tls/tls.key
sudo chown vault:vault /opt/vault/tls/*</code></pre>
      </div>
    </div>
<h3 id="systemd-service" class="mobile-header">SystemD Service</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create systemd service
sudo tee /etc/systemd/system/vault.service &gt; /dev/null &lt;&lt;EOF
[Unit]
Description=&quot;HashiCorp Vault - A tool for managing secrets&quot;
Documentation=https://www.vaultproject.io/docs/
Requires=network-online.target
After=network-online.target
ConditionFileNotEmpty=/etc/vault.d/vault.hcl
StartLimitIntervalSec=60
StartLimitBurst=3

[Service]
Type=notify
User=vault
Group=vault
ProtectSystem=full
ProtectHome=read-only
PrivateTmp=yes
PrivateDevices=yes
SecureBits=keep-caps
AmbientCapabilities=CAP_IPC_LOCK
CapabilityBoundingSet=CAP_SYSLOG CAP_IPC_LOCK
NoNewPrivileges=yes
ExecStart=/usr/local/bin/vault server -config=/etc/vault.d/vault.hcl
ExecReload=/bin/kill --signal HUP $MAINPID
KillMode=process
Restart=on-failure
RestartSec=5
TimeoutStopSec=30
StartLimitInterval=60
StartLimitBurst=3
LimitNOFILE=65536
LimitMEMLOCK=infinity

[Install]
WantedBy=multi-user.target
EOF

# Enable and start Vault
sudo systemctl daemon-reload
sudo systemctl enable --now vault</code></pre>
      </div>
    </div>
<h2 id="initial-setup-and-unsealing" class="mobile-header">Initial Setup and Unsealing</h2>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Initialize Vault (one-time setup)
export VAULT_ADDR=&#039;http://127.0.0.1:8200&#039;
vault operator init

# Save the unseal keys and root token securely!
# Example output:
# Unseal Key 1: key1...
# Unseal Key 2: key2...
# Unseal Key 3: key3...
# Initial Root Token: hvs.token...

# Unseal Vault (required after every restart)
vault operator unseal KEY1
vault operator unseal KEY2  
vault operator unseal KEY3

# Login with root token
vault auth ROOT_TOKEN

# Check status
vault status</code></pre>
      </div>
    </div>
<h2 id="basic-usage" class="mobile-header">Basic Usage</h2>
<h3 id="authentication-methods" class="mobile-header">Authentication Methods</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Enable userpass authentication
vault auth enable userpass

# Create user
vault write auth/userpass/users/admin password=secure_password policies=admin

# Enable GitHub authentication
vault auth enable github
vault write auth/github/config organization=your-org

# Login with different methods
vault auth -method=userpass username=admin
vault auth -method=github token=github_token</code></pre>
      </div>
    </div>
<h3 id="secrets-management" class="mobile-header">Secrets Management</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Enable KV secrets engine
vault secrets enable -version=2 kv

# Store secrets
vault kv put secret/myapp/config \
  username=admin \
  password=secure_password \
  api_key=abc123

# Read secrets
vault kv get secret/myapp/config
vault kv get -field=password secret/myapp/config

# Update secrets
vault kv put secret/myapp/config \
  username=admin \
  password=new_password \
  api_key=def456

# Delete secrets
vault kv delete secret/myapp/config

# List secrets
vault kv list secret/</code></pre>
      </div>
    </div>
<h3 id="policies" class="mobile-header">Policies</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create policy file
cat &gt; admin-policy.hcl &lt;&lt;EOF
# Admin policy
path &quot;*&quot; {
  capabilities = [&quot;create&quot;, &quot;read&quot;, &quot;update&quot;, &quot;delete&quot;, &quot;list&quot;, &quot;sudo&quot;]
}
EOF

# Apply policy
vault policy write admin admin-policy.hcl

# Create read-only policy
cat &gt; readonly-policy.hcl &lt;&lt;EOF
# Read-only access to secrets
path &quot;secret/data/*&quot; {
  capabilities = [&quot;read&quot;, &quot;list&quot;]
}
EOF

vault policy write readonly readonly-policy.hcl

# List policies
vault policy list
vault policy read admin</code></pre>
      </div>
    </div>
<h3 id="database-secrets-engine" class="mobile-header">Database Secrets Engine</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Enable database secrets engine
vault secrets enable database

# Configure MySQL connection
vault write database/config/mysql \
  plugin_name=mysql-database-plugin \
  connection_url=&quot;{{username}}:{{password}}@tcp(mysql.example.com:3306)/&quot; \
  allowed_roles=&quot;mysql-role&quot; \
  username=&quot;vault&quot; \
  password=&quot;vault-password&quot;

# Create role for dynamic credentials
vault write database/roles/mysql-role \
  db_name=mysql \
  creation_statements=&quot;CREATE USER &#039;{{name}}&#039;@&#039;%&#039; IDENTIFIED BY &#039;{{password}}&#039;;GRANT SELECT ON *.* TO &#039;{{name}}&#039;@&#039;%&#039;;&quot; \
  default_ttl=&quot;1h&quot; \
  max_ttl=&quot;24h&quot;

# Generate dynamic credentials
vault read database/creds/mysql-role</code></pre>
      </div>
    </div>
<h2 id="high-availability-setup" class="mobile-header">High Availability Setup</h2>
<h3 id="consul-backend" class="mobile-header">Consul Backend</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Install Consul
sudo apt install -y consul

# Configure Vault with Consul backend
sudo tee /etc/vault.d/vault-ha.hcl &gt; /dev/null &lt;&lt;EOF
ui = true
disable_mlock = true

storage &quot;consul&quot; {
  address = &quot;127.0.0.1:8500&quot;
  path    = &quot;vault/&quot;
}

listener &quot;tcp&quot; {
  address     = &quot;0.0.0.0:8200&quot;
  tls_cert_file = &quot;/opt/vault/tls/tls.crt&quot;
  tls_key_file  = &quot;/opt/vault/tls/tls.key&quot;
}

api_addr = &quot;https://vault-1.example.com:8200&quot;
cluster_addr = &quot;https://vault-1.example.com:8201&quot;
EOF</code></pre>
      </div>
    </div>
<h2 id="backup-and-recovery" class="mobile-header">Backup and Recovery</h2>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create backup script
sudo tee /usr/local/bin/vault-backup.sh &gt; /dev/null &lt;&lt;&#039;EOF&#039;
#!/bin/bash
BACKUP_DIR=&quot;/backup/vault&quot;
DATE=$(date +%Y%m%d_%H%M%S)

mkdir -p ${BACKUP_DIR}

# Create snapshot (Enterprise feature)
# vault operator raft snapshot save ${BACKUP_DIR}/vault-snapshot-${DATE}.snap

# For OSS version, backup storage backend data
if [ -d &quot;/opt/vault/data&quot; ]; then
    tar -czf ${BACKUP_DIR}/vault-data-${DATE}.tar.gz -C /opt/vault data
fi

# Keep only last 7 backups
find ${BACKUP_DIR} -name &quot;vault-*-*.tar.gz&quot; -type f -mtime +7 -delete

echo &quot;Backup completed: vault-data-${DATE}.tar.gz&quot;
EOF

sudo chmod +x /usr/local/bin/vault-backup.sh

# Schedule daily backup
echo &quot;0 2 * * * root /usr/local/bin/vault-backup.sh&quot; | sudo tee -a /etc/crontab</code></pre>
      </div>
    </div>
<h2 id="firewall-configuration" class="mobile-header">Firewall Configuration</h2>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># UFW (Ubuntu/Debian)
sudo ufw allow 8200/tcp   # Vault API
sudo ufw allow 8201/tcp   # Vault cluster communication
sudo ufw enable

# Firewalld (RHEL/CentOS)
sudo firewall-cmd --permanent --add-port=8200/tcp
sudo firewall-cmd --permanent --add-port=8201/tcp
sudo firewall-cmd --reload</code></pre>
      </div>
    </div>
<h2 id="verification" class="mobile-header">Verification</h2>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Check Vault status
vault status

# Check systemd service
sudo systemctl status vault

# Test API connectivity
curl -s http://127.0.0.1:8200/v1/sys/health | jq

# Check authentication methods
vault auth list

# Check secrets engines
vault secrets list

# Check policies
vault policy list

# Check audit devices
vault audit list

# View server logs
sudo journalctl -u vault -f

# Check seal status
vault operator key-status</code></pre>
      </div>
    </div>
<h2 id="security-best-practices" class="mobile-header">Security Best Practices</h2>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Enable audit logging
vault audit enable file file_path=/var/log/vault/audit.log

# Create separate policies for different roles
cat &gt; developer-policy.hcl &lt;&lt;EOF
# Developers can read/write to dev secrets
path &quot;secret/data/dev/*&quot; {
  capabilities = [&quot;create&quot;, &quot;read&quot;, &quot;update&quot;, &quot;delete&quot;, &quot;list&quot;]
}

# Read-only access to shared secrets
path &quot;secret/data/shared/*&quot; {
  capabilities = [&quot;read&quot;, &quot;list&quot;]
}
EOF

vault policy write developer developer-policy.hcl

# Set up auto-unseal with cloud KMS (production)
# AWS KMS example
vault write sys/config/seal/awskms \
  region=&quot;us-west-2&quot; \
  access_key=&quot;YOUR_ACCESS_KEY&quot; \
  secret_key=&quot;YOUR_SECRET_KEY&quot; \
  kms_key_id=&quot;alias/vault-unseal-key&quot;

# Enable periodic token renewal
vault write auth/token/roles/auto-renew \
  allowed_policies=&quot;developer&quot; \
  orphan=true \
  period=&quot;24h&quot; \
  renewable=true</code></pre>
      </div>
    </div>
<h2 id="integration-examples" class="mobile-header">Integration Examples</h2>
<h3 id="application-integration" class="mobile-header">Application Integration</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Using Vault Agent for automatic authentication
cat &gt; /etc/vault-agent.hcl &lt;&lt;EOF
exit_after_auth = false
pid_file = &quot;./pidfile&quot;

auto_auth {
  method &quot;aws&quot; {
    mount_path = &quot;auth/aws&quot;
    config = {
      type = &quot;iam&quot;
      role = &quot;vault-role&quot;
    }
  }

  sink &quot;file&quot; {
    config = {
      path = &quot;/tmp/vault-token-via-agent&quot;
    }
  }
}

cache {
  use_auto_auth_token = true
}

listener &quot;tcp&quot; {
  address = &quot;127.0.0.1:8100&quot;
  tls_disable = true
}

template {
  source      = &quot;/opt/vault/templates/config.json.tpl&quot;
  destination = &quot;/opt/app/config.json&quot;
  perms       = 0640
  command     = &quot;systemctl reload myapp&quot;
}
EOF

# Start Vault Agent
vault agent -config=/etc/vault-agent.hcl</code></pre>
      </div>
    </div>
<h3 id="kubernetes-integration" class="mobile-header">Kubernetes Integration</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Enable Kubernetes auth method
vault auth enable kubernetes

# Configure Kubernetes auth
vault write auth/kubernetes/config \
  token_reviewer_jwt=&quot;$(cat /var/run/secrets/kubernetes.io/serviceaccount/token)&quot; \
  kubernetes_host=https://${KUBERNETES_PORT_443_TCP_ADDR}:443 \
  kubernetes_ca_cert=@/var/run/secrets/kubernetes.io/serviceaccount/ca.crt

# Create role for Kubernetes service accounts
vault write auth/kubernetes/role/myapp \
  bound_service_account_names=vault \
  bound_service_account_namespaces=default \
  policies=myapp-policy \
  ttl=24h</code></pre>
      </div>
    </div>
<h2 id="troubleshooting" class="mobile-header">Troubleshooting</h2>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Check Vault logs
sudo journalctl -u vault -f

# Debug mode
sudo systemctl stop vault
sudo -u vault vault server -config=/etc/vault.d/vault.hcl -log-level=debug

# Check seal status
vault operator key-status

# Check storage backend
vault operator raft list-peers  # For raft storage
consul kv get -recurse vault/   # For consul storage

# Test connectivity
curl -s http://127.0.0.1:8200/v1/sys/health

# Check performance
vault operator usage

# Rotate encryption key
vault operator rotate

# Check configuration
vault operator diagnose -config=/etc/vault.d/vault.hcl</code></pre>
      </div>
    </div>
<h2 id="additional-resources" class="mobile-header">Additional Resources</h2>
<li class="mobile-list-item"><a href="https://www.vaultproject.io/docs" target="_blank" rel="noopener" class="mobile-link">Official Documentation</a></li>
<li class="mobile-list-item"><a href="https://www.vaultproject.io/api-docs" target="_blank" rel="noopener" class="mobile-link">API Documentation</a></li>
<li class="mobile-list-item"><a href="https://learn.hashicorp.com/tutorials/vault/production-hardening" target="_blank" rel="noopener" class="mobile-link">Best Practices</a></li>
<li class="mobile-list-item"><a href="https://learn.hashicorp.com/vault" target="_blank" rel="noopener" class="mobile-link">Vault Guides</a></li>
<li class="mobile-list-item"><a href="https://discuss.hashicorp.com/c/vault" target="_blank" rel="noopener" class="mobile-link">Community Forum</a></li>
<p class="mobile-paragraph">---</p>
<p class="mobile-paragraph"><strong>Note:</strong> This guide is part of the <a href="https://howtomgr.github.io" target="_blank" rel="noopener" class="mobile-link">HowToMgr</a> collection.</p></div></article><section class="jsx-8a7f0cdcf94f52ce related-section"><h2 class="jsx-8a7f0cdcf94f52ce section-title">Related <!-- -->Security<!-- --> Guides</h2><div class="jsx-8a7f0cdcf94f52ce mobile-grid"><a class="mobile-card" href="/security/fail2ban/"><div class="jsx-8a7f0cdcf94f52ce mobile-card-header"><h3 class="jsx-8a7f0cdcf94f52ce mobile-card-title">Fail2ban</h3><p class="jsx-8a7f0cdcf94f52ce mobile-card-description">Repo for fail2ban</p></div><div class="jsx-8a7f0cdcf94f52ce mobile-card-meta"><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card" href="/security/keycloak/"><div class="jsx-8a7f0cdcf94f52ce mobile-card-header"><h3 class="jsx-8a7f0cdcf94f52ce mobile-card-title">Keycloak</h3><p class="jsx-8a7f0cdcf94f52ce mobile-card-description">Repo for keycloak</p></div><div class="jsx-8a7f0cdcf94f52ce mobile-card-meta"><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card" href="/security/openvpn/"><div class="jsx-8a7f0cdcf94f52ce mobile-card-header"><h3 class="jsx-8a7f0cdcf94f52ce mobile-card-title">Openvpn</h3><p class="jsx-8a7f0cdcf94f52ce mobile-card-description">Repo for openvpn</p></div><div class="jsx-8a7f0cdcf94f52ce mobile-card-meta"><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-info">1 min</span></div></a></div></section><nav class="jsx-8a7f0cdcf94f52ce guide-navigation"><a class="btn btn-secondary" href="/security/">‚Üê All <!-- -->Security</a><a class="btn btn-secondary" href="/">All Categories</a></nav></div></main><footer class="jsx-745d6189719dfe72 mobile-footer"><div class="jsx-745d6189719dfe72 container"><div class="jsx-745d6189719dfe72 footer-content"><div class="jsx-745d6189719dfe72 footer-links"><a href="/">Home</a><a href="https://github.com/howtomgr" target="_blank" rel="noopener" class="jsx-745d6189719dfe72">GitHub</a><a href="https://github.com/howtomgr/howtomgr.github.io" target="_blank" rel="noopener" class="jsx-745d6189719dfe72">Source</a></div><div class="jsx-745d6189719dfe72 footer-separator"></div><p class="jsx-745d6189719dfe72 footer-text">¬© <!-- -->2025<!-- --> HowToMgr Organization. Open source installation guides.</p><p class="jsx-745d6189719dfe72 footer-tech">Built with ‚ù§Ô∏è using Next.js + GitHub Pages</p><p class="jsx-745d6189719dfe72 footer-disclaimer"><small class="jsx-745d6189719dfe72">All guides are provided as-is. Please review and test before production use.</small></p></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"guide":{"name":"vault","displayName":"Vault","slug":"vault","description":"Repo for vault","category":"security","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/vault","updatedAt":"2025-09-08T03:18:05Z","createdAt":"2025-09-08T03:17:55Z","readmeRaw":"# HashiCorp Vault Installation Guide\n\nSecrets management platform for securely storing and accessing API keys, passwords, certificates, and other sensitive data.\n\n## Prerequisites\n\n- Linux system (Ubuntu/Debian, RHEL/CentOS, or compatible)\n- Root or sudo access\n- 2GB RAM minimum, 4GB recommended\n- Persistent storage for Vault data\n\n## Installation\n\n### Using Package Manager (Recommended)\n\n#### Ubuntu/Debian\n```bash\n# Add HashiCorp GPG key\nwget -O- https://apt.releases.hashicorp.com/gpg | sudo gpg --dearmor -o /usr/share/keyrings/hashicorp-archive-keyring.gpg\n\n# Add HashiCorp repository\necho \"deb [signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(lsb_release -cs) main\" | sudo tee /etc/apt/sources.list.d/hashicorp.list\n\n# Update and install\nsudo apt update\nsudo apt install -y vault\n```\n\n#### RHEL/CentOS/Rocky Linux\n```bash\n# Add HashiCorp repository\nsudo yum install -y yum-utils\nsudo yum-config-manager --add-repo https://rpm.releases.hashicorp.com/RHEL/hashicorp.repo\n\n# Install Vault\nsudo yum install -y vault\n```\n\n### Manual Binary Installation\n```bash\n# Download latest Vault\nVAULT_VERSION=\"1.14.1\"\ncd /tmp\nwget https://releases.hashicorp.com/vault/${VAULT_VERSION}/vault_${VAULT_VERSION}_linux_amd64.zip\n\n# Install\nsudo apt install -y unzip  # or yum install -y unzip\nunzip vault_${VAULT_VERSION}_linux_amd64.zip\nsudo mv vault /usr/local/bin/\nsudo chmod +x /usr/local/bin/vault\n\n# Create vault user\nsudo useradd --system --home /etc/vault.d --shell /bin/false vault\n```\n\n### Using Docker\n```bash\n# Create directories for persistent data\nmkdir -p ~/vault/{data,config,logs}\n\n# Create basic configuration\ncat \u003e ~/vault/config/vault.hcl \u003c\u003cEOF\nui = true\ndisable_mlock = true\n\nstorage \"file\" {\n  path = \"/vault/data\"\n}\n\nlistener \"tcp\" {\n  address     = \"0.0.0.0:8200\"\n  tls_disable = true\n}\n\napi_addr = \"http://0.0.0.0:8200\"\ncluster_addr = \"https://0.0.0.0:8201\"\nEOF\n\n# Run Vault container\ndocker run -d \\\n  --name vault \\\n  --restart unless-stopped \\\n  -p 8200:8200 \\\n  -v ~/vault/data:/vault/data \\\n  -v ~/vault/config:/vault/config \\\n  -v ~/vault/logs:/vault/logs \\\n  --cap-add=IPC_LOCK \\\n  vault:latest server -config=/vault/config/vault.hcl\n```\n\n## Configuration\n\n### Basic Configuration File\n```bash\n# Create Vault configuration directory\nsudo mkdir -p /etc/vault.d\nsudo chown -R vault:vault /etc/vault.d\n\n# Create main configuration\nsudo tee /etc/vault.d/vault.hcl \u003e /dev/null \u003c\u003cEOF\n# Full configuration options: https://www.vaultproject.io/docs/configuration\n\nui = true\ndisable_mlock = true\n\n# Storage backend\nstorage \"file\" {\n  path = \"/opt/vault/data\"\n}\n\n# HTTPS listener\nlistener \"tcp\" {\n  address       = \"0.0.0.0:8200\"\n  tls_cert_file = \"/opt/vault/tls/tls.crt\"\n  tls_key_file  = \"/opt/vault/tls/tls.key\"\n}\n\n# HTTP listener (disable in production)\nlistener \"tcp\" {\n  address     = \"127.0.0.1:8201\"\n  tls_disable = true\n}\n\n# Enterprise license (if applicable)\n# license_path = \"/etc/vault.d/vault.hclic\"\n\n# API address\napi_addr = \"https://127.0.0.1:8200\"\n\n# Cluster address  \ncluster_addr = \"https://127.0.0.1:8201\"\n\n# Logging\nlog_level = \"INFO\"\nlog_file  = \"/var/log/vault/vault.log\"\nEOF\n\n# Create data directory\nsudo mkdir -p /opt/vault/{data,tls}\nsudo chown -R vault:vault /opt/vault\n\n# Create log directory\nsudo mkdir -p /var/log/vault\nsudo chown vault:vault /var/log/vault\n```\n\n### SSL/TLS Certificate Setup\n```bash\n# Generate self-signed certificate for development\nsudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 \\\n  -keyout /opt/vault/tls/tls.key \\\n  -out /opt/vault/tls/tls.crt \\\n  -subj \"/C=US/ST=State/L=City/O=Organization/CN=vault.example.com\"\n\nsudo chown vault:vault /opt/vault/tls/*\nsudo chmod 600 /opt/vault/tls/tls.key\nsudo chmod 644 /opt/vault/tls/tls.crt\n\n# For production, use Let's Encrypt\nsudo apt install -y certbot\nsudo certbot certonly --standalone -d vault.example.com\nsudo cp /etc/letsencrypt/live/vault.example.com/fullchain.pem /opt/vault/tls/tls.crt\nsudo cp /etc/letsencrypt/live/vault.example.com/privkey.pem /opt/vault/tls/tls.key\nsudo chown vault:vault /opt/vault/tls/*\n```\n\n### SystemD Service\n```bash\n# Create systemd service\nsudo tee /etc/systemd/system/vault.service \u003e /dev/null \u003c\u003cEOF\n[Unit]\nDescription=\"HashiCorp Vault - A tool for managing secrets\"\nDocumentation=https://www.vaultproject.io/docs/\nRequires=network-online.target\nAfter=network-online.target\nConditionFileNotEmpty=/etc/vault.d/vault.hcl\nStartLimitIntervalSec=60\nStartLimitBurst=3\n\n[Service]\nType=notify\nUser=vault\nGroup=vault\nProtectSystem=full\nProtectHome=read-only\nPrivateTmp=yes\nPrivateDevices=yes\nSecureBits=keep-caps\nAmbientCapabilities=CAP_IPC_LOCK\nCapabilityBoundingSet=CAP_SYSLOG CAP_IPC_LOCK\nNoNewPrivileges=yes\nExecStart=/usr/local/bin/vault server -config=/etc/vault.d/vault.hcl\nExecReload=/bin/kill --signal HUP $MAINPID\nKillMode=process\nRestart=on-failure\nRestartSec=5\nTimeoutStopSec=30\nStartLimitInterval=60\nStartLimitBurst=3\nLimitNOFILE=65536\nLimitMEMLOCK=infinity\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n# Enable and start Vault\nsudo systemctl daemon-reload\nsudo systemctl enable --now vault\n```\n\n## Initial Setup and Unsealing\n\n```bash\n# Initialize Vault (one-time setup)\nexport VAULT_ADDR='http://127.0.0.1:8200'\nvault operator init\n\n# Save the unseal keys and root token securely!\n# Example output:\n# Unseal Key 1: key1...\n# Unseal Key 2: key2...\n# Unseal Key 3: key3...\n# Initial Root Token: hvs.token...\n\n# Unseal Vault (required after every restart)\nvault operator unseal KEY1\nvault operator unseal KEY2  \nvault operator unseal KEY3\n\n# Login with root token\nvault auth ROOT_TOKEN\n\n# Check status\nvault status\n```\n\n## Basic Usage\n\n### Authentication Methods\n```bash\n# Enable userpass authentication\nvault auth enable userpass\n\n# Create user\nvault write auth/userpass/users/admin password=secure_password policies=admin\n\n# Enable GitHub authentication\nvault auth enable github\nvault write auth/github/config organization=your-org\n\n# Login with different methods\nvault auth -method=userpass username=admin\nvault auth -method=github token=github_token\n```\n\n### Secrets Management\n```bash\n# Enable KV secrets engine\nvault secrets enable -version=2 kv\n\n# Store secrets\nvault kv put secret/myapp/config \\\n  username=admin \\\n  password=secure_password \\\n  api_key=abc123\n\n# Read secrets\nvault kv get secret/myapp/config\nvault kv get -field=password secret/myapp/config\n\n# Update secrets\nvault kv put secret/myapp/config \\\n  username=admin \\\n  password=new_password \\\n  api_key=def456\n\n# Delete secrets\nvault kv delete secret/myapp/config\n\n# List secrets\nvault kv list secret/\n```\n\n### Policies\n```bash\n# Create policy file\ncat \u003e admin-policy.hcl \u003c\u003cEOF\n# Admin policy\npath \"*\" {\n  capabilities = [\"create\", \"read\", \"update\", \"delete\", \"list\", \"sudo\"]\n}\nEOF\n\n# Apply policy\nvault policy write admin admin-policy.hcl\n\n# Create read-only policy\ncat \u003e readonly-policy.hcl \u003c\u003cEOF\n# Read-only access to secrets\npath \"secret/data/*\" {\n  capabilities = [\"read\", \"list\"]\n}\nEOF\n\nvault policy write readonly readonly-policy.hcl\n\n# List policies\nvault policy list\nvault policy read admin\n```\n\n### Database Secrets Engine\n```bash\n# Enable database secrets engine\nvault secrets enable database\n\n# Configure MySQL connection\nvault write database/config/mysql \\\n  plugin_name=mysql-database-plugin \\\n  connection_url=\"{{username}}:{{password}}@tcp(mysql.example.com:3306)/\" \\\n  allowed_roles=\"mysql-role\" \\\n  username=\"vault\" \\\n  password=\"vault-password\"\n\n# Create role for dynamic credentials\nvault write database/roles/mysql-role \\\n  db_name=mysql \\\n  creation_statements=\"CREATE USER '{{name}}'@'%' IDENTIFIED BY '{{password}}';GRANT SELECT ON *.* TO '{{name}}'@'%';\" \\\n  default_ttl=\"1h\" \\\n  max_ttl=\"24h\"\n\n# Generate dynamic credentials\nvault read database/creds/mysql-role\n```\n\n## High Availability Setup\n\n### Consul Backend\n```bash\n# Install Consul\nsudo apt install -y consul\n\n# Configure Vault with Consul backend\nsudo tee /etc/vault.d/vault-ha.hcl \u003e /dev/null \u003c\u003cEOF\nui = true\ndisable_mlock = true\n\nstorage \"consul\" {\n  address = \"127.0.0.1:8500\"\n  path    = \"vault/\"\n}\n\nlistener \"tcp\" {\n  address     = \"0.0.0.0:8200\"\n  tls_cert_file = \"/opt/vault/tls/tls.crt\"\n  tls_key_file  = \"/opt/vault/tls/tls.key\"\n}\n\napi_addr = \"https://vault-1.example.com:8200\"\ncluster_addr = \"https://vault-1.example.com:8201\"\nEOF\n```\n\n## Backup and Recovery\n\n```bash\n# Create backup script\nsudo tee /usr/local/bin/vault-backup.sh \u003e /dev/null \u003c\u003c'EOF'\n#!/bin/bash\nBACKUP_DIR=\"/backup/vault\"\nDATE=$(date +%Y%m%d_%H%M%S)\n\nmkdir -p ${BACKUP_DIR}\n\n# Create snapshot (Enterprise feature)\n# vault operator raft snapshot save ${BACKUP_DIR}/vault-snapshot-${DATE}.snap\n\n# For OSS version, backup storage backend data\nif [ -d \"/opt/vault/data\" ]; then\n    tar -czf ${BACKUP_DIR}/vault-data-${DATE}.tar.gz -C /opt/vault data\nfi\n\n# Keep only last 7 backups\nfind ${BACKUP_DIR} -name \"vault-*-*.tar.gz\" -type f -mtime +7 -delete\n\necho \"Backup completed: vault-data-${DATE}.tar.gz\"\nEOF\n\nsudo chmod +x /usr/local/bin/vault-backup.sh\n\n# Schedule daily backup\necho \"0 2 * * * root /usr/local/bin/vault-backup.sh\" | sudo tee -a /etc/crontab\n```\n\n## Firewall Configuration\n\n```bash\n# UFW (Ubuntu/Debian)\nsudo ufw allow 8200/tcp   # Vault API\nsudo ufw allow 8201/tcp   # Vault cluster communication\nsudo ufw enable\n\n# Firewalld (RHEL/CentOS)\nsudo firewall-cmd --permanent --add-port=8200/tcp\nsudo firewall-cmd --permanent --add-port=8201/tcp\nsudo firewall-cmd --reload\n```\n\n## Verification\n\n```bash\n# Check Vault status\nvault status\n\n# Check systemd service\nsudo systemctl status vault\n\n# Test API connectivity\ncurl -s http://127.0.0.1:8200/v1/sys/health | jq\n\n# Check authentication methods\nvault auth list\n\n# Check secrets engines\nvault secrets list\n\n# Check policies\nvault policy list\n\n# Check audit devices\nvault audit list\n\n# View server logs\nsudo journalctl -u vault -f\n\n# Check seal status\nvault operator key-status\n```\n\n## Security Best Practices\n\n```bash\n# Enable audit logging\nvault audit enable file file_path=/var/log/vault/audit.log\n\n# Create separate policies for different roles\ncat \u003e developer-policy.hcl \u003c\u003cEOF\n# Developers can read/write to dev secrets\npath \"secret/data/dev/*\" {\n  capabilities = [\"create\", \"read\", \"update\", \"delete\", \"list\"]\n}\n\n# Read-only access to shared secrets\npath \"secret/data/shared/*\" {\n  capabilities = [\"read\", \"list\"]\n}\nEOF\n\nvault policy write developer developer-policy.hcl\n\n# Set up auto-unseal with cloud KMS (production)\n# AWS KMS example\nvault write sys/config/seal/awskms \\\n  region=\"us-west-2\" \\\n  access_key=\"YOUR_ACCESS_KEY\" \\\n  secret_key=\"YOUR_SECRET_KEY\" \\\n  kms_key_id=\"alias/vault-unseal-key\"\n\n# Enable periodic token renewal\nvault write auth/token/roles/auto-renew \\\n  allowed_policies=\"developer\" \\\n  orphan=true \\\n  period=\"24h\" \\\n  renewable=true\n```\n\n## Integration Examples\n\n### Application Integration\n```bash\n# Using Vault Agent for automatic authentication\ncat \u003e /etc/vault-agent.hcl \u003c\u003cEOF\nexit_after_auth = false\npid_file = \"./pidfile\"\n\nauto_auth {\n  method \"aws\" {\n    mount_path = \"auth/aws\"\n    config = {\n      type = \"iam\"\n      role = \"vault-role\"\n    }\n  }\n\n  sink \"file\" {\n    config = {\n      path = \"/tmp/vault-token-via-agent\"\n    }\n  }\n}\n\ncache {\n  use_auto_auth_token = true\n}\n\nlistener \"tcp\" {\n  address = \"127.0.0.1:8100\"\n  tls_disable = true\n}\n\ntemplate {\n  source      = \"/opt/vault/templates/config.json.tpl\"\n  destination = \"/opt/app/config.json\"\n  perms       = 0640\n  command     = \"systemctl reload myapp\"\n}\nEOF\n\n# Start Vault Agent\nvault agent -config=/etc/vault-agent.hcl\n```\n\n### Kubernetes Integration\n```bash\n# Enable Kubernetes auth method\nvault auth enable kubernetes\n\n# Configure Kubernetes auth\nvault write auth/kubernetes/config \\\n  token_reviewer_jwt=\"$(cat /var/run/secrets/kubernetes.io/serviceaccount/token)\" \\\n  kubernetes_host=https://${KUBERNETES_PORT_443_TCP_ADDR}:443 \\\n  kubernetes_ca_cert=@/var/run/secrets/kubernetes.io/serviceaccount/ca.crt\n\n# Create role for Kubernetes service accounts\nvault write auth/kubernetes/role/myapp \\\n  bound_service_account_names=vault \\\n  bound_service_account_namespaces=default \\\n  policies=myapp-policy \\\n  ttl=24h\n```\n\n## Troubleshooting\n\n```bash\n# Check Vault logs\nsudo journalctl -u vault -f\n\n# Debug mode\nsudo systemctl stop vault\nsudo -u vault vault server -config=/etc/vault.d/vault.hcl -log-level=debug\n\n# Check seal status\nvault operator key-status\n\n# Check storage backend\nvault operator raft list-peers  # For raft storage\nconsul kv get -recurse vault/   # For consul storage\n\n# Test connectivity\ncurl -s http://127.0.0.1:8200/v1/sys/health\n\n# Check performance\nvault operator usage\n\n# Rotate encryption key\nvault operator rotate\n\n# Check configuration\nvault operator diagnose -config=/etc/vault.d/vault.hcl\n```\n\n## Additional Resources\n\n- [Official Documentation](https://www.vaultproject.io/docs)\n- [API Documentation](https://www.vaultproject.io/api-docs)\n- [Best Practices](https://learn.hashicorp.com/tutorials/vault/production-hardening)\n- [Vault Guides](https://learn.hashicorp.com/vault)\n- [Community Forum](https://discuss.hashicorp.com/c/vault)\n\n---\n\n**Note:** This guide is part of the [HowToMgr](https://howtomgr.github.io) collection.","readmeHtml":"\u003ch1 id=\"hashicorp-vault-installation-guide\" class=\"mobile-header\"\u003eHashiCorp Vault Installation Guide\u003c/h1\u003e\n\u003cp class=\"mobile-paragraph\"\u003eSecrets management platform for securely storing and accessing API keys, passwords, certificates, and other sensitive data.\u003c/p\u003e\n\u003ch2 id=\"prerequisites\" class=\"mobile-header\"\u003ePrerequisites\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003eLinux system (Ubuntu/Debian, RHEL/CentOS, or compatible)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eRoot or sudo access\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e2GB RAM minimum, 4GB recommended\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePersistent storage for Vault data\u003c/li\u003e\n\u003ch2 id=\"installation\" class=\"mobile-header\"\u003eInstallation\u003c/h2\u003e\n\u003ch3 id=\"using-package-manager-recommended\" class=\"mobile-header\"\u003eUsing Package Manager (Recommended)\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Ubuntu/Debian\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Add HashiCorp GPG key\nwget -O- https://apt.releases.hashicorp.com/gpg | sudo gpg --dearmor -o /usr/share/keyrings/hashicorp-archive-keyring.gpg\n\n# Add HashiCorp repository\necho \u0026quot;deb [signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(lsb_release -cs) main\u0026quot; | sudo tee /etc/apt/sources.list.d/hashicorp.list\n\n# Update and install\nsudo apt update\nsudo apt install -y vault\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### RHEL/CentOS/Rocky Linux\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Add HashiCorp repository\nsudo yum install -y yum-utils\nsudo yum-config-manager --add-repo https://rpm.releases.hashicorp.com/RHEL/hashicorp.repo\n\n# Install Vault\nsudo yum install -y vault\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"manual-binary-installation\" class=\"mobile-header\"\u003eManual Binary Installation\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Download latest Vault\nVAULT_VERSION=\u0026quot;1.14.1\u0026quot;\ncd /tmp\nwget https://releases.hashicorp.com/vault/${VAULT_VERSION}/vault_${VAULT_VERSION}_linux_amd64.zip\n\n# Install\nsudo apt install -y unzip  # or yum install -y unzip\nunzip vault_${VAULT_VERSION}_linux_amd64.zip\nsudo mv vault /usr/local/bin/\nsudo chmod +x /usr/local/bin/vault\n\n# Create vault user\nsudo useradd --system --home /etc/vault.d --shell /bin/false vault\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"using-docker\" class=\"mobile-header\"\u003eUsing Docker\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create directories for persistent data\nmkdir -p ~/vault/{data,config,logs}\n\n# Create basic configuration\ncat \u0026gt; ~/vault/config/vault.hcl \u0026lt;\u0026lt;EOF\nui = true\ndisable_mlock = true\n\nstorage \u0026quot;file\u0026quot; {\n  path = \u0026quot;/vault/data\u0026quot;\n}\n\nlistener \u0026quot;tcp\u0026quot; {\n  address     = \u0026quot;0.0.0.0:8200\u0026quot;\n  tls_disable = true\n}\n\napi_addr = \u0026quot;http://0.0.0.0:8200\u0026quot;\ncluster_addr = \u0026quot;https://0.0.0.0:8201\u0026quot;\nEOF\n\n# Run Vault container\ndocker run -d \\\n  --name vault \\\n  --restart unless-stopped \\\n  -p 8200:8200 \\\n  -v ~/vault/data:/vault/data \\\n  -v ~/vault/config:/vault/config \\\n  -v ~/vault/logs:/vault/logs \\\n  --cap-add=IPC_LOCK \\\n  vault:latest server -config=/vault/config/vault.hcl\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"configuration\" class=\"mobile-header\"\u003eConfiguration\u003c/h2\u003e\n\u003ch3 id=\"basic-configuration-file\" class=\"mobile-header\"\u003eBasic Configuration File\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create Vault configuration directory\nsudo mkdir -p /etc/vault.d\nsudo chown -R vault:vault /etc/vault.d\n\n# Create main configuration\nsudo tee /etc/vault.d/vault.hcl \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n# Full configuration options: https://www.vaultproject.io/docs/configuration\n\nui = true\ndisable_mlock = true\n\n# Storage backend\nstorage \u0026quot;file\u0026quot; {\n  path = \u0026quot;/opt/vault/data\u0026quot;\n}\n\n# HTTPS listener\nlistener \u0026quot;tcp\u0026quot; {\n  address       = \u0026quot;0.0.0.0:8200\u0026quot;\n  tls_cert_file = \u0026quot;/opt/vault/tls/tls.crt\u0026quot;\n  tls_key_file  = \u0026quot;/opt/vault/tls/tls.key\u0026quot;\n}\n\n# HTTP listener (disable in production)\nlistener \u0026quot;tcp\u0026quot; {\n  address     = \u0026quot;127.0.0.1:8201\u0026quot;\n  tls_disable = true\n}\n\n# Enterprise license (if applicable)\n# license_path = \u0026quot;/etc/vault.d/vault.hclic\u0026quot;\n\n# API address\napi_addr = \u0026quot;https://127.0.0.1:8200\u0026quot;\n\n# Cluster address  \ncluster_addr = \u0026quot;https://127.0.0.1:8201\u0026quot;\n\n# Logging\nlog_level = \u0026quot;INFO\u0026quot;\nlog_file  = \u0026quot;/var/log/vault/vault.log\u0026quot;\nEOF\n\n# Create data directory\nsudo mkdir -p /opt/vault/{data,tls}\nsudo chown -R vault:vault /opt/vault\n\n# Create log directory\nsudo mkdir -p /var/log/vault\nsudo chown vault:vault /var/log/vault\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"ssltls-certificate-setup\" class=\"mobile-header\"\u003eSSL/TLS Certificate Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Generate self-signed certificate for development\nsudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 \\\n  -keyout /opt/vault/tls/tls.key \\\n  -out /opt/vault/tls/tls.crt \\\n  -subj \u0026quot;/C=US/ST=State/L=City/O=Organization/CN=vault.example.com\u0026quot;\n\nsudo chown vault:vault /opt/vault/tls/*\nsudo chmod 600 /opt/vault/tls/tls.key\nsudo chmod 644 /opt/vault/tls/tls.crt\n\n# For production, use Let\u0026#039;s Encrypt\nsudo apt install -y certbot\nsudo certbot certonly --standalone -d vault.example.com\nsudo cp /etc/letsencrypt/live/vault.example.com/fullchain.pem /opt/vault/tls/tls.crt\nsudo cp /etc/letsencrypt/live/vault.example.com/privkey.pem /opt/vault/tls/tls.key\nsudo chown vault:vault /opt/vault/tls/*\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"systemd-service\" class=\"mobile-header\"\u003eSystemD Service\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create systemd service\nsudo tee /etc/systemd/system/vault.service \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n[Unit]\nDescription=\u0026quot;HashiCorp Vault - A tool for managing secrets\u0026quot;\nDocumentation=https://www.vaultproject.io/docs/\nRequires=network-online.target\nAfter=network-online.target\nConditionFileNotEmpty=/etc/vault.d/vault.hcl\nStartLimitIntervalSec=60\nStartLimitBurst=3\n\n[Service]\nType=notify\nUser=vault\nGroup=vault\nProtectSystem=full\nProtectHome=read-only\nPrivateTmp=yes\nPrivateDevices=yes\nSecureBits=keep-caps\nAmbientCapabilities=CAP_IPC_LOCK\nCapabilityBoundingSet=CAP_SYSLOG CAP_IPC_LOCK\nNoNewPrivileges=yes\nExecStart=/usr/local/bin/vault server -config=/etc/vault.d/vault.hcl\nExecReload=/bin/kill --signal HUP $MAINPID\nKillMode=process\nRestart=on-failure\nRestartSec=5\nTimeoutStopSec=30\nStartLimitInterval=60\nStartLimitBurst=3\nLimitNOFILE=65536\nLimitMEMLOCK=infinity\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n# Enable and start Vault\nsudo systemctl daemon-reload\nsudo systemctl enable --now vault\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"initial-setup-and-unsealing\" class=\"mobile-header\"\u003eInitial Setup and Unsealing\u003c/h2\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Initialize Vault (one-time setup)\nexport VAULT_ADDR=\u0026#039;http://127.0.0.1:8200\u0026#039;\nvault operator init\n\n# Save the unseal keys and root token securely!\n# Example output:\n# Unseal Key 1: key1...\n# Unseal Key 2: key2...\n# Unseal Key 3: key3...\n# Initial Root Token: hvs.token...\n\n# Unseal Vault (required after every restart)\nvault operator unseal KEY1\nvault operator unseal KEY2  \nvault operator unseal KEY3\n\n# Login with root token\nvault auth ROOT_TOKEN\n\n# Check status\nvault status\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"basic-usage\" class=\"mobile-header\"\u003eBasic Usage\u003c/h2\u003e\n\u003ch3 id=\"authentication-methods\" class=\"mobile-header\"\u003eAuthentication Methods\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable userpass authentication\nvault auth enable userpass\n\n# Create user\nvault write auth/userpass/users/admin password=secure_password policies=admin\n\n# Enable GitHub authentication\nvault auth enable github\nvault write auth/github/config organization=your-org\n\n# Login with different methods\nvault auth -method=userpass username=admin\nvault auth -method=github token=github_token\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"secrets-management\" class=\"mobile-header\"\u003eSecrets Management\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable KV secrets engine\nvault secrets enable -version=2 kv\n\n# Store secrets\nvault kv put secret/myapp/config \\\n  username=admin \\\n  password=secure_password \\\n  api_key=abc123\n\n# Read secrets\nvault kv get secret/myapp/config\nvault kv get -field=password secret/myapp/config\n\n# Update secrets\nvault kv put secret/myapp/config \\\n  username=admin \\\n  password=new_password \\\n  api_key=def456\n\n# Delete secrets\nvault kv delete secret/myapp/config\n\n# List secrets\nvault kv list secret/\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"policies\" class=\"mobile-header\"\u003ePolicies\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create policy file\ncat \u0026gt; admin-policy.hcl \u0026lt;\u0026lt;EOF\n# Admin policy\npath \u0026quot;*\u0026quot; {\n  capabilities = [\u0026quot;create\u0026quot;, \u0026quot;read\u0026quot;, \u0026quot;update\u0026quot;, \u0026quot;delete\u0026quot;, \u0026quot;list\u0026quot;, \u0026quot;sudo\u0026quot;]\n}\nEOF\n\n# Apply policy\nvault policy write admin admin-policy.hcl\n\n# Create read-only policy\ncat \u0026gt; readonly-policy.hcl \u0026lt;\u0026lt;EOF\n# Read-only access to secrets\npath \u0026quot;secret/data/*\u0026quot; {\n  capabilities = [\u0026quot;read\u0026quot;, \u0026quot;list\u0026quot;]\n}\nEOF\n\nvault policy write readonly readonly-policy.hcl\n\n# List policies\nvault policy list\nvault policy read admin\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"database-secrets-engine\" class=\"mobile-header\"\u003eDatabase Secrets Engine\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable database secrets engine\nvault secrets enable database\n\n# Configure MySQL connection\nvault write database/config/mysql \\\n  plugin_name=mysql-database-plugin \\\n  connection_url=\u0026quot;{{username}}:{{password}}@tcp(mysql.example.com:3306)/\u0026quot; \\\n  allowed_roles=\u0026quot;mysql-role\u0026quot; \\\n  username=\u0026quot;vault\u0026quot; \\\n  password=\u0026quot;vault-password\u0026quot;\n\n# Create role for dynamic credentials\nvault write database/roles/mysql-role \\\n  db_name=mysql \\\n  creation_statements=\u0026quot;CREATE USER \u0026#039;{{name}}\u0026#039;@\u0026#039;%\u0026#039; IDENTIFIED BY \u0026#039;{{password}}\u0026#039;;GRANT SELECT ON *.* TO \u0026#039;{{name}}\u0026#039;@\u0026#039;%\u0026#039;;\u0026quot; \\\n  default_ttl=\u0026quot;1h\u0026quot; \\\n  max_ttl=\u0026quot;24h\u0026quot;\n\n# Generate dynamic credentials\nvault read database/creds/mysql-role\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"high-availability-setup\" class=\"mobile-header\"\u003eHigh Availability Setup\u003c/h2\u003e\n\u003ch3 id=\"consul-backend\" class=\"mobile-header\"\u003eConsul Backend\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Consul\nsudo apt install -y consul\n\n# Configure Vault with Consul backend\nsudo tee /etc/vault.d/vault-ha.hcl \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\nui = true\ndisable_mlock = true\n\nstorage \u0026quot;consul\u0026quot; {\n  address = \u0026quot;127.0.0.1:8500\u0026quot;\n  path    = \u0026quot;vault/\u0026quot;\n}\n\nlistener \u0026quot;tcp\u0026quot; {\n  address     = \u0026quot;0.0.0.0:8200\u0026quot;\n  tls_cert_file = \u0026quot;/opt/vault/tls/tls.crt\u0026quot;\n  tls_key_file  = \u0026quot;/opt/vault/tls/tls.key\u0026quot;\n}\n\napi_addr = \u0026quot;https://vault-1.example.com:8200\u0026quot;\ncluster_addr = \u0026quot;https://vault-1.example.com:8201\u0026quot;\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"backup-and-recovery\" class=\"mobile-header\"\u003eBackup and Recovery\u003c/h2\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create backup script\nsudo tee /usr/local/bin/vault-backup.sh \u0026gt; /dev/null \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\nBACKUP_DIR=\u0026quot;/backup/vault\u0026quot;\nDATE=$(date +%Y%m%d_%H%M%S)\n\nmkdir -p ${BACKUP_DIR}\n\n# Create snapshot (Enterprise feature)\n# vault operator raft snapshot save ${BACKUP_DIR}/vault-snapshot-${DATE}.snap\n\n# For OSS version, backup storage backend data\nif [ -d \u0026quot;/opt/vault/data\u0026quot; ]; then\n    tar -czf ${BACKUP_DIR}/vault-data-${DATE}.tar.gz -C /opt/vault data\nfi\n\n# Keep only last 7 backups\nfind ${BACKUP_DIR} -name \u0026quot;vault-*-*.tar.gz\u0026quot; -type f -mtime +7 -delete\n\necho \u0026quot;Backup completed: vault-data-${DATE}.tar.gz\u0026quot;\nEOF\n\nsudo chmod +x /usr/local/bin/vault-backup.sh\n\n# Schedule daily backup\necho \u0026quot;0 2 * * * root /usr/local/bin/vault-backup.sh\u0026quot; | sudo tee -a /etc/crontab\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"firewall-configuration\" class=\"mobile-header\"\u003eFirewall Configuration\u003c/h2\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# UFW (Ubuntu/Debian)\nsudo ufw allow 8200/tcp   # Vault API\nsudo ufw allow 8201/tcp   # Vault cluster communication\nsudo ufw enable\n\n# Firewalld (RHEL/CentOS)\nsudo firewall-cmd --permanent --add-port=8200/tcp\nsudo firewall-cmd --permanent --add-port=8201/tcp\nsudo firewall-cmd --reload\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"verification\" class=\"mobile-header\"\u003eVerification\u003c/h2\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check Vault status\nvault status\n\n# Check systemd service\nsudo systemctl status vault\n\n# Test API connectivity\ncurl -s http://127.0.0.1:8200/v1/sys/health | jq\n\n# Check authentication methods\nvault auth list\n\n# Check secrets engines\nvault secrets list\n\n# Check policies\nvault policy list\n\n# Check audit devices\nvault audit list\n\n# View server logs\nsudo journalctl -u vault -f\n\n# Check seal status\nvault operator key-status\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"security-best-practices\" class=\"mobile-header\"\u003eSecurity Best Practices\u003c/h2\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable audit logging\nvault audit enable file file_path=/var/log/vault/audit.log\n\n# Create separate policies for different roles\ncat \u0026gt; developer-policy.hcl \u0026lt;\u0026lt;EOF\n# Developers can read/write to dev secrets\npath \u0026quot;secret/data/dev/*\u0026quot; {\n  capabilities = [\u0026quot;create\u0026quot;, \u0026quot;read\u0026quot;, \u0026quot;update\u0026quot;, \u0026quot;delete\u0026quot;, \u0026quot;list\u0026quot;]\n}\n\n# Read-only access to shared secrets\npath \u0026quot;secret/data/shared/*\u0026quot; {\n  capabilities = [\u0026quot;read\u0026quot;, \u0026quot;list\u0026quot;]\n}\nEOF\n\nvault policy write developer developer-policy.hcl\n\n# Set up auto-unseal with cloud KMS (production)\n# AWS KMS example\nvault write sys/config/seal/awskms \\\n  region=\u0026quot;us-west-2\u0026quot; \\\n  access_key=\u0026quot;YOUR_ACCESS_KEY\u0026quot; \\\n  secret_key=\u0026quot;YOUR_SECRET_KEY\u0026quot; \\\n  kms_key_id=\u0026quot;alias/vault-unseal-key\u0026quot;\n\n# Enable periodic token renewal\nvault write auth/token/roles/auto-renew \\\n  allowed_policies=\u0026quot;developer\u0026quot; \\\n  orphan=true \\\n  period=\u0026quot;24h\u0026quot; \\\n  renewable=true\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"integration-examples\" class=\"mobile-header\"\u003eIntegration Examples\u003c/h2\u003e\n\u003ch3 id=\"application-integration\" class=\"mobile-header\"\u003eApplication Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using Vault Agent for automatic authentication\ncat \u0026gt; /etc/vault-agent.hcl \u0026lt;\u0026lt;EOF\nexit_after_auth = false\npid_file = \u0026quot;./pidfile\u0026quot;\n\nauto_auth {\n  method \u0026quot;aws\u0026quot; {\n    mount_path = \u0026quot;auth/aws\u0026quot;\n    config = {\n      type = \u0026quot;iam\u0026quot;\n      role = \u0026quot;vault-role\u0026quot;\n    }\n  }\n\n  sink \u0026quot;file\u0026quot; {\n    config = {\n      path = \u0026quot;/tmp/vault-token-via-agent\u0026quot;\n    }\n  }\n}\n\ncache {\n  use_auto_auth_token = true\n}\n\nlistener \u0026quot;tcp\u0026quot; {\n  address = \u0026quot;127.0.0.1:8100\u0026quot;\n  tls_disable = true\n}\n\ntemplate {\n  source      = \u0026quot;/opt/vault/templates/config.json.tpl\u0026quot;\n  destination = \u0026quot;/opt/app/config.json\u0026quot;\n  perms       = 0640\n  command     = \u0026quot;systemctl reload myapp\u0026quot;\n}\nEOF\n\n# Start Vault Agent\nvault agent -config=/etc/vault-agent.hcl\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"kubernetes-integration\" class=\"mobile-header\"\u003eKubernetes Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable Kubernetes auth method\nvault auth enable kubernetes\n\n# Configure Kubernetes auth\nvault write auth/kubernetes/config \\\n  token_reviewer_jwt=\u0026quot;$(cat /var/run/secrets/kubernetes.io/serviceaccount/token)\u0026quot; \\\n  kubernetes_host=https://${KUBERNETES_PORT_443_TCP_ADDR}:443 \\\n  kubernetes_ca_cert=@/var/run/secrets/kubernetes.io/serviceaccount/ca.crt\n\n# Create role for Kubernetes service accounts\nvault write auth/kubernetes/role/myapp \\\n  bound_service_account_names=vault \\\n  bound_service_account_namespaces=default \\\n  policies=myapp-policy \\\n  ttl=24h\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"troubleshooting\" class=\"mobile-header\"\u003eTroubleshooting\u003c/h2\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check Vault logs\nsudo journalctl -u vault -f\n\n# Debug mode\nsudo systemctl stop vault\nsudo -u vault vault server -config=/etc/vault.d/vault.hcl -log-level=debug\n\n# Check seal status\nvault operator key-status\n\n# Check storage backend\nvault operator raft list-peers  # For raft storage\nconsul kv get -recurse vault/   # For consul storage\n\n# Test connectivity\ncurl -s http://127.0.0.1:8200/v1/sys/health\n\n# Check performance\nvault operator usage\n\n# Rotate encryption key\nvault operator rotate\n\n# Check configuration\nvault operator diagnose -config=/etc/vault.d/vault.hcl\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"additional-resources\" class=\"mobile-header\"\u003eAdditional Resources\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.vaultproject.io/docs\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eOfficial Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.vaultproject.io/api-docs\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eAPI Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://learn.hashicorp.com/tutorials/vault/production-hardening\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eBest Practices\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://learn.hashicorp.com/vault\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eVault Guides\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://discuss.hashicorp.com/c/vault\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eCommunity Forum\u003c/a\u003e\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e---\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This guide is part of the \u003ca href=\"https://howtomgr.github.io\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eHowToMgr\u003c/a\u003e collection.\u003c/p\u003e","readTime":"8 min","wordCount":1506,"lastBuilt":"2025-09-14T00:58:21.922Z"},"category":{"key":"security","name":"Security","description":"Security tools and authentication systems","icon":"üîí","color":"#ff5555","keywords":["vault","authelia","keycloak","pihole","fail2ban","wireguard","openvpn"]},"relatedGuides":[{"name":"fail2ban","displayName":"Fail2ban","slug":"fail2ban","description":"Repo for fail2ban","category":"security","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/fail2ban","updatedAt":"2025-09-08T03:07:35Z","createdAt":"2025-09-08T03:07:24Z","readmeRaw":"## üëã Welcome to fail2ban üöÄ  \n\nfail2ban README  \n  \n  \n## Author  \n\nü§ñ casjay: [Github](https://github.com/casjay) ü§ñ  \n","readmeHtml":"\u003ch2 id=\"welcome-to-fail2ban\" class=\"mobile-header\"\u003eüëã Welcome to fail2ban üöÄ  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003efail2ban README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eü§ñ casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e ü§ñ  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T00:58:31.199Z"},{"name":"keycloak","displayName":"Keycloak","slug":"keycloak","description":"Repo for keycloak","category":"security","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/keycloak","updatedAt":"2025-09-08T03:10:05Z","createdAt":"2025-09-08T03:09:55Z","readmeRaw":"## üëã Welcome to keycloak üöÄ  \n\nkeycloak README  \n  \n  \n## Author  \n\nü§ñ casjay: [Github](https://github.com/casjay) ü§ñ  \n","readmeHtml":"\u003ch2 id=\"welcome-to-keycloak\" class=\"mobile-header\"\u003eüëã Welcome to keycloak üöÄ  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003ekeycloak README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eü§ñ casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e ü§ñ  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T00:58:29.022Z"},{"name":"openvpn","displayName":"Openvpn","slug":"openvpn","description":"Repo for openvpn","category":"security","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/openvpn","updatedAt":"2025-09-08T03:13:07Z","createdAt":"2025-09-08T03:12:57Z","readmeRaw":"## üëã Welcome to openvpn üöÄ  \n\nopenvpn README  \n  \n  \n## Author  \n\nü§ñ casjay: [Github](https://github.com/casjay) ü§ñ  \n","readmeHtml":"\u003ch2 id=\"welcome-to-openvpn\" class=\"mobile-header\"\u003eüëã Welcome to openvpn üöÄ  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eopenvpn README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eü§ñ casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e ü§ñ  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T00:58:26.068Z"}]},"__N_SSG":true},"page":"/[category]/[guide]","query":{"category":"security","guide":"vault"},"buildId":"gwB4j0n9ndF37HVylNSlu","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>