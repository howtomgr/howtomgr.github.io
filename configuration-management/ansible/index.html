<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" data-next-head=""/><meta name="theme-color" content="#bd93f9" data-next-head=""/><link rel="icon" href="/favicon.ico" data-next-head=""/><link rel="preconnect" href="https://fonts.googleapis.com" data-next-head=""/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true" data-next-head=""/><title class="jsx-6ca0ba86c5b4bb40" data-next-head="">Ansible Installation Guide Installation Guide - HowToMgr</title><meta name="description" content="Ansible is a free and open-source agentless automation platform for configuration management, application deployment, and task automation across multiple systems. Originally developed by Michael DeHaan and acquired by Red Hat, Ansible serves as the industry standard for infrastructure automation with enterprise-grade security and scalability. It provides a robust alternative to proprietary solutions like VMware vRealize Automation, Microsoft System Center, or Puppet Enterprise without vendor lock-in or licensing costs." class="jsx-6ca0ba86c5b4bb40" data-next-head=""/><meta name="keywords" content="installation guides, tutorials, linux, docker, kubernetes, mobile-first, responsive" class="jsx-6ca0ba86c5b4bb40" data-next-head=""/><meta property="og:title" content="Ansible Installation Guide Installation Guide - HowToMgr" class="jsx-6ca0ba86c5b4bb40" data-next-head=""/><meta property="og:description" content="Ansible is a free and open-source agentless automation platform for configuration management, application deployment, and task automation across multiple systems. Originally developed by Michael DeHaan and acquired by Red Hat, Ansible serves as the industry standard for infrastructure automation with enterprise-grade security and scalability. It provides a robust alternative to proprietary solutions like VMware vRealize Automation, Microsoft System Center, or Puppet Enterprise without vendor lock-in or licensing costs." class="jsx-6ca0ba86c5b4bb40" data-next-head=""/><meta property="og:type" content="website" class="jsx-6ca0ba86c5b4bb40" data-next-head=""/><meta property="og:url" content="https://howtomgr.github.io" class="jsx-6ca0ba86c5b4bb40" data-next-head=""/><meta property="og:image" content="https://howtomgr.github.io/social-preview.png" class="jsx-6ca0ba86c5b4bb40" data-next-head=""/><meta property="twitter:card" content="summary_large_image" class="jsx-6ca0ba86c5b4bb40" data-next-head=""/><meta property="twitter:title" content="Ansible Installation Guide Installation Guide - HowToMgr" class="jsx-6ca0ba86c5b4bb40" data-next-head=""/><meta property="twitter:description" content="Ansible is a free and open-source agentless automation platform for configuration management, application deployment, and task automation across multiple systems. Originally developed by Michael DeHaan and acquired by Red Hat, Ansible serves as the industry standard for infrastructure automation with enterprise-grade security and scalability. It provides a robust alternative to proprietary solutions like VMware vRealize Automation, Microsoft System Center, or Puppet Enterprise without vendor lock-in or licensing costs." class="jsx-6ca0ba86c5b4bb40" data-next-head=""/><link rel="dns-prefetch" href="//api.github.com"/><link rel="dns-prefetch" href="//github.com"/><link rel="preload" href="/favicon.ico" as="image"/><meta name="application-name" content="HowToMgr"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="default"/><meta name="apple-mobile-web-app-title" content="HowToMgr"/><meta name="format-detection" content="telephone=no"/><meta name="mobile-web-app-capable" content="yes"/><noscript><style>
            .requires-js { display: none !important; }
            .no-js-message { display: block !important; }
          </style></noscript><link rel="preload" href="/_next/static/css/8f63910774442189.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8f63910774442189.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-8cac0b4b405cede1.js" defer=""></script><script src="/_next/static/chunks/framework-a6e0b7e30f98059a.js" defer=""></script><script src="/_next/static/chunks/main-453f16463ca269d8.js" defer=""></script><script src="/_next/static/chunks/pages/_app-2c7289aecf732a54.js" defer=""></script><script src="/_next/static/chunks/473-0e819be9d34ec59b.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bcategory%5D/%5Bguide%5D-be5cb82ed6bf6435.js" defer=""></script><script src="/_next/static/ODDQ8JxgsZ5D1yHFFFDQR/_buildManifest.js" defer=""></script><script src="/_next/static/ODDQ8JxgsZ5D1yHFFFDQR/_ssgManifest.js" defer=""></script><style id="__jsx-64efd206b36bc2dd">.breadcrumb.jsx-64efd206b36bc2dd{display:flex;align-items:center;gap:var(--space-2);margin-bottom:var(--space-6);font-size:var(--font-sm);color:var(--text-secondary);overflow-x:auto;white-space:nowrap;-webkit-overflow-scrolling:touch}.breadcrumb.jsx-64efd206b36bc2dd a.jsx-64efd206b36bc2dd{color:var(--accent-primary);text-decoration:none;flex-shrink:0}.breadcrumb.jsx-64efd206b36bc2dd a.jsx-64efd206b36bc2dd:hover{text-decoration:underline}.separator.jsx-64efd206b36bc2dd{color:var(--text-muted);flex-shrink:0}.current.jsx-64efd206b36bc2dd{color:var(--text-primary);font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.guide-header.jsx-64efd206b36bc2dd{background:var(--bg-secondary);border-radius:var(--border-radius-lg);padding:var(--space-6);margin-bottom:var(--space-8);border:1px solid var(--bg-surface)}.guide-title.jsx-64efd206b36bc2dd{color:var(--accent-primary);font-size:var(--font-3xl);margin-bottom:var(--space-4);line-height:1.2;word-break:break-word}.guide-description.jsx-64efd206b36bc2dd{color:var(--text-secondary);font-size:var(--font-lg);margin-bottom:var(--space-5);line-height:1.5}.guide-badges.jsx-64efd206b36bc2dd{display:flex;gap:var(--space-3);margin-bottom:var(--space-5);flex-wrap:wrap}.guide-actions.jsx-64efd206b36bc2dd{display:flex;gap:var(--space-3);flex-wrap:wrap}.difficulty-beginner.jsx-64efd206b36bc2dd{background:var(--accent-secondary);color:var(--bg-primary)}.difficulty-intermediate.jsx-64efd206b36bc2dd{background:var(--accent-warning);color:var(--bg-primary)}.difficulty-advanced.jsx-64efd206b36bc2dd{background:var(--accent-error);color:var(--bg-primary)}.guide-content.jsx-64efd206b36bc2dd{background:var(--bg-secondary);border-radius:var(--border-radius-lg);padding:var(--space-6);margin-bottom:var(--space-8);border:1px solid var(--bg-surface);overflow-x:hidden}.related-section.jsx-64efd206b36bc2dd{margin-bottom:var(--space-8)}.section-title.jsx-64efd206b36bc2dd{color:var(--accent-primary);font-size:var(--font-2xl);text-align:center;margin-bottom:var(--space-6)}.guide-navigation.jsx-64efd206b36bc2dd{display:flex;gap:var(--space-4);justify-content:center;flex-wrap:wrap;margin-bottom:var(--space-8)}.loading-container.jsx-64efd206b36bc2dd,.error-container.jsx-64efd206b36bc2dd{text-align:center;padding:var(--space-8)}.error-actions.jsx-64efd206b36bc2dd{display:flex;gap:var(--space-4);justify-content:center;margin-top:var(--space-6);flex-wrap:wrap}.toc-level-1.jsx-64efd206b36bc2dd{font-weight:600}.toc-level-2.jsx-64efd206b36bc2dd{margin-left:var(--space-4)}.toc-level-3.jsx-64efd206b36bc2dd{margin-left:var(--space-8);font-size:var(--font-xs)}@media(max-width:767px){.guide-header.jsx-64efd206b36bc2dd{padding:var(--space-4);margin-bottom:var(--space-6)}.guide-title.jsx-64efd206b36bc2dd{font-size:var(--font-2xl)}.guide-description.jsx-64efd206b36bc2dd{font-size:var(--font-base)}.guide-content.jsx-64efd206b36bc2dd{padding:var(--space-4);margin-bottom:var(--space-6)}.guide-badges.jsx-64efd206b36bc2dd{gap:var(--space-2)}.guide-actions.jsx-64efd206b36bc2dd{flex-direction:column}.guide-navigation.jsx-64efd206b36bc2dd{flex-direction:column}.breadcrumb.jsx-64efd206b36bc2dd{margin-bottom:var(--space-4)}}</style><style id="__jsx-6ca0ba86c5b4bb40">.app-container.jsx-6ca0ba86c5b4bb40{min-height:100vh;display:flex;flex-direction:column;padding-top:56px}.main-content.jsx-6ca0ba86c5b4bb40{flex:1;padding:var(--space-6)0}.mobile-footer.jsx-6ca0ba86c5b4bb40{background:var(--bg-secondary);border-top:1px solid var(--bg-surface);padding:var(--space-6)0;margin-top:auto}.footer-content.jsx-6ca0ba86c5b4bb40{text-align:center}.footer-links.jsx-6ca0ba86c5b4bb40{display:flex;justify-content:center;gap:var(--space-6);margin-bottom:var(--space-4);flex-wrap:wrap}.footer-links.jsx-6ca0ba86c5b4bb40 a.jsx-6ca0ba86c5b4bb40{color:var(--accent-primary);text-decoration:none;font-size:var(--font-sm)}.footer-links.jsx-6ca0ba86c5b4bb40 a.jsx-6ca0ba86c5b4bb40:hover{color:var(--accent-secondary)}.footer-separator.jsx-6ca0ba86c5b4bb40{height:1px;background:var(--bg-surface);margin:var(--space-4)auto;width:200px}.footer-text.jsx-6ca0ba86c5b4bb40,.footer-tech.jsx-6ca0ba86c5b4bb40{color:var(--text-secondary);font-size:var(--font-sm);margin-bottom:var(--space-2)}.footer-disclaimer.jsx-6ca0ba86c5b4bb40{color:var(--text-muted);font-size:var(--font-xs)}.footer-updated.jsx-6ca0ba86c5b4bb40{color:var(--text-muted);font-size:var(--font-xs);margin-top:var(--space-2)}.nav-links.jsx-6ca0ba86c5b4bb40{display:flex;gap:var(--space-4)}.nav-link.jsx-6ca0ba86c5b4bb40{color:var(--text-primary);text-decoration:none;padding:var(--space-2)var(--space-3);border-radius:var(--border-radius);font-size:var(--font-sm);font-weight:500;transition:var(--transition);min-height:36px;display:flex;align-items:center}.nav-link.jsx-6ca0ba86c5b4bb40:hover{background:var(--bg-surface);color:var(--accent-primary);text-decoration:none}[data-theme="light"].jsx-6ca0ba86c5b4bb40 .theme-icon-dark.jsx-6ca0ba86c5b4bb40{display:none}[data-theme="light"].jsx-6ca0ba86c5b4bb40 .theme-icon-light.jsx-6ca0ba86c5b4bb40{display:inline!important}@media(max-width:767px){.main-content.jsx-6ca0ba86c5b4bb40{padding:var(--space-4)0}.footer-links.jsx-6ca0ba86c5b4bb40{gap:var(--space-4)}}</style></head><body><noscript><div class="no-js-message" style="padding:1rem;background:#ff5555;color:#f8f8f2;text-align:center;font-size:0.9rem">This site requires JavaScript to function properly. Please enable JavaScript in your browser.</div></noscript><div id="__next"><div class="jsx-6ca0ba86c5b4bb40 app-container"><a href="#main-content" class="jsx-6ca0ba86c5b4bb40 skip-link">Skip to main content</a><nav class="jsx-6ca0ba86c5b4bb40 mobile-nav"><div class="jsx-6ca0ba86c5b4bb40 mobile-nav-content"><a class="mobile-brand" href="/"><span role="img" aria-label="Books" class="jsx-6ca0ba86c5b4bb40">üìö</span>HowToMgr</a><div class="jsx-6ca0ba86c5b4bb40 nav-links"><a class="nav-link" href="/all/">All</a><a class="nav-link" href="/search/">Search</a></div><button aria-label="Toggle theme" title="Switch theme" class="jsx-6ca0ba86c5b4bb40 mobile-theme-toggle touch-target"><span class="jsx-6ca0ba86c5b4bb40 theme-icon-dark">üåô</span><span style="display:none" class="jsx-6ca0ba86c5b4bb40 theme-icon-light">‚òÄÔ∏è</span></button></div></nav><main id="main-content" tabindex="-1" class="jsx-6ca0ba86c5b4bb40 main-content"><div class="jsx-6ca0ba86c5b4bb40 container"><nav aria-label="Breadcrumb" class="jsx-64efd206b36bc2dd breadcrumb"><a href="/">Home</a><span class="jsx-64efd206b36bc2dd separator">‚Üí</span><a href="/configuration-management/">Configuration management</a><span class="jsx-64efd206b36bc2dd separator">‚Üí</span><span class="jsx-64efd206b36bc2dd current">Ansible Installation Guide</span></nav><header class="jsx-64efd206b36bc2dd guide-header"><div class="jsx-64efd206b36bc2dd guide-meta-top"><h1 class="jsx-64efd206b36bc2dd guide-title">Ansible Installation Guide</h1><p class="jsx-64efd206b36bc2dd guide-description">Ansible is a free and open-source agentless automation platform for configuration management, application deployment, and task automation across multiple systems. Originally developed by Michael DeHaan and acquired by Red Hat, Ansible serves as the industry standard for infrastructure automation with enterprise-grade security and scalability. It provides a robust alternative to proprietary solutions like VMware vRealize Automation, Microsoft System Center, or Puppet Enterprise without vendor lock-in or licensing costs.</p><div class="jsx-64efd206b36bc2dd guide-badges"><span class="jsx-64efd206b36bc2dd mobile-badge mobile-badge-primary">Configuration management</span><span class="jsx-64efd206b36bc2dd mobile-badge difficulty-intermediate">üü°<!-- --> <!-- -->intermediate</span><span class="jsx-64efd206b36bc2dd mobile-badge mobile-badge-info">52 min</span><span class="jsx-64efd206b36bc2dd mobile-badge mobile-badge-secondary">‚è±Ô∏è <!-- -->15-30 minutes</span></div><div class="jsx-64efd206b36bc2dd guide-actions"><a href="https://github.com/howtomgr/ansible" target="_blank" rel="noopener" class="jsx-64efd206b36bc2dd btn btn-secondary">View on GitHub</a></div></div></header><article class="jsx-64efd206b36bc2dd guide-content"><nav class="jsx-64efd206b36bc2dd toc"><h4 class="jsx-64efd206b36bc2dd">Table of Contents</h4><ul class="jsx-64efd206b36bc2dd"><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#1-prerequisites" class="jsx-64efd206b36bc2dd">1. Prerequisites</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#2-supported-operating-systems" class="jsx-64efd206b36bc2dd">2. Supported Operating Systems</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#3-installation" class="jsx-64efd206b36bc2dd">3. Installation</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#using-package-manager-recommended" class="jsx-64efd206b36bc2dd">Using Package Manager (Recommended)</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#using-pip-latest-version" class="jsx-64efd206b36bc2dd">Using pip (Latest Version)</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#using-docker" class="jsx-64efd206b36bc2dd">Using Docker</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#initial-configuration" class="jsx-64efd206b36bc2dd">Initial Configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#first-run-setup" class="jsx-64efd206b36bc2dd">First-Run Setup</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#testing-initial-setup" class="jsx-64efd206b36bc2dd">Testing Initial Setup</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#5-service-management" class="jsx-64efd206b36bc2dd">5. Service Management</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#ansible-controller-service-systemd" class="jsx-64efd206b36bc2dd">Ansible Controller Service (systemd)</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#ansible-towerawx-service-management" class="jsx-64efd206b36bc2dd">Ansible Tower/AWX Service Management</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#ansible-pull-service-for-pull-based-configuration" class="jsx-64efd206b36bc2dd">Ansible Pull Service (for Pull-based Configuration)</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#cross-platform-service-management" class="jsx-64efd206b36bc2dd">Cross-Platform Service Management</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#project-structure-and-configuration" class="jsx-64efd206b36bc2dd">Project Structure and Configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#professional-project-structure" class="jsx-64efd206b36bc2dd">Professional Project Structure</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#advanced-inventory-management" class="jsx-64efd206b36bc2dd">Advanced Inventory Management</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#ansible-vault-security" class="jsx-64efd206b36bc2dd">Ansible Vault Security</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#comprehensive-playbooks" class="jsx-64efd206b36bc2dd">Comprehensive Playbooks</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#system-hardening-playbook" class="jsx-64efd206b36bc2dd">System Hardening Playbook</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#application-deployment-playbook" class="jsx-64efd206b36bc2dd">Application Deployment Playbook</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#infrastructure-as-code-playbook" class="jsx-64efd206b36bc2dd">Infrastructure as Code Playbook</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#advanced-role-development" class="jsx-64efd206b36bc2dd">Advanced Role Development</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#comprehensive-nginx-role" class="jsx-64efd206b36bc2dd">Comprehensive NGINX Role</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#security-and-compliance" class="jsx-64efd206b36bc2dd">Security and Compliance</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#ansible-security-scanner-integration" class="jsx-64efd206b36bc2dd">Ansible Security Scanner Integration</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#ansible-awxtower-integration" class="jsx-64efd206b36bc2dd">Ansible AWX/Tower Integration</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#multi-cloud-automation" class="jsx-64efd206b36bc2dd">Multi-Cloud Automation</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#aws-infrastructure-automation" class="jsx-64efd206b36bc2dd">AWS Infrastructure Automation</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#kubernetes-cluster-management" class="jsx-64efd206b36bc2dd">Kubernetes Cluster Management</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#performance-optimization" class="jsx-64efd206b36bc2dd">Performance Optimization</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#system-level-tuning" class="jsx-64efd206b36bc2dd">System-Level Tuning</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#ansible-performance-configuration" class="jsx-64efd206b36bc2dd">Ansible Performance Configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#parallel-execution-strategies" class="jsx-64efd206b36bc2dd">Parallel Execution Strategies</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#reverse-proxy-setup" class="jsx-64efd206b36bc2dd">Reverse Proxy Setup</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#nginx-configuration-for-ansible-awxtower" class="jsx-64efd206b36bc2dd">nginx Configuration for Ansible AWX/Tower</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#haproxy-configuration" class="jsx-64efd206b36bc2dd">HAProxy Configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#apache-configuration" class="jsx-64efd206b36bc2dd">Apache Configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#monitoring" class="jsx-64efd206b36bc2dd">Monitoring</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#built-in-monitoring-and-logging" class="jsx-64efd206b36bc2dd">Built-in Monitoring and Logging</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#prometheus-configuration-for-ansible" class="jsx-64efd206b36bc2dd">Prometheus Configuration for Ansible</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#grafana-dashboard-configuration" class="jsx-64efd206b36bc2dd">Grafana Dashboard Configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#integration-examples" class="jsx-64efd206b36bc2dd">Integration Examples</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#python-integration-with-ansible" class="jsx-64efd206b36bc2dd">Python Integration with Ansible</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#nodejs-integration" class="jsx-64efd206b36bc2dd">Node.js Integration</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#rest-api-integration" class="jsx-64efd206b36bc2dd">REST API Integration</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#maintenance" class="jsx-64efd206b36bc2dd">Maintenance</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#regular-maintenance-tasks" class="jsx-64efd206b36bc2dd">Regular Maintenance Tasks</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#ansible-version-management" class="jsx-64efd206b36bc2dd">Ansible Version Management</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#performance-monitoring-and-optimization" class="jsx-64efd206b36bc2dd">Performance Monitoring and Optimization</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#testing-and-validation" class="jsx-64efd206b36bc2dd">Testing and Validation</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#molecule-testing-framework" class="jsx-64efd206b36bc2dd">Molecule Testing Framework</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#ansible-lint-and-security-scanning" class="jsx-64efd206b36bc2dd">Ansible Lint and Security Scanning</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#backup-and-disaster-recovery" class="jsx-64efd206b36bc2dd">Backup and Disaster Recovery</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#comprehensive-backup-automation" class="jsx-64efd206b36bc2dd">Comprehensive Backup Automation</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#verification-and-monitoring" class="jsx-64efd206b36bc2dd">Verification and Monitoring</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#cross-platform-system-verification" class="jsx-64efd206b36bc2dd">Cross-Platform System Verification</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#continuous-compliance-monitoring" class="jsx-64efd206b36bc2dd">Continuous Compliance Monitoring</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#cicd-integration" class="jsx-64efd206b36bc2dd">CI/CD Integration</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#jenkins-pipeline-integration" class="jsx-64efd206b36bc2dd">Jenkins Pipeline Integration</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#gitlab-ci-integration" class="jsx-64efd206b36bc2dd">GitLab CI Integration</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#6-troubleshooting-cross-platform" class="jsx-64efd206b36bc2dd">6. Troubleshooting (Cross-Platform)</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#common-issues-and-solutions" class="jsx-64efd206b36bc2dd">Common Issues and Solutions</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#advanced-debugging" class="jsx-64efd206b36bc2dd">Advanced Debugging</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#additional-resources" class="jsx-64efd206b36bc2dd">Additional Resources</a></li></ul></nav><div class="jsx-64efd206b36bc2dd readme-content"><p class="mobile-paragraph">Ansible is a free and open-source agentless automation platform for configuration management, application deployment, and task automation across multiple systems. Originally developed by Michael DeHaan and acquired by Red Hat, Ansible serves as the industry standard for infrastructure automation with enterprise-grade security and scalability. It provides a robust alternative to proprietary solutions like VMware vRealize Automation, Microsoft System Center, or Puppet Enterprise without vendor lock-in or licensing costs.</p>
<h2 id="1-prerequisites" class="mobile-header">1. Prerequisites</h2>
<li class="mobile-list-item"><strong>Hardware Requirements</strong>:</li>
<li class="mobile-list-item">CPU: 2+ cores for control machine (4+ cores recommended for large deployments)</li>
<li class="mobile-list-item">RAM: 2GB minimum, 4GB+ recommended for large infrastructures, 8GB+ for enterprise</li>
<li class="mobile-list-item">Storage: 10GB+ available disk space for playbooks, roles, and logs</li>
<li class="mobile-list-item">Network: Stable connectivity to all managed hosts</li>
<li class="mobile-list-item"><strong>Operating System</strong> (Control Machine): </li>
<li class="mobile-list-item">Linux: Any modern distribution (RHEL, Debian, Ubuntu, CentOS, Fedora, Arch, openSUSE)</li>
<li class="mobile-list-item">macOS: 10.15+ (Catalina or newer)</li>
<li class="mobile-list-item">Windows: WSL2 with Linux distribution (not natively supported)</li>
<li class="mobile-list-item">FreeBSD: 12.0+ (limited support)</li>
<li class="mobile-list-item"><strong>Target Hosts</strong>:</li>
<li class="mobile-list-item">Linux: Any distribution with Python 2.7+ or 3.5+</li>
<li class="mobile-list-item">Windows: PowerShell 3.0+ and .NET Framework 4.0+</li>
<li class="mobile-list-item">Network devices: SSH or specialized connection plugins</li>
<li class="mobile-list-item"><strong>Network Requirements</strong>:</li>
<li class="mobile-list-item">SSH access to target Linux/Unix hosts (port 22)</li>
<li class="mobile-list-item">WinRM access to Windows hosts (ports 5985/5986)</li>
<li class="mobile-list-item">HTTPS API access for cloud and network devices</li>
<li class="mobile-list-item"><strong>Dependencies</strong>:</li>
<li class="mobile-list-item">Python 3.8+ on control machine (3.9+ recommended)</li>
<li class="mobile-list-item">SSH client and key-based authentication setup</li>
<li class="mobile-list-item">Python 2.7+ or 3.5+ on target Linux hosts</li>
<li class="mobile-list-item">PowerShell and .NET Framework on Windows targets</li>
<li class="mobile-list-item"><strong>System Access</strong>: SSH key access or password authentication to target hosts</li>
<li class="mobile-list-item"><strong>Special Requirements</strong>:</li>
<li class="mobile-list-item">Sudo or root access on target systems for privileged operations</li>
<li class="mobile-list-item">Network connectivity between control machine and all managed hosts</li>
<h2 id="2-supported-operating-systems" class="mobile-header">2. Supported Operating Systems</h2>
<p class="mobile-paragraph">This guide supports installation on:</p>
<li class="mobile-list-item">RHEL 8/9 and derivatives (CentOS Stream, Rocky Linux, AlmaLinux)</li>
<li class="mobile-list-item">Debian 11/12</li>
<li class="mobile-list-item">Ubuntu 20.04/22.04/24.04 LTS</li>
<li class="mobile-list-item">Arch Linux (rolling release)</li>
<li class="mobile-list-item">Alpine Linux 3.18+</li>
<li class="mobile-list-item">openSUSE Leap 15.5+ / Tumbleweed</li>
<li class="mobile-list-item">SUSE Linux Enterprise Server (SLES) 15+</li>
<li class="mobile-list-item">macOS 12+ (Monterey and later) </li>
<li class="mobile-list-item">FreeBSD 13+</li>
<li class="mobile-list-item">Windows 10/11/Server 2019+ (where applicable)</li>
<h2 id="3-installation" class="mobile-header">3. Installation</h2>
<h3 id="using-package-manager-recommended" class="mobile-header">Using Package Manager (Recommended)</h3>
<p class="mobile-paragraph">#### Ubuntu/Debian</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Update package list
sudo apt update

# Install Ansible and dependencies
sudo apt install -y ansible python3-pip python3-venv sshpass

# Install additional collections
ansible-galaxy collection install community.general
ansible-galaxy collection install ansible.posix
ansible-galaxy collection install kubernetes.core
ansible-galaxy collection install amazon.aws
ansible-galaxy collection install azure.azcollection
ansible-galaxy collection install google.cloud

# Verify installation
ansible --version
ansible-galaxy collection list</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">#### RHEL/CentOS/Rocky Linux/AlmaLinux</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Install EPEL repository
sudo yum install -y epel-release

# Install Ansible
sudo yum install -y ansible python3-pip

# For newer distributions
sudo dnf install -y ansible python3-pip

# Install collections
ansible-galaxy collection install community.general
ansible-galaxy collection install ansible.posix
ansible-galaxy collection install kubernetes.core

# Verify installation
ansible --version</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">#### Fedora</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Install Ansible
sudo dnf install -y ansible python3-pip python3-virtualenv

# Install additional collections
ansible-galaxy collection install community.general
ansible-galaxy collection install ansible.posix
ansible-galaxy collection install kubernetes.core

# Verify installation
ansible --version</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">#### Arch Linux</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Install Ansible
sudo pacman -Syu ansible python-pip

# Install collections
ansible-galaxy collection install community.general
ansible-galaxy collection install ansible.posix

# Verify installation
ansible --version</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">#### Alpine Linux</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Install Ansible
sudo apk update
sudo apk add ansible python3 py3-pip openssh

# Install collections
ansible-galaxy collection install community.general

# Verify installation
ansible --version</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">#### openSUSE/SLES</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># openSUSE Leap/Tumbleweed
sudo zypper refresh

# Install Ansible and dependencies
sudo zypper install -y ansible python3-pip python3-virtualenv

# SLES 15 (requires additional modules)
sudo SUSEConnect -p sle-module-python3/15.5/x86_64
sudo zypper install -y ansible python3-pip

# Install additional collections
ansible-galaxy collection install community.general
ansible-galaxy collection install ansible.posix
ansible-galaxy collection install kubernetes.core

# Verify installation
ansible --version</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">#### macOS</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Method 1: Using Homebrew (recommended)
# Install Homebrew if not already installed
/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;

# Install Ansible
brew install ansible

# Method 2: Using pip with virtual environment
# Install Python 3 if needed
brew install python3

# Create virtual environment
python3 -m venv ~/ansible-venv
source ~/ansible-venv/bin/activate

# Install Ansible
pip install --upgrade pip
pip install ansible ansible-core

# Install additional packages for cloud providers
pip install boto3 azure-cli google-cloud-storage

# Add to shell profile for persistence
echo &#039;source ~/ansible-venv/bin/activate&#039; &gt;&gt; ~/.zshrc  # or ~/.bash_profile

# Install collections
ansible-galaxy collection install community.general
ansible-galaxy collection install ansible.posix
ansible-galaxy collection install amazon.aws
ansible-galaxy collection install azure.azcollection

# Verify installation
ansible --version</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">#### FreeBSD</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Install from ports
cd /usr/ports/sysutils/ansible &amp;&amp; make install clean

# Or install from packages
pkg install py39-ansible

# Install Python dependencies
pkg install python39 py39-pip py39-virtualenv

# Create virtual environment (recommended)
python3.9 -m venv ~/ansible-venv
source ~/ansible-venv/bin/activate

# Install additional packages
pip install paramiko jinja2 PyYAML cryptography

# Install collections
ansible-galaxy collection install community.general
ansible-galaxy collection install ansible.posix

# Verify installation
ansible --version</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">#### Windows (using WSL2)</p>
<div class="mobile-code-block" data-language="powershell">
      <div class="mobile-code-header">
        <span class="mobile-code-language">powershell</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-powershell"># Enable WSL2 first
# Run in PowerShell as Administrator
dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart
dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart

# Restart computer, then set WSL2 as default
wsl --set-default-version 2

# Install Ubuntu from Microsoft Store or command line
wsl --install -d Ubuntu-22.04

# Inside WSL Ubuntu environment:
sudo apt update
sudo apt install -y ansible python3-pip python3-venv sshpass

# Create Windows-specific inventory for managing Windows hosts
mkdir -p ~/ansible-windows
cd ~/ansible-windows

# Install Windows collections
ansible-galaxy collection install ansible.windows
ansible-galaxy collection install community.windows
ansible-galaxy collection install chocolatey.chocolatey

# Create Windows inventory example
cat &gt; inventory/windows-hosts.yml &lt;&lt;EOF
all:
  children:
    windows:
      hosts:
        win-server-01:
          ansible_host: 192.168.1.100
          ansible_user: Administrator
          ansible_password: &quot;{{ vault_windows_password }}&quot;
          ansible_connection: winrm
          ansible_winrm_server_cert_validation: ignore
          ansible_winrm_transport: basic
          ansible_winrm_port: 5985
      vars:
        ansible_shell_type: powershell
        ansible_become_method: runas
        ansible_become_user: Administrator
EOF

# Verify installation
ansible --version</code></pre>
      </div>
    </div>
<h3 id="using-pip-latest-version" class="mobile-header">Using pip (Latest Version)</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create virtual environment (recommended)
python3 -m venv ~/ansible-venv
source ~/ansible-venv/bin/activate

# Install Ansible via pip
pip install --upgrade pip
pip install ansible ansible-core

# Install additional packages
pip install paramiko jinja2 PyYAML cryptography

# Install cloud provider SDKs
pip install boto3 botocore azure-cli google-cloud-storage

# Install collections
ansible-galaxy collection install community.general
ansible-galaxy collection install ansible.posix
ansible-galaxy collection install kubernetes.core
ansible-galaxy collection install amazon.aws
ansible-galaxy collection install azure.azcollection
ansible-galaxy collection install google.cloud

# Add to PATH permanently
echo &#039;source ~/ansible-venv/bin/activate&#039; &gt;&gt; ~/.bashrc

# Verify installation
ansible --version</code></pre>
      </div>
    </div>
<h3 id="using-docker" class="mobile-header">Using Docker</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create Ansible Docker container with mounted volumes
docker run --rm -it \
  -v $(pwd):/ansible \
  -v ~/.ssh:/root/.ssh:ro \
  -v ~/.aws:/root/.aws:ro \
  -v ~/.azure:/root/.azure:ro \
  --workdir /ansible \
  ansible/ansible:latest

# Create wrapper script for ease of use
sudo tee /usr/local/bin/ansible-docker &gt; /dev/null &lt;&lt;&#039;EOF&#039;
#!/bin/bash
docker run --rm -it \
  -v $(pwd):/ansible \
  -v ~/.ssh:/root/.ssh:ro \
  -v ~/.aws:/root/.aws:ro \
  -v ~/.azure:/root/.azure:ro \
  -v ~/.kube:/root/.kube:ro \
  --workdir /ansible \
  --network host \
  ansible/ansible:latest &quot;$@&quot;
EOF
sudo chmod +x /usr/local/bin/ansible-docker

# Create aliases
echo &#039;alias ansible=&quot;ansible-docker ansible&quot;&#039; &gt;&gt; ~/.bashrc
echo &#039;alias ansible-playbook=&quot;ansible-docker ansible-playbook&quot;&#039; &gt;&gt; ~/.bashrc</code></pre>
      </div>
    </div>
<h2 id="initial-configuration" class="mobile-header">Initial Configuration</h2>
<h3 id="first-run-setup" class="mobile-header">First-Run Setup</h3>
<p class="mobile-paragraph">1. <strong>SSH Key Setup</strong>:</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Generate SSH key pair for Ansible
ssh-keygen -t rsa -b 4096 -f ~/.ssh/ansible_key -C &quot;ansible-automation&quot;

# Set proper permissions
chmod 600 ~/.ssh/ansible_key
chmod 644 ~/.ssh/ansible_key.pub

# Copy public key to target hosts
ssh-copy-id -i ~/.ssh/ansible_key.pub user@target-host

# Or manually copy the key
cat ~/.ssh/ansible_key.pub | ssh user@target-host &quot;mkdir -p ~/.ssh &amp;&amp; cat &gt;&gt; ~/.ssh/authorized_keys&quot;</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">2. <strong>Basic Ansible Configuration</strong>:</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create Ansible configuration directory
mkdir -p ~/.ansible/{facts_cache,inventory_cache,cp,logs}

# Create basic ansible.cfg
cat &gt; ~/.ansible.cfg &lt;&lt;EOF
[defaults]
host_key_checking = True
remote_user = ansible
private_key_file = ~/.ssh/ansible_key
timeout = 30
retry_files_enabled = False
stdout_callback = yaml
gathering = smart
fact_caching = jsonfile
fact_caching_connection = ~/.ansible/facts_cache
fact_caching_timeout = 86400
interpreter_python = auto_silent
deprecation_warnings = True
command_warnings = True

[ssh_connection]
ssh_args = -o ControlMaster=auto -o ControlPersist=3600s -o PreferredAuthentications=publickey
pipelining = True
control_path = ~/.ansible/cp/%%h-%%p-%%r

[privilege_escalation]
become = False
become_method = sudo
become_user = root
become_ask_pass = False
EOF</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">3. <strong>Create Basic Inventory</strong>:</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create simple inventory file
mkdir -p ~/ansible-project/inventory
cat &gt; ~/ansible-project/inventory/hosts.yml &lt;&lt;EOF
all:
  children:
    webservers:
      hosts:
        web-01:
          ansible_host: 192.168.1.10
        web-02:
          ansible_host: 192.168.1.11
    databases:
      hosts:
        db-01:
          ansible_host: 192.168.1.20
  vars:
    ansible_user: ansible
    ansible_ssh_private_key_file: ~/.ssh/ansible_key
EOF</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">4. <strong>Verify Target Host Python</strong>:</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Check Python availability on target hosts
ansible all -i inventory/hosts.yml -m raw -a &quot;python3 --version || python --version&quot;

# Install Python if needed (Ubuntu/Debian example)
ansible all -i inventory/hosts.yml -m raw -a &quot;apt update &amp;&amp; apt install -y python3&quot; --become</code></pre>
      </div>
    </div>
<h3 id="testing-initial-setup" class="mobile-header">Testing Initial Setup</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Test connectivity to all hosts
ansible all -i inventory/hosts.yml -m ping

# Gather facts from all hosts
ansible all -i inventory/hosts.yml -m setup

# Test privilege escalation
ansible all -i inventory/hosts.yml -m command -a &quot;whoami&quot; --become

# Check disk space on all hosts
ansible all -i inventory/hosts.yml -m command -a &quot;df -h&quot;

# Verify SSH keys are working
ansible all -i inventory/hosts.yml -m command -a &quot;uptime&quot;

# Test basic file operations
ansible all -i inventory/hosts.yml -m file -a &quot;path=/tmp/ansible-test state=touch&quot; --become
ansible all -i inventory/hosts.yml -m file -a &quot;path=/tmp/ansible-test state=absent&quot; --become</code></pre>
      </div>
    </div>
<p class="mobile-paragraph"><strong>WARNING:</strong> Ensure SSH key authentication is working and hosts are accessible before proceeding with complex playbooks!</p>
<h2 id="5-service-management" class="mobile-header">5. Service Management</h2>
<h3 id="ansible-controller-service-systemd" class="mobile-header">Ansible Controller Service (systemd)</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create Ansible controller service for scheduled playbooks
sudo tee /etc/systemd/system/ansible-controller.service &gt; /dev/null &lt;&lt;EOF
[Unit]
Description=Ansible Controller Service
After=network.target
Wants=network-online.target

[Service]
Type=oneshot
User=ansible
Group=ansible
WorkingDirectory=/opt/ansible
ExecStart=/usr/local/bin/ansible-playbook -i inventories/production playbooks/maintenance.yml
StandardOutput=journal
StandardError=journal

[Install]
WantedBy=multi-user.target
EOF

# Create timer for regular execution
sudo tee /etc/systemd/system/ansible-controller.timer &gt; /dev/null &lt;&lt;EOF
[Unit]
Description=Run Ansible Controller Service
Requires=ansible-controller.service

[Timer]
OnCalendar=daily
Persistent=true
RandomizedDelaySec=300

[Install]
WantedBy=timers.target
EOF

# Enable and start the timer
sudo systemctl daemon-reload
sudo systemctl enable ansible-controller.timer
sudo systemctl start ansible-controller.timer

# Check status
sudo systemctl status ansible-controller.timer</code></pre>
      </div>
    </div>
<h3 id="ansible-towerawx-service-management" class="mobile-header">Ansible Tower/AWX Service Management</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># AWX service management (Docker-based)
# Start AWX services
sudo docker-compose -f /opt/awx/installer/docker-compose.yml up -d

# Stop AWX services
sudo docker-compose -f /opt/awx/installer/docker-compose.yml down

# Restart AWX services
sudo docker-compose -f /opt/awx/installer/docker-compose.yml restart

# View AWX logs
sudo docker-compose -f /opt/awx/installer/docker-compose.yml logs -f

# Check AWX service status
sudo docker-compose -f /opt/awx/installer/docker-compose.yml ps

# Update AWX
cd /opt/awx
git pull
sudo docker-compose -f installer/docker-compose.yml down
sudo docker-compose -f installer/docker-compose.yml build --no-cache
sudo docker-compose -f installer/docker-compose.yml up -d</code></pre>
      </div>
    </div>
<h3 id="ansible-pull-service-for-pull-based-configuration" class="mobile-header">Ansible Pull Service (for Pull-based Configuration)</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create ansible-pull service for decentralized management
sudo tee /etc/systemd/system/ansible-pull.service &gt; /dev/null &lt;&lt;EOF
[Unit]
Description=Ansible Pull Configuration Management
After=network-online.target
Wants=network-online.target

[Service]
Type=oneshot
User=root
ExecStart=/usr/bin/ansible-pull -U https://github.com/company/ansible-config.git -i localhost, local.yml
StandardOutput=journal
StandardError=journal
TimeoutStartSec=600

[Install]
WantedBy=multi-user.target
EOF

# Create timer for ansible-pull
sudo tee /etc/systemd/system/ansible-pull.timer &gt; /dev/null &lt;&lt;EOF
[Unit]
Description=Run Ansible Pull every 30 minutes
Requires=ansible-pull.service

[Timer]
OnCalendar=*:0/30
Persistent=true
RandomizedDelaySec=120

[Install]
WantedBy=timers.target
EOF

# Enable ansible-pull timer
sudo systemctl daemon-reload
sudo systemctl enable ansible-pull.timer
sudo systemctl start ansible-pull.timer</code></pre>
      </div>
    </div>
<h3 id="cross-platform-service-management" class="mobile-header">Cross-Platform Service Management</h3>
<p class="mobile-paragraph">#### macOS (launchd)</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create launchd plist for Ansible automation
sudo tee /Library/LaunchDaemons/com.company.ansible.plist &gt; /dev/null &lt;&lt;EOF
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;
&lt;plist version=&quot;1.0&quot;&gt;
&lt;dict&gt;
    &lt;key&gt;Label&lt;/key&gt;
    &lt;string&gt;com.company.ansible&lt;/string&gt;
    &lt;key&gt;ProgramArguments&lt;/key&gt;
    &lt;array&gt;
        &lt;string&gt;/usr/local/bin/ansible-playbook&lt;/string&gt;
        &lt;string&gt;-i&lt;/string&gt;
        &lt;string&gt;/opt/ansible/inventory/hosts.yml&lt;/string&gt;
        &lt;string&gt;/opt/ansible/playbooks/maintenance.yml&lt;/string&gt;
    &lt;/array&gt;
    &lt;key&gt;StartCalendarInterval&lt;/key&gt;
    &lt;dict&gt;
        &lt;key&gt;Hour&lt;/key&gt;
        &lt;integer&gt;2&lt;/integer&gt;
        &lt;key&gt;Minute&lt;/key&gt;
        &lt;integer&gt;0&lt;/integer&gt;
    &lt;/dict&gt;
    &lt;key&gt;StandardOutPath&lt;/key&gt;
    &lt;string&gt;/var/log/ansible.log&lt;/string&gt;
    &lt;key&gt;StandardErrorPath&lt;/key&gt;
    &lt;string&gt;/var/log/ansible.error.log&lt;/string&gt;
    &lt;key&gt;UserName&lt;/key&gt;
    &lt;string&gt;ansible&lt;/string&gt;
    &lt;key&gt;WorkingDirectory&lt;/key&gt;
    &lt;string&gt;/opt/ansible&lt;/string&gt;
&lt;/dict&gt;
&lt;/plist&gt;
EOF

# Load and start the service
sudo launchctl load /Library/LaunchDaemons/com.company.ansible.plist
sudo launchctl start com.company.ansible</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">#### Windows (Task Scheduler via PowerShell)</p>
<div class="mobile-code-block" data-language="powershell">
      <div class="mobile-code-header">
        <span class="mobile-code-language">powershell</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-powershell"># Create scheduled task for Ansible in Windows (running in WSL)
$TaskName = &quot;Ansible-Configuration-Management&quot;
$TaskDescription = &quot;Run Ansible playbooks for system configuration&quot;

$Action = New-ScheduledTaskAction -Execute &quot;wsl&quot; -Argument &quot;ansible-playbook -i /home/ansible/inventory/hosts.yml /home/ansible/playbooks/windows-maintenance.yml&quot;

$Trigger = New-ScheduledTaskTrigger -Daily -At &quot;02:00AM&quot;

$Principal = New-ScheduledTaskPrincipal -UserID &quot;NT AUTHORITY\SYSTEM&quot; -LogonType ServiceAccount

$Settings = New-ScheduledTaskSettingsSet -AllowStartIfOnBatteries -DontStopIfGoingOnBatteries -StartWhenAvailable

Register-ScheduledTask -TaskName $TaskName -Description $TaskDescription -Action $Action -Trigger $Trigger -Principal $Principal -Settings $Settings

# Start the task
Start-ScheduledTask -TaskName $TaskName

# Check task status
Get-ScheduledTask -TaskName $TaskName | Get-ScheduledTaskInfo</code></pre>
      </div>
    </div>
<h2 id="project-structure-and-configuration" class="mobile-header">Project Structure and Configuration</h2>
<h3 id="professional-project-structure" class="mobile-header">Professional Project Structure</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create comprehensive Ansible project structure
mkdir -p ~/ansible-infrastructure/{
  inventories/{production,staging,development},
  playbooks,
  roles,
  group_vars,
  host_vars,
  library,
  filter_plugins,
  callback_plugins,
  vault,
  collections,
  logs
}

cd ~/ansible-infrastructure

# Create ansible.cfg with security best practices
cat &gt; ansible.cfg &lt;&lt;EOF
[defaults]
inventory = inventories/production/hosts.yml
remote_user = ansible
private_key_file = ~/.ssh/ansible_key
host_key_checking = True
timeout = 30
retry_files_enabled = False
stdout_callback = yaml
bin_ansible_callbacks = True
gathering = smart
fact_caching = jsonfile
fact_caching_connection = ~/.ansible/facts_cache
fact_caching_timeout = 86400
interpreter_python = auto_silent
vault_password_file = ~/.ansible_vault_pass

# Logging
log_path = logs/ansible.log
display_skipped_hosts = False
display_ok_hosts = False

# Performance
forks = 20
poll_interval = 15
internal_poll_interval = 0.001

# Security
command_warnings = True
deprecation_warnings = True
action_warnings = True
localhost_warning = True

[ssh_connection]
ssh_args = -o ControlMaster=auto -o ControlPersist=3600s -o PreferredAuthentications=publickey
pipelining = True
control_path = ~/.ansible/cp/%%h-%%p-%%r
retries = 3

[privilege_escalation]
become = False
become_method = sudo
become_user = root
become_ask_pass = False

[inventory]
enable_plugins = host_list, script, auto, yaml, ini, toml
cache = True
cache_plugin = jsonfile
cache_timeout = 3600
cache_connection = ~/.ansible/inventory_cache

[galaxy]
server_list = automation_hub, galaxy
EOF</code></pre>
      </div>
    </div>
<h3 id="advanced-inventory-management" class="mobile-header">Advanced Inventory Management</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create production inventory with groups and variables
cat &gt; inventories/production/hosts.yml &lt;&lt;EOF
all:
  children:
    webservers:
      hosts:
        web-prod-01:
          ansible_host: 10.0.1.10
          ansible_user: ansible
          server_role: frontend
          backup_enabled: true
        web-prod-02:
          ansible_host: 10.0.1.11
          ansible_user: ansible
          server_role: frontend
          backup_enabled: true
        web-prod-03:
          ansible_host: 10.0.1.12
          ansible_user: ansible
          server_role: frontend
          backup_enabled: true
      vars:
        http_port: 80
        https_port: 443
        max_clients: 200
        environment: production
        monitoring_enabled: true

    dbservers:
      hosts:
        db-prod-01:
          ansible_host: 10.0.2.10
          ansible_user: ansible
          mysql_server_id: 1
          mysql_role: master
        db-prod-02:
          ansible_host: 10.0.2.11
          ansible_user: ansible
          mysql_server_id: 2
          mysql_role: slave
      vars:
        mysql_port: 3306
        mysql_root_password: &quot;{{ vault_mysql_root_password }}&quot;
        mysql_replication_user: &quot;{{ vault_mysql_replication_user }}&quot;
        mysql_replication_password: &quot;{{ vault_mysql_replication_password }}&quot;

    loadbalancers:
      hosts:
        lb-prod-01:
          ansible_host: 10.0.3.10
          ansible_user: ansible
          lb_algorithm: roundrobin
        lb-prod-02:
          ansible_host: 10.0.3.11
          ansible_user: ansible
          lb_algorithm: roundrobin
      vars:
        haproxy_stats_enabled: true
        haproxy_stats_user: admin
        haproxy_stats_password: &quot;{{ vault_haproxy_stats_password }}&quot;

    monitoring:
      hosts:
        monitor-prod-01:
          ansible_host: 10.0.4.10
          ansible_user: ansible
          prometheus_retention: 30d
          grafana_admin_password: &quot;{{ vault_grafana_admin_password }}&quot;

    bastion:
      hosts:
        bastion-prod-01:
          ansible_host: bastion.example.com
          ansible_user: ansible
          ansible_port: 22

# Global variables for all hosts
webservers:
  vars:
    nginx_worker_processes: auto
    nginx_worker_connections: 1024
    ssl_certificate_path: /etc/ssl/certs
    backup_schedule: &quot;0 2 * * *&quot;

dbservers:
  vars:
    mysql_innodb_buffer_pool_size: 2G
    mysql_max_connections: 200
    backup_schedule: &quot;0 1 * * *&quot;
    monitoring_enabled: true
EOF

# Create dynamic inventory script for cloud environments
cat &gt; inventories/production/aws_ec2.yml &lt;&lt;EOF
plugin: amazon.aws.aws_ec2
regions:
  - us-west-2
  - us-east-1
filters:
  tag:Environment: production
  tag:Ansible: managed
  instance-state-name: running

hostnames:
  - tag:Name
  - dns-name
  - private-ip-address

compose:
  ansible_host: private_ip_address
  ec2_state: ec2_state_name
  ec2_arch: ec2_architecture

groups:
  # Group by instance type
  webservers: &quot;&#039;web&#039; in tags.Role&quot;
  databases: &quot;&#039;db&#039; in tags.Role&quot;
  loadbalancers: &quot;&#039;lb&#039; in tags.Role&quot;
  
  # Group by environment
  production: &quot;tags.Environment == &#039;production&#039;&quot;
  staging: &quot;tags.Environment == &#039;staging&#039;&quot;
  
  # Group by availability zone
  us_west_2a: ec2_placement_availability_zone == &quot;us-west-2a&quot;
  us_west_2b: ec2_placement_availability_zone == &quot;us-west-2b&quot;

keyed_groups:
  # Create groups based on tags
  - key: tags.Environment
    prefix: env
  - key: tags.Role  
    prefix: role
  - key: ec2_instance_type
    prefix: type
EOF</code></pre>
      </div>
    </div>
<h3 id="ansible-vault-security" class="mobile-header">Ansible Vault Security</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create strong vault password
openssl rand -base64 32 &gt; ~/.ansible_vault_pass
chmod 600 ~/.ansible_vault_pass

# Create encrypted vault file for secrets
ansible-vault create group_vars/all/vault.yml
# Enter secure passwords and API keys:
# vault_mysql_root_password: your_secure_mysql_password
# vault_grafana_admin_password: your_secure_grafana_password  
# vault_ssl_private_key: |
#   -----BEGIN PRIVATE KEY-----
#   your_private_key_content
#   -----END PRIVATE KEY-----

# Create non-encrypted variables file
cat &gt; group_vars/all/vars.yml &lt;&lt;EOF
# Non-sensitive variables
mysql_port: 3306
nginx_port: 80
grafana_port: 3000
prometheus_port: 9090

# Reference vault variables
mysql_root_password: &quot;{{ vault_mysql_root_password }}&quot;
grafana_admin_password: &quot;{{ vault_grafana_admin_password }}&quot;

# SSL configuration
ssl_certificate_path: /etc/ssl/certs/server.crt
ssl_private_key_path: /etc/ssl/private/server.key
ssl_private_key_content: &quot;{{ vault_ssl_private_key }}&quot;

# Security settings
ansible_ssh_common_args: &#039;-o StrictHostKeyChecking=yes -o UserKnownHostsFile=~/.ssh/known_hosts&#039;
ansible_become_method: sudo
ansible_become_user: root
EOF

# Edit vault file
ansible-vault edit group_vars/all/vault.yml

# View vault file (read-only)
ansible-vault view group_vars/all/vault.yml

# Change vault password
ansible-vault rekey group_vars/all/vault.yml</code></pre>
      </div>
    </div>
<h2 id="comprehensive-playbooks" class="mobile-header">Comprehensive Playbooks</h2>
<h3 id="system-hardening-playbook" class="mobile-header">System Hardening Playbook</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash">cat &gt; playbooks/system-hardening.yml &lt;&lt;EOF
---
- name: System Security Hardening
  hosts: all
  become: yes
  gather_facts: yes
  vars:
    security_packages:
      - fail2ban
      - ufw
      - aide
      - chkrootkit
      - rkhunter
      - clamav
      - lynis
    
    disabled_services:
      - telnet
      - rsh
      - rlogin
      - tftp
      - talk
      - finger

  pre_tasks:
    - name: Update package cache
      package:
        update_cache: yes
        cache_valid_time: 3600
      when: ansible_os_family in [&quot;Debian&quot;, &quot;RedHat&quot;]

  tasks:
    # System updates
    - name: Upgrade all packages
      package:
        name: &quot;*&quot;
        state: latest
      when: ansible_os_family == &quot;RedHat&quot;

    - name: Upgrade all packages (Debian/Ubuntu)
      apt:
        upgrade: dist
        autoremove: yes
        autoclean: yes
      when: ansible_os_family == &quot;Debian&quot;

    # Install security packages
    - name: Install security packages
      package:
        name: &quot;{{ security_packages }}&quot;
        state: present

    # User security
    - name: Create ansible user with limited privileges
      user:
        name: ansible
        groups: sudo
        shell: /bin/bash
        create_home: yes
        generate_ssh_key: yes
        ssh_key_bits: 4096
        ssh_key_type: rsa

    - name: Configure sudo for ansible user
      lineinfile:
        path: /etc/sudoers.d/ansible
        line: &#039;ansible ALL=(ALL) NOPASSWD:ALL&#039;
        create: yes
        mode: &#039;0440&#039;
        validate: &#039;visudo -cf %s&#039;

    # SSH hardening
    - name: Configure SSH security
      lineinfile:
        path: /etc/ssh/sshd_config
        regexp: &quot;{{ item.regexp }}&quot;
        line: &quot;{{ item.line }}&quot;
        backup: yes
      loop:
        - { regexp: &#039;^#?PermitRootLogin&#039;, line: &#039;PermitRootLogin no&#039; }
        - { regexp: &#039;^#?PasswordAuthentication&#039;, line: &#039;PasswordAuthentication no&#039; }
        - { regexp: &#039;^#?X11Forwarding&#039;, line: &#039;X11Forwarding no&#039; }
        - { regexp: &#039;^#?MaxAuthTries&#039;, line: &#039;MaxAuthTries 3&#039; }
        - { regexp: &#039;^#?ClientAliveInterval&#039;, line: &#039;ClientAliveInterval 300&#039; }
        - { regexp: &#039;^#?ClientAliveCountMax&#039;, line: &#039;ClientAliveCountMax 0&#039; }
        - { regexp: &#039;^#?Protocol&#039;, line: &#039;Protocol 2&#039; }
        - { regexp: &#039;^#?LogLevel&#039;, line: &#039;LogLevel VERBOSE&#039; }
      notify: restart ssh

    # Firewall configuration
    - name: Configure UFW firewall (Debian/Ubuntu)
      ufw:
        state: enabled
        policy: deny
        direction: incoming
      when: ansible_os_family == &quot;Debian&quot;

    - name: Allow SSH through UFW
      ufw:
        rule: allow
        port: 22
        proto: tcp
        comment: &#039;SSH access&#039;
      when: ansible_os_family == &quot;Debian&quot;

    - name: Configure firewalld (RHEL/CentOS/Fedora)
      firewalld:
        state: enabled
        permanent: yes
        immediate: yes
      when: ansible_os_family == &quot;RedHat&quot;

    - name: Allow SSH through firewalld
      firewalld:
        service: ssh
        permanent: yes
        state: enabled
        immediate: yes
      when: ansible_os_family == &quot;RedHat&quot;

    # Disable unnecessary services
    - name: Disable unnecessary services
      systemd:
        name: &quot;{{ item }}&quot;
        enabled: no
        state: stopped
      loop: &quot;{{ disabled_services }}&quot;
      ignore_errors: yes

    # File system security
    - name: Set proper permissions on sensitive files
      file:
        path: &quot;{{ item.path }}&quot;
        mode: &quot;{{ item.mode }}&quot;
        owner: root
        group: root
      loop:
        - { path: &#039;/etc/passwd&#039;, mode: &#039;0644&#039; }
        - { path: &#039;/etc/shadow&#039;, mode: &#039;0640&#039; }
        - { path: &#039;/etc/group&#039;, mode: &#039;0644&#039; }
        - { path: &#039;/etc/gshadow&#039;, mode: &#039;0640&#039; }
        - { path: &#039;/etc/ssh/sshd_config&#039;, mode: &#039;0600&#039; }

    # Kernel security parameters
    - name: Configure kernel security parameters
      sysctl:
        name: &quot;{{ item.key }}&quot;
        value: &quot;{{ item.value }}&quot;
        sysctl_set: yes
        state: present
        reload: yes
      loop:
        - { key: &#039;net.ipv4.ip_forward&#039;, value: &#039;0&#039; }
        - { key: &#039;net.ipv4.conf.all.send_redirects&#039;, value: &#039;0&#039; }
        - { key: &#039;net.ipv4.conf.default.send_redirects&#039;, value: &#039;0&#039; }
        - { key: &#039;net.ipv4.conf.all.accept_source_route&#039;, value: &#039;0&#039; }
        - { key: &#039;net.ipv4.conf.default.accept_source_route&#039;, value: &#039;0&#039; }
        - { key: &#039;net.ipv4.conf.all.accept_redirects&#039;, value: &#039;0&#039; }
        - { key: &#039;net.ipv4.conf.default.accept_redirects&#039;, value: &#039;0&#039; }
        - { key: &#039;net.ipv4.conf.all.secure_redirects&#039;, value: &#039;0&#039; }
        - { key: &#039;net.ipv4.conf.default.secure_redirects&#039;, value: &#039;0&#039; }
        - { key: &#039;net.ipv4.conf.all.log_martians&#039;, value: &#039;1&#039; }
        - { key: &#039;net.ipv4.conf.default.log_martians&#039;, value: &#039;1&#039; }
        - { key: &#039;kernel.randomize_va_space&#039;, value: &#039;2&#039; }

    # Configure fail2ban
    - name: Configure fail2ban for SSH protection
      template:
        src: templates/fail2ban-jail.local.j2
        dest: /etc/fail2ban/jail.local
        backup: yes
      notify: restart fail2ban

  handlers:
    - name: restart ssh
      service:
        name: &quot;{{ &#039;ssh&#039; if ansible_os_family == &#039;Debian&#039; else &#039;sshd&#039; }}&quot;
        state: restarted

    - name: restart fail2ban
      service:
        name: fail2ban
        state: restarted
EOF</code></pre>
      </div>
    </div>
<h3 id="application-deployment-playbook" class="mobile-header">Application Deployment Playbook</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash">cat &gt; playbooks/web-application-deployment.yml &lt;&lt;EOF
---
- name: Deploy Web Application Stack
  hosts: webservers
  become: yes
  serial: &quot;25%&quot;  # Rolling deployment
  max_fail_percentage: 10
  vars:
    app_name: mywebapp
    app_version: &quot;{{ app_version | default(&#039;latest&#039;) }}&quot;
    app_port: 3000
    nginx_workers: &quot;{{ ansible_processor_cores }}&quot;
    
  pre_tasks:
    - name: Check if maintenance mode file exists
      stat:
        path: /var/www/html/maintenance.html
      register: maintenance_mode

    - name: Fail if in maintenance mode
      fail:
        msg: &quot;Server is in maintenance mode&quot;
      when: maintenance_mode.stat.exists and not force_deployment | default(false)

  tasks:
    # Application deployment
    - name: Create application user
      user:
        name: &quot;{{ app_name }}&quot;
        system: yes
        shell: /bin/false
        home: &quot;/opt/{{ app_name }}&quot;
        create_home: yes

    - name: Create application directories
      file:
        path: &quot;{{ item }}&quot;
        state: directory
        owner: &quot;{{ app_name }}&quot;
        group: &quot;{{ app_name }}&quot;
        mode: &#039;0755&#039;
      loop:
        - &quot;/opt/{{ app_name }}&quot;
        - &quot;/opt/{{ app_name }}/releases&quot;
        - &quot;/opt/{{ app_name }}/shared&quot;
        - &quot;/var/log/{{ app_name }}&quot;

    - name: Download application release
      get_url:
        url: &quot;https://releases.example.com/{{ app_name }}/{{ app_version }}/{{ app_name }}-{{ app_version }}.tar.gz&quot;
        dest: &quot;/tmp/{{ app_name }}-{{ app_version }}.tar.gz&quot;
        mode: &#039;0644&#039;
        timeout: 300
      register: download_result

    - name: Extract application
      unarchive:
        src: &quot;/tmp/{{ app_name }}-{{ app_version }}.tar.gz&quot;
        dest: &quot;/opt/{{ app_name }}/releases/&quot;
        owner: &quot;{{ app_name }}&quot;
        group: &quot;{{ app_name }}&quot;
        remote_src: yes
        creates: &quot;/opt/{{ app_name }}/releases/{{ app_version }}&quot;

    - name: Create symlink to current release
      file:
        src: &quot;/opt/{{ app_name }}/releases/{{ app_version }}&quot;
        dest: &quot;/opt/{{ app_name }}/current&quot;
        state: link
        owner: &quot;{{ app_name }}&quot;
        group: &quot;{{ app_name }}&quot;
      notify:
        - reload application
        - reload nginx

    # Configuration management
    - name: Deploy application configuration
      template:
        src: &quot;templates/{{ app_name }}.conf.j2&quot;
        dest: &quot;/opt/{{ app_name }}/shared/{{ app_name }}.conf&quot;
        owner: &quot;{{ app_name }}&quot;
        group: &quot;{{ app_name }}&quot;
        mode: &#039;0640&#039;
        backup: yes
      notify: reload application

    # Service management
    - name: Deploy systemd service file
      template:
        src: &quot;templates/{{ app_name }}.service.j2&quot;
        dest: &quot;/etc/systemd/system/{{ app_name }}.service&quot;
        mode: &#039;0644&#039;
      notify:
        - daemon reload
        - restart application

    - name: Enable and start application service
      systemd:
        name: &quot;{{ app_name }}&quot;
        enabled: yes
        state: started
        daemon_reload: yes

    # Health check
    - name: Wait for application to be ready
      uri:
        url: &quot;http://localhost:{{ app_port }}/health&quot;
        method: GET
        status_code: 200
      retries: 30
      delay: 10

    # Cleanup old releases
    - name: Clean up old releases (keep last 3)
      shell: |
        cd /opt/{{ app_name }}/releases
        ls -t | tail -n +4 | xargs rm -rf
      args:
        executable: /bin/bash

  post_tasks:
    - name: Verify application is running
      uri:
        url: &quot;http://{{ ansible_default_ipv4.address }}:{{ app_port }}/health&quot;
        method: GET
        status_code: 200
      delegate_to: localhost

    - name: Log deployment success
      lineinfile:
        path: &quot;/var/log/{{ app_name }}/deployments.log&quot;
        line: &quot;{{ ansible_date_time.iso8601 }} - Successfully deployed {{ app_version }} to {{ inventory_hostname }}&quot;
        create: yes

  handlers:
    - name: daemon reload
      systemd:
        daemon_reload: yes

    - name: restart application
      systemd:
        name: &quot;{{ app_name }}&quot;
        state: restarted

    - name: reload application
      systemd:
        name: &quot;{{ app_name }}&quot;
        state: reloaded

    - name: reload nginx
      service:
        name: nginx
        state: reloaded
EOF</code></pre>
      </div>
    </div>
<h3 id="infrastructure-as-code-playbook" class="mobile-header">Infrastructure as Code Playbook</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash">cat &gt; playbooks/infrastructure-provisioning.yml &lt;&lt;EOF
---
- name: Infrastructure Provisioning and Configuration
  hosts: all
  become: yes
  strategy: free  # Parallel execution
  vars:
    base_packages:
      Debian:
        - curl
        - wget
        - vim
        - htop
        - git
        - python3
        - python3-pip
        - unzip
        - tree
      RedHat:
        - curl
        - wget
        - vim
        - htop
        - git
        - python3
        - python3-pip
        - unzip
        - tree
        - epel-release

  tasks:
    # System preparation
    - name: Set hostname
      hostname:
        name: &quot;{{ inventory_hostname }}&quot;

    - name: Update /etc/hosts
      lineinfile:
        path: /etc/hosts
        line: &quot;{{ ansible_default_ipv4.address }} {{ inventory_hostname }}&quot;
        backup: yes

    # Package management
    - name: Install base packages
      package:
        name: &quot;{{ base_packages[ansible_os_family] | default(base_packages[&#039;Debian&#039;]) }}&quot;
        state: present

    # Time synchronization
    - name: Install and configure NTP
      package:
        name: &quot;{{ &#039;ntp&#039; if ansible_os_family == &#039;Debian&#039; else &#039;chrony&#039; }}&quot;
        state: present

    - name: Start and enable time synchronization
      service:
        name: &quot;{{ &#039;ntp&#039; if ansible_os_family == &#039;Debian&#039; else &#039;chronyd&#039; }}&quot;
        state: started
        enabled: yes

    # Log management
    - name: Configure logrotate for application logs
      template:
        src: templates/app-logrotate.j2
        dest: /etc/logrotate.d/applications
        mode: &#039;0644&#039;

    # Monitoring agent installation
    - name: Install Node Exporter for Prometheus monitoring
      get_url:
        url: &quot;https://github.com/prometheus/node_exporter/releases/download/v1.6.1/node_exporter-1.6.1.linux-amd64.tar.gz&quot;
        dest: /tmp/node_exporter.tar.gz
        mode: &#039;0644&#039;

    - name: Extract Node Exporter
      unarchive:
        src: /tmp/node_exporter.tar.gz
        dest: /tmp
        remote_src: yes

    - name: Copy Node Exporter binary
      copy:
        src: /tmp/node_exporter-1.6.1.linux-amd64/node_exporter
        dest: /usr/local/bin/node_exporter
        mode: &#039;0755&#039;
        owner: root
        group: root
        remote_src: yes

    - name: Create node_exporter systemd service
      template:
        src: templates/node_exporter.service.j2
        dest: /etc/systemd/system/node_exporter.service
        mode: &#039;0644&#039;
      notify:
        - daemon reload
        - restart node_exporter

    # Security configuration
    - name: Configure kernel parameters for security
      sysctl:
        name: &quot;{{ item.key }}&quot;
        value: &quot;{{ item.value }}&quot;
        sysctl_set: yes
        state: present
        reload: yes
      loop:
        - { key: &#039;kernel.dmesg_restrict&#039;, value: &#039;1&#039; }
        - { key: &#039;kernel.kptr_restrict&#039;, value: &#039;2&#039; }
        - { key: &#039;kernel.yama.ptrace_scope&#039;, value: &#039;1&#039; }
        - { key: &#039;net.ipv4.conf.all.log_martians&#039;, value: &#039;1&#039; }
        - { key: &#039;net.ipv4.conf.default.log_martians&#039;, value: &#039;1&#039; }
        - { key: &#039;net.ipv4.conf.all.send_redirects&#039;, value: &#039;0&#039; }
        - { key: &#039;net.ipv4.conf.default.send_redirects&#039;, value: &#039;0&#039; }

    # File integrity monitoring
    - name: Initialize AIDE database
      shell: |
        aide --init
        mv /var/lib/aide/aide.db.new /var/lib/aide/aide.db
      args:
        creates: /var/lib/aide/aide.db

    - name: Schedule AIDE integrity checks
      cron:
        name: &quot;AIDE integrity check&quot;
        minute: &quot;0&quot;
        hour: &quot;3&quot;
        job: &quot;/usr/bin/aide --check&quot;
        user: root

  handlers:
    - name: daemon reload
      systemd:
        daemon_reload: yes

    - name: restart node_exporter
      service:
        name: node_exporter
        state: restarted
        enabled: yes
EOF</code></pre>
      </div>
    </div>
<h2 id="advanced-role-development" class="mobile-header">Advanced Role Development</h2>
<h3 id="comprehensive-nginx-role" class="mobile-header">Comprehensive NGINX Role</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create NGINX role structure
ansible-galaxy init roles/nginx

# Main tasks
cat &gt; roles/nginx/tasks/main.yml &lt;&lt;EOF
---
# NGINX Installation and Configuration Role
- name: Include OS-specific variables
  include_vars: &quot;{{ ansible_os_family }}.yml&quot;

- name: Install NGINX
  include_tasks: &quot;install-{{ ansible_os_family }}.yml&quot;

- name: Create NGINX directories
  file:
    path: &quot;{{ item }}&quot;
    state: directory
    owner: root
    group: root
    mode: &#039;0755&#039;
  loop:
    - /etc/nginx/sites-available
    - /etc/nginx/sites-enabled
    - /etc/nginx/conf.d
    - /var/log/nginx
    - /var/cache/nginx

- name: Generate DH parameters
  openssl_dhparam:
    path: /etc/ssl/certs/dhparam.pem
    size: 2048
  when: nginx_ssl_enabled | default(false)

- name: Deploy NGINX main configuration
  template:
    src: nginx.conf.j2
    dest: /etc/nginx/nginx.conf
    backup: yes
    validate: &#039;nginx -t -c %s&#039;
  notify: reload nginx

- name: Deploy virtual host configurations
  template:
    src: vhost.conf.j2
    dest: &quot;/etc/nginx/sites-available/{{ item.name }}.conf&quot;
    backup: yes
  loop: &quot;{{ nginx_vhosts | default([]) }}&quot;
  notify: reload nginx

- name: Enable virtual hosts
  file:
    src: &quot;/etc/nginx/sites-available/{{ item.name }}.conf&quot;
    dest: &quot;/etc/nginx/sites-enabled/{{ item.name }}.conf&quot;
    state: link
  loop: &quot;{{ nginx_vhosts | default([]) }}&quot;
  when: item.enabled | default(true)
  notify: reload nginx

- name: Remove default site
  file:
    path: /etc/nginx/sites-enabled/default
    state: absent
  notify: reload nginx

- name: Start and enable NGINX
  service:
    name: nginx
    state: started
    enabled: yes

- name: Configure log rotation
  template:
    src: nginx-logrotate.j2
    dest: /etc/logrotate.d/nginx
    mode: &#039;0644&#039;

- name: Setup NGINX monitoring
  include_tasks: monitoring.yml
  when: nginx_monitoring_enabled | default(false)

- name: Configure SSL certificates
  include_tasks: ssl.yml
  when: nginx_ssl_enabled | default(false)
EOF

# OS-specific installation tasks
cat &gt; roles/nginx/tasks/install-Debian.yml &lt;&lt;EOF
---
- name: Add NGINX signing key (Debian/Ubuntu)
  apt_key:
    url: https://nginx.org/keys/nginx_signing.key
    state: present

- name: Add NGINX repository (Debian/Ubuntu)
  apt_repository:
    repo: &quot;deb https://nginx.org/packages/{{ ansible_distribution | lower }}/ {{ ansible_distribution_release }} nginx&quot;
    state: present

- name: Install NGINX (Debian/Ubuntu)
  apt:
    name: nginx
    state: present
    update_cache: yes
EOF

cat &gt; roles/nginx/tasks/install-RedHat.yml &lt;&lt;EOF
---
- name: Add NGINX repository (RHEL/CentOS)
  yum_repository:
    name: nginx
    description: NGINX Repository
    baseurl: &quot;https://nginx.org/packages/centos/{{ ansible_distribution_major_version }}/$basearch/&quot;
    gpgcheck: yes
    gpgkey: https://nginx.org/keys/nginx_signing.key
    enabled: yes

- name: Install NGINX (RHEL/CentOS)
  yum:
    name: nginx
    state: present
EOF

# Variables
cat &gt; roles/nginx/vars/main.yml &lt;&lt;EOF
---
nginx_user: nginx
nginx_worker_processes: auto
nginx_worker_connections: 1024
nginx_keepalive_timeout: 65
nginx_ssl_enabled: false
nginx_monitoring_enabled: true

nginx_security_headers:
  - &quot;add_header X-Frame-Options SAMEORIGIN always;&quot;
  - &quot;add_header X-Content-Type-Options nosniff always;&quot;
  - &quot;add_header X-XSS-Protection &#039;1; mode=block&#039; always;&quot;
  - &quot;add_header Strict-Transport-Security &#039;max-age=31536000; includeSubDomains&#039; always;&quot;

nginx_default_vhost:
  name: default
  listen: 80
  server_name: &quot;_&quot;
  root: /var/www/html
  index: index.html
  enabled: false
EOF

# Templates
cat &gt; roles/nginx/templates/nginx.conf.j2 &lt;&lt;EOF
user {{ nginx_user }};
worker_processes {{ nginx_worker_processes }};
pid /var/run/nginx.pid;

events {
    worker_connections {{ nginx_worker_connections }};
    use epoll;
    multi_accept on;
}

http {
    # Basic settings
    sendfile on;
    tcp_nopush on;
    tcp_nodelay on;
    keepalive_timeout {{ nginx_keepalive_timeout }};
    types_hash_max_size 2048;
    server_tokens off;

    include /etc/nginx/mime.types;
    default_type application/octet-stream;

    # SSL configuration
{% if nginx_ssl_enabled %}
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_prefer_server_ciphers off;
    ssl_dhparam /etc/ssl/certs/dhparam.pem;
{% endif %}

    # Gzip compression
    gzip on;
    gzip_vary on;
    gzip_proxied any;
    gzip_comp_level 6;
    gzip_types
        application/javascript
        application/json
        application/xml
        text/css
        text/javascript
        text/xml
        text/plain;

    # Security headers
{% for header in nginx_security_headers %}
    {{ header }}
{% endfor %}

    # Logging
    log_format main &#039;\$remote_addr - \$remote_user [\$time_local] &quot;\$request&quot; &#039;
                    &#039;\$status \$body_bytes_sent &quot;\$http_referer&quot; &#039;
                    &#039;&quot;\$http_user_agent&quot; &quot;\$http_x_forwarded_for&quot;&#039;;

    access_log /var/log/nginx/access.log main;
    error_log /var/log/nginx/error.log;

    # Rate limiting
    limit_req_zone \$binary_remote_addr zone=login:10m rate=10r/m;
    limit_conn_zone \$binary_remote_addr zone=addr:10m;

    # Include configurations
    include /etc/nginx/conf.d/*.conf;
    include /etc/nginx/sites-enabled/*;
}
EOF

# Handlers
cat &gt; roles/nginx/handlers/main.yml &lt;&lt;EOF
---
- name: restart nginx
  service:
    name: nginx
    state: restarted

- name: reload nginx
  service:
    name: nginx
    state: reloaded

- name: validate nginx config
  command: nginx -t
  changed_when: false
EOF</code></pre>
      </div>
    </div>
<h2 id="security-and-compliance" class="mobile-header">Security and Compliance</h2>
<h3 id="ansible-security-scanner-integration" class="mobile-header">Ansible Security Scanner Integration</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create security scanning playbook
cat &gt; playbooks/security-scan.yml &lt;&lt;EOF
---
- name: Security Compliance Scanning
  hosts: all
  become: yes
  gather_facts: yes
  vars:
    scan_results_dir: &quot;/tmp/security-scans&quot;
    
  tasks:
    - name: Create scan results directory
      file:
        path: &quot;{{ scan_results_dir }}&quot;
        state: directory
        mode: &#039;0755&#039;

    # CIS benchmark scanning
    - name: Download CIS benchmark script
      get_url:
        url: &quot;https://github.com/dev-sec/cis-dil-benchmark/archive/master.zip&quot;
        dest: &quot;/tmp/cis-benchmark.zip&quot;
        mode: &#039;0644&#039;

    - name: Run CIS benchmark scan
      shell: |
        cd /tmp
        unzip -o cis-benchmark.zip
        cd cis-dil-benchmark-master
        bash cis_ubuntu2204.sh &gt; {{ scan_results_dir }}/cis-scan-{{ inventory_hostname }}.txt
      args:
        creates: &quot;{{ scan_results_dir }}/cis-scan-{{ inventory_hostname }}.txt&quot;

    # Lynis security audit
    - name: Install Lynis
      package:
        name: lynis
        state: present

    - name: Run Lynis security audit
      command: lynis audit system --quiet --cronjob
      register: lynis_result
      changed_when: false

    - name: Save Lynis results
      copy:
        content: &quot;{{ lynis_result.stdout }}&quot;
        dest: &quot;{{ scan_results_dir }}/lynis-scan-{{ inventory_hostname }}.txt&quot;
        mode: &#039;0644&#039;

    # OpenSCAP compliance scanning
    - name: Install OpenSCAP (RHEL/CentOS)
      package:
        name:
          - openscap-scanner
          - scap-security-guide
        state: present
      when: ansible_os_family == &quot;RedHat&quot;

    - name: Install OpenSCAP (Debian/Ubuntu)
      package:
        name:
          - libopenscap8
          - ssg-debian
        state: present
      when: ansible_os_family == &quot;Debian&quot;

    - name: Run OpenSCAP scan
      shell: |
        oscap xccdf eval --profile xccdf_org.ssgproject.content_profile_standard \
          --results {{ scan_results_dir }}/oscap-results-{{ inventory_hostname }}.xml \
          --report {{ scan_results_dir }}/oscap-report-{{ inventory_hostname }}.html \
          /usr/share/xml/scap/ssg/content/ssg-{{ ansible_distribution | lower }}{{ ansible_distribution_major_version }}-xccdf.xml
      ignore_errors: yes
      when: ansible_os_family in [&quot;RedHat&quot;, &quot;Debian&quot;]

    # Vulnerability scanning with Trivy
    - name: Install Trivy vulnerability scanner
      shell: |
        curl -sfL https://raw.githubusercontent.com/aquasecurity/trivy/main/contrib/install.sh | sh -s -- -b /usr/local/bin
      args:
        creates: /usr/local/bin/trivy

    - name: Run Trivy filesystem scan
      shell: |
        trivy fs --format json --output {{ scan_results_dir }}/trivy-scan-{{ inventory_hostname }}.json /
      ignore_errors: yes

    # Collect scan results
    - name: Fetch scan results to control machine
      fetch:
        src: &quot;{{ item }}&quot;
        dest: &quot;./security-reports/{{ inventory_hostname }}/&quot;
        flat: yes
      loop:
        - &quot;{{ scan_results_dir }}/cis-scan-{{ inventory_hostname }}.txt&quot;
        - &quot;{{ scan_results_dir }}/lynis-scan-{{ inventory_hostname }}.txt&quot;
        - &quot;{{ scan_results_dir }}/oscap-report-{{ inventory_hostname }}.html&quot;
        - &quot;{{ scan_results_dir }}/trivy-scan-{{ inventory_hostname }}.json&quot;
      ignore_errors: yes
      delegate_to: localhost

  post_tasks:
    - name: Generate compliance summary
      template:
        src: templates/compliance-summary.j2
        dest: &quot;{{ scan_results_dir }}/compliance-summary-{{ inventory_hostname }}.txt&quot;
        mode: &#039;0644&#039;
EOF</code></pre>
      </div>
    </div>
<h3 id="ansible-awxtower-integration" class="mobile-header">Ansible AWX/Tower Integration</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Install Ansible AWX (open source)
cat &gt; playbooks/install-awx.yml &lt;&lt;EOF
---
- name: Install Ansible AWX
  hosts: localhost
  connection: local
  become: yes
  vars:
    awx_namespace: awx
    awx_admin_user: admin
    awx_admin_password: &quot;{{ vault_awx_admin_password }}&quot;

  tasks:
    - name: Install prerequisite packages
      package:
        name:
          - git
          - curl
          - docker.io
          - docker-compose
        state: present

    - name: Clone AWX repository
      git:
        repo: https://github.com/ansible/awx.git
        dest: /opt/awx
        version: devel

    - name: Create AWX Docker inventory
      template:
        src: templates/awx-docker-inventory.j2
        dest: /opt/awx/installer/inventory
        mode: &#039;0644&#039;

    - name: Install AWX using Ansible
      shell: ansible-playbook -i inventory install.yml
      args:
        chdir: /opt/awx/installer
      environment:
        ANSIBLE_HOST_KEY_CHECKING: False

    - name: Wait for AWX to be ready
      uri:
        url: &quot;http://localhost:80/api/v2/ping/&quot;
        method: GET
      retries: 30
      delay: 10

    - name: Configure AWX organizations and projects
      uri:
        url: &quot;http://localhost:80/api/v2/organizations/&quot;
        method: POST
        user: &quot;{{ awx_admin_user }}&quot;
        password: &quot;{{ awx_admin_password }}&quot;
        force_basic_auth: yes
        body_format: json
        body:
          name: &quot;Production&quot;
          description: &quot;Production environment organization&quot;
        status_code: [200, 201, 409]
EOF</code></pre>
      </div>
    </div>
<h2 id="multi-cloud-automation" class="mobile-header">Multi-Cloud Automation</h2>
<h3 id="aws-infrastructure-automation" class="mobile-header">AWS Infrastructure Automation</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash">cat &gt; playbooks/aws-infrastructure.yml &lt;&lt;EOF
---
- name: AWS Infrastructure Automation
  hosts: localhost
  connection: local
  gather_facts: no
  vars:
    aws_region: &quot;{{ aws_region | default(&#039;us-west-2&#039;) }}&quot;
    vpc_cidr: &quot;{{ vpc_cidr | default(&#039;10.0.0.0/16&#039;) }}&quot;
    environment: &quot;{{ environment | default(&#039;production&#039;) }}&quot;

  tasks:
    # VPC Creation
    - name: Create VPC
      amazon.aws.ec2_vpc_info:
        filters:
          &quot;tag:Name&quot;: &quot;{{ environment }}-vpc&quot;
        region: &quot;{{ aws_region }}&quot;
      register: existing_vpc

    - name: Create new VPC if not exists
      amazon.aws.ec2_vpc_net:
        name: &quot;{{ environment }}-vpc&quot;
        cidr_block: &quot;{{ vpc_cidr }}&quot;
        region: &quot;{{ aws_region }}&quot;
        state: present
        dns_hostnames: yes
        dns_support: yes
        tags:
          Environment: &quot;{{ environment }}&quot;
          ManagedBy: ansible
      register: vpc
      when: existing_vpc.vpcs | length == 0

    # Security Groups
    - name: Create web security group
      amazon.aws.ec2_group:
        name: &quot;{{ environment }}-web-sg&quot;
        description: &quot;Security group for web servers&quot;
        vpc_id: &quot;{{ vpc.vpc.id if vpc.vpc is defined else existing_vpc.vpcs[0].vpc_id }}&quot;
        region: &quot;{{ aws_region }}&quot;
        rules:
          - proto: tcp
            ports:
              - 80
              - 443
            cidr_ip: 0.0.0.0/0
            rule_desc: &quot;HTTP and HTTPS access&quot;
          - proto: tcp
            ports:
              - 22
            group_id: &quot;{{ environment }}-bastion-sg&quot;
            rule_desc: &quot;SSH from bastion&quot;
        tags:
          Environment: &quot;{{ environment }}&quot;

    # Launch EC2 instances
    - name: Launch web servers
      amazon.aws.ec2_instance:
        name: &quot;{{ environment }}-web-{{ item }}&quot;
        instance_type: t3.medium
        image_id: ami-0c02fb55956c7d316  # Amazon Linux 2
        key_name: &quot;{{ ec2_key_name }}&quot;
        vpc_subnet_id: &quot;{{ web_subnet_id }}&quot;
        security_groups:
          - &quot;{{ environment }}-web-sg&quot;
        region: &quot;{{ aws_region }}&quot;
        state: running
        wait: yes
        wait_timeout: 300
        user_data: |
          #!/bin/bash
          yum update -y
          yum install -y python3
        tags:
          Environment: &quot;{{ environment }}&quot;
          Role: webserver
          Ansible: managed
      loop: &quot;{{ range(1, web_server_count + 1) | list }}&quot;
      register: web_instances

    # Add instances to inventory
    - name: Add web servers to inventory
      add_host:
        name: &quot;{{ item.instances[0].tags.Name }}&quot;
        hostname: &quot;{{ item.instances[0].public_ip_address }}&quot;
        groups: webservers
        ansible_ssh_private_key_file: &quot;~/.ssh/{{ ec2_key_name }}.pem&quot;
        ansible_user: ec2-user
      loop: &quot;{{ web_instances.results }}&quot;
      changed_when: false
EOF</code></pre>
      </div>
    </div>
<h3 id="kubernetes-cluster-management" class="mobile-header">Kubernetes Cluster Management</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash">cat &gt; playbooks/k8s-cluster-management.yml &lt;&lt;EOF
---
- name: Kubernetes Cluster Management with Ansible
  hosts: k8s_masters
  become: yes
  serial: 1
  vars:
    k8s_version: &quot;1.28.2&quot;
    containerd_version: &quot;1.6.24&quot;
    cni_version: &quot;1.3.0&quot;

  tasks:
    # Pre-flight checks
    - name: Check system requirements
      assert:
        that:
          - ansible_memtotal_mb &gt;= 1700
          - ansible_processor_cores &gt;= 2
        fail_msg: &quot;System doesn&#039;t meet minimum requirements&quot;

    - name: Verify connectivity to all nodes
      ping:
      delegate_to: &quot;{{ item }}&quot;
      loop: &quot;{{ groups[&#039;k8s_all&#039;] }}&quot;

    # Container runtime setup
    - name: Install containerd
      include_role:
        name: containerd
      vars:
        containerd_version: &quot;{{ containerd_version }}&quot;

    # Kubernetes installation
    - name: Install Kubernetes components
      include_role:
        name: kubernetes
      vars:
        kubernetes_version: &quot;{{ k8s_version }}&quot;

    # Cluster initialization
    - name: Initialize Kubernetes cluster
      shell: |
        kubeadm init \
          --pod-network-cidr=10.244.0.0/16 \
          --service-cidr=10.96.0.0/12 \
          --apiserver-advertise-address={{ ansible_default_ipv4.address }} \
          --node-name={{ inventory_hostname }}
      args:
        creates: /etc/kubernetes/admin.conf
      register: kubeadm_init

    - name: Create .kube directory
      file:
        path: &quot;{{ ansible_env.HOME }}/.kube&quot;
        state: directory
        mode: &#039;0755&#039;

    - name: Copy admin.conf to user&#039;s kube config
      copy:
        src: /etc/kubernetes/admin.conf
        dest: &quot;{{ ansible_env.HOME }}/.kube/config&quot;
        owner: &quot;{{ ansible_user }}&quot;
        group: &quot;{{ ansible_user }}&quot;
        mode: &#039;0644&#039;
        remote_src: yes

    # Network plugin installation
    - name: Install Flannel CNI
      shell: kubectl apply -f https://github.com/flannel-io/flannel/releases/latest/download/kube-flannel.yml
      environment:
        KUBECONFIG: &quot;{{ ansible_env.HOME }}/.kube/config&quot;

    # Join worker nodes
    - name: Get join command
      shell: kubeadm token create --print-join-command
      register: join_command
      when: inventory_hostname in groups[&#039;k8s_masters&#039;][0]

    - name: Join worker nodes to cluster
      shell: &quot;{{ hostvars[groups[&#039;k8s_masters&#039;][0]][&#039;join_command&#039;].stdout }}&quot;
      when: inventory_hostname in groups[&#039;k8s_workers&#039;]

  post_tasks:
    - name: Verify cluster status
      shell: kubectl get nodes
      environment:
        KUBECONFIG: &quot;{{ ansible_env.HOME }}/.kube/config&quot;
      register: cluster_status
      when: inventory_hostname in groups[&#039;k8s_masters&#039;][0]

    - name: Display cluster status
      debug:
        var: cluster_status.stdout_lines
      when: inventory_hostname in groups[&#039;k8s_masters&#039;][0]
EOF</code></pre>
      </div>
    </div>
<h2 id="performance-optimization" class="mobile-header">Performance Optimization</h2>
<h3 id="system-level-tuning" class="mobile-header">System-Level Tuning</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Optimize control machine for Ansible performance
# Kernel parameters for network performance
sudo tee -a /etc/sysctl.conf &gt; /dev/null &lt;&lt;EOF
# Ansible performance optimization
net.core.somaxconn = 8192
net.core.netdev_max_backlog = 5000
net.ipv4.tcp_max_syn_backlog = 8192
net.ipv4.tcp_max_tw_buckets = 400000
net.ipv4.tcp_tw_reuse = 1
net.ipv4.tcp_fin_timeout = 10
net.ipv4.ip_local_port_range = 1024 65535
net.core.rmem_default = 262144
net.core.rmem_max = 16777216
net.core.wmem_default = 262144
net.core.wmem_max = 16777216
fs.file-max = 100000
EOF

sudo sysctl -p

# Set resource limits for Ansible user
sudo tee -a /etc/security/limits.conf &gt; /dev/null &lt;&lt;EOF
ansible soft nofile 65536
ansible hard nofile 65536
ansible soft nproc 32768
ansible hard nproc 32768
EOF

# SSH client optimization
mkdir -p ~/.ssh
cat &gt;&gt; ~/.ssh/config &lt;&lt;EOF
Host *
    ControlMaster auto
    ControlPersist 3600
    ControlPath ~/.ssh/sockets/%r@%h-%p
    Compression yes
    ServerAliveInterval 60
    ServerAliveCountMax 3
    TCPKeepAlive yes
    ConnectTimeout 10
    StrictHostKeyChecking yes
    UserKnownHostsFile ~/.ssh/known_hosts
EOF

mkdir -p ~/.ssh/sockets</code></pre>
      </div>
    </div>
<h3 id="ansible-performance-configuration" class="mobile-header">Ansible Performance Configuration</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># High-performance ansible.cfg
cat &gt; ansible-performance.cfg &lt;&lt;EOF
[defaults]
# Core performance settings
forks = 50
poll_interval = 1
internal_poll_interval = 0.001
timeout = 30
host_key_checking = True
gather_timeout = 30
gathering = smart
fact_caching = redis
fact_caching_connection = localhost:6379:0
fact_caching_timeout = 86400
cache_plugins = memory

# Callback and display optimization
stdout_callback = yaml
callbacks_enabled = timer, profile_tasks, profile_roles
display_skipped_hosts = False
display_ok_hosts = False
display_failed_stderr = True

# SSH optimization
[ssh_connection]
ssh_args = -o ControlMaster=auto -o ControlPersist=3600s -o PreferredAuthentications=publickey -o Compression=yes
pipelining = True
control_path = ~/.ansible/sockets/%%h-%%p-%%r
retries = 3
ssh_executable = /usr/bin/ssh

# Connection persistence
[persistent_connection]
connect_timeout = 30
connect_retry_timeout = 15
command_timeout = 30

# Privilege escalation optimization
[privilege_escalation]
become_plugins = sudo, su, pbrun, pfexec, doas, dzdo, ksu, runas, machinectl
become_allow_same_user = False
become_ask_pass = False
EOF

# Use Redis for fact caching (install Redis first)
sudo apt install -y redis-server  # or relevant package manager
pip install redis

# Create performance monitoring script
cat &gt; ansible-performance-monitor.sh &lt;&lt;&#039;EOF&#039;
#!/bin/bash
# Monitor Ansible performance metrics

PLAYBOOK=&quot;$1&quot;
if [ -z &quot;$PLAYBOOK&quot; ]; then
    echo &quot;Usage: $0 &lt;playbook&gt;&quot;
    exit 1
fi

# Enable profiling
export ANSIBLE_CALLBACK_PLUGINS=&quot;~/.ansible/plugins/callback&quot;
export ANSIBLE_CALLBACKS_ENABLED=&quot;timer,profile_tasks,profile_roles&quot;

# Monitor system resources during playbook execution
(
    while pgrep -f ansible-playbook &gt; /dev/null; do
        echo &quot;$(date): CPU: $(top -bn1 | grep &quot;Cpu(s)&quot; | awk &#039;{print $2}&#039;), Memory: $(free -m | awk &#039;NR==2{printf &quot;%.1f%%&quot;, $3*100/$2 }&#039;)&quot;
        sleep 5
    done
) &amp;

# Run playbook with timing
time ansible-playbook &quot;$PLAYBOOK&quot; --diff

# Kill monitoring
pkill -P $$
EOF

chmod +x ansible-performance-monitor.sh</code></pre>
      </div>
    </div>
<h3 id="parallel-execution-strategies" class="mobile-header">Parallel Execution Strategies</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create high-performance playbook configuration
cat &gt; playbooks/high-performance-deployment.yml &lt;&lt;EOF
---
- name: High-Performance Deployment
  hosts: all
  become: yes
  strategy: free  # Parallel execution
  serial: &quot;30%&quot;   # Process 30% of hosts at a time
  max_fail_percentage: 10
  gather_facts: yes
  fact_caching: smart
  vars:
    deployment_batch_size: 10
    max_concurrent_tasks: 50

  pre_tasks:
    - name: Check system load
      shell: uptime | awk &#039;{print $(NF-2)}&#039; | sed &#039;s/,//&#039;
      register: system_load
      changed_when: false

    - name: Skip high-load systems
      meta: end_host
      when: system_load.stdout | float &gt; 5.0

  tasks:
    - name: Update packages with retries
      package:
        name: &quot;*&quot;
        state: latest
      retries: 3
      delay: 30
      async: 300
      poll: 10

    - name: Deploy configuration files in parallel
      template:
        src: &quot;{{ item.src }}&quot;
        dest: &quot;{{ item.dest }}&quot;
        mode: &quot;{{ item.mode | default(&#039;0644&#039;) }}&quot;
        backup: yes
      loop:
        - { src: &quot;nginx.conf.j2&quot;, dest: &quot;/etc/nginx/nginx.conf&quot; }
        - { src: &quot;mysql.cnf.j2&quot;, dest: &quot;/etc/mysql/my.cnf&quot; }
        - { src: &quot;redis.conf.j2&quot;, dest: &quot;/etc/redis/redis.conf&quot; }
      async: 120
      poll: 5
      register: config_deployment

    - name: Wait for all configuration deployments
      async_status:
        jid: &quot;{{ item.ansible_job_id }}&quot;
      loop: &quot;{{ config_deployment.results }}&quot;
      when: item.ansible_job_id is defined

  handlers:
    - name: restart services
      service:
        name: &quot;{{ item }}&quot;
        state: restarted
      loop:
        - nginx
        - mysql
        - redis
      listen: &quot;restart all services&quot;
EOF

# Performance monitoring playbook
cat &gt; playbooks/performance-monitoring.yml &lt;&lt;EOF
---
- name: Performance Monitoring Setup
  hosts: all
  become: yes
  vars:
    monitoring_tools:
      - htop
      - iotop
      - nethogs
      - dstat
      - sysstat
      - perf

  tasks:
    - name: Install performance monitoring tools
      package:
        name: &quot;{{ monitoring_tools }}&quot;
        state: present

    - name: Configure system monitoring
      template:
        src: templates/sysstat.j2
        dest: /etc/default/sysstat
        backup: yes
      when: ansible_os_family == &quot;Debian&quot;

    - name: Enable system statistics collection
      service:
        name: &quot;{{ &#039;sysstat&#039; if ansible_os_family == &#039;Debian&#039; else &#039;sysstat&#039; }}&quot;
        enabled: yes
        state: started

    - name: Create performance monitoring script
      template:
        src: templates/performance-monitor.sh.j2
        dest: /usr/local/bin/performance-monitor.sh
        mode: &#039;0755&#039;

    - name: Schedule performance monitoring
      cron:
        name: &quot;Performance monitoring&quot;
        minute: &quot;*/5&quot;
        job: &quot;/usr/local/bin/performance-monitor.sh&quot;
        user: root
EOF</code></pre>
      </div>
    </div>
<h2 id="reverse-proxy-setup" class="mobile-header">Reverse Proxy Setup</h2>
<h3 id="nginx-configuration-for-ansible-awxtower" class="mobile-header">nginx Configuration for Ansible AWX/Tower</h3>
<div class="mobile-code-block" data-language="nginx">
      <div class="mobile-code-header">
        <span class="mobile-code-language">nginx</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-nginx"># /etc/nginx/sites-available/ansible-awx
upstream ansible_awx {
    server 127.0.0.1:8080;
    server 127.0.0.1:8081 backup;
}

server {
    listen 80;
    listen [::]:80;
    server_name ansible.example.com;
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    listen [::]:443 ssl http2;
    server_name ansible.example.com;

    # SSL Configuration
    ssl_certificate /etc/ssl/certs/ansible.example.com.crt;
    ssl_certificate_key /etc/ssl/private/ansible.example.com.key;
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384;
    ssl_prefer_server_ciphers off;

    # Security headers
    add_header X-Frame-Options DENY;
    add_header X-Content-Type-Options nosniff;
    add_header X-XSS-Protection &quot;1; mode=block&quot;;
    add_header Strict-Transport-Security &quot;max-age=63072000; includeSubDomains; preload&quot;;

    location / {
        proxy_pass http://ansible_awx;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_buffering off;
        proxy_request_buffering off;
    }

    # WebSocket support
    location /websocket/ {
        proxy_pass http://ansible_awx;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection &quot;upgrade&quot;;
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}</code></pre>
      </div>
    </div>
<h3 id="haproxy-configuration" class="mobile-header">HAProxy Configuration</h3>
<div class="mobile-code-block" data-language="haproxy">
      <div class="mobile-code-header">
        <span class="mobile-code-language">haproxy</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-haproxy"># /etc/haproxy/haproxy.cfg
global
    daemon
    chroot /var/lib/haproxy
    user haproxy
    group haproxy
    log stdout local0 info

defaults
    mode http
    timeout connect 5000ms
    timeout client 50000ms
    timeout server 50000ms
    option httplog

frontend ansible_frontend
    bind *:80
    bind *:443 ssl crt /etc/ssl/certs/ansible.pem
    redirect scheme https if !{ ssl_fc }
    default_backend ansible_backend

backend ansible_backend
    balance roundrobin
    option httpchk GET /api/v2/ping/
    server awx1 127.0.0.1:8080 check
    server awx2 127.0.0.1:8081 check backup</code></pre>
      </div>
    </div>
<h3 id="apache-configuration" class="mobile-header">Apache Configuration</h3>
<div class="mobile-code-block" data-language="apache">
      <div class="mobile-code-header">
        <span class="mobile-code-language">apache</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-apache"># /etc/apache2/sites-available/ansible-awx.conf
&lt;VirtualHost *:80&gt;
    ServerName ansible.example.com
    Redirect permanent / https://ansible.example.com/
&lt;/VirtualHost&gt;

&lt;VirtualHost *:443&gt;
    ServerName ansible.example.com
    
    SSLEngine on
    SSLCertificateFile /etc/ssl/certs/ansible.example.com.crt
    SSLCertificateKeyFile /etc/ssl/private/ansible.example.com.key
    
    # Security headers
    Header always set X-Frame-Options DENY
    Header always set X-Content-Type-Options nosniff
    Header always set X-XSS-Protection &quot;1; mode=block&quot;
    Header always set Strict-Transport-Security &quot;max-age=63072000; includeSubDomains; preload&quot;
    
    ProxyRequests Off
    ProxyPreserveHost On
    
    ProxyPass /websocket/ ws://127.0.0.1:8080/websocket/
    ProxyPassReverse /websocket/ ws://127.0.0.1:8080/websocket/
    
    ProxyPass / http://127.0.0.1:8080/
    ProxyPassReverse / http://127.0.0.1:8080/
&lt;/VirtualHost&gt;</code></pre>
      </div>
    </div>
<h2 id="monitoring" class="mobile-header">Monitoring</h2>
<h3 id="built-in-monitoring-and-logging" class="mobile-header">Built-in Monitoring and Logging</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create comprehensive monitoring playbook
cat &gt; playbooks/ansible-monitoring.yml &lt;&lt;EOF
---
- name: Ansible Infrastructure Monitoring
  hosts: all
  become: yes
  vars:
    monitoring_tools:
      - name: prometheus
        port: 9090
      - name: grafana
        port: 3000
      - name: alertmanager
        port: 9093
    
    log_paths:
      - /var/log/ansible
      - /var/log/awx
      - /var/log/syslog
      - /var/log/auth.log

  tasks:
    # Install monitoring agents
    - name: Install Prometheus Node Exporter
      get_url:
        url: https://github.com/prometheus/node_exporter/releases/download/v1.6.1/node_exporter-1.6.1.linux-amd64.tar.gz
        dest: /tmp/node_exporter.tar.gz
        mode: &#039;0644&#039;

    - name: Extract Node Exporter
      unarchive:
        src: /tmp/node_exporter.tar.gz
        dest: /opt/
        remote_src: yes
        creates: /opt/node_exporter-1.6.1.linux-amd64

    - name: Create node_exporter user
      user:
        name: node_exporter
        system: yes
        shell: /bin/false
        home: /var/lib/node_exporter

    - name: Install Node Exporter binary
      copy:
        src: /opt/node_exporter-1.6.1.linux-amd64/node_exporter
        dest: /usr/local/bin/node_exporter
        mode: &#039;0755&#039;
        owner: node_exporter
        group: node_exporter
        remote_src: yes

    - name: Create Node Exporter service
      template:
        src: templates/node_exporter.service.j2
        dest: /etc/systemd/system/node_exporter.service
      notify: restart node_exporter

    - name: Enable and start Node Exporter
      systemd:
        name: node_exporter
        state: started
        enabled: yes
        daemon_reload: yes

    # Log monitoring setup
    - name: Install rsyslog for centralized logging
      package:
        name: rsyslog
        state: present

    - name: Configure rsyslog for Ansible logs
      template:
        src: templates/ansible-rsyslog.conf.j2
        dest: /etc/rsyslog.d/50-ansible.conf
        backup: yes
      notify: restart rsyslog

    # Create monitoring scripts
    - name: Create Ansible health check script
      template:
        src: templates/ansible-health-check.sh.j2
        dest: /usr/local/bin/ansible-health-check.sh
        mode: &#039;0755&#039;

    - name: Schedule health checks
      cron:
        name: &quot;Ansible health check&quot;
        minute: &quot;*/5&quot;
        job: &quot;/usr/local/bin/ansible-health-check.sh&quot;
        user: root

  handlers:
    - name: restart node_exporter
      systemd:
        name: node_exporter
        state: restarted

    - name: restart rsyslog
      systemd:
        name: rsyslog
        state: restarted
EOF</code></pre>
      </div>
    </div>
<h3 id="prometheus-configuration-for-ansible" class="mobile-header">Prometheus Configuration for Ansible</h3>
<div class="mobile-code-block" data-language="yaml">
      <div class="mobile-code-header">
        <span class="mobile-code-language">yaml</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-yaml"># prometheus.yml
global:
  scrape_interval: 15s
  evaluation_interval: 15s

rule_files:
  - &quot;ansible_rules.yml&quot;

alerting:
  alertmanagers:
    - static_configs:
        - targets:
          - alertmanager:9093

scrape_configs:
  - job_name: &#039;ansible-nodes&#039;
    static_configs:
      - targets:
        - &#039;ansible-control:9100&#039;
        - &#039;web-01:9100&#039;
        - &#039;web-02:9100&#039;
        - &#039;db-01:9100&#039;

  - job_name: &#039;ansible-awx&#039;
    static_configs:
      - targets:
        - &#039;awx-web:8080&#039;
        - &#039;awx-task:8080&#039;
    metrics_path: &#039;/api/v2/metrics/&#039;
    scrape_interval: 30s

  - job_name: &#039;node-exporter&#039;
    static_configs:
      - targets:
        - &#039;node1:9100&#039;
        - &#039;node2:9100&#039;
        - &#039;node3:9100&#039;</code></pre>
      </div>
    </div>
<h3 id="grafana-dashboard-configuration" class="mobile-header">Grafana Dashboard Configuration</h3>
<div class="mobile-code-block" data-language="json">
      <div class="mobile-code-header">
        <span class="mobile-code-language">json</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-json">{
  &quot;dashboard&quot;: {
    &quot;title&quot;: &quot;Ansible Infrastructure Monitoring&quot;,
    &quot;panels&quot;: [
      {
        &quot;title&quot;: &quot;Ansible Job Success Rate&quot;,
        &quot;type&quot;: &quot;stat&quot;,
        &quot;targets&quot;: [
          {
            &quot;expr&quot;: &quot;(ansible_job_successful_total / ansible_job_total) * 100&quot;,
            &quot;legendFormat&quot;: &quot;Success Rate %&quot;
          }
        ]
      },
      {
        &quot;title&quot;: &quot;Node Resource Usage&quot;,
        &quot;type&quot;: &quot;graph&quot;,
        &quot;targets&quot;: [
          {
            &quot;expr&quot;: &quot;100 - (avg(rate(node_cpu_seconds_total{mode=\&quot;idle\&quot;}[5m])) * 100)&quot;,
            &quot;legendFormat&quot;: &quot;CPU Usage %&quot;
          },
          {
            &quot;expr&quot;: &quot;(1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes)) * 100&quot;,
            &quot;legendFormat&quot;: &quot;Memory Usage %&quot;
          }
        ]
      }
    ]
  }
}</code></pre>
      </div>
    </div>
<h2 id="integration-examples" class="mobile-header">Integration Examples</h2>
<h3 id="python-integration-with-ansible" class="mobile-header">Python Integration with Ansible</h3>
<div class="mobile-code-block" data-language="python">
      <div class="mobile-code-header">
        <span class="mobile-code-language">python</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-python">#!/usr/bin/env python3
# ansible_integration.py

import ansible_runner
import subprocess
import json
import os
from pathlib import Path

class AnsibleManager:
    def __init__(self, project_dir, inventory_path):
        self.project_dir = Path(project_dir)
        self.inventory_path = inventory_path
        self.private_data_dir = self.project_dir / &#039;runner_data&#039;
        
    def run_playbook(self, playbook_name, extra_vars=None, limit=None):
        &quot;&quot;&quot;Run an Ansible playbook with error handling&quot;&quot;&quot;
        try:
            result = ansible_runner.run(
                private_data_dir=str(self.private_data_dir),
                playbook=playbook_name,
                inventory=self.inventory_path,
                extravars=extra_vars or {},
                limit=limit,
                verbosity=1
            )
            
            return {
                &#039;status&#039;: result.status,
                &#039;rc&#039;: result.rc,
                &#039;stdout&#039;: result.stdout.read() if result.stdout else &#039;&#039;,
                &#039;stats&#039;: result.stats
            }
        except Exception as e:
            return {&#039;status&#039;: &#039;failed&#039;, &#039;error&#039;: str(e)}
    
    def run_ad_hoc_command(self, module, module_args, hosts=&#039;all&#039;):
        &quot;&quot;&quot;Run ad-hoc Ansible commands&quot;&quot;&quot;
        try:
            result = ansible_runner.run(
                private_data_dir=str(self.private_data_dir),
                inventory=self.inventory_path,
                module=module,
                module_args=module_args,
                host_pattern=hosts
            )
            
            return {
                &#039;status&#039;: result.status,
                &#039;rc&#039;: result.rc,
                &#039;events&#039;: [event for event in result.events if event[&#039;event&#039;] == &#039;runner_on_ok&#039;]
            }
        except Exception as e:
            return {&#039;status&#039;: &#039;failed&#039;, &#039;error&#039;: str(e)}
    
    def get_inventory_info(self):
        &quot;&quot;&quot;Get inventory information&quot;&quot;&quot;
        cmd = [&#039;ansible-inventory&#039;, &#039;-i&#039;, self.inventory_path, &#039;--list&#039;]
        try:
            result = subprocess.run(cmd, capture_output=True, text=True, check=True)
            return json.loads(result.stdout)
        except subprocess.CalledProcessError as e:
            return {&#039;error&#039;: e.stderr}

# Example usage
if __name__ == &#039;__main__&#039;:
    ansible_mgr = AnsibleManager(
        project_dir=&#039;/home/ansible/infrastructure&#039;,
        inventory_path=&#039;inventories/production/hosts.yml&#039;
    )
    
    # Run a playbook
    result = ansible_mgr.run_playbook(
        &#039;site.yml&#039;,
        extra_vars={&#039;environment&#039;: &#039;production&#039;},
        limit=&#039;webservers&#039;
    )
    print(f&quot;Playbook execution: {result[&#039;status&#039;]}&quot;)
    
    # Run ad-hoc command
    ping_result = ansible_mgr.run_ad_hoc_command(&#039;ping&#039;, &#039;&#039;, &#039;all&#039;)
    print(f&quot;Ping test: {ping_result[&#039;status&#039;]}&quot;)
    
    # Get inventory info
    inventory = ansible_mgr.get_inventory_info()
    print(f&quot;Managed hosts: {len(inventory.get(&#039;_meta&#039;, {}).get(&#039;hostvars&#039;, {}))}&quot;)</code></pre>
      </div>
    </div>
<h3 id="nodejs-integration" class="mobile-header">Node.js Integration</h3>
<div class="mobile-code-block" data-language="javascript">
      <div class="mobile-code-header">
        <span class="mobile-code-language">javascript</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-javascript">// ansible_integration.js
const { spawn, exec } = require(&#039;child_process&#039;);
const path = require(&#039;path&#039;);
const fs = require(&#039;fs&#039;).promises;

class AnsibleManager {
    constructor(projectDir, inventoryPath) {
        this.projectDir = projectDir;
        this.inventoryPath = inventoryPath;
    }
    
    async runPlaybook(playbookName, options = {}) {
        return new Promise((resolve, reject) =&gt; {
            const args = [
                &#039;ansible-playbook&#039;,
                &#039;-i&#039;, this.inventoryPath,
                path.join(this.projectDir, &#039;playbooks&#039;, playbookName)
            ];
            
            if (options.limit) {
                args.push(&#039;--limit&#039;, options.limit);
            }
            
            if (options.extraVars) {
                args.push(&#039;--extra-vars&#039;, JSON.stringify(options.extraVars));
            }
            
            if (options.check) {
                args.push(&#039;--check&#039;);
            }
            
            const process = spawn(args[0], args.slice(1), {
                cwd: this.projectDir,
                stdio: [&#039;pipe&#039;, &#039;pipe&#039;, &#039;pipe&#039;]
            });
            
            let stdout = &#039;&#039;;
            let stderr = &#039;&#039;;
            
            process.stdout.on(&#039;data&#039;, (data) =&gt; {
                stdout += data.toString();
            });
            
            process.stderr.on(&#039;data&#039;, (data) =&gt; {
                stderr += data.toString();
            });
            
            process.on(&#039;close&#039;, (code) =&gt; {
                resolve({
                    exitCode: code,
                    stdout: stdout,
                    stderr: stderr,
                    success: code === 0
                });
            });
            
            process.on(&#039;error&#039;, reject);
        });
    }
    
    async runAdHocCommand(module, args, hosts = &#039;all&#039;) {
        return new Promise((resolve, reject) =&gt; {
            const command = `ansible ${hosts} -i ${this.inventoryPath} -m ${module} -a &quot;${args}&quot;`;
            
            exec(command, { cwd: this.projectDir }, (error, stdout, stderr) =&gt; {
                if (error) {
                    reject({ error, stderr });
                } else {
                    resolve({ stdout, stderr });
                }
            });
        });
    }
    
    async getInventoryInfo() {
        return new Promise((resolve, reject) =&gt; {
            const command = `ansible-inventory -i ${this.inventoryPath} --list`;
            
            exec(command, { cwd: this.projectDir }, (error, stdout, stderr) =&gt; {
                if (error) {
                    reject({ error, stderr });
                } else {
                    try {
                        resolve(JSON.parse(stdout));
                    } catch (parseError) {
                        reject({ error: parseError, stdout });
                    }
                }
            });
        });
    }
}

// Example usage
async function main() {
    const ansible = new AnsibleManager(&#039;/home/ansible/infrastructure&#039;, &#039;inventories/production/hosts.yml&#039;);
    
    try {
        // Run playbook
        const result = await ansible.runPlaybook(&#039;site.yml&#039;, {
            limit: &#039;webservers&#039;,
            extraVars: { environment: &#039;production&#039; },
            check: true
        });
        console.log(&#039;Playbook check result:&#039;, result.success);
        
        // Run ad-hoc command
        const pingResult = await ansible.runAdHocCommand(&#039;ping&#039;, &#039;&#039;, &#039;all&#039;);
        console.log(&#039;Ping result:&#039;, pingResult.stdout);
        
        // Get inventory
        const inventory = await ansible.getInventoryInfo();
        console.log(&#039;Inventory hosts:&#039;, Object.keys(inventory._meta.hostvars).length);
        
    } catch (error) {
        console.error(&#039;Error:&#039;, error);
    }
}

if (require.main === module) {
    main();
}

module.exports = AnsibleManager;</code></pre>
      </div>
    </div>
<h3 id="rest-api-integration" class="mobile-header">REST API Integration</h3>
<div class="mobile-code-block" data-language="python">
      <div class="mobile-code-header">
        <span class="mobile-code-language">python</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-python">#!/usr/bin/env python3
# ansible_rest_api.py

from flask import Flask, request, jsonify
import ansible_runner
import tempfile
import os
import yaml
from pathlib import Path

app = Flask(__name__)

class AnsibleAPI:
    def __init__(self, base_dir):
        self.base_dir = Path(base_dir)
        self.inventory_file = self.base_dir / &#039;inventory&#039; / &#039;hosts.yml&#039;
        
    def execute_playbook(self, playbook_content, inventory_data, extra_vars=None):
        &quot;&quot;&quot;Execute a playbook with given inventory and variables&quot;&quot;&quot;
        with tempfile.TemporaryDirectory() as tmpdir:
            tmpdir = Path(tmpdir)
            
            # Write playbook
            playbook_file = tmpdir / &#039;playbook.yml&#039;
            with open(playbook_file, &#039;w&#039;) as f:
                yaml.dump(playbook_content, f, default_flow_style=False)
            
            # Write inventory
            inventory_file = tmpdir / &#039;inventory.yml&#039;
            with open(inventory_file, &#039;w&#039;) as f:
                yaml.dump(inventory_data, f, default_flow_style=False)
            
            # Run playbook
            result = ansible_runner.run(
                private_data_dir=str(tmpdir),
                playbook=&#039;playbook.yml&#039;,
                inventory=str(inventory_file),
                extravars=extra_vars or {}
            )
            
            return {
                &#039;status&#039;: result.status,
                &#039;rc&#039;: result.rc,
                &#039;stats&#039;: result.stats,
                &#039;events&#039;: [e for e in result.events if e[&#039;event&#039;] == &#039;playbook_on_stats&#039;]
            }

ansible_api = AnsibleAPI(&#039;/home/ansible&#039;)

@app.route(&#039;/api/playbook/run&#039;, methods=[&#039;POST&#039;])
def run_playbook():
    try:
        data = request.get_json()
        
        playbook = data.get(&#039;playbook&#039;)
        inventory = data.get(&#039;inventory&#039;)
        extra_vars = data.get(&#039;extra_vars&#039;, {})
        
        if not playbook or not inventory:
            return jsonify({&#039;error&#039;: &#039;playbook and inventory are required&#039;}), 400
            
        result = ansible_api.execute_playbook(playbook, inventory, extra_vars)
        
        return jsonify({
            &#039;success&#039;: result[&#039;status&#039;] == &#039;successful&#039;,
            &#039;status&#039;: result[&#039;status&#039;],
            &#039;return_code&#039;: result[&#039;rc&#039;],
            &#039;stats&#039;: result[&#039;stats&#039;]
        })
        
    except Exception as e:
        return jsonify({&#039;error&#039;: str(e)}), 500

@app.route(&#039;/api/inventory&#039;, methods=[&#039;GET&#039;])
def get_inventory():
    try:
        with open(ansible_api.inventory_file, &#039;r&#039;) as f:
            inventory = yaml.safe_load(f)
        return jsonify(inventory)
    except Exception as e:
        return jsonify({&#039;error&#039;: str(e)}), 500

@app.route(&#039;/api/health&#039;, methods=[&#039;GET&#039;])
def health_check():
    return jsonify({
        &#039;status&#039;: &#039;healthy&#039;,
        &#039;ansible_version&#039;: &#039;2.15.0&#039;,  # This should be dynamic
        &#039;base_dir&#039;: str(ansible_api.base_dir)
    })

if __name__ == &#039;__main__&#039;:
    app.run(host=&#039;0.0.0.0&#039;, port=5000, debug=False)</code></pre>
      </div>
    </div>
<h2 id="maintenance" class="mobile-header">Maintenance</h2>
<h3 id="regular-maintenance-tasks" class="mobile-header">Regular Maintenance Tasks</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash">#!/bin/bash
# ansible-maintenance.sh - Comprehensive maintenance script

# Set variables
ANSIBLE_HOME=&quot;/home/ansible&quot;
LOG_FILE=&quot;/var/log/ansible-maintenance.log&quot;
BACKUP_DIR=&quot;/backup/ansible&quot;
DATE=$(date +&quot;%Y%m%d_%H%M%S&quot;)

# Logging function
log() {
    echo &quot;[$(date &#039;+%Y-%m-%d %H:%M:%S&#039;)] $1&quot; | tee -a &quot;$LOG_FILE&quot;
}

log &quot;Starting Ansible maintenance tasks&quot;

# 1. Update Ansible and collections
log &quot;Updating Ansible and collections&quot;
pip install --upgrade ansible ansible-core
ansible-galaxy collection install --upgrade community.general
ansible-galaxy collection install --upgrade ansible.posix
ansible-galaxy collection install --upgrade kubernetes.core

# 2. Clean up old logs
log &quot;Cleaning up old log files&quot;
find &quot;$ANSIBLE_HOME/logs&quot; -type f -name &quot;*.log&quot; -mtime +30 -delete
find /var/log/ansible -type f -name &quot;*.log&quot; -mtime +30 -delete

# 3. Update facts cache
log &quot;Refreshing facts cache&quot;
ansible all -m setup --tree /tmp/facts_cache/

# 4. Validate all playbooks
log &quot;Validating playbooks syntax&quot;
find &quot;$ANSIBLE_HOME/playbooks&quot; -name &quot;*.yml&quot; -exec ansible-playbook {} --syntax-check \;
if [ $? -eq 0 ]; then
    log &quot;All playbooks passed syntax validation&quot;
else
    log &quot;ERROR: Some playbooks failed syntax validation&quot;
fi

# 5. Check inventory health
log &quot;Checking inventory health&quot;
ansible-inventory --list &gt; /tmp/inventory_check.json
if [ $? -eq 0 ]; then
    log &quot;Inventory syntax is valid&quot;
else
    log &quot;ERROR: Inventory has syntax errors&quot;
fi

# 6. Test connectivity to all hosts
log &quot;Testing connectivity to managed hosts&quot;
ansible all -m ping --one-line &gt; &quot;/tmp/ping_results_$DATE.txt&quot;
FAILED_HOSTS=$(grep -c &quot;FAILED&quot; &quot;/tmp/ping_results_$DATE.txt&quot;)
if [ &quot;$FAILED_HOSTS&quot; -gt 0 ]; then
    log &quot;WARNING: $FAILED_HOSTS hosts failed connectivity test&quot;
    grep &quot;FAILED&quot; &quot;/tmp/ping_results_$DATE.txt&quot; &gt;&gt; &quot;$LOG_FILE&quot;
else
    log &quot;All hosts are reachable&quot;
fi

# 7. Backup configurations
log &quot;Creating configuration backup&quot;
mkdir -p &quot;$BACKUP_DIR/$DATE&quot;
tar -czf &quot;$BACKUP_DIR/$DATE/ansible-config-$DATE.tar.gz&quot; \
    &quot;$ANSIBLE_HOME&quot;/{ansible.cfg,inventories,group_vars,host_vars,playbooks,roles}

# 8. Clean up old backups (keep 30 days)
log &quot;Cleaning up old backups&quot;
find &quot;$BACKUP_DIR&quot; -type d -mtime +30 -exec rm -rf {} \; 2&gt;/dev/null

# 9. Update SSH known_hosts
log &quot;Updating SSH known_hosts&quot;
for host in $(ansible all --list-hosts | grep -v hosts); do
    ssh-keyscan -H &quot;$host&quot; &gt;&gt; ~/.ssh/known_hosts 2&gt;/dev/null
done
sort -u ~/.ssh/known_hosts &gt; ~/.ssh/known_hosts.tmp &amp;&amp; mv ~/.ssh/known_hosts.tmp ~/.ssh/known_hosts

# 10. Generate maintenance report
log &quot;Generating maintenance report&quot;
REPORT_FILE=&quot;/tmp/ansible-maintenance-report-$DATE.txt&quot;
cat &gt; &quot;$REPORT_FILE&quot; &lt;&lt; EOF
Ansible Maintenance Report - $DATE
========================================

Ansible Version: $(ansible --version | head -1)
Python Version: $(python3 --version)
System: $(uname -a)

Inventory Summary:
$(ansible-inventory --list | jq &#039;.&quot;_meta&quot;.&quot;hostvars&quot; | keys | length&#039;) managed hosts

Connectivity Test Results:
$(wc -l &lt; &quot;/tmp/ping_results_$DATE.txt&quot;) total hosts tested
$FAILED_HOSTS hosts failed connectivity

Playbook Validation: $(find &quot;$ANSIBLE_HOME/playbooks&quot; -name &quot;*.yml&quot; | wc -l) playbooks checked

Disk Usage:
$(df -h &quot;$ANSIBLE_HOME&quot; | tail -1)

Backup Created: $BACKUP_DIR/$DATE/ansible-config-$DATE.tar.gz
Backup Size: $(du -sh &quot;$BACKUP_DIR/$DATE/ansible-config-$DATE.tar.gz&quot; | cut -f1)

Recent Log Entries (last 10):
$(tail -10 &quot;$LOG_FILE&quot;)
EOF

log &quot;Maintenance report created: $REPORT_FILE&quot;

# 11. Send report via email (optional)
if command -v mail &gt;/dev/null 2&gt;&amp;1; then
    mail -s &quot;Ansible Maintenance Report - $DATE&quot; admin@example.com &lt; &quot;$REPORT_FILE&quot;
    log &quot;Maintenance report emailed&quot;
fi

log &quot;Ansible maintenance tasks completed&quot;

# Schedule this script to run weekly
# Add to crontab: 0 2 * * 0 /usr/local/bin/ansible-maintenance.sh</code></pre>
      </div>
    </div>
<h3 id="ansible-version-management" class="mobile-header">Ansible Version Management</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash">#!/bin/bash
# ansible-version-manager.sh - Manage multiple Ansible versions

ANSIBLE_VERSIONS_DIR=&quot;/opt/ansible-versions&quot;
CURRENT_LINK=&quot;/opt/ansible/current&quot;

install_ansible_version() {
    local version=&quot;$1&quot;
    local install_dir=&quot;$ANSIBLE_VERSIONS_DIR/$version&quot;
    
    if [ -d &quot;$install_dir&quot; ]; then
        echo &quot;Ansible $version is already installed&quot;
        return 0
    fi
    
    echo &quot;Installing Ansible $version...&quot;
    python3 -m venv &quot;$install_dir&quot;
    source &quot;$install_dir/bin/activate&quot;
    
    pip install --upgrade pip
    pip install &quot;ansible-core==$version&quot;
    pip install ansible
    
    # Install essential collections
    ansible-galaxy collection install community.general
    ansible-galaxy collection install ansible.posix
    ansible-galaxy collection install kubernetes.core
    
    deactivate
    echo &quot;Ansible $version installed successfully&quot;
}

switch_ansible_version() {
    local version=&quot;$1&quot;
    local install_dir=&quot;$ANSIBLE_VERSIONS_DIR/$version&quot;
    
    if [ ! -d &quot;$install_dir&quot; ]; then
        echo &quot;Ansible $version is not installed&quot;
        echo &quot;Available versions:&quot;
        ls -1 &quot;$ANSIBLE_VERSIONS_DIR&quot; 2&gt;/dev/null || echo &quot;No versions installed&quot;
        return 1
    fi
    
    rm -f &quot;$CURRENT_LINK&quot;
    ln -s &quot;$install_dir&quot; &quot;$CURRENT_LINK&quot;
    
    echo &quot;Switched to Ansible $version&quot;
    echo &quot;Current version: $(&quot;$CURRENT_LINK/bin/ansible&quot; --version | head -1)&quot;
}

list_versions() {
    echo &quot;Installed Ansible versions:&quot;
    ls -1 &quot;$ANSIBLE_VERSIONS_DIR&quot; 2&gt;/dev/null || echo &quot;No versions installed&quot;
    
    if [ -L &quot;$CURRENT_LINK&quot; ]; then
        local current=$(readlink &quot;$CURRENT_LINK&quot; | basename)
        echo &quot;Current version: $current&quot;
    else
        echo &quot;No current version set&quot;
    fi
}

remove_version() {
    local version=&quot;$1&quot;
    local install_dir=&quot;$ANSIBLE_VERSIONS_DIR/$version&quot;
    
    if [ ! -d &quot;$install_dir&quot; ]; then
        echo &quot;Ansible $version is not installed&quot;
        return 1
    fi
    
    if [ &quot;$(readlink &quot;$CURRENT_LINK&quot; 2&gt;/dev/null)&quot; = &quot;$install_dir&quot; ]; then
        echo &quot;Cannot remove currently active version&quot;
        return 1
    fi
    
    rm -rf &quot;$install_dir&quot;
    echo &quot;Removed Ansible $version&quot;
}

case &quot;$1&quot; in
    install)
        install_ansible_version &quot;$2&quot;
        ;;
    switch)
        switch_ansible_version &quot;$2&quot;
        ;;
    list)
        list_versions
        ;;
    remove)
        remove_version &quot;$2&quot;
        ;;
    *)
        echo &quot;Usage: $0 {install|switch|list|remove} [version]&quot;
        echo &quot;Examples:&quot;
        echo &quot;  $0 install 2.15.0&quot;
        echo &quot;  $0 switch 2.15.0&quot;
        echo &quot;  $0 list&quot;
        echo &quot;  $0 remove 2.14.0&quot;
        exit 1
        ;;
esac</code></pre>
      </div>
    </div>
<h3 id="performance-monitoring-and-optimization" class="mobile-header">Performance Monitoring and Optimization</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash">#!/bin/bash
# ansible-performance-monitor.sh - Monitor and optimize Ansible performance

log_performance() {
    local playbook=&quot;$1&quot;
    local start_time=$(date +%s)
    local log_file=&quot;/var/log/ansible-performance.log&quot;
    
    # Run playbook with timing
    /usr/bin/time -v ansible-playbook &quot;$playbook&quot; --extra-vars=&quot;gather_facts=True&quot; 2&gt;&amp;1 | \
    tee &quot;/tmp/ansible-run-$start_time.log&quot;
    
    local end_time=$(date +%s)
    local duration=$((end_time - start_time))
    
    echo &quot;[$(date &#039;+%Y-%m-%d %H:%M:%S&#039;)] Playbook: $playbook, Duration: ${duration}s&quot; &gt;&gt; &quot;$log_file&quot;
    
    # Extract performance metrics
    local max_memory=$(grep &quot;Maximum resident set size&quot; &quot;/tmp/ansible-run-$start_time.log&quot; | awk &#039;{print $6}&#039;)
    local user_time=$(grep &quot;User time&quot; &quot;/tmp/ansible-run-$start_time.log&quot; | awk &#039;{print $4}&#039;)
    local system_time=$(grep &quot;System time&quot; &quot;/tmp/ansible-run-$start_time.log&quot; | awk &#039;{print $4}&#039;)
    
    echo &quot;Performance Metrics - Memory: ${max_memory}KB, User: ${user_time}s, System: ${system_time}s&quot; &gt;&gt; &quot;$log_file&quot;
    
    # Clean up
    rm &quot;/tmp/ansible-run-$start_time.log&quot;
}

# Example usage in a wrapper script
if [ &quot;$1&quot; = &quot;monitor&quot; ] &amp;&amp; [ -n &quot;$2&quot; ]; then
    log_performance &quot;$2&quot;
else
    echo &quot;Usage: $0 monitor &lt;playbook_path&gt;&quot;
    exit 1
fi</code></pre>
      </div>
    </div>
<h2 id="testing-and-validation" class="mobile-header">Testing and Validation</h2>
<h3 id="molecule-testing-framework" class="mobile-header">Molecule Testing Framework</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Install Molecule for role testing
pip install molecule[docker] molecule[vagrant] molecule[libvirt]

# Initialize Molecule in role directory
cd roles/nginx
molecule init scenario --driver-name docker

# Create molecule configuration
cat &gt; molecule/default/molecule.yml &lt;&lt;EOF
---
dependency:
  name: galaxy
driver:
  name: docker
platforms:
  - name: nginx-ubuntu
    image: ubuntu:22.04
    pre_build_image: true
    privileged: true
    volumes:
      - /sys/fs/cgroup:/sys/fs/cgroup:ro
    command: /lib/systemd/systemd
    networks:
      - name: molecule
  - name: nginx-centos
    image: centos:8
    pre_build_image: true
    privileged: true
    volumes:
      - /sys/fs/cgroup:/sys/fs/cgroup:ro
    command: /usr/sbin/init
    networks:
      - name: molecule
provisioner:
  name: ansible
  config_options:
    defaults:
      callbacks_enabled: profile_tasks,timer,yaml
  inventory:
    host_vars:
      nginx-ubuntu:
        ansible_python_interpreter: /usr/bin/python3
      nginx-centos:
        ansible_python_interpreter: /usr/bin/python3
verifier:
  name: ansible
lint: |
  set -e
  yamllint .
  ansible-lint
  flake8
EOF

# Create test playbook
cat &gt; molecule/default/converge.yml &lt;&lt;EOF
---
- name: Converge
  hosts: all
  become: true
  tasks:
    - name: &quot;Include nginx role&quot;
      include_role:
        name: nginx
      vars:
        nginx_vhosts:
          - name: default
            server_name: localhost
            listen: 80
            root: /var/www/html
            enabled: true
EOF

# Create test verification
cat &gt; molecule/default/verify.yml &lt;&lt;EOF
---
- name: Verify
  hosts: all
  gather_facts: false
  tasks:
    - name: Check if NGINX is running
      uri:
        url: http://localhost
        method: GET
      register: nginx_check

    - name: Verify NGINX is responding
      assert:
        that:
          - nginx_check.status == 200
        fail_msg: &quot;NGINX is not responding correctly&quot;

    - name: Check NGINX configuration
      shell: nginx -t
      changed_when: false

    - name: Verify NGINX process
      shell: pgrep nginx
      changed_when: false
EOF

# Run tests
molecule test</code></pre>
      </div>
    </div>
<h3 id="ansible-lint-and-security-scanning" class="mobile-header">Ansible Lint and Security Scanning</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Install Ansible Lint
pip install ansible-lint

# Create .ansible-lint configuration
cat &gt; .ansible-lint &lt;&lt;EOF
---
profile: production

exclude_paths:
  - .cache/
  - .github/
  - molecule/
  - .venv/

skip_list:
  - yaml[line-length]  # Allow longer lines for readability

warn_list:
  - experimental  # Warn about experimental features

# Custom rules
rules:
  braces:
    min-spaces-inside: 0
    max-spaces-inside: 1
  brackets:
    min-spaces-inside: 0
    max-spaces-inside: 0
  colons:
    max-spaces-before: 0
    min-spaces-after: 1
    max-spaces-after: 1
  commas:
    max-spaces-before: 0
    min-spaces-after: 1
    max-spaces-after: 1
  comments:
    min-spaces-from-content: 1
  document-start: disable
  empty-lines:
    max: 2
    max-start: 0
    max-end: 1
  hyphens:
    max-spaces-after: 1
  indentation:
    spaces: 2
    indent-sequences: true
  line-length:
    max: 120
  new-line-at-end-of-file: enable
  trailing-spaces: enable
  truthy:
    allowed-values: [&#039;true&#039;, &#039;false&#039;, &#039;yes&#039;, &#039;no&#039;]
EOF

# Create security-focused playbook linting
cat &gt; .yamllint &lt;&lt;EOF
---
extends: default

rules:
  braces:
    min-spaces-inside: 0
    max-spaces-inside: 1
  brackets:
    min-spaces-inside: 0
    max-spaces-inside: 0
  colons:
    max-spaces-before: 0
    min-spaces-after: 1
    max-spaces-after: 1
  commas:
    max-spaces-before: 0
    min-spaces-after: 1
    max-spaces-after: 1
  comments: disable
  comments-indentation: disable
  document-start: disable
  empty-lines:
    max: 2
    max-start: 0
    max-end: 1
  hyphens:
    max-spaces-after: 1
  indentation:
    spaces: 2
    indent-sequences: true
    check-multi-line-strings: false
  key-duplicates: enable
  line-length:
    max: 120
  new-line-at-end-of-file: enable
  octal-values:
    forbid-implicit-octal: true
  trailing-spaces: enable
  truthy: disable
EOF

# Run linting
ansible-lint playbooks/
yamllint .</code></pre>
      </div>
    </div>
<h2 id="backup-and-disaster-recovery" class="mobile-header">Backup and Disaster Recovery</h2>
<h3 id="comprehensive-backup-automation" class="mobile-header">Comprehensive Backup Automation</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash">cat &gt; playbooks/backup-automation.yml &lt;&lt;EOF
---
- name: Automated Backup System
  hosts: all
  become: yes
  vars:
    backup_root: /backup
    backup_retention_days: 30
    backup_schedule:
      databases: &quot;0 2 * * *&quot;
      files: &quot;0 3 * * *&quot;
      configs: &quot;0 4 * * *&quot;

  tasks:
    - name: Create backup directories
      file:
        path: &quot;{{ backup_root }}/{{ item }}&quot;
        state: directory
        mode: &#039;0755&#039;
        owner: root
        group: root
      loop:
        - databases
        - files
        - configs
        - logs

    # Database backups
    - name: Create database backup script
      template:
        src: templates/mysql-backup.sh.j2
        dest: /usr/local/bin/mysql-backup.sh
        mode: &#039;0755&#039;
      when: &quot;&#039;dbservers&#039; in group_names&quot;

    - name: Schedule database backups
      cron:
        name: &quot;MySQL backup&quot;
        minute: &quot;0&quot;
        hour: &quot;2&quot;
        job: &quot;/usr/local/bin/mysql-backup.sh&quot;
        user: root
      when: &quot;&#039;dbservers&#039; in group_names&quot;

    # File system backups
    - name: Create file backup script
      template:
        src: templates/file-backup.sh.j2
        dest: /usr/local/bin/file-backup.sh
        mode: &#039;0755&#039;

    - name: Schedule file backups
      cron:
        name: &quot;File system backup&quot;
        minute: &quot;0&quot;
        hour: &quot;3&quot;
        job: &quot;/usr/local/bin/file-backup.sh&quot;
        user: root

    # Configuration backups
    - name: Backup system configurations
      archive:
        path:
          - /etc/nginx
          - /etc/mysql
          - /etc/systemd/system
          - /etc/crontab
          - /etc/hosts
          - /etc/fstab
        dest: &quot;{{ backup_root }}/configs/system-config-{{ ansible_date_time.epoch }}.tar.gz&quot;
        mode: &#039;0600&#039;

    # Remote backup synchronization
    - name: Synchronize backups to remote storage
      synchronize:
        src: &quot;{{ backup_root }}/&quot;
        dest: &quot;backup-server.example.com:{{ backup_root }}/{{ inventory_hostname }}/&quot;
        delete: yes
        rsync_opts:
          - &quot;--exclude=*.tmp&quot;
          - &quot;--compress&quot;
          - &quot;--archive&quot;
      when: backup_remote_sync | default(true)

    # Cleanup old backups
    - name: Clean up old backup files
      find:
        paths: &quot;{{ backup_root }}&quot;
        age: &quot;{{ backup_retention_days }}d&quot;
        file_type: file
      register: old_backups

    - name: Remove old backup files
      file:
        path: &quot;{{ item.path }}&quot;
        state: absent
      loop: &quot;{{ old_backups.files }}&quot;
EOF</code></pre>
      </div>
    </div>
<h2 id="verification-and-monitoring" class="mobile-header">Verification and Monitoring</h2>
<h3 id="cross-platform-system-verification" class="mobile-header">Cross-Platform System Verification</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create comprehensive verification playbook
cat &gt; playbooks/system-verification.yml &lt;&lt;EOF
---
- name: System Verification and Health Check
  hosts: all
  become: yes
  gather_facts: yes
  vars:
    health_checks:
      - service: nginx
        port: 80
        process: nginx
      - service: mysql
        port: 3306
        process: mysqld
      - service: redis
        port: 6379
        process: redis-server

  tasks:
    # System information gathering
    - name: Gather system information
      setup:
        gather_subset:
          - all
          - !facter
          - !ohai

    # Service verification
    - name: Check critical services status
      service_facts:

    - name: Verify services are running
      assert:
        that:
          - &quot;ansible_facts.services[item.service + &#039;.service&#039;].state == &#039;running&#039;&quot;
        fail_msg: &quot;Service {{ item.service }} is not running&quot;
        success_msg: &quot;Service {{ item.service }} is healthy&quot;
      loop: &quot;{{ health_checks }}&quot;
      when: &quot;item.service + &#039;.service&#039; in ansible_facts.services&quot;

    # Network connectivity tests
    - name: Test network connectivity
      wait_for:
        host: &quot;{{ item.host }}&quot;
        port: &quot;{{ item.port }}&quot;
        timeout: 5
      loop:
        - { host: &quot;8.8.8.8&quot;, port: 53 }
        - { host: &quot;1.1.1.1&quot;, port: 53 }
      ignore_errors: yes

    # Disk space monitoring
    - name: Check disk space usage
      shell: df -h | awk &#039;$5 &gt; &quot;85%&quot; {print $0}&#039;
      register: disk_usage
      changed_when: false
      failed_when: disk_usage.stdout != &quot;&quot;

    # Memory usage check
    - name: Check memory usage
      shell: free | grep Mem | awk &#039;{printf &quot;%.0f&quot;, $3/$2 * 100.0}&#039;
      register: memory_usage
      changed_when: false

    - name: Alert on high memory usage
      debug:
        msg: &quot;WARNING: Memory usage is {{ memory_usage.stdout }}%&quot;
      when: memory_usage.stdout | int &gt; 85

    # Security verification
    - name: Check for failed login attempts
      shell: grep &quot;Failed password&quot; /var/log/auth.log | tail -10
      register: failed_logins
      changed_when: false
      ignore_errors: yes
      when: ansible_os_family == &quot;Debian&quot;

    - name: Check firewall status
      shell: |
        if command -v ufw &gt;/dev/null 2&gt;&amp;1; then
          ufw status
        elif command -v firewall-cmd &gt;/dev/null 2&gt;&amp;1; then
          firewall-cmd --state
        else
          echo &quot;No supported firewall found&quot;
        fi
      register: firewall_status
      changed_when: false

  post_tasks:
    - name: Generate system health report
      template:
        src: templates/health-report.j2
        dest: &quot;/tmp/health-report-{{ inventory_hostname }}-{{ ansible_date_time.epoch }}.txt&quot;
        mode: &#039;0644&#039;

    - name: Fetch health reports
      fetch:
        src: &quot;/tmp/health-report-{{ inventory_hostname }}-{{ ansible_date_time.epoch }}.txt&quot;
        dest: &quot;./reports/&quot;
        flat: yes
EOF</code></pre>
      </div>
    </div>
<h3 id="continuous-compliance-monitoring" class="mobile-header">Continuous Compliance Monitoring</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash">cat &gt; playbooks/compliance-monitoring.yml &lt;&lt;EOF
---
- name: Continuous Compliance Monitoring
  hosts: all
  become: yes
  vars:
    compliance_standards:
      - cis
      - pci_dss
      - soc2
      - hipaa
    
    audit_log_paths:
      - /var/log/auth.log
      - /var/log/syslog
      - /var/log/audit/audit.log

  tasks:
    # Install audit tools
    - name: Install audit daemon
      package:
        name: &quot;{{ &#039;auditd&#039; if ansible_os_family == &#039;RedHat&#039; else &#039;auditd&#039; }}&quot;
        state: present

    - name: Configure audit rules
      template:
        src: templates/audit.rules.j2
        dest: /etc/audit/rules.d/audit.rules
        backup: yes
      notify: restart auditd

    # CIS compliance checks
    - name: Run CIS benchmark checks
      shell: |
        if [ -f /opt/cis-cat/CIS-CAT.sh ]; then
          /opt/cis-cat/CIS-CAT.sh -b /opt/cis-cat/benchmarks/
        else
          echo &quot;CIS-CAT not installed, skipping&quot;
        fi
      register: cis_results
      ignore_errors: yes

    # File integrity monitoring
    - name: Install AIDE
      package:
        name: aide
        state: present

    - name: Initialize AIDE database
      shell: |
        aide --init
        mv /var/lib/aide/aide.db.new /var/lib/aide/aide.db
      args:
        creates: /var/lib/aide/aide.db

    - name: Schedule AIDE integrity checks
      cron:
        name: &quot;AIDE integrity check&quot;
        minute: &quot;0&quot;
        hour: &quot;3&quot;
        job: &quot;/usr/bin/aide --check | mail -s &#039;AIDE Report&#039; security@example.com&quot;
        user: root

    # Log monitoring
    - name: Install log monitoring tools
      package:
        name:
          - logwatch
          - rsyslog
        state: present

    - name: Configure centralized logging
      template:
        src: templates/rsyslog.conf.j2
        dest: /etc/rsyslog.conf
        backup: yes
      notify: restart rsyslog

  handlers:
    - name: restart auditd
      service:
        name: auditd
        state: restarted

    - name: restart rsyslog
      service:
        name: rsyslog
        state: restarted
EOF</code></pre>
      </div>
    </div>
<h2 id="cicd-integration" class="mobile-header">CI/CD Integration</h2>
<h3 id="jenkins-pipeline-integration" class="mobile-header">Jenkins Pipeline Integration</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create Jenkinsfile for Ansible automation
cat &gt; Jenkinsfile &lt;&lt;EOF
pipeline {
    agent any
    
    environment {
        ANSIBLE_CONFIG = &#039;ansible.cfg&#039;
        ANSIBLE_HOST_KEY_CHECKING = &#039;False&#039;
    }
    
    stages {
        stage(&#039;Lint&#039;) {
            steps {
                sh &#039;ansible-lint playbooks/&#039;
                sh &#039;yamllint .&#039;
            }
        }
        
        stage(&#039;Syntax Check&#039;) {
            steps {
                sh &#039;ansible-playbook playbooks/site.yml --syntax-check&#039;
            }
        }
        
        stage(&#039;Dry Run&#039;) {
            steps {
                sh &#039;ansible-playbook playbooks/site.yml --check --diff&#039;
            }
        }
        
        stage(&#039;Deploy to Staging&#039;) {
            when {
                branch &#039;develop&#039;
            }
            steps {
                sh &#039;ansible-playbook -i inventories/staging playbooks/site.yml&#039;
            }
        }
        
        stage(&#039;Deploy to Production&#039;) {
            when {
                branch &#039;main&#039;
            }
            steps {
                input &#039;Deploy to Production?&#039;
                sh &#039;ansible-playbook -i inventories/production playbooks/site.yml&#039;
            }
        }
        
        stage(&#039;Verify Deployment&#039;) {
            steps {
                sh &#039;ansible-playbook playbooks/system-verification.yml&#039;
            }
        }
    }
    
    post {
        always {
            archiveArtifacts artifacts: &#039;logs/*.log&#039;, allowEmptyArchive: true
            publishHTML([
                allowMissing: false,
                alwaysLinkToLastBuild: true,
                keepAll: true,
                reportDir: &#039;reports&#039;,
                reportFiles: &#039;*.html&#039;,
                reportName: &#039;Ansible Report&#039;
            ])
        }
        failure {
            emailext (
                subject: &quot;Failed Pipeline: ${env.JOB_NAME} - ${env.BUILD_NUMBER}&quot;,
                body: &quot;Something is wrong with ${env.BUILD_URL}&quot;,
                to: &quot;${env.DEFAULT_RECIPIENTS}&quot;
            )
        }
    }
}
EOF</code></pre>
      </div>
    </div>
<h3 id="gitlab-ci-integration" class="mobile-header">GitLab CI Integration</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash">cat &gt; .gitlab-ci.yml &lt;&lt;EOF
stages:
  - lint
  - test
  - deploy-staging
  - deploy-production

variables:
  ANSIBLE_CONFIG: ansible.cfg
  ANSIBLE_HOST_KEY_CHECKING: &quot;False&quot;

before_script:
  - pip install ansible ansible-lint yamllint
  - ansible-galaxy install -r requirements.yml

lint:
  stage: lint
  script:
    - ansible-lint playbooks/
    - yamllint .
  rules:
    - if: &#039;$CI_MERGE_REQUEST_IID&#039;
    - if: &#039;$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH&#039;

syntax-check:
  stage: test
  script:
    - ansible-playbook playbooks/site.yml --syntax-check
    - ansible-playbook playbooks/site.yml --check --diff -i inventories/staging
  rules:
    - if: &#039;$CI_MERGE_REQUEST_IID&#039;
    - if: &#039;$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH&#039;

deploy-staging:
  stage: deploy-staging
  script:
    - ansible-playbook -i inventories/staging playbooks/site.yml
  rules:
    - if: &#039;$CI_COMMIT_BRANCH == &quot;develop&quot;&#039;

deploy-production:
  stage: deploy-production
  script:
    - ansible-playbook -i inventories/production playbooks/site.yml
  rules:
    - if: &#039;$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH&#039;
      when: manual
  environment:
    name: production
    url: https://production.example.com
EOF</code></pre>
      </div>
    </div>
<h2 id="6-troubleshooting-cross-platform" class="mobile-header">6. Troubleshooting (Cross-Platform)</h2>
<h3 id="common-issues-and-solutions" class="mobile-header">Common Issues and Solutions</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Debug connection issues
ansible all -m ping -vvv

# Check SSH connectivity
ansible all -m setup --ask-pass --ask-become-pass

# Verify inventory
ansible-inventory --list
ansible-inventory --graph

# Test specific host
ansible target-host -m command -a &quot;uptime&quot;

# Check syntax without execution
ansible-playbook playbooks/site.yml --syntax-check

# Dry run with verbose output
ansible-playbook playbooks/site.yml --check --diff -vvv

# Debug variable resolution
ansible-playbook playbooks/site.yml --extra-vars=&quot;debug=true&quot; --tags debug

# Check facts
ansible all -m setup | grep ansible_os_family

# Connection troubleshooting
ssh -vvv user@target-host

# Permission issues
ansible all -m file -a &quot;path=/tmp/test state=touch&quot; --become

# Vault issues
ansible-vault view group_vars/all/vault.yml

# Performance debugging
ansible-playbook playbooks/site.yml --start-at-task=&quot;specific task name&quot;
ansible-playbook playbooks/site.yml --step

# Module testing
ansible localhost -m debug -a &quot;var=hostvars&quot;
ansible localhost -m setup

# Check for syntax errors in roles
find roles/ -name &quot;*.yml&quot; -exec ansible-playbook {} --syntax-check \;</code></pre>
      </div>
    </div>
<h3 id="advanced-debugging" class="mobile-header">Advanced Debugging</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Enable comprehensive logging
export ANSIBLE_DEBUG=1
export ANSIBLE_VERBOSITY=4
ansible-playbook playbooks/site.yml

# Profile playbook execution
ansible-playbook playbooks/site.yml --extra-vars=&quot;profile_tasks_sort_order=none&quot;

# Memory usage analysis
ansible-playbook playbooks/site.yml --extra-vars=&quot;ansible_python_interpreter=/usr/bin/python3&quot;

# Network debugging
ansible all -m command -a &quot;ss -tulpn&quot;
ansible all -m command -a &quot;netstat -rn&quot;

# Process debugging
ansible all -m command -a &quot;ps aux --sort=-%mem | head -10&quot;

# Disk usage analysis
ansible all -m command -a &quot;df -h&quot;
ansible all -m command -a &quot;du -sh /var/log/*&quot;

# Service debugging
ansible all -m systemd -a &quot;name=nginx&quot; --become
ansible all -m command -a &quot;systemctl status nginx&quot; --become

# Variable debugging
ansible-playbook playbooks/site.yml --extra-vars=&quot;debug_vars=true&quot; --tags debug_vars</code></pre>
      </div>
    </div>
<h2 id="additional-resources" class="mobile-header">Additional Resources</h2>
<li class="mobile-list-item"><a href="https://docs.ansible.com/" target="_blank" rel="noopener" class="mobile-link">Official Documentation</a></li>
<li class="mobile-list-item"><a href="https://galaxy.ansible.com/" target="_blank" rel="noopener" class="mobile-link">Ansible Galaxy</a></li>
<li class="mobile-list-item"><a href="https://docs.ansible.com/ansible/latest/user_guide/playbooks_best_practices.html" target="_blank" rel="noopener" class="mobile-link">Best Practices Guide</a></li>
<li class="mobile-list-item"><a href="https://docs.ansible.com/ansible/latest/user_guide/become.html#security-best-practices" target="_blank" rel="noopener" class="mobile-link">Security Best Practices</a></li>
<li class="mobile-list-item"><a href="https://molecule.readthedocs.io/" target="_blank" rel="noopener" class="mobile-link">Ansible Molecule Testing</a></li>
<li class="mobile-list-item"><a href="https://docs.ansible.com/ansible/latest/collections/index.html" target="_blank" rel="noopener" class="mobile-link">Community Collections</a></li>
<p class="mobile-paragraph">---</p>
<p class="mobile-paragraph"><strong>Note:</strong> This guide is part of the <a href="https://howtomgr.github.io" target="_blank" rel="noopener" class="mobile-link">HowToMgr</a> collection.</p></div></article><section class="jsx-64efd206b36bc2dd related-section"><h2 class="jsx-64efd206b36bc2dd section-title">Related <!-- -->Configuration management<!-- --> Guides</h2><div class="jsx-64efd206b36bc2dd mobile-grid"><a class="mobile-card" href="/configuration-management/chef/"><div class="jsx-64efd206b36bc2dd mobile-card-header"><h3 class="jsx-64efd206b36bc2dd mobile-card-title">chef Installation Guide</h3><p class="jsx-64efd206b36bc2dd mobile-card-description">chef is a free and open-source infrastructure automation. Chef provides infrastructure automation platform</p></div><div class="jsx-64efd206b36bc2dd mobile-card-meta"><span class="jsx-64efd206b36bc2dd mobile-badge mobile-badge-info">7 min</span></div></a><a class="mobile-card" href="/configuration-management/puppet/"><div class="jsx-64efd206b36bc2dd mobile-card-header"><h3 class="jsx-64efd206b36bc2dd mobile-card-title">puppet Installation Guide</h3><p class="jsx-64efd206b36bc2dd mobile-card-description">puppet is a free and open-source configuration management. Puppet provides infrastructure automation and delivery</p></div><div class="jsx-64efd206b36bc2dd mobile-card-meta"><span class="jsx-64efd206b36bc2dd mobile-badge mobile-badge-info">7 min</span></div></a><a class="mobile-card" href="/configuration-management/saltstack/"><div class="jsx-64efd206b36bc2dd mobile-card-header"><h3 class="jsx-64efd206b36bc2dd mobile-card-title">saltstack Installation Guide</h3><p class="jsx-64efd206b36bc2dd mobile-card-description">saltstack is a free and open-source infrastructure automation. SaltStack provides powerful automation for infrastructure management</p></div><div class="jsx-64efd206b36bc2dd mobile-card-meta"><span class="jsx-64efd206b36bc2dd mobile-badge mobile-badge-info">7 min</span></div></a></div></section><nav class="jsx-64efd206b36bc2dd guide-navigation"><a class="btn btn-secondary" href="/configuration-management/">‚Üê All <!-- -->Configuration management</a><a class="btn btn-secondary" href="/">All Categories</a></nav></div></main><footer class="jsx-6ca0ba86c5b4bb40 mobile-footer"><div class="jsx-6ca0ba86c5b4bb40 container"><div class="jsx-6ca0ba86c5b4bb40 footer-content"><div class="jsx-6ca0ba86c5b4bb40 footer-links"><a href="/">Home</a><a href="https://github.com/howtomgr" target="_blank" rel="noopener" class="jsx-6ca0ba86c5b4bb40">GitHub</a><a href="https://github.com/howtomgr/howtomgr.github.io" target="_blank" rel="noopener" class="jsx-6ca0ba86c5b4bb40">Source</a></div><div class="jsx-6ca0ba86c5b4bb40 footer-separator"></div><p class="jsx-6ca0ba86c5b4bb40 footer-text">¬© <!-- -->2025<!-- --> HowToMgr Organization. Open source installation guides.</p><p class="jsx-6ca0ba86c5b4bb40 footer-tech">Built with ‚ù§Ô∏è using Next.js + GitHub Pages</p><p class="jsx-6ca0ba86c5b4bb40 footer-disclaimer"><small class="jsx-6ca0ba86c5b4bb40">All guides are provided as-is. Please review and test before production use.</small></p></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"guide":{"name":"ansible","displayName":"Ansible Installation Guide","slug":"ansible","description":"Ansible is a free and open-source agentless automation platform for configuration management, application deployment, and task automation across multiple systems. Originally developed by Michael DeHaan and acquired by Red Hat, Ansible serves as the industry standard for infrastructure automation with enterprise-grade security and scalability. It provides a robust alternative to proprietary solutions like VMware vRealize Automation, Microsoft System Center, or Puppet Enterprise without vendor lock-in or licensing costs.","category":"configuration-management","subcategory":"configuration-management","difficultyLevel":"intermediate","estimatedSetupTime":"15-30 minutes","supportedOS":["rhel","centos","rocky","almalinux","debian","ubuntu","arch","alpine","opensuse","sles","macos","freebsd","windows"],"defaultPorts":[0,8,10,22,80,443,5985,6379,8080,8081,9093,9100],"installationMethods":["native-packages","source-compilation"],"features":["multi-os-support","comprehensive-documentation","security-hardening","performance-optimization","backup-restore-procedures","troubleshooting-guides"],"tags":["configuration-management","containerization","orchestration","observability","data-storage","web-services","networking","security","data-protection","communication"],"maintenanceStatus":"active","specVersion":"2.0","version":"1.0.0","license":"Open Source","websiteUrl":"https://howtomgr.github.io/configuration-management/ansible","documentationUrl":"https://howtomgr.github.io/configuration-management/ansible","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/ansible","updatedAt":"2025-09-16T16:57:05Z","createdAt":"2025-09-08T03:04:35Z","readmeRaw":"# Ansible Installation Guide\n\nAnsible is a free and open-source agentless automation platform for configuration management, application deployment, and task automation across multiple systems. Originally developed by Michael DeHaan and acquired by Red Hat, Ansible serves as the industry standard for infrastructure automation with enterprise-grade security and scalability. It provides a robust alternative to proprietary solutions like VMware vRealize Automation, Microsoft System Center, or Puppet Enterprise without vendor lock-in or licensing costs.\n\n## Table of Contents\n1. [Prerequisites](#prerequisites)\n2. [Supported Operating Systems](#supported-operating-systems)\n3. [Installation](#installation)\n4. [Configuration](#configuration)\n5. [Service Management](#service-management)\n6. [Troubleshooting](#troubleshooting)\n7. [Security Considerations](#security-considerations)\n8. [Performance Tuning](#performance-tuning)\n9. [Backup and Restore](#backup-and-restore)\n10. [System Requirements](#system-requirements)\n11. [Support](#support)\n12. [Contributing](#contributing)\n13. [License](#license)\n14. [Acknowledgments](#acknowledgments)\n15. [Version History](#version-history)\n16. [Appendices](#appendices)\n\n## 1. Prerequisites\n\n- **Hardware Requirements**:\n  - CPU: 2+ cores for control machine (4+ cores recommended for large deployments)\n  - RAM: 2GB minimum, 4GB+ recommended for large infrastructures, 8GB+ for enterprise\n  - Storage: 10GB+ available disk space for playbooks, roles, and logs\n  - Network: Stable connectivity to all managed hosts\n- **Operating System** (Control Machine): \n  - Linux: Any modern distribution (RHEL, Debian, Ubuntu, CentOS, Fedora, Arch, openSUSE)\n  - macOS: 10.15+ (Catalina or newer)\n  - Windows: WSL2 with Linux distribution (not natively supported)\n  - FreeBSD: 12.0+ (limited support)\n- **Target Hosts**:\n  - Linux: Any distribution with Python 2.7+ or 3.5+\n  - Windows: PowerShell 3.0+ and .NET Framework 4.0+\n  - Network devices: SSH or specialized connection plugins\n- **Network Requirements**:\n  - SSH access to target Linux/Unix hosts (port 22)\n  - WinRM access to Windows hosts (ports 5985/5986)\n  - HTTPS API access for cloud and network devices\n- **Dependencies**:\n  - Python 3.8+ on control machine (3.9+ recommended)\n  - SSH client and key-based authentication setup\n  - Python 2.7+ or 3.5+ on target Linux hosts\n  - PowerShell and .NET Framework on Windows targets\n- **System Access**: SSH key access or password authentication to target hosts\n- **Special Requirements**:\n  - Sudo or root access on target systems for privileged operations\n  - Network connectivity between control machine and all managed hosts\n\n\n## 2. Supported Operating Systems\n\nThis guide supports installation on:\n- RHEL 8/9 and derivatives (CentOS Stream, Rocky Linux, AlmaLinux)\n- Debian 11/12\n- Ubuntu 20.04/22.04/24.04 LTS\n- Arch Linux (rolling release)\n- Alpine Linux 3.18+\n- openSUSE Leap 15.5+ / Tumbleweed\n- SUSE Linux Enterprise Server (SLES) 15+\n- macOS 12+ (Monterey and later) \n- FreeBSD 13+\n- Windows 10/11/Server 2019+ (where applicable)\n\n## 3. Installation\n\n### Using Package Manager (Recommended)\n\n#### Ubuntu/Debian\n```bash\n# Update package list\nsudo apt update\n\n# Install Ansible and dependencies\nsudo apt install -y ansible python3-pip python3-venv sshpass\n\n# Install additional collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\nansible-galaxy collection install amazon.aws\nansible-galaxy collection install azure.azcollection\nansible-galaxy collection install google.cloud\n\n# Verify installation\nansible --version\nansible-galaxy collection list\n```\n\n#### RHEL/CentOS/Rocky Linux/AlmaLinux\n```bash\n# Install EPEL repository\nsudo yum install -y epel-release\n\n# Install Ansible\nsudo yum install -y ansible python3-pip\n\n# For newer distributions\nsudo dnf install -y ansible python3-pip\n\n# Install collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\n\n# Verify installation\nansible --version\n```\n\n#### Fedora\n```bash\n# Install Ansible\nsudo dnf install -y ansible python3-pip python3-virtualenv\n\n# Install additional collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\n\n# Verify installation\nansible --version\n```\n\n#### Arch Linux\n```bash\n# Install Ansible\nsudo pacman -Syu ansible python-pip\n\n# Install collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\n\n# Verify installation\nansible --version\n```\n\n#### Alpine Linux\n```bash\n# Install Ansible\nsudo apk update\nsudo apk add ansible python3 py3-pip openssh\n\n# Install collections\nansible-galaxy collection install community.general\n\n# Verify installation\nansible --version\n```\n\n#### openSUSE/SLES\n```bash\n# openSUSE Leap/Tumbleweed\nsudo zypper refresh\n\n# Install Ansible and dependencies\nsudo zypper install -y ansible python3-pip python3-virtualenv\n\n# SLES 15 (requires additional modules)\nsudo SUSEConnect -p sle-module-python3/15.5/x86_64\nsudo zypper install -y ansible python3-pip\n\n# Install additional collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\n\n# Verify installation\nansible --version\n```\n\n#### macOS\n```bash\n# Method 1: Using Homebrew (recommended)\n# Install Homebrew if not already installed\n/bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\"\n\n# Install Ansible\nbrew install ansible\n\n# Method 2: Using pip with virtual environment\n# Install Python 3 if needed\nbrew install python3\n\n# Create virtual environment\npython3 -m venv ~/ansible-venv\nsource ~/ansible-venv/bin/activate\n\n# Install Ansible\npip install --upgrade pip\npip install ansible ansible-core\n\n# Install additional packages for cloud providers\npip install boto3 azure-cli google-cloud-storage\n\n# Add to shell profile for persistence\necho 'source ~/ansible-venv/bin/activate' \u003e\u003e ~/.zshrc  # or ~/.bash_profile\n\n# Install collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install amazon.aws\nansible-galaxy collection install azure.azcollection\n\n# Verify installation\nansible --version\n```\n\n#### FreeBSD\n```bash\n# Install from ports\ncd /usr/ports/sysutils/ansible \u0026\u0026 make install clean\n\n# Or install from packages\npkg install py39-ansible\n\n# Install Python dependencies\npkg install python39 py39-pip py39-virtualenv\n\n# Create virtual environment (recommended)\npython3.9 -m venv ~/ansible-venv\nsource ~/ansible-venv/bin/activate\n\n# Install additional packages\npip install paramiko jinja2 PyYAML cryptography\n\n# Install collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\n\n# Verify installation\nansible --version\n```\n\n#### Windows (using WSL2)\n```powershell\n# Enable WSL2 first\n# Run in PowerShell as Administrator\ndism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart\ndism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart\n\n# Restart computer, then set WSL2 as default\nwsl --set-default-version 2\n\n# Install Ubuntu from Microsoft Store or command line\nwsl --install -d Ubuntu-22.04\n\n# Inside WSL Ubuntu environment:\nsudo apt update\nsudo apt install -y ansible python3-pip python3-venv sshpass\n\n# Create Windows-specific inventory for managing Windows hosts\nmkdir -p ~/ansible-windows\ncd ~/ansible-windows\n\n# Install Windows collections\nansible-galaxy collection install ansible.windows\nansible-galaxy collection install community.windows\nansible-galaxy collection install chocolatey.chocolatey\n\n# Create Windows inventory example\ncat \u003e inventory/windows-hosts.yml \u003c\u003cEOF\nall:\n  children:\n    windows:\n      hosts:\n        win-server-01:\n          ansible_host: 192.168.1.100\n          ansible_user: Administrator\n          ansible_password: \"{{ vault_windows_password }}\"\n          ansible_connection: winrm\n          ansible_winrm_server_cert_validation: ignore\n          ansible_winrm_transport: basic\n          ansible_winrm_port: 5985\n      vars:\n        ansible_shell_type: powershell\n        ansible_become_method: runas\n        ansible_become_user: Administrator\nEOF\n\n# Verify installation\nansible --version\n```\n\n### Using pip (Latest Version)\n```bash\n# Create virtual environment (recommended)\npython3 -m venv ~/ansible-venv\nsource ~/ansible-venv/bin/activate\n\n# Install Ansible via pip\npip install --upgrade pip\npip install ansible ansible-core\n\n# Install additional packages\npip install paramiko jinja2 PyYAML cryptography\n\n# Install cloud provider SDKs\npip install boto3 botocore azure-cli google-cloud-storage\n\n# Install collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\nansible-galaxy collection install amazon.aws\nansible-galaxy collection install azure.azcollection\nansible-galaxy collection install google.cloud\n\n# Add to PATH permanently\necho 'source ~/ansible-venv/bin/activate' \u003e\u003e ~/.bashrc\n\n# Verify installation\nansible --version\n```\n\n### Using Docker\n```bash\n# Create Ansible Docker container with mounted volumes\ndocker run --rm -it \\\n  -v $(pwd):/ansible \\\n  -v ~/.ssh:/root/.ssh:ro \\\n  -v ~/.aws:/root/.aws:ro \\\n  -v ~/.azure:/root/.azure:ro \\\n  --workdir /ansible \\\n  ansible/ansible:latest\n\n# Create wrapper script for ease of use\nsudo tee /usr/local/bin/ansible-docker \u003e /dev/null \u003c\u003c'EOF'\n#!/bin/bash\ndocker run --rm -it \\\n  -v $(pwd):/ansible \\\n  -v ~/.ssh:/root/.ssh:ro \\\n  -v ~/.aws:/root/.aws:ro \\\n  -v ~/.azure:/root/.azure:ro \\\n  -v ~/.kube:/root/.kube:ro \\\n  --workdir /ansible \\\n  --network host \\\n  ansible/ansible:latest \"$@\"\nEOF\nsudo chmod +x /usr/local/bin/ansible-docker\n\n# Create aliases\necho 'alias ansible=\"ansible-docker ansible\"' \u003e\u003e ~/.bashrc\necho 'alias ansible-playbook=\"ansible-docker ansible-playbook\"' \u003e\u003e ~/.bashrc\n```\n\n## Initial Configuration\n\n### First-Run Setup\n\n1. **SSH Key Setup**:\n```bash\n# Generate SSH key pair for Ansible\nssh-keygen -t rsa -b 4096 -f ~/.ssh/ansible_key -C \"ansible-automation\"\n\n# Set proper permissions\nchmod 600 ~/.ssh/ansible_key\nchmod 644 ~/.ssh/ansible_key.pub\n\n# Copy public key to target hosts\nssh-copy-id -i ~/.ssh/ansible_key.pub user@target-host\n\n# Or manually copy the key\ncat ~/.ssh/ansible_key.pub | ssh user@target-host \"mkdir -p ~/.ssh \u0026\u0026 cat \u003e\u003e ~/.ssh/authorized_keys\"\n```\n\n2. **Basic Ansible Configuration**:\n```bash\n# Create Ansible configuration directory\nmkdir -p ~/.ansible/{facts_cache,inventory_cache,cp,logs}\n\n# Create basic ansible.cfg\ncat \u003e ~/.ansible.cfg \u003c\u003cEOF\n[defaults]\nhost_key_checking = True\nremote_user = ansible\nprivate_key_file = ~/.ssh/ansible_key\ntimeout = 30\nretry_files_enabled = False\nstdout_callback = yaml\ngathering = smart\nfact_caching = jsonfile\nfact_caching_connection = ~/.ansible/facts_cache\nfact_caching_timeout = 86400\ninterpreter_python = auto_silent\ndeprecation_warnings = True\ncommand_warnings = True\n\n[ssh_connection]\nssh_args = -o ControlMaster=auto -o ControlPersist=3600s -o PreferredAuthentications=publickey\npipelining = True\ncontrol_path = ~/.ansible/cp/%%h-%%p-%%r\n\n[privilege_escalation]\nbecome = False\nbecome_method = sudo\nbecome_user = root\nbecome_ask_pass = False\nEOF\n```\n\n3. **Create Basic Inventory**:\n```bash\n# Create simple inventory file\nmkdir -p ~/ansible-project/inventory\ncat \u003e ~/ansible-project/inventory/hosts.yml \u003c\u003cEOF\nall:\n  children:\n    webservers:\n      hosts:\n        web-01:\n          ansible_host: 192.168.1.10\n        web-02:\n          ansible_host: 192.168.1.11\n    databases:\n      hosts:\n        db-01:\n          ansible_host: 192.168.1.20\n  vars:\n    ansible_user: ansible\n    ansible_ssh_private_key_file: ~/.ssh/ansible_key\nEOF\n```\n\n4. **Verify Target Host Python**:\n```bash\n# Check Python availability on target hosts\nansible all -i inventory/hosts.yml -m raw -a \"python3 --version || python --version\"\n\n# Install Python if needed (Ubuntu/Debian example)\nansible all -i inventory/hosts.yml -m raw -a \"apt update \u0026\u0026 apt install -y python3\" --become\n```\n\n### Testing Initial Setup\n\n```bash\n# Test connectivity to all hosts\nansible all -i inventory/hosts.yml -m ping\n\n# Gather facts from all hosts\nansible all -i inventory/hosts.yml -m setup\n\n# Test privilege escalation\nansible all -i inventory/hosts.yml -m command -a \"whoami\" --become\n\n# Check disk space on all hosts\nansible all -i inventory/hosts.yml -m command -a \"df -h\"\n\n# Verify SSH keys are working\nansible all -i inventory/hosts.yml -m command -a \"uptime\"\n\n# Test basic file operations\nansible all -i inventory/hosts.yml -m file -a \"path=/tmp/ansible-test state=touch\" --become\nansible all -i inventory/hosts.yml -m file -a \"path=/tmp/ansible-test state=absent\" --become\n```\n\n**WARNING:** Ensure SSH key authentication is working and hosts are accessible before proceeding with complex playbooks!\n\n## 5. Service Management\n\n### Ansible Controller Service (systemd)\n\n```bash\n# Create Ansible controller service for scheduled playbooks\nsudo tee /etc/systemd/system/ansible-controller.service \u003e /dev/null \u003c\u003cEOF\n[Unit]\nDescription=Ansible Controller Service\nAfter=network.target\nWants=network-online.target\n\n[Service]\nType=oneshot\nUser=ansible\nGroup=ansible\nWorkingDirectory=/opt/ansible\nExecStart=/usr/local/bin/ansible-playbook -i inventories/production playbooks/maintenance.yml\nStandardOutput=journal\nStandardError=journal\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n# Create timer for regular execution\nsudo tee /etc/systemd/system/ansible-controller.timer \u003e /dev/null \u003c\u003cEOF\n[Unit]\nDescription=Run Ansible Controller Service\nRequires=ansible-controller.service\n\n[Timer]\nOnCalendar=daily\nPersistent=true\nRandomizedDelaySec=300\n\n[Install]\nWantedBy=timers.target\nEOF\n\n# Enable and start the timer\nsudo systemctl daemon-reload\nsudo systemctl enable ansible-controller.timer\nsudo systemctl start ansible-controller.timer\n\n# Check status\nsudo systemctl status ansible-controller.timer\n```\n\n### Ansible Tower/AWX Service Management\n\n```bash\n# AWX service management (Docker-based)\n# Start AWX services\nsudo docker-compose -f /opt/awx/installer/docker-compose.yml up -d\n\n# Stop AWX services\nsudo docker-compose -f /opt/awx/installer/docker-compose.yml down\n\n# Restart AWX services\nsudo docker-compose -f /opt/awx/installer/docker-compose.yml restart\n\n# View AWX logs\nsudo docker-compose -f /opt/awx/installer/docker-compose.yml logs -f\n\n# Check AWX service status\nsudo docker-compose -f /opt/awx/installer/docker-compose.yml ps\n\n# Update AWX\ncd /opt/awx\ngit pull\nsudo docker-compose -f installer/docker-compose.yml down\nsudo docker-compose -f installer/docker-compose.yml build --no-cache\nsudo docker-compose -f installer/docker-compose.yml up -d\n```\n\n### Ansible Pull Service (for Pull-based Configuration)\n\n```bash\n# Create ansible-pull service for decentralized management\nsudo tee /etc/systemd/system/ansible-pull.service \u003e /dev/null \u003c\u003cEOF\n[Unit]\nDescription=Ansible Pull Configuration Management\nAfter=network-online.target\nWants=network-online.target\n\n[Service]\nType=oneshot\nUser=root\nExecStart=/usr/bin/ansible-pull -U https://github.com/company/ansible-config.git -i localhost, local.yml\nStandardOutput=journal\nStandardError=journal\nTimeoutStartSec=600\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n# Create timer for ansible-pull\nsudo tee /etc/systemd/system/ansible-pull.timer \u003e /dev/null \u003c\u003cEOF\n[Unit]\nDescription=Run Ansible Pull every 30 minutes\nRequires=ansible-pull.service\n\n[Timer]\nOnCalendar=*:0/30\nPersistent=true\nRandomizedDelaySec=120\n\n[Install]\nWantedBy=timers.target\nEOF\n\n# Enable ansible-pull timer\nsudo systemctl daemon-reload\nsudo systemctl enable ansible-pull.timer\nsudo systemctl start ansible-pull.timer\n```\n\n### Cross-Platform Service Management\n\n#### macOS (launchd)\n\n```bash\n# Create launchd plist for Ansible automation\nsudo tee /Library/LaunchDaemons/com.company.ansible.plist \u003e /dev/null \u003c\u003cEOF\n\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\n\u003c!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"\u003e\n\u003cplist version=\"1.0\"\u003e\n\u003cdict\u003e\n    \u003ckey\u003eLabel\u003c/key\u003e\n    \u003cstring\u003ecom.company.ansible\u003c/string\u003e\n    \u003ckey\u003eProgramArguments\u003c/key\u003e\n    \u003carray\u003e\n        \u003cstring\u003e/usr/local/bin/ansible-playbook\u003c/string\u003e\n        \u003cstring\u003e-i\u003c/string\u003e\n        \u003cstring\u003e/opt/ansible/inventory/hosts.yml\u003c/string\u003e\n        \u003cstring\u003e/opt/ansible/playbooks/maintenance.yml\u003c/string\u003e\n    \u003c/array\u003e\n    \u003ckey\u003eStartCalendarInterval\u003c/key\u003e\n    \u003cdict\u003e\n        \u003ckey\u003eHour\u003c/key\u003e\n        \u003cinteger\u003e2\u003c/integer\u003e\n        \u003ckey\u003eMinute\u003c/key\u003e\n        \u003cinteger\u003e0\u003c/integer\u003e\n    \u003c/dict\u003e\n    \u003ckey\u003eStandardOutPath\u003c/key\u003e\n    \u003cstring\u003e/var/log/ansible.log\u003c/string\u003e\n    \u003ckey\u003eStandardErrorPath\u003c/key\u003e\n    \u003cstring\u003e/var/log/ansible.error.log\u003c/string\u003e\n    \u003ckey\u003eUserName\u003c/key\u003e\n    \u003cstring\u003eansible\u003c/string\u003e\n    \u003ckey\u003eWorkingDirectory\u003c/key\u003e\n    \u003cstring\u003e/opt/ansible\u003c/string\u003e\n\u003c/dict\u003e\n\u003c/plist\u003e\nEOF\n\n# Load and start the service\nsudo launchctl load /Library/LaunchDaemons/com.company.ansible.plist\nsudo launchctl start com.company.ansible\n```\n\n#### Windows (Task Scheduler via PowerShell)\n\n```powershell\n# Create scheduled task for Ansible in Windows (running in WSL)\n$TaskName = \"Ansible-Configuration-Management\"\n$TaskDescription = \"Run Ansible playbooks for system configuration\"\n\n$Action = New-ScheduledTaskAction -Execute \"wsl\" -Argument \"ansible-playbook -i /home/ansible/inventory/hosts.yml /home/ansible/playbooks/windows-maintenance.yml\"\n\n$Trigger = New-ScheduledTaskTrigger -Daily -At \"02:00AM\"\n\n$Principal = New-ScheduledTaskPrincipal -UserID \"NT AUTHORITY\\SYSTEM\" -LogonType ServiceAccount\n\n$Settings = New-ScheduledTaskSettingsSet -AllowStartIfOnBatteries -DontStopIfGoingOnBatteries -StartWhenAvailable\n\nRegister-ScheduledTask -TaskName $TaskName -Description $TaskDescription -Action $Action -Trigger $Trigger -Principal $Principal -Settings $Settings\n\n# Start the task\nStart-ScheduledTask -TaskName $TaskName\n\n# Check task status\nGet-ScheduledTask -TaskName $TaskName | Get-ScheduledTaskInfo\n```\n\n## Project Structure and Configuration\n\n### Professional Project Structure\n```bash\n# Create comprehensive Ansible project structure\nmkdir -p ~/ansible-infrastructure/{\n  inventories/{production,staging,development},\n  playbooks,\n  roles,\n  group_vars,\n  host_vars,\n  library,\n  filter_plugins,\n  callback_plugins,\n  vault,\n  collections,\n  logs\n}\n\ncd ~/ansible-infrastructure\n\n# Create ansible.cfg with security best practices\ncat \u003e ansible.cfg \u003c\u003cEOF\n[defaults]\ninventory = inventories/production/hosts.yml\nremote_user = ansible\nprivate_key_file = ~/.ssh/ansible_key\nhost_key_checking = True\ntimeout = 30\nretry_files_enabled = False\nstdout_callback = yaml\nbin_ansible_callbacks = True\ngathering = smart\nfact_caching = jsonfile\nfact_caching_connection = ~/.ansible/facts_cache\nfact_caching_timeout = 86400\ninterpreter_python = auto_silent\nvault_password_file = ~/.ansible_vault_pass\n\n# Logging\nlog_path = logs/ansible.log\ndisplay_skipped_hosts = False\ndisplay_ok_hosts = False\n\n# Performance\nforks = 20\npoll_interval = 15\ninternal_poll_interval = 0.001\n\n# Security\ncommand_warnings = True\ndeprecation_warnings = True\naction_warnings = True\nlocalhost_warning = True\n\n[ssh_connection]\nssh_args = -o ControlMaster=auto -o ControlPersist=3600s -o PreferredAuthentications=publickey\npipelining = True\ncontrol_path = ~/.ansible/cp/%%h-%%p-%%r\nretries = 3\n\n[privilege_escalation]\nbecome = False\nbecome_method = sudo\nbecome_user = root\nbecome_ask_pass = False\n\n[inventory]\nenable_plugins = host_list, script, auto, yaml, ini, toml\ncache = True\ncache_plugin = jsonfile\ncache_timeout = 3600\ncache_connection = ~/.ansible/inventory_cache\n\n[galaxy]\nserver_list = automation_hub, galaxy\nEOF\n```\n\n### Advanced Inventory Management\n```bash\n# Create production inventory with groups and variables\ncat \u003e inventories/production/hosts.yml \u003c\u003cEOF\nall:\n  children:\n    webservers:\n      hosts:\n        web-prod-01:\n          ansible_host: 10.0.1.10\n          ansible_user: ansible\n          server_role: frontend\n          backup_enabled: true\n        web-prod-02:\n          ansible_host: 10.0.1.11\n          ansible_user: ansible\n          server_role: frontend\n          backup_enabled: true\n        web-prod-03:\n          ansible_host: 10.0.1.12\n          ansible_user: ansible\n          server_role: frontend\n          backup_enabled: true\n      vars:\n        http_port: 80\n        https_port: 443\n        max_clients: 200\n        environment: production\n        monitoring_enabled: true\n\n    dbservers:\n      hosts:\n        db-prod-01:\n          ansible_host: 10.0.2.10\n          ansible_user: ansible\n          mysql_server_id: 1\n          mysql_role: master\n        db-prod-02:\n          ansible_host: 10.0.2.11\n          ansible_user: ansible\n          mysql_server_id: 2\n          mysql_role: slave\n      vars:\n        mysql_port: 3306\n        mysql_root_password: \"{{ vault_mysql_root_password }}\"\n        mysql_replication_user: \"{{ vault_mysql_replication_user }}\"\n        mysql_replication_password: \"{{ vault_mysql_replication_password }}\"\n\n    loadbalancers:\n      hosts:\n        lb-prod-01:\n          ansible_host: 10.0.3.10\n          ansible_user: ansible\n          lb_algorithm: roundrobin\n        lb-prod-02:\n          ansible_host: 10.0.3.11\n          ansible_user: ansible\n          lb_algorithm: roundrobin\n      vars:\n        haproxy_stats_enabled: true\n        haproxy_stats_user: admin\n        haproxy_stats_password: \"{{ vault_haproxy_stats_password }}\"\n\n    monitoring:\n      hosts:\n        monitor-prod-01:\n          ansible_host: 10.0.4.10\n          ansible_user: ansible\n          prometheus_retention: 30d\n          grafana_admin_password: \"{{ vault_grafana_admin_password }}\"\n\n    bastion:\n      hosts:\n        bastion-prod-01:\n          ansible_host: bastion.example.com\n          ansible_user: ansible\n          ansible_port: 22\n\n# Global variables for all hosts\nwebservers:\n  vars:\n    nginx_worker_processes: auto\n    nginx_worker_connections: 1024\n    ssl_certificate_path: /etc/ssl/certs\n    backup_schedule: \"0 2 * * *\"\n\ndbservers:\n  vars:\n    mysql_innodb_buffer_pool_size: 2G\n    mysql_max_connections: 200\n    backup_schedule: \"0 1 * * *\"\n    monitoring_enabled: true\nEOF\n\n# Create dynamic inventory script for cloud environments\ncat \u003e inventories/production/aws_ec2.yml \u003c\u003cEOF\nplugin: amazon.aws.aws_ec2\nregions:\n  - us-west-2\n  - us-east-1\nfilters:\n  tag:Environment: production\n  tag:Ansible: managed\n  instance-state-name: running\n\nhostnames:\n  - tag:Name\n  - dns-name\n  - private-ip-address\n\ncompose:\n  ansible_host: private_ip_address\n  ec2_state: ec2_state_name\n  ec2_arch: ec2_architecture\n\ngroups:\n  # Group by instance type\n  webservers: \"'web' in tags.Role\"\n  databases: \"'db' in tags.Role\"\n  loadbalancers: \"'lb' in tags.Role\"\n  \n  # Group by environment\n  production: \"tags.Environment == 'production'\"\n  staging: \"tags.Environment == 'staging'\"\n  \n  # Group by availability zone\n  us_west_2a: ec2_placement_availability_zone == \"us-west-2a\"\n  us_west_2b: ec2_placement_availability_zone == \"us-west-2b\"\n\nkeyed_groups:\n  # Create groups based on tags\n  - key: tags.Environment\n    prefix: env\n  - key: tags.Role  \n    prefix: role\n  - key: ec2_instance_type\n    prefix: type\nEOF\n```\n\n### Ansible Vault Security\n```bash\n# Create strong vault password\nopenssl rand -base64 32 \u003e ~/.ansible_vault_pass\nchmod 600 ~/.ansible_vault_pass\n\n# Create encrypted vault file for secrets\nansible-vault create group_vars/all/vault.yml\n# Enter secure passwords and API keys:\n# vault_mysql_root_password: your_secure_mysql_password\n# vault_grafana_admin_password: your_secure_grafana_password  \n# vault_ssl_private_key: |\n#   -----BEGIN PRIVATE KEY-----\n#   your_private_key_content\n#   -----END PRIVATE KEY-----\n\n# Create non-encrypted variables file\ncat \u003e group_vars/all/vars.yml \u003c\u003cEOF\n# Non-sensitive variables\nmysql_port: 3306\nnginx_port: 80\ngrafana_port: 3000\nprometheus_port: 9090\n\n# Reference vault variables\nmysql_root_password: \"{{ vault_mysql_root_password }}\"\ngrafana_admin_password: \"{{ vault_grafana_admin_password }}\"\n\n# SSL configuration\nssl_certificate_path: /etc/ssl/certs/server.crt\nssl_private_key_path: /etc/ssl/private/server.key\nssl_private_key_content: \"{{ vault_ssl_private_key }}\"\n\n# Security settings\nansible_ssh_common_args: '-o StrictHostKeyChecking=yes -o UserKnownHostsFile=~/.ssh/known_hosts'\nansible_become_method: sudo\nansible_become_user: root\nEOF\n\n# Edit vault file\nansible-vault edit group_vars/all/vault.yml\n\n# View vault file (read-only)\nansible-vault view group_vars/all/vault.yml\n\n# Change vault password\nansible-vault rekey group_vars/all/vault.yml\n```\n\n## Comprehensive Playbooks\n\n### System Hardening Playbook\n```bash\ncat \u003e playbooks/system-hardening.yml \u003c\u003cEOF\n---\n- name: System Security Hardening\n  hosts: all\n  become: yes\n  gather_facts: yes\n  vars:\n    security_packages:\n      - fail2ban\n      - ufw\n      - aide\n      - chkrootkit\n      - rkhunter\n      - clamav\n      - lynis\n    \n    disabled_services:\n      - telnet\n      - rsh\n      - rlogin\n      - tftp\n      - talk\n      - finger\n\n  pre_tasks:\n    - name: Update package cache\n      package:\n        update_cache: yes\n        cache_valid_time: 3600\n      when: ansible_os_family in [\"Debian\", \"RedHat\"]\n\n  tasks:\n    # System updates\n    - name: Upgrade all packages\n      package:\n        name: \"*\"\n        state: latest\n      when: ansible_os_family == \"RedHat\"\n\n    - name: Upgrade all packages (Debian/Ubuntu)\n      apt:\n        upgrade: dist\n        autoremove: yes\n        autoclean: yes\n      when: ansible_os_family == \"Debian\"\n\n    # Install security packages\n    - name: Install security packages\n      package:\n        name: \"{{ security_packages }}\"\n        state: present\n\n    # User security\n    - name: Create ansible user with limited privileges\n      user:\n        name: ansible\n        groups: sudo\n        shell: /bin/bash\n        create_home: yes\n        generate_ssh_key: yes\n        ssh_key_bits: 4096\n        ssh_key_type: rsa\n\n    - name: Configure sudo for ansible user\n      lineinfile:\n        path: /etc/sudoers.d/ansible\n        line: 'ansible ALL=(ALL) NOPASSWD:ALL'\n        create: yes\n        mode: '0440'\n        validate: 'visudo -cf %s'\n\n    # SSH hardening\n    - name: Configure SSH security\n      lineinfile:\n        path: /etc/ssh/sshd_config\n        regexp: \"{{ item.regexp }}\"\n        line: \"{{ item.line }}\"\n        backup: yes\n      loop:\n        - { regexp: '^#?PermitRootLogin', line: 'PermitRootLogin no' }\n        - { regexp: '^#?PasswordAuthentication', line: 'PasswordAuthentication no' }\n        - { regexp: '^#?X11Forwarding', line: 'X11Forwarding no' }\n        - { regexp: '^#?MaxAuthTries', line: 'MaxAuthTries 3' }\n        - { regexp: '^#?ClientAliveInterval', line: 'ClientAliveInterval 300' }\n        - { regexp: '^#?ClientAliveCountMax', line: 'ClientAliveCountMax 0' }\n        - { regexp: '^#?Protocol', line: 'Protocol 2' }\n        - { regexp: '^#?LogLevel', line: 'LogLevel VERBOSE' }\n      notify: restart ssh\n\n    # Firewall configuration\n    - name: Configure UFW firewall (Debian/Ubuntu)\n      ufw:\n        state: enabled\n        policy: deny\n        direction: incoming\n      when: ansible_os_family == \"Debian\"\n\n    - name: Allow SSH through UFW\n      ufw:\n        rule: allow\n        port: 22\n        proto: tcp\n        comment: 'SSH access'\n      when: ansible_os_family == \"Debian\"\n\n    - name: Configure firewalld (RHEL/CentOS/Fedora)\n      firewalld:\n        state: enabled\n        permanent: yes\n        immediate: yes\n      when: ansible_os_family == \"RedHat\"\n\n    - name: Allow SSH through firewalld\n      firewalld:\n        service: ssh\n        permanent: yes\n        state: enabled\n        immediate: yes\n      when: ansible_os_family == \"RedHat\"\n\n    # Disable unnecessary services\n    - name: Disable unnecessary services\n      systemd:\n        name: \"{{ item }}\"\n        enabled: no\n        state: stopped\n      loop: \"{{ disabled_services }}\"\n      ignore_errors: yes\n\n    # File system security\n    - name: Set proper permissions on sensitive files\n      file:\n        path: \"{{ item.path }}\"\n        mode: \"{{ item.mode }}\"\n        owner: root\n        group: root\n      loop:\n        - { path: '/etc/passwd', mode: '0644' }\n        - { path: '/etc/shadow', mode: '0640' }\n        - { path: '/etc/group', mode: '0644' }\n        - { path: '/etc/gshadow', mode: '0640' }\n        - { path: '/etc/ssh/sshd_config', mode: '0600' }\n\n    # Kernel security parameters\n    - name: Configure kernel security parameters\n      sysctl:\n        name: \"{{ item.key }}\"\n        value: \"{{ item.value }}\"\n        sysctl_set: yes\n        state: present\n        reload: yes\n      loop:\n        - { key: 'net.ipv4.ip_forward', value: '0' }\n        - { key: 'net.ipv4.conf.all.send_redirects', value: '0' }\n        - { key: 'net.ipv4.conf.default.send_redirects', value: '0' }\n        - { key: 'net.ipv4.conf.all.accept_source_route', value: '0' }\n        - { key: 'net.ipv4.conf.default.accept_source_route', value: '0' }\n        - { key: 'net.ipv4.conf.all.accept_redirects', value: '0' }\n        - { key: 'net.ipv4.conf.default.accept_redirects', value: '0' }\n        - { key: 'net.ipv4.conf.all.secure_redirects', value: '0' }\n        - { key: 'net.ipv4.conf.default.secure_redirects', value: '0' }\n        - { key: 'net.ipv4.conf.all.log_martians', value: '1' }\n        - { key: 'net.ipv4.conf.default.log_martians', value: '1' }\n        - { key: 'kernel.randomize_va_space', value: '2' }\n\n    # Configure fail2ban\n    - name: Configure fail2ban for SSH protection\n      template:\n        src: templates/fail2ban-jail.local.j2\n        dest: /etc/fail2ban/jail.local\n        backup: yes\n      notify: restart fail2ban\n\n  handlers:\n    - name: restart ssh\n      service:\n        name: \"{{ 'ssh' if ansible_os_family == 'Debian' else 'sshd' }}\"\n        state: restarted\n\n    - name: restart fail2ban\n      service:\n        name: fail2ban\n        state: restarted\nEOF\n```\n\n### Application Deployment Playbook\n```bash\ncat \u003e playbooks/web-application-deployment.yml \u003c\u003cEOF\n---\n- name: Deploy Web Application Stack\n  hosts: webservers\n  become: yes\n  serial: \"25%\"  # Rolling deployment\n  max_fail_percentage: 10\n  vars:\n    app_name: mywebapp\n    app_version: \"{{ app_version | default('latest') }}\"\n    app_port: 3000\n    nginx_workers: \"{{ ansible_processor_cores }}\"\n    \n  pre_tasks:\n    - name: Check if maintenance mode file exists\n      stat:\n        path: /var/www/html/maintenance.html\n      register: maintenance_mode\n\n    - name: Fail if in maintenance mode\n      fail:\n        msg: \"Server is in maintenance mode\"\n      when: maintenance_mode.stat.exists and not force_deployment | default(false)\n\n  tasks:\n    # Application deployment\n    - name: Create application user\n      user:\n        name: \"{{ app_name }}\"\n        system: yes\n        shell: /bin/false\n        home: \"/opt/{{ app_name }}\"\n        create_home: yes\n\n    - name: Create application directories\n      file:\n        path: \"{{ item }}\"\n        state: directory\n        owner: \"{{ app_name }}\"\n        group: \"{{ app_name }}\"\n        mode: '0755'\n      loop:\n        - \"/opt/{{ app_name }}\"\n        - \"/opt/{{ app_name }}/releases\"\n        - \"/opt/{{ app_name }}/shared\"\n        - \"/var/log/{{ app_name }}\"\n\n    - name: Download application release\n      get_url:\n        url: \"https://releases.example.com/{{ app_name }}/{{ app_version }}/{{ app_name }}-{{ app_version }}.tar.gz\"\n        dest: \"/tmp/{{ app_name }}-{{ app_version }}.tar.gz\"\n        mode: '0644'\n        timeout: 300\n      register: download_result\n\n    - name: Extract application\n      unarchive:\n        src: \"/tmp/{{ app_name }}-{{ app_version }}.tar.gz\"\n        dest: \"/opt/{{ app_name }}/releases/\"\n        owner: \"{{ app_name }}\"\n        group: \"{{ app_name }}\"\n        remote_src: yes\n        creates: \"/opt/{{ app_name }}/releases/{{ app_version }}\"\n\n    - name: Create symlink to current release\n      file:\n        src: \"/opt/{{ app_name }}/releases/{{ app_version }}\"\n        dest: \"/opt/{{ app_name }}/current\"\n        state: link\n        owner: \"{{ app_name }}\"\n        group: \"{{ app_name }}\"\n      notify:\n        - reload application\n        - reload nginx\n\n    # Configuration management\n    - name: Deploy application configuration\n      template:\n        src: \"templates/{{ app_name }}.conf.j2\"\n        dest: \"/opt/{{ app_name }}/shared/{{ app_name }}.conf\"\n        owner: \"{{ app_name }}\"\n        group: \"{{ app_name }}\"\n        mode: '0640'\n        backup: yes\n      notify: reload application\n\n    # Service management\n    - name: Deploy systemd service file\n      template:\n        src: \"templates/{{ app_name }}.service.j2\"\n        dest: \"/etc/systemd/system/{{ app_name }}.service\"\n        mode: '0644'\n      notify:\n        - daemon reload\n        - restart application\n\n    - name: Enable and start application service\n      systemd:\n        name: \"{{ app_name }}\"\n        enabled: yes\n        state: started\n        daemon_reload: yes\n\n    # Health check\n    - name: Wait for application to be ready\n      uri:\n        url: \"http://localhost:{{ app_port }}/health\"\n        method: GET\n        status_code: 200\n      retries: 30\n      delay: 10\n\n    # Cleanup old releases\n    - name: Clean up old releases (keep last 3)\n      shell: |\n        cd /opt/{{ app_name }}/releases\n        ls -t | tail -n +4 | xargs rm -rf\n      args:\n        executable: /bin/bash\n\n  post_tasks:\n    - name: Verify application is running\n      uri:\n        url: \"http://{{ ansible_default_ipv4.address }}:{{ app_port }}/health\"\n        method: GET\n        status_code: 200\n      delegate_to: localhost\n\n    - name: Log deployment success\n      lineinfile:\n        path: \"/var/log/{{ app_name }}/deployments.log\"\n        line: \"{{ ansible_date_time.iso8601 }} - Successfully deployed {{ app_version }} to {{ inventory_hostname }}\"\n        create: yes\n\n  handlers:\n    - name: daemon reload\n      systemd:\n        daemon_reload: yes\n\n    - name: restart application\n      systemd:\n        name: \"{{ app_name }}\"\n        state: restarted\n\n    - name: reload application\n      systemd:\n        name: \"{{ app_name }}\"\n        state: reloaded\n\n    - name: reload nginx\n      service:\n        name: nginx\n        state: reloaded\nEOF\n```\n\n### Infrastructure as Code Playbook\n```bash\ncat \u003e playbooks/infrastructure-provisioning.yml \u003c\u003cEOF\n---\n- name: Infrastructure Provisioning and Configuration\n  hosts: all\n  become: yes\n  strategy: free  # Parallel execution\n  vars:\n    base_packages:\n      Debian:\n        - curl\n        - wget\n        - vim\n        - htop\n        - git\n        - python3\n        - python3-pip\n        - unzip\n        - tree\n      RedHat:\n        - curl\n        - wget\n        - vim\n        - htop\n        - git\n        - python3\n        - python3-pip\n        - unzip\n        - tree\n        - epel-release\n\n  tasks:\n    # System preparation\n    - name: Set hostname\n      hostname:\n        name: \"{{ inventory_hostname }}\"\n\n    - name: Update /etc/hosts\n      lineinfile:\n        path: /etc/hosts\n        line: \"{{ ansible_default_ipv4.address }} {{ inventory_hostname }}\"\n        backup: yes\n\n    # Package management\n    - name: Install base packages\n      package:\n        name: \"{{ base_packages[ansible_os_family] | default(base_packages['Debian']) }}\"\n        state: present\n\n    # Time synchronization\n    - name: Install and configure NTP\n      package:\n        name: \"{{ 'ntp' if ansible_os_family == 'Debian' else 'chrony' }}\"\n        state: present\n\n    - name: Start and enable time synchronization\n      service:\n        name: \"{{ 'ntp' if ansible_os_family == 'Debian' else 'chronyd' }}\"\n        state: started\n        enabled: yes\n\n    # Log management\n    - name: Configure logrotate for application logs\n      template:\n        src: templates/app-logrotate.j2\n        dest: /etc/logrotate.d/applications\n        mode: '0644'\n\n    # Monitoring agent installation\n    - name: Install Node Exporter for Prometheus monitoring\n      get_url:\n        url: \"https://github.com/prometheus/node_exporter/releases/download/v1.6.1/node_exporter-1.6.1.linux-amd64.tar.gz\"\n        dest: /tmp/node_exporter.tar.gz\n        mode: '0644'\n\n    - name: Extract Node Exporter\n      unarchive:\n        src: /tmp/node_exporter.tar.gz\n        dest: /tmp\n        remote_src: yes\n\n    - name: Copy Node Exporter binary\n      copy:\n        src: /tmp/node_exporter-1.6.1.linux-amd64/node_exporter\n        dest: /usr/local/bin/node_exporter\n        mode: '0755'\n        owner: root\n        group: root\n        remote_src: yes\n\n    - name: Create node_exporter systemd service\n      template:\n        src: templates/node_exporter.service.j2\n        dest: /etc/systemd/system/node_exporter.service\n        mode: '0644'\n      notify:\n        - daemon reload\n        - restart node_exporter\n\n    # Security configuration\n    - name: Configure kernel parameters for security\n      sysctl:\n        name: \"{{ item.key }}\"\n        value: \"{{ item.value }}\"\n        sysctl_set: yes\n        state: present\n        reload: yes\n      loop:\n        - { key: 'kernel.dmesg_restrict', value: '1' }\n        - { key: 'kernel.kptr_restrict', value: '2' }\n        - { key: 'kernel.yama.ptrace_scope', value: '1' }\n        - { key: 'net.ipv4.conf.all.log_martians', value: '1' }\n        - { key: 'net.ipv4.conf.default.log_martians', value: '1' }\n        - { key: 'net.ipv4.conf.all.send_redirects', value: '0' }\n        - { key: 'net.ipv4.conf.default.send_redirects', value: '0' }\n\n    # File integrity monitoring\n    - name: Initialize AIDE database\n      shell: |\n        aide --init\n        mv /var/lib/aide/aide.db.new /var/lib/aide/aide.db\n      args:\n        creates: /var/lib/aide/aide.db\n\n    - name: Schedule AIDE integrity checks\n      cron:\n        name: \"AIDE integrity check\"\n        minute: \"0\"\n        hour: \"3\"\n        job: \"/usr/bin/aide --check\"\n        user: root\n\n  handlers:\n    - name: daemon reload\n      systemd:\n        daemon_reload: yes\n\n    - name: restart node_exporter\n      service:\n        name: node_exporter\n        state: restarted\n        enabled: yes\nEOF\n```\n\n## Advanced Role Development\n\n### Comprehensive NGINX Role\n```bash\n# Create NGINX role structure\nansible-galaxy init roles/nginx\n\n# Main tasks\ncat \u003e roles/nginx/tasks/main.yml \u003c\u003cEOF\n---\n# NGINX Installation and Configuration Role\n- name: Include OS-specific variables\n  include_vars: \"{{ ansible_os_family }}.yml\"\n\n- name: Install NGINX\n  include_tasks: \"install-{{ ansible_os_family }}.yml\"\n\n- name: Create NGINX directories\n  file:\n    path: \"{{ item }}\"\n    state: directory\n    owner: root\n    group: root\n    mode: '0755'\n  loop:\n    - /etc/nginx/sites-available\n    - /etc/nginx/sites-enabled\n    - /etc/nginx/conf.d\n    - /var/log/nginx\n    - /var/cache/nginx\n\n- name: Generate DH parameters\n  openssl_dhparam:\n    path: /etc/ssl/certs/dhparam.pem\n    size: 2048\n  when: nginx_ssl_enabled | default(false)\n\n- name: Deploy NGINX main configuration\n  template:\n    src: nginx.conf.j2\n    dest: /etc/nginx/nginx.conf\n    backup: yes\n    validate: 'nginx -t -c %s'\n  notify: reload nginx\n\n- name: Deploy virtual host configurations\n  template:\n    src: vhost.conf.j2\n    dest: \"/etc/nginx/sites-available/{{ item.name }}.conf\"\n    backup: yes\n  loop: \"{{ nginx_vhosts | default([]) }}\"\n  notify: reload nginx\n\n- name: Enable virtual hosts\n  file:\n    src: \"/etc/nginx/sites-available/{{ item.name }}.conf\"\n    dest: \"/etc/nginx/sites-enabled/{{ item.name }}.conf\"\n    state: link\n  loop: \"{{ nginx_vhosts | default([]) }}\"\n  when: item.enabled | default(true)\n  notify: reload nginx\n\n- name: Remove default site\n  file:\n    path: /etc/nginx/sites-enabled/default\n    state: absent\n  notify: reload nginx\n\n- name: Start and enable NGINX\n  service:\n    name: nginx\n    state: started\n    enabled: yes\n\n- name: Configure log rotation\n  template:\n    src: nginx-logrotate.j2\n    dest: /etc/logrotate.d/nginx\n    mode: '0644'\n\n- name: Setup NGINX monitoring\n  include_tasks: monitoring.yml\n  when: nginx_monitoring_enabled | default(false)\n\n- name: Configure SSL certificates\n  include_tasks: ssl.yml\n  when: nginx_ssl_enabled | default(false)\nEOF\n\n# OS-specific installation tasks\ncat \u003e roles/nginx/tasks/install-Debian.yml \u003c\u003cEOF\n---\n- name: Add NGINX signing key (Debian/Ubuntu)\n  apt_key:\n    url: https://nginx.org/keys/nginx_signing.key\n    state: present\n\n- name: Add NGINX repository (Debian/Ubuntu)\n  apt_repository:\n    repo: \"deb https://nginx.org/packages/{{ ansible_distribution | lower }}/ {{ ansible_distribution_release }} nginx\"\n    state: present\n\n- name: Install NGINX (Debian/Ubuntu)\n  apt:\n    name: nginx\n    state: present\n    update_cache: yes\nEOF\n\ncat \u003e roles/nginx/tasks/install-RedHat.yml \u003c\u003cEOF\n---\n- name: Add NGINX repository (RHEL/CentOS)\n  yum_repository:\n    name: nginx\n    description: NGINX Repository\n    baseurl: \"https://nginx.org/packages/centos/{{ ansible_distribution_major_version }}/$basearch/\"\n    gpgcheck: yes\n    gpgkey: https://nginx.org/keys/nginx_signing.key\n    enabled: yes\n\n- name: Install NGINX (RHEL/CentOS)\n  yum:\n    name: nginx\n    state: present\nEOF\n\n# Variables\ncat \u003e roles/nginx/vars/main.yml \u003c\u003cEOF\n---\nnginx_user: nginx\nnginx_worker_processes: auto\nnginx_worker_connections: 1024\nnginx_keepalive_timeout: 65\nnginx_ssl_enabled: false\nnginx_monitoring_enabled: true\n\nnginx_security_headers:\n  - \"add_header X-Frame-Options SAMEORIGIN always;\"\n  - \"add_header X-Content-Type-Options nosniff always;\"\n  - \"add_header X-XSS-Protection '1; mode=block' always;\"\n  - \"add_header Strict-Transport-Security 'max-age=31536000; includeSubDomains' always;\"\n\nnginx_default_vhost:\n  name: default\n  listen: 80\n  server_name: \"_\"\n  root: /var/www/html\n  index: index.html\n  enabled: false\nEOF\n\n# Templates\ncat \u003e roles/nginx/templates/nginx.conf.j2 \u003c\u003cEOF\nuser {{ nginx_user }};\nworker_processes {{ nginx_worker_processes }};\npid /var/run/nginx.pid;\n\nevents {\n    worker_connections {{ nginx_worker_connections }};\n    use epoll;\n    multi_accept on;\n}\n\nhttp {\n    # Basic settings\n    sendfile on;\n    tcp_nopush on;\n    tcp_nodelay on;\n    keepalive_timeout {{ nginx_keepalive_timeout }};\n    types_hash_max_size 2048;\n    server_tokens off;\n\n    include /etc/nginx/mime.types;\n    default_type application/octet-stream;\n\n    # SSL configuration\n{% if nginx_ssl_enabled %}\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_prefer_server_ciphers off;\n    ssl_dhparam /etc/ssl/certs/dhparam.pem;\n{% endif %}\n\n    # Gzip compression\n    gzip on;\n    gzip_vary on;\n    gzip_proxied any;\n    gzip_comp_level 6;\n    gzip_types\n        application/javascript\n        application/json\n        application/xml\n        text/css\n        text/javascript\n        text/xml\n        text/plain;\n\n    # Security headers\n{% for header in nginx_security_headers %}\n    {{ header }}\n{% endfor %}\n\n    # Logging\n    log_format main '\\$remote_addr - \\$remote_user [\\$time_local] \"\\$request\" '\n                    '\\$status \\$body_bytes_sent \"\\$http_referer\" '\n                    '\"\\$http_user_agent\" \"\\$http_x_forwarded_for\"';\n\n    access_log /var/log/nginx/access.log main;\n    error_log /var/log/nginx/error.log;\n\n    # Rate limiting\n    limit_req_zone \\$binary_remote_addr zone=login:10m rate=10r/m;\n    limit_conn_zone \\$binary_remote_addr zone=addr:10m;\n\n    # Include configurations\n    include /etc/nginx/conf.d/*.conf;\n    include /etc/nginx/sites-enabled/*;\n}\nEOF\n\n# Handlers\ncat \u003e roles/nginx/handlers/main.yml \u003c\u003cEOF\n---\n- name: restart nginx\n  service:\n    name: nginx\n    state: restarted\n\n- name: reload nginx\n  service:\n    name: nginx\n    state: reloaded\n\n- name: validate nginx config\n  command: nginx -t\n  changed_when: false\nEOF\n```\n\n## Security and Compliance\n\n### Ansible Security Scanner Integration\n```bash\n# Create security scanning playbook\ncat \u003e playbooks/security-scan.yml \u003c\u003cEOF\n---\n- name: Security Compliance Scanning\n  hosts: all\n  become: yes\n  gather_facts: yes\n  vars:\n    scan_results_dir: \"/tmp/security-scans\"\n    \n  tasks:\n    - name: Create scan results directory\n      file:\n        path: \"{{ scan_results_dir }}\"\n        state: directory\n        mode: '0755'\n\n    # CIS benchmark scanning\n    - name: Download CIS benchmark script\n      get_url:\n        url: \"https://github.com/dev-sec/cis-dil-benchmark/archive/master.zip\"\n        dest: \"/tmp/cis-benchmark.zip\"\n        mode: '0644'\n\n    - name: Run CIS benchmark scan\n      shell: |\n        cd /tmp\n        unzip -o cis-benchmark.zip\n        cd cis-dil-benchmark-master\n        bash cis_ubuntu2204.sh \u003e {{ scan_results_dir }}/cis-scan-{{ inventory_hostname }}.txt\n      args:\n        creates: \"{{ scan_results_dir }}/cis-scan-{{ inventory_hostname }}.txt\"\n\n    # Lynis security audit\n    - name: Install Lynis\n      package:\n        name: lynis\n        state: present\n\n    - name: Run Lynis security audit\n      command: lynis audit system --quiet --cronjob\n      register: lynis_result\n      changed_when: false\n\n    - name: Save Lynis results\n      copy:\n        content: \"{{ lynis_result.stdout }}\"\n        dest: \"{{ scan_results_dir }}/lynis-scan-{{ inventory_hostname }}.txt\"\n        mode: '0644'\n\n    # OpenSCAP compliance scanning\n    - name: Install OpenSCAP (RHEL/CentOS)\n      package:\n        name:\n          - openscap-scanner\n          - scap-security-guide\n        state: present\n      when: ansible_os_family == \"RedHat\"\n\n    - name: Install OpenSCAP (Debian/Ubuntu)\n      package:\n        name:\n          - libopenscap8\n          - ssg-debian\n        state: present\n      when: ansible_os_family == \"Debian\"\n\n    - name: Run OpenSCAP scan\n      shell: |\n        oscap xccdf eval --profile xccdf_org.ssgproject.content_profile_standard \\\n          --results {{ scan_results_dir }}/oscap-results-{{ inventory_hostname }}.xml \\\n          --report {{ scan_results_dir }}/oscap-report-{{ inventory_hostname }}.html \\\n          /usr/share/xml/scap/ssg/content/ssg-{{ ansible_distribution | lower }}{{ ansible_distribution_major_version }}-xccdf.xml\n      ignore_errors: yes\n      when: ansible_os_family in [\"RedHat\", \"Debian\"]\n\n    # Vulnerability scanning with Trivy\n    - name: Install Trivy vulnerability scanner\n      shell: |\n        curl -sfL https://raw.githubusercontent.com/aquasecurity/trivy/main/contrib/install.sh | sh -s -- -b /usr/local/bin\n      args:\n        creates: /usr/local/bin/trivy\n\n    - name: Run Trivy filesystem scan\n      shell: |\n        trivy fs --format json --output {{ scan_results_dir }}/trivy-scan-{{ inventory_hostname }}.json /\n      ignore_errors: yes\n\n    # Collect scan results\n    - name: Fetch scan results to control machine\n      fetch:\n        src: \"{{ item }}\"\n        dest: \"./security-reports/{{ inventory_hostname }}/\"\n        flat: yes\n      loop:\n        - \"{{ scan_results_dir }}/cis-scan-{{ inventory_hostname }}.txt\"\n        - \"{{ scan_results_dir }}/lynis-scan-{{ inventory_hostname }}.txt\"\n        - \"{{ scan_results_dir }}/oscap-report-{{ inventory_hostname }}.html\"\n        - \"{{ scan_results_dir }}/trivy-scan-{{ inventory_hostname }}.json\"\n      ignore_errors: yes\n      delegate_to: localhost\n\n  post_tasks:\n    - name: Generate compliance summary\n      template:\n        src: templates/compliance-summary.j2\n        dest: \"{{ scan_results_dir }}/compliance-summary-{{ inventory_hostname }}.txt\"\n        mode: '0644'\nEOF\n```\n\n### Ansible AWX/Tower Integration\n```bash\n# Install Ansible AWX (open source)\ncat \u003e playbooks/install-awx.yml \u003c\u003cEOF\n---\n- name: Install Ansible AWX\n  hosts: localhost\n  connection: local\n  become: yes\n  vars:\n    awx_namespace: awx\n    awx_admin_user: admin\n    awx_admin_password: \"{{ vault_awx_admin_password }}\"\n\n  tasks:\n    - name: Install prerequisite packages\n      package:\n        name:\n          - git\n          - curl\n          - docker.io\n          - docker-compose\n        state: present\n\n    - name: Clone AWX repository\n      git:\n        repo: https://github.com/ansible/awx.git\n        dest: /opt/awx\n        version: devel\n\n    - name: Create AWX Docker inventory\n      template:\n        src: templates/awx-docker-inventory.j2\n        dest: /opt/awx/installer/inventory\n        mode: '0644'\n\n    - name: Install AWX using Ansible\n      shell: ansible-playbook -i inventory install.yml\n      args:\n        chdir: /opt/awx/installer\n      environment:\n        ANSIBLE_HOST_KEY_CHECKING: False\n\n    - name: Wait for AWX to be ready\n      uri:\n        url: \"http://localhost:80/api/v2/ping/\"\n        method: GET\n      retries: 30\n      delay: 10\n\n    - name: Configure AWX organizations and projects\n      uri:\n        url: \"http://localhost:80/api/v2/organizations/\"\n        method: POST\n        user: \"{{ awx_admin_user }}\"\n        password: \"{{ awx_admin_password }}\"\n        force_basic_auth: yes\n        body_format: json\n        body:\n          name: \"Production\"\n          description: \"Production environment organization\"\n        status_code: [200, 201, 409]\nEOF\n```\n\n## Multi-Cloud Automation\n\n### AWS Infrastructure Automation\n```bash\ncat \u003e playbooks/aws-infrastructure.yml \u003c\u003cEOF\n---\n- name: AWS Infrastructure Automation\n  hosts: localhost\n  connection: local\n  gather_facts: no\n  vars:\n    aws_region: \"{{ aws_region | default('us-west-2') }}\"\n    vpc_cidr: \"{{ vpc_cidr | default('10.0.0.0/16') }}\"\n    environment: \"{{ environment | default('production') }}\"\n\n  tasks:\n    # VPC Creation\n    - name: Create VPC\n      amazon.aws.ec2_vpc_info:\n        filters:\n          \"tag:Name\": \"{{ environment }}-vpc\"\n        region: \"{{ aws_region }}\"\n      register: existing_vpc\n\n    - name: Create new VPC if not exists\n      amazon.aws.ec2_vpc_net:\n        name: \"{{ environment }}-vpc\"\n        cidr_block: \"{{ vpc_cidr }}\"\n        region: \"{{ aws_region }}\"\n        state: present\n        dns_hostnames: yes\n        dns_support: yes\n        tags:\n          Environment: \"{{ environment }}\"\n          ManagedBy: ansible\n      register: vpc\n      when: existing_vpc.vpcs | length == 0\n\n    # Security Groups\n    - name: Create web security group\n      amazon.aws.ec2_group:\n        name: \"{{ environment }}-web-sg\"\n        description: \"Security group for web servers\"\n        vpc_id: \"{{ vpc.vpc.id if vpc.vpc is defined else existing_vpc.vpcs[0].vpc_id }}\"\n        region: \"{{ aws_region }}\"\n        rules:\n          - proto: tcp\n            ports:\n              - 80\n              - 443\n            cidr_ip: 0.0.0.0/0\n            rule_desc: \"HTTP and HTTPS access\"\n          - proto: tcp\n            ports:\n              - 22\n            group_id: \"{{ environment }}-bastion-sg\"\n            rule_desc: \"SSH from bastion\"\n        tags:\n          Environment: \"{{ environment }}\"\n\n    # Launch EC2 instances\n    - name: Launch web servers\n      amazon.aws.ec2_instance:\n        name: \"{{ environment }}-web-{{ item }}\"\n        instance_type: t3.medium\n        image_id: ami-0c02fb55956c7d316  # Amazon Linux 2\n        key_name: \"{{ ec2_key_name }}\"\n        vpc_subnet_id: \"{{ web_subnet_id }}\"\n        security_groups:\n          - \"{{ environment }}-web-sg\"\n        region: \"{{ aws_region }}\"\n        state: running\n        wait: yes\n        wait_timeout: 300\n        user_data: |\n          #!/bin/bash\n          yum update -y\n          yum install -y python3\n        tags:\n          Environment: \"{{ environment }}\"\n          Role: webserver\n          Ansible: managed\n      loop: \"{{ range(1, web_server_count + 1) | list }}\"\n      register: web_instances\n\n    # Add instances to inventory\n    - name: Add web servers to inventory\n      add_host:\n        name: \"{{ item.instances[0].tags.Name }}\"\n        hostname: \"{{ item.instances[0].public_ip_address }}\"\n        groups: webservers\n        ansible_ssh_private_key_file: \"~/.ssh/{{ ec2_key_name }}.pem\"\n        ansible_user: ec2-user\n      loop: \"{{ web_instances.results }}\"\n      changed_when: false\nEOF\n```\n\n### Kubernetes Cluster Management\n```bash\ncat \u003e playbooks/k8s-cluster-management.yml \u003c\u003cEOF\n---\n- name: Kubernetes Cluster Management with Ansible\n  hosts: k8s_masters\n  become: yes\n  serial: 1\n  vars:\n    k8s_version: \"1.28.2\"\n    containerd_version: \"1.6.24\"\n    cni_version: \"1.3.0\"\n\n  tasks:\n    # Pre-flight checks\n    - name: Check system requirements\n      assert:\n        that:\n          - ansible_memtotal_mb \u003e= 1700\n          - ansible_processor_cores \u003e= 2\n        fail_msg: \"System doesn't meet minimum requirements\"\n\n    - name: Verify connectivity to all nodes\n      ping:\n      delegate_to: \"{{ item }}\"\n      loop: \"{{ groups['k8s_all'] }}\"\n\n    # Container runtime setup\n    - name: Install containerd\n      include_role:\n        name: containerd\n      vars:\n        containerd_version: \"{{ containerd_version }}\"\n\n    # Kubernetes installation\n    - name: Install Kubernetes components\n      include_role:\n        name: kubernetes\n      vars:\n        kubernetes_version: \"{{ k8s_version }}\"\n\n    # Cluster initialization\n    - name: Initialize Kubernetes cluster\n      shell: |\n        kubeadm init \\\n          --pod-network-cidr=10.244.0.0/16 \\\n          --service-cidr=10.96.0.0/12 \\\n          --apiserver-advertise-address={{ ansible_default_ipv4.address }} \\\n          --node-name={{ inventory_hostname }}\n      args:\n        creates: /etc/kubernetes/admin.conf\n      register: kubeadm_init\n\n    - name: Create .kube directory\n      file:\n        path: \"{{ ansible_env.HOME }}/.kube\"\n        state: directory\n        mode: '0755'\n\n    - name: Copy admin.conf to user's kube config\n      copy:\n        src: /etc/kubernetes/admin.conf\n        dest: \"{{ ansible_env.HOME }}/.kube/config\"\n        owner: \"{{ ansible_user }}\"\n        group: \"{{ ansible_user }}\"\n        mode: '0644'\n        remote_src: yes\n\n    # Network plugin installation\n    - name: Install Flannel CNI\n      shell: kubectl apply -f https://github.com/flannel-io/flannel/releases/latest/download/kube-flannel.yml\n      environment:\n        KUBECONFIG: \"{{ ansible_env.HOME }}/.kube/config\"\n\n    # Join worker nodes\n    - name: Get join command\n      shell: kubeadm token create --print-join-command\n      register: join_command\n      when: inventory_hostname in groups['k8s_masters'][0]\n\n    - name: Join worker nodes to cluster\n      shell: \"{{ hostvars[groups['k8s_masters'][0]]['join_command'].stdout }}\"\n      when: inventory_hostname in groups['k8s_workers']\n\n  post_tasks:\n    - name: Verify cluster status\n      shell: kubectl get nodes\n      environment:\n        KUBECONFIG: \"{{ ansible_env.HOME }}/.kube/config\"\n      register: cluster_status\n      when: inventory_hostname in groups['k8s_masters'][0]\n\n    - name: Display cluster status\n      debug:\n        var: cluster_status.stdout_lines\n      when: inventory_hostname in groups['k8s_masters'][0]\nEOF\n```\n\n## Performance Optimization\n\n### System-Level Tuning\n\n```bash\n# Optimize control machine for Ansible performance\n# Kernel parameters for network performance\nsudo tee -a /etc/sysctl.conf \u003e /dev/null \u003c\u003cEOF\n# Ansible performance optimization\nnet.core.somaxconn = 8192\nnet.core.netdev_max_backlog = 5000\nnet.ipv4.tcp_max_syn_backlog = 8192\nnet.ipv4.tcp_max_tw_buckets = 400000\nnet.ipv4.tcp_tw_reuse = 1\nnet.ipv4.tcp_fin_timeout = 10\nnet.ipv4.ip_local_port_range = 1024 65535\nnet.core.rmem_default = 262144\nnet.core.rmem_max = 16777216\nnet.core.wmem_default = 262144\nnet.core.wmem_max = 16777216\nfs.file-max = 100000\nEOF\n\nsudo sysctl -p\n\n# Set resource limits for Ansible user\nsudo tee -a /etc/security/limits.conf \u003e /dev/null \u003c\u003cEOF\nansible soft nofile 65536\nansible hard nofile 65536\nansible soft nproc 32768\nansible hard nproc 32768\nEOF\n\n# SSH client optimization\nmkdir -p ~/.ssh\ncat \u003e\u003e ~/.ssh/config \u003c\u003cEOF\nHost *\n    ControlMaster auto\n    ControlPersist 3600\n    ControlPath ~/.ssh/sockets/%r@%h-%p\n    Compression yes\n    ServerAliveInterval 60\n    ServerAliveCountMax 3\n    TCPKeepAlive yes\n    ConnectTimeout 10\n    StrictHostKeyChecking yes\n    UserKnownHostsFile ~/.ssh/known_hosts\nEOF\n\nmkdir -p ~/.ssh/sockets\n```\n\n### Ansible Performance Configuration\n\n```bash\n# High-performance ansible.cfg\ncat \u003e ansible-performance.cfg \u003c\u003cEOF\n[defaults]\n# Core performance settings\nforks = 50\npoll_interval = 1\ninternal_poll_interval = 0.001\ntimeout = 30\nhost_key_checking = True\ngather_timeout = 30\ngathering = smart\nfact_caching = redis\nfact_caching_connection = localhost:6379:0\nfact_caching_timeout = 86400\ncache_plugins = memory\n\n# Callback and display optimization\nstdout_callback = yaml\ncallbacks_enabled = timer, profile_tasks, profile_roles\ndisplay_skipped_hosts = False\ndisplay_ok_hosts = False\ndisplay_failed_stderr = True\n\n# SSH optimization\n[ssh_connection]\nssh_args = -o ControlMaster=auto -o ControlPersist=3600s -o PreferredAuthentications=publickey -o Compression=yes\npipelining = True\ncontrol_path = ~/.ansible/sockets/%%h-%%p-%%r\nretries = 3\nssh_executable = /usr/bin/ssh\n\n# Connection persistence\n[persistent_connection]\nconnect_timeout = 30\nconnect_retry_timeout = 15\ncommand_timeout = 30\n\n# Privilege escalation optimization\n[privilege_escalation]\nbecome_plugins = sudo, su, pbrun, pfexec, doas, dzdo, ksu, runas, machinectl\nbecome_allow_same_user = False\nbecome_ask_pass = False\nEOF\n\n# Use Redis for fact caching (install Redis first)\nsudo apt install -y redis-server  # or relevant package manager\npip install redis\n\n# Create performance monitoring script\ncat \u003e ansible-performance-monitor.sh \u003c\u003c'EOF'\n#!/bin/bash\n# Monitor Ansible performance metrics\n\nPLAYBOOK=\"$1\"\nif [ -z \"$PLAYBOOK\" ]; then\n    echo \"Usage: $0 \u003cplaybook\u003e\"\n    exit 1\nfi\n\n# Enable profiling\nexport ANSIBLE_CALLBACK_PLUGINS=\"~/.ansible/plugins/callback\"\nexport ANSIBLE_CALLBACKS_ENABLED=\"timer,profile_tasks,profile_roles\"\n\n# Monitor system resources during playbook execution\n(\n    while pgrep -f ansible-playbook \u003e /dev/null; do\n        echo \"$(date): CPU: $(top -bn1 | grep \"Cpu(s)\" | awk '{print $2}'), Memory: $(free -m | awk 'NR==2{printf \"%.1f%%\", $3*100/$2 }')\"\n        sleep 5\n    done\n) \u0026\n\n# Run playbook with timing\ntime ansible-playbook \"$PLAYBOOK\" --diff\n\n# Kill monitoring\npkill -P $$\nEOF\n\nchmod +x ansible-performance-monitor.sh\n```\n\n### Parallel Execution Strategies\n```bash\n# Create high-performance playbook configuration\ncat \u003e playbooks/high-performance-deployment.yml \u003c\u003cEOF\n---\n- name: High-Performance Deployment\n  hosts: all\n  become: yes\n  strategy: free  # Parallel execution\n  serial: \"30%\"   # Process 30% of hosts at a time\n  max_fail_percentage: 10\n  gather_facts: yes\n  fact_caching: smart\n  vars:\n    deployment_batch_size: 10\n    max_concurrent_tasks: 50\n\n  pre_tasks:\n    - name: Check system load\n      shell: uptime | awk '{print $(NF-2)}' | sed 's/,//'\n      register: system_load\n      changed_when: false\n\n    - name: Skip high-load systems\n      meta: end_host\n      when: system_load.stdout | float \u003e 5.0\n\n  tasks:\n    - name: Update packages with retries\n      package:\n        name: \"*\"\n        state: latest\n      retries: 3\n      delay: 30\n      async: 300\n      poll: 10\n\n    - name: Deploy configuration files in parallel\n      template:\n        src: \"{{ item.src }}\"\n        dest: \"{{ item.dest }}\"\n        mode: \"{{ item.mode | default('0644') }}\"\n        backup: yes\n      loop:\n        - { src: \"nginx.conf.j2\", dest: \"/etc/nginx/nginx.conf\" }\n        - { src: \"mysql.cnf.j2\", dest: \"/etc/mysql/my.cnf\" }\n        - { src: \"redis.conf.j2\", dest: \"/etc/redis/redis.conf\" }\n      async: 120\n      poll: 5\n      register: config_deployment\n\n    - name: Wait for all configuration deployments\n      async_status:\n        jid: \"{{ item.ansible_job_id }}\"\n      loop: \"{{ config_deployment.results }}\"\n      when: item.ansible_job_id is defined\n\n  handlers:\n    - name: restart services\n      service:\n        name: \"{{ item }}\"\n        state: restarted\n      loop:\n        - nginx\n        - mysql\n        - redis\n      listen: \"restart all services\"\nEOF\n\n# Performance monitoring playbook\ncat \u003e playbooks/performance-monitoring.yml \u003c\u003cEOF\n---\n- name: Performance Monitoring Setup\n  hosts: all\n  become: yes\n  vars:\n    monitoring_tools:\n      - htop\n      - iotop\n      - nethogs\n      - dstat\n      - sysstat\n      - perf\n\n  tasks:\n    - name: Install performance monitoring tools\n      package:\n        name: \"{{ monitoring_tools }}\"\n        state: present\n\n    - name: Configure system monitoring\n      template:\n        src: templates/sysstat.j2\n        dest: /etc/default/sysstat\n        backup: yes\n      when: ansible_os_family == \"Debian\"\n\n    - name: Enable system statistics collection\n      service:\n        name: \"{{ 'sysstat' if ansible_os_family == 'Debian' else 'sysstat' }}\"\n        enabled: yes\n        state: started\n\n    - name: Create performance monitoring script\n      template:\n        src: templates/performance-monitor.sh.j2\n        dest: /usr/local/bin/performance-monitor.sh\n        mode: '0755'\n\n    - name: Schedule performance monitoring\n      cron:\n        name: \"Performance monitoring\"\n        minute: \"*/5\"\n        job: \"/usr/local/bin/performance-monitor.sh\"\n        user: root\nEOF\n```\n\n## Reverse Proxy Setup\n\n### nginx Configuration for Ansible AWX/Tower\n\n```nginx\n# /etc/nginx/sites-available/ansible-awx\nupstream ansible_awx {\n    server 127.0.0.1:8080;\n    server 127.0.0.1:8081 backup;\n}\n\nserver {\n    listen 80;\n    listen [::]:80;\n    server_name ansible.example.com;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    listen [::]:443 ssl http2;\n    server_name ansible.example.com;\n\n    # SSL Configuration\n    ssl_certificate /etc/ssl/certs/ansible.example.com.crt;\n    ssl_certificate_key /etc/ssl/private/ansible.example.com.key;\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384;\n    ssl_prefer_server_ciphers off;\n\n    # Security headers\n    add_header X-Frame-Options DENY;\n    add_header X-Content-Type-Options nosniff;\n    add_header X-XSS-Protection \"1; mode=block\";\n    add_header Strict-Transport-Security \"max-age=63072000; includeSubDomains; preload\";\n\n    location / {\n        proxy_pass http://ansible_awx;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        proxy_buffering off;\n        proxy_request_buffering off;\n    }\n\n    # WebSocket support\n    location /websocket/ {\n        proxy_pass http://ansible_awx;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n        proxy_set_header Host $host;\n        proxy_cache_bypass $http_upgrade;\n    }\n}\n```\n\n### HAProxy Configuration\n\n```haproxy\n# /etc/haproxy/haproxy.cfg\nglobal\n    daemon\n    chroot /var/lib/haproxy\n    user haproxy\n    group haproxy\n    log stdout local0 info\n\ndefaults\n    mode http\n    timeout connect 5000ms\n    timeout client 50000ms\n    timeout server 50000ms\n    option httplog\n\nfrontend ansible_frontend\n    bind *:80\n    bind *:443 ssl crt /etc/ssl/certs/ansible.pem\n    redirect scheme https if !{ ssl_fc }\n    default_backend ansible_backend\n\nbackend ansible_backend\n    balance roundrobin\n    option httpchk GET /api/v2/ping/\n    server awx1 127.0.0.1:8080 check\n    server awx2 127.0.0.1:8081 check backup\n```\n\n### Apache Configuration\n\n```apache\n# /etc/apache2/sites-available/ansible-awx.conf\n\u003cVirtualHost *:80\u003e\n    ServerName ansible.example.com\n    Redirect permanent / https://ansible.example.com/\n\u003c/VirtualHost\u003e\n\n\u003cVirtualHost *:443\u003e\n    ServerName ansible.example.com\n    \n    SSLEngine on\n    SSLCertificateFile /etc/ssl/certs/ansible.example.com.crt\n    SSLCertificateKeyFile /etc/ssl/private/ansible.example.com.key\n    \n    # Security headers\n    Header always set X-Frame-Options DENY\n    Header always set X-Content-Type-Options nosniff\n    Header always set X-XSS-Protection \"1; mode=block\"\n    Header always set Strict-Transport-Security \"max-age=63072000; includeSubDomains; preload\"\n    \n    ProxyRequests Off\n    ProxyPreserveHost On\n    \n    ProxyPass /websocket/ ws://127.0.0.1:8080/websocket/\n    ProxyPassReverse /websocket/ ws://127.0.0.1:8080/websocket/\n    \n    ProxyPass / http://127.0.0.1:8080/\n    ProxyPassReverse / http://127.0.0.1:8080/\n\u003c/VirtualHost\u003e\n```\n\n## Monitoring\n\n### Built-in Monitoring and Logging\n\n```bash\n# Create comprehensive monitoring playbook\ncat \u003e playbooks/ansible-monitoring.yml \u003c\u003cEOF\n---\n- name: Ansible Infrastructure Monitoring\n  hosts: all\n  become: yes\n  vars:\n    monitoring_tools:\n      - name: prometheus\n        port: 9090\n      - name: grafana\n        port: 3000\n      - name: alertmanager\n        port: 9093\n    \n    log_paths:\n      - /var/log/ansible\n      - /var/log/awx\n      - /var/log/syslog\n      - /var/log/auth.log\n\n  tasks:\n    # Install monitoring agents\n    - name: Install Prometheus Node Exporter\n      get_url:\n        url: https://github.com/prometheus/node_exporter/releases/download/v1.6.1/node_exporter-1.6.1.linux-amd64.tar.gz\n        dest: /tmp/node_exporter.tar.gz\n        mode: '0644'\n\n    - name: Extract Node Exporter\n      unarchive:\n        src: /tmp/node_exporter.tar.gz\n        dest: /opt/\n        remote_src: yes\n        creates: /opt/node_exporter-1.6.1.linux-amd64\n\n    - name: Create node_exporter user\n      user:\n        name: node_exporter\n        system: yes\n        shell: /bin/false\n        home: /var/lib/node_exporter\n\n    - name: Install Node Exporter binary\n      copy:\n        src: /opt/node_exporter-1.6.1.linux-amd64/node_exporter\n        dest: /usr/local/bin/node_exporter\n        mode: '0755'\n        owner: node_exporter\n        group: node_exporter\n        remote_src: yes\n\n    - name: Create Node Exporter service\n      template:\n        src: templates/node_exporter.service.j2\n        dest: /etc/systemd/system/node_exporter.service\n      notify: restart node_exporter\n\n    - name: Enable and start Node Exporter\n      systemd:\n        name: node_exporter\n        state: started\n        enabled: yes\n        daemon_reload: yes\n\n    # Log monitoring setup\n    - name: Install rsyslog for centralized logging\n      package:\n        name: rsyslog\n        state: present\n\n    - name: Configure rsyslog for Ansible logs\n      template:\n        src: templates/ansible-rsyslog.conf.j2\n        dest: /etc/rsyslog.d/50-ansible.conf\n        backup: yes\n      notify: restart rsyslog\n\n    # Create monitoring scripts\n    - name: Create Ansible health check script\n      template:\n        src: templates/ansible-health-check.sh.j2\n        dest: /usr/local/bin/ansible-health-check.sh\n        mode: '0755'\n\n    - name: Schedule health checks\n      cron:\n        name: \"Ansible health check\"\n        minute: \"*/5\"\n        job: \"/usr/local/bin/ansible-health-check.sh\"\n        user: root\n\n  handlers:\n    - name: restart node_exporter\n      systemd:\n        name: node_exporter\n        state: restarted\n\n    - name: restart rsyslog\n      systemd:\n        name: rsyslog\n        state: restarted\nEOF\n```\n\n### Prometheus Configuration for Ansible\n\n```yaml\n# prometheus.yml\nglobal:\n  scrape_interval: 15s\n  evaluation_interval: 15s\n\nrule_files:\n  - \"ansible_rules.yml\"\n\nalerting:\n  alertmanagers:\n    - static_configs:\n        - targets:\n          - alertmanager:9093\n\nscrape_configs:\n  - job_name: 'ansible-nodes'\n    static_configs:\n      - targets:\n        - 'ansible-control:9100'\n        - 'web-01:9100'\n        - 'web-02:9100'\n        - 'db-01:9100'\n\n  - job_name: 'ansible-awx'\n    static_configs:\n      - targets:\n        - 'awx-web:8080'\n        - 'awx-task:8080'\n    metrics_path: '/api/v2/metrics/'\n    scrape_interval: 30s\n\n  - job_name: 'node-exporter'\n    static_configs:\n      - targets:\n        - 'node1:9100'\n        - 'node2:9100'\n        - 'node3:9100'\n```\n\n### Grafana Dashboard Configuration\n\n```json\n{\n  \"dashboard\": {\n    \"title\": \"Ansible Infrastructure Monitoring\",\n    \"panels\": [\n      {\n        \"title\": \"Ansible Job Success Rate\",\n        \"type\": \"stat\",\n        \"targets\": [\n          {\n            \"expr\": \"(ansible_job_successful_total / ansible_job_total) * 100\",\n            \"legendFormat\": \"Success Rate %\"\n          }\n        ]\n      },\n      {\n        \"title\": \"Node Resource Usage\",\n        \"type\": \"graph\",\n        \"targets\": [\n          {\n            \"expr\": \"100 - (avg(rate(node_cpu_seconds_total{mode=\\\"idle\\\"}[5m])) * 100)\",\n            \"legendFormat\": \"CPU Usage %\"\n          },\n          {\n            \"expr\": \"(1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes)) * 100\",\n            \"legendFormat\": \"Memory Usage %\"\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n## Integration Examples\n\n### Python Integration with Ansible\n\n```python\n#!/usr/bin/env python3\n# ansible_integration.py\n\nimport ansible_runner\nimport subprocess\nimport json\nimport os\nfrom pathlib import Path\n\nclass AnsibleManager:\n    def __init__(self, project_dir, inventory_path):\n        self.project_dir = Path(project_dir)\n        self.inventory_path = inventory_path\n        self.private_data_dir = self.project_dir / 'runner_data'\n        \n    def run_playbook(self, playbook_name, extra_vars=None, limit=None):\n        \"\"\"Run an Ansible playbook with error handling\"\"\"\n        try:\n            result = ansible_runner.run(\n                private_data_dir=str(self.private_data_dir),\n                playbook=playbook_name,\n                inventory=self.inventory_path,\n                extravars=extra_vars or {},\n                limit=limit,\n                verbosity=1\n            )\n            \n            return {\n                'status': result.status,\n                'rc': result.rc,\n                'stdout': result.stdout.read() if result.stdout else '',\n                'stats': result.stats\n            }\n        except Exception as e:\n            return {'status': 'failed', 'error': str(e)}\n    \n    def run_ad_hoc_command(self, module, module_args, hosts='all'):\n        \"\"\"Run ad-hoc Ansible commands\"\"\"\n        try:\n            result = ansible_runner.run(\n                private_data_dir=str(self.private_data_dir),\n                inventory=self.inventory_path,\n                module=module,\n                module_args=module_args,\n                host_pattern=hosts\n            )\n            \n            return {\n                'status': result.status,\n                'rc': result.rc,\n                'events': [event for event in result.events if event['event'] == 'runner_on_ok']\n            }\n        except Exception as e:\n            return {'status': 'failed', 'error': str(e)}\n    \n    def get_inventory_info(self):\n        \"\"\"Get inventory information\"\"\"\n        cmd = ['ansible-inventory', '-i', self.inventory_path, '--list']\n        try:\n            result = subprocess.run(cmd, capture_output=True, text=True, check=True)\n            return json.loads(result.stdout)\n        except subprocess.CalledProcessError as e:\n            return {'error': e.stderr}\n\n# Example usage\nif __name__ == '__main__':\n    ansible_mgr = AnsibleManager(\n        project_dir='/home/ansible/infrastructure',\n        inventory_path='inventories/production/hosts.yml'\n    )\n    \n    # Run a playbook\n    result = ansible_mgr.run_playbook(\n        'site.yml',\n        extra_vars={'environment': 'production'},\n        limit='webservers'\n    )\n    print(f\"Playbook execution: {result['status']}\")\n    \n    # Run ad-hoc command\n    ping_result = ansible_mgr.run_ad_hoc_command('ping', '', 'all')\n    print(f\"Ping test: {ping_result['status']}\")\n    \n    # Get inventory info\n    inventory = ansible_mgr.get_inventory_info()\n    print(f\"Managed hosts: {len(inventory.get('_meta', {}).get('hostvars', {}))}\")\n```\n\n### Node.js Integration\n\n```javascript\n// ansible_integration.js\nconst { spawn, exec } = require('child_process');\nconst path = require('path');\nconst fs = require('fs').promises;\n\nclass AnsibleManager {\n    constructor(projectDir, inventoryPath) {\n        this.projectDir = projectDir;\n        this.inventoryPath = inventoryPath;\n    }\n    \n    async runPlaybook(playbookName, options = {}) {\n        return new Promise((resolve, reject) =\u003e {\n            const args = [\n                'ansible-playbook',\n                '-i', this.inventoryPath,\n                path.join(this.projectDir, 'playbooks', playbookName)\n            ];\n            \n            if (options.limit) {\n                args.push('--limit', options.limit);\n            }\n            \n            if (options.extraVars) {\n                args.push('--extra-vars', JSON.stringify(options.extraVars));\n            }\n            \n            if (options.check) {\n                args.push('--check');\n            }\n            \n            const process = spawn(args[0], args.slice(1), {\n                cwd: this.projectDir,\n                stdio: ['pipe', 'pipe', 'pipe']\n            });\n            \n            let stdout = '';\n            let stderr = '';\n            \n            process.stdout.on('data', (data) =\u003e {\n                stdout += data.toString();\n            });\n            \n            process.stderr.on('data', (data) =\u003e {\n                stderr += data.toString();\n            });\n            \n            process.on('close', (code) =\u003e {\n                resolve({\n                    exitCode: code,\n                    stdout: stdout,\n                    stderr: stderr,\n                    success: code === 0\n                });\n            });\n            \n            process.on('error', reject);\n        });\n    }\n    \n    async runAdHocCommand(module, args, hosts = 'all') {\n        return new Promise((resolve, reject) =\u003e {\n            const command = `ansible ${hosts} -i ${this.inventoryPath} -m ${module} -a \"${args}\"`;\n            \n            exec(command, { cwd: this.projectDir }, (error, stdout, stderr) =\u003e {\n                if (error) {\n                    reject({ error, stderr });\n                } else {\n                    resolve({ stdout, stderr });\n                }\n            });\n        });\n    }\n    \n    async getInventoryInfo() {\n        return new Promise((resolve, reject) =\u003e {\n            const command = `ansible-inventory -i ${this.inventoryPath} --list`;\n            \n            exec(command, { cwd: this.projectDir }, (error, stdout, stderr) =\u003e {\n                if (error) {\n                    reject({ error, stderr });\n                } else {\n                    try {\n                        resolve(JSON.parse(stdout));\n                    } catch (parseError) {\n                        reject({ error: parseError, stdout });\n                    }\n                }\n            });\n        });\n    }\n}\n\n// Example usage\nasync function main() {\n    const ansible = new AnsibleManager('/home/ansible/infrastructure', 'inventories/production/hosts.yml');\n    \n    try {\n        // Run playbook\n        const result = await ansible.runPlaybook('site.yml', {\n            limit: 'webservers',\n            extraVars: { environment: 'production' },\n            check: true\n        });\n        console.log('Playbook check result:', result.success);\n        \n        // Run ad-hoc command\n        const pingResult = await ansible.runAdHocCommand('ping', '', 'all');\n        console.log('Ping result:', pingResult.stdout);\n        \n        // Get inventory\n        const inventory = await ansible.getInventoryInfo();\n        console.log('Inventory hosts:', Object.keys(inventory._meta.hostvars).length);\n        \n    } catch (error) {\n        console.error('Error:', error);\n    }\n}\n\nif (require.main === module) {\n    main();\n}\n\nmodule.exports = AnsibleManager;\n```\n\n### REST API Integration\n\n```python\n#!/usr/bin/env python3\n# ansible_rest_api.py\n\nfrom flask import Flask, request, jsonify\nimport ansible_runner\nimport tempfile\nimport os\nimport yaml\nfrom pathlib import Path\n\napp = Flask(__name__)\n\nclass AnsibleAPI:\n    def __init__(self, base_dir):\n        self.base_dir = Path(base_dir)\n        self.inventory_file = self.base_dir / 'inventory' / 'hosts.yml'\n        \n    def execute_playbook(self, playbook_content, inventory_data, extra_vars=None):\n        \"\"\"Execute a playbook with given inventory and variables\"\"\"\n        with tempfile.TemporaryDirectory() as tmpdir:\n            tmpdir = Path(tmpdir)\n            \n            # Write playbook\n            playbook_file = tmpdir / 'playbook.yml'\n            with open(playbook_file, 'w') as f:\n                yaml.dump(playbook_content, f, default_flow_style=False)\n            \n            # Write inventory\n            inventory_file = tmpdir / 'inventory.yml'\n            with open(inventory_file, 'w') as f:\n                yaml.dump(inventory_data, f, default_flow_style=False)\n            \n            # Run playbook\n            result = ansible_runner.run(\n                private_data_dir=str(tmpdir),\n                playbook='playbook.yml',\n                inventory=str(inventory_file),\n                extravars=extra_vars or {}\n            )\n            \n            return {\n                'status': result.status,\n                'rc': result.rc,\n                'stats': result.stats,\n                'events': [e for e in result.events if e['event'] == 'playbook_on_stats']\n            }\n\nansible_api = AnsibleAPI('/home/ansible')\n\n@app.route('/api/playbook/run', methods=['POST'])\ndef run_playbook():\n    try:\n        data = request.get_json()\n        \n        playbook = data.get('playbook')\n        inventory = data.get('inventory')\n        extra_vars = data.get('extra_vars', {})\n        \n        if not playbook or not inventory:\n            return jsonify({'error': 'playbook and inventory are required'}), 400\n            \n        result = ansible_api.execute_playbook(playbook, inventory, extra_vars)\n        \n        return jsonify({\n            'success': result['status'] == 'successful',\n            'status': result['status'],\n            'return_code': result['rc'],\n            'stats': result['stats']\n        })\n        \n    except Exception as e:\n        return jsonify({'error': str(e)}), 500\n\n@app.route('/api/inventory', methods=['GET'])\ndef get_inventory():\n    try:\n        with open(ansible_api.inventory_file, 'r') as f:\n            inventory = yaml.safe_load(f)\n        return jsonify(inventory)\n    except Exception as e:\n        return jsonify({'error': str(e)}), 500\n\n@app.route('/api/health', methods=['GET'])\ndef health_check():\n    return jsonify({\n        'status': 'healthy',\n        'ansible_version': '2.15.0',  # This should be dynamic\n        'base_dir': str(ansible_api.base_dir)\n    })\n\nif __name__ == '__main__':\n    app.run(host='0.0.0.0', port=5000, debug=False)\n```\n\n## Maintenance\n\n### Regular Maintenance Tasks\n\n```bash\n#!/bin/bash\n# ansible-maintenance.sh - Comprehensive maintenance script\n\n# Set variables\nANSIBLE_HOME=\"/home/ansible\"\nLOG_FILE=\"/var/log/ansible-maintenance.log\"\nBACKUP_DIR=\"/backup/ansible\"\nDATE=$(date +\"%Y%m%d_%H%M%S\")\n\n# Logging function\nlog() {\n    echo \"[$(date '+%Y-%m-%d %H:%M:%S')] $1\" | tee -a \"$LOG_FILE\"\n}\n\nlog \"Starting Ansible maintenance tasks\"\n\n# 1. Update Ansible and collections\nlog \"Updating Ansible and collections\"\npip install --upgrade ansible ansible-core\nansible-galaxy collection install --upgrade community.general\nansible-galaxy collection install --upgrade ansible.posix\nansible-galaxy collection install --upgrade kubernetes.core\n\n# 2. Clean up old logs\nlog \"Cleaning up old log files\"\nfind \"$ANSIBLE_HOME/logs\" -type f -name \"*.log\" -mtime +30 -delete\nfind /var/log/ansible -type f -name \"*.log\" -mtime +30 -delete\n\n# 3. Update facts cache\nlog \"Refreshing facts cache\"\nansible all -m setup --tree /tmp/facts_cache/\n\n# 4. Validate all playbooks\nlog \"Validating playbooks syntax\"\nfind \"$ANSIBLE_HOME/playbooks\" -name \"*.yml\" -exec ansible-playbook {} --syntax-check \\;\nif [ $? -eq 0 ]; then\n    log \"All playbooks passed syntax validation\"\nelse\n    log \"ERROR: Some playbooks failed syntax validation\"\nfi\n\n# 5. Check inventory health\nlog \"Checking inventory health\"\nansible-inventory --list \u003e /tmp/inventory_check.json\nif [ $? -eq 0 ]; then\n    log \"Inventory syntax is valid\"\nelse\n    log \"ERROR: Inventory has syntax errors\"\nfi\n\n# 6. Test connectivity to all hosts\nlog \"Testing connectivity to managed hosts\"\nansible all -m ping --one-line \u003e \"/tmp/ping_results_$DATE.txt\"\nFAILED_HOSTS=$(grep -c \"FAILED\" \"/tmp/ping_results_$DATE.txt\")\nif [ \"$FAILED_HOSTS\" -gt 0 ]; then\n    log \"WARNING: $FAILED_HOSTS hosts failed connectivity test\"\n    grep \"FAILED\" \"/tmp/ping_results_$DATE.txt\" \u003e\u003e \"$LOG_FILE\"\nelse\n    log \"All hosts are reachable\"\nfi\n\n# 7. Backup configurations\nlog \"Creating configuration backup\"\nmkdir -p \"$BACKUP_DIR/$DATE\"\ntar -czf \"$BACKUP_DIR/$DATE/ansible-config-$DATE.tar.gz\" \\\n    \"$ANSIBLE_HOME\"/{ansible.cfg,inventories,group_vars,host_vars,playbooks,roles}\n\n# 8. Clean up old backups (keep 30 days)\nlog \"Cleaning up old backups\"\nfind \"$BACKUP_DIR\" -type d -mtime +30 -exec rm -rf {} \\; 2\u003e/dev/null\n\n# 9. Update SSH known_hosts\nlog \"Updating SSH known_hosts\"\nfor host in $(ansible all --list-hosts | grep -v hosts); do\n    ssh-keyscan -H \"$host\" \u003e\u003e ~/.ssh/known_hosts 2\u003e/dev/null\ndone\nsort -u ~/.ssh/known_hosts \u003e ~/.ssh/known_hosts.tmp \u0026\u0026 mv ~/.ssh/known_hosts.tmp ~/.ssh/known_hosts\n\n# 10. Generate maintenance report\nlog \"Generating maintenance report\"\nREPORT_FILE=\"/tmp/ansible-maintenance-report-$DATE.txt\"\ncat \u003e \"$REPORT_FILE\" \u003c\u003c EOF\nAnsible Maintenance Report - $DATE\n========================================\n\nAnsible Version: $(ansible --version | head -1)\nPython Version: $(python3 --version)\nSystem: $(uname -a)\n\nInventory Summary:\n$(ansible-inventory --list | jq '.\"_meta\".\"hostvars\" | keys | length') managed hosts\n\nConnectivity Test Results:\n$(wc -l \u003c \"/tmp/ping_results_$DATE.txt\") total hosts tested\n$FAILED_HOSTS hosts failed connectivity\n\nPlaybook Validation: $(find \"$ANSIBLE_HOME/playbooks\" -name \"*.yml\" | wc -l) playbooks checked\n\nDisk Usage:\n$(df -h \"$ANSIBLE_HOME\" | tail -1)\n\nBackup Created: $BACKUP_DIR/$DATE/ansible-config-$DATE.tar.gz\nBackup Size: $(du -sh \"$BACKUP_DIR/$DATE/ansible-config-$DATE.tar.gz\" | cut -f1)\n\nRecent Log Entries (last 10):\n$(tail -10 \"$LOG_FILE\")\nEOF\n\nlog \"Maintenance report created: $REPORT_FILE\"\n\n# 11. Send report via email (optional)\nif command -v mail \u003e/dev/null 2\u003e\u00261; then\n    mail -s \"Ansible Maintenance Report - $DATE\" admin@example.com \u003c \"$REPORT_FILE\"\n    log \"Maintenance report emailed\"\nfi\n\nlog \"Ansible maintenance tasks completed\"\n\n# Schedule this script to run weekly\n# Add to crontab: 0 2 * * 0 /usr/local/bin/ansible-maintenance.sh\n```\n\n### Ansible Version Management\n\n```bash\n#!/bin/bash\n# ansible-version-manager.sh - Manage multiple Ansible versions\n\nANSIBLE_VERSIONS_DIR=\"/opt/ansible-versions\"\nCURRENT_LINK=\"/opt/ansible/current\"\n\ninstall_ansible_version() {\n    local version=\"$1\"\n    local install_dir=\"$ANSIBLE_VERSIONS_DIR/$version\"\n    \n    if [ -d \"$install_dir\" ]; then\n        echo \"Ansible $version is already installed\"\n        return 0\n    fi\n    \n    echo \"Installing Ansible $version...\"\n    python3 -m venv \"$install_dir\"\n    source \"$install_dir/bin/activate\"\n    \n    pip install --upgrade pip\n    pip install \"ansible-core==$version\"\n    pip install ansible\n    \n    # Install essential collections\n    ansible-galaxy collection install community.general\n    ansible-galaxy collection install ansible.posix\n    ansible-galaxy collection install kubernetes.core\n    \n    deactivate\n    echo \"Ansible $version installed successfully\"\n}\n\nswitch_ansible_version() {\n    local version=\"$1\"\n    local install_dir=\"$ANSIBLE_VERSIONS_DIR/$version\"\n    \n    if [ ! -d \"$install_dir\" ]; then\n        echo \"Ansible $version is not installed\"\n        echo \"Available versions:\"\n        ls -1 \"$ANSIBLE_VERSIONS_DIR\" 2\u003e/dev/null || echo \"No versions installed\"\n        return 1\n    fi\n    \n    rm -f \"$CURRENT_LINK\"\n    ln -s \"$install_dir\" \"$CURRENT_LINK\"\n    \n    echo \"Switched to Ansible $version\"\n    echo \"Current version: $(\"$CURRENT_LINK/bin/ansible\" --version | head -1)\"\n}\n\nlist_versions() {\n    echo \"Installed Ansible versions:\"\n    ls -1 \"$ANSIBLE_VERSIONS_DIR\" 2\u003e/dev/null || echo \"No versions installed\"\n    \n    if [ -L \"$CURRENT_LINK\" ]; then\n        local current=$(readlink \"$CURRENT_LINK\" | basename)\n        echo \"Current version: $current\"\n    else\n        echo \"No current version set\"\n    fi\n}\n\nremove_version() {\n    local version=\"$1\"\n    local install_dir=\"$ANSIBLE_VERSIONS_DIR/$version\"\n    \n    if [ ! -d \"$install_dir\" ]; then\n        echo \"Ansible $version is not installed\"\n        return 1\n    fi\n    \n    if [ \"$(readlink \"$CURRENT_LINK\" 2\u003e/dev/null)\" = \"$install_dir\" ]; then\n        echo \"Cannot remove currently active version\"\n        return 1\n    fi\n    \n    rm -rf \"$install_dir\"\n    echo \"Removed Ansible $version\"\n}\n\ncase \"$1\" in\n    install)\n        install_ansible_version \"$2\"\n        ;;\n    switch)\n        switch_ansible_version \"$2\"\n        ;;\n    list)\n        list_versions\n        ;;\n    remove)\n        remove_version \"$2\"\n        ;;\n    *)\n        echo \"Usage: $0 {install|switch|list|remove} [version]\"\n        echo \"Examples:\"\n        echo \"  $0 install 2.15.0\"\n        echo \"  $0 switch 2.15.0\"\n        echo \"  $0 list\"\n        echo \"  $0 remove 2.14.0\"\n        exit 1\n        ;;\nesac\n```\n\n### Performance Monitoring and Optimization\n\n```bash\n#!/bin/bash\n# ansible-performance-monitor.sh - Monitor and optimize Ansible performance\n\nlog_performance() {\n    local playbook=\"$1\"\n    local start_time=$(date +%s)\n    local log_file=\"/var/log/ansible-performance.log\"\n    \n    # Run playbook with timing\n    /usr/bin/time -v ansible-playbook \"$playbook\" --extra-vars=\"gather_facts=True\" 2\u003e\u00261 | \\\n    tee \"/tmp/ansible-run-$start_time.log\"\n    \n    local end_time=$(date +%s)\n    local duration=$((end_time - start_time))\n    \n    echo \"[$(date '+%Y-%m-%d %H:%M:%S')] Playbook: $playbook, Duration: ${duration}s\" \u003e\u003e \"$log_file\"\n    \n    # Extract performance metrics\n    local max_memory=$(grep \"Maximum resident set size\" \"/tmp/ansible-run-$start_time.log\" | awk '{print $6}')\n    local user_time=$(grep \"User time\" \"/tmp/ansible-run-$start_time.log\" | awk '{print $4}')\n    local system_time=$(grep \"System time\" \"/tmp/ansible-run-$start_time.log\" | awk '{print $4}')\n    \n    echo \"Performance Metrics - Memory: ${max_memory}KB, User: ${user_time}s, System: ${system_time}s\" \u003e\u003e \"$log_file\"\n    \n    # Clean up\n    rm \"/tmp/ansible-run-$start_time.log\"\n}\n\n# Example usage in a wrapper script\nif [ \"$1\" = \"monitor\" ] \u0026\u0026 [ -n \"$2\" ]; then\n    log_performance \"$2\"\nelse\n    echo \"Usage: $0 monitor \u003cplaybook_path\u003e\"\n    exit 1\nfi\n```\n\n## Testing and Validation\n\n### Molecule Testing Framework\n```bash\n# Install Molecule for role testing\npip install molecule[docker] molecule[vagrant] molecule[libvirt]\n\n# Initialize Molecule in role directory\ncd roles/nginx\nmolecule init scenario --driver-name docker\n\n# Create molecule configuration\ncat \u003e molecule/default/molecule.yml \u003c\u003cEOF\n---\ndependency:\n  name: galaxy\ndriver:\n  name: docker\nplatforms:\n  - name: nginx-ubuntu\n    image: ubuntu:22.04\n    pre_build_image: true\n    privileged: true\n    volumes:\n      - /sys/fs/cgroup:/sys/fs/cgroup:ro\n    command: /lib/systemd/systemd\n    networks:\n      - name: molecule\n  - name: nginx-centos\n    image: centos:8\n    pre_build_image: true\n    privileged: true\n    volumes:\n      - /sys/fs/cgroup:/sys/fs/cgroup:ro\n    command: /usr/sbin/init\n    networks:\n      - name: molecule\nprovisioner:\n  name: ansible\n  config_options:\n    defaults:\n      callbacks_enabled: profile_tasks,timer,yaml\n  inventory:\n    host_vars:\n      nginx-ubuntu:\n        ansible_python_interpreter: /usr/bin/python3\n      nginx-centos:\n        ansible_python_interpreter: /usr/bin/python3\nverifier:\n  name: ansible\nlint: |\n  set -e\n  yamllint .\n  ansible-lint\n  flake8\nEOF\n\n# Create test playbook\ncat \u003e molecule/default/converge.yml \u003c\u003cEOF\n---\n- name: Converge\n  hosts: all\n  become: true\n  tasks:\n    - name: \"Include nginx role\"\n      include_role:\n        name: nginx\n      vars:\n        nginx_vhosts:\n          - name: default\n            server_name: localhost\n            listen: 80\n            root: /var/www/html\n            enabled: true\nEOF\n\n# Create test verification\ncat \u003e molecule/default/verify.yml \u003c\u003cEOF\n---\n- name: Verify\n  hosts: all\n  gather_facts: false\n  tasks:\n    - name: Check if NGINX is running\n      uri:\n        url: http://localhost\n        method: GET\n      register: nginx_check\n\n    - name: Verify NGINX is responding\n      assert:\n        that:\n          - nginx_check.status == 200\n        fail_msg: \"NGINX is not responding correctly\"\n\n    - name: Check NGINX configuration\n      shell: nginx -t\n      changed_when: false\n\n    - name: Verify NGINX process\n      shell: pgrep nginx\n      changed_when: false\nEOF\n\n# Run tests\nmolecule test\n```\n\n### Ansible Lint and Security Scanning\n```bash\n# Install Ansible Lint\npip install ansible-lint\n\n# Create .ansible-lint configuration\ncat \u003e .ansible-lint \u003c\u003cEOF\n---\nprofile: production\n\nexclude_paths:\n  - .cache/\n  - .github/\n  - molecule/\n  - .venv/\n\nskip_list:\n  - yaml[line-length]  # Allow longer lines for readability\n\nwarn_list:\n  - experimental  # Warn about experimental features\n\n# Custom rules\nrules:\n  braces:\n    min-spaces-inside: 0\n    max-spaces-inside: 1\n  brackets:\n    min-spaces-inside: 0\n    max-spaces-inside: 0\n  colons:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  commas:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  comments:\n    min-spaces-from-content: 1\n  document-start: disable\n  empty-lines:\n    max: 2\n    max-start: 0\n    max-end: 1\n  hyphens:\n    max-spaces-after: 1\n  indentation:\n    spaces: 2\n    indent-sequences: true\n  line-length:\n    max: 120\n  new-line-at-end-of-file: enable\n  trailing-spaces: enable\n  truthy:\n    allowed-values: ['true', 'false', 'yes', 'no']\nEOF\n\n# Create security-focused playbook linting\ncat \u003e .yamllint \u003c\u003cEOF\n---\nextends: default\n\nrules:\n  braces:\n    min-spaces-inside: 0\n    max-spaces-inside: 1\n  brackets:\n    min-spaces-inside: 0\n    max-spaces-inside: 0\n  colons:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  commas:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  comments: disable\n  comments-indentation: disable\n  document-start: disable\n  empty-lines:\n    max: 2\n    max-start: 0\n    max-end: 1\n  hyphens:\n    max-spaces-after: 1\n  indentation:\n    spaces: 2\n    indent-sequences: true\n    check-multi-line-strings: false\n  key-duplicates: enable\n  line-length:\n    max: 120\n  new-line-at-end-of-file: enable\n  octal-values:\n    forbid-implicit-octal: true\n  trailing-spaces: enable\n  truthy: disable\nEOF\n\n# Run linting\nansible-lint playbooks/\nyamllint .\n```\n\n## Backup and Disaster Recovery\n\n### Comprehensive Backup Automation\n```bash\ncat \u003e playbooks/backup-automation.yml \u003c\u003cEOF\n---\n- name: Automated Backup System\n  hosts: all\n  become: yes\n  vars:\n    backup_root: /backup\n    backup_retention_days: 30\n    backup_schedule:\n      databases: \"0 2 * * *\"\n      files: \"0 3 * * *\"\n      configs: \"0 4 * * *\"\n\n  tasks:\n    - name: Create backup directories\n      file:\n        path: \"{{ backup_root }}/{{ item }}\"\n        state: directory\n        mode: '0755'\n        owner: root\n        group: root\n      loop:\n        - databases\n        - files\n        - configs\n        - logs\n\n    # Database backups\n    - name: Create database backup script\n      template:\n        src: templates/mysql-backup.sh.j2\n        dest: /usr/local/bin/mysql-backup.sh\n        mode: '0755'\n      when: \"'dbservers' in group_names\"\n\n    - name: Schedule database backups\n      cron:\n        name: \"MySQL backup\"\n        minute: \"0\"\n        hour: \"2\"\n        job: \"/usr/local/bin/mysql-backup.sh\"\n        user: root\n      when: \"'dbservers' in group_names\"\n\n    # File system backups\n    - name: Create file backup script\n      template:\n        src: templates/file-backup.sh.j2\n        dest: /usr/local/bin/file-backup.sh\n        mode: '0755'\n\n    - name: Schedule file backups\n      cron:\n        name: \"File system backup\"\n        minute: \"0\"\n        hour: \"3\"\n        job: \"/usr/local/bin/file-backup.sh\"\n        user: root\n\n    # Configuration backups\n    - name: Backup system configurations\n      archive:\n        path:\n          - /etc/nginx\n          - /etc/mysql\n          - /etc/systemd/system\n          - /etc/crontab\n          - /etc/hosts\n          - /etc/fstab\n        dest: \"{{ backup_root }}/configs/system-config-{{ ansible_date_time.epoch }}.tar.gz\"\n        mode: '0600'\n\n    # Remote backup synchronization\n    - name: Synchronize backups to remote storage\n      synchronize:\n        src: \"{{ backup_root }}/\"\n        dest: \"backup-server.example.com:{{ backup_root }}/{{ inventory_hostname }}/\"\n        delete: yes\n        rsync_opts:\n          - \"--exclude=*.tmp\"\n          - \"--compress\"\n          - \"--archive\"\n      when: backup_remote_sync | default(true)\n\n    # Cleanup old backups\n    - name: Clean up old backup files\n      find:\n        paths: \"{{ backup_root }}\"\n        age: \"{{ backup_retention_days }}d\"\n        file_type: file\n      register: old_backups\n\n    - name: Remove old backup files\n      file:\n        path: \"{{ item.path }}\"\n        state: absent\n      loop: \"{{ old_backups.files }}\"\nEOF\n```\n\n## Verification and Monitoring\n\n### Cross-Platform System Verification\n```bash\n# Create comprehensive verification playbook\ncat \u003e playbooks/system-verification.yml \u003c\u003cEOF\n---\n- name: System Verification and Health Check\n  hosts: all\n  become: yes\n  gather_facts: yes\n  vars:\n    health_checks:\n      - service: nginx\n        port: 80\n        process: nginx\n      - service: mysql\n        port: 3306\n        process: mysqld\n      - service: redis\n        port: 6379\n        process: redis-server\n\n  tasks:\n    # System information gathering\n    - name: Gather system information\n      setup:\n        gather_subset:\n          - all\n          - !facter\n          - !ohai\n\n    # Service verification\n    - name: Check critical services status\n      service_facts:\n\n    - name: Verify services are running\n      assert:\n        that:\n          - \"ansible_facts.services[item.service + '.service'].state == 'running'\"\n        fail_msg: \"Service {{ item.service }} is not running\"\n        success_msg: \"Service {{ item.service }} is healthy\"\n      loop: \"{{ health_checks }}\"\n      when: \"item.service + '.service' in ansible_facts.services\"\n\n    # Network connectivity tests\n    - name: Test network connectivity\n      wait_for:\n        host: \"{{ item.host }}\"\n        port: \"{{ item.port }}\"\n        timeout: 5\n      loop:\n        - { host: \"8.8.8.8\", port: 53 }\n        - { host: \"1.1.1.1\", port: 53 }\n      ignore_errors: yes\n\n    # Disk space monitoring\n    - name: Check disk space usage\n      shell: df -h | awk '$5 \u003e \"85%\" {print $0}'\n      register: disk_usage\n      changed_when: false\n      failed_when: disk_usage.stdout != \"\"\n\n    # Memory usage check\n    - name: Check memory usage\n      shell: free | grep Mem | awk '{printf \"%.0f\", $3/$2 * 100.0}'\n      register: memory_usage\n      changed_when: false\n\n    - name: Alert on high memory usage\n      debug:\n        msg: \"WARNING: Memory usage is {{ memory_usage.stdout }}%\"\n      when: memory_usage.stdout | int \u003e 85\n\n    # Security verification\n    - name: Check for failed login attempts\n      shell: grep \"Failed password\" /var/log/auth.log | tail -10\n      register: failed_logins\n      changed_when: false\n      ignore_errors: yes\n      when: ansible_os_family == \"Debian\"\n\n    - name: Check firewall status\n      shell: |\n        if command -v ufw \u003e/dev/null 2\u003e\u00261; then\n          ufw status\n        elif command -v firewall-cmd \u003e/dev/null 2\u003e\u00261; then\n          firewall-cmd --state\n        else\n          echo \"No supported firewall found\"\n        fi\n      register: firewall_status\n      changed_when: false\n\n  post_tasks:\n    - name: Generate system health report\n      template:\n        src: templates/health-report.j2\n        dest: \"/tmp/health-report-{{ inventory_hostname }}-{{ ansible_date_time.epoch }}.txt\"\n        mode: '0644'\n\n    - name: Fetch health reports\n      fetch:\n        src: \"/tmp/health-report-{{ inventory_hostname }}-{{ ansible_date_time.epoch }}.txt\"\n        dest: \"./reports/\"\n        flat: yes\nEOF\n```\n\n### Continuous Compliance Monitoring\n```bash\ncat \u003e playbooks/compliance-monitoring.yml \u003c\u003cEOF\n---\n- name: Continuous Compliance Monitoring\n  hosts: all\n  become: yes\n  vars:\n    compliance_standards:\n      - cis\n      - pci_dss\n      - soc2\n      - hipaa\n    \n    audit_log_paths:\n      - /var/log/auth.log\n      - /var/log/syslog\n      - /var/log/audit/audit.log\n\n  tasks:\n    # Install audit tools\n    - name: Install audit daemon\n      package:\n        name: \"{{ 'auditd' if ansible_os_family == 'RedHat' else 'auditd' }}\"\n        state: present\n\n    - name: Configure audit rules\n      template:\n        src: templates/audit.rules.j2\n        dest: /etc/audit/rules.d/audit.rules\n        backup: yes\n      notify: restart auditd\n\n    # CIS compliance checks\n    - name: Run CIS benchmark checks\n      shell: |\n        if [ -f /opt/cis-cat/CIS-CAT.sh ]; then\n          /opt/cis-cat/CIS-CAT.sh -b /opt/cis-cat/benchmarks/\n        else\n          echo \"CIS-CAT not installed, skipping\"\n        fi\n      register: cis_results\n      ignore_errors: yes\n\n    # File integrity monitoring\n    - name: Install AIDE\n      package:\n        name: aide\n        state: present\n\n    - name: Initialize AIDE database\n      shell: |\n        aide --init\n        mv /var/lib/aide/aide.db.new /var/lib/aide/aide.db\n      args:\n        creates: /var/lib/aide/aide.db\n\n    - name: Schedule AIDE integrity checks\n      cron:\n        name: \"AIDE integrity check\"\n        minute: \"0\"\n        hour: \"3\"\n        job: \"/usr/bin/aide --check | mail -s 'AIDE Report' security@example.com\"\n        user: root\n\n    # Log monitoring\n    - name: Install log monitoring tools\n      package:\n        name:\n          - logwatch\n          - rsyslog\n        state: present\n\n    - name: Configure centralized logging\n      template:\n        src: templates/rsyslog.conf.j2\n        dest: /etc/rsyslog.conf\n        backup: yes\n      notify: restart rsyslog\n\n  handlers:\n    - name: restart auditd\n      service:\n        name: auditd\n        state: restarted\n\n    - name: restart rsyslog\n      service:\n        name: rsyslog\n        state: restarted\nEOF\n```\n\n## CI/CD Integration\n\n### Jenkins Pipeline Integration\n```bash\n# Create Jenkinsfile for Ansible automation\ncat \u003e Jenkinsfile \u003c\u003cEOF\npipeline {\n    agent any\n    \n    environment {\n        ANSIBLE_CONFIG = 'ansible.cfg'\n        ANSIBLE_HOST_KEY_CHECKING = 'False'\n    }\n    \n    stages {\n        stage('Lint') {\n            steps {\n                sh 'ansible-lint playbooks/'\n                sh 'yamllint .'\n            }\n        }\n        \n        stage('Syntax Check') {\n            steps {\n                sh 'ansible-playbook playbooks/site.yml --syntax-check'\n            }\n        }\n        \n        stage('Dry Run') {\n            steps {\n                sh 'ansible-playbook playbooks/site.yml --check --diff'\n            }\n        }\n        \n        stage('Deploy to Staging') {\n            when {\n                branch 'develop'\n            }\n            steps {\n                sh 'ansible-playbook -i inventories/staging playbooks/site.yml'\n            }\n        }\n        \n        stage('Deploy to Production') {\n            when {\n                branch 'main'\n            }\n            steps {\n                input 'Deploy to Production?'\n                sh 'ansible-playbook -i inventories/production playbooks/site.yml'\n            }\n        }\n        \n        stage('Verify Deployment') {\n            steps {\n                sh 'ansible-playbook playbooks/system-verification.yml'\n            }\n        }\n    }\n    \n    post {\n        always {\n            archiveArtifacts artifacts: 'logs/*.log', allowEmptyArchive: true\n            publishHTML([\n                allowMissing: false,\n                alwaysLinkToLastBuild: true,\n                keepAll: true,\n                reportDir: 'reports',\n                reportFiles: '*.html',\n                reportName: 'Ansible Report'\n            ])\n        }\n        failure {\n            emailext (\n                subject: \"Failed Pipeline: ${env.JOB_NAME} - ${env.BUILD_NUMBER}\",\n                body: \"Something is wrong with ${env.BUILD_URL}\",\n                to: \"${env.DEFAULT_RECIPIENTS}\"\n            )\n        }\n    }\n}\nEOF\n```\n\n### GitLab CI Integration\n```bash\ncat \u003e .gitlab-ci.yml \u003c\u003cEOF\nstages:\n  - lint\n  - test\n  - deploy-staging\n  - deploy-production\n\nvariables:\n  ANSIBLE_CONFIG: ansible.cfg\n  ANSIBLE_HOST_KEY_CHECKING: \"False\"\n\nbefore_script:\n  - pip install ansible ansible-lint yamllint\n  - ansible-galaxy install -r requirements.yml\n\nlint:\n  stage: lint\n  script:\n    - ansible-lint playbooks/\n    - yamllint .\n  rules:\n    - if: '$CI_MERGE_REQUEST_IID'\n    - if: '$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH'\n\nsyntax-check:\n  stage: test\n  script:\n    - ansible-playbook playbooks/site.yml --syntax-check\n    - ansible-playbook playbooks/site.yml --check --diff -i inventories/staging\n  rules:\n    - if: '$CI_MERGE_REQUEST_IID'\n    - if: '$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH'\n\ndeploy-staging:\n  stage: deploy-staging\n  script:\n    - ansible-playbook -i inventories/staging playbooks/site.yml\n  rules:\n    - if: '$CI_COMMIT_BRANCH == \"develop\"'\n\ndeploy-production:\n  stage: deploy-production\n  script:\n    - ansible-playbook -i inventories/production playbooks/site.yml\n  rules:\n    - if: '$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH'\n      when: manual\n  environment:\n    name: production\n    url: https://production.example.com\nEOF\n```\n\n## 6. Troubleshooting (Cross-Platform)\n\n### Common Issues and Solutions\n```bash\n# Debug connection issues\nansible all -m ping -vvv\n\n# Check SSH connectivity\nansible all -m setup --ask-pass --ask-become-pass\n\n# Verify inventory\nansible-inventory --list\nansible-inventory --graph\n\n# Test specific host\nansible target-host -m command -a \"uptime\"\n\n# Check syntax without execution\nansible-playbook playbooks/site.yml --syntax-check\n\n# Dry run with verbose output\nansible-playbook playbooks/site.yml --check --diff -vvv\n\n# Debug variable resolution\nansible-playbook playbooks/site.yml --extra-vars=\"debug=true\" --tags debug\n\n# Check facts\nansible all -m setup | grep ansible_os_family\n\n# Connection troubleshooting\nssh -vvv user@target-host\n\n# Permission issues\nansible all -m file -a \"path=/tmp/test state=touch\" --become\n\n# Vault issues\nansible-vault view group_vars/all/vault.yml\n\n# Performance debugging\nansible-playbook playbooks/site.yml --start-at-task=\"specific task name\"\nansible-playbook playbooks/site.yml --step\n\n# Module testing\nansible localhost -m debug -a \"var=hostvars\"\nansible localhost -m setup\n\n# Check for syntax errors in roles\nfind roles/ -name \"*.yml\" -exec ansible-playbook {} --syntax-check \\;\n```\n\n### Advanced Debugging\n```bash\n# Enable comprehensive logging\nexport ANSIBLE_DEBUG=1\nexport ANSIBLE_VERBOSITY=4\nansible-playbook playbooks/site.yml\n\n# Profile playbook execution\nansible-playbook playbooks/site.yml --extra-vars=\"profile_tasks_sort_order=none\"\n\n# Memory usage analysis\nansible-playbook playbooks/site.yml --extra-vars=\"ansible_python_interpreter=/usr/bin/python3\"\n\n# Network debugging\nansible all -m command -a \"ss -tulpn\"\nansible all -m command -a \"netstat -rn\"\n\n# Process debugging\nansible all -m command -a \"ps aux --sort=-%mem | head -10\"\n\n# Disk usage analysis\nansible all -m command -a \"df -h\"\nansible all -m command -a \"du -sh /var/log/*\"\n\n# Service debugging\nansible all -m systemd -a \"name=nginx\" --become\nansible all -m command -a \"systemctl status nginx\" --become\n\n# Variable debugging\nansible-playbook playbooks/site.yml --extra-vars=\"debug_vars=true\" --tags debug_vars\n```\n\n## Additional Resources\n\n- [Official Documentation](https://docs.ansible.com/)\n- [Ansible Galaxy](https://galaxy.ansible.com/)\n- [Best Practices Guide](https://docs.ansible.com/ansible/latest/user_guide/playbooks_best_practices.html)\n- [Security Best Practices](https://docs.ansible.com/ansible/latest/user_guide/become.html#security-best-practices)\n- [Ansible Molecule Testing](https://molecule.readthedocs.io/)\n- [Community Collections](https://docs.ansible.com/ansible/latest/collections/index.html)\n\n---\n\n**Note:** This guide is part of the [HowToMgr](https://howtomgr.github.io) collection.","readmeHtml":"\u003cp class=\"mobile-paragraph\"\u003eAnsible is a free and open-source agentless automation platform for configuration management, application deployment, and task automation across multiple systems. Originally developed by Michael DeHaan and acquired by Red Hat, Ansible serves as the industry standard for infrastructure automation with enterprise-grade security and scalability. It provides a robust alternative to proprietary solutions like VMware vRealize Automation, Microsoft System Center, or Puppet Enterprise without vendor lock-in or licensing costs.\u003c/p\u003e\n\u003ch2 id=\"1-prerequisites\" class=\"mobile-header\"\u003e1. Prerequisites\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eHardware Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eCPU: 2+ cores for control machine (4+ cores recommended for large deployments)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eRAM: 2GB minimum, 4GB+ recommended for large infrastructures, 8GB+ for enterprise\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eStorage: 10GB+ available disk space for playbooks, roles, and logs\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eNetwork: Stable connectivity to all managed hosts\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eOperating System\u003c/strong\u003e (Control Machine): \u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eLinux: Any modern distribution (RHEL, Debian, Ubuntu, CentOS, Fedora, Arch, openSUSE)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003emacOS: 10.15+ (Catalina or newer)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWindows: WSL2 with Linux distribution (not natively supported)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eFreeBSD: 12.0+ (limited support)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eTarget Hosts\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eLinux: Any distribution with Python 2.7+ or 3.5+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWindows: PowerShell 3.0+ and .NET Framework 4.0+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eNetwork devices: SSH or specialized connection plugins\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eNetwork Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eSSH access to target Linux/Unix hosts (port 22)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWinRM access to Windows hosts (ports 5985/5986)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eHTTPS API access for cloud and network devices\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eDependencies\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePython 3.8+ on control machine (3.9+ recommended)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eSSH client and key-based authentication setup\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePython 2.7+ or 3.5+ on target Linux hosts\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePowerShell and .NET Framework on Windows targets\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eSystem Access\u003c/strong\u003e: SSH key access or password authentication to target hosts\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eSpecial Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eSudo or root access on target systems for privileged operations\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eNetwork connectivity between control machine and all managed hosts\u003c/li\u003e\n\u003ch2 id=\"2-supported-operating-systems\" class=\"mobile-header\"\u003e2. Supported Operating Systems\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eThis guide supports installation on:\u003c/p\u003e\n\u003cli class=\"mobile-list-item\"\u003eRHEL 8/9 and derivatives (CentOS Stream, Rocky Linux, AlmaLinux)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eDebian 11/12\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eUbuntu 20.04/22.04/24.04 LTS\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eArch Linux (rolling release)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eAlpine Linux 3.18+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eopenSUSE Leap 15.5+ / Tumbleweed\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eSUSE Linux Enterprise Server (SLES) 15+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003emacOS 12+ (Monterey and later) \u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eFreeBSD 13+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWindows 10/11/Server 2019+ (where applicable)\u003c/li\u003e\n\u003ch2 id=\"3-installation\" class=\"mobile-header\"\u003e3. Installation\u003c/h2\u003e\n\u003ch3 id=\"using-package-manager-recommended\" class=\"mobile-header\"\u003eUsing Package Manager (Recommended)\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Ubuntu/Debian\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Update package list\nsudo apt update\n\n# Install Ansible and dependencies\nsudo apt install -y ansible python3-pip python3-venv sshpass\n\n# Install additional collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\nansible-galaxy collection install amazon.aws\nansible-galaxy collection install azure.azcollection\nansible-galaxy collection install google.cloud\n\n# Verify installation\nansible --version\nansible-galaxy collection list\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### RHEL/CentOS/Rocky Linux/AlmaLinux\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install EPEL repository\nsudo yum install -y epel-release\n\n# Install Ansible\nsudo yum install -y ansible python3-pip\n\n# For newer distributions\nsudo dnf install -y ansible python3-pip\n\n# Install collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\n\n# Verify installation\nansible --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Fedora\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Ansible\nsudo dnf install -y ansible python3-pip python3-virtualenv\n\n# Install additional collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\n\n# Verify installation\nansible --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Arch Linux\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Ansible\nsudo pacman -Syu ansible python-pip\n\n# Install collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\n\n# Verify installation\nansible --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Alpine Linux\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Ansible\nsudo apk update\nsudo apk add ansible python3 py3-pip openssh\n\n# Install collections\nansible-galaxy collection install community.general\n\n# Verify installation\nansible --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### openSUSE/SLES\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# openSUSE Leap/Tumbleweed\nsudo zypper refresh\n\n# Install Ansible and dependencies\nsudo zypper install -y ansible python3-pip python3-virtualenv\n\n# SLES 15 (requires additional modules)\nsudo SUSEConnect -p sle-module-python3/15.5/x86_64\nsudo zypper install -y ansible python3-pip\n\n# Install additional collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\n\n# Verify installation\nansible --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### macOS\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Method 1: Using Homebrew (recommended)\n# Install Homebrew if not already installed\n/bin/bash -c \u0026quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\u0026quot;\n\n# Install Ansible\nbrew install ansible\n\n# Method 2: Using pip with virtual environment\n# Install Python 3 if needed\nbrew install python3\n\n# Create virtual environment\npython3 -m venv ~/ansible-venv\nsource ~/ansible-venv/bin/activate\n\n# Install Ansible\npip install --upgrade pip\npip install ansible ansible-core\n\n# Install additional packages for cloud providers\npip install boto3 azure-cli google-cloud-storage\n\n# Add to shell profile for persistence\necho \u0026#039;source ~/ansible-venv/bin/activate\u0026#039; \u0026gt;\u0026gt; ~/.zshrc  # or ~/.bash_profile\n\n# Install collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install amazon.aws\nansible-galaxy collection install azure.azcollection\n\n# Verify installation\nansible --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### FreeBSD\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install from ports\ncd /usr/ports/sysutils/ansible \u0026amp;\u0026amp; make install clean\n\n# Or install from packages\npkg install py39-ansible\n\n# Install Python dependencies\npkg install python39 py39-pip py39-virtualenv\n\n# Create virtual environment (recommended)\npython3.9 -m venv ~/ansible-venv\nsource ~/ansible-venv/bin/activate\n\n# Install additional packages\npip install paramiko jinja2 PyYAML cryptography\n\n# Install collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\n\n# Verify installation\nansible --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Windows (using WSL2)\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"powershell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epowershell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-powershell\"\u003e# Enable WSL2 first\n# Run in PowerShell as Administrator\ndism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart\ndism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart\n\n# Restart computer, then set WSL2 as default\nwsl --set-default-version 2\n\n# Install Ubuntu from Microsoft Store or command line\nwsl --install -d Ubuntu-22.04\n\n# Inside WSL Ubuntu environment:\nsudo apt update\nsudo apt install -y ansible python3-pip python3-venv sshpass\n\n# Create Windows-specific inventory for managing Windows hosts\nmkdir -p ~/ansible-windows\ncd ~/ansible-windows\n\n# Install Windows collections\nansible-galaxy collection install ansible.windows\nansible-galaxy collection install community.windows\nansible-galaxy collection install chocolatey.chocolatey\n\n# Create Windows inventory example\ncat \u0026gt; inventory/windows-hosts.yml \u0026lt;\u0026lt;EOF\nall:\n  children:\n    windows:\n      hosts:\n        win-server-01:\n          ansible_host: 192.168.1.100\n          ansible_user: Administrator\n          ansible_password: \u0026quot;{{ vault_windows_password }}\u0026quot;\n          ansible_connection: winrm\n          ansible_winrm_server_cert_validation: ignore\n          ansible_winrm_transport: basic\n          ansible_winrm_port: 5985\n      vars:\n        ansible_shell_type: powershell\n        ansible_become_method: runas\n        ansible_become_user: Administrator\nEOF\n\n# Verify installation\nansible --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"using-pip-latest-version\" class=\"mobile-header\"\u003eUsing pip (Latest Version)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create virtual environment (recommended)\npython3 -m venv ~/ansible-venv\nsource ~/ansible-venv/bin/activate\n\n# Install Ansible via pip\npip install --upgrade pip\npip install ansible ansible-core\n\n# Install additional packages\npip install paramiko jinja2 PyYAML cryptography\n\n# Install cloud provider SDKs\npip install boto3 botocore azure-cli google-cloud-storage\n\n# Install collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\nansible-galaxy collection install amazon.aws\nansible-galaxy collection install azure.azcollection\nansible-galaxy collection install google.cloud\n\n# Add to PATH permanently\necho \u0026#039;source ~/ansible-venv/bin/activate\u0026#039; \u0026gt;\u0026gt; ~/.bashrc\n\n# Verify installation\nansible --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"using-docker\" class=\"mobile-header\"\u003eUsing Docker\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create Ansible Docker container with mounted volumes\ndocker run --rm -it \\\n  -v $(pwd):/ansible \\\n  -v ~/.ssh:/root/.ssh:ro \\\n  -v ~/.aws:/root/.aws:ro \\\n  -v ~/.azure:/root/.azure:ro \\\n  --workdir /ansible \\\n  ansible/ansible:latest\n\n# Create wrapper script for ease of use\nsudo tee /usr/local/bin/ansible-docker \u0026gt; /dev/null \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\ndocker run --rm -it \\\n  -v $(pwd):/ansible \\\n  -v ~/.ssh:/root/.ssh:ro \\\n  -v ~/.aws:/root/.aws:ro \\\n  -v ~/.azure:/root/.azure:ro \\\n  -v ~/.kube:/root/.kube:ro \\\n  --workdir /ansible \\\n  --network host \\\n  ansible/ansible:latest \u0026quot;$@\u0026quot;\nEOF\nsudo chmod +x /usr/local/bin/ansible-docker\n\n# Create aliases\necho \u0026#039;alias ansible=\u0026quot;ansible-docker ansible\u0026quot;\u0026#039; \u0026gt;\u0026gt; ~/.bashrc\necho \u0026#039;alias ansible-playbook=\u0026quot;ansible-docker ansible-playbook\u0026quot;\u0026#039; \u0026gt;\u0026gt; ~/.bashrc\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"initial-configuration\" class=\"mobile-header\"\u003eInitial Configuration\u003c/h2\u003e\n\u003ch3 id=\"first-run-setup\" class=\"mobile-header\"\u003eFirst-Run Setup\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e1. \u003cstrong\u003eSSH Key Setup\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Generate SSH key pair for Ansible\nssh-keygen -t rsa -b 4096 -f ~/.ssh/ansible_key -C \u0026quot;ansible-automation\u0026quot;\n\n# Set proper permissions\nchmod 600 ~/.ssh/ansible_key\nchmod 644 ~/.ssh/ansible_key.pub\n\n# Copy public key to target hosts\nssh-copy-id -i ~/.ssh/ansible_key.pub user@target-host\n\n# Or manually copy the key\ncat ~/.ssh/ansible_key.pub | ssh user@target-host \u0026quot;mkdir -p ~/.ssh \u0026amp;\u0026amp; cat \u0026gt;\u0026gt; ~/.ssh/authorized_keys\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e2. \u003cstrong\u003eBasic Ansible Configuration\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create Ansible configuration directory\nmkdir -p ~/.ansible/{facts_cache,inventory_cache,cp,logs}\n\n# Create basic ansible.cfg\ncat \u0026gt; ~/.ansible.cfg \u0026lt;\u0026lt;EOF\n[defaults]\nhost_key_checking = True\nremote_user = ansible\nprivate_key_file = ~/.ssh/ansible_key\ntimeout = 30\nretry_files_enabled = False\nstdout_callback = yaml\ngathering = smart\nfact_caching = jsonfile\nfact_caching_connection = ~/.ansible/facts_cache\nfact_caching_timeout = 86400\ninterpreter_python = auto_silent\ndeprecation_warnings = True\ncommand_warnings = True\n\n[ssh_connection]\nssh_args = -o ControlMaster=auto -o ControlPersist=3600s -o PreferredAuthentications=publickey\npipelining = True\ncontrol_path = ~/.ansible/cp/%%h-%%p-%%r\n\n[privilege_escalation]\nbecome = False\nbecome_method = sudo\nbecome_user = root\nbecome_ask_pass = False\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e3. \u003cstrong\u003eCreate Basic Inventory\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create simple inventory file\nmkdir -p ~/ansible-project/inventory\ncat \u0026gt; ~/ansible-project/inventory/hosts.yml \u0026lt;\u0026lt;EOF\nall:\n  children:\n    webservers:\n      hosts:\n        web-01:\n          ansible_host: 192.168.1.10\n        web-02:\n          ansible_host: 192.168.1.11\n    databases:\n      hosts:\n        db-01:\n          ansible_host: 192.168.1.20\n  vars:\n    ansible_user: ansible\n    ansible_ssh_private_key_file: ~/.ssh/ansible_key\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e4. \u003cstrong\u003eVerify Target Host Python\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check Python availability on target hosts\nansible all -i inventory/hosts.yml -m raw -a \u0026quot;python3 --version || python --version\u0026quot;\n\n# Install Python if needed (Ubuntu/Debian example)\nansible all -i inventory/hosts.yml -m raw -a \u0026quot;apt update \u0026amp;\u0026amp; apt install -y python3\u0026quot; --become\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"testing-initial-setup\" class=\"mobile-header\"\u003eTesting Initial Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Test connectivity to all hosts\nansible all -i inventory/hosts.yml -m ping\n\n# Gather facts from all hosts\nansible all -i inventory/hosts.yml -m setup\n\n# Test privilege escalation\nansible all -i inventory/hosts.yml -m command -a \u0026quot;whoami\u0026quot; --become\n\n# Check disk space on all hosts\nansible all -i inventory/hosts.yml -m command -a \u0026quot;df -h\u0026quot;\n\n# Verify SSH keys are working\nansible all -i inventory/hosts.yml -m command -a \u0026quot;uptime\u0026quot;\n\n# Test basic file operations\nansible all -i inventory/hosts.yml -m file -a \u0026quot;path=/tmp/ansible-test state=touch\u0026quot; --become\nansible all -i inventory/hosts.yml -m file -a \u0026quot;path=/tmp/ansible-test state=absent\u0026quot; --become\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eWARNING:\u003c/strong\u003e Ensure SSH key authentication is working and hosts are accessible before proceeding with complex playbooks!\u003c/p\u003e\n\u003ch2 id=\"5-service-management\" class=\"mobile-header\"\u003e5. Service Management\u003c/h2\u003e\n\u003ch3 id=\"ansible-controller-service-systemd\" class=\"mobile-header\"\u003eAnsible Controller Service (systemd)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create Ansible controller service for scheduled playbooks\nsudo tee /etc/systemd/system/ansible-controller.service \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n[Unit]\nDescription=Ansible Controller Service\nAfter=network.target\nWants=network-online.target\n\n[Service]\nType=oneshot\nUser=ansible\nGroup=ansible\nWorkingDirectory=/opt/ansible\nExecStart=/usr/local/bin/ansible-playbook -i inventories/production playbooks/maintenance.yml\nStandardOutput=journal\nStandardError=journal\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n# Create timer for regular execution\nsudo tee /etc/systemd/system/ansible-controller.timer \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n[Unit]\nDescription=Run Ansible Controller Service\nRequires=ansible-controller.service\n\n[Timer]\nOnCalendar=daily\nPersistent=true\nRandomizedDelaySec=300\n\n[Install]\nWantedBy=timers.target\nEOF\n\n# Enable and start the timer\nsudo systemctl daemon-reload\nsudo systemctl enable ansible-controller.timer\nsudo systemctl start ansible-controller.timer\n\n# Check status\nsudo systemctl status ansible-controller.timer\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"ansible-towerawx-service-management\" class=\"mobile-header\"\u003eAnsible Tower/AWX Service Management\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# AWX service management (Docker-based)\n# Start AWX services\nsudo docker-compose -f /opt/awx/installer/docker-compose.yml up -d\n\n# Stop AWX services\nsudo docker-compose -f /opt/awx/installer/docker-compose.yml down\n\n# Restart AWX services\nsudo docker-compose -f /opt/awx/installer/docker-compose.yml restart\n\n# View AWX logs\nsudo docker-compose -f /opt/awx/installer/docker-compose.yml logs -f\n\n# Check AWX service status\nsudo docker-compose -f /opt/awx/installer/docker-compose.yml ps\n\n# Update AWX\ncd /opt/awx\ngit pull\nsudo docker-compose -f installer/docker-compose.yml down\nsudo docker-compose -f installer/docker-compose.yml build --no-cache\nsudo docker-compose -f installer/docker-compose.yml up -d\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"ansible-pull-service-for-pull-based-configuration\" class=\"mobile-header\"\u003eAnsible Pull Service (for Pull-based Configuration)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create ansible-pull service for decentralized management\nsudo tee /etc/systemd/system/ansible-pull.service \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n[Unit]\nDescription=Ansible Pull Configuration Management\nAfter=network-online.target\nWants=network-online.target\n\n[Service]\nType=oneshot\nUser=root\nExecStart=/usr/bin/ansible-pull -U https://github.com/company/ansible-config.git -i localhost, local.yml\nStandardOutput=journal\nStandardError=journal\nTimeoutStartSec=600\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n# Create timer for ansible-pull\nsudo tee /etc/systemd/system/ansible-pull.timer \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n[Unit]\nDescription=Run Ansible Pull every 30 minutes\nRequires=ansible-pull.service\n\n[Timer]\nOnCalendar=*:0/30\nPersistent=true\nRandomizedDelaySec=120\n\n[Install]\nWantedBy=timers.target\nEOF\n\n# Enable ansible-pull timer\nsudo systemctl daemon-reload\nsudo systemctl enable ansible-pull.timer\nsudo systemctl start ansible-pull.timer\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"cross-platform-service-management\" class=\"mobile-header\"\u003eCross-Platform Service Management\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### macOS (launchd)\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create launchd plist for Ansible automation\nsudo tee /Library/LaunchDaemons/com.company.ansible.plist \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n\u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;UTF-8\u0026quot;?\u0026gt;\n\u0026lt;!DOCTYPE plist PUBLIC \u0026quot;-//Apple//DTD PLIST 1.0//EN\u0026quot; \u0026quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd\u0026quot;\u0026gt;\n\u0026lt;plist version=\u0026quot;1.0\u0026quot;\u0026gt;\n\u0026lt;dict\u0026gt;\n    \u0026lt;key\u0026gt;Label\u0026lt;/key\u0026gt;\n    \u0026lt;string\u0026gt;com.company.ansible\u0026lt;/string\u0026gt;\n    \u0026lt;key\u0026gt;ProgramArguments\u0026lt;/key\u0026gt;\n    \u0026lt;array\u0026gt;\n        \u0026lt;string\u0026gt;/usr/local/bin/ansible-playbook\u0026lt;/string\u0026gt;\n        \u0026lt;string\u0026gt;-i\u0026lt;/string\u0026gt;\n        \u0026lt;string\u0026gt;/opt/ansible/inventory/hosts.yml\u0026lt;/string\u0026gt;\n        \u0026lt;string\u0026gt;/opt/ansible/playbooks/maintenance.yml\u0026lt;/string\u0026gt;\n    \u0026lt;/array\u0026gt;\n    \u0026lt;key\u0026gt;StartCalendarInterval\u0026lt;/key\u0026gt;\n    \u0026lt;dict\u0026gt;\n        \u0026lt;key\u0026gt;Hour\u0026lt;/key\u0026gt;\n        \u0026lt;integer\u0026gt;2\u0026lt;/integer\u0026gt;\n        \u0026lt;key\u0026gt;Minute\u0026lt;/key\u0026gt;\n        \u0026lt;integer\u0026gt;0\u0026lt;/integer\u0026gt;\n    \u0026lt;/dict\u0026gt;\n    \u0026lt;key\u0026gt;StandardOutPath\u0026lt;/key\u0026gt;\n    \u0026lt;string\u0026gt;/var/log/ansible.log\u0026lt;/string\u0026gt;\n    \u0026lt;key\u0026gt;StandardErrorPath\u0026lt;/key\u0026gt;\n    \u0026lt;string\u0026gt;/var/log/ansible.error.log\u0026lt;/string\u0026gt;\n    \u0026lt;key\u0026gt;UserName\u0026lt;/key\u0026gt;\n    \u0026lt;string\u0026gt;ansible\u0026lt;/string\u0026gt;\n    \u0026lt;key\u0026gt;WorkingDirectory\u0026lt;/key\u0026gt;\n    \u0026lt;string\u0026gt;/opt/ansible\u0026lt;/string\u0026gt;\n\u0026lt;/dict\u0026gt;\n\u0026lt;/plist\u0026gt;\nEOF\n\n# Load and start the service\nsudo launchctl load /Library/LaunchDaemons/com.company.ansible.plist\nsudo launchctl start com.company.ansible\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Windows (Task Scheduler via PowerShell)\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"powershell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epowershell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-powershell\"\u003e# Create scheduled task for Ansible in Windows (running in WSL)\n$TaskName = \u0026quot;Ansible-Configuration-Management\u0026quot;\n$TaskDescription = \u0026quot;Run Ansible playbooks for system configuration\u0026quot;\n\n$Action = New-ScheduledTaskAction -Execute \u0026quot;wsl\u0026quot; -Argument \u0026quot;ansible-playbook -i /home/ansible/inventory/hosts.yml /home/ansible/playbooks/windows-maintenance.yml\u0026quot;\n\n$Trigger = New-ScheduledTaskTrigger -Daily -At \u0026quot;02:00AM\u0026quot;\n\n$Principal = New-ScheduledTaskPrincipal -UserID \u0026quot;NT AUTHORITY\\SYSTEM\u0026quot; -LogonType ServiceAccount\n\n$Settings = New-ScheduledTaskSettingsSet -AllowStartIfOnBatteries -DontStopIfGoingOnBatteries -StartWhenAvailable\n\nRegister-ScheduledTask -TaskName $TaskName -Description $TaskDescription -Action $Action -Trigger $Trigger -Principal $Principal -Settings $Settings\n\n# Start the task\nStart-ScheduledTask -TaskName $TaskName\n\n# Check task status\nGet-ScheduledTask -TaskName $TaskName | Get-ScheduledTaskInfo\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"project-structure-and-configuration\" class=\"mobile-header\"\u003eProject Structure and Configuration\u003c/h2\u003e\n\u003ch3 id=\"professional-project-structure\" class=\"mobile-header\"\u003eProfessional Project Structure\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create comprehensive Ansible project structure\nmkdir -p ~/ansible-infrastructure/{\n  inventories/{production,staging,development},\n  playbooks,\n  roles,\n  group_vars,\n  host_vars,\n  library,\n  filter_plugins,\n  callback_plugins,\n  vault,\n  collections,\n  logs\n}\n\ncd ~/ansible-infrastructure\n\n# Create ansible.cfg with security best practices\ncat \u0026gt; ansible.cfg \u0026lt;\u0026lt;EOF\n[defaults]\ninventory = inventories/production/hosts.yml\nremote_user = ansible\nprivate_key_file = ~/.ssh/ansible_key\nhost_key_checking = True\ntimeout = 30\nretry_files_enabled = False\nstdout_callback = yaml\nbin_ansible_callbacks = True\ngathering = smart\nfact_caching = jsonfile\nfact_caching_connection = ~/.ansible/facts_cache\nfact_caching_timeout = 86400\ninterpreter_python = auto_silent\nvault_password_file = ~/.ansible_vault_pass\n\n# Logging\nlog_path = logs/ansible.log\ndisplay_skipped_hosts = False\ndisplay_ok_hosts = False\n\n# Performance\nforks = 20\npoll_interval = 15\ninternal_poll_interval = 0.001\n\n# Security\ncommand_warnings = True\ndeprecation_warnings = True\naction_warnings = True\nlocalhost_warning = True\n\n[ssh_connection]\nssh_args = -o ControlMaster=auto -o ControlPersist=3600s -o PreferredAuthentications=publickey\npipelining = True\ncontrol_path = ~/.ansible/cp/%%h-%%p-%%r\nretries = 3\n\n[privilege_escalation]\nbecome = False\nbecome_method = sudo\nbecome_user = root\nbecome_ask_pass = False\n\n[inventory]\nenable_plugins = host_list, script, auto, yaml, ini, toml\ncache = True\ncache_plugin = jsonfile\ncache_timeout = 3600\ncache_connection = ~/.ansible/inventory_cache\n\n[galaxy]\nserver_list = automation_hub, galaxy\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"advanced-inventory-management\" class=\"mobile-header\"\u003eAdvanced Inventory Management\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create production inventory with groups and variables\ncat \u0026gt; inventories/production/hosts.yml \u0026lt;\u0026lt;EOF\nall:\n  children:\n    webservers:\n      hosts:\n        web-prod-01:\n          ansible_host: 10.0.1.10\n          ansible_user: ansible\n          server_role: frontend\n          backup_enabled: true\n        web-prod-02:\n          ansible_host: 10.0.1.11\n          ansible_user: ansible\n          server_role: frontend\n          backup_enabled: true\n        web-prod-03:\n          ansible_host: 10.0.1.12\n          ansible_user: ansible\n          server_role: frontend\n          backup_enabled: true\n      vars:\n        http_port: 80\n        https_port: 443\n        max_clients: 200\n        environment: production\n        monitoring_enabled: true\n\n    dbservers:\n      hosts:\n        db-prod-01:\n          ansible_host: 10.0.2.10\n          ansible_user: ansible\n          mysql_server_id: 1\n          mysql_role: master\n        db-prod-02:\n          ansible_host: 10.0.2.11\n          ansible_user: ansible\n          mysql_server_id: 2\n          mysql_role: slave\n      vars:\n        mysql_port: 3306\n        mysql_root_password: \u0026quot;{{ vault_mysql_root_password }}\u0026quot;\n        mysql_replication_user: \u0026quot;{{ vault_mysql_replication_user }}\u0026quot;\n        mysql_replication_password: \u0026quot;{{ vault_mysql_replication_password }}\u0026quot;\n\n    loadbalancers:\n      hosts:\n        lb-prod-01:\n          ansible_host: 10.0.3.10\n          ansible_user: ansible\n          lb_algorithm: roundrobin\n        lb-prod-02:\n          ansible_host: 10.0.3.11\n          ansible_user: ansible\n          lb_algorithm: roundrobin\n      vars:\n        haproxy_stats_enabled: true\n        haproxy_stats_user: admin\n        haproxy_stats_password: \u0026quot;{{ vault_haproxy_stats_password }}\u0026quot;\n\n    monitoring:\n      hosts:\n        monitor-prod-01:\n          ansible_host: 10.0.4.10\n          ansible_user: ansible\n          prometheus_retention: 30d\n          grafana_admin_password: \u0026quot;{{ vault_grafana_admin_password }}\u0026quot;\n\n    bastion:\n      hosts:\n        bastion-prod-01:\n          ansible_host: bastion.example.com\n          ansible_user: ansible\n          ansible_port: 22\n\n# Global variables for all hosts\nwebservers:\n  vars:\n    nginx_worker_processes: auto\n    nginx_worker_connections: 1024\n    ssl_certificate_path: /etc/ssl/certs\n    backup_schedule: \u0026quot;0 2 * * *\u0026quot;\n\ndbservers:\n  vars:\n    mysql_innodb_buffer_pool_size: 2G\n    mysql_max_connections: 200\n    backup_schedule: \u0026quot;0 1 * * *\u0026quot;\n    monitoring_enabled: true\nEOF\n\n# Create dynamic inventory script for cloud environments\ncat \u0026gt; inventories/production/aws_ec2.yml \u0026lt;\u0026lt;EOF\nplugin: amazon.aws.aws_ec2\nregions:\n  - us-west-2\n  - us-east-1\nfilters:\n  tag:Environment: production\n  tag:Ansible: managed\n  instance-state-name: running\n\nhostnames:\n  - tag:Name\n  - dns-name\n  - private-ip-address\n\ncompose:\n  ansible_host: private_ip_address\n  ec2_state: ec2_state_name\n  ec2_arch: ec2_architecture\n\ngroups:\n  # Group by instance type\n  webservers: \u0026quot;\u0026#039;web\u0026#039; in tags.Role\u0026quot;\n  databases: \u0026quot;\u0026#039;db\u0026#039; in tags.Role\u0026quot;\n  loadbalancers: \u0026quot;\u0026#039;lb\u0026#039; in tags.Role\u0026quot;\n  \n  # Group by environment\n  production: \u0026quot;tags.Environment == \u0026#039;production\u0026#039;\u0026quot;\n  staging: \u0026quot;tags.Environment == \u0026#039;staging\u0026#039;\u0026quot;\n  \n  # Group by availability zone\n  us_west_2a: ec2_placement_availability_zone == \u0026quot;us-west-2a\u0026quot;\n  us_west_2b: ec2_placement_availability_zone == \u0026quot;us-west-2b\u0026quot;\n\nkeyed_groups:\n  # Create groups based on tags\n  - key: tags.Environment\n    prefix: env\n  - key: tags.Role  \n    prefix: role\n  - key: ec2_instance_type\n    prefix: type\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"ansible-vault-security\" class=\"mobile-header\"\u003eAnsible Vault Security\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create strong vault password\nopenssl rand -base64 32 \u0026gt; ~/.ansible_vault_pass\nchmod 600 ~/.ansible_vault_pass\n\n# Create encrypted vault file for secrets\nansible-vault create group_vars/all/vault.yml\n# Enter secure passwords and API keys:\n# vault_mysql_root_password: your_secure_mysql_password\n# vault_grafana_admin_password: your_secure_grafana_password  \n# vault_ssl_private_key: |\n#   -----BEGIN PRIVATE KEY-----\n#   your_private_key_content\n#   -----END PRIVATE KEY-----\n\n# Create non-encrypted variables file\ncat \u0026gt; group_vars/all/vars.yml \u0026lt;\u0026lt;EOF\n# Non-sensitive variables\nmysql_port: 3306\nnginx_port: 80\ngrafana_port: 3000\nprometheus_port: 9090\n\n# Reference vault variables\nmysql_root_password: \u0026quot;{{ vault_mysql_root_password }}\u0026quot;\ngrafana_admin_password: \u0026quot;{{ vault_grafana_admin_password }}\u0026quot;\n\n# SSL configuration\nssl_certificate_path: /etc/ssl/certs/server.crt\nssl_private_key_path: /etc/ssl/private/server.key\nssl_private_key_content: \u0026quot;{{ vault_ssl_private_key }}\u0026quot;\n\n# Security settings\nansible_ssh_common_args: \u0026#039;-o StrictHostKeyChecking=yes -o UserKnownHostsFile=~/.ssh/known_hosts\u0026#039;\nansible_become_method: sudo\nansible_become_user: root\nEOF\n\n# Edit vault file\nansible-vault edit group_vars/all/vault.yml\n\n# View vault file (read-only)\nansible-vault view group_vars/all/vault.yml\n\n# Change vault password\nansible-vault rekey group_vars/all/vault.yml\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"comprehensive-playbooks\" class=\"mobile-header\"\u003eComprehensive Playbooks\u003c/h2\u003e\n\u003ch3 id=\"system-hardening-playbook\" class=\"mobile-header\"\u003eSystem Hardening Playbook\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; playbooks/system-hardening.yml \u0026lt;\u0026lt;EOF\n---\n- name: System Security Hardening\n  hosts: all\n  become: yes\n  gather_facts: yes\n  vars:\n    security_packages:\n      - fail2ban\n      - ufw\n      - aide\n      - chkrootkit\n      - rkhunter\n      - clamav\n      - lynis\n    \n    disabled_services:\n      - telnet\n      - rsh\n      - rlogin\n      - tftp\n      - talk\n      - finger\n\n  pre_tasks:\n    - name: Update package cache\n      package:\n        update_cache: yes\n        cache_valid_time: 3600\n      when: ansible_os_family in [\u0026quot;Debian\u0026quot;, \u0026quot;RedHat\u0026quot;]\n\n  tasks:\n    # System updates\n    - name: Upgrade all packages\n      package:\n        name: \u0026quot;*\u0026quot;\n        state: latest\n      when: ansible_os_family == \u0026quot;RedHat\u0026quot;\n\n    - name: Upgrade all packages (Debian/Ubuntu)\n      apt:\n        upgrade: dist\n        autoremove: yes\n        autoclean: yes\n      when: ansible_os_family == \u0026quot;Debian\u0026quot;\n\n    # Install security packages\n    - name: Install security packages\n      package:\n        name: \u0026quot;{{ security_packages }}\u0026quot;\n        state: present\n\n    # User security\n    - name: Create ansible user with limited privileges\n      user:\n        name: ansible\n        groups: sudo\n        shell: /bin/bash\n        create_home: yes\n        generate_ssh_key: yes\n        ssh_key_bits: 4096\n        ssh_key_type: rsa\n\n    - name: Configure sudo for ansible user\n      lineinfile:\n        path: /etc/sudoers.d/ansible\n        line: \u0026#039;ansible ALL=(ALL) NOPASSWD:ALL\u0026#039;\n        create: yes\n        mode: \u0026#039;0440\u0026#039;\n        validate: \u0026#039;visudo -cf %s\u0026#039;\n\n    # SSH hardening\n    - name: Configure SSH security\n      lineinfile:\n        path: /etc/ssh/sshd_config\n        regexp: \u0026quot;{{ item.regexp }}\u0026quot;\n        line: \u0026quot;{{ item.line }}\u0026quot;\n        backup: yes\n      loop:\n        - { regexp: \u0026#039;^#?PermitRootLogin\u0026#039;, line: \u0026#039;PermitRootLogin no\u0026#039; }\n        - { regexp: \u0026#039;^#?PasswordAuthentication\u0026#039;, line: \u0026#039;PasswordAuthentication no\u0026#039; }\n        - { regexp: \u0026#039;^#?X11Forwarding\u0026#039;, line: \u0026#039;X11Forwarding no\u0026#039; }\n        - { regexp: \u0026#039;^#?MaxAuthTries\u0026#039;, line: \u0026#039;MaxAuthTries 3\u0026#039; }\n        - { regexp: \u0026#039;^#?ClientAliveInterval\u0026#039;, line: \u0026#039;ClientAliveInterval 300\u0026#039; }\n        - { regexp: \u0026#039;^#?ClientAliveCountMax\u0026#039;, line: \u0026#039;ClientAliveCountMax 0\u0026#039; }\n        - { regexp: \u0026#039;^#?Protocol\u0026#039;, line: \u0026#039;Protocol 2\u0026#039; }\n        - { regexp: \u0026#039;^#?LogLevel\u0026#039;, line: \u0026#039;LogLevel VERBOSE\u0026#039; }\n      notify: restart ssh\n\n    # Firewall configuration\n    - name: Configure UFW firewall (Debian/Ubuntu)\n      ufw:\n        state: enabled\n        policy: deny\n        direction: incoming\n      when: ansible_os_family == \u0026quot;Debian\u0026quot;\n\n    - name: Allow SSH through UFW\n      ufw:\n        rule: allow\n        port: 22\n        proto: tcp\n        comment: \u0026#039;SSH access\u0026#039;\n      when: ansible_os_family == \u0026quot;Debian\u0026quot;\n\n    - name: Configure firewalld (RHEL/CentOS/Fedora)\n      firewalld:\n        state: enabled\n        permanent: yes\n        immediate: yes\n      when: ansible_os_family == \u0026quot;RedHat\u0026quot;\n\n    - name: Allow SSH through firewalld\n      firewalld:\n        service: ssh\n        permanent: yes\n        state: enabled\n        immediate: yes\n      when: ansible_os_family == \u0026quot;RedHat\u0026quot;\n\n    # Disable unnecessary services\n    - name: Disable unnecessary services\n      systemd:\n        name: \u0026quot;{{ item }}\u0026quot;\n        enabled: no\n        state: stopped\n      loop: \u0026quot;{{ disabled_services }}\u0026quot;\n      ignore_errors: yes\n\n    # File system security\n    - name: Set proper permissions on sensitive files\n      file:\n        path: \u0026quot;{{ item.path }}\u0026quot;\n        mode: \u0026quot;{{ item.mode }}\u0026quot;\n        owner: root\n        group: root\n      loop:\n        - { path: \u0026#039;/etc/passwd\u0026#039;, mode: \u0026#039;0644\u0026#039; }\n        - { path: \u0026#039;/etc/shadow\u0026#039;, mode: \u0026#039;0640\u0026#039; }\n        - { path: \u0026#039;/etc/group\u0026#039;, mode: \u0026#039;0644\u0026#039; }\n        - { path: \u0026#039;/etc/gshadow\u0026#039;, mode: \u0026#039;0640\u0026#039; }\n        - { path: \u0026#039;/etc/ssh/sshd_config\u0026#039;, mode: \u0026#039;0600\u0026#039; }\n\n    # Kernel security parameters\n    - name: Configure kernel security parameters\n      sysctl:\n        name: \u0026quot;{{ item.key }}\u0026quot;\n        value: \u0026quot;{{ item.value }}\u0026quot;\n        sysctl_set: yes\n        state: present\n        reload: yes\n      loop:\n        - { key: \u0026#039;net.ipv4.ip_forward\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.all.send_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.default.send_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.all.accept_source_route\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.default.accept_source_route\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.all.accept_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.default.accept_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.all.secure_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.default.secure_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.all.log_martians\u0026#039;, value: \u0026#039;1\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.default.log_martians\u0026#039;, value: \u0026#039;1\u0026#039; }\n        - { key: \u0026#039;kernel.randomize_va_space\u0026#039;, value: \u0026#039;2\u0026#039; }\n\n    # Configure fail2ban\n    - name: Configure fail2ban for SSH protection\n      template:\n        src: templates/fail2ban-jail.local.j2\n        dest: /etc/fail2ban/jail.local\n        backup: yes\n      notify: restart fail2ban\n\n  handlers:\n    - name: restart ssh\n      service:\n        name: \u0026quot;{{ \u0026#039;ssh\u0026#039; if ansible_os_family == \u0026#039;Debian\u0026#039; else \u0026#039;sshd\u0026#039; }}\u0026quot;\n        state: restarted\n\n    - name: restart fail2ban\n      service:\n        name: fail2ban\n        state: restarted\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"application-deployment-playbook\" class=\"mobile-header\"\u003eApplication Deployment Playbook\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; playbooks/web-application-deployment.yml \u0026lt;\u0026lt;EOF\n---\n- name: Deploy Web Application Stack\n  hosts: webservers\n  become: yes\n  serial: \u0026quot;25%\u0026quot;  # Rolling deployment\n  max_fail_percentage: 10\n  vars:\n    app_name: mywebapp\n    app_version: \u0026quot;{{ app_version | default(\u0026#039;latest\u0026#039;) }}\u0026quot;\n    app_port: 3000\n    nginx_workers: \u0026quot;{{ ansible_processor_cores }}\u0026quot;\n    \n  pre_tasks:\n    - name: Check if maintenance mode file exists\n      stat:\n        path: /var/www/html/maintenance.html\n      register: maintenance_mode\n\n    - name: Fail if in maintenance mode\n      fail:\n        msg: \u0026quot;Server is in maintenance mode\u0026quot;\n      when: maintenance_mode.stat.exists and not force_deployment | default(false)\n\n  tasks:\n    # Application deployment\n    - name: Create application user\n      user:\n        name: \u0026quot;{{ app_name }}\u0026quot;\n        system: yes\n        shell: /bin/false\n        home: \u0026quot;/opt/{{ app_name }}\u0026quot;\n        create_home: yes\n\n    - name: Create application directories\n      file:\n        path: \u0026quot;{{ item }}\u0026quot;\n        state: directory\n        owner: \u0026quot;{{ app_name }}\u0026quot;\n        group: \u0026quot;{{ app_name }}\u0026quot;\n        mode: \u0026#039;0755\u0026#039;\n      loop:\n        - \u0026quot;/opt/{{ app_name }}\u0026quot;\n        - \u0026quot;/opt/{{ app_name }}/releases\u0026quot;\n        - \u0026quot;/opt/{{ app_name }}/shared\u0026quot;\n        - \u0026quot;/var/log/{{ app_name }}\u0026quot;\n\n    - name: Download application release\n      get_url:\n        url: \u0026quot;https://releases.example.com/{{ app_name }}/{{ app_version }}/{{ app_name }}-{{ app_version }}.tar.gz\u0026quot;\n        dest: \u0026quot;/tmp/{{ app_name }}-{{ app_version }}.tar.gz\u0026quot;\n        mode: \u0026#039;0644\u0026#039;\n        timeout: 300\n      register: download_result\n\n    - name: Extract application\n      unarchive:\n        src: \u0026quot;/tmp/{{ app_name }}-{{ app_version }}.tar.gz\u0026quot;\n        dest: \u0026quot;/opt/{{ app_name }}/releases/\u0026quot;\n        owner: \u0026quot;{{ app_name }}\u0026quot;\n        group: \u0026quot;{{ app_name }}\u0026quot;\n        remote_src: yes\n        creates: \u0026quot;/opt/{{ app_name }}/releases/{{ app_version }}\u0026quot;\n\n    - name: Create symlink to current release\n      file:\n        src: \u0026quot;/opt/{{ app_name }}/releases/{{ app_version }}\u0026quot;\n        dest: \u0026quot;/opt/{{ app_name }}/current\u0026quot;\n        state: link\n        owner: \u0026quot;{{ app_name }}\u0026quot;\n        group: \u0026quot;{{ app_name }}\u0026quot;\n      notify:\n        - reload application\n        - reload nginx\n\n    # Configuration management\n    - name: Deploy application configuration\n      template:\n        src: \u0026quot;templates/{{ app_name }}.conf.j2\u0026quot;\n        dest: \u0026quot;/opt/{{ app_name }}/shared/{{ app_name }}.conf\u0026quot;\n        owner: \u0026quot;{{ app_name }}\u0026quot;\n        group: \u0026quot;{{ app_name }}\u0026quot;\n        mode: \u0026#039;0640\u0026#039;\n        backup: yes\n      notify: reload application\n\n    # Service management\n    - name: Deploy systemd service file\n      template:\n        src: \u0026quot;templates/{{ app_name }}.service.j2\u0026quot;\n        dest: \u0026quot;/etc/systemd/system/{{ app_name }}.service\u0026quot;\n        mode: \u0026#039;0644\u0026#039;\n      notify:\n        - daemon reload\n        - restart application\n\n    - name: Enable and start application service\n      systemd:\n        name: \u0026quot;{{ app_name }}\u0026quot;\n        enabled: yes\n        state: started\n        daemon_reload: yes\n\n    # Health check\n    - name: Wait for application to be ready\n      uri:\n        url: \u0026quot;http://localhost:{{ app_port }}/health\u0026quot;\n        method: GET\n        status_code: 200\n      retries: 30\n      delay: 10\n\n    # Cleanup old releases\n    - name: Clean up old releases (keep last 3)\n      shell: |\n        cd /opt/{{ app_name }}/releases\n        ls -t | tail -n +4 | xargs rm -rf\n      args:\n        executable: /bin/bash\n\n  post_tasks:\n    - name: Verify application is running\n      uri:\n        url: \u0026quot;http://{{ ansible_default_ipv4.address }}:{{ app_port }}/health\u0026quot;\n        method: GET\n        status_code: 200\n      delegate_to: localhost\n\n    - name: Log deployment success\n      lineinfile:\n        path: \u0026quot;/var/log/{{ app_name }}/deployments.log\u0026quot;\n        line: \u0026quot;{{ ansible_date_time.iso8601 }} - Successfully deployed {{ app_version }} to {{ inventory_hostname }}\u0026quot;\n        create: yes\n\n  handlers:\n    - name: daemon reload\n      systemd:\n        daemon_reload: yes\n\n    - name: restart application\n      systemd:\n        name: \u0026quot;{{ app_name }}\u0026quot;\n        state: restarted\n\n    - name: reload application\n      systemd:\n        name: \u0026quot;{{ app_name }}\u0026quot;\n        state: reloaded\n\n    - name: reload nginx\n      service:\n        name: nginx\n        state: reloaded\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"infrastructure-as-code-playbook\" class=\"mobile-header\"\u003eInfrastructure as Code Playbook\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; playbooks/infrastructure-provisioning.yml \u0026lt;\u0026lt;EOF\n---\n- name: Infrastructure Provisioning and Configuration\n  hosts: all\n  become: yes\n  strategy: free  # Parallel execution\n  vars:\n    base_packages:\n      Debian:\n        - curl\n        - wget\n        - vim\n        - htop\n        - git\n        - python3\n        - python3-pip\n        - unzip\n        - tree\n      RedHat:\n        - curl\n        - wget\n        - vim\n        - htop\n        - git\n        - python3\n        - python3-pip\n        - unzip\n        - tree\n        - epel-release\n\n  tasks:\n    # System preparation\n    - name: Set hostname\n      hostname:\n        name: \u0026quot;{{ inventory_hostname }}\u0026quot;\n\n    - name: Update /etc/hosts\n      lineinfile:\n        path: /etc/hosts\n        line: \u0026quot;{{ ansible_default_ipv4.address }} {{ inventory_hostname }}\u0026quot;\n        backup: yes\n\n    # Package management\n    - name: Install base packages\n      package:\n        name: \u0026quot;{{ base_packages[ansible_os_family] | default(base_packages[\u0026#039;Debian\u0026#039;]) }}\u0026quot;\n        state: present\n\n    # Time synchronization\n    - name: Install and configure NTP\n      package:\n        name: \u0026quot;{{ \u0026#039;ntp\u0026#039; if ansible_os_family == \u0026#039;Debian\u0026#039; else \u0026#039;chrony\u0026#039; }}\u0026quot;\n        state: present\n\n    - name: Start and enable time synchronization\n      service:\n        name: \u0026quot;{{ \u0026#039;ntp\u0026#039; if ansible_os_family == \u0026#039;Debian\u0026#039; else \u0026#039;chronyd\u0026#039; }}\u0026quot;\n        state: started\n        enabled: yes\n\n    # Log management\n    - name: Configure logrotate for application logs\n      template:\n        src: templates/app-logrotate.j2\n        dest: /etc/logrotate.d/applications\n        mode: \u0026#039;0644\u0026#039;\n\n    # Monitoring agent installation\n    - name: Install Node Exporter for Prometheus monitoring\n      get_url:\n        url: \u0026quot;https://github.com/prometheus/node_exporter/releases/download/v1.6.1/node_exporter-1.6.1.linux-amd64.tar.gz\u0026quot;\n        dest: /tmp/node_exporter.tar.gz\n        mode: \u0026#039;0644\u0026#039;\n\n    - name: Extract Node Exporter\n      unarchive:\n        src: /tmp/node_exporter.tar.gz\n        dest: /tmp\n        remote_src: yes\n\n    - name: Copy Node Exporter binary\n      copy:\n        src: /tmp/node_exporter-1.6.1.linux-amd64/node_exporter\n        dest: /usr/local/bin/node_exporter\n        mode: \u0026#039;0755\u0026#039;\n        owner: root\n        group: root\n        remote_src: yes\n\n    - name: Create node_exporter systemd service\n      template:\n        src: templates/node_exporter.service.j2\n        dest: /etc/systemd/system/node_exporter.service\n        mode: \u0026#039;0644\u0026#039;\n      notify:\n        - daemon reload\n        - restart node_exporter\n\n    # Security configuration\n    - name: Configure kernel parameters for security\n      sysctl:\n        name: \u0026quot;{{ item.key }}\u0026quot;\n        value: \u0026quot;{{ item.value }}\u0026quot;\n        sysctl_set: yes\n        state: present\n        reload: yes\n      loop:\n        - { key: \u0026#039;kernel.dmesg_restrict\u0026#039;, value: \u0026#039;1\u0026#039; }\n        - { key: \u0026#039;kernel.kptr_restrict\u0026#039;, value: \u0026#039;2\u0026#039; }\n        - { key: \u0026#039;kernel.yama.ptrace_scope\u0026#039;, value: \u0026#039;1\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.all.log_martians\u0026#039;, value: \u0026#039;1\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.default.log_martians\u0026#039;, value: \u0026#039;1\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.all.send_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.default.send_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n\n    # File integrity monitoring\n    - name: Initialize AIDE database\n      shell: |\n        aide --init\n        mv /var/lib/aide/aide.db.new /var/lib/aide/aide.db\n      args:\n        creates: /var/lib/aide/aide.db\n\n    - name: Schedule AIDE integrity checks\n      cron:\n        name: \u0026quot;AIDE integrity check\u0026quot;\n        minute: \u0026quot;0\u0026quot;\n        hour: \u0026quot;3\u0026quot;\n        job: \u0026quot;/usr/bin/aide --check\u0026quot;\n        user: root\n\n  handlers:\n    - name: daemon reload\n      systemd:\n        daemon_reload: yes\n\n    - name: restart node_exporter\n      service:\n        name: node_exporter\n        state: restarted\n        enabled: yes\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"advanced-role-development\" class=\"mobile-header\"\u003eAdvanced Role Development\u003c/h2\u003e\n\u003ch3 id=\"comprehensive-nginx-role\" class=\"mobile-header\"\u003eComprehensive NGINX Role\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create NGINX role structure\nansible-galaxy init roles/nginx\n\n# Main tasks\ncat \u0026gt; roles/nginx/tasks/main.yml \u0026lt;\u0026lt;EOF\n---\n# NGINX Installation and Configuration Role\n- name: Include OS-specific variables\n  include_vars: \u0026quot;{{ ansible_os_family }}.yml\u0026quot;\n\n- name: Install NGINX\n  include_tasks: \u0026quot;install-{{ ansible_os_family }}.yml\u0026quot;\n\n- name: Create NGINX directories\n  file:\n    path: \u0026quot;{{ item }}\u0026quot;\n    state: directory\n    owner: root\n    group: root\n    mode: \u0026#039;0755\u0026#039;\n  loop:\n    - /etc/nginx/sites-available\n    - /etc/nginx/sites-enabled\n    - /etc/nginx/conf.d\n    - /var/log/nginx\n    - /var/cache/nginx\n\n- name: Generate DH parameters\n  openssl_dhparam:\n    path: /etc/ssl/certs/dhparam.pem\n    size: 2048\n  when: nginx_ssl_enabled | default(false)\n\n- name: Deploy NGINX main configuration\n  template:\n    src: nginx.conf.j2\n    dest: /etc/nginx/nginx.conf\n    backup: yes\n    validate: \u0026#039;nginx -t -c %s\u0026#039;\n  notify: reload nginx\n\n- name: Deploy virtual host configurations\n  template:\n    src: vhost.conf.j2\n    dest: \u0026quot;/etc/nginx/sites-available/{{ item.name }}.conf\u0026quot;\n    backup: yes\n  loop: \u0026quot;{{ nginx_vhosts | default([]) }}\u0026quot;\n  notify: reload nginx\n\n- name: Enable virtual hosts\n  file:\n    src: \u0026quot;/etc/nginx/sites-available/{{ item.name }}.conf\u0026quot;\n    dest: \u0026quot;/etc/nginx/sites-enabled/{{ item.name }}.conf\u0026quot;\n    state: link\n  loop: \u0026quot;{{ nginx_vhosts | default([]) }}\u0026quot;\n  when: item.enabled | default(true)\n  notify: reload nginx\n\n- name: Remove default site\n  file:\n    path: /etc/nginx/sites-enabled/default\n    state: absent\n  notify: reload nginx\n\n- name: Start and enable NGINX\n  service:\n    name: nginx\n    state: started\n    enabled: yes\n\n- name: Configure log rotation\n  template:\n    src: nginx-logrotate.j2\n    dest: /etc/logrotate.d/nginx\n    mode: \u0026#039;0644\u0026#039;\n\n- name: Setup NGINX monitoring\n  include_tasks: monitoring.yml\n  when: nginx_monitoring_enabled | default(false)\n\n- name: Configure SSL certificates\n  include_tasks: ssl.yml\n  when: nginx_ssl_enabled | default(false)\nEOF\n\n# OS-specific installation tasks\ncat \u0026gt; roles/nginx/tasks/install-Debian.yml \u0026lt;\u0026lt;EOF\n---\n- name: Add NGINX signing key (Debian/Ubuntu)\n  apt_key:\n    url: https://nginx.org/keys/nginx_signing.key\n    state: present\n\n- name: Add NGINX repository (Debian/Ubuntu)\n  apt_repository:\n    repo: \u0026quot;deb https://nginx.org/packages/{{ ansible_distribution | lower }}/ {{ ansible_distribution_release }} nginx\u0026quot;\n    state: present\n\n- name: Install NGINX (Debian/Ubuntu)\n  apt:\n    name: nginx\n    state: present\n    update_cache: yes\nEOF\n\ncat \u0026gt; roles/nginx/tasks/install-RedHat.yml \u0026lt;\u0026lt;EOF\n---\n- name: Add NGINX repository (RHEL/CentOS)\n  yum_repository:\n    name: nginx\n    description: NGINX Repository\n    baseurl: \u0026quot;https://nginx.org/packages/centos/{{ ansible_distribution_major_version }}/$basearch/\u0026quot;\n    gpgcheck: yes\n    gpgkey: https://nginx.org/keys/nginx_signing.key\n    enabled: yes\n\n- name: Install NGINX (RHEL/CentOS)\n  yum:\n    name: nginx\n    state: present\nEOF\n\n# Variables\ncat \u0026gt; roles/nginx/vars/main.yml \u0026lt;\u0026lt;EOF\n---\nnginx_user: nginx\nnginx_worker_processes: auto\nnginx_worker_connections: 1024\nnginx_keepalive_timeout: 65\nnginx_ssl_enabled: false\nnginx_monitoring_enabled: true\n\nnginx_security_headers:\n  - \u0026quot;add_header X-Frame-Options SAMEORIGIN always;\u0026quot;\n  - \u0026quot;add_header X-Content-Type-Options nosniff always;\u0026quot;\n  - \u0026quot;add_header X-XSS-Protection \u0026#039;1; mode=block\u0026#039; always;\u0026quot;\n  - \u0026quot;add_header Strict-Transport-Security \u0026#039;max-age=31536000; includeSubDomains\u0026#039; always;\u0026quot;\n\nnginx_default_vhost:\n  name: default\n  listen: 80\n  server_name: \u0026quot;_\u0026quot;\n  root: /var/www/html\n  index: index.html\n  enabled: false\nEOF\n\n# Templates\ncat \u0026gt; roles/nginx/templates/nginx.conf.j2 \u0026lt;\u0026lt;EOF\nuser {{ nginx_user }};\nworker_processes {{ nginx_worker_processes }};\npid /var/run/nginx.pid;\n\nevents {\n    worker_connections {{ nginx_worker_connections }};\n    use epoll;\n    multi_accept on;\n}\n\nhttp {\n    # Basic settings\n    sendfile on;\n    tcp_nopush on;\n    tcp_nodelay on;\n    keepalive_timeout {{ nginx_keepalive_timeout }};\n    types_hash_max_size 2048;\n    server_tokens off;\n\n    include /etc/nginx/mime.types;\n    default_type application/octet-stream;\n\n    # SSL configuration\n{% if nginx_ssl_enabled %}\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_prefer_server_ciphers off;\n    ssl_dhparam /etc/ssl/certs/dhparam.pem;\n{% endif %}\n\n    # Gzip compression\n    gzip on;\n    gzip_vary on;\n    gzip_proxied any;\n    gzip_comp_level 6;\n    gzip_types\n        application/javascript\n        application/json\n        application/xml\n        text/css\n        text/javascript\n        text/xml\n        text/plain;\n\n    # Security headers\n{% for header in nginx_security_headers %}\n    {{ header }}\n{% endfor %}\n\n    # Logging\n    log_format main \u0026#039;\\$remote_addr - \\$remote_user [\\$time_local] \u0026quot;\\$request\u0026quot; \u0026#039;\n                    \u0026#039;\\$status \\$body_bytes_sent \u0026quot;\\$http_referer\u0026quot; \u0026#039;\n                    \u0026#039;\u0026quot;\\$http_user_agent\u0026quot; \u0026quot;\\$http_x_forwarded_for\u0026quot;\u0026#039;;\n\n    access_log /var/log/nginx/access.log main;\n    error_log /var/log/nginx/error.log;\n\n    # Rate limiting\n    limit_req_zone \\$binary_remote_addr zone=login:10m rate=10r/m;\n    limit_conn_zone \\$binary_remote_addr zone=addr:10m;\n\n    # Include configurations\n    include /etc/nginx/conf.d/*.conf;\n    include /etc/nginx/sites-enabled/*;\n}\nEOF\n\n# Handlers\ncat \u0026gt; roles/nginx/handlers/main.yml \u0026lt;\u0026lt;EOF\n---\n- name: restart nginx\n  service:\n    name: nginx\n    state: restarted\n\n- name: reload nginx\n  service:\n    name: nginx\n    state: reloaded\n\n- name: validate nginx config\n  command: nginx -t\n  changed_when: false\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"security-and-compliance\" class=\"mobile-header\"\u003eSecurity and Compliance\u003c/h2\u003e\n\u003ch3 id=\"ansible-security-scanner-integration\" class=\"mobile-header\"\u003eAnsible Security Scanner Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create security scanning playbook\ncat \u0026gt; playbooks/security-scan.yml \u0026lt;\u0026lt;EOF\n---\n- name: Security Compliance Scanning\n  hosts: all\n  become: yes\n  gather_facts: yes\n  vars:\n    scan_results_dir: \u0026quot;/tmp/security-scans\u0026quot;\n    \n  tasks:\n    - name: Create scan results directory\n      file:\n        path: \u0026quot;{{ scan_results_dir }}\u0026quot;\n        state: directory\n        mode: \u0026#039;0755\u0026#039;\n\n    # CIS benchmark scanning\n    - name: Download CIS benchmark script\n      get_url:\n        url: \u0026quot;https://github.com/dev-sec/cis-dil-benchmark/archive/master.zip\u0026quot;\n        dest: \u0026quot;/tmp/cis-benchmark.zip\u0026quot;\n        mode: \u0026#039;0644\u0026#039;\n\n    - name: Run CIS benchmark scan\n      shell: |\n        cd /tmp\n        unzip -o cis-benchmark.zip\n        cd cis-dil-benchmark-master\n        bash cis_ubuntu2204.sh \u0026gt; {{ scan_results_dir }}/cis-scan-{{ inventory_hostname }}.txt\n      args:\n        creates: \u0026quot;{{ scan_results_dir }}/cis-scan-{{ inventory_hostname }}.txt\u0026quot;\n\n    # Lynis security audit\n    - name: Install Lynis\n      package:\n        name: lynis\n        state: present\n\n    - name: Run Lynis security audit\n      command: lynis audit system --quiet --cronjob\n      register: lynis_result\n      changed_when: false\n\n    - name: Save Lynis results\n      copy:\n        content: \u0026quot;{{ lynis_result.stdout }}\u0026quot;\n        dest: \u0026quot;{{ scan_results_dir }}/lynis-scan-{{ inventory_hostname }}.txt\u0026quot;\n        mode: \u0026#039;0644\u0026#039;\n\n    # OpenSCAP compliance scanning\n    - name: Install OpenSCAP (RHEL/CentOS)\n      package:\n        name:\n          - openscap-scanner\n          - scap-security-guide\n        state: present\n      when: ansible_os_family == \u0026quot;RedHat\u0026quot;\n\n    - name: Install OpenSCAP (Debian/Ubuntu)\n      package:\n        name:\n          - libopenscap8\n          - ssg-debian\n        state: present\n      when: ansible_os_family == \u0026quot;Debian\u0026quot;\n\n    - name: Run OpenSCAP scan\n      shell: |\n        oscap xccdf eval --profile xccdf_org.ssgproject.content_profile_standard \\\n          --results {{ scan_results_dir }}/oscap-results-{{ inventory_hostname }}.xml \\\n          --report {{ scan_results_dir }}/oscap-report-{{ inventory_hostname }}.html \\\n          /usr/share/xml/scap/ssg/content/ssg-{{ ansible_distribution | lower }}{{ ansible_distribution_major_version }}-xccdf.xml\n      ignore_errors: yes\n      when: ansible_os_family in [\u0026quot;RedHat\u0026quot;, \u0026quot;Debian\u0026quot;]\n\n    # Vulnerability scanning with Trivy\n    - name: Install Trivy vulnerability scanner\n      shell: |\n        curl -sfL https://raw.githubusercontent.com/aquasecurity/trivy/main/contrib/install.sh | sh -s -- -b /usr/local/bin\n      args:\n        creates: /usr/local/bin/trivy\n\n    - name: Run Trivy filesystem scan\n      shell: |\n        trivy fs --format json --output {{ scan_results_dir }}/trivy-scan-{{ inventory_hostname }}.json /\n      ignore_errors: yes\n\n    # Collect scan results\n    - name: Fetch scan results to control machine\n      fetch:\n        src: \u0026quot;{{ item }}\u0026quot;\n        dest: \u0026quot;./security-reports/{{ inventory_hostname }}/\u0026quot;\n        flat: yes\n      loop:\n        - \u0026quot;{{ scan_results_dir }}/cis-scan-{{ inventory_hostname }}.txt\u0026quot;\n        - \u0026quot;{{ scan_results_dir }}/lynis-scan-{{ inventory_hostname }}.txt\u0026quot;\n        - \u0026quot;{{ scan_results_dir }}/oscap-report-{{ inventory_hostname }}.html\u0026quot;\n        - \u0026quot;{{ scan_results_dir }}/trivy-scan-{{ inventory_hostname }}.json\u0026quot;\n      ignore_errors: yes\n      delegate_to: localhost\n\n  post_tasks:\n    - name: Generate compliance summary\n      template:\n        src: templates/compliance-summary.j2\n        dest: \u0026quot;{{ scan_results_dir }}/compliance-summary-{{ inventory_hostname }}.txt\u0026quot;\n        mode: \u0026#039;0644\u0026#039;\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"ansible-awxtower-integration\" class=\"mobile-header\"\u003eAnsible AWX/Tower Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Ansible AWX (open source)\ncat \u0026gt; playbooks/install-awx.yml \u0026lt;\u0026lt;EOF\n---\n- name: Install Ansible AWX\n  hosts: localhost\n  connection: local\n  become: yes\n  vars:\n    awx_namespace: awx\n    awx_admin_user: admin\n    awx_admin_password: \u0026quot;{{ vault_awx_admin_password }}\u0026quot;\n\n  tasks:\n    - name: Install prerequisite packages\n      package:\n        name:\n          - git\n          - curl\n          - docker.io\n          - docker-compose\n        state: present\n\n    - name: Clone AWX repository\n      git:\n        repo: https://github.com/ansible/awx.git\n        dest: /opt/awx\n        version: devel\n\n    - name: Create AWX Docker inventory\n      template:\n        src: templates/awx-docker-inventory.j2\n        dest: /opt/awx/installer/inventory\n        mode: \u0026#039;0644\u0026#039;\n\n    - name: Install AWX using Ansible\n      shell: ansible-playbook -i inventory install.yml\n      args:\n        chdir: /opt/awx/installer\n      environment:\n        ANSIBLE_HOST_KEY_CHECKING: False\n\n    - name: Wait for AWX to be ready\n      uri:\n        url: \u0026quot;http://localhost:80/api/v2/ping/\u0026quot;\n        method: GET\n      retries: 30\n      delay: 10\n\n    - name: Configure AWX organizations and projects\n      uri:\n        url: \u0026quot;http://localhost:80/api/v2/organizations/\u0026quot;\n        method: POST\n        user: \u0026quot;{{ awx_admin_user }}\u0026quot;\n        password: \u0026quot;{{ awx_admin_password }}\u0026quot;\n        force_basic_auth: yes\n        body_format: json\n        body:\n          name: \u0026quot;Production\u0026quot;\n          description: \u0026quot;Production environment organization\u0026quot;\n        status_code: [200, 201, 409]\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"multi-cloud-automation\" class=\"mobile-header\"\u003eMulti-Cloud Automation\u003c/h2\u003e\n\u003ch3 id=\"aws-infrastructure-automation\" class=\"mobile-header\"\u003eAWS Infrastructure Automation\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; playbooks/aws-infrastructure.yml \u0026lt;\u0026lt;EOF\n---\n- name: AWS Infrastructure Automation\n  hosts: localhost\n  connection: local\n  gather_facts: no\n  vars:\n    aws_region: \u0026quot;{{ aws_region | default(\u0026#039;us-west-2\u0026#039;) }}\u0026quot;\n    vpc_cidr: \u0026quot;{{ vpc_cidr | default(\u0026#039;10.0.0.0/16\u0026#039;) }}\u0026quot;\n    environment: \u0026quot;{{ environment | default(\u0026#039;production\u0026#039;) }}\u0026quot;\n\n  tasks:\n    # VPC Creation\n    - name: Create VPC\n      amazon.aws.ec2_vpc_info:\n        filters:\n          \u0026quot;tag:Name\u0026quot;: \u0026quot;{{ environment }}-vpc\u0026quot;\n        region: \u0026quot;{{ aws_region }}\u0026quot;\n      register: existing_vpc\n\n    - name: Create new VPC if not exists\n      amazon.aws.ec2_vpc_net:\n        name: \u0026quot;{{ environment }}-vpc\u0026quot;\n        cidr_block: \u0026quot;{{ vpc_cidr }}\u0026quot;\n        region: \u0026quot;{{ aws_region }}\u0026quot;\n        state: present\n        dns_hostnames: yes\n        dns_support: yes\n        tags:\n          Environment: \u0026quot;{{ environment }}\u0026quot;\n          ManagedBy: ansible\n      register: vpc\n      when: existing_vpc.vpcs | length == 0\n\n    # Security Groups\n    - name: Create web security group\n      amazon.aws.ec2_group:\n        name: \u0026quot;{{ environment }}-web-sg\u0026quot;\n        description: \u0026quot;Security group for web servers\u0026quot;\n        vpc_id: \u0026quot;{{ vpc.vpc.id if vpc.vpc is defined else existing_vpc.vpcs[0].vpc_id }}\u0026quot;\n        region: \u0026quot;{{ aws_region }}\u0026quot;\n        rules:\n          - proto: tcp\n            ports:\n              - 80\n              - 443\n            cidr_ip: 0.0.0.0/0\n            rule_desc: \u0026quot;HTTP and HTTPS access\u0026quot;\n          - proto: tcp\n            ports:\n              - 22\n            group_id: \u0026quot;{{ environment }}-bastion-sg\u0026quot;\n            rule_desc: \u0026quot;SSH from bastion\u0026quot;\n        tags:\n          Environment: \u0026quot;{{ environment }}\u0026quot;\n\n    # Launch EC2 instances\n    - name: Launch web servers\n      amazon.aws.ec2_instance:\n        name: \u0026quot;{{ environment }}-web-{{ item }}\u0026quot;\n        instance_type: t3.medium\n        image_id: ami-0c02fb55956c7d316  # Amazon Linux 2\n        key_name: \u0026quot;{{ ec2_key_name }}\u0026quot;\n        vpc_subnet_id: \u0026quot;{{ web_subnet_id }}\u0026quot;\n        security_groups:\n          - \u0026quot;{{ environment }}-web-sg\u0026quot;\n        region: \u0026quot;{{ aws_region }}\u0026quot;\n        state: running\n        wait: yes\n        wait_timeout: 300\n        user_data: |\n          #!/bin/bash\n          yum update -y\n          yum install -y python3\n        tags:\n          Environment: \u0026quot;{{ environment }}\u0026quot;\n          Role: webserver\n          Ansible: managed\n      loop: \u0026quot;{{ range(1, web_server_count + 1) | list }}\u0026quot;\n      register: web_instances\n\n    # Add instances to inventory\n    - name: Add web servers to inventory\n      add_host:\n        name: \u0026quot;{{ item.instances[0].tags.Name }}\u0026quot;\n        hostname: \u0026quot;{{ item.instances[0].public_ip_address }}\u0026quot;\n        groups: webservers\n        ansible_ssh_private_key_file: \u0026quot;~/.ssh/{{ ec2_key_name }}.pem\u0026quot;\n        ansible_user: ec2-user\n      loop: \u0026quot;{{ web_instances.results }}\u0026quot;\n      changed_when: false\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"kubernetes-cluster-management\" class=\"mobile-header\"\u003eKubernetes Cluster Management\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; playbooks/k8s-cluster-management.yml \u0026lt;\u0026lt;EOF\n---\n- name: Kubernetes Cluster Management with Ansible\n  hosts: k8s_masters\n  become: yes\n  serial: 1\n  vars:\n    k8s_version: \u0026quot;1.28.2\u0026quot;\n    containerd_version: \u0026quot;1.6.24\u0026quot;\n    cni_version: \u0026quot;1.3.0\u0026quot;\n\n  tasks:\n    # Pre-flight checks\n    - name: Check system requirements\n      assert:\n        that:\n          - ansible_memtotal_mb \u0026gt;= 1700\n          - ansible_processor_cores \u0026gt;= 2\n        fail_msg: \u0026quot;System doesn\u0026#039;t meet minimum requirements\u0026quot;\n\n    - name: Verify connectivity to all nodes\n      ping:\n      delegate_to: \u0026quot;{{ item }}\u0026quot;\n      loop: \u0026quot;{{ groups[\u0026#039;k8s_all\u0026#039;] }}\u0026quot;\n\n    # Container runtime setup\n    - name: Install containerd\n      include_role:\n        name: containerd\n      vars:\n        containerd_version: \u0026quot;{{ containerd_version }}\u0026quot;\n\n    # Kubernetes installation\n    - name: Install Kubernetes components\n      include_role:\n        name: kubernetes\n      vars:\n        kubernetes_version: \u0026quot;{{ k8s_version }}\u0026quot;\n\n    # Cluster initialization\n    - name: Initialize Kubernetes cluster\n      shell: |\n        kubeadm init \\\n          --pod-network-cidr=10.244.0.0/16 \\\n          --service-cidr=10.96.0.0/12 \\\n          --apiserver-advertise-address={{ ansible_default_ipv4.address }} \\\n          --node-name={{ inventory_hostname }}\n      args:\n        creates: /etc/kubernetes/admin.conf\n      register: kubeadm_init\n\n    - name: Create .kube directory\n      file:\n        path: \u0026quot;{{ ansible_env.HOME }}/.kube\u0026quot;\n        state: directory\n        mode: \u0026#039;0755\u0026#039;\n\n    - name: Copy admin.conf to user\u0026#039;s kube config\n      copy:\n        src: /etc/kubernetes/admin.conf\n        dest: \u0026quot;{{ ansible_env.HOME }}/.kube/config\u0026quot;\n        owner: \u0026quot;{{ ansible_user }}\u0026quot;\n        group: \u0026quot;{{ ansible_user }}\u0026quot;\n        mode: \u0026#039;0644\u0026#039;\n        remote_src: yes\n\n    # Network plugin installation\n    - name: Install Flannel CNI\n      shell: kubectl apply -f https://github.com/flannel-io/flannel/releases/latest/download/kube-flannel.yml\n      environment:\n        KUBECONFIG: \u0026quot;{{ ansible_env.HOME }}/.kube/config\u0026quot;\n\n    # Join worker nodes\n    - name: Get join command\n      shell: kubeadm token create --print-join-command\n      register: join_command\n      when: inventory_hostname in groups[\u0026#039;k8s_masters\u0026#039;][0]\n\n    - name: Join worker nodes to cluster\n      shell: \u0026quot;{{ hostvars[groups[\u0026#039;k8s_masters\u0026#039;][0]][\u0026#039;join_command\u0026#039;].stdout }}\u0026quot;\n      when: inventory_hostname in groups[\u0026#039;k8s_workers\u0026#039;]\n\n  post_tasks:\n    - name: Verify cluster status\n      shell: kubectl get nodes\n      environment:\n        KUBECONFIG: \u0026quot;{{ ansible_env.HOME }}/.kube/config\u0026quot;\n      register: cluster_status\n      when: inventory_hostname in groups[\u0026#039;k8s_masters\u0026#039;][0]\n\n    - name: Display cluster status\n      debug:\n        var: cluster_status.stdout_lines\n      when: inventory_hostname in groups[\u0026#039;k8s_masters\u0026#039;][0]\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"performance-optimization\" class=\"mobile-header\"\u003ePerformance Optimization\u003c/h2\u003e\n\u003ch3 id=\"system-level-tuning\" class=\"mobile-header\"\u003eSystem-Level Tuning\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Optimize control machine for Ansible performance\n# Kernel parameters for network performance\nsudo tee -a /etc/sysctl.conf \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n# Ansible performance optimization\nnet.core.somaxconn = 8192\nnet.core.netdev_max_backlog = 5000\nnet.ipv4.tcp_max_syn_backlog = 8192\nnet.ipv4.tcp_max_tw_buckets = 400000\nnet.ipv4.tcp_tw_reuse = 1\nnet.ipv4.tcp_fin_timeout = 10\nnet.ipv4.ip_local_port_range = 1024 65535\nnet.core.rmem_default = 262144\nnet.core.rmem_max = 16777216\nnet.core.wmem_default = 262144\nnet.core.wmem_max = 16777216\nfs.file-max = 100000\nEOF\n\nsudo sysctl -p\n\n# Set resource limits for Ansible user\nsudo tee -a /etc/security/limits.conf \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\nansible soft nofile 65536\nansible hard nofile 65536\nansible soft nproc 32768\nansible hard nproc 32768\nEOF\n\n# SSH client optimization\nmkdir -p ~/.ssh\ncat \u0026gt;\u0026gt; ~/.ssh/config \u0026lt;\u0026lt;EOF\nHost *\n    ControlMaster auto\n    ControlPersist 3600\n    ControlPath ~/.ssh/sockets/%r@%h-%p\n    Compression yes\n    ServerAliveInterval 60\n    ServerAliveCountMax 3\n    TCPKeepAlive yes\n    ConnectTimeout 10\n    StrictHostKeyChecking yes\n    UserKnownHostsFile ~/.ssh/known_hosts\nEOF\n\nmkdir -p ~/.ssh/sockets\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"ansible-performance-configuration\" class=\"mobile-header\"\u003eAnsible Performance Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# High-performance ansible.cfg\ncat \u0026gt; ansible-performance.cfg \u0026lt;\u0026lt;EOF\n[defaults]\n# Core performance settings\nforks = 50\npoll_interval = 1\ninternal_poll_interval = 0.001\ntimeout = 30\nhost_key_checking = True\ngather_timeout = 30\ngathering = smart\nfact_caching = redis\nfact_caching_connection = localhost:6379:0\nfact_caching_timeout = 86400\ncache_plugins = memory\n\n# Callback and display optimization\nstdout_callback = yaml\ncallbacks_enabled = timer, profile_tasks, profile_roles\ndisplay_skipped_hosts = False\ndisplay_ok_hosts = False\ndisplay_failed_stderr = True\n\n# SSH optimization\n[ssh_connection]\nssh_args = -o ControlMaster=auto -o ControlPersist=3600s -o PreferredAuthentications=publickey -o Compression=yes\npipelining = True\ncontrol_path = ~/.ansible/sockets/%%h-%%p-%%r\nretries = 3\nssh_executable = /usr/bin/ssh\n\n# Connection persistence\n[persistent_connection]\nconnect_timeout = 30\nconnect_retry_timeout = 15\ncommand_timeout = 30\n\n# Privilege escalation optimization\n[privilege_escalation]\nbecome_plugins = sudo, su, pbrun, pfexec, doas, dzdo, ksu, runas, machinectl\nbecome_allow_same_user = False\nbecome_ask_pass = False\nEOF\n\n# Use Redis for fact caching (install Redis first)\nsudo apt install -y redis-server  # or relevant package manager\npip install redis\n\n# Create performance monitoring script\ncat \u0026gt; ansible-performance-monitor.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\n# Monitor Ansible performance metrics\n\nPLAYBOOK=\u0026quot;$1\u0026quot;\nif [ -z \u0026quot;$PLAYBOOK\u0026quot; ]; then\n    echo \u0026quot;Usage: $0 \u0026lt;playbook\u0026gt;\u0026quot;\n    exit 1\nfi\n\n# Enable profiling\nexport ANSIBLE_CALLBACK_PLUGINS=\u0026quot;~/.ansible/plugins/callback\u0026quot;\nexport ANSIBLE_CALLBACKS_ENABLED=\u0026quot;timer,profile_tasks,profile_roles\u0026quot;\n\n# Monitor system resources during playbook execution\n(\n    while pgrep -f ansible-playbook \u0026gt; /dev/null; do\n        echo \u0026quot;$(date): CPU: $(top -bn1 | grep \u0026quot;Cpu(s)\u0026quot; | awk \u0026#039;{print $2}\u0026#039;), Memory: $(free -m | awk \u0026#039;NR==2{printf \u0026quot;%.1f%%\u0026quot;, $3*100/$2 }\u0026#039;)\u0026quot;\n        sleep 5\n    done\n) \u0026amp;\n\n# Run playbook with timing\ntime ansible-playbook \u0026quot;$PLAYBOOK\u0026quot; --diff\n\n# Kill monitoring\npkill -P $$\nEOF\n\nchmod +x ansible-performance-monitor.sh\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"parallel-execution-strategies\" class=\"mobile-header\"\u003eParallel Execution Strategies\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create high-performance playbook configuration\ncat \u0026gt; playbooks/high-performance-deployment.yml \u0026lt;\u0026lt;EOF\n---\n- name: High-Performance Deployment\n  hosts: all\n  become: yes\n  strategy: free  # Parallel execution\n  serial: \u0026quot;30%\u0026quot;   # Process 30% of hosts at a time\n  max_fail_percentage: 10\n  gather_facts: yes\n  fact_caching: smart\n  vars:\n    deployment_batch_size: 10\n    max_concurrent_tasks: 50\n\n  pre_tasks:\n    - name: Check system load\n      shell: uptime | awk \u0026#039;{print $(NF-2)}\u0026#039; | sed \u0026#039;s/,//\u0026#039;\n      register: system_load\n      changed_when: false\n\n    - name: Skip high-load systems\n      meta: end_host\n      when: system_load.stdout | float \u0026gt; 5.0\n\n  tasks:\n    - name: Update packages with retries\n      package:\n        name: \u0026quot;*\u0026quot;\n        state: latest\n      retries: 3\n      delay: 30\n      async: 300\n      poll: 10\n\n    - name: Deploy configuration files in parallel\n      template:\n        src: \u0026quot;{{ item.src }}\u0026quot;\n        dest: \u0026quot;{{ item.dest }}\u0026quot;\n        mode: \u0026quot;{{ item.mode | default(\u0026#039;0644\u0026#039;) }}\u0026quot;\n        backup: yes\n      loop:\n        - { src: \u0026quot;nginx.conf.j2\u0026quot;, dest: \u0026quot;/etc/nginx/nginx.conf\u0026quot; }\n        - { src: \u0026quot;mysql.cnf.j2\u0026quot;, dest: \u0026quot;/etc/mysql/my.cnf\u0026quot; }\n        - { src: \u0026quot;redis.conf.j2\u0026quot;, dest: \u0026quot;/etc/redis/redis.conf\u0026quot; }\n      async: 120\n      poll: 5\n      register: config_deployment\n\n    - name: Wait for all configuration deployments\n      async_status:\n        jid: \u0026quot;{{ item.ansible_job_id }}\u0026quot;\n      loop: \u0026quot;{{ config_deployment.results }}\u0026quot;\n      when: item.ansible_job_id is defined\n\n  handlers:\n    - name: restart services\n      service:\n        name: \u0026quot;{{ item }}\u0026quot;\n        state: restarted\n      loop:\n        - nginx\n        - mysql\n        - redis\n      listen: \u0026quot;restart all services\u0026quot;\nEOF\n\n# Performance monitoring playbook\ncat \u0026gt; playbooks/performance-monitoring.yml \u0026lt;\u0026lt;EOF\n---\n- name: Performance Monitoring Setup\n  hosts: all\n  become: yes\n  vars:\n    monitoring_tools:\n      - htop\n      - iotop\n      - nethogs\n      - dstat\n      - sysstat\n      - perf\n\n  tasks:\n    - name: Install performance monitoring tools\n      package:\n        name: \u0026quot;{{ monitoring_tools }}\u0026quot;\n        state: present\n\n    - name: Configure system monitoring\n      template:\n        src: templates/sysstat.j2\n        dest: /etc/default/sysstat\n        backup: yes\n      when: ansible_os_family == \u0026quot;Debian\u0026quot;\n\n    - name: Enable system statistics collection\n      service:\n        name: \u0026quot;{{ \u0026#039;sysstat\u0026#039; if ansible_os_family == \u0026#039;Debian\u0026#039; else \u0026#039;sysstat\u0026#039; }}\u0026quot;\n        enabled: yes\n        state: started\n\n    - name: Create performance monitoring script\n      template:\n        src: templates/performance-monitor.sh.j2\n        dest: /usr/local/bin/performance-monitor.sh\n        mode: \u0026#039;0755\u0026#039;\n\n    - name: Schedule performance monitoring\n      cron:\n        name: \u0026quot;Performance monitoring\u0026quot;\n        minute: \u0026quot;*/5\u0026quot;\n        job: \u0026quot;/usr/local/bin/performance-monitor.sh\u0026quot;\n        user: root\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"reverse-proxy-setup\" class=\"mobile-header\"\u003eReverse Proxy Setup\u003c/h2\u003e\n\u003ch3 id=\"nginx-configuration-for-ansible-awxtower\" class=\"mobile-header\"\u003enginx Configuration for Ansible AWX/Tower\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"nginx\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003enginx\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-nginx\"\u003e# /etc/nginx/sites-available/ansible-awx\nupstream ansible_awx {\n    server 127.0.0.1:8080;\n    server 127.0.0.1:8081 backup;\n}\n\nserver {\n    listen 80;\n    listen [::]:80;\n    server_name ansible.example.com;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    listen [::]:443 ssl http2;\n    server_name ansible.example.com;\n\n    # SSL Configuration\n    ssl_certificate /etc/ssl/certs/ansible.example.com.crt;\n    ssl_certificate_key /etc/ssl/private/ansible.example.com.key;\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384;\n    ssl_prefer_server_ciphers off;\n\n    # Security headers\n    add_header X-Frame-Options DENY;\n    add_header X-Content-Type-Options nosniff;\n    add_header X-XSS-Protection \u0026quot;1; mode=block\u0026quot;;\n    add_header Strict-Transport-Security \u0026quot;max-age=63072000; includeSubDomains; preload\u0026quot;;\n\n    location / {\n        proxy_pass http://ansible_awx;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        proxy_buffering off;\n        proxy_request_buffering off;\n    }\n\n    # WebSocket support\n    location /websocket/ {\n        proxy_pass http://ansible_awx;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \u0026quot;upgrade\u0026quot;;\n        proxy_set_header Host $host;\n        proxy_cache_bypass $http_upgrade;\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"haproxy-configuration\" class=\"mobile-header\"\u003eHAProxy Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"haproxy\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ehaproxy\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-haproxy\"\u003e# /etc/haproxy/haproxy.cfg\nglobal\n    daemon\n    chroot /var/lib/haproxy\n    user haproxy\n    group haproxy\n    log stdout local0 info\n\ndefaults\n    mode http\n    timeout connect 5000ms\n    timeout client 50000ms\n    timeout server 50000ms\n    option httplog\n\nfrontend ansible_frontend\n    bind *:80\n    bind *:443 ssl crt /etc/ssl/certs/ansible.pem\n    redirect scheme https if !{ ssl_fc }\n    default_backend ansible_backend\n\nbackend ansible_backend\n    balance roundrobin\n    option httpchk GET /api/v2/ping/\n    server awx1 127.0.0.1:8080 check\n    server awx2 127.0.0.1:8081 check backup\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"apache-configuration\" class=\"mobile-header\"\u003eApache Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"apache\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eapache\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-apache\"\u003e# /etc/apache2/sites-available/ansible-awx.conf\n\u0026lt;VirtualHost *:80\u0026gt;\n    ServerName ansible.example.com\n    Redirect permanent / https://ansible.example.com/\n\u0026lt;/VirtualHost\u0026gt;\n\n\u0026lt;VirtualHost *:443\u0026gt;\n    ServerName ansible.example.com\n    \n    SSLEngine on\n    SSLCertificateFile /etc/ssl/certs/ansible.example.com.crt\n    SSLCertificateKeyFile /etc/ssl/private/ansible.example.com.key\n    \n    # Security headers\n    Header always set X-Frame-Options DENY\n    Header always set X-Content-Type-Options nosniff\n    Header always set X-XSS-Protection \u0026quot;1; mode=block\u0026quot;\n    Header always set Strict-Transport-Security \u0026quot;max-age=63072000; includeSubDomains; preload\u0026quot;\n    \n    ProxyRequests Off\n    ProxyPreserveHost On\n    \n    ProxyPass /websocket/ ws://127.0.0.1:8080/websocket/\n    ProxyPassReverse /websocket/ ws://127.0.0.1:8080/websocket/\n    \n    ProxyPass / http://127.0.0.1:8080/\n    ProxyPassReverse / http://127.0.0.1:8080/\n\u0026lt;/VirtualHost\u0026gt;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"monitoring\" class=\"mobile-header\"\u003eMonitoring\u003c/h2\u003e\n\u003ch3 id=\"built-in-monitoring-and-logging\" class=\"mobile-header\"\u003eBuilt-in Monitoring and Logging\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create comprehensive monitoring playbook\ncat \u0026gt; playbooks/ansible-monitoring.yml \u0026lt;\u0026lt;EOF\n---\n- name: Ansible Infrastructure Monitoring\n  hosts: all\n  become: yes\n  vars:\n    monitoring_tools:\n      - name: prometheus\n        port: 9090\n      - name: grafana\n        port: 3000\n      - name: alertmanager\n        port: 9093\n    \n    log_paths:\n      - /var/log/ansible\n      - /var/log/awx\n      - /var/log/syslog\n      - /var/log/auth.log\n\n  tasks:\n    # Install monitoring agents\n    - name: Install Prometheus Node Exporter\n      get_url:\n        url: https://github.com/prometheus/node_exporter/releases/download/v1.6.1/node_exporter-1.6.1.linux-amd64.tar.gz\n        dest: /tmp/node_exporter.tar.gz\n        mode: \u0026#039;0644\u0026#039;\n\n    - name: Extract Node Exporter\n      unarchive:\n        src: /tmp/node_exporter.tar.gz\n        dest: /opt/\n        remote_src: yes\n        creates: /opt/node_exporter-1.6.1.linux-amd64\n\n    - name: Create node_exporter user\n      user:\n        name: node_exporter\n        system: yes\n        shell: /bin/false\n        home: /var/lib/node_exporter\n\n    - name: Install Node Exporter binary\n      copy:\n        src: /opt/node_exporter-1.6.1.linux-amd64/node_exporter\n        dest: /usr/local/bin/node_exporter\n        mode: \u0026#039;0755\u0026#039;\n        owner: node_exporter\n        group: node_exporter\n        remote_src: yes\n\n    - name: Create Node Exporter service\n      template:\n        src: templates/node_exporter.service.j2\n        dest: /etc/systemd/system/node_exporter.service\n      notify: restart node_exporter\n\n    - name: Enable and start Node Exporter\n      systemd:\n        name: node_exporter\n        state: started\n        enabled: yes\n        daemon_reload: yes\n\n    # Log monitoring setup\n    - name: Install rsyslog for centralized logging\n      package:\n        name: rsyslog\n        state: present\n\n    - name: Configure rsyslog for Ansible logs\n      template:\n        src: templates/ansible-rsyslog.conf.j2\n        dest: /etc/rsyslog.d/50-ansible.conf\n        backup: yes\n      notify: restart rsyslog\n\n    # Create monitoring scripts\n    - name: Create Ansible health check script\n      template:\n        src: templates/ansible-health-check.sh.j2\n        dest: /usr/local/bin/ansible-health-check.sh\n        mode: \u0026#039;0755\u0026#039;\n\n    - name: Schedule health checks\n      cron:\n        name: \u0026quot;Ansible health check\u0026quot;\n        minute: \u0026quot;*/5\u0026quot;\n        job: \u0026quot;/usr/local/bin/ansible-health-check.sh\u0026quot;\n        user: root\n\n  handlers:\n    - name: restart node_exporter\n      systemd:\n        name: node_exporter\n        state: restarted\n\n    - name: restart rsyslog\n      systemd:\n        name: rsyslog\n        state: restarted\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"prometheus-configuration-for-ansible\" class=\"mobile-header\"\u003ePrometheus Configuration for Ansible\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"yaml\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eyaml\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e# prometheus.yml\nglobal:\n  scrape_interval: 15s\n  evaluation_interval: 15s\n\nrule_files:\n  - \u0026quot;ansible_rules.yml\u0026quot;\n\nalerting:\n  alertmanagers:\n    - static_configs:\n        - targets:\n          - alertmanager:9093\n\nscrape_configs:\n  - job_name: \u0026#039;ansible-nodes\u0026#039;\n    static_configs:\n      - targets:\n        - \u0026#039;ansible-control:9100\u0026#039;\n        - \u0026#039;web-01:9100\u0026#039;\n        - \u0026#039;web-02:9100\u0026#039;\n        - \u0026#039;db-01:9100\u0026#039;\n\n  - job_name: \u0026#039;ansible-awx\u0026#039;\n    static_configs:\n      - targets:\n        - \u0026#039;awx-web:8080\u0026#039;\n        - \u0026#039;awx-task:8080\u0026#039;\n    metrics_path: \u0026#039;/api/v2/metrics/\u0026#039;\n    scrape_interval: 30s\n\n  - job_name: \u0026#039;node-exporter\u0026#039;\n    static_configs:\n      - targets:\n        - \u0026#039;node1:9100\u0026#039;\n        - \u0026#039;node2:9100\u0026#039;\n        - \u0026#039;node3:9100\u0026#039;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"grafana-dashboard-configuration\" class=\"mobile-header\"\u003eGrafana Dashboard Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"json\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ejson\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-json\"\u003e{\n  \u0026quot;dashboard\u0026quot;: {\n    \u0026quot;title\u0026quot;: \u0026quot;Ansible Infrastructure Monitoring\u0026quot;,\n    \u0026quot;panels\u0026quot;: [\n      {\n        \u0026quot;title\u0026quot;: \u0026quot;Ansible Job Success Rate\u0026quot;,\n        \u0026quot;type\u0026quot;: \u0026quot;stat\u0026quot;,\n        \u0026quot;targets\u0026quot;: [\n          {\n            \u0026quot;expr\u0026quot;: \u0026quot;(ansible_job_successful_total / ansible_job_total) * 100\u0026quot;,\n            \u0026quot;legendFormat\u0026quot;: \u0026quot;Success Rate %\u0026quot;\n          }\n        ]\n      },\n      {\n        \u0026quot;title\u0026quot;: \u0026quot;Node Resource Usage\u0026quot;,\n        \u0026quot;type\u0026quot;: \u0026quot;graph\u0026quot;,\n        \u0026quot;targets\u0026quot;: [\n          {\n            \u0026quot;expr\u0026quot;: \u0026quot;100 - (avg(rate(node_cpu_seconds_total{mode=\\\u0026quot;idle\\\u0026quot;}[5m])) * 100)\u0026quot;,\n            \u0026quot;legendFormat\u0026quot;: \u0026quot;CPU Usage %\u0026quot;\n          },\n          {\n            \u0026quot;expr\u0026quot;: \u0026quot;(1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes)) * 100\u0026quot;,\n            \u0026quot;legendFormat\u0026quot;: \u0026quot;Memory Usage %\u0026quot;\n          }\n        ]\n      }\n    ]\n  }\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"integration-examples\" class=\"mobile-header\"\u003eIntegration Examples\u003c/h2\u003e\n\u003ch3 id=\"python-integration-with-ansible\" class=\"mobile-header\"\u003ePython Integration with Ansible\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"python\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epython\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-python\"\u003e#!/usr/bin/env python3\n# ansible_integration.py\n\nimport ansible_runner\nimport subprocess\nimport json\nimport os\nfrom pathlib import Path\n\nclass AnsibleManager:\n    def __init__(self, project_dir, inventory_path):\n        self.project_dir = Path(project_dir)\n        self.inventory_path = inventory_path\n        self.private_data_dir = self.project_dir / \u0026#039;runner_data\u0026#039;\n        \n    def run_playbook(self, playbook_name, extra_vars=None, limit=None):\n        \u0026quot;\u0026quot;\u0026quot;Run an Ansible playbook with error handling\u0026quot;\u0026quot;\u0026quot;\n        try:\n            result = ansible_runner.run(\n                private_data_dir=str(self.private_data_dir),\n                playbook=playbook_name,\n                inventory=self.inventory_path,\n                extravars=extra_vars or {},\n                limit=limit,\n                verbosity=1\n            )\n            \n            return {\n                \u0026#039;status\u0026#039;: result.status,\n                \u0026#039;rc\u0026#039;: result.rc,\n                \u0026#039;stdout\u0026#039;: result.stdout.read() if result.stdout else \u0026#039;\u0026#039;,\n                \u0026#039;stats\u0026#039;: result.stats\n            }\n        except Exception as e:\n            return {\u0026#039;status\u0026#039;: \u0026#039;failed\u0026#039;, \u0026#039;error\u0026#039;: str(e)}\n    \n    def run_ad_hoc_command(self, module, module_args, hosts=\u0026#039;all\u0026#039;):\n        \u0026quot;\u0026quot;\u0026quot;Run ad-hoc Ansible commands\u0026quot;\u0026quot;\u0026quot;\n        try:\n            result = ansible_runner.run(\n                private_data_dir=str(self.private_data_dir),\n                inventory=self.inventory_path,\n                module=module,\n                module_args=module_args,\n                host_pattern=hosts\n            )\n            \n            return {\n                \u0026#039;status\u0026#039;: result.status,\n                \u0026#039;rc\u0026#039;: result.rc,\n                \u0026#039;events\u0026#039;: [event for event in result.events if event[\u0026#039;event\u0026#039;] == \u0026#039;runner_on_ok\u0026#039;]\n            }\n        except Exception as e:\n            return {\u0026#039;status\u0026#039;: \u0026#039;failed\u0026#039;, \u0026#039;error\u0026#039;: str(e)}\n    \n    def get_inventory_info(self):\n        \u0026quot;\u0026quot;\u0026quot;Get inventory information\u0026quot;\u0026quot;\u0026quot;\n        cmd = [\u0026#039;ansible-inventory\u0026#039;, \u0026#039;-i\u0026#039;, self.inventory_path, \u0026#039;--list\u0026#039;]\n        try:\n            result = subprocess.run(cmd, capture_output=True, text=True, check=True)\n            return json.loads(result.stdout)\n        except subprocess.CalledProcessError as e:\n            return {\u0026#039;error\u0026#039;: e.stderr}\n\n# Example usage\nif __name__ == \u0026#039;__main__\u0026#039;:\n    ansible_mgr = AnsibleManager(\n        project_dir=\u0026#039;/home/ansible/infrastructure\u0026#039;,\n        inventory_path=\u0026#039;inventories/production/hosts.yml\u0026#039;\n    )\n    \n    # Run a playbook\n    result = ansible_mgr.run_playbook(\n        \u0026#039;site.yml\u0026#039;,\n        extra_vars={\u0026#039;environment\u0026#039;: \u0026#039;production\u0026#039;},\n        limit=\u0026#039;webservers\u0026#039;\n    )\n    print(f\u0026quot;Playbook execution: {result[\u0026#039;status\u0026#039;]}\u0026quot;)\n    \n    # Run ad-hoc command\n    ping_result = ansible_mgr.run_ad_hoc_command(\u0026#039;ping\u0026#039;, \u0026#039;\u0026#039;, \u0026#039;all\u0026#039;)\n    print(f\u0026quot;Ping test: {ping_result[\u0026#039;status\u0026#039;]}\u0026quot;)\n    \n    # Get inventory info\n    inventory = ansible_mgr.get_inventory_info()\n    print(f\u0026quot;Managed hosts: {len(inventory.get(\u0026#039;_meta\u0026#039;, {}).get(\u0026#039;hostvars\u0026#039;, {}))}\u0026quot;)\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"nodejs-integration\" class=\"mobile-header\"\u003eNode.js Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"javascript\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ejavascript\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e// ansible_integration.js\nconst { spawn, exec } = require(\u0026#039;child_process\u0026#039;);\nconst path = require(\u0026#039;path\u0026#039;);\nconst fs = require(\u0026#039;fs\u0026#039;).promises;\n\nclass AnsibleManager {\n    constructor(projectDir, inventoryPath) {\n        this.projectDir = projectDir;\n        this.inventoryPath = inventoryPath;\n    }\n    \n    async runPlaybook(playbookName, options = {}) {\n        return new Promise((resolve, reject) =\u0026gt; {\n            const args = [\n                \u0026#039;ansible-playbook\u0026#039;,\n                \u0026#039;-i\u0026#039;, this.inventoryPath,\n                path.join(this.projectDir, \u0026#039;playbooks\u0026#039;, playbookName)\n            ];\n            \n            if (options.limit) {\n                args.push(\u0026#039;--limit\u0026#039;, options.limit);\n            }\n            \n            if (options.extraVars) {\n                args.push(\u0026#039;--extra-vars\u0026#039;, JSON.stringify(options.extraVars));\n            }\n            \n            if (options.check) {\n                args.push(\u0026#039;--check\u0026#039;);\n            }\n            \n            const process = spawn(args[0], args.slice(1), {\n                cwd: this.projectDir,\n                stdio: [\u0026#039;pipe\u0026#039;, \u0026#039;pipe\u0026#039;, \u0026#039;pipe\u0026#039;]\n            });\n            \n            let stdout = \u0026#039;\u0026#039;;\n            let stderr = \u0026#039;\u0026#039;;\n            \n            process.stdout.on(\u0026#039;data\u0026#039;, (data) =\u0026gt; {\n                stdout += data.toString();\n            });\n            \n            process.stderr.on(\u0026#039;data\u0026#039;, (data) =\u0026gt; {\n                stderr += data.toString();\n            });\n            \n            process.on(\u0026#039;close\u0026#039;, (code) =\u0026gt; {\n                resolve({\n                    exitCode: code,\n                    stdout: stdout,\n                    stderr: stderr,\n                    success: code === 0\n                });\n            });\n            \n            process.on(\u0026#039;error\u0026#039;, reject);\n        });\n    }\n    \n    async runAdHocCommand(module, args, hosts = \u0026#039;all\u0026#039;) {\n        return new Promise((resolve, reject) =\u0026gt; {\n            const command = `ansible ${hosts} -i ${this.inventoryPath} -m ${module} -a \u0026quot;${args}\u0026quot;`;\n            \n            exec(command, { cwd: this.projectDir }, (error, stdout, stderr) =\u0026gt; {\n                if (error) {\n                    reject({ error, stderr });\n                } else {\n                    resolve({ stdout, stderr });\n                }\n            });\n        });\n    }\n    \n    async getInventoryInfo() {\n        return new Promise((resolve, reject) =\u0026gt; {\n            const command = `ansible-inventory -i ${this.inventoryPath} --list`;\n            \n            exec(command, { cwd: this.projectDir }, (error, stdout, stderr) =\u0026gt; {\n                if (error) {\n                    reject({ error, stderr });\n                } else {\n                    try {\n                        resolve(JSON.parse(stdout));\n                    } catch (parseError) {\n                        reject({ error: parseError, stdout });\n                    }\n                }\n            });\n        });\n    }\n}\n\n// Example usage\nasync function main() {\n    const ansible = new AnsibleManager(\u0026#039;/home/ansible/infrastructure\u0026#039;, \u0026#039;inventories/production/hosts.yml\u0026#039;);\n    \n    try {\n        // Run playbook\n        const result = await ansible.runPlaybook(\u0026#039;site.yml\u0026#039;, {\n            limit: \u0026#039;webservers\u0026#039;,\n            extraVars: { environment: \u0026#039;production\u0026#039; },\n            check: true\n        });\n        console.log(\u0026#039;Playbook check result:\u0026#039;, result.success);\n        \n        // Run ad-hoc command\n        const pingResult = await ansible.runAdHocCommand(\u0026#039;ping\u0026#039;, \u0026#039;\u0026#039;, \u0026#039;all\u0026#039;);\n        console.log(\u0026#039;Ping result:\u0026#039;, pingResult.stdout);\n        \n        // Get inventory\n        const inventory = await ansible.getInventoryInfo();\n        console.log(\u0026#039;Inventory hosts:\u0026#039;, Object.keys(inventory._meta.hostvars).length);\n        \n    } catch (error) {\n        console.error(\u0026#039;Error:\u0026#039;, error);\n    }\n}\n\nif (require.main === module) {\n    main();\n}\n\nmodule.exports = AnsibleManager;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"rest-api-integration\" class=\"mobile-header\"\u003eREST API Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"python\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epython\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-python\"\u003e#!/usr/bin/env python3\n# ansible_rest_api.py\n\nfrom flask import Flask, request, jsonify\nimport ansible_runner\nimport tempfile\nimport os\nimport yaml\nfrom pathlib import Path\n\napp = Flask(__name__)\n\nclass AnsibleAPI:\n    def __init__(self, base_dir):\n        self.base_dir = Path(base_dir)\n        self.inventory_file = self.base_dir / \u0026#039;inventory\u0026#039; / \u0026#039;hosts.yml\u0026#039;\n        \n    def execute_playbook(self, playbook_content, inventory_data, extra_vars=None):\n        \u0026quot;\u0026quot;\u0026quot;Execute a playbook with given inventory and variables\u0026quot;\u0026quot;\u0026quot;\n        with tempfile.TemporaryDirectory() as tmpdir:\n            tmpdir = Path(tmpdir)\n            \n            # Write playbook\n            playbook_file = tmpdir / \u0026#039;playbook.yml\u0026#039;\n            with open(playbook_file, \u0026#039;w\u0026#039;) as f:\n                yaml.dump(playbook_content, f, default_flow_style=False)\n            \n            # Write inventory\n            inventory_file = tmpdir / \u0026#039;inventory.yml\u0026#039;\n            with open(inventory_file, \u0026#039;w\u0026#039;) as f:\n                yaml.dump(inventory_data, f, default_flow_style=False)\n            \n            # Run playbook\n            result = ansible_runner.run(\n                private_data_dir=str(tmpdir),\n                playbook=\u0026#039;playbook.yml\u0026#039;,\n                inventory=str(inventory_file),\n                extravars=extra_vars or {}\n            )\n            \n            return {\n                \u0026#039;status\u0026#039;: result.status,\n                \u0026#039;rc\u0026#039;: result.rc,\n                \u0026#039;stats\u0026#039;: result.stats,\n                \u0026#039;events\u0026#039;: [e for e in result.events if e[\u0026#039;event\u0026#039;] == \u0026#039;playbook_on_stats\u0026#039;]\n            }\n\nansible_api = AnsibleAPI(\u0026#039;/home/ansible\u0026#039;)\n\n@app.route(\u0026#039;/api/playbook/run\u0026#039;, methods=[\u0026#039;POST\u0026#039;])\ndef run_playbook():\n    try:\n        data = request.get_json()\n        \n        playbook = data.get(\u0026#039;playbook\u0026#039;)\n        inventory = data.get(\u0026#039;inventory\u0026#039;)\n        extra_vars = data.get(\u0026#039;extra_vars\u0026#039;, {})\n        \n        if not playbook or not inventory:\n            return jsonify({\u0026#039;error\u0026#039;: \u0026#039;playbook and inventory are required\u0026#039;}), 400\n            \n        result = ansible_api.execute_playbook(playbook, inventory, extra_vars)\n        \n        return jsonify({\n            \u0026#039;success\u0026#039;: result[\u0026#039;status\u0026#039;] == \u0026#039;successful\u0026#039;,\n            \u0026#039;status\u0026#039;: result[\u0026#039;status\u0026#039;],\n            \u0026#039;return_code\u0026#039;: result[\u0026#039;rc\u0026#039;],\n            \u0026#039;stats\u0026#039;: result[\u0026#039;stats\u0026#039;]\n        })\n        \n    except Exception as e:\n        return jsonify({\u0026#039;error\u0026#039;: str(e)}), 500\n\n@app.route(\u0026#039;/api/inventory\u0026#039;, methods=[\u0026#039;GET\u0026#039;])\ndef get_inventory():\n    try:\n        with open(ansible_api.inventory_file, \u0026#039;r\u0026#039;) as f:\n            inventory = yaml.safe_load(f)\n        return jsonify(inventory)\n    except Exception as e:\n        return jsonify({\u0026#039;error\u0026#039;: str(e)}), 500\n\n@app.route(\u0026#039;/api/health\u0026#039;, methods=[\u0026#039;GET\u0026#039;])\ndef health_check():\n    return jsonify({\n        \u0026#039;status\u0026#039;: \u0026#039;healthy\u0026#039;,\n        \u0026#039;ansible_version\u0026#039;: \u0026#039;2.15.0\u0026#039;,  # This should be dynamic\n        \u0026#039;base_dir\u0026#039;: str(ansible_api.base_dir)\n    })\n\nif __name__ == \u0026#039;__main__\u0026#039;:\n    app.run(host=\u0026#039;0.0.0.0\u0026#039;, port=5000, debug=False)\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"maintenance\" class=\"mobile-header\"\u003eMaintenance\u003c/h2\u003e\n\u003ch3 id=\"regular-maintenance-tasks\" class=\"mobile-header\"\u003eRegular Maintenance Tasks\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# ansible-maintenance.sh - Comprehensive maintenance script\n\n# Set variables\nANSIBLE_HOME=\u0026quot;/home/ansible\u0026quot;\nLOG_FILE=\u0026quot;/var/log/ansible-maintenance.log\u0026quot;\nBACKUP_DIR=\u0026quot;/backup/ansible\u0026quot;\nDATE=$(date +\u0026quot;%Y%m%d_%H%M%S\u0026quot;)\n\n# Logging function\nlog() {\n    echo \u0026quot;[$(date \u0026#039;+%Y-%m-%d %H:%M:%S\u0026#039;)] $1\u0026quot; | tee -a \u0026quot;$LOG_FILE\u0026quot;\n}\n\nlog \u0026quot;Starting Ansible maintenance tasks\u0026quot;\n\n# 1. Update Ansible and collections\nlog \u0026quot;Updating Ansible and collections\u0026quot;\npip install --upgrade ansible ansible-core\nansible-galaxy collection install --upgrade community.general\nansible-galaxy collection install --upgrade ansible.posix\nansible-galaxy collection install --upgrade kubernetes.core\n\n# 2. Clean up old logs\nlog \u0026quot;Cleaning up old log files\u0026quot;\nfind \u0026quot;$ANSIBLE_HOME/logs\u0026quot; -type f -name \u0026quot;*.log\u0026quot; -mtime +30 -delete\nfind /var/log/ansible -type f -name \u0026quot;*.log\u0026quot; -mtime +30 -delete\n\n# 3. Update facts cache\nlog \u0026quot;Refreshing facts cache\u0026quot;\nansible all -m setup --tree /tmp/facts_cache/\n\n# 4. Validate all playbooks\nlog \u0026quot;Validating playbooks syntax\u0026quot;\nfind \u0026quot;$ANSIBLE_HOME/playbooks\u0026quot; -name \u0026quot;*.yml\u0026quot; -exec ansible-playbook {} --syntax-check \\;\nif [ $? -eq 0 ]; then\n    log \u0026quot;All playbooks passed syntax validation\u0026quot;\nelse\n    log \u0026quot;ERROR: Some playbooks failed syntax validation\u0026quot;\nfi\n\n# 5. Check inventory health\nlog \u0026quot;Checking inventory health\u0026quot;\nansible-inventory --list \u0026gt; /tmp/inventory_check.json\nif [ $? -eq 0 ]; then\n    log \u0026quot;Inventory syntax is valid\u0026quot;\nelse\n    log \u0026quot;ERROR: Inventory has syntax errors\u0026quot;\nfi\n\n# 6. Test connectivity to all hosts\nlog \u0026quot;Testing connectivity to managed hosts\u0026quot;\nansible all -m ping --one-line \u0026gt; \u0026quot;/tmp/ping_results_$DATE.txt\u0026quot;\nFAILED_HOSTS=$(grep -c \u0026quot;FAILED\u0026quot; \u0026quot;/tmp/ping_results_$DATE.txt\u0026quot;)\nif [ \u0026quot;$FAILED_HOSTS\u0026quot; -gt 0 ]; then\n    log \u0026quot;WARNING: $FAILED_HOSTS hosts failed connectivity test\u0026quot;\n    grep \u0026quot;FAILED\u0026quot; \u0026quot;/tmp/ping_results_$DATE.txt\u0026quot; \u0026gt;\u0026gt; \u0026quot;$LOG_FILE\u0026quot;\nelse\n    log \u0026quot;All hosts are reachable\u0026quot;\nfi\n\n# 7. Backup configurations\nlog \u0026quot;Creating configuration backup\u0026quot;\nmkdir -p \u0026quot;$BACKUP_DIR/$DATE\u0026quot;\ntar -czf \u0026quot;$BACKUP_DIR/$DATE/ansible-config-$DATE.tar.gz\u0026quot; \\\n    \u0026quot;$ANSIBLE_HOME\u0026quot;/{ansible.cfg,inventories,group_vars,host_vars,playbooks,roles}\n\n# 8. Clean up old backups (keep 30 days)\nlog \u0026quot;Cleaning up old backups\u0026quot;\nfind \u0026quot;$BACKUP_DIR\u0026quot; -type d -mtime +30 -exec rm -rf {} \\; 2\u0026gt;/dev/null\n\n# 9. Update SSH known_hosts\nlog \u0026quot;Updating SSH known_hosts\u0026quot;\nfor host in $(ansible all --list-hosts | grep -v hosts); do\n    ssh-keyscan -H \u0026quot;$host\u0026quot; \u0026gt;\u0026gt; ~/.ssh/known_hosts 2\u0026gt;/dev/null\ndone\nsort -u ~/.ssh/known_hosts \u0026gt; ~/.ssh/known_hosts.tmp \u0026amp;\u0026amp; mv ~/.ssh/known_hosts.tmp ~/.ssh/known_hosts\n\n# 10. Generate maintenance report\nlog \u0026quot;Generating maintenance report\u0026quot;\nREPORT_FILE=\u0026quot;/tmp/ansible-maintenance-report-$DATE.txt\u0026quot;\ncat \u0026gt; \u0026quot;$REPORT_FILE\u0026quot; \u0026lt;\u0026lt; EOF\nAnsible Maintenance Report - $DATE\n========================================\n\nAnsible Version: $(ansible --version | head -1)\nPython Version: $(python3 --version)\nSystem: $(uname -a)\n\nInventory Summary:\n$(ansible-inventory --list | jq \u0026#039;.\u0026quot;_meta\u0026quot;.\u0026quot;hostvars\u0026quot; | keys | length\u0026#039;) managed hosts\n\nConnectivity Test Results:\n$(wc -l \u0026lt; \u0026quot;/tmp/ping_results_$DATE.txt\u0026quot;) total hosts tested\n$FAILED_HOSTS hosts failed connectivity\n\nPlaybook Validation: $(find \u0026quot;$ANSIBLE_HOME/playbooks\u0026quot; -name \u0026quot;*.yml\u0026quot; | wc -l) playbooks checked\n\nDisk Usage:\n$(df -h \u0026quot;$ANSIBLE_HOME\u0026quot; | tail -1)\n\nBackup Created: $BACKUP_DIR/$DATE/ansible-config-$DATE.tar.gz\nBackup Size: $(du -sh \u0026quot;$BACKUP_DIR/$DATE/ansible-config-$DATE.tar.gz\u0026quot; | cut -f1)\n\nRecent Log Entries (last 10):\n$(tail -10 \u0026quot;$LOG_FILE\u0026quot;)\nEOF\n\nlog \u0026quot;Maintenance report created: $REPORT_FILE\u0026quot;\n\n# 11. Send report via email (optional)\nif command -v mail \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    mail -s \u0026quot;Ansible Maintenance Report - $DATE\u0026quot; admin@example.com \u0026lt; \u0026quot;$REPORT_FILE\u0026quot;\n    log \u0026quot;Maintenance report emailed\u0026quot;\nfi\n\nlog \u0026quot;Ansible maintenance tasks completed\u0026quot;\n\n# Schedule this script to run weekly\n# Add to crontab: 0 2 * * 0 /usr/local/bin/ansible-maintenance.sh\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"ansible-version-management\" class=\"mobile-header\"\u003eAnsible Version Management\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# ansible-version-manager.sh - Manage multiple Ansible versions\n\nANSIBLE_VERSIONS_DIR=\u0026quot;/opt/ansible-versions\u0026quot;\nCURRENT_LINK=\u0026quot;/opt/ansible/current\u0026quot;\n\ninstall_ansible_version() {\n    local version=\u0026quot;$1\u0026quot;\n    local install_dir=\u0026quot;$ANSIBLE_VERSIONS_DIR/$version\u0026quot;\n    \n    if [ -d \u0026quot;$install_dir\u0026quot; ]; then\n        echo \u0026quot;Ansible $version is already installed\u0026quot;\n        return 0\n    fi\n    \n    echo \u0026quot;Installing Ansible $version...\u0026quot;\n    python3 -m venv \u0026quot;$install_dir\u0026quot;\n    source \u0026quot;$install_dir/bin/activate\u0026quot;\n    \n    pip install --upgrade pip\n    pip install \u0026quot;ansible-core==$version\u0026quot;\n    pip install ansible\n    \n    # Install essential collections\n    ansible-galaxy collection install community.general\n    ansible-galaxy collection install ansible.posix\n    ansible-galaxy collection install kubernetes.core\n    \n    deactivate\n    echo \u0026quot;Ansible $version installed successfully\u0026quot;\n}\n\nswitch_ansible_version() {\n    local version=\u0026quot;$1\u0026quot;\n    local install_dir=\u0026quot;$ANSIBLE_VERSIONS_DIR/$version\u0026quot;\n    \n    if [ ! -d \u0026quot;$install_dir\u0026quot; ]; then\n        echo \u0026quot;Ansible $version is not installed\u0026quot;\n        echo \u0026quot;Available versions:\u0026quot;\n        ls -1 \u0026quot;$ANSIBLE_VERSIONS_DIR\u0026quot; 2\u0026gt;/dev/null || echo \u0026quot;No versions installed\u0026quot;\n        return 1\n    fi\n    \n    rm -f \u0026quot;$CURRENT_LINK\u0026quot;\n    ln -s \u0026quot;$install_dir\u0026quot; \u0026quot;$CURRENT_LINK\u0026quot;\n    \n    echo \u0026quot;Switched to Ansible $version\u0026quot;\n    echo \u0026quot;Current version: $(\u0026quot;$CURRENT_LINK/bin/ansible\u0026quot; --version | head -1)\u0026quot;\n}\n\nlist_versions() {\n    echo \u0026quot;Installed Ansible versions:\u0026quot;\n    ls -1 \u0026quot;$ANSIBLE_VERSIONS_DIR\u0026quot; 2\u0026gt;/dev/null || echo \u0026quot;No versions installed\u0026quot;\n    \n    if [ -L \u0026quot;$CURRENT_LINK\u0026quot; ]; then\n        local current=$(readlink \u0026quot;$CURRENT_LINK\u0026quot; | basename)\n        echo \u0026quot;Current version: $current\u0026quot;\n    else\n        echo \u0026quot;No current version set\u0026quot;\n    fi\n}\n\nremove_version() {\n    local version=\u0026quot;$1\u0026quot;\n    local install_dir=\u0026quot;$ANSIBLE_VERSIONS_DIR/$version\u0026quot;\n    \n    if [ ! -d \u0026quot;$install_dir\u0026quot; ]; then\n        echo \u0026quot;Ansible $version is not installed\u0026quot;\n        return 1\n    fi\n    \n    if [ \u0026quot;$(readlink \u0026quot;$CURRENT_LINK\u0026quot; 2\u0026gt;/dev/null)\u0026quot; = \u0026quot;$install_dir\u0026quot; ]; then\n        echo \u0026quot;Cannot remove currently active version\u0026quot;\n        return 1\n    fi\n    \n    rm -rf \u0026quot;$install_dir\u0026quot;\n    echo \u0026quot;Removed Ansible $version\u0026quot;\n}\n\ncase \u0026quot;$1\u0026quot; in\n    install)\n        install_ansible_version \u0026quot;$2\u0026quot;\n        ;;\n    switch)\n        switch_ansible_version \u0026quot;$2\u0026quot;\n        ;;\n    list)\n        list_versions\n        ;;\n    remove)\n        remove_version \u0026quot;$2\u0026quot;\n        ;;\n    *)\n        echo \u0026quot;Usage: $0 {install|switch|list|remove} [version]\u0026quot;\n        echo \u0026quot;Examples:\u0026quot;\n        echo \u0026quot;  $0 install 2.15.0\u0026quot;\n        echo \u0026quot;  $0 switch 2.15.0\u0026quot;\n        echo \u0026quot;  $0 list\u0026quot;\n        echo \u0026quot;  $0 remove 2.14.0\u0026quot;\n        exit 1\n        ;;\nesac\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"performance-monitoring-and-optimization\" class=\"mobile-header\"\u003ePerformance Monitoring and Optimization\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# ansible-performance-monitor.sh - Monitor and optimize Ansible performance\n\nlog_performance() {\n    local playbook=\u0026quot;$1\u0026quot;\n    local start_time=$(date +%s)\n    local log_file=\u0026quot;/var/log/ansible-performance.log\u0026quot;\n    \n    # Run playbook with timing\n    /usr/bin/time -v ansible-playbook \u0026quot;$playbook\u0026quot; --extra-vars=\u0026quot;gather_facts=True\u0026quot; 2\u0026gt;\u0026amp;1 | \\\n    tee \u0026quot;/tmp/ansible-run-$start_time.log\u0026quot;\n    \n    local end_time=$(date +%s)\n    local duration=$((end_time - start_time))\n    \n    echo \u0026quot;[$(date \u0026#039;+%Y-%m-%d %H:%M:%S\u0026#039;)] Playbook: $playbook, Duration: ${duration}s\u0026quot; \u0026gt;\u0026gt; \u0026quot;$log_file\u0026quot;\n    \n    # Extract performance metrics\n    local max_memory=$(grep \u0026quot;Maximum resident set size\u0026quot; \u0026quot;/tmp/ansible-run-$start_time.log\u0026quot; | awk \u0026#039;{print $6}\u0026#039;)\n    local user_time=$(grep \u0026quot;User time\u0026quot; \u0026quot;/tmp/ansible-run-$start_time.log\u0026quot; | awk \u0026#039;{print $4}\u0026#039;)\n    local system_time=$(grep \u0026quot;System time\u0026quot; \u0026quot;/tmp/ansible-run-$start_time.log\u0026quot; | awk \u0026#039;{print $4}\u0026#039;)\n    \n    echo \u0026quot;Performance Metrics - Memory: ${max_memory}KB, User: ${user_time}s, System: ${system_time}s\u0026quot; \u0026gt;\u0026gt; \u0026quot;$log_file\u0026quot;\n    \n    # Clean up\n    rm \u0026quot;/tmp/ansible-run-$start_time.log\u0026quot;\n}\n\n# Example usage in a wrapper script\nif [ \u0026quot;$1\u0026quot; = \u0026quot;monitor\u0026quot; ] \u0026amp;\u0026amp; [ -n \u0026quot;$2\u0026quot; ]; then\n    log_performance \u0026quot;$2\u0026quot;\nelse\n    echo \u0026quot;Usage: $0 monitor \u0026lt;playbook_path\u0026gt;\u0026quot;\n    exit 1\nfi\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"testing-and-validation\" class=\"mobile-header\"\u003eTesting and Validation\u003c/h2\u003e\n\u003ch3 id=\"molecule-testing-framework\" class=\"mobile-header\"\u003eMolecule Testing Framework\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Molecule for role testing\npip install molecule[docker] molecule[vagrant] molecule[libvirt]\n\n# Initialize Molecule in role directory\ncd roles/nginx\nmolecule init scenario --driver-name docker\n\n# Create molecule configuration\ncat \u0026gt; molecule/default/molecule.yml \u0026lt;\u0026lt;EOF\n---\ndependency:\n  name: galaxy\ndriver:\n  name: docker\nplatforms:\n  - name: nginx-ubuntu\n    image: ubuntu:22.04\n    pre_build_image: true\n    privileged: true\n    volumes:\n      - /sys/fs/cgroup:/sys/fs/cgroup:ro\n    command: /lib/systemd/systemd\n    networks:\n      - name: molecule\n  - name: nginx-centos\n    image: centos:8\n    pre_build_image: true\n    privileged: true\n    volumes:\n      - /sys/fs/cgroup:/sys/fs/cgroup:ro\n    command: /usr/sbin/init\n    networks:\n      - name: molecule\nprovisioner:\n  name: ansible\n  config_options:\n    defaults:\n      callbacks_enabled: profile_tasks,timer,yaml\n  inventory:\n    host_vars:\n      nginx-ubuntu:\n        ansible_python_interpreter: /usr/bin/python3\n      nginx-centos:\n        ansible_python_interpreter: /usr/bin/python3\nverifier:\n  name: ansible\nlint: |\n  set -e\n  yamllint .\n  ansible-lint\n  flake8\nEOF\n\n# Create test playbook\ncat \u0026gt; molecule/default/converge.yml \u0026lt;\u0026lt;EOF\n---\n- name: Converge\n  hosts: all\n  become: true\n  tasks:\n    - name: \u0026quot;Include nginx role\u0026quot;\n      include_role:\n        name: nginx\n      vars:\n        nginx_vhosts:\n          - name: default\n            server_name: localhost\n            listen: 80\n            root: /var/www/html\n            enabled: true\nEOF\n\n# Create test verification\ncat \u0026gt; molecule/default/verify.yml \u0026lt;\u0026lt;EOF\n---\n- name: Verify\n  hosts: all\n  gather_facts: false\n  tasks:\n    - name: Check if NGINX is running\n      uri:\n        url: http://localhost\n        method: GET\n      register: nginx_check\n\n    - name: Verify NGINX is responding\n      assert:\n        that:\n          - nginx_check.status == 200\n        fail_msg: \u0026quot;NGINX is not responding correctly\u0026quot;\n\n    - name: Check NGINX configuration\n      shell: nginx -t\n      changed_when: false\n\n    - name: Verify NGINX process\n      shell: pgrep nginx\n      changed_when: false\nEOF\n\n# Run tests\nmolecule test\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"ansible-lint-and-security-scanning\" class=\"mobile-header\"\u003eAnsible Lint and Security Scanning\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Ansible Lint\npip install ansible-lint\n\n# Create .ansible-lint configuration\ncat \u0026gt; .ansible-lint \u0026lt;\u0026lt;EOF\n---\nprofile: production\n\nexclude_paths:\n  - .cache/\n  - .github/\n  - molecule/\n  - .venv/\n\nskip_list:\n  - yaml[line-length]  # Allow longer lines for readability\n\nwarn_list:\n  - experimental  # Warn about experimental features\n\n# Custom rules\nrules:\n  braces:\n    min-spaces-inside: 0\n    max-spaces-inside: 1\n  brackets:\n    min-spaces-inside: 0\n    max-spaces-inside: 0\n  colons:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  commas:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  comments:\n    min-spaces-from-content: 1\n  document-start: disable\n  empty-lines:\n    max: 2\n    max-start: 0\n    max-end: 1\n  hyphens:\n    max-spaces-after: 1\n  indentation:\n    spaces: 2\n    indent-sequences: true\n  line-length:\n    max: 120\n  new-line-at-end-of-file: enable\n  trailing-spaces: enable\n  truthy:\n    allowed-values: [\u0026#039;true\u0026#039;, \u0026#039;false\u0026#039;, \u0026#039;yes\u0026#039;, \u0026#039;no\u0026#039;]\nEOF\n\n# Create security-focused playbook linting\ncat \u0026gt; .yamllint \u0026lt;\u0026lt;EOF\n---\nextends: default\n\nrules:\n  braces:\n    min-spaces-inside: 0\n    max-spaces-inside: 1\n  brackets:\n    min-spaces-inside: 0\n    max-spaces-inside: 0\n  colons:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  commas:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  comments: disable\n  comments-indentation: disable\n  document-start: disable\n  empty-lines:\n    max: 2\n    max-start: 0\n    max-end: 1\n  hyphens:\n    max-spaces-after: 1\n  indentation:\n    spaces: 2\n    indent-sequences: true\n    check-multi-line-strings: false\n  key-duplicates: enable\n  line-length:\n    max: 120\n  new-line-at-end-of-file: enable\n  octal-values:\n    forbid-implicit-octal: true\n  trailing-spaces: enable\n  truthy: disable\nEOF\n\n# Run linting\nansible-lint playbooks/\nyamllint .\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"backup-and-disaster-recovery\" class=\"mobile-header\"\u003eBackup and Disaster Recovery\u003c/h2\u003e\n\u003ch3 id=\"comprehensive-backup-automation\" class=\"mobile-header\"\u003eComprehensive Backup Automation\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; playbooks/backup-automation.yml \u0026lt;\u0026lt;EOF\n---\n- name: Automated Backup System\n  hosts: all\n  become: yes\n  vars:\n    backup_root: /backup\n    backup_retention_days: 30\n    backup_schedule:\n      databases: \u0026quot;0 2 * * *\u0026quot;\n      files: \u0026quot;0 3 * * *\u0026quot;\n      configs: \u0026quot;0 4 * * *\u0026quot;\n\n  tasks:\n    - name: Create backup directories\n      file:\n        path: \u0026quot;{{ backup_root }}/{{ item }}\u0026quot;\n        state: directory\n        mode: \u0026#039;0755\u0026#039;\n        owner: root\n        group: root\n      loop:\n        - databases\n        - files\n        - configs\n        - logs\n\n    # Database backups\n    - name: Create database backup script\n      template:\n        src: templates/mysql-backup.sh.j2\n        dest: /usr/local/bin/mysql-backup.sh\n        mode: \u0026#039;0755\u0026#039;\n      when: \u0026quot;\u0026#039;dbservers\u0026#039; in group_names\u0026quot;\n\n    - name: Schedule database backups\n      cron:\n        name: \u0026quot;MySQL backup\u0026quot;\n        minute: \u0026quot;0\u0026quot;\n        hour: \u0026quot;2\u0026quot;\n        job: \u0026quot;/usr/local/bin/mysql-backup.sh\u0026quot;\n        user: root\n      when: \u0026quot;\u0026#039;dbservers\u0026#039; in group_names\u0026quot;\n\n    # File system backups\n    - name: Create file backup script\n      template:\n        src: templates/file-backup.sh.j2\n        dest: /usr/local/bin/file-backup.sh\n        mode: \u0026#039;0755\u0026#039;\n\n    - name: Schedule file backups\n      cron:\n        name: \u0026quot;File system backup\u0026quot;\n        minute: \u0026quot;0\u0026quot;\n        hour: \u0026quot;3\u0026quot;\n        job: \u0026quot;/usr/local/bin/file-backup.sh\u0026quot;\n        user: root\n\n    # Configuration backups\n    - name: Backup system configurations\n      archive:\n        path:\n          - /etc/nginx\n          - /etc/mysql\n          - /etc/systemd/system\n          - /etc/crontab\n          - /etc/hosts\n          - /etc/fstab\n        dest: \u0026quot;{{ backup_root }}/configs/system-config-{{ ansible_date_time.epoch }}.tar.gz\u0026quot;\n        mode: \u0026#039;0600\u0026#039;\n\n    # Remote backup synchronization\n    - name: Synchronize backups to remote storage\n      synchronize:\n        src: \u0026quot;{{ backup_root }}/\u0026quot;\n        dest: \u0026quot;backup-server.example.com:{{ backup_root }}/{{ inventory_hostname }}/\u0026quot;\n        delete: yes\n        rsync_opts:\n          - \u0026quot;--exclude=*.tmp\u0026quot;\n          - \u0026quot;--compress\u0026quot;\n          - \u0026quot;--archive\u0026quot;\n      when: backup_remote_sync | default(true)\n\n    # Cleanup old backups\n    - name: Clean up old backup files\n      find:\n        paths: \u0026quot;{{ backup_root }}\u0026quot;\n        age: \u0026quot;{{ backup_retention_days }}d\u0026quot;\n        file_type: file\n      register: old_backups\n\n    - name: Remove old backup files\n      file:\n        path: \u0026quot;{{ item.path }}\u0026quot;\n        state: absent\n      loop: \u0026quot;{{ old_backups.files }}\u0026quot;\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"verification-and-monitoring\" class=\"mobile-header\"\u003eVerification and Monitoring\u003c/h2\u003e\n\u003ch3 id=\"cross-platform-system-verification\" class=\"mobile-header\"\u003eCross-Platform System Verification\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create comprehensive verification playbook\ncat \u0026gt; playbooks/system-verification.yml \u0026lt;\u0026lt;EOF\n---\n- name: System Verification and Health Check\n  hosts: all\n  become: yes\n  gather_facts: yes\n  vars:\n    health_checks:\n      - service: nginx\n        port: 80\n        process: nginx\n      - service: mysql\n        port: 3306\n        process: mysqld\n      - service: redis\n        port: 6379\n        process: redis-server\n\n  tasks:\n    # System information gathering\n    - name: Gather system information\n      setup:\n        gather_subset:\n          - all\n          - !facter\n          - !ohai\n\n    # Service verification\n    - name: Check critical services status\n      service_facts:\n\n    - name: Verify services are running\n      assert:\n        that:\n          - \u0026quot;ansible_facts.services[item.service + \u0026#039;.service\u0026#039;].state == \u0026#039;running\u0026#039;\u0026quot;\n        fail_msg: \u0026quot;Service {{ item.service }} is not running\u0026quot;\n        success_msg: \u0026quot;Service {{ item.service }} is healthy\u0026quot;\n      loop: \u0026quot;{{ health_checks }}\u0026quot;\n      when: \u0026quot;item.service + \u0026#039;.service\u0026#039; in ansible_facts.services\u0026quot;\n\n    # Network connectivity tests\n    - name: Test network connectivity\n      wait_for:\n        host: \u0026quot;{{ item.host }}\u0026quot;\n        port: \u0026quot;{{ item.port }}\u0026quot;\n        timeout: 5\n      loop:\n        - { host: \u0026quot;8.8.8.8\u0026quot;, port: 53 }\n        - { host: \u0026quot;1.1.1.1\u0026quot;, port: 53 }\n      ignore_errors: yes\n\n    # Disk space monitoring\n    - name: Check disk space usage\n      shell: df -h | awk \u0026#039;$5 \u0026gt; \u0026quot;85%\u0026quot; {print $0}\u0026#039;\n      register: disk_usage\n      changed_when: false\n      failed_when: disk_usage.stdout != \u0026quot;\u0026quot;\n\n    # Memory usage check\n    - name: Check memory usage\n      shell: free | grep Mem | awk \u0026#039;{printf \u0026quot;%.0f\u0026quot;, $3/$2 * 100.0}\u0026#039;\n      register: memory_usage\n      changed_when: false\n\n    - name: Alert on high memory usage\n      debug:\n        msg: \u0026quot;WARNING: Memory usage is {{ memory_usage.stdout }}%\u0026quot;\n      when: memory_usage.stdout | int \u0026gt; 85\n\n    # Security verification\n    - name: Check for failed login attempts\n      shell: grep \u0026quot;Failed password\u0026quot; /var/log/auth.log | tail -10\n      register: failed_logins\n      changed_when: false\n      ignore_errors: yes\n      when: ansible_os_family == \u0026quot;Debian\u0026quot;\n\n    - name: Check firewall status\n      shell: |\n        if command -v ufw \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n          ufw status\n        elif command -v firewall-cmd \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n          firewall-cmd --state\n        else\n          echo \u0026quot;No supported firewall found\u0026quot;\n        fi\n      register: firewall_status\n      changed_when: false\n\n  post_tasks:\n    - name: Generate system health report\n      template:\n        src: templates/health-report.j2\n        dest: \u0026quot;/tmp/health-report-{{ inventory_hostname }}-{{ ansible_date_time.epoch }}.txt\u0026quot;\n        mode: \u0026#039;0644\u0026#039;\n\n    - name: Fetch health reports\n      fetch:\n        src: \u0026quot;/tmp/health-report-{{ inventory_hostname }}-{{ ansible_date_time.epoch }}.txt\u0026quot;\n        dest: \u0026quot;./reports/\u0026quot;\n        flat: yes\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"continuous-compliance-monitoring\" class=\"mobile-header\"\u003eContinuous Compliance Monitoring\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; playbooks/compliance-monitoring.yml \u0026lt;\u0026lt;EOF\n---\n- name: Continuous Compliance Monitoring\n  hosts: all\n  become: yes\n  vars:\n    compliance_standards:\n      - cis\n      - pci_dss\n      - soc2\n      - hipaa\n    \n    audit_log_paths:\n      - /var/log/auth.log\n      - /var/log/syslog\n      - /var/log/audit/audit.log\n\n  tasks:\n    # Install audit tools\n    - name: Install audit daemon\n      package:\n        name: \u0026quot;{{ \u0026#039;auditd\u0026#039; if ansible_os_family == \u0026#039;RedHat\u0026#039; else \u0026#039;auditd\u0026#039; }}\u0026quot;\n        state: present\n\n    - name: Configure audit rules\n      template:\n        src: templates/audit.rules.j2\n        dest: /etc/audit/rules.d/audit.rules\n        backup: yes\n      notify: restart auditd\n\n    # CIS compliance checks\n    - name: Run CIS benchmark checks\n      shell: |\n        if [ -f /opt/cis-cat/CIS-CAT.sh ]; then\n          /opt/cis-cat/CIS-CAT.sh -b /opt/cis-cat/benchmarks/\n        else\n          echo \u0026quot;CIS-CAT not installed, skipping\u0026quot;\n        fi\n      register: cis_results\n      ignore_errors: yes\n\n    # File integrity monitoring\n    - name: Install AIDE\n      package:\n        name: aide\n        state: present\n\n    - name: Initialize AIDE database\n      shell: |\n        aide --init\n        mv /var/lib/aide/aide.db.new /var/lib/aide/aide.db\n      args:\n        creates: /var/lib/aide/aide.db\n\n    - name: Schedule AIDE integrity checks\n      cron:\n        name: \u0026quot;AIDE integrity check\u0026quot;\n        minute: \u0026quot;0\u0026quot;\n        hour: \u0026quot;3\u0026quot;\n        job: \u0026quot;/usr/bin/aide --check | mail -s \u0026#039;AIDE Report\u0026#039; security@example.com\u0026quot;\n        user: root\n\n    # Log monitoring\n    - name: Install log monitoring tools\n      package:\n        name:\n          - logwatch\n          - rsyslog\n        state: present\n\n    - name: Configure centralized logging\n      template:\n        src: templates/rsyslog.conf.j2\n        dest: /etc/rsyslog.conf\n        backup: yes\n      notify: restart rsyslog\n\n  handlers:\n    - name: restart auditd\n      service:\n        name: auditd\n        state: restarted\n\n    - name: restart rsyslog\n      service:\n        name: rsyslog\n        state: restarted\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"cicd-integration\" class=\"mobile-header\"\u003eCI/CD Integration\u003c/h2\u003e\n\u003ch3 id=\"jenkins-pipeline-integration\" class=\"mobile-header\"\u003eJenkins Pipeline Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create Jenkinsfile for Ansible automation\ncat \u0026gt; Jenkinsfile \u0026lt;\u0026lt;EOF\npipeline {\n    agent any\n    \n    environment {\n        ANSIBLE_CONFIG = \u0026#039;ansible.cfg\u0026#039;\n        ANSIBLE_HOST_KEY_CHECKING = \u0026#039;False\u0026#039;\n    }\n    \n    stages {\n        stage(\u0026#039;Lint\u0026#039;) {\n            steps {\n                sh \u0026#039;ansible-lint playbooks/\u0026#039;\n                sh \u0026#039;yamllint .\u0026#039;\n            }\n        }\n        \n        stage(\u0026#039;Syntax Check\u0026#039;) {\n            steps {\n                sh \u0026#039;ansible-playbook playbooks/site.yml --syntax-check\u0026#039;\n            }\n        }\n        \n        stage(\u0026#039;Dry Run\u0026#039;) {\n            steps {\n                sh \u0026#039;ansible-playbook playbooks/site.yml --check --diff\u0026#039;\n            }\n        }\n        \n        stage(\u0026#039;Deploy to Staging\u0026#039;) {\n            when {\n                branch \u0026#039;develop\u0026#039;\n            }\n            steps {\n                sh \u0026#039;ansible-playbook -i inventories/staging playbooks/site.yml\u0026#039;\n            }\n        }\n        \n        stage(\u0026#039;Deploy to Production\u0026#039;) {\n            when {\n                branch \u0026#039;main\u0026#039;\n            }\n            steps {\n                input \u0026#039;Deploy to Production?\u0026#039;\n                sh \u0026#039;ansible-playbook -i inventories/production playbooks/site.yml\u0026#039;\n            }\n        }\n        \n        stage(\u0026#039;Verify Deployment\u0026#039;) {\n            steps {\n                sh \u0026#039;ansible-playbook playbooks/system-verification.yml\u0026#039;\n            }\n        }\n    }\n    \n    post {\n        always {\n            archiveArtifacts artifacts: \u0026#039;logs/*.log\u0026#039;, allowEmptyArchive: true\n            publishHTML([\n                allowMissing: false,\n                alwaysLinkToLastBuild: true,\n                keepAll: true,\n                reportDir: \u0026#039;reports\u0026#039;,\n                reportFiles: \u0026#039;*.html\u0026#039;,\n                reportName: \u0026#039;Ansible Report\u0026#039;\n            ])\n        }\n        failure {\n            emailext (\n                subject: \u0026quot;Failed Pipeline: ${env.JOB_NAME} - ${env.BUILD_NUMBER}\u0026quot;,\n                body: \u0026quot;Something is wrong with ${env.BUILD_URL}\u0026quot;,\n                to: \u0026quot;${env.DEFAULT_RECIPIENTS}\u0026quot;\n            )\n        }\n    }\n}\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"gitlab-ci-integration\" class=\"mobile-header\"\u003eGitLab CI Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; .gitlab-ci.yml \u0026lt;\u0026lt;EOF\nstages:\n  - lint\n  - test\n  - deploy-staging\n  - deploy-production\n\nvariables:\n  ANSIBLE_CONFIG: ansible.cfg\n  ANSIBLE_HOST_KEY_CHECKING: \u0026quot;False\u0026quot;\n\nbefore_script:\n  - pip install ansible ansible-lint yamllint\n  - ansible-galaxy install -r requirements.yml\n\nlint:\n  stage: lint\n  script:\n    - ansible-lint playbooks/\n    - yamllint .\n  rules:\n    - if: \u0026#039;$CI_MERGE_REQUEST_IID\u0026#039;\n    - if: \u0026#039;$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH\u0026#039;\n\nsyntax-check:\n  stage: test\n  script:\n    - ansible-playbook playbooks/site.yml --syntax-check\n    - ansible-playbook playbooks/site.yml --check --diff -i inventories/staging\n  rules:\n    - if: \u0026#039;$CI_MERGE_REQUEST_IID\u0026#039;\n    - if: \u0026#039;$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH\u0026#039;\n\ndeploy-staging:\n  stage: deploy-staging\n  script:\n    - ansible-playbook -i inventories/staging playbooks/site.yml\n  rules:\n    - if: \u0026#039;$CI_COMMIT_BRANCH == \u0026quot;develop\u0026quot;\u0026#039;\n\ndeploy-production:\n  stage: deploy-production\n  script:\n    - ansible-playbook -i inventories/production playbooks/site.yml\n  rules:\n    - if: \u0026#039;$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH\u0026#039;\n      when: manual\n  environment:\n    name: production\n    url: https://production.example.com\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"6-troubleshooting-cross-platform\" class=\"mobile-header\"\u003e6. Troubleshooting (Cross-Platform)\u003c/h2\u003e\n\u003ch3 id=\"common-issues-and-solutions\" class=\"mobile-header\"\u003eCommon Issues and Solutions\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Debug connection issues\nansible all -m ping -vvv\n\n# Check SSH connectivity\nansible all -m setup --ask-pass --ask-become-pass\n\n# Verify inventory\nansible-inventory --list\nansible-inventory --graph\n\n# Test specific host\nansible target-host -m command -a \u0026quot;uptime\u0026quot;\n\n# Check syntax without execution\nansible-playbook playbooks/site.yml --syntax-check\n\n# Dry run with verbose output\nansible-playbook playbooks/site.yml --check --diff -vvv\n\n# Debug variable resolution\nansible-playbook playbooks/site.yml --extra-vars=\u0026quot;debug=true\u0026quot; --tags debug\n\n# Check facts\nansible all -m setup | grep ansible_os_family\n\n# Connection troubleshooting\nssh -vvv user@target-host\n\n# Permission issues\nansible all -m file -a \u0026quot;path=/tmp/test state=touch\u0026quot; --become\n\n# Vault issues\nansible-vault view group_vars/all/vault.yml\n\n# Performance debugging\nansible-playbook playbooks/site.yml --start-at-task=\u0026quot;specific task name\u0026quot;\nansible-playbook playbooks/site.yml --step\n\n# Module testing\nansible localhost -m debug -a \u0026quot;var=hostvars\u0026quot;\nansible localhost -m setup\n\n# Check for syntax errors in roles\nfind roles/ -name \u0026quot;*.yml\u0026quot; -exec ansible-playbook {} --syntax-check \\;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"advanced-debugging\" class=\"mobile-header\"\u003eAdvanced Debugging\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable comprehensive logging\nexport ANSIBLE_DEBUG=1\nexport ANSIBLE_VERBOSITY=4\nansible-playbook playbooks/site.yml\n\n# Profile playbook execution\nansible-playbook playbooks/site.yml --extra-vars=\u0026quot;profile_tasks_sort_order=none\u0026quot;\n\n# Memory usage analysis\nansible-playbook playbooks/site.yml --extra-vars=\u0026quot;ansible_python_interpreter=/usr/bin/python3\u0026quot;\n\n# Network debugging\nansible all -m command -a \u0026quot;ss -tulpn\u0026quot;\nansible all -m command -a \u0026quot;netstat -rn\u0026quot;\n\n# Process debugging\nansible all -m command -a \u0026quot;ps aux --sort=-%mem | head -10\u0026quot;\n\n# Disk usage analysis\nansible all -m command -a \u0026quot;df -h\u0026quot;\nansible all -m command -a \u0026quot;du -sh /var/log/*\u0026quot;\n\n# Service debugging\nansible all -m systemd -a \u0026quot;name=nginx\u0026quot; --become\nansible all -m command -a \u0026quot;systemctl status nginx\u0026quot; --become\n\n# Variable debugging\nansible-playbook playbooks/site.yml --extra-vars=\u0026quot;debug_vars=true\u0026quot; --tags debug_vars\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"additional-resources\" class=\"mobile-header\"\u003eAdditional Resources\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.ansible.com/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eOfficial Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://galaxy.ansible.com/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eAnsible Galaxy\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.ansible.com/ansible/latest/user_guide/playbooks_best_practices.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eBest Practices Guide\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.ansible.com/ansible/latest/user_guide/become.html#security-best-practices\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eSecurity Best Practices\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://molecule.readthedocs.io/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eAnsible Molecule Testing\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.ansible.com/ansible/latest/collections/index.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eCommunity Collections\u003c/a\u003e\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e---\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This guide is part of the \u003ca href=\"https://howtomgr.github.io\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eHowToMgr\u003c/a\u003e collection.\u003c/p\u003e","readTime":"52 min","wordCount":10386,"tableOfContents":[{"level":2,"text":"1. Prerequisites","id":"1-prerequisites"},{"level":2,"text":"2. Supported Operating Systems","id":"2-supported-operating-systems"},{"level":2,"text":"3. Installation","id":"3-installation"},{"level":3,"text":"Using Package Manager (Recommended)","id":"using-package-manager-recommended"},{"level":3,"text":"Using pip (Latest Version)","id":"using-pip-latest-version"},{"level":3,"text":"Using Docker","id":"using-docker"},{"level":2,"text":"Initial Configuration","id":"initial-configuration"},{"level":3,"text":"First-Run Setup","id":"first-run-setup"},{"level":3,"text":"Testing Initial Setup","id":"testing-initial-setup"},{"level":2,"text":"5. Service Management","id":"5-service-management"},{"level":3,"text":"Ansible Controller Service (systemd)","id":"ansible-controller-service-systemd"},{"level":3,"text":"Ansible Tower/AWX Service Management","id":"ansible-towerawx-service-management"},{"level":3,"text":"Ansible Pull Service (for Pull-based Configuration)","id":"ansible-pull-service-for-pull-based-configuration"},{"level":3,"text":"Cross-Platform Service Management","id":"cross-platform-service-management"},{"level":2,"text":"Project Structure and Configuration","id":"project-structure-and-configuration"},{"level":3,"text":"Professional Project Structure","id":"professional-project-structure"},{"level":3,"text":"Advanced Inventory Management","id":"advanced-inventory-management"},{"level":3,"text":"Ansible Vault Security","id":"ansible-vault-security"},{"level":2,"text":"Comprehensive Playbooks","id":"comprehensive-playbooks"},{"level":3,"text":"System Hardening Playbook","id":"system-hardening-playbook"},{"level":3,"text":"Application Deployment Playbook","id":"application-deployment-playbook"},{"level":3,"text":"Infrastructure as Code Playbook","id":"infrastructure-as-code-playbook"},{"level":2,"text":"Advanced Role Development","id":"advanced-role-development"},{"level":3,"text":"Comprehensive NGINX Role","id":"comprehensive-nginx-role"},{"level":2,"text":"Security and Compliance","id":"security-and-compliance"},{"level":3,"text":"Ansible Security Scanner Integration","id":"ansible-security-scanner-integration"},{"level":3,"text":"Ansible AWX/Tower Integration","id":"ansible-awxtower-integration"},{"level":2,"text":"Multi-Cloud Automation","id":"multi-cloud-automation"},{"level":3,"text":"AWS Infrastructure Automation","id":"aws-infrastructure-automation"},{"level":3,"text":"Kubernetes Cluster Management","id":"kubernetes-cluster-management"},{"level":2,"text":"Performance Optimization","id":"performance-optimization"},{"level":3,"text":"System-Level Tuning","id":"system-level-tuning"},{"level":3,"text":"Ansible Performance Configuration","id":"ansible-performance-configuration"},{"level":3,"text":"Parallel Execution Strategies","id":"parallel-execution-strategies"},{"level":2,"text":"Reverse Proxy Setup","id":"reverse-proxy-setup"},{"level":3,"text":"nginx Configuration for Ansible AWX/Tower","id":"nginx-configuration-for-ansible-awxtower"},{"level":3,"text":"HAProxy Configuration","id":"haproxy-configuration"},{"level":3,"text":"Apache Configuration","id":"apache-configuration"},{"level":2,"text":"Monitoring","id":"monitoring"},{"level":3,"text":"Built-in Monitoring and Logging","id":"built-in-monitoring-and-logging"},{"level":3,"text":"Prometheus Configuration for Ansible","id":"prometheus-configuration-for-ansible"},{"level":3,"text":"Grafana Dashboard Configuration","id":"grafana-dashboard-configuration"},{"level":2,"text":"Integration Examples","id":"integration-examples"},{"level":3,"text":"Python Integration with Ansible","id":"python-integration-with-ansible"},{"level":3,"text":"Node.js Integration","id":"nodejs-integration"},{"level":3,"text":"REST API Integration","id":"rest-api-integration"},{"level":2,"text":"Maintenance","id":"maintenance"},{"level":3,"text":"Regular Maintenance Tasks","id":"regular-maintenance-tasks"},{"level":3,"text":"Ansible Version Management","id":"ansible-version-management"},{"level":3,"text":"Performance Monitoring and Optimization","id":"performance-monitoring-and-optimization"},{"level":2,"text":"Testing and Validation","id":"testing-and-validation"},{"level":3,"text":"Molecule Testing Framework","id":"molecule-testing-framework"},{"level":3,"text":"Ansible Lint and Security Scanning","id":"ansible-lint-and-security-scanning"},{"level":2,"text":"Backup and Disaster Recovery","id":"backup-and-disaster-recovery"},{"level":3,"text":"Comprehensive Backup Automation","id":"comprehensive-backup-automation"},{"level":2,"text":"Verification and Monitoring","id":"verification-and-monitoring"},{"level":3,"text":"Cross-Platform System Verification","id":"cross-platform-system-verification"},{"level":3,"text":"Continuous Compliance Monitoring","id":"continuous-compliance-monitoring"},{"level":2,"text":"CI/CD Integration","id":"cicd-integration"},{"level":3,"text":"Jenkins Pipeline Integration","id":"jenkins-pipeline-integration"},{"level":3,"text":"GitLab CI Integration","id":"gitlab-ci-integration"},{"level":2,"text":"6. Troubleshooting (Cross-Platform)","id":"6-troubleshooting-cross-platform"},{"level":3,"text":"Common Issues and Solutions","id":"common-issues-and-solutions"},{"level":3,"text":"Advanced Debugging","id":"advanced-debugging"},{"level":2,"text":"Additional Resources","id":"additional-resources"}],"lastBuilt":"2025-10-06T06:22:27.322Z","metadataVersion":"2.0"},"category":{"key":"configuration-management","name":"Configuration management","description":"Configuration management tools and applications","icon":"üèóÔ∏è","color":"#44475a"},"relatedGuides":[{"name":"chef","displayName":"chef Installation Guide","slug":"chef","description":"chef is a free and open-source infrastructure automation. Chef provides infrastructure automation platform","category":"configuration-management","subcategory":"configuration-management","difficultyLevel":"intermediate","estimatedSetupTime":"15-30 minutes","supportedOS":["rhel","centos","rocky","almalinux","debian","ubuntu","arch","alpine","opensuse","sles","macos","freebsd","windows"],"defaultPorts":[80,443],"installationMethods":["native-packages","source-compilation"],"features":["multi-os-support","comprehensive-documentation","security-hardening","performance-optimization","backup-restore-procedures","troubleshooting-guides"],"tags":["configuration-management","containerization","observability","data-storage","networking","security","data-protection"],"maintenanceStatus":"active","specVersion":"2.0","version":"1.0.0","license":"Open Source","websiteUrl":"https://howtomgr.github.io/configuration-management/chef","documentationUrl":"https://howtomgr.github.io/configuration-management/chef","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/chef","updatedAt":"2025-09-16T17:03:14Z","createdAt":"2025-09-16T02:25:24Z","readmeRaw":"# chef Installation Guide\n\nchef is a free and open-source infrastructure automation. Chef provides infrastructure automation platform\n\n## Table of Contents\n1. [Prerequisites](#prerequisites)\n2. [Supported Operating Systems](#supported-operating-systems)\n3. [Installation](#installation)\n4. [Configuration](#configuration)\n5. [Service Management](#service-management)\n6. [Troubleshooting](#troubleshooting)\n7. [Security Considerations](#security-considerations)\n8. [Performance Tuning](#performance-tuning)\n9. [Backup and Restore](#backup-and-restore)\n10. [System Requirements](#system-requirements)\n11. [Support](#support)\n12. [Contributing](#contributing)\n13. [License](#license)\n14. [Acknowledgments](#acknowledgments)\n15. [Version History](#version-history)\n16. [Appendices](#appendices)\n\n## 1. Prerequisites\n\n- **Hardware Requirements**:\n  - CPU: 4+ cores\n  - RAM: 8GB minimum\n  - Storage: 50GB for data\n  - Network: HTTP/HTTPS\n- **Operating System**: \n  - Linux: Any modern distribution (RHEL, Debian, Ubuntu, CentOS, Fedora, Arch, Alpine, openSUSE)\n  - macOS: 10.14+ (Mojave or newer)\n  - Windows: Windows Server 2016+ or Windows 10\n  - FreeBSD: 11.0+\n- **Network Requirements**:\n  - Port 443 (default chef port)\n  - Various service ports\n- **Dependencies**:\n  - See official documentation for specific requirements\n- **System Access**: root or sudo privileges required\n\n\n## 2. Supported Operating Systems\n\nThis guide supports installation on:\n- RHEL 8/9 and derivatives (CentOS Stream, Rocky Linux, AlmaLinux)\n- Debian 11/12\n- Ubuntu 20.04/22.04/24.04 LTS\n- Arch Linux (rolling release)\n- Alpine Linux 3.18+\n- openSUSE Leap 15.5+ / Tumbleweed\n- SUSE Linux Enterprise Server (SLES) 15+\n- macOS 12+ (Monterey and later) \n- FreeBSD 13+\n- Windows 10/11/Server 2019+ (where applicable)\n\n## 3. Installation\n\n### RHEL/CentOS/Rocky Linux/AlmaLinux\n\n```bash\n# Install EPEL repository if needed\nsudo dnf install -y epel-release\n\n# Install chef\nsudo dnf install -y chef\n\n# Enable and start service\nsudo systemctl enable --now chef\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=443/tcp\nsudo firewall-cmd --reload\n\n# Verify installation\nchef --version\n```\n\n### Debian/Ubuntu\n\n```bash\n# Update package index\nsudo apt update\n\n# Install chef\nsudo apt install -y chef\n\n# Enable and start service\nsudo systemctl enable --now chef\n\n# Configure firewall\nsudo ufw allow 443\n\n# Verify installation\nchef --version\n```\n\n### Arch Linux\n\n```bash\n# Install chef\nsudo pacman -S chef\n\n# Enable and start service\nsudo systemctl enable --now chef\n\n# Verify installation\nchef --version\n```\n\n### Alpine Linux\n\n```bash\n# Install chef\napk add --no-cache chef\n\n# Enable and start service\nrc-update add chef default\nrc-service chef start\n\n# Verify installation\nchef --version\n```\n\n### openSUSE/SLES\n\n```bash\n# Install chef\nsudo zypper install -y chef\n\n# Enable and start service\nsudo systemctl enable --now chef\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=443/tcp\nsudo firewall-cmd --reload\n\n# Verify installation\nchef --version\n```\n\n### macOS\n\n```bash\n# Using Homebrew\nbrew install chef\n\n# Start service\nbrew services start chef\n\n# Verify installation\nchef --version\n```\n\n### FreeBSD\n\n```bash\n# Using pkg\npkg install chef\n\n# Enable in rc.conf\necho 'chef_enable=\"YES\"' \u003e\u003e /etc/rc.conf\n\n# Start service\nservice chef start\n\n# Verify installation\nchef --version\n```\n\n### Windows\n\n```bash\n# Using Chocolatey\nchoco install chef\n\n# Or using Scoop\nscoop install chef\n\n# Verify installation\nchef --version\n```\n\n## Initial Configuration\n\n### Basic Configuration\n\n```bash\n# Create configuration directory\nsudo mkdir -p /etc/chef\n\n# Set up basic configuration\n# See official documentation for detailed configuration options\n\n# Test configuration\nchef --version\n```\n\n## 5. Service Management\n\n### systemd (RHEL, Debian, Ubuntu, Arch, openSUSE)\n\n```bash\n# Enable service\nsudo systemctl enable chef\n\n# Start service\nsudo systemctl start chef\n\n# Stop service\nsudo systemctl stop chef\n\n# Restart service\nsudo systemctl restart chef\n\n# Check status\nsudo systemctl status chef\n\n# View logs\nsudo journalctl -u chef -f\n```\n\n### OpenRC (Alpine Linux)\n\n```bash\n# Enable service\nrc-update add chef default\n\n# Start service\nrc-service chef start\n\n# Stop service\nrc-service chef stop\n\n# Restart service\nrc-service chef restart\n\n# Check status\nrc-service chef status\n```\n\n### rc.d (FreeBSD)\n\n```bash\n# Enable in /etc/rc.conf\necho 'chef_enable=\"YES\"' \u003e\u003e /etc/rc.conf\n\n# Start service\nservice chef start\n\n# Stop service\nservice chef stop\n\n# Restart service\nservice chef restart\n\n# Check status\nservice chef status\n```\n\n### launchd (macOS)\n\n```bash\n# Using Homebrew services\nbrew services start chef\nbrew services stop chef\nbrew services restart chef\n\n# Check status\nbrew services list | grep chef\n```\n\n### Windows Service Manager\n\n```powershell\n# Start service\nnet start chef\n\n# Stop service\nnet stop chef\n\n# Using PowerShell\nStart-Service chef\nStop-Service chef\nRestart-Service chef\n\n# Check status\nGet-Service chef\n```\n\n## Advanced Configuration\n\nSee the official documentation for advanced configuration options.\n\n## Reverse Proxy Setup\n\n### nginx Configuration\n\n```nginx\nupstream chef_backend {\n    server 127.0.0.1:443;\n}\n\nserver {\n    listen 80;\n    server_name chef.example.com;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name chef.example.com;\n\n    ssl_certificate /etc/ssl/certs/chef.example.com.crt;\n    ssl_certificate_key /etc/ssl/private/chef.example.com.key;\n\n    location / {\n        proxy_pass http://chef_backend;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\n```\n\n### Apache Configuration\n\n```apache\n\u003cVirtualHost *:80\u003e\n    ServerName chef.example.com\n    Redirect permanent / https://chef.example.com/\n\u003c/VirtualHost\u003e\n\n\u003cVirtualHost *:443\u003e\n    ServerName chef.example.com\n    \n    SSLEngine on\n    SSLCertificateFile /etc/ssl/certs/chef.example.com.crt\n    SSLCertificateKeyFile /etc/ssl/private/chef.example.com.key\n    \n    ProxyRequests Off\n    ProxyPreserveHost On\n    \n    ProxyPass / http://127.0.0.1:443/\n    ProxyPassReverse / http://127.0.0.1:443/\n\u003c/VirtualHost\u003e\n```\n\n### HAProxy Configuration\n\n```haproxy\nfrontend chef_frontend\n    bind *:80\n    bind *:443 ssl crt /etc/ssl/certs/chef.pem\n    redirect scheme https if !{ ssl_fc }\n    default_backend chef_backend\n\nbackend chef_backend\n    balance roundrobin\n    server chef1 127.0.0.1:443 check\n```\n\n## Security Configuration\n\n### Basic Security Setup\n\n```bash\n# Set appropriate permissions\nsudo chown -R chef:chef /etc/chef\nsudo chmod 750 /etc/chef\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=443/tcp\nsudo firewall-cmd --reload\n\n# Enable SELinux policies (if applicable)\nsudo setsebool -P httpd_can_network_connect on\n```\n\n## Database Setup\n\nSee official documentation for database configuration requirements.\n\n## Performance Optimization\n\n### System Tuning\n\n```bash\n# Basic system tuning\necho 'net.core.somaxconn = 65535' | sudo tee -a /etc/sysctl.conf\necho 'net.ipv4.tcp_max_syn_backlog = 65535' | sudo tee -a /etc/sysctl.conf\nsudo sysctl -p\n```\n\n## Monitoring\n\n### Basic Monitoring\n\n```bash\n# Check service status\nsudo systemctl status chef\n\n# View logs\nsudo journalctl -u chef -f\n\n# Monitor resource usage\ntop -p $(pgrep chef)\n```\n\n## 9. Backup and Restore\n\n### Backup Script\n\n```bash\n#!/bin/bash\n# Basic backup script\nBACKUP_DIR=\"/backup/chef\"\nDATE=$(date +%Y%m%d_%H%M%S)\n\nmkdir -p \"$BACKUP_DIR\"\ntar -czf \"$BACKUP_DIR/chef-backup-$DATE.tar.gz\" /etc/chef /var/lib/chef\n\necho \"Backup completed: $BACKUP_DIR/chef-backup-$DATE.tar.gz\"\n```\n\n### Restore Procedure\n\n```bash\n# Stop service\nsudo systemctl stop chef\n\n# Restore from backup\ntar -xzf /backup/chef/chef-backup-*.tar.gz -C /\n\n# Start service\nsudo systemctl start chef\n```\n\n## 6. Troubleshooting\n\n### Common Issues\n\n1. **Service won't start**:\n```bash\n# Check logs\nsudo journalctl -u chef -n 100\nsudo tail -f /var/log/chef/chef.log\n\n# Check configuration\nchef --version\n\n# Check permissions\nls -la /etc/chef\n```\n\n2. **Connection issues**:\n```bash\n# Check if service is listening\nsudo ss -tlnp | grep 443\n\n# Test connectivity\ntelnet localhost 443\n\n# Check firewall\nsudo firewall-cmd --list-all\n```\n\n3. **Performance issues**:\n```bash\n# Check resource usage\ntop -p $(pgrep chef)\n\n# Check disk I/O\niotop -p $(pgrep chef)\n\n# Check connections\nss -an | grep 443\n```\n\n## Integration Examples\n\n### Docker Compose Example\n\n```yaml\nversion: '3.8'\nservices:\n  chef:\n    image: chef:latest\n    ports:\n      - \"443:443\"\n    volumes:\n      - ./config:/etc/chef\n      - ./data:/var/lib/chef\n    restart: unless-stopped\n```\n\n## Maintenance\n\n### Update Procedures\n\n```bash\n# RHEL/CentOS/Rocky/AlmaLinux\nsudo dnf update chef\n\n# Debian/Ubuntu\nsudo apt update \u0026\u0026 sudo apt upgrade chef\n\n# Arch Linux\nsudo pacman -Syu chef\n\n# Alpine Linux\napk update \u0026\u0026 apk upgrade chef\n\n# openSUSE\nsudo zypper update chef\n\n# FreeBSD\npkg update \u0026\u0026 pkg upgrade chef\n\n# Always backup before updates\ntar -czf /backup/chef-pre-update-$(date +%Y%m%d).tar.gz /etc/chef\n\n# Restart after updates\nsudo systemctl restart chef\n```\n\n### Regular Maintenance\n\n```bash\n# Log rotation\nsudo logrotate -f /etc/logrotate.d/chef\n\n# Clean old logs\nfind /var/log/chef -name \"*.log\" -mtime +30 -delete\n\n# Check disk usage\ndu -sh /var/lib/chef\n```\n\n## Additional Resources\n\n- Official Documentation: https://docs.chef.org/\n- GitHub Repository: https://github.com/chef/chef\n- Community Forum: https://forum.chef.org/\n- Best Practices Guide: https://docs.chef.org/best-practices\n\n---\n\n**Note:** This guide is part of the [HowToMgr](https://howtomgr.github.io) collection. Always refer to official documentation for the most up-to-date information.\n","readmeHtml":"\u003cp class=\"mobile-paragraph\"\u003echef is a free and open-source infrastructure automation. Chef provides infrastructure automation platform\u003c/p\u003e\n\u003ch2 id=\"1-prerequisites\" class=\"mobile-header\"\u003e1. Prerequisites\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eHardware Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eCPU: 4+ cores\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eRAM: 8GB minimum\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eStorage: 50GB for data\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eNetwork: HTTP/HTTPS\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eOperating System\u003c/strong\u003e: \u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eLinux: Any modern distribution (RHEL, Debian, Ubuntu, CentOS, Fedora, Arch, Alpine, openSUSE)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003emacOS: 10.14+ (Mojave or newer)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWindows: Windows Server 2016+ or Windows 10\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eFreeBSD: 11.0+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eNetwork Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 443 (default chef port)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eVarious service ports\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eDependencies\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eSee official documentation for specific requirements\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eSystem Access\u003c/strong\u003e: root or sudo privileges required\u003c/li\u003e\n\u003ch2 id=\"2-supported-operating-systems\" class=\"mobile-header\"\u003e2. Supported Operating Systems\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eThis guide supports installation on:\u003c/p\u003e\n\u003cli class=\"mobile-list-item\"\u003eRHEL 8/9 and derivatives (CentOS Stream, Rocky Linux, AlmaLinux)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eDebian 11/12\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eUbuntu 20.04/22.04/24.04 LTS\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eArch Linux (rolling release)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eAlpine Linux 3.18+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eopenSUSE Leap 15.5+ / Tumbleweed\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eSUSE Linux Enterprise Server (SLES) 15+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003emacOS 12+ (Monterey and later) \u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eFreeBSD 13+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWindows 10/11/Server 2019+ (where applicable)\u003c/li\u003e\n\u003ch2 id=\"3-installation\" class=\"mobile-header\"\u003e3. Installation\u003c/h2\u003e\n\u003ch3 id=\"rhelcentosrocky-linuxalmalinux\" class=\"mobile-header\"\u003eRHEL/CentOS/Rocky Linux/AlmaLinux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install EPEL repository if needed\nsudo dnf install -y epel-release\n\n# Install chef\nsudo dnf install -y chef\n\n# Enable and start service\nsudo systemctl enable --now chef\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=443/tcp\nsudo firewall-cmd --reload\n\n# Verify installation\nchef --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"debianubuntu\" class=\"mobile-header\"\u003eDebian/Ubuntu\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Update package index\nsudo apt update\n\n# Install chef\nsudo apt install -y chef\n\n# Enable and start service\nsudo systemctl enable --now chef\n\n# Configure firewall\nsudo ufw allow 443\n\n# Verify installation\nchef --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"arch-linux\" class=\"mobile-header\"\u003eArch Linux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install chef\nsudo pacman -S chef\n\n# Enable and start service\nsudo systemctl enable --now chef\n\n# Verify installation\nchef --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"alpine-linux\" class=\"mobile-header\"\u003eAlpine Linux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install chef\napk add --no-cache chef\n\n# Enable and start service\nrc-update add chef default\nrc-service chef start\n\n# Verify installation\nchef --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"opensusesles\" class=\"mobile-header\"\u003eopenSUSE/SLES\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install chef\nsudo zypper install -y chef\n\n# Enable and start service\nsudo systemctl enable --now chef\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=443/tcp\nsudo firewall-cmd --reload\n\n# Verify installation\nchef --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"macos\" class=\"mobile-header\"\u003emacOS\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using Homebrew\nbrew install chef\n\n# Start service\nbrew services start chef\n\n# Verify installation\nchef --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"freebsd\" class=\"mobile-header\"\u003eFreeBSD\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using pkg\npkg install chef\n\n# Enable in rc.conf\necho \u0026#039;chef_enable=\u0026quot;YES\u0026quot;\u0026#039; \u0026gt;\u0026gt; /etc/rc.conf\n\n# Start service\nservice chef start\n\n# Verify installation\nchef --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"windows\" class=\"mobile-header\"\u003eWindows\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using Chocolatey\nchoco install chef\n\n# Or using Scoop\nscoop install chef\n\n# Verify installation\nchef --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"initial-configuration\" class=\"mobile-header\"\u003eInitial Configuration\u003c/h2\u003e\n\u003ch3 id=\"basic-configuration\" class=\"mobile-header\"\u003eBasic Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create configuration directory\nsudo mkdir -p /etc/chef\n\n# Set up basic configuration\n# See official documentation for detailed configuration options\n\n# Test configuration\nchef --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"5-service-management\" class=\"mobile-header\"\u003e5. Service Management\u003c/h2\u003e\n\u003ch3 id=\"systemd-rhel-debian-ubuntu-arch-opensuse\" class=\"mobile-header\"\u003esystemd (RHEL, Debian, Ubuntu, Arch, openSUSE)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable service\nsudo systemctl enable chef\n\n# Start service\nsudo systemctl start chef\n\n# Stop service\nsudo systemctl stop chef\n\n# Restart service\nsudo systemctl restart chef\n\n# Check status\nsudo systemctl status chef\n\n# View logs\nsudo journalctl -u chef -f\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"openrc-alpine-linux\" class=\"mobile-header\"\u003eOpenRC (Alpine Linux)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable service\nrc-update add chef default\n\n# Start service\nrc-service chef start\n\n# Stop service\nrc-service chef stop\n\n# Restart service\nrc-service chef restart\n\n# Check status\nrc-service chef status\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"rcd-freebsd\" class=\"mobile-header\"\u003erc.d (FreeBSD)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable in /etc/rc.conf\necho \u0026#039;chef_enable=\u0026quot;YES\u0026quot;\u0026#039; \u0026gt;\u0026gt; /etc/rc.conf\n\n# Start service\nservice chef start\n\n# Stop service\nservice chef stop\n\n# Restart service\nservice chef restart\n\n# Check status\nservice chef status\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"launchd-macos\" class=\"mobile-header\"\u003elaunchd (macOS)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using Homebrew services\nbrew services start chef\nbrew services stop chef\nbrew services restart chef\n\n# Check status\nbrew services list | grep chef\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"windows-service-manager\" class=\"mobile-header\"\u003eWindows Service Manager\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"powershell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epowershell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-powershell\"\u003e# Start service\nnet start chef\n\n# Stop service\nnet stop chef\n\n# Using PowerShell\nStart-Service chef\nStop-Service chef\nRestart-Service chef\n\n# Check status\nGet-Service chef\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"advanced-configuration\" class=\"mobile-header\"\u003eAdvanced Configuration\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eSee the official documentation for advanced configuration options.\u003c/p\u003e\n\u003ch2 id=\"reverse-proxy-setup\" class=\"mobile-header\"\u003eReverse Proxy Setup\u003c/h2\u003e\n\u003ch3 id=\"nginx-configuration\" class=\"mobile-header\"\u003enginx Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"nginx\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003enginx\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-nginx\"\u003eupstream chef_backend {\n    server 127.0.0.1:443;\n}\n\nserver {\n    listen 80;\n    server_name chef.example.com;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name chef.example.com;\n\n    ssl_certificate /etc/ssl/certs/chef.example.com.crt;\n    ssl_certificate_key /etc/ssl/private/chef.example.com.key;\n\n    location / {\n        proxy_pass http://chef_backend;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"apache-configuration\" class=\"mobile-header\"\u003eApache Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"apache\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eapache\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-apache\"\u003e\u0026lt;VirtualHost *:80\u0026gt;\n    ServerName chef.example.com\n    Redirect permanent / https://chef.example.com/\n\u0026lt;/VirtualHost\u0026gt;\n\n\u0026lt;VirtualHost *:443\u0026gt;\n    ServerName chef.example.com\n    \n    SSLEngine on\n    SSLCertificateFile /etc/ssl/certs/chef.example.com.crt\n    SSLCertificateKeyFile /etc/ssl/private/chef.example.com.key\n    \n    ProxyRequests Off\n    ProxyPreserveHost On\n    \n    ProxyPass / http://127.0.0.1:443/\n    ProxyPassReverse / http://127.0.0.1:443/\n\u0026lt;/VirtualHost\u0026gt;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"haproxy-configuration\" class=\"mobile-header\"\u003eHAProxy Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"haproxy\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ehaproxy\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-haproxy\"\u003efrontend chef_frontend\n    bind *:80\n    bind *:443 ssl crt /etc/ssl/certs/chef.pem\n    redirect scheme https if !{ ssl_fc }\n    default_backend chef_backend\n\nbackend chef_backend\n    balance roundrobin\n    server chef1 127.0.0.1:443 check\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"security-configuration\" class=\"mobile-header\"\u003eSecurity Configuration\u003c/h2\u003e\n\u003ch3 id=\"basic-security-setup\" class=\"mobile-header\"\u003eBasic Security Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Set appropriate permissions\nsudo chown -R chef:chef /etc/chef\nsudo chmod 750 /etc/chef\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=443/tcp\nsudo firewall-cmd --reload\n\n# Enable SELinux policies (if applicable)\nsudo setsebool -P httpd_can_network_connect on\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"database-setup\" class=\"mobile-header\"\u003eDatabase Setup\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eSee official documentation for database configuration requirements.\u003c/p\u003e\n\u003ch2 id=\"performance-optimization\" class=\"mobile-header\"\u003ePerformance Optimization\u003c/h2\u003e\n\u003ch3 id=\"system-tuning\" class=\"mobile-header\"\u003eSystem Tuning\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Basic system tuning\necho \u0026#039;net.core.somaxconn = 65535\u0026#039; | sudo tee -a /etc/sysctl.conf\necho \u0026#039;net.ipv4.tcp_max_syn_backlog = 65535\u0026#039; | sudo tee -a /etc/sysctl.conf\nsudo sysctl -p\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"monitoring\" class=\"mobile-header\"\u003eMonitoring\u003c/h2\u003e\n\u003ch3 id=\"basic-monitoring\" class=\"mobile-header\"\u003eBasic Monitoring\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check service status\nsudo systemctl status chef\n\n# View logs\nsudo journalctl -u chef -f\n\n# Monitor resource usage\ntop -p $(pgrep chef)\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"9-backup-and-restore\" class=\"mobile-header\"\u003e9. Backup and Restore\u003c/h2\u003e\n\u003ch3 id=\"backup-script\" class=\"mobile-header\"\u003eBackup Script\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# Basic backup script\nBACKUP_DIR=\u0026quot;/backup/chef\u0026quot;\nDATE=$(date +%Y%m%d_%H%M%S)\n\nmkdir -p \u0026quot;$BACKUP_DIR\u0026quot;\ntar -czf \u0026quot;$BACKUP_DIR/chef-backup-$DATE.tar.gz\u0026quot; /etc/chef /var/lib/chef\n\necho \u0026quot;Backup completed: $BACKUP_DIR/chef-backup-$DATE.tar.gz\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"restore-procedure\" class=\"mobile-header\"\u003eRestore Procedure\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Stop service\nsudo systemctl stop chef\n\n# Restore from backup\ntar -xzf /backup/chef/chef-backup-*.tar.gz -C /\n\n# Start service\nsudo systemctl start chef\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"6-troubleshooting\" class=\"mobile-header\"\u003e6. Troubleshooting\u003c/h2\u003e\n\u003ch3 id=\"common-issues\" class=\"mobile-header\"\u003eCommon Issues\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e1. \u003cstrong\u003eService won't start\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check logs\nsudo journalctl -u chef -n 100\nsudo tail -f /var/log/chef/chef.log\n\n# Check configuration\nchef --version\n\n# Check permissions\nls -la /etc/chef\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e2. \u003cstrong\u003eConnection issues\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check if service is listening\nsudo ss -tlnp | grep 443\n\n# Test connectivity\ntelnet localhost 443\n\n# Check firewall\nsudo firewall-cmd --list-all\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e3. \u003cstrong\u003ePerformance issues\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check resource usage\ntop -p $(pgrep chef)\n\n# Check disk I/O\niotop -p $(pgrep chef)\n\n# Check connections\nss -an | grep 443\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"integration-examples\" class=\"mobile-header\"\u003eIntegration Examples\u003c/h2\u003e\n\u003ch3 id=\"docker-compose-example\" class=\"mobile-header\"\u003eDocker Compose Example\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"yaml\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eyaml\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-yaml\"\u003eversion: \u0026#039;3.8\u0026#039;\nservices:\n  chef:\n    image: chef:latest\n    ports:\n      - \u0026quot;443:443\u0026quot;\n    volumes:\n      - ./config:/etc/chef\n      - ./data:/var/lib/chef\n    restart: unless-stopped\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"maintenance\" class=\"mobile-header\"\u003eMaintenance\u003c/h2\u003e\n\u003ch3 id=\"update-procedures\" class=\"mobile-header\"\u003eUpdate Procedures\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# RHEL/CentOS/Rocky/AlmaLinux\nsudo dnf update chef\n\n# Debian/Ubuntu\nsudo apt update \u0026amp;\u0026amp; sudo apt upgrade chef\n\n# Arch Linux\nsudo pacman -Syu chef\n\n# Alpine Linux\napk update \u0026amp;\u0026amp; apk upgrade chef\n\n# openSUSE\nsudo zypper update chef\n\n# FreeBSD\npkg update \u0026amp;\u0026amp; pkg upgrade chef\n\n# Always backup before updates\ntar -czf /backup/chef-pre-update-$(date +%Y%m%d).tar.gz /etc/chef\n\n# Restart after updates\nsudo systemctl restart chef\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"regular-maintenance\" class=\"mobile-header\"\u003eRegular Maintenance\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Log rotation\nsudo logrotate -f /etc/logrotate.d/chef\n\n# Clean old logs\nfind /var/log/chef -name \u0026quot;*.log\u0026quot; -mtime +30 -delete\n\n# Check disk usage\ndu -sh /var/lib/chef\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"additional-resources\" class=\"mobile-header\"\u003eAdditional Resources\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003eOfficial Documentation: https://docs.chef.org/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eGitHub Repository: https://github.com/chef/chef\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eCommunity Forum: https://forum.chef.org/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eBest Practices Guide: https://docs.chef.org/best-practices\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e---\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This guide is part of the \u003ca href=\"https://howtomgr.github.io\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eHowToMgr\u003c/a\u003e collection. Always refer to official documentation for the most up-to-date information.\u003c/p\u003e","readTime":"7 min","wordCount":1265,"tableOfContents":[{"level":2,"text":"1. Prerequisites","id":"1-prerequisites"},{"level":2,"text":"2. Supported Operating Systems","id":"2-supported-operating-systems"},{"level":2,"text":"3. Installation","id":"3-installation"},{"level":3,"text":"RHEL/CentOS/Rocky Linux/AlmaLinux","id":"rhelcentosrocky-linuxalmalinux"},{"level":3,"text":"Debian/Ubuntu","id":"debianubuntu"},{"level":3,"text":"Arch Linux","id":"arch-linux"},{"level":3,"text":"Alpine Linux","id":"alpine-linux"},{"level":3,"text":"openSUSE/SLES","id":"opensusesles"},{"level":3,"text":"macOS","id":"macos"},{"level":3,"text":"FreeBSD","id":"freebsd"},{"level":3,"text":"Windows","id":"windows"},{"level":2,"text":"Initial Configuration","id":"initial-configuration"},{"level":3,"text":"Basic Configuration","id":"basic-configuration"},{"level":2,"text":"5. Service Management","id":"5-service-management"},{"level":3,"text":"systemd (RHEL, Debian, Ubuntu, Arch, openSUSE)","id":"systemd-rhel-debian-ubuntu-arch-opensuse"},{"level":3,"text":"OpenRC (Alpine Linux)","id":"openrc-alpine-linux"},{"level":3,"text":"rc.d (FreeBSD)","id":"rcd-freebsd"},{"level":3,"text":"launchd (macOS)","id":"launchd-macos"},{"level":3,"text":"Windows Service Manager","id":"windows-service-manager"},{"level":2,"text":"Advanced Configuration","id":"advanced-configuration"},{"level":2,"text":"Reverse Proxy Setup","id":"reverse-proxy-setup"},{"level":3,"text":"nginx Configuration","id":"nginx-configuration"},{"level":3,"text":"Apache Configuration","id":"apache-configuration"},{"level":3,"text":"HAProxy Configuration","id":"haproxy-configuration"},{"level":2,"text":"Security Configuration","id":"security-configuration"},{"level":3,"text":"Basic Security Setup","id":"basic-security-setup"},{"level":2,"text":"Database Setup","id":"database-setup"},{"level":2,"text":"Performance Optimization","id":"performance-optimization"},{"level":3,"text":"System Tuning","id":"system-tuning"},{"level":2,"text":"Monitoring","id":"monitoring"},{"level":3,"text":"Basic Monitoring","id":"basic-monitoring"},{"level":2,"text":"9. Backup and Restore","id":"9-backup-and-restore"},{"level":3,"text":"Backup Script","id":"backup-script"},{"level":3,"text":"Restore Procedure","id":"restore-procedure"},{"level":2,"text":"6. Troubleshooting","id":"6-troubleshooting"},{"level":3,"text":"Common Issues","id":"common-issues"},{"level":2,"text":"Integration Examples","id":"integration-examples"},{"level":3,"text":"Docker Compose Example","id":"docker-compose-example"},{"level":2,"text":"Maintenance","id":"maintenance"},{"level":3,"text":"Update Procedures","id":"update-procedures"},{"level":3,"text":"Regular Maintenance","id":"regular-maintenance"},{"level":2,"text":"Additional Resources","id":"additional-resources"}],"lastBuilt":"2025-10-06T06:21:53.089Z","metadataVersion":"2.0"},{"name":"puppet","displayName":"puppet Installation Guide","slug":"puppet","description":"puppet is a free and open-source configuration management. Puppet provides infrastructure automation and delivery","category":"configuration-management","subcategory":"configuration-management","difficultyLevel":"intermediate","estimatedSetupTime":"15-30 minutes","supportedOS":["rhel","centos","rocky","almalinux","debian","ubuntu","arch","alpine","opensuse","sles","macos","freebsd","windows"],"defaultPorts":[80,443],"installationMethods":["native-packages","source-compilation"],"features":["multi-os-support","comprehensive-documentation","security-hardening","performance-optimization","backup-restore-procedures","troubleshooting-guides"],"tags":["configuration-management","containerization","observability","data-storage","networking","security","data-protection"],"maintenanceStatus":"active","specVersion":"2.0","version":"1.0.0","license":"Open Source","websiteUrl":"https://howtomgr.github.io/configuration-management/puppet","documentationUrl":"https://howtomgr.github.io/configuration-management/puppet","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/puppet","updatedAt":"2025-09-16T17:45:31Z","createdAt":"2025-09-16T08:07:38Z","readmeRaw":"# puppet Installation Guide\n\npuppet is a free and open-source configuration management. Puppet provides infrastructure automation and delivery\n\n## Table of Contents\n1. [Prerequisites](#prerequisites)\n2. [Supported Operating Systems](#supported-operating-systems)\n3. [Installation](#installation)\n4. [Configuration](#configuration)\n5. [Service Management](#service-management)\n6. [Troubleshooting](#troubleshooting)\n7. [Security Considerations](#security-considerations)\n8. [Performance Tuning](#performance-tuning)\n9. [Backup and Restore](#backup-and-restore)\n10. [System Requirements](#system-requirements)\n11. [Support](#support)\n12. [Contributing](#contributing)\n13. [License](#license)\n14. [Acknowledgments](#acknowledgments)\n15. [Version History](#version-history)\n16. [Appendices](#appendices)\n\n## 1. Prerequisites\n\n- **Hardware Requirements**:\n  - CPU: 4+ cores\n  - RAM: 8GB minimum\n  - Storage: 50GB for data\n  - Network: HTTP/HTTPS\n- **Operating System**: \n  - Linux: Any modern distribution (RHEL, Debian, Ubuntu, CentOS, Fedora, Arch, Alpine, openSUSE)\n  - macOS: 10.14+ (Mojave or newer)\n  - Windows: Windows Server 2016+ or Windows 10\n  - FreeBSD: 11.0+\n- **Network Requirements**:\n  - Port 443 (default puppet port)\n  - Various service ports\n- **Dependencies**:\n  - See official documentation for specific requirements\n- **System Access**: root or sudo privileges required\n\n\n## 2. Supported Operating Systems\n\nThis guide supports installation on:\n- RHEL 8/9 and derivatives (CentOS Stream, Rocky Linux, AlmaLinux)\n- Debian 11/12\n- Ubuntu 20.04/22.04/24.04 LTS\n- Arch Linux (rolling release)\n- Alpine Linux 3.18+\n- openSUSE Leap 15.5+ / Tumbleweed\n- SUSE Linux Enterprise Server (SLES) 15+\n- macOS 12+ (Monterey and later) \n- FreeBSD 13+\n- Windows 10/11/Server 2019+ (where applicable)\n\n## 3. Installation\n\n### RHEL/CentOS/Rocky Linux/AlmaLinux\n\n```bash\n# Install EPEL repository if needed\nsudo dnf install -y epel-release\n\n# Install puppet\nsudo dnf install -y puppet\n\n# Enable and start service\nsudo systemctl enable --now puppet\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=443/tcp\nsudo firewall-cmd --reload\n\n# Verify installation\npuppet --version\n```\n\n### Debian/Ubuntu\n\n```bash\n# Update package index\nsudo apt update\n\n# Install puppet\nsudo apt install -y puppet\n\n# Enable and start service\nsudo systemctl enable --now puppet\n\n# Configure firewall\nsudo ufw allow 443\n\n# Verify installation\npuppet --version\n```\n\n### Arch Linux\n\n```bash\n# Install puppet\nsudo pacman -S puppet\n\n# Enable and start service\nsudo systemctl enable --now puppet\n\n# Verify installation\npuppet --version\n```\n\n### Alpine Linux\n\n```bash\n# Install puppet\napk add --no-cache puppet\n\n# Enable and start service\nrc-update add puppet default\nrc-service puppet start\n\n# Verify installation\npuppet --version\n```\n\n### openSUSE/SLES\n\n```bash\n# Install puppet\nsudo zypper install -y puppet\n\n# Enable and start service\nsudo systemctl enable --now puppet\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=443/tcp\nsudo firewall-cmd --reload\n\n# Verify installation\npuppet --version\n```\n\n### macOS\n\n```bash\n# Using Homebrew\nbrew install puppet\n\n# Start service\nbrew services start puppet\n\n# Verify installation\npuppet --version\n```\n\n### FreeBSD\n\n```bash\n# Using pkg\npkg install puppet\n\n# Enable in rc.conf\necho 'puppet_enable=\"YES\"' \u003e\u003e /etc/rc.conf\n\n# Start service\nservice puppet start\n\n# Verify installation\npuppet --version\n```\n\n### Windows\n\n```bash\n# Using Chocolatey\nchoco install puppet\n\n# Or using Scoop\nscoop install puppet\n\n# Verify installation\npuppet --version\n```\n\n## Initial Configuration\n\n### Basic Configuration\n\n```bash\n# Create configuration directory\nsudo mkdir -p /etc/puppet\n\n# Set up basic configuration\n# See official documentation for detailed configuration options\n\n# Test configuration\npuppet --version\n```\n\n## 5. Service Management\n\n### systemd (RHEL, Debian, Ubuntu, Arch, openSUSE)\n\n```bash\n# Enable service\nsudo systemctl enable puppet\n\n# Start service\nsudo systemctl start puppet\n\n# Stop service\nsudo systemctl stop puppet\n\n# Restart service\nsudo systemctl restart puppet\n\n# Check status\nsudo systemctl status puppet\n\n# View logs\nsudo journalctl -u puppet -f\n```\n\n### OpenRC (Alpine Linux)\n\n```bash\n# Enable service\nrc-update add puppet default\n\n# Start service\nrc-service puppet start\n\n# Stop service\nrc-service puppet stop\n\n# Restart service\nrc-service puppet restart\n\n# Check status\nrc-service puppet status\n```\n\n### rc.d (FreeBSD)\n\n```bash\n# Enable in /etc/rc.conf\necho 'puppet_enable=\"YES\"' \u003e\u003e /etc/rc.conf\n\n# Start service\nservice puppet start\n\n# Stop service\nservice puppet stop\n\n# Restart service\nservice puppet restart\n\n# Check status\nservice puppet status\n```\n\n### launchd (macOS)\n\n```bash\n# Using Homebrew services\nbrew services start puppet\nbrew services stop puppet\nbrew services restart puppet\n\n# Check status\nbrew services list | grep puppet\n```\n\n### Windows Service Manager\n\n```powershell\n# Start service\nnet start puppet\n\n# Stop service\nnet stop puppet\n\n# Using PowerShell\nStart-Service puppet\nStop-Service puppet\nRestart-Service puppet\n\n# Check status\nGet-Service puppet\n```\n\n## Advanced Configuration\n\nSee the official documentation for advanced configuration options.\n\n## Reverse Proxy Setup\n\n### nginx Configuration\n\n```nginx\nupstream puppet_backend {\n    server 127.0.0.1:443;\n}\n\nserver {\n    listen 80;\n    server_name puppet.example.com;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name puppet.example.com;\n\n    ssl_certificate /etc/ssl/certs/puppet.example.com.crt;\n    ssl_certificate_key /etc/ssl/private/puppet.example.com.key;\n\n    location / {\n        proxy_pass http://puppet_backend;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\n```\n\n### Apache Configuration\n\n```apache\n\u003cVirtualHost *:80\u003e\n    ServerName puppet.example.com\n    Redirect permanent / https://puppet.example.com/\n\u003c/VirtualHost\u003e\n\n\u003cVirtualHost *:443\u003e\n    ServerName puppet.example.com\n    \n    SSLEngine on\n    SSLCertificateFile /etc/ssl/certs/puppet.example.com.crt\n    SSLCertificateKeyFile /etc/ssl/private/puppet.example.com.key\n    \n    ProxyRequests Off\n    ProxyPreserveHost On\n    \n    ProxyPass / http://127.0.0.1:443/\n    ProxyPassReverse / http://127.0.0.1:443/\n\u003c/VirtualHost\u003e\n```\n\n### HAProxy Configuration\n\n```haproxy\nfrontend puppet_frontend\n    bind *:80\n    bind *:443 ssl crt /etc/ssl/certs/puppet.pem\n    redirect scheme https if !{ ssl_fc }\n    default_backend puppet_backend\n\nbackend puppet_backend\n    balance roundrobin\n    server puppet1 127.0.0.1:443 check\n```\n\n## Security Configuration\n\n### Basic Security Setup\n\n```bash\n# Set appropriate permissions\nsudo chown -R puppet:puppet /etc/puppet\nsudo chmod 750 /etc/puppet\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=443/tcp\nsudo firewall-cmd --reload\n\n# Enable SELinux policies (if applicable)\nsudo setsebool -P httpd_can_network_connect on\n```\n\n## Database Setup\n\nSee official documentation for database configuration requirements.\n\n## Performance Optimization\n\n### System Tuning\n\n```bash\n# Basic system tuning\necho 'net.core.somaxconn = 65535' | sudo tee -a /etc/sysctl.conf\necho 'net.ipv4.tcp_max_syn_backlog = 65535' | sudo tee -a /etc/sysctl.conf\nsudo sysctl -p\n```\n\n## Monitoring\n\n### Basic Monitoring\n\n```bash\n# Check service status\nsudo systemctl status puppet\n\n# View logs\nsudo journalctl -u puppet -f\n\n# Monitor resource usage\ntop -p $(pgrep puppet)\n```\n\n## 9. Backup and Restore\n\n### Backup Script\n\n```bash\n#!/bin/bash\n# Basic backup script\nBACKUP_DIR=\"/backup/puppet\"\nDATE=$(date +%Y%m%d_%H%M%S)\n\nmkdir -p \"$BACKUP_DIR\"\ntar -czf \"$BACKUP_DIR/puppet-backup-$DATE.tar.gz\" /etc/puppet /var/lib/puppet\n\necho \"Backup completed: $BACKUP_DIR/puppet-backup-$DATE.tar.gz\"\n```\n\n### Restore Procedure\n\n```bash\n# Stop service\nsudo systemctl stop puppet\n\n# Restore from backup\ntar -xzf /backup/puppet/puppet-backup-*.tar.gz -C /\n\n# Start service\nsudo systemctl start puppet\n```\n\n## 6. Troubleshooting\n\n### Common Issues\n\n1. **Service won't start**:\n```bash\n# Check logs\nsudo journalctl -u puppet -n 100\nsudo tail -f /var/log/puppet/puppet.log\n\n# Check configuration\npuppet --version\n\n# Check permissions\nls -la /etc/puppet\n```\n\n2. **Connection issues**:\n```bash\n# Check if service is listening\nsudo ss -tlnp | grep 443\n\n# Test connectivity\ntelnet localhost 443\n\n# Check firewall\nsudo firewall-cmd --list-all\n```\n\n3. **Performance issues**:\n```bash\n# Check resource usage\ntop -p $(pgrep puppet)\n\n# Check disk I/O\niotop -p $(pgrep puppet)\n\n# Check connections\nss -an | grep 443\n```\n\n## Integration Examples\n\n### Docker Compose Example\n\n```yaml\nversion: '3.8'\nservices:\n  puppet:\n    image: puppet:latest\n    ports:\n      - \"443:443\"\n    volumes:\n      - ./config:/etc/puppet\n      - ./data:/var/lib/puppet\n    restart: unless-stopped\n```\n\n## Maintenance\n\n### Update Procedures\n\n```bash\n# RHEL/CentOS/Rocky/AlmaLinux\nsudo dnf update puppet\n\n# Debian/Ubuntu\nsudo apt update \u0026\u0026 sudo apt upgrade puppet\n\n# Arch Linux\nsudo pacman -Syu puppet\n\n# Alpine Linux\napk update \u0026\u0026 apk upgrade puppet\n\n# openSUSE\nsudo zypper update puppet\n\n# FreeBSD\npkg update \u0026\u0026 pkg upgrade puppet\n\n# Always backup before updates\ntar -czf /backup/puppet-pre-update-$(date +%Y%m%d).tar.gz /etc/puppet\n\n# Restart after updates\nsudo systemctl restart puppet\n```\n\n### Regular Maintenance\n\n```bash\n# Log rotation\nsudo logrotate -f /etc/logrotate.d/puppet\n\n# Clean old logs\nfind /var/log/puppet -name \"*.log\" -mtime +30 -delete\n\n# Check disk usage\ndu -sh /var/lib/puppet\n```\n\n## Additional Resources\n\n- Official Documentation: https://docs.puppet.org/\n- GitHub Repository: https://github.com/puppet/puppet\n- Community Forum: https://forum.puppet.org/\n- Best Practices Guide: https://docs.puppet.org/best-practices\n\n---\n\n**Note:** This guide is part of the [HowToMgr](https://howtomgr.github.io) collection. Always refer to official documentation for the most up-to-date information.\n","readmeHtml":"\u003cp class=\"mobile-paragraph\"\u003epuppet is a free and open-source configuration management. Puppet provides infrastructure automation and delivery\u003c/p\u003e\n\u003ch2 id=\"1-prerequisites\" class=\"mobile-header\"\u003e1. Prerequisites\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eHardware Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eCPU: 4+ cores\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eRAM: 8GB minimum\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eStorage: 50GB for data\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eNetwork: HTTP/HTTPS\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eOperating System\u003c/strong\u003e: \u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eLinux: Any modern distribution (RHEL, Debian, Ubuntu, CentOS, Fedora, Arch, Alpine, openSUSE)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003emacOS: 10.14+ (Mojave or newer)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWindows: Windows Server 2016+ or Windows 10\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eFreeBSD: 11.0+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eNetwork Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 443 (default puppet port)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eVarious service ports\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eDependencies\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eSee official documentation for specific requirements\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eSystem Access\u003c/strong\u003e: root or sudo privileges required\u003c/li\u003e\n\u003ch2 id=\"2-supported-operating-systems\" class=\"mobile-header\"\u003e2. Supported Operating Systems\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eThis guide supports installation on:\u003c/p\u003e\n\u003cli class=\"mobile-list-item\"\u003eRHEL 8/9 and derivatives (CentOS Stream, Rocky Linux, AlmaLinux)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eDebian 11/12\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eUbuntu 20.04/22.04/24.04 LTS\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eArch Linux (rolling release)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eAlpine Linux 3.18+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eopenSUSE Leap 15.5+ / Tumbleweed\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eSUSE Linux Enterprise Server (SLES) 15+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003emacOS 12+ (Monterey and later) \u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eFreeBSD 13+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWindows 10/11/Server 2019+ (where applicable)\u003c/li\u003e\n\u003ch2 id=\"3-installation\" class=\"mobile-header\"\u003e3. Installation\u003c/h2\u003e\n\u003ch3 id=\"rhelcentosrocky-linuxalmalinux\" class=\"mobile-header\"\u003eRHEL/CentOS/Rocky Linux/AlmaLinux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install EPEL repository if needed\nsudo dnf install -y epel-release\n\n# Install puppet\nsudo dnf install -y puppet\n\n# Enable and start service\nsudo systemctl enable --now puppet\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=443/tcp\nsudo firewall-cmd --reload\n\n# Verify installation\npuppet --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"debianubuntu\" class=\"mobile-header\"\u003eDebian/Ubuntu\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Update package index\nsudo apt update\n\n# Install puppet\nsudo apt install -y puppet\n\n# Enable and start service\nsudo systemctl enable --now puppet\n\n# Configure firewall\nsudo ufw allow 443\n\n# Verify installation\npuppet --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"arch-linux\" class=\"mobile-header\"\u003eArch Linux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install puppet\nsudo pacman -S puppet\n\n# Enable and start service\nsudo systemctl enable --now puppet\n\n# Verify installation\npuppet --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"alpine-linux\" class=\"mobile-header\"\u003eAlpine Linux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install puppet\napk add --no-cache puppet\n\n# Enable and start service\nrc-update add puppet default\nrc-service puppet start\n\n# Verify installation\npuppet --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"opensusesles\" class=\"mobile-header\"\u003eopenSUSE/SLES\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install puppet\nsudo zypper install -y puppet\n\n# Enable and start service\nsudo systemctl enable --now puppet\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=443/tcp\nsudo firewall-cmd --reload\n\n# Verify installation\npuppet --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"macos\" class=\"mobile-header\"\u003emacOS\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using Homebrew\nbrew install puppet\n\n# Start service\nbrew services start puppet\n\n# Verify installation\npuppet --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"freebsd\" class=\"mobile-header\"\u003eFreeBSD\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using pkg\npkg install puppet\n\n# Enable in rc.conf\necho \u0026#039;puppet_enable=\u0026quot;YES\u0026quot;\u0026#039; \u0026gt;\u0026gt; /etc/rc.conf\n\n# Start service\nservice puppet start\n\n# Verify installation\npuppet --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"windows\" class=\"mobile-header\"\u003eWindows\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using Chocolatey\nchoco install puppet\n\n# Or using Scoop\nscoop install puppet\n\n# Verify installation\npuppet --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"initial-configuration\" class=\"mobile-header\"\u003eInitial Configuration\u003c/h2\u003e\n\u003ch3 id=\"basic-configuration\" class=\"mobile-header\"\u003eBasic Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create configuration directory\nsudo mkdir -p /etc/puppet\n\n# Set up basic configuration\n# See official documentation for detailed configuration options\n\n# Test configuration\npuppet --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"5-service-management\" class=\"mobile-header\"\u003e5. Service Management\u003c/h2\u003e\n\u003ch3 id=\"systemd-rhel-debian-ubuntu-arch-opensuse\" class=\"mobile-header\"\u003esystemd (RHEL, Debian, Ubuntu, Arch, openSUSE)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable service\nsudo systemctl enable puppet\n\n# Start service\nsudo systemctl start puppet\n\n# Stop service\nsudo systemctl stop puppet\n\n# Restart service\nsudo systemctl restart puppet\n\n# Check status\nsudo systemctl status puppet\n\n# View logs\nsudo journalctl -u puppet -f\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"openrc-alpine-linux\" class=\"mobile-header\"\u003eOpenRC (Alpine Linux)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable service\nrc-update add puppet default\n\n# Start service\nrc-service puppet start\n\n# Stop service\nrc-service puppet stop\n\n# Restart service\nrc-service puppet restart\n\n# Check status\nrc-service puppet status\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"rcd-freebsd\" class=\"mobile-header\"\u003erc.d (FreeBSD)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable in /etc/rc.conf\necho \u0026#039;puppet_enable=\u0026quot;YES\u0026quot;\u0026#039; \u0026gt;\u0026gt; /etc/rc.conf\n\n# Start service\nservice puppet start\n\n# Stop service\nservice puppet stop\n\n# Restart service\nservice puppet restart\n\n# Check status\nservice puppet status\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"launchd-macos\" class=\"mobile-header\"\u003elaunchd (macOS)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using Homebrew services\nbrew services start puppet\nbrew services stop puppet\nbrew services restart puppet\n\n# Check status\nbrew services list | grep puppet\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"windows-service-manager\" class=\"mobile-header\"\u003eWindows Service Manager\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"powershell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epowershell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-powershell\"\u003e# Start service\nnet start puppet\n\n# Stop service\nnet stop puppet\n\n# Using PowerShell\nStart-Service puppet\nStop-Service puppet\nRestart-Service puppet\n\n# Check status\nGet-Service puppet\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"advanced-configuration\" class=\"mobile-header\"\u003eAdvanced Configuration\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eSee the official documentation for advanced configuration options.\u003c/p\u003e\n\u003ch2 id=\"reverse-proxy-setup\" class=\"mobile-header\"\u003eReverse Proxy Setup\u003c/h2\u003e\n\u003ch3 id=\"nginx-configuration\" class=\"mobile-header\"\u003enginx Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"nginx\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003enginx\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-nginx\"\u003eupstream puppet_backend {\n    server 127.0.0.1:443;\n}\n\nserver {\n    listen 80;\n    server_name puppet.example.com;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name puppet.example.com;\n\n    ssl_certificate /etc/ssl/certs/puppet.example.com.crt;\n    ssl_certificate_key /etc/ssl/private/puppet.example.com.key;\n\n    location / {\n        proxy_pass http://puppet_backend;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"apache-configuration\" class=\"mobile-header\"\u003eApache Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"apache\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eapache\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-apache\"\u003e\u0026lt;VirtualHost *:80\u0026gt;\n    ServerName puppet.example.com\n    Redirect permanent / https://puppet.example.com/\n\u0026lt;/VirtualHost\u0026gt;\n\n\u0026lt;VirtualHost *:443\u0026gt;\n    ServerName puppet.example.com\n    \n    SSLEngine on\n    SSLCertificateFile /etc/ssl/certs/puppet.example.com.crt\n    SSLCertificateKeyFile /etc/ssl/private/puppet.example.com.key\n    \n    ProxyRequests Off\n    ProxyPreserveHost On\n    \n    ProxyPass / http://127.0.0.1:443/\n    ProxyPassReverse / http://127.0.0.1:443/\n\u0026lt;/VirtualHost\u0026gt;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"haproxy-configuration\" class=\"mobile-header\"\u003eHAProxy Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"haproxy\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ehaproxy\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-haproxy\"\u003efrontend puppet_frontend\n    bind *:80\n    bind *:443 ssl crt /etc/ssl/certs/puppet.pem\n    redirect scheme https if !{ ssl_fc }\n    default_backend puppet_backend\n\nbackend puppet_backend\n    balance roundrobin\n    server puppet1 127.0.0.1:443 check\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"security-configuration\" class=\"mobile-header\"\u003eSecurity Configuration\u003c/h2\u003e\n\u003ch3 id=\"basic-security-setup\" class=\"mobile-header\"\u003eBasic Security Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Set appropriate permissions\nsudo chown -R puppet:puppet /etc/puppet\nsudo chmod 750 /etc/puppet\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=443/tcp\nsudo firewall-cmd --reload\n\n# Enable SELinux policies (if applicable)\nsudo setsebool -P httpd_can_network_connect on\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"database-setup\" class=\"mobile-header\"\u003eDatabase Setup\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eSee official documentation for database configuration requirements.\u003c/p\u003e\n\u003ch2 id=\"performance-optimization\" class=\"mobile-header\"\u003ePerformance Optimization\u003c/h2\u003e\n\u003ch3 id=\"system-tuning\" class=\"mobile-header\"\u003eSystem Tuning\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Basic system tuning\necho \u0026#039;net.core.somaxconn = 65535\u0026#039; | sudo tee -a /etc/sysctl.conf\necho \u0026#039;net.ipv4.tcp_max_syn_backlog = 65535\u0026#039; | sudo tee -a /etc/sysctl.conf\nsudo sysctl -p\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"monitoring\" class=\"mobile-header\"\u003eMonitoring\u003c/h2\u003e\n\u003ch3 id=\"basic-monitoring\" class=\"mobile-header\"\u003eBasic Monitoring\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check service status\nsudo systemctl status puppet\n\n# View logs\nsudo journalctl -u puppet -f\n\n# Monitor resource usage\ntop -p $(pgrep puppet)\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"9-backup-and-restore\" class=\"mobile-header\"\u003e9. Backup and Restore\u003c/h2\u003e\n\u003ch3 id=\"backup-script\" class=\"mobile-header\"\u003eBackup Script\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# Basic backup script\nBACKUP_DIR=\u0026quot;/backup/puppet\u0026quot;\nDATE=$(date +%Y%m%d_%H%M%S)\n\nmkdir -p \u0026quot;$BACKUP_DIR\u0026quot;\ntar -czf \u0026quot;$BACKUP_DIR/puppet-backup-$DATE.tar.gz\u0026quot; /etc/puppet /var/lib/puppet\n\necho \u0026quot;Backup completed: $BACKUP_DIR/puppet-backup-$DATE.tar.gz\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"restore-procedure\" class=\"mobile-header\"\u003eRestore Procedure\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Stop service\nsudo systemctl stop puppet\n\n# Restore from backup\ntar -xzf /backup/puppet/puppet-backup-*.tar.gz -C /\n\n# Start service\nsudo systemctl start puppet\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"6-troubleshooting\" class=\"mobile-header\"\u003e6. Troubleshooting\u003c/h2\u003e\n\u003ch3 id=\"common-issues\" class=\"mobile-header\"\u003eCommon Issues\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e1. \u003cstrong\u003eService won't start\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check logs\nsudo journalctl -u puppet -n 100\nsudo tail -f /var/log/puppet/puppet.log\n\n# Check configuration\npuppet --version\n\n# Check permissions\nls -la /etc/puppet\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e2. \u003cstrong\u003eConnection issues\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check if service is listening\nsudo ss -tlnp | grep 443\n\n# Test connectivity\ntelnet localhost 443\n\n# Check firewall\nsudo firewall-cmd --list-all\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e3. \u003cstrong\u003ePerformance issues\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check resource usage\ntop -p $(pgrep puppet)\n\n# Check disk I/O\niotop -p $(pgrep puppet)\n\n# Check connections\nss -an | grep 443\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"integration-examples\" class=\"mobile-header\"\u003eIntegration Examples\u003c/h2\u003e\n\u003ch3 id=\"docker-compose-example\" class=\"mobile-header\"\u003eDocker Compose Example\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"yaml\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eyaml\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-yaml\"\u003eversion: \u0026#039;3.8\u0026#039;\nservices:\n  puppet:\n    image: puppet:latest\n    ports:\n      - \u0026quot;443:443\u0026quot;\n    volumes:\n      - ./config:/etc/puppet\n      - ./data:/var/lib/puppet\n    restart: unless-stopped\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"maintenance\" class=\"mobile-header\"\u003eMaintenance\u003c/h2\u003e\n\u003ch3 id=\"update-procedures\" class=\"mobile-header\"\u003eUpdate Procedures\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# RHEL/CentOS/Rocky/AlmaLinux\nsudo dnf update puppet\n\n# Debian/Ubuntu\nsudo apt update \u0026amp;\u0026amp; sudo apt upgrade puppet\n\n# Arch Linux\nsudo pacman -Syu puppet\n\n# Alpine Linux\napk update \u0026amp;\u0026amp; apk upgrade puppet\n\n# openSUSE\nsudo zypper update puppet\n\n# FreeBSD\npkg update \u0026amp;\u0026amp; pkg upgrade puppet\n\n# Always backup before updates\ntar -czf /backup/puppet-pre-update-$(date +%Y%m%d).tar.gz /etc/puppet\n\n# Restart after updates\nsudo systemctl restart puppet\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"regular-maintenance\" class=\"mobile-header\"\u003eRegular Maintenance\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Log rotation\nsudo logrotate -f /etc/logrotate.d/puppet\n\n# Clean old logs\nfind /var/log/puppet -name \u0026quot;*.log\u0026quot; -mtime +30 -delete\n\n# Check disk usage\ndu -sh /var/lib/puppet\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"additional-resources\" class=\"mobile-header\"\u003eAdditional Resources\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003eOfficial Documentation: https://docs.puppet.org/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eGitHub Repository: https://github.com/puppet/puppet\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eCommunity Forum: https://forum.puppet.org/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eBest Practices Guide: https://docs.puppet.org/best-practices\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e---\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This guide is part of the \u003ca href=\"https://howtomgr.github.io\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eHowToMgr\u003c/a\u003e collection. Always refer to official documentation for the most up-to-date information.\u003c/p\u003e","readTime":"7 min","wordCount":1266,"tableOfContents":[{"level":2,"text":"1. Prerequisites","id":"1-prerequisites"},{"level":2,"text":"2. Supported Operating Systems","id":"2-supported-operating-systems"},{"level":2,"text":"3. Installation","id":"3-installation"},{"level":3,"text":"RHEL/CentOS/Rocky Linux/AlmaLinux","id":"rhelcentosrocky-linuxalmalinux"},{"level":3,"text":"Debian/Ubuntu","id":"debianubuntu"},{"level":3,"text":"Arch Linux","id":"arch-linux"},{"level":3,"text":"Alpine Linux","id":"alpine-linux"},{"level":3,"text":"openSUSE/SLES","id":"opensusesles"},{"level":3,"text":"macOS","id":"macos"},{"level":3,"text":"FreeBSD","id":"freebsd"},{"level":3,"text":"Windows","id":"windows"},{"level":2,"text":"Initial Configuration","id":"initial-configuration"},{"level":3,"text":"Basic Configuration","id":"basic-configuration"},{"level":2,"text":"5. Service Management","id":"5-service-management"},{"level":3,"text":"systemd (RHEL, Debian, Ubuntu, Arch, openSUSE)","id":"systemd-rhel-debian-ubuntu-arch-opensuse"},{"level":3,"text":"OpenRC (Alpine Linux)","id":"openrc-alpine-linux"},{"level":3,"text":"rc.d (FreeBSD)","id":"rcd-freebsd"},{"level":3,"text":"launchd (macOS)","id":"launchd-macos"},{"level":3,"text":"Windows Service Manager","id":"windows-service-manager"},{"level":2,"text":"Advanced Configuration","id":"advanced-configuration"},{"level":2,"text":"Reverse Proxy Setup","id":"reverse-proxy-setup"},{"level":3,"text":"nginx Configuration","id":"nginx-configuration"},{"level":3,"text":"Apache Configuration","id":"apache-configuration"},{"level":3,"text":"HAProxy Configuration","id":"haproxy-configuration"},{"level":2,"text":"Security Configuration","id":"security-configuration"},{"level":3,"text":"Basic Security Setup","id":"basic-security-setup"},{"level":2,"text":"Database Setup","id":"database-setup"},{"level":2,"text":"Performance Optimization","id":"performance-optimization"},{"level":3,"text":"System Tuning","id":"system-tuning"},{"level":2,"text":"Monitoring","id":"monitoring"},{"level":3,"text":"Basic Monitoring","id":"basic-monitoring"},{"level":2,"text":"9. Backup and Restore","id":"9-backup-and-restore"},{"level":3,"text":"Backup Script","id":"backup-script"},{"level":3,"text":"Restore Procedure","id":"restore-procedure"},{"level":2,"text":"6. Troubleshooting","id":"6-troubleshooting"},{"level":3,"text":"Common Issues","id":"common-issues"},{"level":2,"text":"Integration Examples","id":"integration-examples"},{"level":3,"text":"Docker Compose Example","id":"docker-compose-example"},{"level":2,"text":"Maintenance","id":"maintenance"},{"level":3,"text":"Update Procedures","id":"update-procedures"},{"level":3,"text":"Regular Maintenance","id":"regular-maintenance"},{"level":2,"text":"Additional Resources","id":"additional-resources"}],"lastBuilt":"2025-10-06T06:17:57.756Z","metadataVersion":"2.0"},{"name":"saltstack","displayName":"saltstack Installation Guide","slug":"saltstack","description":"saltstack is a free and open-source infrastructure automation. SaltStack provides powerful automation for infrastructure management","category":"configuration-management","subcategory":"configuration-management","difficultyLevel":"intermediate","estimatedSetupTime":"15-30 minutes","supportedOS":["rhel","centos","rocky","almalinux","debian","ubuntu","arch","alpine","opensuse","sles","macos","freebsd","windows"],"defaultPorts":[80,443,4505],"installationMethods":["native-packages","source-compilation"],"features":["multi-os-support","comprehensive-documentation","security-hardening","performance-optimization","backup-restore-procedures","troubleshooting-guides"],"tags":["configuration-management","containerization","observability","data-storage","networking","security","data-protection"],"maintenanceStatus":"active","specVersion":"2.0","version":"1.0.0","license":"Open Source","websiteUrl":"https://howtomgr.github.io/configuration-management/saltstack","documentationUrl":"https://howtomgr.github.io/configuration-management/saltstack","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/saltstack","updatedAt":"2025-09-16T17:50:09Z","createdAt":"2025-09-16T08:16:24Z","readmeRaw":"# saltstack Installation Guide\n\nsaltstack is a free and open-source infrastructure automation. SaltStack provides powerful automation for infrastructure management\n\n## Table of Contents\n1. [Prerequisites](#prerequisites)\n2. [Supported Operating Systems](#supported-operating-systems)\n3. [Installation](#installation)\n4. [Configuration](#configuration)\n5. [Service Management](#service-management)\n6. [Troubleshooting](#troubleshooting)\n7. [Security Considerations](#security-considerations)\n8. [Performance Tuning](#performance-tuning)\n9. [Backup and Restore](#backup-and-restore)\n10. [System Requirements](#system-requirements)\n11. [Support](#support)\n12. [Contributing](#contributing)\n13. [License](#license)\n14. [Acknowledgments](#acknowledgments)\n15. [Version History](#version-history)\n16. [Appendices](#appendices)\n\n## 1. Prerequisites\n\n- **Hardware Requirements**:\n  - CPU: 2+ cores\n  - RAM: 2GB minimum\n  - Storage: 10GB for data\n  - Network: ZeroMQ protocol\n- **Operating System**: \n  - Linux: Any modern distribution (RHEL, Debian, Ubuntu, CentOS, Fedora, Arch, Alpine, openSUSE)\n  - macOS: 10.14+ (Mojave or newer)\n  - Windows: Windows Server 2016+ or Windows 10\n  - FreeBSD: 11.0+\n- **Network Requirements**:\n  - Port 4505 (default saltstack port)\n  - Publish on 4506\n- **Dependencies**:\n  - See official documentation for specific requirements\n- **System Access**: root or sudo privileges required\n\n\n## 2. Supported Operating Systems\n\nThis guide supports installation on:\n- RHEL 8/9 and derivatives (CentOS Stream, Rocky Linux, AlmaLinux)\n- Debian 11/12\n- Ubuntu 20.04/22.04/24.04 LTS\n- Arch Linux (rolling release)\n- Alpine Linux 3.18+\n- openSUSE Leap 15.5+ / Tumbleweed\n- SUSE Linux Enterprise Server (SLES) 15+\n- macOS 12+ (Monterey and later) \n- FreeBSD 13+\n- Windows 10/11/Server 2019+ (where applicable)\n\n## 3. Installation\n\n### RHEL/CentOS/Rocky Linux/AlmaLinux\n\n```bash\n# Install EPEL repository if needed\nsudo dnf install -y epel-release\n\n# Install saltstack\nsudo dnf install -y saltstack\n\n# Enable and start service\nsudo systemctl enable --now saltstack\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=4505/tcp\nsudo firewall-cmd --reload\n\n# Verify installation\nsaltstack --version\n```\n\n### Debian/Ubuntu\n\n```bash\n# Update package index\nsudo apt update\n\n# Install saltstack\nsudo apt install -y saltstack\n\n# Enable and start service\nsudo systemctl enable --now saltstack\n\n# Configure firewall\nsudo ufw allow 4505\n\n# Verify installation\nsaltstack --version\n```\n\n### Arch Linux\n\n```bash\n# Install saltstack\nsudo pacman -S saltstack\n\n# Enable and start service\nsudo systemctl enable --now saltstack\n\n# Verify installation\nsaltstack --version\n```\n\n### Alpine Linux\n\n```bash\n# Install saltstack\napk add --no-cache saltstack\n\n# Enable and start service\nrc-update add saltstack default\nrc-service saltstack start\n\n# Verify installation\nsaltstack --version\n```\n\n### openSUSE/SLES\n\n```bash\n# Install saltstack\nsudo zypper install -y saltstack\n\n# Enable and start service\nsudo systemctl enable --now saltstack\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=4505/tcp\nsudo firewall-cmd --reload\n\n# Verify installation\nsaltstack --version\n```\n\n### macOS\n\n```bash\n# Using Homebrew\nbrew install saltstack\n\n# Start service\nbrew services start saltstack\n\n# Verify installation\nsaltstack --version\n```\n\n### FreeBSD\n\n```bash\n# Using pkg\npkg install saltstack\n\n# Enable in rc.conf\necho 'saltstack_enable=\"YES\"' \u003e\u003e /etc/rc.conf\n\n# Start service\nservice saltstack start\n\n# Verify installation\nsaltstack --version\n```\n\n### Windows\n\n```bash\n# Using Chocolatey\nchoco install saltstack\n\n# Or using Scoop\nscoop install saltstack\n\n# Verify installation\nsaltstack --version\n```\n\n## Initial Configuration\n\n### Basic Configuration\n\n```bash\n# Create configuration directory\nsudo mkdir -p /etc/saltstack\n\n# Set up basic configuration\n# See official documentation for detailed configuration options\n\n# Test configuration\nsaltstack --version\n```\n\n## 5. Service Management\n\n### systemd (RHEL, Debian, Ubuntu, Arch, openSUSE)\n\n```bash\n# Enable service\nsudo systemctl enable saltstack\n\n# Start service\nsudo systemctl start saltstack\n\n# Stop service\nsudo systemctl stop saltstack\n\n# Restart service\nsudo systemctl restart saltstack\n\n# Check status\nsudo systemctl status saltstack\n\n# View logs\nsudo journalctl -u saltstack -f\n```\n\n### OpenRC (Alpine Linux)\n\n```bash\n# Enable service\nrc-update add saltstack default\n\n# Start service\nrc-service saltstack start\n\n# Stop service\nrc-service saltstack stop\n\n# Restart service\nrc-service saltstack restart\n\n# Check status\nrc-service saltstack status\n```\n\n### rc.d (FreeBSD)\n\n```bash\n# Enable in /etc/rc.conf\necho 'saltstack_enable=\"YES\"' \u003e\u003e /etc/rc.conf\n\n# Start service\nservice saltstack start\n\n# Stop service\nservice saltstack stop\n\n# Restart service\nservice saltstack restart\n\n# Check status\nservice saltstack status\n```\n\n### launchd (macOS)\n\n```bash\n# Using Homebrew services\nbrew services start saltstack\nbrew services stop saltstack\nbrew services restart saltstack\n\n# Check status\nbrew services list | grep saltstack\n```\n\n### Windows Service Manager\n\n```powershell\n# Start service\nnet start saltstack\n\n# Stop service\nnet stop saltstack\n\n# Using PowerShell\nStart-Service saltstack\nStop-Service saltstack\nRestart-Service saltstack\n\n# Check status\nGet-Service saltstack\n```\n\n## Advanced Configuration\n\nSee the official documentation for advanced configuration options.\n\n## Reverse Proxy Setup\n\n### nginx Configuration\n\n```nginx\nupstream saltstack_backend {\n    server 127.0.0.1:4505;\n}\n\nserver {\n    listen 80;\n    server_name saltstack.example.com;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name saltstack.example.com;\n\n    ssl_certificate /etc/ssl/certs/saltstack.example.com.crt;\n    ssl_certificate_key /etc/ssl/private/saltstack.example.com.key;\n\n    location / {\n        proxy_pass http://saltstack_backend;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\n```\n\n### Apache Configuration\n\n```apache\n\u003cVirtualHost *:80\u003e\n    ServerName saltstack.example.com\n    Redirect permanent / https://saltstack.example.com/\n\u003c/VirtualHost\u003e\n\n\u003cVirtualHost *:443\u003e\n    ServerName saltstack.example.com\n    \n    SSLEngine on\n    SSLCertificateFile /etc/ssl/certs/saltstack.example.com.crt\n    SSLCertificateKeyFile /etc/ssl/private/saltstack.example.com.key\n    \n    ProxyRequests Off\n    ProxyPreserveHost On\n    \n    ProxyPass / http://127.0.0.1:4505/\n    ProxyPassReverse / http://127.0.0.1:4505/\n\u003c/VirtualHost\u003e\n```\n\n### HAProxy Configuration\n\n```haproxy\nfrontend saltstack_frontend\n    bind *:80\n    bind *:443 ssl crt /etc/ssl/certs/saltstack.pem\n    redirect scheme https if !{ ssl_fc }\n    default_backend saltstack_backend\n\nbackend saltstack_backend\n    balance roundrobin\n    server saltstack1 127.0.0.1:4505 check\n```\n\n## Security Configuration\n\n### Basic Security Setup\n\n```bash\n# Set appropriate permissions\nsudo chown -R saltstack:saltstack /etc/saltstack\nsudo chmod 750 /etc/saltstack\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=4505/tcp\nsudo firewall-cmd --reload\n\n# Enable SELinux policies (if applicable)\nsudo setsebool -P httpd_can_network_connect on\n```\n\n## Database Setup\n\nSee official documentation for database configuration requirements.\n\n## Performance Optimization\n\n### System Tuning\n\n```bash\n# Basic system tuning\necho 'net.core.somaxconn = 65535' | sudo tee -a /etc/sysctl.conf\necho 'net.ipv4.tcp_max_syn_backlog = 65535' | sudo tee -a /etc/sysctl.conf\nsudo sysctl -p\n```\n\n## Monitoring\n\n### Basic Monitoring\n\n```bash\n# Check service status\nsudo systemctl status saltstack\n\n# View logs\nsudo journalctl -u saltstack -f\n\n# Monitor resource usage\ntop -p $(pgrep saltstack)\n```\n\n## 9. Backup and Restore\n\n### Backup Script\n\n```bash\n#!/bin/bash\n# Basic backup script\nBACKUP_DIR=\"/backup/saltstack\"\nDATE=$(date +%Y%m%d_%H%M%S)\n\nmkdir -p \"$BACKUP_DIR\"\ntar -czf \"$BACKUP_DIR/saltstack-backup-$DATE.tar.gz\" /etc/saltstack /var/lib/saltstack\n\necho \"Backup completed: $BACKUP_DIR/saltstack-backup-$DATE.tar.gz\"\n```\n\n### Restore Procedure\n\n```bash\n# Stop service\nsudo systemctl stop saltstack\n\n# Restore from backup\ntar -xzf /backup/saltstack/saltstack-backup-*.tar.gz -C /\n\n# Start service\nsudo systemctl start saltstack\n```\n\n## 6. Troubleshooting\n\n### Common Issues\n\n1. **Service won't start**:\n```bash\n# Check logs\nsudo journalctl -u saltstack -n 100\nsudo tail -f /var/log/saltstack/saltstack.log\n\n# Check configuration\nsaltstack --version\n\n# Check permissions\nls -la /etc/saltstack\n```\n\n2. **Connection issues**:\n```bash\n# Check if service is listening\nsudo ss -tlnp | grep 4505\n\n# Test connectivity\ntelnet localhost 4505\n\n# Check firewall\nsudo firewall-cmd --list-all\n```\n\n3. **Performance issues**:\n```bash\n# Check resource usage\ntop -p $(pgrep saltstack)\n\n# Check disk I/O\niotop -p $(pgrep saltstack)\n\n# Check connections\nss -an | grep 4505\n```\n\n## Integration Examples\n\n### Docker Compose Example\n\n```yaml\nversion: '3.8'\nservices:\n  saltstack:\n    image: saltstack:latest\n    ports:\n      - \"4505:4505\"\n    volumes:\n      - ./config:/etc/saltstack\n      - ./data:/var/lib/saltstack\n    restart: unless-stopped\n```\n\n## Maintenance\n\n### Update Procedures\n\n```bash\n# RHEL/CentOS/Rocky/AlmaLinux\nsudo dnf update saltstack\n\n# Debian/Ubuntu\nsudo apt update \u0026\u0026 sudo apt upgrade saltstack\n\n# Arch Linux\nsudo pacman -Syu saltstack\n\n# Alpine Linux\napk update \u0026\u0026 apk upgrade saltstack\n\n# openSUSE\nsudo zypper update saltstack\n\n# FreeBSD\npkg update \u0026\u0026 pkg upgrade saltstack\n\n# Always backup before updates\ntar -czf /backup/saltstack-pre-update-$(date +%Y%m%d).tar.gz /etc/saltstack\n\n# Restart after updates\nsudo systemctl restart saltstack\n```\n\n### Regular Maintenance\n\n```bash\n# Log rotation\nsudo logrotate -f /etc/logrotate.d/saltstack\n\n# Clean old logs\nfind /var/log/saltstack -name \"*.log\" -mtime +30 -delete\n\n# Check disk usage\ndu -sh /var/lib/saltstack\n```\n\n## Additional Resources\n\n- Official Documentation: https://docs.saltstack.org/\n- GitHub Repository: https://github.com/saltstack/saltstack\n- Community Forum: https://forum.saltstack.org/\n- Best Practices Guide: https://docs.saltstack.org/best-practices\n\n---\n\n**Note:** This guide is part of the [HowToMgr](https://howtomgr.github.io) collection. Always refer to official documentation for the most up-to-date information.\n","readmeHtml":"\u003cp class=\"mobile-paragraph\"\u003esaltstack is a free and open-source infrastructure automation. SaltStack provides powerful automation for infrastructure management\u003c/p\u003e\n\u003ch2 id=\"1-prerequisites\" class=\"mobile-header\"\u003e1. Prerequisites\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eHardware Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eCPU: 2+ cores\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eRAM: 2GB minimum\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eStorage: 10GB for data\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eNetwork: ZeroMQ protocol\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eOperating System\u003c/strong\u003e: \u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eLinux: Any modern distribution (RHEL, Debian, Ubuntu, CentOS, Fedora, Arch, Alpine, openSUSE)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003emacOS: 10.14+ (Mojave or newer)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWindows: Windows Server 2016+ or Windows 10\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eFreeBSD: 11.0+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eNetwork Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 4505 (default saltstack port)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePublish on 4506\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eDependencies\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eSee official documentation for specific requirements\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eSystem Access\u003c/strong\u003e: root or sudo privileges required\u003c/li\u003e\n\u003ch2 id=\"2-supported-operating-systems\" class=\"mobile-header\"\u003e2. Supported Operating Systems\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eThis guide supports installation on:\u003c/p\u003e\n\u003cli class=\"mobile-list-item\"\u003eRHEL 8/9 and derivatives (CentOS Stream, Rocky Linux, AlmaLinux)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eDebian 11/12\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eUbuntu 20.04/22.04/24.04 LTS\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eArch Linux (rolling release)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eAlpine Linux 3.18+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eopenSUSE Leap 15.5+ / Tumbleweed\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eSUSE Linux Enterprise Server (SLES) 15+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003emacOS 12+ (Monterey and later) \u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eFreeBSD 13+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWindows 10/11/Server 2019+ (where applicable)\u003c/li\u003e\n\u003ch2 id=\"3-installation\" class=\"mobile-header\"\u003e3. Installation\u003c/h2\u003e\n\u003ch3 id=\"rhelcentosrocky-linuxalmalinux\" class=\"mobile-header\"\u003eRHEL/CentOS/Rocky Linux/AlmaLinux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install EPEL repository if needed\nsudo dnf install -y epel-release\n\n# Install saltstack\nsudo dnf install -y saltstack\n\n# Enable and start service\nsudo systemctl enable --now saltstack\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=4505/tcp\nsudo firewall-cmd --reload\n\n# Verify installation\nsaltstack --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"debianubuntu\" class=\"mobile-header\"\u003eDebian/Ubuntu\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Update package index\nsudo apt update\n\n# Install saltstack\nsudo apt install -y saltstack\n\n# Enable and start service\nsudo systemctl enable --now saltstack\n\n# Configure firewall\nsudo ufw allow 4505\n\n# Verify installation\nsaltstack --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"arch-linux\" class=\"mobile-header\"\u003eArch Linux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install saltstack\nsudo pacman -S saltstack\n\n# Enable and start service\nsudo systemctl enable --now saltstack\n\n# Verify installation\nsaltstack --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"alpine-linux\" class=\"mobile-header\"\u003eAlpine Linux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install saltstack\napk add --no-cache saltstack\n\n# Enable and start service\nrc-update add saltstack default\nrc-service saltstack start\n\n# Verify installation\nsaltstack --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"opensusesles\" class=\"mobile-header\"\u003eopenSUSE/SLES\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install saltstack\nsudo zypper install -y saltstack\n\n# Enable and start service\nsudo systemctl enable --now saltstack\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=4505/tcp\nsudo firewall-cmd --reload\n\n# Verify installation\nsaltstack --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"macos\" class=\"mobile-header\"\u003emacOS\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using Homebrew\nbrew install saltstack\n\n# Start service\nbrew services start saltstack\n\n# Verify installation\nsaltstack --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"freebsd\" class=\"mobile-header\"\u003eFreeBSD\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using pkg\npkg install saltstack\n\n# Enable in rc.conf\necho \u0026#039;saltstack_enable=\u0026quot;YES\u0026quot;\u0026#039; \u0026gt;\u0026gt; /etc/rc.conf\n\n# Start service\nservice saltstack start\n\n# Verify installation\nsaltstack --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"windows\" class=\"mobile-header\"\u003eWindows\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using Chocolatey\nchoco install saltstack\n\n# Or using Scoop\nscoop install saltstack\n\n# Verify installation\nsaltstack --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"initial-configuration\" class=\"mobile-header\"\u003eInitial Configuration\u003c/h2\u003e\n\u003ch3 id=\"basic-configuration\" class=\"mobile-header\"\u003eBasic Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create configuration directory\nsudo mkdir -p /etc/saltstack\n\n# Set up basic configuration\n# See official documentation for detailed configuration options\n\n# Test configuration\nsaltstack --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"5-service-management\" class=\"mobile-header\"\u003e5. Service Management\u003c/h2\u003e\n\u003ch3 id=\"systemd-rhel-debian-ubuntu-arch-opensuse\" class=\"mobile-header\"\u003esystemd (RHEL, Debian, Ubuntu, Arch, openSUSE)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable service\nsudo systemctl enable saltstack\n\n# Start service\nsudo systemctl start saltstack\n\n# Stop service\nsudo systemctl stop saltstack\n\n# Restart service\nsudo systemctl restart saltstack\n\n# Check status\nsudo systemctl status saltstack\n\n# View logs\nsudo journalctl -u saltstack -f\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"openrc-alpine-linux\" class=\"mobile-header\"\u003eOpenRC (Alpine Linux)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable service\nrc-update add saltstack default\n\n# Start service\nrc-service saltstack start\n\n# Stop service\nrc-service saltstack stop\n\n# Restart service\nrc-service saltstack restart\n\n# Check status\nrc-service saltstack status\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"rcd-freebsd\" class=\"mobile-header\"\u003erc.d (FreeBSD)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable in /etc/rc.conf\necho \u0026#039;saltstack_enable=\u0026quot;YES\u0026quot;\u0026#039; \u0026gt;\u0026gt; /etc/rc.conf\n\n# Start service\nservice saltstack start\n\n# Stop service\nservice saltstack stop\n\n# Restart service\nservice saltstack restart\n\n# Check status\nservice saltstack status\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"launchd-macos\" class=\"mobile-header\"\u003elaunchd (macOS)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using Homebrew services\nbrew services start saltstack\nbrew services stop saltstack\nbrew services restart saltstack\n\n# Check status\nbrew services list | grep saltstack\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"windows-service-manager\" class=\"mobile-header\"\u003eWindows Service Manager\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"powershell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epowershell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-powershell\"\u003e# Start service\nnet start saltstack\n\n# Stop service\nnet stop saltstack\n\n# Using PowerShell\nStart-Service saltstack\nStop-Service saltstack\nRestart-Service saltstack\n\n# Check status\nGet-Service saltstack\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"advanced-configuration\" class=\"mobile-header\"\u003eAdvanced Configuration\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eSee the official documentation for advanced configuration options.\u003c/p\u003e\n\u003ch2 id=\"reverse-proxy-setup\" class=\"mobile-header\"\u003eReverse Proxy Setup\u003c/h2\u003e\n\u003ch3 id=\"nginx-configuration\" class=\"mobile-header\"\u003enginx Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"nginx\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003enginx\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-nginx\"\u003eupstream saltstack_backend {\n    server 127.0.0.1:4505;\n}\n\nserver {\n    listen 80;\n    server_name saltstack.example.com;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name saltstack.example.com;\n\n    ssl_certificate /etc/ssl/certs/saltstack.example.com.crt;\n    ssl_certificate_key /etc/ssl/private/saltstack.example.com.key;\n\n    location / {\n        proxy_pass http://saltstack_backend;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"apache-configuration\" class=\"mobile-header\"\u003eApache Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"apache\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eapache\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-apache\"\u003e\u0026lt;VirtualHost *:80\u0026gt;\n    ServerName saltstack.example.com\n    Redirect permanent / https://saltstack.example.com/\n\u0026lt;/VirtualHost\u0026gt;\n\n\u0026lt;VirtualHost *:443\u0026gt;\n    ServerName saltstack.example.com\n    \n    SSLEngine on\n    SSLCertificateFile /etc/ssl/certs/saltstack.example.com.crt\n    SSLCertificateKeyFile /etc/ssl/private/saltstack.example.com.key\n    \n    ProxyRequests Off\n    ProxyPreserveHost On\n    \n    ProxyPass / http://127.0.0.1:4505/\n    ProxyPassReverse / http://127.0.0.1:4505/\n\u0026lt;/VirtualHost\u0026gt;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"haproxy-configuration\" class=\"mobile-header\"\u003eHAProxy Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"haproxy\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ehaproxy\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-haproxy\"\u003efrontend saltstack_frontend\n    bind *:80\n    bind *:443 ssl crt /etc/ssl/certs/saltstack.pem\n    redirect scheme https if !{ ssl_fc }\n    default_backend saltstack_backend\n\nbackend saltstack_backend\n    balance roundrobin\n    server saltstack1 127.0.0.1:4505 check\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"security-configuration\" class=\"mobile-header\"\u003eSecurity Configuration\u003c/h2\u003e\n\u003ch3 id=\"basic-security-setup\" class=\"mobile-header\"\u003eBasic Security Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Set appropriate permissions\nsudo chown -R saltstack:saltstack /etc/saltstack\nsudo chmod 750 /etc/saltstack\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=4505/tcp\nsudo firewall-cmd --reload\n\n# Enable SELinux policies (if applicable)\nsudo setsebool -P httpd_can_network_connect on\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"database-setup\" class=\"mobile-header\"\u003eDatabase Setup\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eSee official documentation for database configuration requirements.\u003c/p\u003e\n\u003ch2 id=\"performance-optimization\" class=\"mobile-header\"\u003ePerformance Optimization\u003c/h2\u003e\n\u003ch3 id=\"system-tuning\" class=\"mobile-header\"\u003eSystem Tuning\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Basic system tuning\necho \u0026#039;net.core.somaxconn = 65535\u0026#039; | sudo tee -a /etc/sysctl.conf\necho \u0026#039;net.ipv4.tcp_max_syn_backlog = 65535\u0026#039; | sudo tee -a /etc/sysctl.conf\nsudo sysctl -p\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"monitoring\" class=\"mobile-header\"\u003eMonitoring\u003c/h2\u003e\n\u003ch3 id=\"basic-monitoring\" class=\"mobile-header\"\u003eBasic Monitoring\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check service status\nsudo systemctl status saltstack\n\n# View logs\nsudo journalctl -u saltstack -f\n\n# Monitor resource usage\ntop -p $(pgrep saltstack)\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"9-backup-and-restore\" class=\"mobile-header\"\u003e9. Backup and Restore\u003c/h2\u003e\n\u003ch3 id=\"backup-script\" class=\"mobile-header\"\u003eBackup Script\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# Basic backup script\nBACKUP_DIR=\u0026quot;/backup/saltstack\u0026quot;\nDATE=$(date +%Y%m%d_%H%M%S)\n\nmkdir -p \u0026quot;$BACKUP_DIR\u0026quot;\ntar -czf \u0026quot;$BACKUP_DIR/saltstack-backup-$DATE.tar.gz\u0026quot; /etc/saltstack /var/lib/saltstack\n\necho \u0026quot;Backup completed: $BACKUP_DIR/saltstack-backup-$DATE.tar.gz\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"restore-procedure\" class=\"mobile-header\"\u003eRestore Procedure\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Stop service\nsudo systemctl stop saltstack\n\n# Restore from backup\ntar -xzf /backup/saltstack/saltstack-backup-*.tar.gz -C /\n\n# Start service\nsudo systemctl start saltstack\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"6-troubleshooting\" class=\"mobile-header\"\u003e6. Troubleshooting\u003c/h2\u003e\n\u003ch3 id=\"common-issues\" class=\"mobile-header\"\u003eCommon Issues\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e1. \u003cstrong\u003eService won't start\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check logs\nsudo journalctl -u saltstack -n 100\nsudo tail -f /var/log/saltstack/saltstack.log\n\n# Check configuration\nsaltstack --version\n\n# Check permissions\nls -la /etc/saltstack\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e2. \u003cstrong\u003eConnection issues\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check if service is listening\nsudo ss -tlnp | grep 4505\n\n# Test connectivity\ntelnet localhost 4505\n\n# Check firewall\nsudo firewall-cmd --list-all\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e3. \u003cstrong\u003ePerformance issues\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check resource usage\ntop -p $(pgrep saltstack)\n\n# Check disk I/O\niotop -p $(pgrep saltstack)\n\n# Check connections\nss -an | grep 4505\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"integration-examples\" class=\"mobile-header\"\u003eIntegration Examples\u003c/h2\u003e\n\u003ch3 id=\"docker-compose-example\" class=\"mobile-header\"\u003eDocker Compose Example\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"yaml\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eyaml\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-yaml\"\u003eversion: \u0026#039;3.8\u0026#039;\nservices:\n  saltstack:\n    image: saltstack:latest\n    ports:\n      - \u0026quot;4505:4505\u0026quot;\n    volumes:\n      - ./config:/etc/saltstack\n      - ./data:/var/lib/saltstack\n    restart: unless-stopped\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"maintenance\" class=\"mobile-header\"\u003eMaintenance\u003c/h2\u003e\n\u003ch3 id=\"update-procedures\" class=\"mobile-header\"\u003eUpdate Procedures\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# RHEL/CentOS/Rocky/AlmaLinux\nsudo dnf update saltstack\n\n# Debian/Ubuntu\nsudo apt update \u0026amp;\u0026amp; sudo apt upgrade saltstack\n\n# Arch Linux\nsudo pacman -Syu saltstack\n\n# Alpine Linux\napk update \u0026amp;\u0026amp; apk upgrade saltstack\n\n# openSUSE\nsudo zypper update saltstack\n\n# FreeBSD\npkg update \u0026amp;\u0026amp; pkg upgrade saltstack\n\n# Always backup before updates\ntar -czf /backup/saltstack-pre-update-$(date +%Y%m%d).tar.gz /etc/saltstack\n\n# Restart after updates\nsudo systemctl restart saltstack\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"regular-maintenance\" class=\"mobile-header\"\u003eRegular Maintenance\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003eüìã\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Log rotation\nsudo logrotate -f /etc/logrotate.d/saltstack\n\n# Clean old logs\nfind /var/log/saltstack -name \u0026quot;*.log\u0026quot; -mtime +30 -delete\n\n# Check disk usage\ndu -sh /var/lib/saltstack\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"additional-resources\" class=\"mobile-header\"\u003eAdditional Resources\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003eOfficial Documentation: https://docs.saltstack.org/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eGitHub Repository: https://github.com/saltstack/saltstack\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eCommunity Forum: https://forum.saltstack.org/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eBest Practices Guide: https://docs.saltstack.org/best-practices\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e---\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This guide is part of the \u003ca href=\"https://howtomgr.github.io\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eHowToMgr\u003c/a\u003e collection. Always refer to official documentation for the most up-to-date information.\u003c/p\u003e","readTime":"7 min","wordCount":1268,"tableOfContents":[{"level":2,"text":"1. Prerequisites","id":"1-prerequisites"},{"level":2,"text":"2. Supported Operating Systems","id":"2-supported-operating-systems"},{"level":2,"text":"3. Installation","id":"3-installation"},{"level":3,"text":"RHEL/CentOS/Rocky Linux/AlmaLinux","id":"rhelcentosrocky-linuxalmalinux"},{"level":3,"text":"Debian/Ubuntu","id":"debianubuntu"},{"level":3,"text":"Arch Linux","id":"arch-linux"},{"level":3,"text":"Alpine Linux","id":"alpine-linux"},{"level":3,"text":"openSUSE/SLES","id":"opensusesles"},{"level":3,"text":"macOS","id":"macos"},{"level":3,"text":"FreeBSD","id":"freebsd"},{"level":3,"text":"Windows","id":"windows"},{"level":2,"text":"Initial Configuration","id":"initial-configuration"},{"level":3,"text":"Basic Configuration","id":"basic-configuration"},{"level":2,"text":"5. Service Management","id":"5-service-management"},{"level":3,"text":"systemd (RHEL, Debian, Ubuntu, Arch, openSUSE)","id":"systemd-rhel-debian-ubuntu-arch-opensuse"},{"level":3,"text":"OpenRC (Alpine Linux)","id":"openrc-alpine-linux"},{"level":3,"text":"rc.d (FreeBSD)","id":"rcd-freebsd"},{"level":3,"text":"launchd (macOS)","id":"launchd-macos"},{"level":3,"text":"Windows Service Manager","id":"windows-service-manager"},{"level":2,"text":"Advanced Configuration","id":"advanced-configuration"},{"level":2,"text":"Reverse Proxy Setup","id":"reverse-proxy-setup"},{"level":3,"text":"nginx Configuration","id":"nginx-configuration"},{"level":3,"text":"Apache Configuration","id":"apache-configuration"},{"level":3,"text":"HAProxy Configuration","id":"haproxy-configuration"},{"level":2,"text":"Security Configuration","id":"security-configuration"},{"level":3,"text":"Basic Security Setup","id":"basic-security-setup"},{"level":2,"text":"Database Setup","id":"database-setup"},{"level":2,"text":"Performance Optimization","id":"performance-optimization"},{"level":3,"text":"System Tuning","id":"system-tuning"},{"level":2,"text":"Monitoring","id":"monitoring"},{"level":3,"text":"Basic Monitoring","id":"basic-monitoring"},{"level":2,"text":"9. Backup and Restore","id":"9-backup-and-restore"},{"level":3,"text":"Backup Script","id":"backup-script"},{"level":3,"text":"Restore Procedure","id":"restore-procedure"},{"level":2,"text":"6. Troubleshooting","id":"6-troubleshooting"},{"level":3,"text":"Common Issues","id":"common-issues"},{"level":2,"text":"Integration Examples","id":"integration-examples"},{"level":3,"text":"Docker Compose Example","id":"docker-compose-example"},{"level":2,"text":"Maintenance","id":"maintenance"},{"level":3,"text":"Update Procedures","id":"update-procedures"},{"level":3,"text":"Regular Maintenance","id":"regular-maintenance"},{"level":2,"text":"Additional Resources","id":"additional-resources"}],"lastBuilt":"2025-10-06T06:17:31.070Z","metadataVersion":"2.0"}]},"__N_SSG":true},"page":"/[category]/[guide]","query":{"category":"configuration-management","guide":"ansible"},"buildId":"ODDQ8JxgsZ5D1yHFFFDQR","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>