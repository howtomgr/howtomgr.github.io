"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[645],{6645:function(e,a,r){r.d(a,{Z:function(){return l}});var t=r(5893),s=r(645),d=r.n(s),i=r(7294),o=r(1163),n=r(1664),c=r.n(n);function l(e){let{guides:a=[],placeholder:r="Search guides..."}=e,[s,n]=(0,i.useState)(""),[l,b]=(0,i.useState)([]),[x,m]=(0,i.useState)(!1),[u,p]=(0,i.useState)(-1),[g,h]=(0,i.useState)(!1),[f,v]=(0,i.useState)(null),j=(0,i.useRef)(null),y=(0,i.useRef)(null),w=(0,i.useRef)(null),k=(0,o.useRouter)();(0,i.useEffect)(()=>{w.current=new SearchManager({searchOptions:{keys:["name","displayName","description","topics","language"],threshold:.2,includeScore:!0,includeMatches:!0},maxResults:8,onResultClick:e=>{k.push("/".concat(e.category,"/").concat(e.slug,"/")),C()}}),w.current.setData(a)},[a,k]),(0,i.useEffect)(()=>{let e=setTimeout(()=>{try{if(v(null),s.length>=2){h(!0);let e=a.filter(e=>{try{return z(e,s)}catch(a){return console.warn("Error filtering guide:",e.name,a),!1}}).sort((e,a)=>{try{let r=N(e,s);return N(a,s)-r}catch(e){return console.warn("Error scoring guides:",e),0}}).slice(0,8);b(e),m(e.length>0||s.length>=2),h(!1)}else b([]),m(!1);p(-1)}catch(e){console.error("Search error:",e),v("Search temporarily unavailable. Please try again."),h(!1),m(!1)}},150);return()=>clearTimeout(e)},[s,a]);let z=(e,a)=>{let r=a.toLowerCase().trim(),t=[e.name,e.displayName,e.description,e.category,e.language,...e.topics||[],e.searchText||""].filter(Boolean).join(" ").toLowerCase();if(t.includes(r))return!0;let s=t.split(/[\s\-_\.]/);if(s.some(e=>e.startsWith(r))||r.length>=3&&s.some(e=>e.length>=4&&e.includes(r)))return!0;if(r.length>=3){let e=r.split("");return s.some(a=>{if(a.length<3)return!1;let r=0,t=-1;for(let s of e){let e=a.indexOf(s,t+1);-1!==e&&(r++,t=e)}return r>=Math.max(Math.ceil(.7*e.length),Math.min(3,e.length))})}return r.length>=4&&s.some(e=>!(e.length<3)&&this.levenshteinDistance(r,e)<=Math.floor(.3*Math.max(r.length,e.length)))},N=(e,a)=>{var r,t,s,d,i;let o=a.toLowerCase().trim(),n=0,c={name:(null===(r=e.name)||void 0===r?void 0:r.toLowerCase())||"",displayName:(null===(t=e.displayName)||void 0===t?void 0:t.toLowerCase())||"",description:(null===(s=e.description)||void 0===s?void 0:s.toLowerCase())||"",category:(null===(d=e.category)||void 0===d?void 0:d.toLowerCase())||"",language:(null===(i=e.language)||void 0===i?void 0:i.toLowerCase())||"",topics:(e.topics||[]).join(" ").toLowerCase(),searchText:e.searchText||""};for(let[e,a]of(c.name===o&&(n+=1e3),c.displayName===o&&(n+=900),Object.entries(c)))a.split(/[\s\-_\.]+/).includes(o)&&(n+="name"===e?500:"displayName"===e?450:"category"===e?300:"topics"===e?250:200);for(let[e,a]of Object.entries(c))a.startsWith(o)&&(n+="name"===e?400:"displayName"===e?350:150),a.split(/[\s\-_\.]+/).some(e=>e.startsWith(o))&&(n+="name"===e?300:"displayName"===e?250:100);for(let[e,a]of Object.entries(c))a.includes(o)&&(n+="name"===e?200:"displayName"===e?150:"description"===e?75:"searchText"===e?100:50);if(o.length>=2)for(let[e,a]of Object.entries(c))for(let r of a.split(/[\s\-_\.]+/)){if(r.length<2)continue;let a=this.calculateFuzzyScore(o,r);a>.6&&(n+=("name"===e?150:"displayName"===e?100:50)*a)}if(o.length>=2)for(let[e,a]of Object.entries(c)){let e=a.split(/[\s\-_\.]+/).filter(e=>e.length>0);e.length>=o.length&&e.slice(0,o.length).map(e=>e[0]).join("")===o&&(n+=300)}return n+=Math.min(2*(e.stars||0),50),c.category.includes(o)&&(n+=100),n},C=()=>{var e;m(!1),p(-1),n(""),null===(e=j.current)||void 0===e||e.blur()};return(0,i.useEffect)(()=>{let e=e=>{j.current&&!j.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,i.useEffect)(()=>{if(x&&l.length>0&&u>=0){var e;let a=null===(e=y.current)||void 0===e?void 0:e.querySelector('[data-index="'.concat(u,'"]'));null==a||a.scrollIntoView({behavior:"smooth",block:"nearest"})}},[u,x,l]),(0,t.jsxs)("div",{ref:j,className:"jsx-1d99a8cad27d83db search-box",children:[(0,t.jsxs)("div",{className:"jsx-1d99a8cad27d83db search-input-container",children:[(0,t.jsx)("input",{type:"search",placeholder:r,value:s,onChange:e=>n(e.target.value),onKeyDown:e=>{if(x&&0!==l.length)switch(e.key){case"ArrowDown":e.preventDefault(),p(e=>Math.min(e+1,l.length-1));break;case"ArrowUp":e.preventDefault(),p(e=>Math.max(e-1,-1));break;case"Enter":if(e.preventDefault(),u>=0&&l[u]){let e=l[u];k.push("/".concat(e.category,"/").concat(e.slug,"/")),C()}break;case"Escape":e.preventDefault(),C()}},onFocus:()=>s.length>=2&&m(!0),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false","aria-label":"Search installation guides","aria-expanded":x,"aria-haspopup":"listbox","aria-autocomplete":"list",className:"jsx-1d99a8cad27d83db search-input"}),(0,t.jsx)("div",{className:"jsx-1d99a8cad27d83db search-indicator",children:g?(0,t.jsx)("div",{"aria-label":"Searching...",className:"jsx-1d99a8cad27d83db loading-spinner"}):(0,t.jsx)("span",{"aria-hidden":"true",className:"jsx-1d99a8cad27d83db search-icon",children:"\uD83D\uDD0D"})}),s&&(0,t.jsx)("button",{onClick:C,"aria-label":"Clear search",className:"jsx-1d99a8cad27d83db search-clear",children:"✕"})]}),x&&(0,t.jsx)("div",{ref:y,role:"listbox","aria-label":"Search results",className:"jsx-1d99a8cad27d83db search-results",children:l.length>0?(0,t.jsxs)(t.Fragment,{children:[l.map((e,a)=>(0,t.jsx)(c(),{href:"/".concat(e.category,"/").concat(e.slug,"/"),className:"search-result-item ".concat(a===u?"selected":""),"data-index":a,role:"option","aria-selected":a===u,onClick:C,children:(0,t.jsxs)("div",{className:"jsx-1d99a8cad27d83db result-content",children:[(0,t.jsxs)("div",{className:"jsx-1d99a8cad27d83db result-header",children:[(0,t.jsx)("h3",{dangerouslySetInnerHTML:{__html:e.highlightedName||e.displayName},className:"jsx-1d99a8cad27d83db result-title"}),(0,t.jsxs)("div",{className:"jsx-1d99a8cad27d83db result-badges",children:[(0,t.jsx)("span",{className:"jsx-1d99a8cad27d83db result-category",children:e.category}),e.language&&(0,t.jsx)("span",{className:"jsx-1d99a8cad27d83db result-language",children:e.language})]})]}),(0,t.jsx)("p",{dangerouslySetInnerHTML:{__html:e.highlightedDescription||e.description},className:"jsx-1d99a8cad27d83db result-description"}),(0,t.jsxs)("div",{className:"jsx-1d99a8cad27d83db result-meta",children:[(0,t.jsx)("span",{className:"jsx-1d99a8cad27d83db result-readtime",children:e.readTime}),e.stars>0&&(0,t.jsxs)("span",{className:"jsx-1d99a8cad27d83db result-stars",children:["⭐ ",e.stars]})]})]})},e.slug)),(0,t.jsxs)("div",{className:"jsx-1d99a8cad27d83db search-footer",children:[(0,t.jsxs)("span",{className:"jsx-1d99a8cad27d83db search-count",children:[l.length," result",1!==l.length?"s":""]}),(0,t.jsx)("span",{className:"jsx-1d99a8cad27d83db search-hint",children:"Press ↵ to select • ESC to close"})]})]}):f?(0,t.jsxs)("div",{className:"jsx-1d99a8cad27d83db search-error",children:[(0,t.jsx)("div",{className:"jsx-1d99a8cad27d83db error-icon",children:"⚠️"}),(0,t.jsxs)("div",{className:"jsx-1d99a8cad27d83db error-text",children:[(0,t.jsx)("strong",{className:"jsx-1d99a8cad27d83db",children:"Search Error"}),(0,t.jsx)("p",{className:"jsx-1d99a8cad27d83db",children:f}),(0,t.jsx)("button",{onClick:()=>{v(null),n("")},className:"jsx-1d99a8cad27d83db retry-button",children:"Try Again"})]})]}):s.length>=2?(0,t.jsxs)("div",{className:"jsx-1d99a8cad27d83db search-empty",children:[(0,t.jsx)("div",{className:"jsx-1d99a8cad27d83db empty-icon",children:"\uD83D\uDD0D"}),(0,t.jsxs)("div",{className:"jsx-1d99a8cad27d83db empty-text",children:[(0,t.jsx)("strong",{className:"jsx-1d99a8cad27d83db",children:"No guides found"}),(0,t.jsx)("p",{className:"jsx-1d99a8cad27d83db",children:"Try a different search term or browse categories"})]})]}):null}),(0,t.jsx)(d(),{id:"1d99a8cad27d83db",children:".search-box.jsx-1d99a8cad27d83db{position:relative;width:100%;max-width:500px}.search-input-container.jsx-1d99a8cad27d83db{position:relative;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.search-input.jsx-1d99a8cad27d83db{width:100%;padding:var(--space-3)var(--space-4);padding-right:80px;border:2px solid var(--bg-surface);-webkit-border-radius:var(--border-radius-lg);-moz-border-radius:var(--border-radius-lg);border-radius:var(--border-radius-lg);background:var(--bg-primary);color:var(--text-primary);font-size:var(--font-base);-webkit-transition:var(--transition);-moz-transition:var(--transition);-o-transition:var(--transition);transition:var(--transition);min-height:48px}.search-input.jsx-1d99a8cad27d83db:focus{border-color:var(--accent-primary);-webkit-box-shadow:0 0 0 3px rgba(189,147,249,.15);-moz-box-shadow:0 0 0 3px rgba(189,147,249,.15);box-shadow:0 0 0 3px rgba(189,147,249,.15);outline:none}.search-input.jsx-1d99a8cad27d83db::-webkit-input-placeholder{color:var(--text-muted)}.search-input.jsx-1d99a8cad27d83db:-moz-placeholder{color:var(--text-muted)}.search-input.jsx-1d99a8cad27d83db::-moz-placeholder{color:var(--text-muted)}.search-input.jsx-1d99a8cad27d83db:-ms-input-placeholder{color:var(--text-muted)}.search-input.jsx-1d99a8cad27d83db::-ms-input-placeholder{color:var(--text-muted)}.search-input.jsx-1d99a8cad27d83db::placeholder{color:var(--text-muted)}.search-indicator.jsx-1d99a8cad27d83db{position:absolute;right:50px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;pointer-events:none}.search-icon.jsx-1d99a8cad27d83db{color:var(--text-muted);font-size:var(--font-lg)}.loading-spinner.jsx-1d99a8cad27d83db{width:16px;height:16px;border:2px solid var(--bg-surface);border-top-color:var(--accent-primary);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-animation:spin.8s linear infinite;-moz-animation:spin.8s linear infinite;-o-animation:spin.8s linear infinite;animation:spin.8s linear infinite}@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.search-clear.jsx-1d99a8cad27d83db{position:absolute;right:var(--space-3);background:var(--bg-surface);border:none;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:24px;height:24px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;color:var(--text-muted);font-size:var(--font-sm);-webkit-transition:var(--transition);-moz-transition:var(--transition);-o-transition:var(--transition);transition:var(--transition)}.search-clear.jsx-1d99a8cad27d83db:hover{background:var(--accent-error);color:var(--bg-primary)}.search-results.jsx-1d99a8cad27d83db{position:absolute;top:100%;left:0;right:0;background:var(--bg-secondary);border:1px solid var(--bg-surface);-webkit-border-radius:var(--border-radius-lg);-moz-border-radius:var(--border-radius-lg);border-radius:var(--border-radius-lg);-webkit-box-shadow:var(--box-shadow-lg);-moz-box-shadow:var(--box-shadow-lg);box-shadow:var(--box-shadow-lg);max-height:400px;overflow-y:auto;z-index:var(--z-dropdown);margin-top:var(--space-2);-webkit-overflow-scrolling:touch}.search-result-item.jsx-1d99a8cad27d83db{display:block;padding:var(--space-4);border-bottom:1px solid var(--bg-surface);cursor:pointer;-webkit-transition:var(--transition);-moz-transition:var(--transition);-o-transition:var(--transition);transition:var(--transition);text-decoration:none;color:inherit}.search-result-item.jsx-1d99a8cad27d83db:last-of-type{border-bottom:none}.search-result-item.jsx-1d99a8cad27d83db:hover,.search-result-item.selected.jsx-1d99a8cad27d83db{background:var(--bg-surface);text-decoration:none;color:inherit}.result-header.jsx-1d99a8cad27d83db{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start;gap:var(--space-3);margin-bottom:var(--space-2)}.result-title.jsx-1d99a8cad27d83db{color:var(--accent-primary);font-size:var(--font-base);font-weight:600;margin:0;line-height:1.3}.result-title.jsx-1d99a8cad27d83db .search-highlight{background:var(--accent-warning);color:var(--bg-primary);padding:.1em .2em;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.result-badges.jsx-1d99a8cad27d83db{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-1);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.result-category.jsx-1d99a8cad27d83db,.result-language.jsx-1d99a8cad27d83db{padding:var(--space-1)var(--space-2);-webkit-border-radius:var(--border-radius-sm);-moz-border-radius:var(--border-radius-sm);border-radius:var(--border-radius-sm);font-size:var(--font-xs);font-weight:600;text-transform:uppercase;letter-spacing:.5px}.result-category.jsx-1d99a8cad27d83db{background:var(--accent-primary);color:var(--bg-primary)}.result-language.jsx-1d99a8cad27d83db{background:var(--accent-secondary);color:var(--bg-primary)}.result-description.jsx-1d99a8cad27d83db{color:var(--text-secondary);font-size:var(--font-sm);line-height:1.4;margin:0 0 var(--space-2)0;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.result-description.jsx-1d99a8cad27d83db .search-highlight{background:var(--accent-info);color:var(--bg-primary);padding:.1em .2em;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.result-meta.jsx-1d99a8cad27d83db{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-3);font-size:var(--font-xs);color:var(--text-muted)}.result-readtime.jsx-1d99a8cad27d83db,.result-stars.jsx-1d99a8cad27d83db{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:var(--space-1)}.search-footer.jsx-1d99a8cad27d83db{padding:var(--space-3)var(--space-4);background:var(--bg-surface);border-top:1px solid var(--bg-surface);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-size:var(--font-xs);color:var(--text-muted)}.search-hint.jsx-1d99a8cad27d83db{display:none}.search-empty.jsx-1d99a8cad27d83db{padding:var(--space-6)var(--space-4);text-align:center;color:var(--text-secondary)}.empty-icon.jsx-1d99a8cad27d83db{font-size:var(--font-2xl);margin-bottom:var(--space-3);opacity:.5}.empty-text.jsx-1d99a8cad27d83db strong.jsx-1d99a8cad27d83db{display:block;color:var(--text-primary);margin-bottom:var(--space-2)}.empty-text.jsx-1d99a8cad27d83db p.jsx-1d99a8cad27d83db{margin:0;font-size:var(--font-sm)}.search-error.jsx-1d99a8cad27d83db{padding:var(--space-4);text-align:center;background:rgba(255,85,85,.1);border:1px solid var(--accent-error);-webkit-border-radius:var(--border-radius);-moz-border-radius:var(--border-radius);border-radius:var(--border-radius);margin:var(--space-2)}.search-error.jsx-1d99a8cad27d83db .error-icon.jsx-1d99a8cad27d83db{font-size:var(--font-2xl);margin-bottom:var(--space-2);color:var(--accent-error)}.search-error.jsx-1d99a8cad27d83db .error-text.jsx-1d99a8cad27d83db strong.jsx-1d99a8cad27d83db{display:block;color:var(--accent-error);margin-bottom:var(--space-2);font-size:var(--font-base)}.search-error.jsx-1d99a8cad27d83db .error-text.jsx-1d99a8cad27d83db p.jsx-1d99a8cad27d83db{margin:0 0 var(--space-3)0;color:var(--text-primary);font-size:var(--font-sm)}.retry-button.jsx-1d99a8cad27d83db{background:var(--accent-error);color:var(--bg-primary);border:none;padding:var(--space-2)var(--space-4);-webkit-border-radius:var(--border-radius-sm);-moz-border-radius:var(--border-radius-sm);border-radius:var(--border-radius-sm);font-size:var(--font-sm);cursor:pointer;-webkit-transition:var(--transition);-moz-transition:var(--transition);-o-transition:var(--transition);transition:var(--transition);min-height:36px}.retry-button.jsx-1d99a8cad27d83db:hover{background:var(--accent-warning);-webkit-transform:translatey(-1px);-moz-transform:translatey(-1px);-ms-transform:translatey(-1px);-o-transform:translatey(-1px);transform:translatey(-1px)}@media(max-width:767px){.search-input.jsx-1d99a8cad27d83db{padding:var(--space-4);font-size:var(--font-base);min-height:52px}.search-results.jsx-1d99a8cad27d83db{max-height:60vh;-webkit-border-radius:var(--border-radius);-moz-border-radius:var(--border-radius);border-radius:var(--border-radius)}.search-result-item.jsx-1d99a8cad27d83db{padding:var(--space-3)}.result-header.jsx-1d99a8cad27d83db{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start;gap:var(--space-2)}.result-badges.jsx-1d99a8cad27d83db{-webkit-box-ordinal-group:0;-webkit-order:-1;-moz-box-ordinal-group:0;-ms-flex-order:-1;order:-1;margin-bottom:var(--space-1)}.result-title.jsx-1d99a8cad27d83db{font-size:var(--font-sm)}.result-description.jsx-1d99a8cad27d83db{font-size:var(--font-xs);-webkit-line-clamp:1}}@media(min-width:768px){.search-hint.jsx-1d99a8cad27d83db{display:inline}.search-input.jsx-1d99a8cad27d83db{font-size:var(--font-sm)}.search-results.jsx-1d99a8cad27d83db{-webkit-border-radius:var(--border-radius-lg);-moz-border-radius:var(--border-radius-lg);border-radius:var(--border-radius-lg)}}@media(prefers-contrast:high){.search-input.jsx-1d99a8cad27d83db{border-width:3px}.search-result-item.selected.jsx-1d99a8cad27d83db{outline:3px solid var(--accent-primary)}}@media(prefers-reduced-motion:reduce){.search-result-item.jsx-1d99a8cad27d83db,.search-input.jsx-1d99a8cad27d83db{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none}.loading-spinner.jsx-1d99a8cad27d83db{-webkit-animation:none;-moz-animation:none;-o-animation:none;animation:none;border-top-color:var(--accent-primary)}}"})]})}r(1588)}}]);