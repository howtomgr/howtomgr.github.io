<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"/><meta name="theme-color" content="#bd93f9"/><link rel="icon" href="/favicon.ico"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true"/><title class="jsx-f92e766e9414ef16">Minikube Installation Guide - HowToMgr</title><meta name="description" content="Repo for minikube" class="jsx-f92e766e9414ef16"/><meta name="keywords" content="installation guides, tutorials, linux, docker, kubernetes, mobile-first, responsive" class="jsx-f92e766e9414ef16"/><meta property="og:title" content="Minikube Installation Guide - HowToMgr" class="jsx-f92e766e9414ef16"/><meta property="og:description" content="Repo for minikube" class="jsx-f92e766e9414ef16"/><meta property="og:type" content="website" class="jsx-f92e766e9414ef16"/><meta property="og:url" content="https://howtomgr.github.io" class="jsx-f92e766e9414ef16"/><meta property="og:image" content="https://howtomgr.github.io/social-preview.png" class="jsx-f92e766e9414ef16"/><meta property="twitter:card" content="summary_large_image" class="jsx-f92e766e9414ef16"/><meta property="twitter:title" content="Minikube Installation Guide - HowToMgr" class="jsx-f92e766e9414ef16"/><meta property="twitter:description" content="Repo for minikube" class="jsx-f92e766e9414ef16"/><meta name="next-head-count" content="17"/><link rel="dns-prefetch" href="//api.github.com"/><link rel="dns-prefetch" href="//github.com"/><link rel="preload" href="/favicon.ico" as="image"/><meta name="application-name" content="HowToMgr"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="default"/><meta name="apple-mobile-web-app-title" content="HowToMgr"/><meta name="format-detection" content="telephone=no"/><meta name="mobile-web-app-capable" content="yes"/><noscript><style>
            .requires-js { display: none !important; }
            .no-js-message { display: block !important; }
          </style></noscript><link rel="preload" href="/_next/static/css/eec6c1c201affe77.css" as="style"/><link rel="stylesheet" href="/_next/static/css/eec6c1c201affe77.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-ee7e63bc15b31913.js" defer=""></script><script src="/_next/static/chunks/framework-2b1f7a23d657eae4.js" defer=""></script><script src="/_next/static/chunks/main-6ec3f7584970eebe.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f7367f88af207b64.js" defer=""></script><script src="/_next/static/chunks/119-abfbe7c9e22798da.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bcategory%5D/%5Bguide%5D-ae7274cbb918ed8b.js" defer=""></script><script src="/_next/static/UcVFm8oYW2Bg6dz8log2r/_buildManifest.js" defer=""></script><script src="/_next/static/UcVFm8oYW2Bg6dz8log2r/_ssgManifest.js" defer=""></script><style id="__jsx-8a7f0cdcf94f52ce">.breadcrumb.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:var(--space-2);margin-bottom:var(--space-6);font-size:var(--font-sm);color:var(--text-secondary);overflow-x:auto;white-space:nowrap;-webkit-overflow-scrolling:touch}.breadcrumb.jsx-8a7f0cdcf94f52ce a.jsx-8a7f0cdcf94f52ce{color:var(--accent-primary);text-decoration:none;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.breadcrumb.jsx-8a7f0cdcf94f52ce a.jsx-8a7f0cdcf94f52ce:hover{text-decoration:underline}.separator.jsx-8a7f0cdcf94f52ce{color:var(--text-muted);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.current.jsx-8a7f0cdcf94f52ce{color:var(--text-primary);font-weight:500;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.guide-header.jsx-8a7f0cdcf94f52ce{background:var(--bg-secondary);-webkit-border-radius:var(--border-radius-lg);-moz-border-radius:var(--border-radius-lg);border-radius:var(--border-radius-lg);padding:var(--space-6);margin-bottom:var(--space-8);border:1px solid var(--bg-surface)}.guide-title.jsx-8a7f0cdcf94f52ce{color:var(--accent-primary);font-size:var(--font-3xl);margin-bottom:var(--space-4);line-height:1.2;word-break:break-word}.guide-description.jsx-8a7f0cdcf94f52ce{color:var(--text-secondary);font-size:var(--font-lg);margin-bottom:var(--space-5);line-height:1.5}.guide-badges.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-3);margin-bottom:var(--space-5);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.guide-actions.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-3);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.guide-content.jsx-8a7f0cdcf94f52ce{background:var(--bg-secondary);-webkit-border-radius:var(--border-radius-lg);-moz-border-radius:var(--border-radius-lg);border-radius:var(--border-radius-lg);padding:var(--space-6);margin-bottom:var(--space-8);border:1px solid var(--bg-surface);overflow-x:hidden}.related-section.jsx-8a7f0cdcf94f52ce{margin-bottom:var(--space-8)}.section-title.jsx-8a7f0cdcf94f52ce{color:var(--accent-primary);font-size:var(--font-2xl);text-align:center;margin-bottom:var(--space-6)}.guide-navigation.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-4);-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:var(--space-8)}.loading-container.jsx-8a7f0cdcf94f52ce,.error-container.jsx-8a7f0cdcf94f52ce{text-align:center;padding:var(--space-8)}.error-actions.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-4);-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:var(--space-6);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}@media(max-width:767px){.guide-header.jsx-8a7f0cdcf94f52ce{padding:var(--space-4);margin-bottom:var(--space-6)}.guide-title.jsx-8a7f0cdcf94f52ce{font-size:var(--font-2xl)}.guide-description.jsx-8a7f0cdcf94f52ce{font-size:var(--font-base)}.guide-content.jsx-8a7f0cdcf94f52ce{padding:var(--space-4);margin-bottom:var(--space-6)}.guide-badges.jsx-8a7f0cdcf94f52ce{gap:var(--space-2)}.guide-actions.jsx-8a7f0cdcf94f52ce{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.guide-navigation.jsx-8a7f0cdcf94f52ce{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.breadcrumb.jsx-8a7f0cdcf94f52ce{margin-bottom:var(--space-4)}}</style><style id="__jsx-f92e766e9414ef16">.app-container.jsx-f92e766e9414ef16{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding-top:56px}.main-content.jsx-f92e766e9414ef16{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;padding:var(--space-6)0}.mobile-footer.jsx-f92e766e9414ef16{background:var(--bg-secondary);border-top:1px solid var(--bg-surface);padding:var(--space-6)0;margin-top:auto}.footer-content.jsx-f92e766e9414ef16{text-align:center}.footer-links.jsx-f92e766e9414ef16{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:var(--space-6);margin-bottom:var(--space-4);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.footer-links.jsx-f92e766e9414ef16 a.jsx-f92e766e9414ef16{color:var(--accent-primary);text-decoration:none;font-size:var(--font-sm)}.footer-links.jsx-f92e766e9414ef16 a.jsx-f92e766e9414ef16:hover{color:var(--accent-secondary)}.footer-separator.jsx-f92e766e9414ef16{height:1px;background:var(--bg-surface);margin:var(--space-4)auto;width:200px}.footer-text.jsx-f92e766e9414ef16,.footer-tech.jsx-f92e766e9414ef16{color:var(--text-secondary);font-size:var(--font-sm);margin-bottom:var(--space-2)}.footer-disclaimer.jsx-f92e766e9414ef16{color:var(--text-muted);font-size:var(--font-xs)}.nav-links.jsx-f92e766e9414ef16{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-4)}.nav-link.jsx-f92e766e9414ef16{color:var(--text-primary);text-decoration:none;padding:var(--space-2)var(--space-3);-webkit-border-radius:var(--border-radius);-moz-border-radius:var(--border-radius);border-radius:var(--border-radius);font-size:var(--font-sm);font-weight:500;-webkit-transition:var(--transition);-moz-transition:var(--transition);-o-transition:var(--transition);transition:var(--transition);min-height:36px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.nav-link.jsx-f92e766e9414ef16:hover{background:var(--bg-surface);color:var(--accent-primary);text-decoration:none}[data-theme="light"].jsx-f92e766e9414ef16 .theme-icon-dark.jsx-f92e766e9414ef16{display:none}[data-theme="light"].jsx-f92e766e9414ef16 .theme-icon-light.jsx-f92e766e9414ef16{display:inline!important}@media(max-width:767px){.main-content.jsx-f92e766e9414ef16{padding:var(--space-4)0}.footer-links.jsx-f92e766e9414ef16{gap:var(--space-4)}}</style></head><body><noscript><div class="no-js-message" style="padding:1rem;background:#ff5555;color:#f8f8f2;text-align:center;font-size:0.9rem">This site requires JavaScript to function properly. Please enable JavaScript in your browser.</div></noscript><div id="__next"><div class="jsx-f92e766e9414ef16 app-container"><a href="#main-content" class="jsx-f92e766e9414ef16 skip-link">Skip to main content</a><nav class="jsx-f92e766e9414ef16 mobile-nav"><div class="jsx-f92e766e9414ef16 mobile-nav-content"><a class="mobile-brand" href="/"><span role="img" aria-label="Books" class="jsx-f92e766e9414ef16">📚</span>HowToMgr</a><div class="jsx-f92e766e9414ef16 nav-links"><a class="nav-link" href="/all/">All</a><a class="nav-link" href="/search/">Search</a></div><button aria-label="Toggle theme" title="Switch theme" class="jsx-f92e766e9414ef16 mobile-theme-toggle touch-target"><span class="jsx-f92e766e9414ef16 theme-icon-dark">🌙</span><span style="display:none" class="jsx-f92e766e9414ef16 theme-icon-light">☀️</span></button></div></nav><main id="main-content" tabindex="-1" class="jsx-f92e766e9414ef16 main-content"><div class="jsx-f92e766e9414ef16 container"><nav aria-label="Breadcrumb" class="jsx-8a7f0cdcf94f52ce breadcrumb"><a href="/">Home</a><span class="jsx-8a7f0cdcf94f52ce separator">→</span><a href="/container/">Containers</a><span class="jsx-8a7f0cdcf94f52ce separator">→</span><span class="jsx-8a7f0cdcf94f52ce current">Minikube</span></nav><header class="jsx-8a7f0cdcf94f52ce guide-header"><div class="jsx-8a7f0cdcf94f52ce guide-meta-top"><h1 class="jsx-8a7f0cdcf94f52ce guide-title">Minikube</h1><p class="jsx-8a7f0cdcf94f52ce guide-description">Repo for minikube</p><div class="jsx-8a7f0cdcf94f52ce guide-badges"><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-primary">Containers</span><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-info">1 min</span></div><div class="jsx-8a7f0cdcf94f52ce guide-actions"><a href="https://github.com/howtomgr/minikube" target="_blank" rel="noopener" class="jsx-8a7f0cdcf94f52ce btn btn-secondary">View on GitHub</a></div></div></header><article class="jsx-8a7f0cdcf94f52ce guide-content"><div class="jsx-8a7f0cdcf94f52ce readme-content"><h2 id="welcome-to-minikube" class="mobile-header">👋 Welcome to minikube 🚀  </h2>
<p class="mobile-paragraph">minikube README  </p>
<h2 id="author" class="mobile-header">Author  </h2>
<p class="mobile-paragraph">🤖 casjay: <a href="https://github.com/casjay" target="_blank" rel="noopener" class="mobile-link">Github</a> 🤖  </p></div></article><section class="jsx-8a7f0cdcf94f52ce related-section"><h2 class="jsx-8a7f0cdcf94f52ce section-title">Related <!-- -->Containers<!-- --> Guides</h2><div class="jsx-8a7f0cdcf94f52ce mobile-grid"><a class="mobile-card" href="/container/docker/"><div class="jsx-8a7f0cdcf94f52ce mobile-card-header"><h3 class="jsx-8a7f0cdcf94f52ce mobile-card-title">Docker</h3><p class="jsx-8a7f0cdcf94f52ce mobile-card-description">Repo for docker</p></div><div class="jsx-8a7f0cdcf94f52ce mobile-card-meta"><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-info">17 min</span></div></a><a class="mobile-card" href="/container/k3s/"><div class="jsx-8a7f0cdcf94f52ce mobile-card-header"><h3 class="jsx-8a7f0cdcf94f52ce mobile-card-title">K3s</h3><p class="jsx-8a7f0cdcf94f52ce mobile-card-description">Repo for k3s</p></div><div class="jsx-8a7f0cdcf94f52ce mobile-card-meta"><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card" href="/container/kubernetes/"><div class="jsx-8a7f0cdcf94f52ce mobile-card-header"><h3 class="jsx-8a7f0cdcf94f52ce mobile-card-title">Kubernetes</h3><p class="jsx-8a7f0cdcf94f52ce mobile-card-description">Repo for kubernetes</p></div><div class="jsx-8a7f0cdcf94f52ce mobile-card-meta"><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-info">35 min</span></div></a></div></section><nav class="jsx-8a7f0cdcf94f52ce guide-navigation"><a class="btn btn-secondary" href="/container/">← All <!-- -->Containers</a><a class="btn btn-secondary" href="/">All Categories</a></nav></div></main><footer class="jsx-f92e766e9414ef16 mobile-footer"><div class="jsx-f92e766e9414ef16 container"><div class="jsx-f92e766e9414ef16 footer-content"><div class="jsx-f92e766e9414ef16 footer-links"><a href="/">Home</a><a href="https://github.com/howtomgr" target="_blank" rel="noopener" class="jsx-f92e766e9414ef16">GitHub</a><a href="https://github.com/howtomgr/howtomgr.github.io" target="_blank" rel="noopener" class="jsx-f92e766e9414ef16">Source</a></div><div class="jsx-f92e766e9414ef16 footer-separator"></div><p class="jsx-f92e766e9414ef16 footer-text">© <!-- -->2025<!-- --> HowToMgr Organization. Open source installation guides.</p><p class="jsx-f92e766e9414ef16 footer-tech">Built with ❤️ using Next.js + GitHub Pages</p><p class="jsx-f92e766e9414ef16 footer-disclaimer"><small class="jsx-f92e766e9414ef16">All guides are provided as-is. Please review and test before production use.</small></p></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"guide":{"name":"minikube","displayName":"Minikube","slug":"minikube","description":"Repo for minikube","category":"container","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/minikube","updatedAt":"2025-09-08T03:11:25Z","createdAt":"2025-09-08T03:11:15Z","readmeRaw":"## 👋 Welcome to minikube 🚀  \n\nminikube README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-minikube\" class=\"mobile-header\"\u003e👋 Welcome to minikube 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eminikube README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T18:12:16.455Z"},"category":{"key":"container","name":"Containers","description":"Container platforms and orchestration","icon":"📦","color":"#bd93f9","keywords":["docker","kubernetes","k3s","portainer","rancher","minikube"]},"relatedGuides":[{"name":"docker","displayName":"Docker","slug":"docker","description":"Repo for docker","category":"container","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/docker","updatedAt":"2025-09-14T01:29:53Z","createdAt":"2023-08-28T03:47:37Z","readmeRaw":"# Docker Installation Guide\n\nDocker is a free and open-source containerization platform that enables developers to package applications and their dependencies into portable containers. Originally developed by Solomon Hykes at dotCloud, Docker revolutionized application deployment by providing OS-level virtualization. It serves as a FOSS alternative to proprietary virtualization solutions like VMware vSphere, Microsoft Hyper-V containers, or commercial container platforms, offering comparable functionality with features like image layering, container orchestration, and resource isolation.\n\n## Prerequisites\n\n- **Hardware Requirements**:\n  - CPU: 64-bit processor with virtualization support (Intel VT-x/AMD-V)\n  - RAM: 2GB minimum (4GB+ recommended for production)\n  - Storage: 20GB minimum (50GB+ recommended, SSD preferred)\n  - BIOS: Virtualization must be enabled\n- **Operating System**: \n  - Linux: Kernel 3.10+ with cgroups and namespaces support\n  - macOS: 10.15+ (Catalina or newer)\n  - Windows: Windows 10 64-bit Pro/Enterprise/Education (Build 19041+)\n- **Network Requirements**:\n  - Internet connection for pulling images\n  - Port 2375 (unencrypted) or 2376 (TLS) for Docker API\n  - Port 2377 for Swarm mode cluster management\n  - Port 7946 TCP/UDP for container network discovery\n  - Port 4789 UDP for overlay network traffic\n- **Dependencies**:\n  - iptables 1.4+ (Linux)\n  - Git (for building images)\n  - systemd or compatible init system (Linux)\n- **System Access**: root or sudo privileges required\n\n## Installation\n\n### RHEL/CentOS/Rocky Linux/AlmaLinux\n\n```bash\n# Remove old versions\nsudo yum remove docker \\\n                docker-client \\\n                docker-client-latest \\\n                docker-common \\\n                docker-latest \\\n                docker-latest-logrotate \\\n                docker-logrotate \\\n                docker-engine\n\n# Install required packages\nsudo yum install -y yum-utils\n\n# Add Docker repository\nsudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n\n# Install Docker Engine\nsudo yum install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n\n# Enable and start Docker\nsudo systemctl enable --now docker\n\n# Verify installation\nsudo docker run hello-world\n```\n\n### Debian/Ubuntu\n\n```bash\n# Update package index\nsudo apt-get update\n\n# Install prerequisites\nsudo apt-get install -y \\\n    ca-certificates \\\n    curl \\\n    gnupg \\\n    lsb-release\n\n# Add Docker's official GPG key\nsudo mkdir -m 0755 -p /etc/apt/keyrings\nwget -O docker.gpg https://download.docker.com/linux/ubuntu/gpg\nsudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg \u003c docker.gpg\nrm docker.gpg\n\n# Add repository\necho \\\n  \"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \\\n  $(lsb_release -cs) stable\" | sudo tee /etc/apt/sources.list.d/docker.list \u003e /dev/null\n\n# Install Docker Engine\nsudo apt-get update\nsudo apt-get install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n\n# Enable and start Docker\nsudo systemctl enable --now docker\n```\n\n### Arch Linux\n\n```bash\n# Install Docker from official repositories\nsudo pacman -S docker docker-compose docker-buildx\n\n# Optional: Install Docker documentation\nsudo pacman -S docker-docs\n\n# Enable and start Docker service\nsudo systemctl enable --now docker\n\n# For rootless Docker\nsudo pacman -S fuse-overlayfs slirp4netns\n\n# Add user to docker group\nsudo usermod -aG docker $USER\n```\n\n### Alpine Linux\n\n```bash\n# Add community repository if not enabled\necho \"http://dl-cdn.alpinelinux.org/alpine/v$(cat /etc/alpine-release | cut -d'.' -f1,2)/community\" \u003e\u003e /etc/apk/repositories\n\n# Update package index\napk update\n\n# Install Docker\napk add docker docker-cli docker-compose\n\n# Add Docker to boot services\nrc-update add docker boot\n\n# Start Docker service\nservice docker start\n\n# Install docker-compose (Python version)\napk add py3-pip\npip3 install docker-compose\n```\n\n### openSUSE/SLES\n\n```bash\n# openSUSE Leap/Tumbleweed\nsudo zypper install -y docker docker-compose docker-buildx\n\n# For latest version from official Docker repository\nsudo zypper addrepo https://download.docker.com/linux/suse/docker-ce.repo\nsudo zypper refresh\nsudo zypper install -y docker-ce docker-ce-cli containerd.io\n\n# Enable and start Docker\nsudo systemctl enable --now docker\n\n# Add user to docker group\nsudo usermod -aG docker $USER\n\n# SLES specific\nsudo SUSEConnect -p sle-module-containers/15.5/x86_64\nsudo zypper install -y docker\n```\n\n### macOS\n\n```bash\n# Using Homebrew\nbrew install --cask docker\n\n# Start Docker Desktop\nopen /Applications/Docker.app\n\n# Wait for Docker to start, then verify\ndocker --version\ndocker compose version\n\n# Alternative: Install Docker CLI only (without Desktop)\nbrew install docker docker-compose\n\n# For docker-machine (managing remote Docker hosts)\nbrew install docker-machine\n```\n\n### FreeBSD\n\n```bash\n# Install Docker from packages\npkg install docker docker-compose\n\n# Or from ports\ncd /usr/ports/sysutils/docker\nmake install clean\n\n# Enable Docker\necho 'docker_enable=\"YES\"' \u003e\u003e /etc/rc.conf\n\n# Load required kernel modules\nkldload linux64\nkldload fdescfs\n\n# Start Docker\nservice docker start\n\n# Add user to docker group\npw groupmod docker -m $USER\n```\n\n### Windows\n\n```powershell\n# Enable WSL2 (required for Docker Desktop)\nwsl --install\n\n# Enable required Windows features\ndism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart\ndism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart\n\n# Download and install Docker Desktop\n# Visit: https://desktop.docker.com/win/main/amd64/Docker%20Desktop%20Installer.exe\n\n# Or use Chocolatey\nchoco install docker-desktop\n\n# Or use winget\nwinget install Docker.DockerDesktop\n\n# Start Docker Desktop from Start Menu\n# Verify installation in PowerShell\ndocker --version\ndocker compose version\n```\n\n## Initial Configuration\n\n### First-Run Setup\n\n1. **Configure Docker daemon**:\n```bash\n# Create daemon configuration directory\nsudo mkdir -p /etc/docker\n\n# Create daemon.json with optimized settings\nsudo tee /etc/docker/daemon.json \u003c\u003cEOF\n{\n  \"log-driver\": \"json-file\",\n  \"log-opts\": {\n    \"max-size\": \"10m\",\n    \"max-file\": \"3\"\n  },\n  \"storage-driver\": \"overlay2\",\n  \"live-restore\": true,\n  \"default-ulimits\": {\n    \"nofile\": {\n      \"Name\": \"nofile\",\n      \"Hard\": 64000,\n      \"Soft\": 64000\n    }\n  }\n}\nEOF\n\n# Restart Docker to apply changes\nsudo systemctl restart docker\n```\n\n2. **Configure user permissions**:\n```bash\n# Add current user to docker group (Linux)\nsudo usermod -aG docker $USER\n\n# Apply group changes (logout/login or use newgrp)\nnewgrp docker\n\n# Verify docker works without sudo\ndocker run hello-world\n```\n\n3. **Essential security settings**:\n```bash\n# Enable user namespace remapping for better isolation\nsudo tee -a /etc/docker/daemon.json \u003c\u003cEOF\n{\n  \"userns-remap\": \"default\"\n}\nEOF\n\n# Create subuid/subgid entries\necho \"dockremap:100000:65536\" | sudo tee -a /etc/subuid\necho \"dockremap:100000:65536\" | sudo tee -a /etc/subgid\n\n# Restart Docker\nsudo systemctl restart docker\n```\n\n### Testing Initial Setup\n\n```bash\n# Check Docker version\ndocker version\n\n# View system information\ndocker info\n\n# Test container creation\ndocker run --rm alpine echo \"Docker is working!\"\n\n# Test networking\ndocker run --rm alpine ping -c 3 google.com\n\n# Test volume mounting\ndocker run --rm -v /tmp:/host alpine ls /host\n```\n\n**WARNING:** Never expose Docker daemon socket (2375/2376) to the internet without proper TLS authentication!\n\n## Service Management\n\n### systemd (RHEL, Debian, Ubuntu, Arch, openSUSE)\n\n```bash\n# Enable Docker to start on boot\nsudo systemctl enable docker\n\n# Start Docker service\nsudo systemctl start docker\n\n# Stop Docker service\nsudo systemctl stop docker\n\n# Restart Docker service\nsudo systemctl restart docker\n\n# Reload Docker configuration\nsudo systemctl reload docker\n\n# Check Docker status\nsudo systemctl status docker\n\n# View Docker logs\nsudo journalctl -u docker.service -f\n```\n\n### OpenRC (Alpine Linux)\n\n```bash\n# Enable Docker to start on boot\nrc-update add docker boot\n\n# Start Docker service\nrc-service docker start\n\n# Stop Docker service\nrc-service docker stop\n\n# Restart Docker service\nrc-service docker restart\n\n# Check Docker status\nrc-service docker status\n```\n\n### rc.d (FreeBSD)\n\n```bash\n# Enable in /etc/rc.conf\necho 'docker_enable=\"YES\"' \u003e\u003e /etc/rc.conf\n\n# Start Docker\nservice docker start\n\n# Stop Docker\nservice docker stop\n\n# Restart Docker\nservice docker restart\n\n# Check status\nservice docker status\n```\n\n### launchd (macOS)\n\n```bash\n# Docker Desktop manages its own services\n# Control through the UI or command line\n\n# Stop Docker Desktop\nosascript -e 'quit app \"Docker\"'\n\n# Start Docker Desktop\nopen -a Docker\n\n# Check if Docker is running\ndocker system info \u003e/dev/null 2\u003e\u00261 \u0026\u0026 echo \"Docker is running\" || echo \"Docker is not running\"\n```\n\n### Windows Service Manager\n\n```powershell\n# Docker Desktop manages services automatically\n# For manual control:\n\n# Restart Docker Desktop\nStop-Process -Name \"Docker Desktop\" -Force\nStart-Process \"C:\\Program Files\\Docker\\Docker\\Docker Desktop.exe\"\n\n# Check Docker service status\nGet-Service -Name docker\n\n# Restart Docker service\nRestart-Service docker\n```\n\n## Advanced Configuration\n\n### Storage Driver Configuration\n\n```bash\n# Configure storage driver options\nsudo tee /etc/docker/daemon.json \u003c\u003cEOF\n{\n  \"storage-driver\": \"overlay2\",\n  \"storage-opts\": [\n    \"overlay2.override_kernel_check=true\",\n    \"overlay2.size=20G\"\n  ],\n  \"data-root\": \"/var/lib/docker\"\n}\nEOF\n\n# For devicemapper (older systems)\n{\n  \"storage-driver\": \"devicemapper\",\n  \"storage-opts\": [\n    \"dm.thinpooldev=/dev/mapper/docker-thinpool\",\n    \"dm.use_deferred_removal=true\",\n    \"dm.use_deferred_deletion=true\"\n  ]\n}\n```\n\n### Network Configuration\n\n```bash\n# Configure default network settings\nsudo tee -a /etc/docker/daemon.json \u003c\u003cEOF\n{\n  \"bip\": \"172.17.0.1/16\",\n  \"fixed-cidr\": \"172.17.0.0/16\",\n  \"default-address-pools\": [\n    {\n      \"base\": \"172.80.0.0/16\",\n      \"size\": 24\n    }\n  ],\n  \"dns\": [\"8.8.8.8\", \"8.8.4.4\"],\n  \"dns-search\": [\"example.com\"]\n}\nEOF\n\n# Enable IPv6 support\n{\n  \"ipv6\": true,\n  \"fixed-cidr-v6\": \"2001:db8::/64\"\n}\n```\n\n### Resource Limits\n\n```bash\n# Configure default container limits\nsudo tee -a /etc/docker/daemon.json \u003c\u003cEOF\n{\n  \"default-ulimits\": {\n    \"nofile\": {\n      \"Name\": \"nofile\",\n      \"Hard\": 64000,\n      \"Soft\": 64000\n    },\n    \"nproc\": {\n      \"Name\": \"nproc\",\n      \"Hard\": 32000,\n      \"Soft\": 32000\n    }\n  },\n  \"default-runtime\": \"runc\",\n  \"runtimes\": {\n    \"nvidia\": {\n      \"path\": \"nvidia-container-runtime\",\n      \"runtimeArgs\": []\n    }\n  }\n}\nEOF\n```\n\n## Reverse Proxy Setup\n\n### nginx as Docker Registry Proxy\n\n```nginx\n# /etc/nginx/sites-available/docker-registry\nserver {\n    listen 443 ssl http2;\n    server_name registry.example.com;\n\n    ssl_certificate /etc/ssl/certs/registry.crt;\n    ssl_certificate_key /etc/ssl/private/registry.key;\n\n    # Docker Registry API\n    location /v2/ {\n        proxy_pass http://localhost:5000;\n        proxy_set_header Host $http_host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        proxy_read_timeout 900;\n        \n        # Required for docker client\n        chunked_transfer_encoding on;\n        client_max_body_size 0;\n    }\n}\n```\n\n### Apache as Docker Registry Proxy\n\n```apache\n# /etc/apache2/sites-available/docker-registry.conf\n\u003cVirtualHost *:443\u003e\n    ServerName registry.example.com\n    \n    SSLEngine on\n    SSLCertificateFile /etc/ssl/certs/registry.crt\n    SSLCertificateKeyFile /etc/ssl/private/registry.key\n    \n    ProxyPreserveHost On\n    ProxyPass /v2 http://localhost:5000/v2\n    ProxyPassReverse /v2 http://localhost:5000/v2\n    \n    \u003cLocation /v2\u003e\n        Order deny,allow\n        Allow from all\n        \n        # Authentication\n        AuthType Basic\n        AuthName \"Docker Registry\"\n        AuthUserFile /etc/apache2/.htpasswd\n        Require valid-user\n    \u003c/Location\u003e\n\u003c/VirtualHost\u003e\n```\n\n### Caddy as Docker Registry Proxy\n\n```caddyfile\nregistry.example.com {\n    reverse_proxy localhost:5000 {\n        header_up Host {host}\n        header_up X-Real-IP {remote}\n        header_up X-Forwarded-For {remote}\n        header_up X-Forwarded-Proto {scheme}\n    }\n    \n    basicauth /v2/* {\n        admin $2a$14$xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\n    }\n    \n    encode gzip\n}\n```\n\n### Traefik Configuration\n\n```yaml\n# docker-compose.yml for Traefik\nversion: '3.8'\n\nservices:\n  traefik:\n    image: traefik:v2.9\n    command:\n      - \"--api.insecure=true\"\n      - \"--providers.docker=true\"\n      - \"--entrypoints.websecure.address=:443\"\n    ports:\n      - \"443:443\"\n      - \"8080:8080\"\n    volumes:\n      - /var/run/docker.sock:/var/run/docker.sock:ro\n      - ./certs:/certs\n\n  registry:\n    image: registry:2\n    labels:\n      - \"traefik.enable=true\"\n      - \"traefik.http.routers.registry.rule=Host(`registry.example.com`)\"\n      - \"traefik.http.routers.registry.entrypoints=websecure\"\n      - \"traefik.http.routers.registry.tls=true\"\n```\n\n## Security Configuration\n\n### Docker Daemon Security\n\n```bash\n# Enable TLS for Docker daemon\n# Generate CA private key\nopenssl genrsa -aes256 -out ca-key.pem 4096\n\n# Generate CA certificate\nopenssl req -new -x509 -days 3650 -key ca-key.pem -sha256 -out ca.pem\n\n# Generate server key\nopenssl genrsa -out server-key.pem 4096\n\n# Generate certificate signing request\nopenssl req -subj \"/CN=$HOST\" -sha256 -new -key server-key.pem -out server.csr\n\n# Generate server certificate\necho subjectAltName = DNS:$HOST,IP:127.0.0.1 \u003e\u003e extfile.cnf\necho extendedKeyUsage = serverAuth \u003e\u003e extfile.cnf\nopenssl x509 -req -days 365 -sha256 -in server.csr -CA ca.pem -CAkey ca-key.pem -out server-cert.pem -extfile extfile.cnf\n\n# Configure Docker to use TLS\nsudo tee /etc/docker/daemon.json \u003c\u003cEOF\n{\n  \"hosts\": [\"tcp://0.0.0.0:2376\"],\n  \"tls\": true,\n  \"tlsverify\": true,\n  \"tlscert\": \"/etc/docker/certs/server-cert.pem\",\n  \"tlskey\": \"/etc/docker/certs/server-key.pem\",\n  \"tlscacert\": \"/etc/docker/certs/ca.pem\"\n}\nEOF\n```\n\n### AppArmor/SELinux Configuration\n\n```bash\n# AppArmor (Debian/Ubuntu)\n# Check if AppArmor is enabled\nsudo aa-status\n\n# Docker containers use docker-default profile by default\n# Create custom profile\nsudo tee /etc/apparmor.d/docker-custom \u003c\u003cEOF\n#include \u003ctunables/global\u003e\n\nprofile docker-custom flags=(attach_disconnected,mediate_deleted) {\n  #include \u003cabstractions/base\u003e\n  \n  network,\n  capability,\n  \n  # Deny dangerous capabilities\n  deny capability dac_override,\n  deny capability setuid,\n  deny capability setgid,\n  \n  # File access\n  deny /proc/sys/** w,\n  deny /sys/** w,\n  \n  # Allow necessary access\n  /usr/bin/** ix,\n  /bin/** ix,\n  /lib/** r,\n}\nEOF\n\n# Load profile\nsudo apparmor_parser -r /etc/apparmor.d/docker-custom\n\n# SELinux (RHEL/CentOS)\n# Enable SELinux for containers\nsudo setsebool -P container_manage_cgroup true\n\n# Check Docker SELinux context\nps -eZ | grep dockerd\n```\n\n### Firewall Rules\n\n```bash\n# UFW (Ubuntu/Debian)\n# Docker manages its own iptables rules\n# To integrate with UFW:\nsudo tee -a /etc/ufw/after.rules \u003c\u003cEOF\n*filter\n:ufw-user-forward - [0:0]\n:DOCKER-USER - [0:0]\n-A DOCKER-USER -j ufw-user-forward\n-A DOCKER-USER -j RETURN -s 10.0.0.0/8\n-A DOCKER-USER -j RETURN -s 172.16.0.0/12\n-A DOCKER-USER -j RETURN -s 192.168.0.0/16\n-A DOCKER-USER -j DROP\nCOMMIT\nEOF\n\nsudo ufw reload\n\n# firewalld (RHEL/CentOS/openSUSE)\n# Add Docker zone\nsudo firewall-cmd --permanent --new-zone=docker\nsudo firewall-cmd --permanent --zone=docker --add-interface=docker0\nsudo firewall-cmd --permanent --zone=docker --add-port=2377/tcp\nsudo firewall-cmd --permanent --zone=docker --add-port=7946/tcp\nsudo firewall-cmd --permanent --zone=docker --add-port=7946/udp\nsudo firewall-cmd --permanent --zone=docker --add-port=4789/udp\nsudo firewall-cmd --reload\n\n# iptables (manual)\n# Allow Docker subnet\nsudo iptables -A INPUT -s 172.17.0.0/16 -j ACCEPT\nsudo iptables-save \u003e /etc/iptables/rules.v4\n\n# pf (FreeBSD)\n# Add to /etc/pf.conf\npass in on docker0 all\npass out on docker0 all\n```\n\n## Database Setup\n\nDocker doesn't require a database, but here's how to run databases in Docker:\n\n### PostgreSQL in Docker\n\n```bash\n# Create volume for persistent data\ndocker volume create postgres_data\n\n# Run PostgreSQL container\ndocker run -d \\\n  --name postgres \\\n  --restart unless-stopped \\\n  -e POSTGRES_PASSWORD=securepassword \\\n  -e POSTGRES_USER=myuser \\\n  -e POSTGRES_DB=mydb \\\n  -v postgres_data:/var/lib/postgresql/data \\\n  -p 5432:5432 \\\n  postgres:15-alpine\n\n# Connect to PostgreSQL\ndocker exec -it postgres psql -U myuser -d mydb\n```\n\n### MySQL in Docker\n\n```bash\n# Create volume for persistent data\ndocker volume create mysql_data\n\n# Run MySQL container\ndocker run -d \\\n  --name mysql \\\n  --restart unless-stopped \\\n  -e MYSQL_ROOT_PASSWORD=rootpassword \\\n  -e MYSQL_DATABASE=mydb \\\n  -e MYSQL_USER=myuser \\\n  -e MYSQL_PASSWORD=securepassword \\\n  -v mysql_data:/var/lib/mysql \\\n  -p 3306:3306 \\\n  mysql:8.0\n\n# Connect to MySQL\ndocker exec -it mysql mysql -u myuser -p\n```\n\n## Performance Optimization\n\n### Kernel Parameters\n\n```bash\n# Optimize kernel parameters for Docker\nsudo tee -a /etc/sysctl.conf \u003c\u003cEOF\n# Docker optimization\nvm.max_map_count=262144\nfs.file-max=2097152\nfs.inotify.max_user_watches=524288\nfs.inotify.max_user_instances=512\n\n# Network optimization\nnet.core.somaxconn=32768\nnet.ipv4.tcp_max_syn_backlog=8192\nnet.core.netdev_max_backlog=5000\nnet.ipv4.ip_local_port_range=1024 65535\n\n# Bridge settings\nnet.bridge.bridge-nf-call-iptables=1\nnet.bridge.bridge-nf-call-ip6tables=1\nnet.ipv4.ip_forward=1\nEOF\n\n# Apply settings\nsudo sysctl -p\n```\n\n### Storage Optimization\n\n```bash\n# Use dedicated disk for Docker\n# Format with XFS for better performance\nsudo mkfs.xfs /dev/sdb1\nsudo mkdir -p /var/lib/docker\nsudo mount /dev/sdb1 /var/lib/docker\n\n# Add to /etc/fstab\necho \"/dev/sdb1 /var/lib/docker xfs defaults,noatime 0 2\" | sudo tee -a /etc/fstab\n\n# Configure storage driver options\nsudo tee /etc/docker/daemon.json \u003c\u003cEOF\n{\n  \"storage-driver\": \"overlay2\",\n  \"storage-opts\": [\n    \"overlay2.override_kernel_check=true\"\n  ],\n  \"log-driver\": \"json-file\",\n  \"log-opts\": {\n    \"max-size\": \"10m\",\n    \"max-file\": \"3\"\n  }\n}\nEOF\n```\n\n### Build Optimization\n\n```bash\n# Enable BuildKit for faster builds\nexport DOCKER_BUILDKIT=1\n\n# Configure BuildKit in daemon\nsudo tee -a /etc/docker/daemon.json \u003c\u003cEOF\n{\n  \"features\": {\n    \"buildkit\": true\n  }\n}\nEOF\n\n# Use build cache mount\n# In Dockerfile:\n# syntax=docker/dockerfile:1\nFROM alpine\nRUN --mount=type=cache,target=/var/cache/apk \\\n    apk add --no-cache git\n```\n\n## Monitoring\n\n### Docker Stats and Events\n\n```bash\n# Monitor container resource usage\ndocker stats\n\n# Stream Docker events\ndocker events\n\n# Monitor specific container\ndocker stats container_name\n\n# Export metrics in JSON\ndocker stats --no-stream --format json \u003e stats.json\n\n# Monitor Docker daemon\nsudo journalctl -u docker.service -f\n```\n\n### cAdvisor Setup\n\n```bash\n# Run cAdvisor for container metrics\ndocker run -d \\\n  --name=cadvisor \\\n  --restart unless-stopped \\\n  -p 8080:8080 \\\n  -v /:/rootfs:ro \\\n  -v /var/run:/var/run:ro \\\n  -v /sys:/sys:ro \\\n  -v /var/lib/docker/:/var/lib/docker:ro \\\n  -v /dev/disk/:/dev/disk:ro \\\n  --privileged \\\n  gcr.io/cadvisor/cadvisor:latest\n\n# Access metrics at http://localhost:8080\n```\n\n### Prometheus Integration\n\n```yaml\n# docker-compose.yml for monitoring stack\nversion: '3.8'\n\nservices:\n  prometheus:\n    image: prom/prometheus\n    volumes:\n      - ./prometheus.yml:/etc/prometheus/prometheus.yml\n      - prometheus_data:/prometheus\n    ports:\n      - \"9090:9090\"\n    command:\n      - '--config.file=/etc/prometheus/prometheus.yml'\n      - '--storage.tsdb.path=/prometheus'\n\n  node-exporter:\n    image: prom/node-exporter\n    ports:\n      - \"9100:9100\"\n    volumes:\n      - /proc:/host/proc:ro\n      - /sys:/host/sys:ro\n      - /:/rootfs:ro\n\nvolumes:\n  prometheus_data:\n```\n\n## Backup and Restore\n\n### Container Backup\n\n```bash\n#!/bin/bash\n# backup-docker.sh\n\nBACKUP_DIR=\"/backup/docker\"\nDATE=$(date +%Y%m%d_%H%M%S)\n\n# Create backup directory\nmkdir -p $BACKUP_DIR/{images,volumes,configs}\n\n# Backup running containers\ndocker ps -q | while read container; do\n    name=$(docker inspect -f '{{.Name}}' $container | sed 's/\\///')\n    docker commit $container backup_$name:$DATE\n    docker save backup_$name:$DATE | gzip \u003e $BACKUP_DIR/images/${name}_${DATE}.tar.gz\n    docker inspect $container \u003e $BACKUP_DIR/configs/${name}_${DATE}.json\ndone\n\n# Backup volumes\ndocker volume ls -q | while read volume; do\n    docker run --rm \\\n        -v $volume:/data \\\n        -v $BACKUP_DIR/volumes:/backup \\\n        alpine tar czf /backup/${volume}_${DATE}.tar.gz -C /data .\ndone\n\n# Backup Docker daemon config\ncp /etc/docker/daemon.json $BACKUP_DIR/configs/daemon_${DATE}.json\n\necho \"Backup completed: $DATE\"\n```\n\n### Volume Backup\n\n```bash\n# Backup named volume\ndocker run --rm \\\n    -v myvolume:/source:ro \\\n    -v $(pwd):/backup \\\n    alpine tar czf /backup/myvolume.tar.gz -C /source .\n\n# Restore volume\ndocker run --rm \\\n    -v myvolume:/target \\\n    -v $(pwd):/backup \\\n    alpine tar xzf /backup/myvolume.tar.gz -C /target\n```\n\n### Registry Backup\n\n```bash\n# Backup Docker registry data\ndocker exec registry tar czf - /var/lib/registry | gzip \u003e registry_backup_$(date +%Y%m%d).tar.gz\n\n# Backup registry config\ndocker exec registry cat /etc/docker/registry/config.yml \u003e registry_config_backup.yml\n```\n\n## Troubleshooting\n\n### Common Issues\n\n1. **Cannot connect to Docker daemon**:\n```bash\n# Check if Docker is running\nsudo systemctl status docker\n\n# Check Docker socket permissions\nls -la /var/run/docker.sock\n\n# Check if user is in docker group\ngroups $USER\n\n# Start Docker if not running\nsudo systemctl start docker\n```\n\n2. **Container networking issues**:\n```bash\n# Check Docker networks\ndocker network ls\n\n# Inspect bridge network\ndocker network inspect bridge\n\n# Check iptables rules\nsudo iptables -L -n -v\n\n# Reset Docker networking\nsudo systemctl stop docker\nsudo ip link delete docker0\nsudo systemctl start docker\n```\n\n3. **Storage space issues**:\n```bash\n# Check disk usage\ndocker system df\n\n# Clean up unused resources\ndocker system prune -a --volumes\n\n# Check Docker root directory\ndf -h /var/lib/docker\n\n# Find large containers/images\ndocker ps -s\ndocker images --format \"table {{.Repository}}\\t{{.Tag}}\\t{{.Size}}\"\n```\n\n4. **Permission denied errors**:\n```bash\n# Fix socket permissions\nsudo chmod 666 /var/run/docker.sock\n\n# Fix user namespace issues\nsudo usermod -aG docker $USER\nnewgrp docker\n\n# Check SELinux/AppArmor\ngetenforce  # SELinux\nsudo aa-status  # AppArmor\n```\n\n### Debug Mode\n\n```bash\n# Run Docker in debug mode\nsudo dockerd --debug\n\n# Enable debug logging\nsudo tee /etc/docker/daemon.json \u003c\u003cEOF\n{\n  \"debug\": true,\n  \"log-level\": \"debug\"\n}\nEOF\n\nsudo systemctl restart docker\n\n# Check debug logs\nsudo journalctl -u docker.service --no-pager\n```\n\n## Maintenance\n\n### Update Procedures\n\n```bash\n# RHEL/CentOS/Rocky/AlmaLinux\nsudo yum update docker-ce docker-ce-cli containerd.io\n\n# Debian/Ubuntu\nsudo apt-get update\nsudo apt-get upgrade docker-ce docker-ce-cli containerd.io\n\n# Arch Linux\nsudo pacman -Syu docker\n\n# Alpine Linux\napk update\napk upgrade docker\n\n# openSUSE\nsudo zypper update docker\n\n# FreeBSD\npkg update\npkg upgrade docker\n\n# Always restart after updates\nsudo systemctl restart docker\n```\n\n### Cleanup Tasks\n\n```bash\n#!/bin/bash\n# docker-cleanup.sh\n\necho \"Starting Docker cleanup...\"\n\n# Remove stopped containers\ndocker container prune -f\n\n# Remove unused images\ndocker image prune -a -f\n\n# Remove unused volumes\ndocker volume prune -f\n\n# Remove unused networks\ndocker network prune -f\n\n# Remove build cache\ndocker builder prune -f\n\n# Show disk usage after cleanup\ndocker system df\n\necho \"Cleanup completed\"\n```\n\n### Log Rotation\n\n```bash\n# Configure log rotation for containers\nsudo tee /etc/docker/daemon.json \u003c\u003cEOF\n{\n  \"log-driver\": \"json-file\",\n  \"log-opts\": {\n    \"max-size\": \"10m\",\n    \"max-file\": \"3\",\n    \"compress\": \"true\"\n  }\n}\nEOF\n\n# System-wide Docker logs rotation\nsudo tee /etc/logrotate.d/docker \u003c\u003cEOF\n/var/lib/docker/containers/*/*.log {\n    rotate 7\n    daily\n    compress\n    missingok\n    delaycompress\n    copytruncate\n}\nEOF\n```\n\n## Integration Examples\n\n### CI/CD Pipeline Integration\n\n```yaml\n# GitLab CI example\nstages:\n  - build\n  - test\n  - deploy\n\nvariables:\n  DOCKER_DRIVER: overlay2\n  DOCKER_TLS_CERTDIR: \"/certs\"\n\nbuild:\n  stage: build\n  image: docker:latest\n  services:\n    - docker:dind\n  script:\n    - docker build -t myapp:$CI_COMMIT_SHA .\n    - docker push myapp:$CI_COMMIT_SHA\n\n# Jenkins Pipeline example\npipeline {\n    agent any\n    stages {\n        stage('Build') {\n            steps {\n                script {\n                    docker.build(\"myapp:${env.BUILD_ID}\")\n                }\n            }\n        }\n    }\n}\n```\n\n### Kubernetes Integration\n\n```bash\n# Install CRI-Docker for Kubernetes\nCRI_VERSION=\"0.3.1\"\nwget https://github.com/Mirantis/cri-dockerd/releases/download/v${CRI_VERSION}/cri-dockerd-${CRI_VERSION}.amd64.tgz\ntar xzf cri-dockerd-${CRI_VERSION}.amd64.tgz\nsudo install -o root -g root -m 0755 cri-dockerd /usr/local/bin/cri-dockerd\nrm cri-dockerd-${CRI_VERSION}.amd64.tgz cri-dockerd\n\n# Create systemd service\nsudo tee /etc/systemd/system/cri-docker.service \u003c\u003cEOF\n[Unit]\nDescription=CRI Docker Interface\nAfter=network.target docker.service\nRequires=docker.service\n\n[Service]\nType=notify\nExecStart=/usr/local/bin/cri-dockerd --container-runtime-endpoint unix:///var/run/cri-dockerd.sock\nRestart=always\nRestartSec=5s\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsudo systemctl enable --now cri-docker\n```\n\n### Docker Compose Examples\n\n```yaml\n# Multi-tier application stack\nversion: '3.8'\n\nservices:\n  web:\n    build: ./web\n    ports:\n      - \"80:80\"\n    environment:\n      - DATABASE_URL=postgresql://user:pass@db:5432/mydb\n    depends_on:\n      - db\n    networks:\n      - frontend\n      - backend\n\n  db:\n    image: postgres:15\n    environment:\n      - POSTGRES_USER=user\n      - POSTGRES_PASSWORD=pass\n      - POSTGRES_DB=mydb\n    volumes:\n      - db_data:/var/lib/postgresql/data\n    networks:\n      - backend\n\n  redis:\n    image: redis:alpine\n    networks:\n      - backend\n\nnetworks:\n  frontend:\n  backend:\n\nvolumes:\n  db_data:\n```\n\n### SDK Integration\n\n```python\n# Python Docker SDK\nimport docker\n\nclient = docker.from_env()\n\n# Run container\ncontainer = client.containers.run(\n    \"alpine\",\n    \"echo hello world\",\n    detach=True\n)\n\n# List containers\nfor container in client.containers.list():\n    print(container.name)\n\n# Build image\nimage, logs = client.images.build(\n    path=\".\",\n    tag=\"myapp:latest\"\n)\n```\n\n```javascript\n// Node.js Docker SDK\nconst Docker = require('dockerode');\nconst docker = new Docker();\n\n// Run container\ndocker.createContainer({\n  Image: 'alpine',\n  Cmd: ['echo', 'hello world'],\n  name: 'mycontainer'\n}, (err, container) =\u003e {\n  if (!err) {\n    container.start();\n  }\n});\n\n// List containers\ndocker.listContainers((err, containers) =\u003e {\n  containers.forEach(containerInfo =\u003e {\n    console.log(containerInfo.Names);\n  });\n});\n```\n\n## Additional Resources\n\n- [Official Documentation](https://docs.docker.com/)\n- [Docker Hub](https://hub.docker.com/)\n- [Docker GitHub Repository](https://github.com/docker)\n- [Docker Best Practices](https://docs.docker.com/develop/dev-best-practices/)\n- [Docker Security Documentation](https://docs.docker.com/engine/security/)\n- [Docker Compose Documentation](https://docs.docker.com/compose/)\n- [Docker Community Forums](https://forums.docker.com/)\n- [Play with Docker](https://labs.play-with-docker.com/)\n\n---\n\n**Note:** This guide is part of the [HowToMgr](https://howtomgr.github.io) collection. Always refer to official documentation for the most up-to-date information.","readmeHtml":"\u003ch1 id=\"docker-installation-guide\" class=\"mobile-header\"\u003eDocker Installation Guide\u003c/h1\u003e\n\u003cp class=\"mobile-paragraph\"\u003eDocker is a free and open-source containerization platform that enables developers to package applications and their dependencies into portable containers. Originally developed by Solomon Hykes at dotCloud, Docker revolutionized application deployment by providing OS-level virtualization. It serves as a FOSS alternative to proprietary virtualization solutions like VMware vSphere, Microsoft Hyper-V containers, or commercial container platforms, offering comparable functionality with features like image layering, container orchestration, and resource isolation.\u003c/p\u003e\n\u003ch2 id=\"prerequisites\" class=\"mobile-header\"\u003ePrerequisites\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eHardware Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eCPU: 64-bit processor with virtualization support (Intel VT-x/AMD-V)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eRAM: 2GB minimum (4GB+ recommended for production)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eStorage: 20GB minimum (50GB+ recommended, SSD preferred)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eBIOS: Virtualization must be enabled\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eOperating System\u003c/strong\u003e: \u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eLinux: Kernel 3.10+ with cgroups and namespaces support\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003emacOS: 10.15+ (Catalina or newer)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWindows: Windows 10 64-bit Pro/Enterprise/Education (Build 19041+)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eNetwork Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eInternet connection for pulling images\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 2375 (unencrypted) or 2376 (TLS) for Docker API\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 2377 for Swarm mode cluster management\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 7946 TCP/UDP for container network discovery\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 4789 UDP for overlay network traffic\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eDependencies\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eiptables 1.4+ (Linux)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eGit (for building images)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003esystemd or compatible init system (Linux)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eSystem Access\u003c/strong\u003e: root or sudo privileges required\u003c/li\u003e\n\u003ch2 id=\"installation\" class=\"mobile-header\"\u003eInstallation\u003c/h2\u003e\n\u003ch3 id=\"rhelcentosrocky-linuxalmalinux\" class=\"mobile-header\"\u003eRHEL/CentOS/Rocky Linux/AlmaLinux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Remove old versions\nsudo yum remove docker \\\n                docker-client \\\n                docker-client-latest \\\n                docker-common \\\n                docker-latest \\\n                docker-latest-logrotate \\\n                docker-logrotate \\\n                docker-engine\n\n# Install required packages\nsudo yum install -y yum-utils\n\n# Add Docker repository\nsudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n\n# Install Docker Engine\nsudo yum install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n\n# Enable and start Docker\nsudo systemctl enable --now docker\n\n# Verify installation\nsudo docker run hello-world\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"debianubuntu\" class=\"mobile-header\"\u003eDebian/Ubuntu\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Update package index\nsudo apt-get update\n\n# Install prerequisites\nsudo apt-get install -y \\\n    ca-certificates \\\n    curl \\\n    gnupg \\\n    lsb-release\n\n# Add Docker\u0026#039;s official GPG key\nsudo mkdir -m 0755 -p /etc/apt/keyrings\nwget -O docker.gpg https://download.docker.com/linux/ubuntu/gpg\nsudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg \u0026lt; docker.gpg\nrm docker.gpg\n\n# Add repository\necho \\\n  \u0026quot;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \\\n  $(lsb_release -cs) stable\u0026quot; | sudo tee /etc/apt/sources.list.d/docker.list \u0026gt; /dev/null\n\n# Install Docker Engine\nsudo apt-get update\nsudo apt-get install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n\n# Enable and start Docker\nsudo systemctl enable --now docker\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"arch-linux\" class=\"mobile-header\"\u003eArch Linux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Docker from official repositories\nsudo pacman -S docker docker-compose docker-buildx\n\n# Optional: Install Docker documentation\nsudo pacman -S docker-docs\n\n# Enable and start Docker service\nsudo systemctl enable --now docker\n\n# For rootless Docker\nsudo pacman -S fuse-overlayfs slirp4netns\n\n# Add user to docker group\nsudo usermod -aG docker $USER\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"alpine-linux\" class=\"mobile-header\"\u003eAlpine Linux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Add community repository if not enabled\necho \u0026quot;http://dl-cdn.alpinelinux.org/alpine/v$(cat /etc/alpine-release | cut -d\u0026#039;.\u0026#039; -f1,2)/community\u0026quot; \u0026gt;\u0026gt; /etc/apk/repositories\n\n# Update package index\napk update\n\n# Install Docker\napk add docker docker-cli docker-compose\n\n# Add Docker to boot services\nrc-update add docker boot\n\n# Start Docker service\nservice docker start\n\n# Install docker-compose (Python version)\napk add py3-pip\npip3 install docker-compose\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"opensusesles\" class=\"mobile-header\"\u003eopenSUSE/SLES\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# openSUSE Leap/Tumbleweed\nsudo zypper install -y docker docker-compose docker-buildx\n\n# For latest version from official Docker repository\nsudo zypper addrepo https://download.docker.com/linux/suse/docker-ce.repo\nsudo zypper refresh\nsudo zypper install -y docker-ce docker-ce-cli containerd.io\n\n# Enable and start Docker\nsudo systemctl enable --now docker\n\n# Add user to docker group\nsudo usermod -aG docker $USER\n\n# SLES specific\nsudo SUSEConnect -p sle-module-containers/15.5/x86_64\nsudo zypper install -y docker\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"macos\" class=\"mobile-header\"\u003emacOS\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using Homebrew\nbrew install --cask docker\n\n# Start Docker Desktop\nopen /Applications/Docker.app\n\n# Wait for Docker to start, then verify\ndocker --version\ndocker compose version\n\n# Alternative: Install Docker CLI only (without Desktop)\nbrew install docker docker-compose\n\n# For docker-machine (managing remote Docker hosts)\nbrew install docker-machine\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"freebsd\" class=\"mobile-header\"\u003eFreeBSD\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Docker from packages\npkg install docker docker-compose\n\n# Or from ports\ncd /usr/ports/sysutils/docker\nmake install clean\n\n# Enable Docker\necho \u0026#039;docker_enable=\u0026quot;YES\u0026quot;\u0026#039; \u0026gt;\u0026gt; /etc/rc.conf\n\n# Load required kernel modules\nkldload linux64\nkldload fdescfs\n\n# Start Docker\nservice docker start\n\n# Add user to docker group\npw groupmod docker -m $USER\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"windows\" class=\"mobile-header\"\u003eWindows\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"powershell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epowershell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-powershell\"\u003e# Enable WSL2 (required for Docker Desktop)\nwsl --install\n\n# Enable required Windows features\ndism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart\ndism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart\n\n# Download and install Docker Desktop\n# Visit: https://desktop.docker.com/win/main/amd64/Docker%20Desktop%20Installer.exe\n\n# Or use Chocolatey\nchoco install docker-desktop\n\n# Or use winget\nwinget install Docker.DockerDesktop\n\n# Start Docker Desktop from Start Menu\n# Verify installation in PowerShell\ndocker --version\ndocker compose version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"initial-configuration\" class=\"mobile-header\"\u003eInitial Configuration\u003c/h2\u003e\n\u003ch3 id=\"first-run-setup\" class=\"mobile-header\"\u003eFirst-Run Setup\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e1. \u003cstrong\u003eConfigure Docker daemon\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create daemon configuration directory\nsudo mkdir -p /etc/docker\n\n# Create daemon.json with optimized settings\nsudo tee /etc/docker/daemon.json \u0026lt;\u0026lt;EOF\n{\n  \u0026quot;log-driver\u0026quot;: \u0026quot;json-file\u0026quot;,\n  \u0026quot;log-opts\u0026quot;: {\n    \u0026quot;max-size\u0026quot;: \u0026quot;10m\u0026quot;,\n    \u0026quot;max-file\u0026quot;: \u0026quot;3\u0026quot;\n  },\n  \u0026quot;storage-driver\u0026quot;: \u0026quot;overlay2\u0026quot;,\n  \u0026quot;live-restore\u0026quot;: true,\n  \u0026quot;default-ulimits\u0026quot;: {\n    \u0026quot;nofile\u0026quot;: {\n      \u0026quot;Name\u0026quot;: \u0026quot;nofile\u0026quot;,\n      \u0026quot;Hard\u0026quot;: 64000,\n      \u0026quot;Soft\u0026quot;: 64000\n    }\n  }\n}\nEOF\n\n# Restart Docker to apply changes\nsudo systemctl restart docker\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e2. \u003cstrong\u003eConfigure user permissions\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Add current user to docker group (Linux)\nsudo usermod -aG docker $USER\n\n# Apply group changes (logout/login or use newgrp)\nnewgrp docker\n\n# Verify docker works without sudo\ndocker run hello-world\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e3. \u003cstrong\u003eEssential security settings\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable user namespace remapping for better isolation\nsudo tee -a /etc/docker/daemon.json \u0026lt;\u0026lt;EOF\n{\n  \u0026quot;userns-remap\u0026quot;: \u0026quot;default\u0026quot;\n}\nEOF\n\n# Create subuid/subgid entries\necho \u0026quot;dockremap:100000:65536\u0026quot; | sudo tee -a /etc/subuid\necho \u0026quot;dockremap:100000:65536\u0026quot; | sudo tee -a /etc/subgid\n\n# Restart Docker\nsudo systemctl restart docker\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"testing-initial-setup\" class=\"mobile-header\"\u003eTesting Initial Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check Docker version\ndocker version\n\n# View system information\ndocker info\n\n# Test container creation\ndocker run --rm alpine echo \u0026quot;Docker is working!\u0026quot;\n\n# Test networking\ndocker run --rm alpine ping -c 3 google.com\n\n# Test volume mounting\ndocker run --rm -v /tmp:/host alpine ls /host\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eWARNING:\u003c/strong\u003e Never expose Docker daemon socket (2375/2376) to the internet without proper TLS authentication!\u003c/p\u003e\n\u003ch2 id=\"service-management\" class=\"mobile-header\"\u003eService Management\u003c/h2\u003e\n\u003ch3 id=\"systemd-rhel-debian-ubuntu-arch-opensuse\" class=\"mobile-header\"\u003esystemd (RHEL, Debian, Ubuntu, Arch, openSUSE)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable Docker to start on boot\nsudo systemctl enable docker\n\n# Start Docker service\nsudo systemctl start docker\n\n# Stop Docker service\nsudo systemctl stop docker\n\n# Restart Docker service\nsudo systemctl restart docker\n\n# Reload Docker configuration\nsudo systemctl reload docker\n\n# Check Docker status\nsudo systemctl status docker\n\n# View Docker logs\nsudo journalctl -u docker.service -f\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"openrc-alpine-linux\" class=\"mobile-header\"\u003eOpenRC (Alpine Linux)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable Docker to start on boot\nrc-update add docker boot\n\n# Start Docker service\nrc-service docker start\n\n# Stop Docker service\nrc-service docker stop\n\n# Restart Docker service\nrc-service docker restart\n\n# Check Docker status\nrc-service docker status\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"rcd-freebsd\" class=\"mobile-header\"\u003erc.d (FreeBSD)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable in /etc/rc.conf\necho \u0026#039;docker_enable=\u0026quot;YES\u0026quot;\u0026#039; \u0026gt;\u0026gt; /etc/rc.conf\n\n# Start Docker\nservice docker start\n\n# Stop Docker\nservice docker stop\n\n# Restart Docker\nservice docker restart\n\n# Check status\nservice docker status\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"launchd-macos\" class=\"mobile-header\"\u003elaunchd (macOS)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Docker Desktop manages its own services\n# Control through the UI or command line\n\n# Stop Docker Desktop\nosascript -e \u0026#039;quit app \u0026quot;Docker\u0026quot;\u0026#039;\n\n# Start Docker Desktop\nopen -a Docker\n\n# Check if Docker is running\ndocker system info \u0026gt;/dev/null 2\u0026gt;\u0026amp;1 \u0026amp;\u0026amp; echo \u0026quot;Docker is running\u0026quot; || echo \u0026quot;Docker is not running\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"windows-service-manager\" class=\"mobile-header\"\u003eWindows Service Manager\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"powershell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epowershell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-powershell\"\u003e# Docker Desktop manages services automatically\n# For manual control:\n\n# Restart Docker Desktop\nStop-Process -Name \u0026quot;Docker Desktop\u0026quot; -Force\nStart-Process \u0026quot;C:\\Program Files\\Docker\\Docker\\Docker Desktop.exe\u0026quot;\n\n# Check Docker service status\nGet-Service -Name docker\n\n# Restart Docker service\nRestart-Service docker\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"advanced-configuration\" class=\"mobile-header\"\u003eAdvanced Configuration\u003c/h2\u003e\n\u003ch3 id=\"storage-driver-configuration\" class=\"mobile-header\"\u003eStorage Driver Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure storage driver options\nsudo tee /etc/docker/daemon.json \u0026lt;\u0026lt;EOF\n{\n  \u0026quot;storage-driver\u0026quot;: \u0026quot;overlay2\u0026quot;,\n  \u0026quot;storage-opts\u0026quot;: [\n    \u0026quot;overlay2.override_kernel_check=true\u0026quot;,\n    \u0026quot;overlay2.size=20G\u0026quot;\n  ],\n  \u0026quot;data-root\u0026quot;: \u0026quot;/var/lib/docker\u0026quot;\n}\nEOF\n\n# For devicemapper (older systems)\n{\n  \u0026quot;storage-driver\u0026quot;: \u0026quot;devicemapper\u0026quot;,\n  \u0026quot;storage-opts\u0026quot;: [\n    \u0026quot;dm.thinpooldev=/dev/mapper/docker-thinpool\u0026quot;,\n    \u0026quot;dm.use_deferred_removal=true\u0026quot;,\n    \u0026quot;dm.use_deferred_deletion=true\u0026quot;\n  ]\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"network-configuration\" class=\"mobile-header\"\u003eNetwork Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure default network settings\nsudo tee -a /etc/docker/daemon.json \u0026lt;\u0026lt;EOF\n{\n  \u0026quot;bip\u0026quot;: \u0026quot;172.17.0.1/16\u0026quot;,\n  \u0026quot;fixed-cidr\u0026quot;: \u0026quot;172.17.0.0/16\u0026quot;,\n  \u0026quot;default-address-pools\u0026quot;: [\n    {\n      \u0026quot;base\u0026quot;: \u0026quot;172.80.0.0/16\u0026quot;,\n      \u0026quot;size\u0026quot;: 24\n    }\n  ],\n  \u0026quot;dns\u0026quot;: [\u0026quot;8.8.8.8\u0026quot;, \u0026quot;8.8.4.4\u0026quot;],\n  \u0026quot;dns-search\u0026quot;: [\u0026quot;example.com\u0026quot;]\n}\nEOF\n\n# Enable IPv6 support\n{\n  \u0026quot;ipv6\u0026quot;: true,\n  \u0026quot;fixed-cidr-v6\u0026quot;: \u0026quot;2001:db8::/64\u0026quot;\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"resource-limits\" class=\"mobile-header\"\u003eResource Limits\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure default container limits\nsudo tee -a /etc/docker/daemon.json \u0026lt;\u0026lt;EOF\n{\n  \u0026quot;default-ulimits\u0026quot;: {\n    \u0026quot;nofile\u0026quot;: {\n      \u0026quot;Name\u0026quot;: \u0026quot;nofile\u0026quot;,\n      \u0026quot;Hard\u0026quot;: 64000,\n      \u0026quot;Soft\u0026quot;: 64000\n    },\n    \u0026quot;nproc\u0026quot;: {\n      \u0026quot;Name\u0026quot;: \u0026quot;nproc\u0026quot;,\n      \u0026quot;Hard\u0026quot;: 32000,\n      \u0026quot;Soft\u0026quot;: 32000\n    }\n  },\n  \u0026quot;default-runtime\u0026quot;: \u0026quot;runc\u0026quot;,\n  \u0026quot;runtimes\u0026quot;: {\n    \u0026quot;nvidia\u0026quot;: {\n      \u0026quot;path\u0026quot;: \u0026quot;nvidia-container-runtime\u0026quot;,\n      \u0026quot;runtimeArgs\u0026quot;: []\n    }\n  }\n}\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"reverse-proxy-setup\" class=\"mobile-header\"\u003eReverse Proxy Setup\u003c/h2\u003e\n\u003ch3 id=\"nginx-as-docker-registry-proxy\" class=\"mobile-header\"\u003enginx as Docker Registry Proxy\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"nginx\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003enginx\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-nginx\"\u003e# /etc/nginx/sites-available/docker-registry\nserver {\n    listen 443 ssl http2;\n    server_name registry.example.com;\n\n    ssl_certificate /etc/ssl/certs/registry.crt;\n    ssl_certificate_key /etc/ssl/private/registry.key;\n\n    # Docker Registry API\n    location /v2/ {\n        proxy_pass http://localhost:5000;\n        proxy_set_header Host $http_host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        proxy_read_timeout 900;\n        \n        # Required for docker client\n        chunked_transfer_encoding on;\n        client_max_body_size 0;\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"apache-as-docker-registry-proxy\" class=\"mobile-header\"\u003eApache as Docker Registry Proxy\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"apache\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eapache\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-apache\"\u003e# /etc/apache2/sites-available/docker-registry.conf\n\u0026lt;VirtualHost *:443\u0026gt;\n    ServerName registry.example.com\n    \n    SSLEngine on\n    SSLCertificateFile /etc/ssl/certs/registry.crt\n    SSLCertificateKeyFile /etc/ssl/private/registry.key\n    \n    ProxyPreserveHost On\n    ProxyPass /v2 http://localhost:5000/v2\n    ProxyPassReverse /v2 http://localhost:5000/v2\n    \n    \u0026lt;Location /v2\u0026gt;\n        Order deny,allow\n        Allow from all\n        \n        # Authentication\n        AuthType Basic\n        AuthName \u0026quot;Docker Registry\u0026quot;\n        AuthUserFile /etc/apache2/.htpasswd\n        Require valid-user\n    \u0026lt;/Location\u0026gt;\n\u0026lt;/VirtualHost\u0026gt;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"caddy-as-docker-registry-proxy\" class=\"mobile-header\"\u003eCaddy as Docker Registry Proxy\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"caddyfile\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ecaddyfile\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-caddyfile\"\u003eregistry.example.com {\n    reverse_proxy localhost:5000 {\n        header_up Host {host}\n        header_up X-Real-IP {remote}\n        header_up X-Forwarded-For {remote}\n        header_up X-Forwarded-Proto {scheme}\n    }\n    \n    basicauth /v2/* {\n        admin $2a$14$xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\n    }\n    \n    encode gzip\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"traefik-configuration\" class=\"mobile-header\"\u003eTraefik Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"yaml\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eyaml\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e# docker-compose.yml for Traefik\nversion: \u0026#039;3.8\u0026#039;\n\nservices:\n  traefik:\n    image: traefik:v2.9\n    command:\n      - \u0026quot;--api.insecure=true\u0026quot;\n      - \u0026quot;--providers.docker=true\u0026quot;\n      - \u0026quot;--entrypoints.websecure.address=:443\u0026quot;\n    ports:\n      - \u0026quot;443:443\u0026quot;\n      - \u0026quot;8080:8080\u0026quot;\n    volumes:\n      - /var/run/docker.sock:/var/run/docker.sock:ro\n      - ./certs:/certs\n\n  registry:\n    image: registry:2\n    labels:\n      - \u0026quot;traefik.enable=true\u0026quot;\n      - \u0026quot;traefik.http.routers.registry.rule=Host(`registry.example.com`)\u0026quot;\n      - \u0026quot;traefik.http.routers.registry.entrypoints=websecure\u0026quot;\n      - \u0026quot;traefik.http.routers.registry.tls=true\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"security-configuration\" class=\"mobile-header\"\u003eSecurity Configuration\u003c/h2\u003e\n\u003ch3 id=\"docker-daemon-security\" class=\"mobile-header\"\u003eDocker Daemon Security\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable TLS for Docker daemon\n# Generate CA private key\nopenssl genrsa -aes256 -out ca-key.pem 4096\n\n# Generate CA certificate\nopenssl req -new -x509 -days 3650 -key ca-key.pem -sha256 -out ca.pem\n\n# Generate server key\nopenssl genrsa -out server-key.pem 4096\n\n# Generate certificate signing request\nopenssl req -subj \u0026quot;/CN=$HOST\u0026quot; -sha256 -new -key server-key.pem -out server.csr\n\n# Generate server certificate\necho subjectAltName = DNS:$HOST,IP:127.0.0.1 \u0026gt;\u0026gt; extfile.cnf\necho extendedKeyUsage = serverAuth \u0026gt;\u0026gt; extfile.cnf\nopenssl x509 -req -days 365 -sha256 -in server.csr -CA ca.pem -CAkey ca-key.pem -out server-cert.pem -extfile extfile.cnf\n\n# Configure Docker to use TLS\nsudo tee /etc/docker/daemon.json \u0026lt;\u0026lt;EOF\n{\n  \u0026quot;hosts\u0026quot;: [\u0026quot;tcp://0.0.0.0:2376\u0026quot;],\n  \u0026quot;tls\u0026quot;: true,\n  \u0026quot;tlsverify\u0026quot;: true,\n  \u0026quot;tlscert\u0026quot;: \u0026quot;/etc/docker/certs/server-cert.pem\u0026quot;,\n  \u0026quot;tlskey\u0026quot;: \u0026quot;/etc/docker/certs/server-key.pem\u0026quot;,\n  \u0026quot;tlscacert\u0026quot;: \u0026quot;/etc/docker/certs/ca.pem\u0026quot;\n}\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"apparmorselinux-configuration\" class=\"mobile-header\"\u003eAppArmor/SELinux Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# AppArmor (Debian/Ubuntu)\n# Check if AppArmor is enabled\nsudo aa-status\n\n# Docker containers use docker-default profile by default\n# Create custom profile\nsudo tee /etc/apparmor.d/docker-custom \u0026lt;\u0026lt;EOF\n#include \u0026lt;tunables/global\u0026gt;\n\nprofile docker-custom flags=(attach_disconnected,mediate_deleted) {\n  #include \u0026lt;abstractions/base\u0026gt;\n  \n  network,\n  capability,\n  \n  # Deny dangerous capabilities\n  deny capability dac_override,\n  deny capability setuid,\n  deny capability setgid,\n  \n  # File access\n  deny /proc/sys/** w,\n  deny /sys/** w,\n  \n  # Allow necessary access\n  /usr/bin/** ix,\n  /bin/** ix,\n  /lib/** r,\n}\nEOF\n\n# Load profile\nsudo apparmor_parser -r /etc/apparmor.d/docker-custom\n\n# SELinux (RHEL/CentOS)\n# Enable SELinux for containers\nsudo setsebool -P container_manage_cgroup true\n\n# Check Docker SELinux context\nps -eZ | grep dockerd\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"firewall-rules\" class=\"mobile-header\"\u003eFirewall Rules\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# UFW (Ubuntu/Debian)\n# Docker manages its own iptables rules\n# To integrate with UFW:\nsudo tee -a /etc/ufw/after.rules \u0026lt;\u0026lt;EOF\n*filter\n:ufw-user-forward - [0:0]\n:DOCKER-USER - [0:0]\n-A DOCKER-USER -j ufw-user-forward\n-A DOCKER-USER -j RETURN -s 10.0.0.0/8\n-A DOCKER-USER -j RETURN -s 172.16.0.0/12\n-A DOCKER-USER -j RETURN -s 192.168.0.0/16\n-A DOCKER-USER -j DROP\nCOMMIT\nEOF\n\nsudo ufw reload\n\n# firewalld (RHEL/CentOS/openSUSE)\n# Add Docker zone\nsudo firewall-cmd --permanent --new-zone=docker\nsudo firewall-cmd --permanent --zone=docker --add-interface=docker0\nsudo firewall-cmd --permanent --zone=docker --add-port=2377/tcp\nsudo firewall-cmd --permanent --zone=docker --add-port=7946/tcp\nsudo firewall-cmd --permanent --zone=docker --add-port=7946/udp\nsudo firewall-cmd --permanent --zone=docker --add-port=4789/udp\nsudo firewall-cmd --reload\n\n# iptables (manual)\n# Allow Docker subnet\nsudo iptables -A INPUT -s 172.17.0.0/16 -j ACCEPT\nsudo iptables-save \u0026gt; /etc/iptables/rules.v4\n\n# pf (FreeBSD)\n# Add to /etc/pf.conf\npass in on docker0 all\npass out on docker0 all\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"database-setup\" class=\"mobile-header\"\u003eDatabase Setup\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eDocker doesn't require a database, but here's how to run databases in Docker:\u003c/p\u003e\n\u003ch3 id=\"postgresql-in-docker\" class=\"mobile-header\"\u003ePostgreSQL in Docker\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create volume for persistent data\ndocker volume create postgres_data\n\n# Run PostgreSQL container\ndocker run -d \\\n  --name postgres \\\n  --restart unless-stopped \\\n  -e POSTGRES_PASSWORD=securepassword \\\n  -e POSTGRES_USER=myuser \\\n  -e POSTGRES_DB=mydb \\\n  -v postgres_data:/var/lib/postgresql/data \\\n  -p 5432:5432 \\\n  postgres:15-alpine\n\n# Connect to PostgreSQL\ndocker exec -it postgres psql -U myuser -d mydb\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"mysql-in-docker\" class=\"mobile-header\"\u003eMySQL in Docker\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create volume for persistent data\ndocker volume create mysql_data\n\n# Run MySQL container\ndocker run -d \\\n  --name mysql \\\n  --restart unless-stopped \\\n  -e MYSQL_ROOT_PASSWORD=rootpassword \\\n  -e MYSQL_DATABASE=mydb \\\n  -e MYSQL_USER=myuser \\\n  -e MYSQL_PASSWORD=securepassword \\\n  -v mysql_data:/var/lib/mysql \\\n  -p 3306:3306 \\\n  mysql:8.0\n\n# Connect to MySQL\ndocker exec -it mysql mysql -u myuser -p\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"performance-optimization\" class=\"mobile-header\"\u003ePerformance Optimization\u003c/h2\u003e\n\u003ch3 id=\"kernel-parameters\" class=\"mobile-header\"\u003eKernel Parameters\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Optimize kernel parameters for Docker\nsudo tee -a /etc/sysctl.conf \u0026lt;\u0026lt;EOF\n# Docker optimization\nvm.max_map_count=262144\nfs.file-max=2097152\nfs.inotify.max_user_watches=524288\nfs.inotify.max_user_instances=512\n\n# Network optimization\nnet.core.somaxconn=32768\nnet.ipv4.tcp_max_syn_backlog=8192\nnet.core.netdev_max_backlog=5000\nnet.ipv4.ip_local_port_range=1024 65535\n\n# Bridge settings\nnet.bridge.bridge-nf-call-iptables=1\nnet.bridge.bridge-nf-call-ip6tables=1\nnet.ipv4.ip_forward=1\nEOF\n\n# Apply settings\nsudo sysctl -p\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"storage-optimization\" class=\"mobile-header\"\u003eStorage Optimization\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Use dedicated disk for Docker\n# Format with XFS for better performance\nsudo mkfs.xfs /dev/sdb1\nsudo mkdir -p /var/lib/docker\nsudo mount /dev/sdb1 /var/lib/docker\n\n# Add to /etc/fstab\necho \u0026quot;/dev/sdb1 /var/lib/docker xfs defaults,noatime 0 2\u0026quot; | sudo tee -a /etc/fstab\n\n# Configure storage driver options\nsudo tee /etc/docker/daemon.json \u0026lt;\u0026lt;EOF\n{\n  \u0026quot;storage-driver\u0026quot;: \u0026quot;overlay2\u0026quot;,\n  \u0026quot;storage-opts\u0026quot;: [\n    \u0026quot;overlay2.override_kernel_check=true\u0026quot;\n  ],\n  \u0026quot;log-driver\u0026quot;: \u0026quot;json-file\u0026quot;,\n  \u0026quot;log-opts\u0026quot;: {\n    \u0026quot;max-size\u0026quot;: \u0026quot;10m\u0026quot;,\n    \u0026quot;max-file\u0026quot;: \u0026quot;3\u0026quot;\n  }\n}\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"build-optimization\" class=\"mobile-header\"\u003eBuild Optimization\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable BuildKit for faster builds\nexport DOCKER_BUILDKIT=1\n\n# Configure BuildKit in daemon\nsudo tee -a /etc/docker/daemon.json \u0026lt;\u0026lt;EOF\n{\n  \u0026quot;features\u0026quot;: {\n    \u0026quot;buildkit\u0026quot;: true\n  }\n}\nEOF\n\n# Use build cache mount\n# In Dockerfile:\n# syntax=docker/dockerfile:1\nFROM alpine\nRUN --mount=type=cache,target=/var/cache/apk \\\n    apk add --no-cache git\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"monitoring\" class=\"mobile-header\"\u003eMonitoring\u003c/h2\u003e\n\u003ch3 id=\"docker-stats-and-events\" class=\"mobile-header\"\u003eDocker Stats and Events\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Monitor container resource usage\ndocker stats\n\n# Stream Docker events\ndocker events\n\n# Monitor specific container\ndocker stats container_name\n\n# Export metrics in JSON\ndocker stats --no-stream --format json \u0026gt; stats.json\n\n# Monitor Docker daemon\nsudo journalctl -u docker.service -f\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"cadvisor-setup\" class=\"mobile-header\"\u003ecAdvisor Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Run cAdvisor for container metrics\ndocker run -d \\\n  --name=cadvisor \\\n  --restart unless-stopped \\\n  -p 8080:8080 \\\n  -v /:/rootfs:ro \\\n  -v /var/run:/var/run:ro \\\n  -v /sys:/sys:ro \\\n  -v /var/lib/docker/:/var/lib/docker:ro \\\n  -v /dev/disk/:/dev/disk:ro \\\n  --privileged \\\n  gcr.io/cadvisor/cadvisor:latest\n\n# Access metrics at http://localhost:8080\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"prometheus-integration\" class=\"mobile-header\"\u003ePrometheus Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"yaml\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eyaml\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e# docker-compose.yml for monitoring stack\nversion: \u0026#039;3.8\u0026#039;\n\nservices:\n  prometheus:\n    image: prom/prometheus\n    volumes:\n      - ./prometheus.yml:/etc/prometheus/prometheus.yml\n      - prometheus_data:/prometheus\n    ports:\n      - \u0026quot;9090:9090\u0026quot;\n    command:\n      - \u0026#039;--config.file=/etc/prometheus/prometheus.yml\u0026#039;\n      - \u0026#039;--storage.tsdb.path=/prometheus\u0026#039;\n\n  node-exporter:\n    image: prom/node-exporter\n    ports:\n      - \u0026quot;9100:9100\u0026quot;\n    volumes:\n      - /proc:/host/proc:ro\n      - /sys:/host/sys:ro\n      - /:/rootfs:ro\n\nvolumes:\n  prometheus_data:\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"backup-and-restore\" class=\"mobile-header\"\u003eBackup and Restore\u003c/h2\u003e\n\u003ch3 id=\"container-backup\" class=\"mobile-header\"\u003eContainer Backup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# backup-docker.sh\n\nBACKUP_DIR=\u0026quot;/backup/docker\u0026quot;\nDATE=$(date +%Y%m%d_%H%M%S)\n\n# Create backup directory\nmkdir -p $BACKUP_DIR/{images,volumes,configs}\n\n# Backup running containers\ndocker ps -q | while read container; do\n    name=$(docker inspect -f \u0026#039;{{.Name}}\u0026#039; $container | sed \u0026#039;s/\\///\u0026#039;)\n    docker commit $container backup_$name:$DATE\n    docker save backup_$name:$DATE | gzip \u0026gt; $BACKUP_DIR/images/${name}_${DATE}.tar.gz\n    docker inspect $container \u0026gt; $BACKUP_DIR/configs/${name}_${DATE}.json\ndone\n\n# Backup volumes\ndocker volume ls -q | while read volume; do\n    docker run --rm \\\n        -v $volume:/data \\\n        -v $BACKUP_DIR/volumes:/backup \\\n        alpine tar czf /backup/${volume}_${DATE}.tar.gz -C /data .\ndone\n\n# Backup Docker daemon config\ncp /etc/docker/daemon.json $BACKUP_DIR/configs/daemon_${DATE}.json\n\necho \u0026quot;Backup completed: $DATE\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"volume-backup\" class=\"mobile-header\"\u003eVolume Backup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Backup named volume\ndocker run --rm \\\n    -v myvolume:/source:ro \\\n    -v $(pwd):/backup \\\n    alpine tar czf /backup/myvolume.tar.gz -C /source .\n\n# Restore volume\ndocker run --rm \\\n    -v myvolume:/target \\\n    -v $(pwd):/backup \\\n    alpine tar xzf /backup/myvolume.tar.gz -C /target\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"registry-backup\" class=\"mobile-header\"\u003eRegistry Backup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Backup Docker registry data\ndocker exec registry tar czf - /var/lib/registry | gzip \u0026gt; registry_backup_$(date +%Y%m%d).tar.gz\n\n# Backup registry config\ndocker exec registry cat /etc/docker/registry/config.yml \u0026gt; registry_config_backup.yml\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"troubleshooting\" class=\"mobile-header\"\u003eTroubleshooting\u003c/h2\u003e\n\u003ch3 id=\"common-issues\" class=\"mobile-header\"\u003eCommon Issues\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e1. \u003cstrong\u003eCannot connect to Docker daemon\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check if Docker is running\nsudo systemctl status docker\n\n# Check Docker socket permissions\nls -la /var/run/docker.sock\n\n# Check if user is in docker group\ngroups $USER\n\n# Start Docker if not running\nsudo systemctl start docker\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e2. \u003cstrong\u003eContainer networking issues\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check Docker networks\ndocker network ls\n\n# Inspect bridge network\ndocker network inspect bridge\n\n# Check iptables rules\nsudo iptables -L -n -v\n\n# Reset Docker networking\nsudo systemctl stop docker\nsudo ip link delete docker0\nsudo systemctl start docker\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e3. \u003cstrong\u003eStorage space issues\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check disk usage\ndocker system df\n\n# Clean up unused resources\ndocker system prune -a --volumes\n\n# Check Docker root directory\ndf -h /var/lib/docker\n\n# Find large containers/images\ndocker ps -s\ndocker images --format \u0026quot;table {{.Repository}}\\t{{.Tag}}\\t{{.Size}}\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e4. \u003cstrong\u003ePermission denied errors\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Fix socket permissions\nsudo chmod 666 /var/run/docker.sock\n\n# Fix user namespace issues\nsudo usermod -aG docker $USER\nnewgrp docker\n\n# Check SELinux/AppArmor\ngetenforce  # SELinux\nsudo aa-status  # AppArmor\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"debug-mode\" class=\"mobile-header\"\u003eDebug Mode\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Run Docker in debug mode\nsudo dockerd --debug\n\n# Enable debug logging\nsudo tee /etc/docker/daemon.json \u0026lt;\u0026lt;EOF\n{\n  \u0026quot;debug\u0026quot;: true,\n  \u0026quot;log-level\u0026quot;: \u0026quot;debug\u0026quot;\n}\nEOF\n\nsudo systemctl restart docker\n\n# Check debug logs\nsudo journalctl -u docker.service --no-pager\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"maintenance\" class=\"mobile-header\"\u003eMaintenance\u003c/h2\u003e\n\u003ch3 id=\"update-procedures\" class=\"mobile-header\"\u003eUpdate Procedures\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# RHEL/CentOS/Rocky/AlmaLinux\nsudo yum update docker-ce docker-ce-cli containerd.io\n\n# Debian/Ubuntu\nsudo apt-get update\nsudo apt-get upgrade docker-ce docker-ce-cli containerd.io\n\n# Arch Linux\nsudo pacman -Syu docker\n\n# Alpine Linux\napk update\napk upgrade docker\n\n# openSUSE\nsudo zypper update docker\n\n# FreeBSD\npkg update\npkg upgrade docker\n\n# Always restart after updates\nsudo systemctl restart docker\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"cleanup-tasks\" class=\"mobile-header\"\u003eCleanup Tasks\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# docker-cleanup.sh\n\necho \u0026quot;Starting Docker cleanup...\u0026quot;\n\n# Remove stopped containers\ndocker container prune -f\n\n# Remove unused images\ndocker image prune -a -f\n\n# Remove unused volumes\ndocker volume prune -f\n\n# Remove unused networks\ndocker network prune -f\n\n# Remove build cache\ndocker builder prune -f\n\n# Show disk usage after cleanup\ndocker system df\n\necho \u0026quot;Cleanup completed\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"log-rotation\" class=\"mobile-header\"\u003eLog Rotation\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure log rotation for containers\nsudo tee /etc/docker/daemon.json \u0026lt;\u0026lt;EOF\n{\n  \u0026quot;log-driver\u0026quot;: \u0026quot;json-file\u0026quot;,\n  \u0026quot;log-opts\u0026quot;: {\n    \u0026quot;max-size\u0026quot;: \u0026quot;10m\u0026quot;,\n    \u0026quot;max-file\u0026quot;: \u0026quot;3\u0026quot;,\n    \u0026quot;compress\u0026quot;: \u0026quot;true\u0026quot;\n  }\n}\nEOF\n\n# System-wide Docker logs rotation\nsudo tee /etc/logrotate.d/docker \u0026lt;\u0026lt;EOF\n/var/lib/docker/containers/*/*.log {\n    rotate 7\n    daily\n    compress\n    missingok\n    delaycompress\n    copytruncate\n}\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"integration-examples\" class=\"mobile-header\"\u003eIntegration Examples\u003c/h2\u003e\n\u003ch3 id=\"cicd-pipeline-integration\" class=\"mobile-header\"\u003eCI/CD Pipeline Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"yaml\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eyaml\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e# GitLab CI example\nstages:\n  - build\n  - test\n  - deploy\n\nvariables:\n  DOCKER_DRIVER: overlay2\n  DOCKER_TLS_CERTDIR: \u0026quot;/certs\u0026quot;\n\nbuild:\n  stage: build\n  image: docker:latest\n  services:\n    - docker:dind\n  script:\n    - docker build -t myapp:$CI_COMMIT_SHA .\n    - docker push myapp:$CI_COMMIT_SHA\n\n# Jenkins Pipeline example\npipeline {\n    agent any\n    stages {\n        stage(\u0026#039;Build\u0026#039;) {\n            steps {\n                script {\n                    docker.build(\u0026quot;myapp:${env.BUILD_ID}\u0026quot;)\n                }\n            }\n        }\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"kubernetes-integration\" class=\"mobile-header\"\u003eKubernetes Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install CRI-Docker for Kubernetes\nCRI_VERSION=\u0026quot;0.3.1\u0026quot;\nwget https://github.com/Mirantis/cri-dockerd/releases/download/v${CRI_VERSION}/cri-dockerd-${CRI_VERSION}.amd64.tgz\ntar xzf cri-dockerd-${CRI_VERSION}.amd64.tgz\nsudo install -o root -g root -m 0755 cri-dockerd /usr/local/bin/cri-dockerd\nrm cri-dockerd-${CRI_VERSION}.amd64.tgz cri-dockerd\n\n# Create systemd service\nsudo tee /etc/systemd/system/cri-docker.service \u0026lt;\u0026lt;EOF\n[Unit]\nDescription=CRI Docker Interface\nAfter=network.target docker.service\nRequires=docker.service\n\n[Service]\nType=notify\nExecStart=/usr/local/bin/cri-dockerd --container-runtime-endpoint unix:///var/run/cri-dockerd.sock\nRestart=always\nRestartSec=5s\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsudo systemctl enable --now cri-docker\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"docker-compose-examples\" class=\"mobile-header\"\u003eDocker Compose Examples\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"yaml\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eyaml\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e# Multi-tier application stack\nversion: \u0026#039;3.8\u0026#039;\n\nservices:\n  web:\n    build: ./web\n    ports:\n      - \u0026quot;80:80\u0026quot;\n    environment:\n      - DATABASE_URL=postgresql://user:pass@db:5432/mydb\n    depends_on:\n      - db\n    networks:\n      - frontend\n      - backend\n\n  db:\n    image: postgres:15\n    environment:\n      - POSTGRES_USER=user\n      - POSTGRES_PASSWORD=pass\n      - POSTGRES_DB=mydb\n    volumes:\n      - db_data:/var/lib/postgresql/data\n    networks:\n      - backend\n\n  redis:\n    image: redis:alpine\n    networks:\n      - backend\n\nnetworks:\n  frontend:\n  backend:\n\nvolumes:\n  db_data:\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"sdk-integration\" class=\"mobile-header\"\u003eSDK Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"python\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epython\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-python\"\u003e# Python Docker SDK\nimport docker\n\nclient = docker.from_env()\n\n# Run container\ncontainer = client.containers.run(\n    \u0026quot;alpine\u0026quot;,\n    \u0026quot;echo hello world\u0026quot;,\n    detach=True\n)\n\n# List containers\nfor container in client.containers.list():\n    print(container.name)\n\n# Build image\nimage, logs = client.images.build(\n    path=\u0026quot;.\u0026quot;,\n    tag=\u0026quot;myapp:latest\u0026quot;\n)\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"javascript\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ejavascript\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e// Node.js Docker SDK\nconst Docker = require(\u0026#039;dockerode\u0026#039;);\nconst docker = new Docker();\n\n// Run container\ndocker.createContainer({\n  Image: \u0026#039;alpine\u0026#039;,\n  Cmd: [\u0026#039;echo\u0026#039;, \u0026#039;hello world\u0026#039;],\n  name: \u0026#039;mycontainer\u0026#039;\n}, (err, container) =\u0026gt; {\n  if (!err) {\n    container.start();\n  }\n});\n\n// List containers\ndocker.listContainers((err, containers) =\u0026gt; {\n  containers.forEach(containerInfo =\u0026gt; {\n    console.log(containerInfo.Names);\n  });\n});\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"additional-resources\" class=\"mobile-header\"\u003eAdditional Resources\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.docker.com/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eOfficial Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://hub.docker.com/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eDocker Hub\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://github.com/docker\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eDocker GitHub Repository\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.docker.com/develop/dev-best-practices/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eDocker Best Practices\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.docker.com/engine/security/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eDocker Security Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.docker.com/compose/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eDocker Compose Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://forums.docker.com/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eDocker Community Forums\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://labs.play-with-docker.com/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003ePlay with Docker\u003c/a\u003e\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e---\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This guide is part of the \u003ca href=\"https://howtomgr.github.io\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eHowToMgr\u003c/a\u003e collection. Always refer to official documentation for the most up-to-date information.\u003c/p\u003e","readTime":"17 min","wordCount":3265,"lastBuilt":"2025-09-14T18:12:06.624Z"},{"name":"k3s","displayName":"K3s","slug":"k3s","description":"Repo for k3s","category":"container","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/k3s","updatedAt":"2025-09-08T03:09:53Z","createdAt":"2025-09-08T03:09:43Z","readmeRaw":"## 👋 Welcome to k3s 🚀  \n\nk3s README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-k3s\" class=\"mobile-header\"\u003e👋 Welcome to k3s 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003ek3s README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T18:12:18.293Z"},{"name":"kubernetes","displayName":"Kubernetes","slug":"kubernetes","description":"Repo for kubernetes","category":"container","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/kubernetes","updatedAt":"2025-09-14T03:45:25Z","createdAt":"2025-09-08T03:10:10Z","readmeRaw":"# Kubernetes Installation Guide\n\nKubernetes is a free and open-source container orchestration platform for automating deployment, scaling, and management of containerized applications. Originally developed by Google and now maintained by the Cloud Native Computing Foundation (CNCF), Kubernetes serves as the industry standard for container orchestration. It provides enterprise-grade security, scalability, and reliability for cloud-native applications, offering a robust alternative to proprietary solutions like AWS ECS, Azure Container Instances, or Google Cloud Run without vendor lock-in.\n\n## Prerequisites\n\n- **Hardware Requirements**:\n  - CPU: 2+ cores for control plane, 1+ core for worker nodes\n  - RAM: 2GB+ per control plane node, 1GB+ per worker node\n  - Storage: 20GB+ available disk space per node (SSD recommended)\n  - Network: Stable connectivity between all nodes (1Gbps+ recommended)\n- **Operating System**: \n  - Linux: Any modern distribution with kernel 3.10+ (4.x+ recommended)\n  - Container runtime support (containerd, Docker, CRI-O)\n  - macOS: Docker Desktop with Kubernetes enabled (development only)\n  - Windows: Docker Desktop with Kubernetes enabled (development only)\n- **Network Requirements**:\n  - Unique hostname, MAC address, and product_uuid for every node\n  - Port 6443 (Kubernetes API server)\n  - Port 2379-2380 (etcd server client API)\n  - Port 10250 (kubelet API)\n  - Port 10259 (kube-scheduler)\n  - Port 10257 (kube-controller-manager)\n  - Port 30000-32767 (NodePort Services)\n- **Dependencies**:\n  - Container runtime (containerd recommended)\n  - systemd or compatible init system\n  - iptables (for network rules)\n  - ebtables and ethtool (for networking)\n- **System Access**: root or sudo privileges required\n- **Special Requirements**:\n  - Swap must be disabled on all nodes\n  - SELinux in permissive mode (for RHEL/CentOS)\n  - Firewall configured to allow cluster communication\n\n## System Preparation (All Distributions)\n\n### Disable Swap (Required)\n```bash\n# Disable swap immediately\nsudo swapoff -a\n\n# Disable swap permanently\nsudo sed -i '/ swap / s/^\\(.*\\)$/#\\1/g' /etc/fstab\n\n# Verify swap is disabled\nfree -h\nswapon --show\n```\n\n### Configure Kernel Modules\n```bash\n# Load required kernel modules\ncat \u003c\u003cEOF | sudo tee /etc/modules-load.d/k8s.conf\noverlay\nbr_netfilter\nEOF\n\nsudo modprobe overlay\nsudo modprobe br_netfilter\n\n# Configure sysctl parameters\ncat \u003c\u003cEOF | sudo tee /etc/sysctl.d/k8s.conf\nnet.bridge.bridge-nf-call-iptables  = 1\nnet.bridge.bridge-nf-call-ip6tables = 1\nnet.ipv4.ip_forward                 = 1\nEOF\n\nsudo sysctl --system\n```\n\n## Container Runtime Installation\n\n### containerd (Recommended)\n\n#### Ubuntu/Debian\n```bash\n# Update package list\nsudo apt-get update\n\n# Install dependencies\nsudo apt-get install -y ca-certificates curl gnupg lsb-release\n\n# Add Docker repository for containerd\nsudo mkdir -m 0755 -p /etc/apt/keyrings\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg\n\necho \"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\" | sudo tee /etc/apt/sources.list.d/docker.list \u003e /dev/null\n\n# Install containerd\nsudo apt-get update\nsudo apt-get install -y containerd.io\n\n# Configure containerd\nsudo mkdir -p /etc/containerd\ncontainerd config default | sudo tee /etc/containerd/config.toml\n\n# Enable SystemdCgroup driver\nsudo sed -i 's/SystemdCgroup = false/SystemdCgroup = true/' /etc/containerd/config.toml\n\n# Restart and enable containerd\nsudo systemctl restart containerd\nsudo systemctl enable containerd\n```\n\n#### RHEL/CentOS/Rocky Linux/AlmaLinux\n```bash\n# Install prerequisites\nsudo yum install -y yum-utils device-mapper-persistent-data lvm2\n\n# Add Docker repository\nsudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n\n# Install containerd\nsudo yum install -y containerd.io\n\n# Configure containerd\nsudo mkdir -p /etc/containerd\ncontainerd config default | sudo tee /etc/containerd/config.toml\n\n# Enable SystemdCgroup driver\nsudo sed -i 's/SystemdCgroup = false/SystemdCgroup = true/' /etc/containerd/config.toml\n\n# Restart and enable containerd\nsudo systemctl restart containerd\nsudo systemctl enable containerd\n```\n\n#### Fedora\n```bash\n# Install containerd\nsudo dnf install -y containerd\n\n# Configure containerd\nsudo mkdir -p /etc/containerd\ncontainerd config default | sudo tee /etc/containerd/config.toml\nsudo sed -i 's/SystemdCgroup = false/SystemdCgroup = true/' /etc/containerd/config.toml\n\n# Restart and enable containerd\nsudo systemctl restart containerd\nsudo systemctl enable containerd\n```\n\n#### Arch Linux\n```bash\n# Install containerd\nsudo pacman -Syu containerd\n\n# Configure containerd\nsudo mkdir -p /etc/containerd\ncontainerd config default | sudo tee /etc/containerd/config.toml\nsudo sed -i 's/SystemdCgroup = false/SystemdCgroup = true/' /etc/containerd/config.toml\n\n# Enable and start containerd\nsudo systemctl enable --now containerd\n```\n\n## Kubernetes Installation\n\n### kubeadm, kubelet, kubectl Installation\n\n#### Ubuntu/Debian\n```bash\n# Update package index and install packages needed for apt to use HTTPS\nsudo apt-get update\nsudo apt-get install -y apt-transport-https ca-certificates curl gpg\n\n# Download and add the Kubernetes signing key\ncurl -fsSL https://pkgs.k8s.io/core:/stable:/v1.29/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg\n\n# Add Kubernetes repository\necho 'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.29/deb/ /' | sudo tee /etc/apt/sources.list.d/kubernetes.list\n\n# Update package index and install Kubernetes components\nsudo apt-get update\nsudo apt-get install -y kubelet kubeadm kubectl\n\n# Hold packages to prevent automatic updates\nsudo apt-mark hold kubelet kubeadm kubectl\n\n# Enable kubelet\nsudo systemctl enable --now kubelet\n```\n\n#### RHEL/CentOS/Rocky Linux/AlmaLinux/Fedora\n```bash\n# Create Kubernetes repository\ncat \u003c\u003cEOF | sudo tee /etc/yum.repos.d/kubernetes.repo\n[kubernetes]\nname=Kubernetes\nbaseurl=https://pkgs.k8s.io/core:/stable:/v1.29/rpm/\nenabled=1\ngpgcheck=1\ngpgkey=https://pkgs.k8s.io/core:/stable:/v1.29/rpm/repodata/repomd.xml.key\nexclude=kubelet kubeadm kubectl cri-tools kubernetes-cni\nEOF\n\n# Set SELinux to permissive mode (required for cluster communication)\nsudo setenforce 0\nsudo sed -i 's/^SELINUX=enforcing$/SELINUX=permissive/' /etc/selinux/config\n\n# Install Kubernetes components\nsudo yum install -y kubelet kubeadm kubectl --disableexcludes=kubernetes\n\n# Enable kubelet\nsudo systemctl enable --now kubelet\n```\n\n#### Arch Linux\n```bash\n# Install from AUR (using yay)\nyay -S kubeadm-bin kubelet-bin kubectl-bin\n\n# Or build from source\ngit clone https://aur.archlinux.org/kubectl-bin.git\ncd kubectl-bin \u0026\u0026 makepkg -si\n\n# Enable kubelet\nsudo systemctl enable --now kubelet\n```\n\n#### openSUSE/SLES\n```bash\n# openSUSE Leap/Tumbleweed\nsudo zypper refresh\n\n# Add Kubernetes repository\nsudo rpm --import https://pkgs.k8s.io/core:/stable:/v1.29/rpm/repodata/repomd.xml.key\necho 'baseurl=https://pkgs.k8s.io/core:/stable:/v1.29/rpm/' | sudo tee /etc/zypp/repos.d/kubernetes.repo\n\n# Install Kubernetes components\nsudo zypper install -y kubelet kubeadm kubectl\n\n# SLES 15 (requires additional modules)\nsudo SUSEConnect -p sle-module-containers/15.5/x86_64\nsudo zypper install -y kubelet kubeadm kubectl\n\n# Enable kubelet\nsudo systemctl enable --now kubelet\n```\n\n#### Alpine Linux\n```bash\n# Install containerd first\napk add --no-cache containerd\n\n# Add community repository for Kubernetes\necho \"http://dl-cdn.alpinelinux.org/alpine/edge/community\" \u003e\u003e /etc/apk/repositories\napk update\n\n# Install Kubernetes components (if available)\napk add --no-cache kubectl\n\n# Or install from binary\nKUBE_VERSION=\"v1.29.0\"\ncurl -LO \"https://dl.k8s.io/release/${KUBE_VERSION}/bin/linux/amd64/kubectl\"\ncurl -LO \"https://dl.k8s.io/release/${KUBE_VERSION}/bin/linux/amd64/kubeadm\"\ncurl -LO \"https://dl.k8s.io/release/${KUBE_VERSION}/bin/linux/amd64/kubelet\"\n\nchmod +x kubectl kubeadm kubelet\nsudo mv kubectl kubeadm kubelet /usr/local/bin/\n\n# Configure OpenRC service\nsudo tee /etc/init.d/kubelet \u003e /dev/null \u003c\u003c'EOF'\n#!/sbin/openrc-run\nname=\"kubelet\"\ncommand=\"/usr/local/bin/kubelet\"\ncommand_args=\"--config=/var/lib/kubelet/config.yaml --kubeconfig=/etc/kubernetes/kubelet.conf\"\npidfile=\"/var/run/kubelet.pid\"\ncommand_background=\"yes\"\ndepend() {\n    need net\n    after containerd\n}\nEOF\n\nsudo chmod +x /etc/init.d/kubelet\nsudo rc-update add kubelet default\n```\n\n#### macOS (Development Only)\n```bash\n# Install Docker Desktop\n# Download from: https://www.docker.com/products/docker-desktop\n\n# Enable Kubernetes in Docker Desktop\n# Docker Desktop → Preferences → Kubernetes → Enable Kubernetes\n\n# Install kubectl via Homebrew\nbrew install kubectl\n\n# Alternative: Install kubectl directly\ncurl -LO \"https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/darwin/amd64/kubectl\"\nchmod +x kubectl\nsudo mv kubectl /usr/local/bin/\n\n# Verify installation\nkubectl version --client\nkubectl cluster-info\n\n# Configure kubectl context\nkubectl config use-context docker-desktop\n```\n\n#### FreeBSD\n```bash\n# Install from ports\ncd /usr/ports/sysutils/kubectl \u0026\u0026 make install clean\n\n# Or install from packages\npkg install kubectl\n\n# Note: Full Kubernetes cluster on FreeBSD requires manual compilation\n# For development, use kubectl to connect to remote clusters\n\n# Install container runtime (if needed)\npkg install containerd\n\n# Configure kubectl for remote cluster access\nmkdir -p ~/.kube\n# Copy kubeconfig from Linux cluster to ~/.kube/config\n```\n\n#### Windows (Development Only)\n```powershell\n# Method 1: Install Docker Desktop\n# Download from: https://www.docker.com/products/docker-desktop\n# Enable Kubernetes in Docker Desktop settings\n\n# Method 2: Install using Chocolatey\nchoco install kubernetes-cli\n\n# Method 3: Install using Scoop\nscoop install kubectl\n\n# Method 4: Manual installation\n# Download from https://dl.k8s.io/release/v1.29.0/bin/windows/amd64/kubectl.exe\n# Add to PATH environment variable\n\n# Enable Kubernetes in Docker Desktop\n# Docker Desktop → Settings → Kubernetes → Enable Kubernetes\n\n# Verify installation\nkubectl version --client\nkubectl cluster-info\n\n# Configure PowerShell completion (optional)\nkubectl completion powershell | Out-String | Invoke-Expression\n```\n\n## Initial Configuration\n\n### First-Run Setup\n\n1. **Verify system requirements**:\n```bash\n# Check if swap is disabled\nfree -h\nswapon --show\n\n# Verify required ports are available\nsudo ss -tlnp | grep -E ':(6443|2379|2380|10250|10259|10257)'\n\n# Check container runtime\nsudo systemctl status containerd\n```\n\n2. **Configure container runtime**:\n```bash\n# Default containerd configuration directory\nsudo mkdir -p /etc/containerd\n\n# Generate default configuration\ncontainerd config default | sudo tee /etc/containerd/config.toml\n\n# Enable SystemdCgroup for better resource management\nsudo sed -i 's/SystemdCgroup = false/SystemdCgroup = true/' /etc/containerd/config.toml\n\n# Restart containerd with new configuration\nsudo systemctl restart containerd\n```\n\n3. **Initialize cluster networking**:\n```bash\n# Load required kernel modules\nsudo modprobe overlay\nsudo modprobe br_netfilter\n\n# Configure sysctl for networking\necho 'net.bridge.bridge-nf-call-iptables=1' | sudo tee -a /etc/sysctl.conf\necho 'net.ipv4.ip_forward=1' | sudo tee -a /etc/sysctl.conf\nsudo sysctl -p\n```\n\n4. **Set up kubelet configuration**:\n```bash\n# Create kubelet configuration directory\nsudo mkdir -p /var/lib/kubelet\n\n# Set kubelet to automatically restart\nsudo systemctl enable kubelet\n```\n\n### Testing Initial Setup\n\n```bash\n# Verify container runtime is working\nsudo crictl version\nsudo crictl info\n\n# Check if kubelet is ready\nsudo systemctl status kubelet\n\n# Verify kernel modules are loaded\nlsmod | grep -E 'overlay|br_netfilter'\n\n# Test container runtime with a simple container\nsudo crictl pull k8s.gcr.io/pause:3.9\nsudo crictl images\n```\n\n**WARNING:** Ensure all prerequisite steps are completed before proceeding to cluster initialization!\n\n## Service Management\n\n### systemd (RHEL, Debian, Ubuntu, Arch, openSUSE)\n\n```bash\n# Enable Kubernetes services to start on boot\nsudo systemctl enable kubelet\nsudo systemctl enable containerd\n\n# Start services\nsudo systemctl start containerd\nsudo systemctl start kubelet\n\n# Stop services\nsudo systemctl stop kubelet\nsudo systemctl stop containerd\n\n# Restart services\nsudo systemctl restart containerd\nsudo systemctl restart kubelet\n\n# Check service status\nsudo systemctl status kubelet\nsudo systemctl status containerd\n\n# View service logs\nsudo journalctl -u kubelet -f\nsudo journalctl -u containerd -f\n\n# Reload systemd daemon after config changes\nsudo systemctl daemon-reload\n```\n\n### OpenRC (Alpine Linux)\n\n```bash\n# Enable services to start on boot\nsudo rc-update add containerd default\nsudo rc-update add kubelet default\n\n# Start services\nsudo rc-service containerd start\nsudo rc-service kubelet start\n\n# Stop services\nsudo rc-service kubelet stop\nsudo rc-service containerd stop\n\n# Restart services\nsudo rc-service containerd restart\nsudo rc-service kubelet restart\n\n# Check service status\nsudo rc-service kubelet status\nsudo rc-service containerd status\n\n# View logs\nsudo tail -f /var/log/kubelet.log\n```\n\n### launchd (macOS with Docker Desktop)\n\n```bash\n# Docker Desktop manages Kubernetes services automatically\n# Use Docker Desktop interface to start/stop Kubernetes\n\n# Check Kubernetes status\nkubectl cluster-info\n\n# Restart Kubernetes through Docker Desktop\n# Docker Desktop → Preferences → Kubernetes → Reset Kubernetes Cluster\n\n# View logs through Docker Desktop\n# Docker Desktop → Troubleshoot → Clean / Purge data\n```\n\n### Windows Service Manager\n\n```powershell\n# Docker Desktop manages Kubernetes services on Windows\n# Use Docker Desktop interface for management\n\n# Check Kubernetes status\nkubectl cluster-info\n\n# Restart Docker Desktop service\nRestart-Service com.docker.service\n\n# View Docker Desktop logs\nGet-EventLog -LogName Application -Source \"Docker Desktop\"\n```\n\n## Cluster Initialization\n\n### Control Plane Setup (Master Node)\n```bash\n# Initialize cluster with security best practices\nsudo kubeadm init \\\n  --pod-network-cidr=10.244.0.0/16 \\\n  --service-cidr=10.96.0.0/12 \\\n  --apiserver-advertise-address=$(hostname -I | awk '{print $1}') \\\n  --node-name=$(hostname) \\\n  --ignore-preflight-errors=NumCPU\n\n# Configure kubectl for regular user\nmkdir -p $HOME/.kube\nsudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config\nsudo chown $(id -u):$(id -g) $HOME/.kube/config\n\n# Alternative: Root user configuration\nexport KUBECONFIG=/etc/kubernetes/admin.conf\necho 'export KUBECONFIG=/etc/kubernetes/admin.conf' \u003e\u003e ~/.bashrc\n\n# Verify control plane is running\nkubectl cluster-info\nkubectl get nodes\nkubectl get pods --all-namespaces\n```\n\n### Network Plugin Installation\n\n#### Flannel (Simple, recommended for beginners)\n```bash\n# Install Flannel CNI\nkubectl apply -f https://github.com/flannel-io/flannel/releases/latest/download/kube-flannel.yml\n\n# Verify Flannel pods are running\nkubectl get pods -n kube-flannel\n```\n\n#### Calico (Advanced networking and network policies)\n```bash\n# Install Calico CNI\nkubectl create -f https://raw.githubusercontent.com/projectcalico/calico/v3.26.1/manifests/tigera-operator.yaml\n\n# Download and apply Calico custom resources\ncurl https://raw.githubusercontent.com/projectcalico/calico/v3.26.1/manifests/custom-resources.yaml -O\nkubectl create -f custom-resources.yaml\n\n# Verify Calico is running\nkubectl get pods -n calico-system\n```\n\n#### Cilium (eBPF-based networking)\n```bash\n# Install Cilium CLI\nCILIUM_CLI_VERSION=$(curl -s https://raw.githubusercontent.com/cilium/cilium-cli/main/stable.txt)\nCLI_ARCH=amd64\nif [ \"$(uname -m)\" = \"aarch64\" ]; then CLI_ARCH=arm64; fi\ncurl -L --fail --remote-name-all https://github.com/cilium/cilium-cli/releases/download/${CILIUM_CLI_VERSION}/cilium-linux-${CLI_ARCH}.tar.gz{,.sha256sum}\nsha256sum --check cilium-linux-${CLI_ARCH}.tar.gz.sha256sum\nsudo tar xzvfC cilium-linux-${CLI_ARCH}.tar.gz /usr/local/bin\nrm cilium-linux-${CLI_ARCH}.tar.gz{,.sha256sum}\n\n# Install Cilium\ncilium install\n\n# Verify installation\ncilium status --wait\n```\n\n### Worker Node Setup\n```bash\n# On worker nodes, use the join command from control plane initialization\n# Example (replace with your actual token and hash):\nsudo kubeadm join 192.168.1.100:6443 \\\n  --token abcdef.0123456789abcdef \\\n  --discovery-token-ca-cert-hash sha256:1234567890abcdef...\n\n# If you need to get the join command again:\n# On control plane:\nkubeadm token create --print-join-command\n\n# Verify nodes joined successfully\nkubectl get nodes -o wide\n```\n\n## Security Hardening (2024 Best Practices)\n\n### RBAC Configuration\n```bash\n# Create service account with limited permissions\nkubectl create serviceaccount developer-sa -n default\n\n# Create role with specific permissions\ncat \u003c\u003cEOF | kubectl apply -f -\napiVersion: rbac.authorization.k8s.io/v1\nkind: Role\nmetadata:\n  namespace: default\n  name: developer-role\nrules:\n- apiGroups: [\"\"]\n  resources: [\"pods\", \"services\", \"configmaps\"]\n  verbs: [\"get\", \"list\", \"watch\", \"create\", \"update\", \"patch\", \"delete\"]\n- apiGroups: [\"apps\"]\n  resources: [\"deployments\", \"replicasets\"]\n  verbs: [\"get\", \"list\", \"watch\", \"create\", \"update\", \"patch\", \"delete\"]\n- apiGroups: [\"\"]\n  resources: [\"pods/log\"]\n  verbs: [\"get\", \"list\"]\nEOF\n\n# Create role binding\ncat \u003c\u003cEOF | kubectl apply -f -\napiVersion: rbac.authorization.k8s.io/v1\nkind: RoleBinding\nmetadata:\n  name: developer-binding\n  namespace: default\nsubjects:\n- kind: ServiceAccount\n  name: developer-sa\n  namespace: default\nroleRef:\n  kind: Role\n  name: developer-role\n  apiGroup: rbac.authorization.k8s.io\nEOF\n\n# Test RBAC configuration\nkubectl auth can-i create deployments --as=system:serviceaccount:default:developer-sa\n```\n\n### Pod Security Standards\n```bash\n# Enable Pod Security Standards (baseline level)\ncat \u003c\u003cEOF | kubectl apply -f -\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: secure-namespace\n  labels:\n    pod-security.kubernetes.io/enforce: baseline\n    pod-security.kubernetes.io/audit: baseline\n    pod-security.kubernetes.io/warn: baseline\nEOF\n\n# For restricted security (recommended for production)\ncat \u003c\u003cEOF | kubectl apply -f -\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: restricted-namespace\n  labels:\n    pod-security.kubernetes.io/enforce: restricted\n    pod-security.kubernetes.io/audit: restricted\n    pod-security.kubernetes.io/warn: restricted\nEOF\n\n# Example secure pod configuration\ncat \u003c\u003cEOF | kubectl apply -f -\napiVersion: v1\nkind: Pod\nmetadata:\n  name: secure-pod\n  namespace: restricted-namespace\nspec:\n  securityContext:\n    runAsNonRoot: true\n    runAsUser: 1000\n    runAsGroup: 3000\n    fsGroup: 2000\n    seccompProfile:\n      type: RuntimeDefault\n  containers:\n  - name: app\n    image: nginx:latest\n    securityContext:\n      allowPrivilegeEscalation: false\n      readOnlyRootFilesystem: true\n      capabilities:\n        drop:\n        - ALL\n    ports:\n    - containerPort: 80\n    volumeMounts:\n    - name: tmp-volume\n      mountPath: /tmp\n    - name: cache-volume\n      mountPath: /var/cache/nginx\n  volumes:\n  - name: tmp-volume\n    emptyDir: {}\n  - name: cache-volume\n    emptyDir: {}\nEOF\n```\n\n### Network Policies\n```bash\n# Default deny all network policy\ncat \u003c\u003cEOF | kubectl apply -f -\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: default-deny-all\n  namespace: default\nspec:\n  podSelector: {}\n  policyTypes:\n  - Ingress\n  - Egress\nEOF\n\n# Allow specific communication\ncat \u003c\u003cEOF | kubectl apply -f -\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-nginx-ingress\n  namespace: default\nspec:\n  podSelector:\n    matchLabels:\n      app: nginx\n  policyTypes:\n  - Ingress\n  ingress:\n  - from:\n    - namespaceSelector:\n        matchLabels:\n          name: ingress-nginx\n    ports:\n    - protocol: TCP\n      port: 80\nEOF\n\n# Allow egress for DNS\ncat \u003c\u003cEOF | kubectl apply -f -\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-dns-egress\n  namespace: default\nspec:\n  podSelector: {}\n  policyTypes:\n  - Egress\n  egress:\n  - to: []\n    ports:\n    - protocol: UDP\n      port: 53\nEOF\n```\n\n### etcd Security\n```bash\n# Check etcd encryption at rest\nkubectl get secrets --all-namespaces -o json | kubectl replace -f-\n\n# Create encryption configuration\ncat \u003c\u003cEOF | sudo tee /etc/kubernetes/enc.yaml\napiVersion: apiserver.config.k8s.io/v1\nkind: EncryptionConfiguration\nresources:\n- resources:\n  - secrets\n  - configmaps\n  - pandas.awesome.bears.example\n  providers:\n  - aescbc:\n      keys:\n      - name: key1\n        secret: $(head -c 32 /dev/urandom | base64)\n  - identity: {}\nEOF\n\n# Update kube-apiserver configuration\nsudo sed -i '/--encryption-provider-config=/d' /etc/kubernetes/manifests/kube-apiserver.yaml\nsudo sed -i '/- kube-apiserver/a\\    - --encryption-provider-config=/etc/kubernetes/enc.yaml' /etc/kubernetes/manifests/kube-apiserver.yaml\n\n# Mount encryption config in kube-apiserver\nsudo sed -i '/volumeMounts:/a\\    - mountPath: /etc/kubernetes/enc.yaml\\n      name: encryption-config\\n      readOnly: true' /etc/kubernetes/manifests/kube-apiserver.yaml\nsudo sed -i '/volumes:/a\\  - hostPath:\\n      path: /etc/kubernetes/enc.yaml\\n      type: FileOrCreate\\n    name: encryption-config' /etc/kubernetes/manifests/kube-apiserver.yaml\n```\n\n## Alternative Installation Methods\n\n### k3s (Lightweight Kubernetes)\n```bash\n# Install k3s on control plane\ncurl -sfL https://get.k3s.io | sh -s - --write-kubeconfig-mode 644\n\n# Get node token for workers\nsudo cat /var/lib/rancher/k3s/server/node-token\n\n# Install on worker nodes\ncurl -sfL https://get.k3s.io | K3S_URL=https://myserver:6443 K3S_TOKEN=mynodetoken sh -\n\n# Configure kubectl\nmkdir -p ~/.kube\nsudo cp /etc/rancher/k3s/k3s.yaml ~/.kube/config\nsudo chown $(id -u):$(id -g) ~/.kube/config\nexport KUBECONFIG=~/.kube/config\n\n# Verify cluster\nkubectl get nodes\n```\n\n### k0s (Zero-deps Kubernetes)\n```bash\n# Download k0s\ncurl -sSLf https://get.k0s.sh | sudo sh\n\n# Initialize controller\nsudo k0s install controller --single\n\n# Start k0s\nsudo systemctl start k0scontroller\n\n# Generate worker join token\nsudo k0s token create --role=worker\n\n# On worker nodes:\nsudo k0s install worker --token-file /path/to/token/file\nsudo systemctl start k0sworker\n\n# Configure kubectl\nmkdir -p ~/.kube\nsudo k0s kubeconfig admin \u003e ~/.kube/config\n```\n\n### MicroK8s (Ubuntu/Snap)\n```bash\n# Install MicroK8s\nsudo snap install microk8s --classic\n\n# Add user to microk8s group\nsudo usermod -a -G microk8s $USER\nsudo chown -f -R $USER ~/.kube\nnewgrp microk8s\n\n# Enable essential addons\nmicrok8s enable dns dashboard storage\n\n# Configure kubectl alias\necho 'alias kubectl=\"microk8s kubectl\"' \u003e\u003e ~/.bashrc\nsource ~/.bashrc\n\n# Get cluster info\nmicrok8s kubectl cluster-info\n```\n\n### Minikube (Development)\n```bash\n# Install minikube\ncurl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64\nsudo install minikube-linux-amd64 /usr/local/bin/minikube\n\n# Start cluster with specific configuration\nminikube start \\\n  --driver=containerd \\\n  --cpus=4 \\\n  --memory=8g \\\n  --disk-size=50g \\\n  --kubernetes-version=v1.29.0\n\n# Enable addons\nminikube addons enable dashboard\nminikube addons enable metrics-server\nminikube addons enable ingress\nminikube addons enable registry\n\n# Configure kubectl context\nkubectl config use-context minikube\n\n# Access dashboard\nminikube dashboard\n```\n\n## Essential Add-ons Installation\n\n### Metrics Server\n```bash\n# Install metrics-server for resource monitoring\nkubectl apply -f https://github.com/kubernetes-sigs/metrics-server/releases/latest/download/components.yaml\n\n# For development clusters, may need to add --kubelet-insecure-tls\nkubectl patch deployment metrics-server -n kube-system --type='json' -p='[{\"op\": \"add\", \"path\": \"/spec/template/spec/containers/0/args/-\", \"value\": \"--kubelet-insecure-tls\"}]'\n\n# Verify metrics server\nkubectl top nodes\nkubectl top pods --all-namespaces\n```\n\n### Kubernetes Dashboard\n```bash\n# Install dashboard\nkubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v2.7.0/aio/deploy/recommended.yaml\n\n# Create admin service account\ncat \u003c\u003cEOF | kubectl apply -f -\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: admin-user\n  namespace: kubernetes-dashboard\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: admin-user\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: cluster-admin\nsubjects:\n- kind: ServiceAccount\n  name: admin-user\n  namespace: kubernetes-dashboard\nEOF\n\n# Get access token\nkubectl -n kubernetes-dashboard create token admin-user\n\n# Access dashboard\nkubectl proxy \u0026\n# Visit: http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:/proxy/\n```\n\n### Ingress Controller (NGINX)\n```bash\n# Install NGINX Ingress Controller\nkubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.2/deploy/static/provider/cloud/deploy.yaml\n\n# For bare metal installations\nkubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.2/deploy/static/provider/baremetal/deploy.yaml\n\n# Verify installation\nkubectl get pods -n ingress-nginx\nkubectl get svc -n ingress-nginx\n\n# Create sample ingress\ncat \u003c\u003cEOF | kubectl apply -f -\napiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: example-ingress\n  annotations:\n    nginx.ingress.kubernetes.io/rewrite-target: /\n    nginx.ingress.kubernetes.io/ssl-redirect: \"true\"\nspec:\n  ingressClassName: nginx\n  tls:\n  - hosts:\n    - example.com\n    secretName: example-tls\n  rules:\n  - host: example.com\n    http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: web-service\n            port:\n              number: 80\nEOF\n```\n\n## Reverse Proxy Setup\n\n### NGINX Ingress Controller Configuration\n\n```bash\n# Install NGINX Ingress Controller with custom configuration\ncat \u003c\u003cEOF | kubectl apply -f -\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: ingress-nginx\n---\napiVersion: helm.cattle.io/v1\nkind: HelmChart\nmetadata:\n  name: ingress-nginx\n  namespace: ingress-nginx\nspec:\n  chart: ingress-nginx\n  repo: https://kubernetes.github.io/ingress-nginx\n  targetNamespace: ingress-nginx\n  valuesContent: |-\n    controller:\n      replicaCount: 2\n      service:\n        type: LoadBalancer\n        externalTrafficPolicy: Local\n      config:\n        ssl-redirect: \"true\"\n        force-ssl-redirect: \"true\"\n        ssl-protocols: \"TLSv1.2 TLSv1.3\"\n        ssl-ciphers: \"ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384\"\n        client-body-buffer-size: \"64k\"\n        client-body-timeout: \"60\"\n        client-header-timeout: \"60\"\n        large-client-header-buffers: \"4 64k\"\n        proxy-body-size: \"50m\"\n        server-name-hash-bucket-size: \"128\"\n      metrics:\n        enabled: true\n        serviceMonitor:\n          enabled: true\nEOF\n```\n\n### Traefik Ingress Controller\n\n```bash\n# Install Traefik with custom configuration\ncat \u003c\u003cEOF | kubectl apply -f -\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: traefik-system\n---\napiVersion: argoproj.io/v1alpha1\nkind: Application\nmetadata:\n  name: traefik\n  namespace: argocd\nspec:\n  project: default\n  source:\n    chart: traefik\n    repoURL: https://traefik.github.io/charts\n    targetRevision: 21.1.0\n    helm:\n      values: |\n        deployment:\n          replicas: 2\n        service:\n          type: LoadBalancer\n        ingressRoute:\n          dashboard:\n            enabled: true\n        logs:\n          general:\n            level: INFO\n          access:\n            enabled: true\n        metrics:\n          prometheus:\n            enabled: true\n        certificatesResolvers:\n          letsencrypt:\n            acme:\n              email: admin@example.com\n              storage: /data/acme.json\n              httpChallenge:\n                entryPoint: web\n  destination:\n    server: https://kubernetes.default.svc\n    namespace: traefik-system\nEOF\n```\n\n### HAProxy Load Balancer for API Server\n\n```bash\n# Install HAProxy for external load balancing\ncat \u003c\u003cEOF | kubectl apply -f -\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: haproxy-config\n  namespace: kube-system\ndata:\n  haproxy.cfg: |\n    global\n        log stdout local0\n        daemon\n        \n    defaults\n        mode tcp\n        log global\n        option tcplog\n        timeout connect 5000ms\n        timeout client 50000ms\n        timeout server 50000ms\n        \n    frontend k8s-api-frontend\n        bind *:6443\n        mode tcp\n        default_backend k8s-api-backend\n        \n    backend k8s-api-backend\n        mode tcp\n        balance roundrobin\n        option tcp-check\n        server master1 10.0.1.10:6443 check\n        server master2 10.0.1.11:6443 check\n        server master3 10.0.1.12:6443 check\n---\napiVersion: apps/v1\nkind: DaemonSet\nmetadata:\n  name: haproxy-lb\n  namespace: kube-system\nspec:\n  selector:\n    matchLabels:\n      app: haproxy-lb\n  template:\n    metadata:\n      labels:\n        app: haproxy-lb\n    spec:\n      hostNetwork: true\n      containers:\n      - name: haproxy\n        image: haproxy:2.8-alpine\n        ports:\n        - containerPort: 6443\n          hostPort: 6443\n        volumeMounts:\n        - name: haproxy-config\n          mountPath: /usr/local/etc/haproxy\n      volumes:\n      - name: haproxy-config\n        configMap:\n          name: haproxy-config\nEOF\n```\n\n## Database Setup\n\n### PostgreSQL StatefulSet with HA\n\n```bash\n# Deploy PostgreSQL cluster with replication\ncat \u003c\u003cEOF | kubectl apply -f -\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: postgresql\n---\napiVersion: postgresql.cnpg.io/v1\nkind: Cluster\nmetadata:\n  name: postgresql-cluster\n  namespace: postgresql\nspec:\n  instances: 3\n  primaryUpdateStrategy: unsupervised\n  \n  postgresql:\n    parameters:\n      max_connections: \"200\"\n      shared_buffers: \"256MB\"\n      effective_cache_size: \"1GB\"\n      maintenance_work_mem: \"64MB\"\n      checkpoint_completion_target: \"0.9\"\n      wal_buffers: \"16MB\"\n      default_statistics_target: \"100\"\n      random_page_cost: \"1.1\"\n      effective_io_concurrency: \"200\"\n      \n  bootstrap:\n    initdb:\n      database: app_database\n      owner: app_user\n      secret:\n        name: postgresql-credentials\n        \n  storage:\n    storageClass: \"fast-ssd\"\n    size: \"100Gi\"\n    \n  monitoring:\n    enabled: true\n    \n  backup:\n    retentionPolicy: \"30d\"\n    barmanObjectStore:\n      destinationPath: s3://postgresql-backups/cluster1\n      s3Credentials:\n        accessKeyId:\n          name: backup-credentials\n          key: ACCESS_KEY_ID\n        secretAccessKey:\n          name: backup-credentials\n          key: SECRET_ACCESS_KEY\n      wal:\n        retention: \"5d\"\n      data:\n        retention: \"30d\"\n---\napiVersion: v1\nkind: Secret\nmetadata:\n  name: postgresql-credentials\n  namespace: postgresql\ntype: kubernetes.io/basic-auth\ndata:\n  username: $(echo -n 'app_user' | base64)\n  password: $(echo -n 'secure_database_password_123!' | base64)\nEOF\n```\n\n### MySQL Cluster with Percona Operator\n\n```bash\n# Deploy MySQL cluster using Percona Operator\ncat \u003c\u003cEOF | kubectl apply -f -\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: mysql\n---\napiVersion: pxc.percona.com/v1-12-0\nkind: PerconaXtraDBCluster\nmetadata:\n  name: mysql-cluster\n  namespace: mysql\nspec:\n  crVersion: 1.12.0\n  allowUnsafeConfigurations: false\n  secretsName: mysql-secrets\n  vaultSecretName: \"\"\n  sslSecretName: \"\"\n  sslInternalSecretName: \"\"\n  logCollectorSecretName: \"\"\n  \n  pxc:\n    size: 3\n    image: percona/percona-xtradb-cluster:8.0.32-24.2\n    autoRecovery: true\n    configuration: |\n      [mysqld]\n      wsrep_provider_options=\"debug=1;gcache.size=1G;gcache.page_size=1G\"\n      wsrep_debug=1\n      wsrep_cluster_address=gcomm://\n      binlog_format=ROW\n      default_storage_engine=InnoDB\n      innodb_autoinc_lock_mode=2\n      innodb_locks_unsafe_for_binlog=1\n      max_connections=350\n      innodb_buffer_pool_size=512M\n      \n    resources:\n      requests:\n        memory: 1G\n        cpu: 600m\n      limits:\n        memory: 1G\n        cpu: \"1\"\n        \n    volumeSpec:\n      persistentVolumeClaim:\n        storageClassName: fast-ssd\n        accessModes: [ \"ReadWriteOnce\" ]\n        resources:\n          requests:\n            storage: 80Gi\n            \n    affinity:\n      antiAffinityTopologyKey: \"kubernetes.io/hostname\"\n      \n  haproxy:\n    enabled: true\n    size: 2\n    image: percona/percona-xtradb-cluster-operator:1.12.0-haproxy\n    \n    resources:\n      requests:\n        memory: 256M\n        cpu: 250m\n      limits:\n        memory: 256M\n        cpu: 500m\n        \n  proxysql:\n    enabled: false\n    \n  backup:\n    image: percona/percona-xtradb-cluster-operator:1.12.0-pxc8.0-backup\n    schedule:\n      - name: \"daily-backup\"\n        schedule: \"0 2 * * *\"\n        keep: 7\n        storageName: s3-backup-storage\n        \n---\napiVersion: v1\nkind: Secret\nmetadata:\n  name: mysql-secrets\n  namespace: mysql\ntype: Opaque\ndata:\n  root: $(echo -n 'secure_mysql_root_password!' | base64)\n  xtrabackup: $(echo -n 'backup_password_123!' | base64)\n  monitor: $(echo -n 'monitor_user_password!' | base64)\n  clustercheck: $(echo -n 'cluster_check_password!' | base64)\n  proxysql: $(echo -n 'proxysql_admin_password!' | base64)\n  operator: $(echo -n 'operator_user_password!' | base64)\nEOF\n```\n\n### Redis Cluster Deployment\n\n```bash\n# Deploy Redis cluster with Redis Operator\ncat \u003c\u003cEOF | kubectl apply -f -\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: redis\n---\napiVersion: redis.redis.opstreelabs.in/v1beta1\nkind: RedisCluster\nmetadata:\n  name: redis-cluster\n  namespace: redis\nspec:\n  clusterSize: 6\n  clusterVersion: v7\n  persistenceEnabled: true\n  redisSecret:\n    name: redis-secret\n    key: password\n  redisConfig:\n    redis-config: |\n      maxmemory 512mb\n      maxmemory-policy allkeys-lru\n      save 900 1\n      save 300 10\n      save 60 10000\n      tcp-keepalive 60\n      tcp-backlog 8192\n      timeout 300\n      \n  storage:\n    volumeClaimTemplate:\n      spec:\n        accessModes: [\"ReadWriteOnce\"]\n        storageClassName: fast-ssd\n        resources:\n          requests:\n            storage: 50Gi\n            \n  resources:\n    requests:\n      memory: 512Mi\n      cpu: 250m\n    limits:\n      memory: 512Mi\n      cpu: 500m\n      \n  nodeSelector:\n    node-type: \"redis-optimized\"\n    \n  podSecurityContext:\n    runAsUser: 1000\n    runAsGroup: 1000\n    fsGroup: 1000\n    \n  securityContext:\n    allowPrivilegeEscalation: false\n    readOnlyRootFilesystem: true\n    runAsNonRoot: true\n    capabilities:\n      drop:\n      - ALL\n---\napiVersion: v1\nkind: Secret\nmetadata:\n  name: redis-secret\n  namespace: redis\ntype: Opaque\ndata:\n  password: $(echo -n 'secure_redis_password_123!' | base64)\nEOF\n```\n\n## Storage Configuration\n\n### Persistent Volumes and Storage Classes\n```bash\n# Create local storage class\ncat \u003c\u003cEOF | kubectl apply -f -\napiVersion: storage.k8s.io/v1\nkind: StorageClass\nmetadata:\n  name: local-storage\nprovisioner: kubernetes.io/no-provisioner\nvolumeBindingMode: WaitForFirstConsumer\nallowVolumeExpansion: true\nreclaimPolicy: Delete\nEOF\n\n# Create persistent volume\ncat \u003c\u003cEOF | kubectl apply -f -\napiVersion: v1\nkind: PersistentVolume\nmetadata:\n  name: local-pv-1\nspec:\n  capacity:\n    storage: 10Gi\n  volumeMode: Filesystem\n  accessModes:\n  - ReadWriteOnce\n  persistentVolumeReclaimPolicy: Delete\n  storageClassName: local-storage\n  local:\n    path: /mnt/disk1\n  nodeAffinity:\n    required:\n      nodeSelectorTerms:\n      - matchExpressions:\n        - key: kubernetes.io/hostname\n          operator: In\n          values:\n          - node-1\nEOF\n\n# Create persistent volume claim\ncat \u003c\u003cEOF | kubectl apply -f -\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: app-data-pvc\nspec:\n  accessModes:\n  - ReadWriteOnce\n  storageClassName: local-storage\n  resources:\n    requests:\n      storage: 5Gi\nEOF\n```\n\n### NFS Storage (Shared volumes)\n```bash\n# Install NFS client utilities (all nodes)\n# Ubuntu/Debian\nsudo apt install -y nfs-common\n\n# RHEL/CentOS\nsudo yum install -y nfs-utils\n\n# Create NFS storage class\ncat \u003c\u003cEOF | kubectl apply -f -\napiVersion: storage.k8s.io/v1\nkind: StorageClass\nmetadata:\n  name: nfs-storage\nprovisioner: example.com/nfs\nparameters:\n  server: 192.168.1.200\n  path: /exported/path\n  readOnly: \"false\"\nreclaimPolicy: Retain\nallowVolumeExpansion: true\nmountOptions:\n  - hard\n  - nfsvers=4.1\nEOF\n```\n\n## Firewall Configuration (Cross-Platform)\n\n### Required Ports\n```bash\n# Control plane ports\nsudo firewall-cmd --permanent --add-port=6443/tcp    # API server\nsudo firewall-cmd --permanent --add-port=2379-2380/tcp  # etcd\nsudo firewall-cmd --permanent --add-port=10250/tcp  # kubelet\nsudo firewall-cmd --permanent --add-port=10259/tcp  # kube-scheduler\nsudo firewall-cmd --permanent --add-port=10257/tcp  # kube-controller-manager\n\n# Worker node ports\nsudo firewall-cmd --permanent --add-port=10250/tcp  # kubelet\nsudo firewall-cmd --permanent --add-port=30000-32767/tcp  # NodePort services\n\n# CNI ports (Flannel)\nsudo firewall-cmd --permanent --add-port=8285/udp   # Flannel\nsudo firewall-cmd --permanent --add-port=8472/udp   # Flannel VXLAN\n\nsudo firewall-cmd --reload\n\n# UFW (Ubuntu/Debian)\nsudo ufw allow 6443/tcp\nsudo ufw allow 2379:2380/tcp\nsudo ufw allow 10250/tcp\nsudo ufw allow 10259/tcp\nsudo ufw allow 10257/tcp\nsudo ufw allow 30000:32767/tcp\nsudo ufw allow 8285/udp\nsudo ufw allow 8472/udp\n\n# iptables (manual configuration)\nsudo iptables -A INPUT -p tcp --dport 6443 -j ACCEPT\nsudo iptables -A INPUT -p tcp --dport 2379:2380 -j ACCEPT\nsudo iptables -A INPUT -p tcp --dport 10250 -j ACCEPT\n```\n\n### SELinux Configuration (RHEL/CentOS)\n```bash\n# Configure SELinux for Kubernetes\nsudo setenforce 0\nsudo sed -i 's/^SELINUX=enforcing$/SELINUX=permissive/' /etc/selinux/config\n\n# Alternative: Configure SELinux policies instead of disabling\nsudo setsebool -P container_manage_cgroup true\nsudo setsebool -P container_use_cgroup true\n\n# Install SELinux policies for containers\nsudo yum install -y container-selinux\n\n# Check for denials\nsudo ausearch -m AVC,USER_AVC -ts recent\n```\n\n## High Availability Setup\n\n### Multi-Master Cluster with kubeadm\n```bash\n# On first control plane node\nsudo kubeadm init \\\n  --control-plane-endpoint=\"k8s-cluster.example.com:6443\" \\\n  --upload-certs \\\n  --pod-network-cidr=10.244.0.0/16\n\n# Note the commands to join additional control plane nodes and workers\n\n# On additional control plane nodes:\nsudo kubeadm join k8s-cluster.example.com:6443 \\\n  --token abcdef.0123456789abcdef \\\n  --discovery-token-ca-cert-hash sha256:1234... \\\n  --control-plane \\\n  --certificate-key 1234...\n\n# Configure load balancer (HAProxy example)\ncat \u003c\u003cEOF | sudo tee /etc/haproxy/haproxy.cfg\nglobal\n    log stdout local0\n    chroot /var/lib/haproxy\n    stats socket /run/haproxy/admin.sock mode 660 level admin\n    stats timeout 30s\n    user haproxy\n    group haproxy\n    daemon\n\ndefaults\n    mode tcp\n    log global\n    option tcplog\n    option dontlognull\n    timeout connect 5000\n    timeout client 50000\n    timeout server 50000\n\nfrontend k8s-api\n    bind *:6443\n    mode tcp\n    default_backend k8s-api-backend\n\nbackend k8s-api-backend\n    mode tcp\n    balance roundrobin\n    server k8s-master-1 192.168.1.101:6443 check\n    server k8s-master-2 192.168.1.102:6443 check\n    server k8s-master-3 192.168.1.103:6443 check\nEOF\n\nsudo systemctl restart haproxy\n```\n\n### External etcd Cluster\n```bash\n# Install etcd on dedicated nodes\nETCD_VER=v3.5.9\ncurl -L https://github.com/etcd-io/etcd/releases/download/${ETCD_VER}/etcd-${ETCD_VER}-linux-amd64.tar.gz -o etcd-${ETCD_VER}-linux-amd64.tar.gz\ntar xzf etcd-${ETCD_VER}-linux-amd64.tar.gz\nsudo mv etcd-${ETCD_VER}-linux-amd64/{etcd,etcdctl} /usr/local/bin/\n\n# Create etcd configuration\nsudo tee /etc/systemd/system/etcd.service \u003e /dev/null \u003c\u003cEOF\n[Unit]\nDescription=etcd\nDocumentation=https://github.com/coreos\n\n[Service]\nType=notify\nUser=etcd\nExecStart=/usr/local/bin/etcd \\\\\n  --name=etcd-1 \\\\\n  --data-dir=/var/lib/etcd \\\\\n  --listen-client-urls=https://192.168.1.201:2379 \\\\\n  --advertise-client-urls=https://192.168.1.201:2379 \\\\\n  --listen-peer-urls=https://192.168.1.201:2380 \\\\\n  --initial-advertise-peer-urls=https://192.168.1.201:2380 \\\\\n  --initial-cluster=etcd-1=https://192.168.1.201:2380,etcd-2=https://192.168.1.202:2380,etcd-3=https://192.168.1.203:2380 \\\\\n  --initial-cluster-token=etcd-cluster-1 \\\\\n  --initial-cluster-state=new \\\\\n  --cert-file=/etc/etcd/pki/server.crt \\\\\n  --key-file=/etc/etcd/pki/server.key \\\\\n  --peer-cert-file=/etc/etcd/pki/peer.crt \\\\\n  --peer-key-file=/etc/etcd/pki/peer.key \\\\\n  --trusted-ca-file=/etc/etcd/pki/ca.crt \\\\\n  --peer-trusted-ca-file=/etc/etcd/pki/ca.crt \\\\\n  --peer-client-cert-auth \\\\\n  --client-cert-auth\nRestart=on-failure\nRestartSec=5\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n# Create etcd user and directories\nsudo useradd -r etcd\nsudo mkdir -p /var/lib/etcd /etc/etcd/pki\nsudo chown etcd:etcd /var/lib/etcd\nsudo systemctl enable --now etcd\n```\n\n## Application Deployment Examples\n\n### Secure Application Deployment\n```bash\n# Create namespace with network policies\ncat \u003c\u003cEOF | kubectl apply -f -\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: myapp\n  labels:\n    pod-security.kubernetes.io/enforce: restricted\n    pod-security.kubernetes.io/audit: restricted\n    pod-security.kubernetes.io/warn: restricted\n---\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: myapp-sa\n  namespace: myapp\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: Role\nmetadata:\n  namespace: myapp\n  name: myapp-role\nrules:\n- apiGroups: [\"\"]\n  resources: [\"configmaps\", \"secrets\"]\n  verbs: [\"get\", \"list\"]\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: RoleBinding\nmetadata:\n  name: myapp-rolebinding\n  namespace: myapp\nsubjects:\n- kind: ServiceAccount\n  name: myapp-sa\n  namespace: myapp\nroleRef:\n  kind: Role\n  name: myapp-role\n  apiGroup: rbac.authorization.k8s.io\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: myapp-deployment\n  namespace: myapp\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: myapp\n  template:\n    metadata:\n      labels:\n        app: myapp\n    spec:\n      serviceAccountName: myapp-sa\n      securityContext:\n        runAsNonRoot: true\n        runAsUser: 1000\n        runAsGroup: 3000\n        fsGroup: 2000\n        seccompProfile:\n          type: RuntimeDefault\n      containers:\n      - name: app\n        image: nginx:alpine\n        ports:\n        - containerPort: 80\n        securityContext:\n          allowPrivilegeEscalation: false\n          readOnlyRootFilesystem: true\n          capabilities:\n            drop:\n            - ALL\n        resources:\n          requests:\n            memory: \"64Mi\"\n            cpu: \"250m\"\n          limits:\n            memory: \"128Mi\"\n            cpu: \"500m\"\n        livenessProbe:\n          httpGet:\n            path: /\n            port: 80\n          initialDelaySeconds: 30\n          periodSeconds: 10\n        readinessProbe:\n          httpGet:\n            path: /\n            port: 80\n          initialDelaySeconds: 5\n          periodSeconds: 5\n        volumeMounts:\n        - name: tmp-volume\n          mountPath: /tmp\n        - name: cache-volume\n          mountPath: /var/cache/nginx\n      volumes:\n      - name: tmp-volume\n        emptyDir: {}\n      - name: cache-volume\n        emptyDir: {}\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: myapp-service\n  namespace: myapp\nspec:\n  selector:\n    app: myapp\n  ports:\n  - port: 80\n    targetPort: 80\n  type: ClusterIP\nEOF\n```\n\n### StatefulSet with Persistent Storage\n```bash\n# Deploy StatefulSet application (database example)\ncat \u003c\u003cEOF | kubectl apply -f -\napiVersion: apps/v1\nkind: StatefulSet\nmetadata:\n  name: mysql-statefulset\n  namespace: myapp\nspec:\n  serviceName: mysql-service\n  replicas: 3\n  selector:\n    matchLabels:\n      app: mysql\n  template:\n    metadata:\n      labels:\n        app: mysql\n    spec:\n      securityContext:\n        runAsUser: 999\n        runAsGroup: 999\n        fsGroup: 999\n      containers:\n      - name: mysql\n        image: mysql:8.0\n        ports:\n        - containerPort: 3306\n          name: mysql\n        env:\n        - name: MYSQL_ROOT_PASSWORD\n          valueFrom:\n            secretKeyRef:\n              name: mysql-secret\n              key: root-password\n        volumeMounts:\n        - name: mysql-storage\n          mountPath: /var/lib/mysql\n        resources:\n          requests:\n            memory: \"1Gi\"\n            cpu: \"500m\"\n          limits:\n            memory: \"2Gi\"\n            cpu: \"1000m\"\n  volumeClaimTemplates:\n  - metadata:\n      name: mysql-storage\n    spec:\n      accessModes: [\"ReadWriteOnce\"]\n      storageClassName: \"local-storage\"\n      resources:\n        requests:\n          storage: 10Gi\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: mysql-service\n  namespace: myapp\nspec:\n  clusterIP: None\n  selector:\n    app: mysql\n  ports:\n  - port: 3306\n    targetPort: 3306\n---\napiVersion: v1\nkind: Secret\nmetadata:\n  name: mysql-secret\n  namespace: myapp\ntype: Opaque\ndata:\n  root-password: $(echo -n 'secure_mysql_password' | base64)\nEOF\n```\n\n## Backup and Disaster Recovery\n\n### etcd Backup\n```bash\n# Create etcd backup script\nsudo tee /usr/local/bin/etcd-backup.sh \u003e /dev/null \u003c\u003c'EOF'\n#!/bin/bash\nBACKUP_DIR=\"/backup/etcd\"\nDATE=$(date +%Y%m%d_%H%M%S)\n\nmkdir -p ${BACKUP_DIR}\n\n# Create etcd snapshot\nETCDCTL_API=3 etcdctl snapshot save ${BACKUP_DIR}/etcd-backup-${DATE}.db \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=/etc/kubernetes/pki/etcd/ca.crt \\\n  --cert=/etc/kubernetes/pki/etcd/server.crt \\\n  --key=/etc/kubernetes/pki/etcd/server.key\n\n# Verify snapshot\nETCDCTL_API=3 etcdctl snapshot status ${BACKUP_DIR}/etcd-backup-${DATE}.db -w table\n\n# Keep only last 7 backups\nfind ${BACKUP_DIR} -name \"etcd-backup-*.db\" -type f -mtime +7 -delete\n\necho \"etcd backup completed: etcd-backup-${DATE}.db\"\nEOF\n\nsudo chmod +x /usr/local/bin/etcd-backup.sh\n\n# Schedule backup\necho \"0 2 * * * root /usr/local/bin/etcd-backup.sh\" | sudo tee -a /etc/crontab\n```\n\n### Cluster State Backup\n```bash\n# Backup all cluster resources\nkubectl get all --all-namespaces -o yaml \u003e cluster-backup-$(date +%Y%m%d).yaml\n\n# Backup specific resource types\nkubectl get configmaps,secrets,persistentvolumes,persistentvolumeclaims --all-namespaces -o yaml \u003e cluster-data-backup-$(date +%Y%m%d).yaml\n\n# Create backup script for all resources\nsudo tee /usr/local/bin/k8s-backup.sh \u003e /dev/null \u003c\u003c'EOF'\n#!/bin/bash\nBACKUP_DIR=\"/backup/kubernetes\"\nDATE=$(date +%Y%m%d_%H%M%S)\n\nmkdir -p ${BACKUP_DIR}\n\n# Backup all cluster resources\nkubectl get all --all-namespaces -o yaml \u003e ${BACKUP_DIR}/cluster-all-${DATE}.yaml\n\n# Backup critical resources separately\nkubectl get configmaps,secrets,persistentvolumes,persistentvolumeclaims --all-namespaces -o yaml \u003e ${BACKUP_DIR}/cluster-data-${DATE}.yaml\n\n# Backup custom resources\nkubectl get crd -o yaml \u003e ${BACKUP_DIR}/cluster-crd-${DATE}.yaml\n\n# Backup RBAC\nkubectl get clusterroles,clusterrolebindings,roles,rolebindings --all-namespaces -o yaml \u003e ${BACKUP_DIR}/cluster-rbac-${DATE}.yaml\n\n# etcd backup\n/usr/local/bin/etcd-backup.sh\n\n# Compress backups\ntar -czf ${BACKUP_DIR}/k8s-complete-backup-${DATE}.tar.gz ${BACKUP_DIR}/*-${DATE}.yaml\n\n# Keep only last 7 backups\nfind ${BACKUP_DIR} -name \"*-${DATE:0:8}*\" -type f -mtime +7 -delete\n\necho \"Kubernetes backup completed: ${DATE}\"\nEOF\n\nsudo chmod +x /usr/local/bin/k8s-backup.sh\necho \"0 3 * * * root /usr/local/bin/k8s-backup.sh\" | sudo tee -a /etc/crontab\n```\n\n## Verification and Testing\n\n### Cluster Health Checks\n```bash\n# Check cluster components\nkubectl get componentstatuses\nkubectl cluster-info\nkubectl get nodes -o wide\n\n# Check all pods in system namespaces\nkubectl get pods --all-namespaces\nkubectl get events --all-namespaces --sort-by=.metadata.creationTimestamp\n\n# Test DNS resolution\nkubectl run test-dns --image=busybox --rm -it --restart=Never -- nslookup kubernetes.default\n\n# Test pod networking\nkubectl run test-pod-1 --image=nginx --port=80\nkubectl expose pod test-pod-1 --port=80 --type=ClusterIP\nkubectl run test-pod-2 --image=busybox --rm -it --restart=Never -- wget -qO- test-pod-1\n\n# Check resource usage\nkubectl top nodes\nkubectl top pods --all-namespaces\n\n# Verify RBAC\nkubectl auth can-i create deployments\nkubectl auth can-i get secrets --as=system:serviceaccount:default:default\n\n# Test persistent storage\nkubectl apply -f - \u003c\u003cEOF\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: test-pvc\nspec:\n  accessModes:\n  - ReadWriteOnce\n  resources:\n    requests:\n      storage: 1Gi\n---\napiVersion: v1\nkind: Pod\nmetadata:\n  name: test-storage-pod\nspec:\n  containers:\n  - name: app\n    image: busybox\n    command: ['sh', '-c', 'echo \"Storage test\" \u003e /data/test.txt \u0026\u0026 cat /data/test.txt \u0026\u0026 sleep 3600']\n    volumeMounts:\n    - name: storage\n      mountPath: /data\n  volumes:\n  - name: storage\n    persistentVolumeClaim:\n      claimName: test-pvc\nEOF\n\nkubectl logs test-storage-pod\nkubectl delete pod test-storage-pod\nkubectl delete pvc test-pvc\n```\n\n### Security Validation\n```bash\n# Run CIS Kubernetes Benchmark\ndocker run --rm -v $(pwd):/tmp aquasec/kube-bench:latest run --targets master,node,etcd,policies\n\n# Check pod security policies\nkubectl get psp  # For older versions\nkubectl get podsecuritypolicies  # For older versions\n\n# Verify network policies are working\nkubectl describe networkpolicy default-deny-all\n\n# Check for privileged containers\nkubectl get pods --all-namespaces -o jsonpath='{range .items[*]}{.metadata.name}{\"\\t\"}{.spec.securityContext.privileged}{\"\\n\"}{end}' | grep true\n\n# Audit security contexts\nkubectl get pods --all-namespaces -o jsonpath='{range .items[*]}{.metadata.namespace}{\"\\t\"}{.metadata.name}{\"\\t\"}{.spec.securityContext}{\"\\n\"}{end}'\n\n# Check for containers running as root\nkubectl get pods --all-namespaces -o jsonpath='{range .items[*]}{.metadata.name}{\"\\t\"}{.spec.containers[*].securityContext.runAsUser}{\"\\n\"}{end}' | grep -E '\\t0$|\\t$'\n```\n\n## Troubleshooting (Cross-Platform)\n\n### Common Issues and Solutions\n```bash\n# Node not ready issues\nkubectl describe node \u003cnode-name\u003e\nkubectl get events --sort-by=.metadata.creationTimestamp\n\n# Check kubelet logs\nsudo journalctl -u kubelet -f\n\n# Check container runtime\nsudo systemctl status containerd\nsudo crictl pods\n\n# Network issues\nkubectl get pods -n kube-system\nkubectl describe pod \u003ccni-pod-name\u003e -n kube-system\n\n# Permission issues (SELinux)\nsudo ausearch -m AVC -ts recent\nsudo setsebool -P container_manage_cgroup true\n\n# Certificate issues\nsudo kubeadm certs check-expiration\nopenssl x509 -in /etc/kubernetes/pki/apiserver.crt -text -noout\n\n# Resource exhaustion\nkubectl describe node \u003cnode-name\u003e\nkubectl top nodes\nkubectl top pods --all-namespaces --sort-by=memory\n\n# etcd issues\nsudo etcdctl endpoint health \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=/etc/kubernetes/pki/etcd/ca.crt \\\n  --cert=/etc/kubernetes/pki/etcd/server.crt \\\n  --key=/etc/kubernetes/pki/etcd/server.key\n\n# Reset cluster (if needed)\nsudo kubeadm reset\nsudo rm -rf /etc/cni/net.d\nsudo rm -rf $HOME/.kube/config\n```\n\n### Debug Pod Issues\n```bash\n# Debug failing pods\nkubectl describe pod \u003cpod-name\u003e\nkubectl logs \u003cpod-name\u003e -c \u003ccontainer-name\u003e\nkubectl get events --field-selector involvedObject.name=\u003cpod-name\u003e\n\n# Debug networking\nkubectl run debug-pod --image=nicolaka/netshoot --rm -it --restart=Never\n\n# Check resource constraints\nkubectl describe resourcequota -n \u003cnamespace\u003e\nkubectl describe limitrange -n \u003cnamespace\u003e\n\n# Debug storage issues\nkubectl describe pvc \u003cpvc-name\u003e\nkubectl get events --field-selector involvedObject.name=\u003cpvc-name\u003e\n\n# Debug service connectivity\nkubectl run debug --image=busybox --rm -it --restart=Never -- nslookup \u003cservice-name\u003e\nkubectl get endpoints \u003cservice-name\u003e\n\n# Debug ingress issues\nkubectl describe ingress \u003cingress-name\u003e\nkubectl get events --field-selector involvedObject.name=\u003cingress-name\u003e\nkubectl logs -n ingress-nginx deployment/ingress-nginx-controller\n```\n\n## Performance Optimization\n\n### System-Level Tuning\n\n```bash\n# Kernel optimization for Kubernetes\nsudo tee -a /etc/sysctl.conf \u003e /dev/null \u003c\u003cEOF\n# Kubernetes performance tuning\nnet.core.somaxconn = 32768\nnet.core.netdev_max_backlog = 5000\nnet.ipv4.tcp_max_syn_backlog = 8192\nnet.ipv4.tcp_max_tw_buckets = 2000000\nnet.ipv4.tcp_tw_reuse = 1\nnet.ipv4.tcp_fin_timeout = 10\nnet.ipv4.ip_local_port_range = 1024 65000\nnet.core.rmem_default = 262144\nnet.core.rmem_max = 134217728\nnet.core.wmem_default = 262144\nnet.core.wmem_max = 134217728\nnet.ipv4.tcp_rmem = 4096 87380 134217728\nnet.ipv4.tcp_wmem = 4096 65536 134217728\nfs.file-max = 2097152\nfs.inotify.max_user_instances = 8192\nfs.inotify.max_user_watches = 1048576\nvm.swappiness = 0\nvm.overcommit_memory = 1\nvm.dirty_ratio = 80\nvm.dirty_background_ratio = 5\nkernel.pid_max = 4194304\nEOF\n\nsudo sysctl -p\n\n# Set resource limits\nsudo tee -a /etc/security/limits.conf \u003e /dev/null \u003c\u003cEOF\nroot soft nofile 65536\nroot hard nofile 65536\n* soft nofile 65536\n* hard nofile 65536\n* soft nproc 65536\n* hard nproc 65536\nEOF\n\n# Configure systemd limits for containerd and kubelet\nsudo mkdir -p /etc/systemd/system/containerd.service.d/\nsudo tee /etc/systemd/system/containerd.service.d/limits.conf \u003e /dev/null \u003c\u003cEOF\n[Service]\nLimitNOFILE=1048576\nLimitNPROC=1048576\nLimitCORE=infinity\nOOMScoreAdjust=-999\nEOF\n\nsudo mkdir -p /etc/systemd/system/kubelet.service.d/\nsudo tee /etc/systemd/system/kubelet.service.d/limits.conf \u003e /dev/null \u003c\u003cEOF\n[Service]\nLimitNOFILE=1048576\nLimitNPROC=1048576\nLimitCORE=infinity\nOOMScoreAdjust=-999\nEOF\n\nsudo systemctl daemon-reload\nsudo systemctl restart containerd kubelet\n```\n\n### Kubernetes Performance Configuration\n\n```bash\n# Optimize kubelet configuration\nsudo tee /var/lib/kubelet/config.yaml \u003e /dev/null \u003c\u003cEOF\napiVersion: kubelet.config.k8s.io/v1beta1\nkind: KubeletConfiguration\naddress: 0.0.0.0\nport: 10250\nreadOnlyPort: 0\nauthentication:\n  webhook:\n    enabled: true\nauthorization:\n  mode: Webhook\nclusterDomain: cluster.local\nclusterDNS:\n- 10.96.0.10\nmaxPods: 250\npodsPerCore: 10\ncgroupDriver: systemd\ncontainerLogMaxSize: 50Mi\ncontainerLogMaxFiles: 5\neventRecordQPS: 50\neventBurst: 100\nkubeAPIQPS: 50\nkubeAPIBurst: 100\nserializeImagePulls: false\nregistryPullQPS: 10\nregistryBurst: 20\nsyncFrequency: 1m\nfileCheckFrequency: 20s\nhttpCheckFrequency: 20s\nnodeStatusUpdateFrequency: 10s\nimageMinimumGCAge: 2m\nimageGCHighThresholdPercent: 85\nimageGCLowThresholdPercent: 80\nvolumeStatsAggPeriod: 1m\nsystemReserved:\n  cpu: 200m\n  memory: 512Mi\n  ephemeral-storage: 2Gi\nkubeReserved:\n  cpu: 200m\n  memory: 512Mi\n  ephemeral-storage: 2Gi\nEOF\n\n# Optimize API server configuration\nsudo sed -i '/- kube-apiserver/a\\\n    - --max-requests-inflight=2000\\\n    - --max-mutating-requests-inflight=1000\\\n    - --watch-cache-sizes=nodes#100,pods#1000,replicationcontrollers#500\\\n    - --target-ram-mb=2048\\\n    - --event-ttl=168h0m0s' /etc/kubernetes/manifests/kube-apiserver.yaml\n\n# Optimize etcd configuration\nsudo tee -a /etc/kubernetes/manifests/etcd.yaml \u003e /dev/null \u003c\u003cEOF\n    - --max-request-bytes=33554432\n    - --quota-backend-bytes=8589934592\n    - --snapshot-count=10000\n    - --heartbeat-interval=100\n    - --election-timeout=1000\nEOF\n```\n\n## Integration Examples\n\n### Python Client Library\n\n```python\n# kubernetes-client example\nfrom kubernetes import client, config\nimport json\n\n# Load kubeconfig\nconfig.load_kube_config()  # or config.load_incluster_config() for in-cluster\n\n# Initialize API clients\nv1 = client.CoreV1Api()\napps_v1 = client.AppsV1Api()\nnetworking_v1 = client.NetworkingV1Api()\n\n# Create a namespace\nnamespace = client.V1Namespace(\n    metadata=client.V1ObjectMeta(name=\"python-app\")\n)\nv1.create_namespace(body=namespace)\n\n# Create a deployment\ndeployment = client.V1Deployment(\n    metadata=client.V1ObjectMeta(name=\"nginx-deployment\"),\n    spec=client.V1DeploymentSpec(\n        replicas=3,\n        selector=client.V1LabelSelector(\n            match_labels={\"app\": \"nginx\"}\n        ),\n        template=client.V1PodTemplateSpec(\n            metadata=client.V1ObjectMeta(\n                labels={\"app\": \"nginx\"}\n            ),\n            spec=client.V1PodSpec(\n                containers=[\n                    client.V1Container(\n                        name=\"nginx\",\n                        image=\"nginx:alpine\",\n                        ports=[client.V1ContainerPort(container_port=80)],\n                        resources=client.V1ResourceRequirements(\n                            requests={\"cpu\": \"100m\", \"memory\": \"128Mi\"},\n                            limits={\"cpu\": \"500m\", \"memory\": \"512Mi\"}\n                        )\n                    )\n                ]\n            )\n        )\n    )\n)\n\napps_v1.create_namespaced_deployment(\n    namespace=\"python-app\", \n    body=deployment\n)\n\n# Create a service\nservice = client.V1Service(\n    metadata=client.V1ObjectMeta(name=\"nginx-service\"),\n    spec=client.V1ServiceSpec(\n        selector={\"app\": \"nginx\"},\n        ports=[\n            client.V1ServicePort(port=80, target_port=80)\n        ],\n        type=\"LoadBalancer\"\n    )\n)\n\nv1.create_namespaced_service(namespace=\"python-app\", body=service)\n\n# Monitor pods\ndef monitor_pods():\n    pods = v1.list_namespaced_pod(namespace=\"python-app\")\n    for pod in pods.items:\n        print(f\"Pod: {pod.metadata.name}, Status: {pod.status.phase}\")\n\nmonitor_pods()\n\n# Stream logs\ndef stream_logs(pod_name):\n    for line in v1.read_namespaced_pod_log(\n        name=pod_name, \n        namespace=\"python-app\", \n        follow=True, \n        _preload_content=False\n    ).stream():\n        print(line.decode('utf-8'), end='')\n\n# Clean up\napps_v1.delete_namespaced_deployment(name=\"nginx-deployment\", namespace=\"python-app\")\nv1.delete_namespaced_service(name=\"nginx-service\", namespace=\"python-app\")\nv1.delete_namespace(name=\"python-app\")\n```\n\n### Node.js Client Example\n\n```javascript\n// kubernetes-example.js\nconst k8s = require('@kubernetes/client-node');\n\n// Load kubeconfig\nconst kc = new k8s.KubeConfig();\nkc.loadFromDefault();\n\nconst k8sApi = kc.makeApiClient(k8s.CoreV1Api);\nconst k8sAppsApi = kc.makeApiClient(k8s.AppsV1Api);\n\nconst namespace = 'nodejs-app';\n\nasync function createNamespace() {\n    const namespaceManifest = {\n        metadata: {\n            name: namespace\n        }\n    };\n    \n    try {\n        await k8sApi.createNamespace(namespaceManifest);\n        console.log(`Namespace ${namespace} created`);\n    } catch (error) {\n        console.error('Error creating namespace:', error.response?.body || error.message);\n    }\n}\n\nasync function createDeployment() {\n    const deploymentManifest = {\n        metadata: {\n            name: 'nginx-deployment'\n        },\n        spec: {\n            replicas: 3,\n            selector: {\n                matchLabels: {\n                    app: 'nginx'\n                }\n            },\n            template: {\n                metadata: {\n                    labels: {\n                        app: 'nginx'\n                    }\n                },\n                spec: {\n                    containers: [{\n                        name: 'nginx',\n                        image: 'nginx:alpine',\n                        ports: [{\n                            containerPort: 80\n                        }],\n                        resources: {\n                            requests: {\n                                cpu: '100m',\n                                memory: '128Mi'\n                            },\n                            limits: {\n                                cpu: '500m',\n                                memory: '512Mi'\n                            }\n                        }\n                    }]\n                }\n            }\n        }\n    };\n    \n    try {\n        await k8sAppsApi.createNamespacedDeployment(namespace, deploymentManifest);\n        console.log('Deployment created: nginx-deployment');\n    } catch (error) {\n        console.error('Error creating deployment:', error.response?.body || error.message);\n    }\n}\n\nasync function createService() {\n    const serviceManifest = {\n        metadata: {\n            name: 'nginx-service'\n        },\n        spec: {\n            selector: {\n                app: 'nginx'\n            },\n            ports: [{\n                port: 80,\n                targetPort: 80\n            }],\n            type: 'LoadBalancer'\n        }\n    };\n    \n    try {\n        await k8sApi.createNamespacedService(namespace, serviceManifest);\n        console.log('Service created: nginx-service');\n    } catch (error) {\n        console.error('Error creating service:', error.response?.body || error.message);\n    }\n}\n\nasync function listPods() {\n    try {\n        const response = await k8sApi.listNamespacedPod(namespace);\n        console.log(`Found ${response.body.items.length} pods:`);\n        response.body.items.forEach(pod =\u003e {\n            console.log(`Pod: ${pod.metadata.name}, Status: ${pod.status.phase}`);\n        });\n    } catch (error) {\n        console.error('Error listing pods:', error.response?.body || error.message);\n    }\n}\n\nasync function cleanup() {\n    try {\n        await k8sAppsApi.deleteNamespacedDeployment('nginx-deployment', namespace);\n        await k8sApi.deleteNamespacedService('nginx-service', namespace);\n        await k8sApi.deleteNamespace(namespace);\n        console.log('Resources cleaned up');\n    } catch (error) {\n        console.error('Error during cleanup:', error.response?.body || error.message);\n    }\n}\n\nasync function main() {\n    await createNamespace();\n    await createDeployment();\n    await createService();\n    \n    // Wait a bit for pods to start\n    setTimeout(async () =\u003e {\n        await listPods();\n        await cleanup();\n    }, 5000);\n}\n\nmain().catch(console.error);\n```\n\n### Java Client Example\n\n```java\n// KubernetesExample.java\nimport io.kubernetes.client.openapi.ApiClient;\nimport io.kubernetes.client.openapi.ApiException;\nimport io.kubernetes.client.openapi.Configuration;\nimport io.kubernetes.client.openapi.apis.AppsV1Api;\nimport io.kubernetes.client.openapi.apis.CoreV1Api;\nimport io.kubernetes.client.openapi.models.*;\nimport io.kubernetes.client.util.Config;\n\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class KubernetesExample {\n    public static void main(String[] args) throws Exception {\n        // Load kubeconfig\n        ApiClient client = Config.defaultClient();\n        Configuration.setDefaultApiClient(client);\n        \n        CoreV1Api coreV1Api = new CoreV1Api();\n        AppsV1Api appsV1Api = new AppsV1Api();\n        \n        String namespace = \"java-app\";\n        \n        // Create namespace\n        V1Namespace ns = new V1Namespace()\n            .metadata(new V1ObjectMeta().name(namespace));\n        \n        try {\n            coreV1Api.createNamespace(ns, null, null, null, null);\n            System.out.println(\"Namespace created: \" + namespace);\n        } catch (ApiException e) {\n            System.err.println(\"Failed to create namespace: \" + e.getResponseBody());\n        }\n        \n        // Create deployment\n        Map\u003cString, String\u003e labels = new HashMap\u003c\u003e();\n        labels.put(\"app\", \"nginx\");\n        \n        V1Deployment deployment = new V1Deployment()\n            .metadata(new V1ObjectMeta().name(\"nginx-deployment\"))\n            .spec(new V1DeploymentSpec()\n                .replicas(3)\n                .selector(new V1LabelSelector().matchLabels(labels))\n                .template(new V1PodTemplateSpec()\n                    .metadata(new V1ObjectMeta().labels(labels))\n                    .spec(new V1PodSpec()\n                        .containers(Collections.singletonList(\n                            new V1Container()\n                                .name(\"nginx\")\n                                .image(\"nginx:alpine\")\n                                .ports(Collections.singletonList(\n                                    new V1ContainerPort().containerPort(80)\n                                ))\n                                .resources(new V1ResourceRequirements()\n                                    .requests(Map.of(\n                                        \"cpu\", Quantity.fromString(\"100m\"),\n                                        \"memory\", Quantity.fromString(\"128Mi\")\n                                    ))\n                                    .limits(Map.of(\n                                        \"cpu\", Quantity.fromString(\"500m\"),\n                                        \"memory\", Quantity.fromString(\"512Mi\")\n                                    ))\n                                )\n                        ))\n                    )\n                )\n            );\n            \n        try {\n            appsV1Api.createNamespacedDeployment(namespace, deployment, null, null, null, null);\n            System.out.println(\"Deployment created: nginx-deployment\");\n        } catch (ApiException e) {\n            System.err.println(\"Failed to create deployment: \" + e.getResponseBody());\n        }\n        \n        // Create service\n        V1Service service = new V1Service()\n            .metadata(new V1ObjectMeta().name(\"nginx-service\"))\n            .spec(new V1ServiceSpec()\n                .selector(labels)\n                .ports(Collections.singletonList(\n                    new V1ServicePort().port(80).targetPort(new IntOrString(80))\n                ))\n                .type(\"LoadBalancer\")\n            );\n            \n        try {\n            coreV1Api.createNamespacedService(namespace, service, null, null, null, null);\n            System.out.println(\"Service created: nginx-service\");\n        } catch (ApiException e) {\n            System.err.println(\"Failed to create service: \" + e.getResponseBody());\n        }\n        \n        // List pods\n        try {\n            V1PodList pods = coreV1Api.listNamespacedPod(namespace, null, null, null, null, null, null, null, null, null, null);\n            System.out.println(\"Found \" + pods.getItems().size() + \" pods:\");\n            for (V1Pod pod : pods.getItems()) {\n                System.out.println(\"Pod: \" + pod.getMetadata().getName() + \n                                 \", Status: \" + pod.getStatus().getPhase());\n            }\n        } catch (ApiException e) {\n            System.err.println(\"Failed to list pods: \" + e.getResponseBody());\n        }\n        \n        // Cleanup\n        try {\n            appsV1Api.deleteNamespacedDeployment(\"nginx-deployment\", namespace, null, null, null, null, null, null);\n            coreV1Api.deleteNamespacedService(\"nginx-service\", namespace, null, null, null, null, null, null);\n            coreV1Api.deleteNamespace(namespace, null, null, null, null, null, null);\n            System.out.println(\"Resources cleaned up\");\n        } catch (ApiException e) {\n            System.err.println(\"Failed to cleanup: \" + e.getResponseBody());\n        }\n    }\n}\n```\n\n## Maintenance\n\n### Update Procedures\n\n```bash\n# Check current Kubernetes version\nkubectl version --short\n\n# Plan upgrade with kubeadm\nsudo kubeadm upgrade plan\n\n# Upgrade kubeadm first\nsudo apt update \u0026\u0026 sudo apt-mark unhold kubeadm\nsudo apt install -y kubeadm=1.29.1-00\nsudo apt-mark hold kubeadm\n\n# Or for RHEL/CentOS\nsudo yum update -y kubeadm-1.29.1\n\n# Upgrade control plane\nsudo kubeadm upgrade apply v1.29.1\n\n# Upgrade kubelet and kubectl\nsudo apt-mark unhold kubelet kubectl\nsudo apt install -y kubelet=1.29.1-00 kubectl=1.29.1-00\nsudo apt-mark hold kubelet kubectl\n\nsudo systemctl daemon-reload\nsudo systemctl restart kubelet\n\n# Drain and upgrade worker nodes\nkubectl drain \u003cworker-node\u003e --ignore-daemonsets --delete-emptydir-data\n# On worker node:\nsudo kubeadm upgrade node\nsudo apt install -y kubelet=1.29.1-00 kubectl=1.29.1-00\nsudo systemctl daemon-reload\nsudo systemctl restart kubelet\n\n# Uncordon worker node\nkubectl uncordon \u003cworker-node\u003e\n```\n\n### Maintenance Tasks\n\n```bash\n# Weekly maintenance script\n#!/bin/bash\n# k8s-maintenance.sh\n\n# Check cluster health\necho \"=== Cluster Health Check ===\"\nkubectl get nodes -o wide\nkubectl get pods --all-namespaces | grep -v Running | grep -v Completed\n\n# Check resource usage\necho \"=== Resource Usage ===\"\nkubectl top nodes\nkubectl top pods --all-namespaces --sort-by=cpu | head -10\n\n# Check certificate expiry\necho \"=== Certificate Expiry ===\"\nsudo kubeadm certs check-expiration\n\n# Clean up completed jobs\necho \"=== Cleanup ===\"\nkubectl get jobs --all-namespaces -o json | jq -r '.items[] | select(.status.conditions[]?.type == \"Complete\") | \"\\(.metadata.namespace) \\(.metadata.name)\"' | xargs -l bash -c 'kubectl delete job $1 -n $0'\n\n# Clean up evicted pods\nkubectl get pods --all-namespaces --field-selector=status.phase=Failed -o json | jq -r '.items[] | \"\\(.metadata.namespace) \\(.metadata.name)\"' | xargs -l bash -c 'kubectl delete pod $1 -n $0'\n\n# Check for security updates\necho \"=== Security Updates Available ===\"\nsudo apt list --upgradable | grep -i security\n\n# Backup etcd\necho \"=== etcd Backup ===\"\nsudo etcdctl snapshot save /backup/etcd-$(date +%Y%m%d_%H%M%S).db \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=/etc/kubernetes/pki/etcd/ca.crt \\\n  --cert=/etc/kubernetes/pki/etcd/server.crt \\\n  --key=/etc/kubernetes/pki/etcd/server.key\n\necho \"Maintenance completed at: $(date)\"\n```\n\n## Additional Resources\n\n- [Official Documentation](https://kubernetes.io/docs/)\n- [kubectl Reference](https://kubernetes.io/docs/reference/kubectl/)\n- [Security Best Practices](https://kubernetes.io/docs/concepts/security/)\n- [CIS Kubernetes Benchmark](https://www.cisecurity.org/benchmark/kubernetes)\n- [OWASP Kubernetes Security Cheat Sheet](https://cheatsheetseries.owasp.org/cheatsheets/Kubernetes_Security_Cheat_Sheet.html)\n- [Kubernetes The Hard Way](https://github.com/kelseyhightower/kubernetes-the-hard-way)\n- [Kubernetes Academy](https://kubernetes.academy/)\n- [CNCF Landscape](https://landscape.cncf.io/)\n\n---\n\n**Note:** This guide is part of the [HowToMgr](https://howtomgr.github.io) collection.","readmeHtml":"\u003ch1 id=\"kubernetes-installation-guide\" class=\"mobile-header\"\u003eKubernetes Installation Guide\u003c/h1\u003e\n\u003cp class=\"mobile-paragraph\"\u003eKubernetes is a free and open-source container orchestration platform for automating deployment, scaling, and management of containerized applications. Originally developed by Google and now maintained by the Cloud Native Computing Foundation (CNCF), Kubernetes serves as the industry standard for container orchestration. It provides enterprise-grade security, scalability, and reliability for cloud-native applications, offering a robust alternative to proprietary solutions like AWS ECS, Azure Container Instances, or Google Cloud Run without vendor lock-in.\u003c/p\u003e\n\u003ch2 id=\"prerequisites\" class=\"mobile-header\"\u003ePrerequisites\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eHardware Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eCPU: 2+ cores for control plane, 1+ core for worker nodes\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eRAM: 2GB+ per control plane node, 1GB+ per worker node\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eStorage: 20GB+ available disk space per node (SSD recommended)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eNetwork: Stable connectivity between all nodes (1Gbps+ recommended)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eOperating System\u003c/strong\u003e: \u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eLinux: Any modern distribution with kernel 3.10+ (4.x+ recommended)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eContainer runtime support (containerd, Docker, CRI-O)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003emacOS: Docker Desktop with Kubernetes enabled (development only)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWindows: Docker Desktop with Kubernetes enabled (development only)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eNetwork Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eUnique hostname, MAC address, and product_uuid for every node\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 6443 (Kubernetes API server)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 2379-2380 (etcd server client API)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 10250 (kubelet API)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 10259 (kube-scheduler)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 10257 (kube-controller-manager)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 30000-32767 (NodePort Services)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eDependencies\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eContainer runtime (containerd recommended)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003esystemd or compatible init system\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eiptables (for network rules)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eebtables and ethtool (for networking)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eSystem Access\u003c/strong\u003e: root or sudo privileges required\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eSpecial Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eSwap must be disabled on all nodes\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eSELinux in permissive mode (for RHEL/CentOS)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eFirewall configured to allow cluster communication\u003c/li\u003e\n\u003ch2 id=\"system-preparation-all-distributions\" class=\"mobile-header\"\u003eSystem Preparation (All Distributions)\u003c/h2\u003e\n\u003ch3 id=\"disable-swap-required\" class=\"mobile-header\"\u003eDisable Swap (Required)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Disable swap immediately\nsudo swapoff -a\n\n# Disable swap permanently\nsudo sed -i \u0026#039;/ swap / s/^\\(.*\\)$/#\\1/g\u0026#039; /etc/fstab\n\n# Verify swap is disabled\nfree -h\nswapon --show\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"configure-kernel-modules\" class=\"mobile-header\"\u003eConfigure Kernel Modules\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Load required kernel modules\ncat \u0026lt;\u0026lt;EOF | sudo tee /etc/modules-load.d/k8s.conf\noverlay\nbr_netfilter\nEOF\n\nsudo modprobe overlay\nsudo modprobe br_netfilter\n\n# Configure sysctl parameters\ncat \u0026lt;\u0026lt;EOF | sudo tee /etc/sysctl.d/k8s.conf\nnet.bridge.bridge-nf-call-iptables  = 1\nnet.bridge.bridge-nf-call-ip6tables = 1\nnet.ipv4.ip_forward                 = 1\nEOF\n\nsudo sysctl --system\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"container-runtime-installation\" class=\"mobile-header\"\u003eContainer Runtime Installation\u003c/h2\u003e\n\u003ch3 id=\"containerd-recommended\" class=\"mobile-header\"\u003econtainerd (Recommended)\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Ubuntu/Debian\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Update package list\nsudo apt-get update\n\n# Install dependencies\nsudo apt-get install -y ca-certificates curl gnupg lsb-release\n\n# Add Docker repository for containerd\nsudo mkdir -m 0755 -p /etc/apt/keyrings\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg\n\necho \u0026quot;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\u0026quot; | sudo tee /etc/apt/sources.list.d/docker.list \u0026gt; /dev/null\n\n# Install containerd\nsudo apt-get update\nsudo apt-get install -y containerd.io\n\n# Configure containerd\nsudo mkdir -p /etc/containerd\ncontainerd config default | sudo tee /etc/containerd/config.toml\n\n# Enable SystemdCgroup driver\nsudo sed -i \u0026#039;s/SystemdCgroup = false/SystemdCgroup = true/\u0026#039; /etc/containerd/config.toml\n\n# Restart and enable containerd\nsudo systemctl restart containerd\nsudo systemctl enable containerd\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### RHEL/CentOS/Rocky Linux/AlmaLinux\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install prerequisites\nsudo yum install -y yum-utils device-mapper-persistent-data lvm2\n\n# Add Docker repository\nsudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n\n# Install containerd\nsudo yum install -y containerd.io\n\n# Configure containerd\nsudo mkdir -p /etc/containerd\ncontainerd config default | sudo tee /etc/containerd/config.toml\n\n# Enable SystemdCgroup driver\nsudo sed -i \u0026#039;s/SystemdCgroup = false/SystemdCgroup = true/\u0026#039; /etc/containerd/config.toml\n\n# Restart and enable containerd\nsudo systemctl restart containerd\nsudo systemctl enable containerd\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Fedora\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install containerd\nsudo dnf install -y containerd\n\n# Configure containerd\nsudo mkdir -p /etc/containerd\ncontainerd config default | sudo tee /etc/containerd/config.toml\nsudo sed -i \u0026#039;s/SystemdCgroup = false/SystemdCgroup = true/\u0026#039; /etc/containerd/config.toml\n\n# Restart and enable containerd\nsudo systemctl restart containerd\nsudo systemctl enable containerd\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Arch Linux\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install containerd\nsudo pacman -Syu containerd\n\n# Configure containerd\nsudo mkdir -p /etc/containerd\ncontainerd config default | sudo tee /etc/containerd/config.toml\nsudo sed -i \u0026#039;s/SystemdCgroup = false/SystemdCgroup = true/\u0026#039; /etc/containerd/config.toml\n\n# Enable and start containerd\nsudo systemctl enable --now containerd\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"kubernetes-installation\" class=\"mobile-header\"\u003eKubernetes Installation\u003c/h2\u003e\n\u003ch3 id=\"kubeadm-kubelet-kubectl-installation\" class=\"mobile-header\"\u003ekubeadm, kubelet, kubectl Installation\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Ubuntu/Debian\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Update package index and install packages needed for apt to use HTTPS\nsudo apt-get update\nsudo apt-get install -y apt-transport-https ca-certificates curl gpg\n\n# Download and add the Kubernetes signing key\ncurl -fsSL https://pkgs.k8s.io/core:/stable:/v1.29/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg\n\n# Add Kubernetes repository\necho \u0026#039;deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.29/deb/ /\u0026#039; | sudo tee /etc/apt/sources.list.d/kubernetes.list\n\n# Update package index and install Kubernetes components\nsudo apt-get update\nsudo apt-get install -y kubelet kubeadm kubectl\n\n# Hold packages to prevent automatic updates\nsudo apt-mark hold kubelet kubeadm kubectl\n\n# Enable kubelet\nsudo systemctl enable --now kubelet\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### RHEL/CentOS/Rocky Linux/AlmaLinux/Fedora\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create Kubernetes repository\ncat \u0026lt;\u0026lt;EOF | sudo tee /etc/yum.repos.d/kubernetes.repo\n[kubernetes]\nname=Kubernetes\nbaseurl=https://pkgs.k8s.io/core:/stable:/v1.29/rpm/\nenabled=1\ngpgcheck=1\ngpgkey=https://pkgs.k8s.io/core:/stable:/v1.29/rpm/repodata/repomd.xml.key\nexclude=kubelet kubeadm kubectl cri-tools kubernetes-cni\nEOF\n\n# Set SELinux to permissive mode (required for cluster communication)\nsudo setenforce 0\nsudo sed -i \u0026#039;s/^SELINUX=enforcing$/SELINUX=permissive/\u0026#039; /etc/selinux/config\n\n# Install Kubernetes components\nsudo yum install -y kubelet kubeadm kubectl --disableexcludes=kubernetes\n\n# Enable kubelet\nsudo systemctl enable --now kubelet\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Arch Linux\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install from AUR (using yay)\nyay -S kubeadm-bin kubelet-bin kubectl-bin\n\n# Or build from source\ngit clone https://aur.archlinux.org/kubectl-bin.git\ncd kubectl-bin \u0026amp;\u0026amp; makepkg -si\n\n# Enable kubelet\nsudo systemctl enable --now kubelet\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### openSUSE/SLES\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# openSUSE Leap/Tumbleweed\nsudo zypper refresh\n\n# Add Kubernetes repository\nsudo rpm --import https://pkgs.k8s.io/core:/stable:/v1.29/rpm/repodata/repomd.xml.key\necho \u0026#039;baseurl=https://pkgs.k8s.io/core:/stable:/v1.29/rpm/\u0026#039; | sudo tee /etc/zypp/repos.d/kubernetes.repo\n\n# Install Kubernetes components\nsudo zypper install -y kubelet kubeadm kubectl\n\n# SLES 15 (requires additional modules)\nsudo SUSEConnect -p sle-module-containers/15.5/x86_64\nsudo zypper install -y kubelet kubeadm kubectl\n\n# Enable kubelet\nsudo systemctl enable --now kubelet\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Alpine Linux\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install containerd first\napk add --no-cache containerd\n\n# Add community repository for Kubernetes\necho \u0026quot;http://dl-cdn.alpinelinux.org/alpine/edge/community\u0026quot; \u0026gt;\u0026gt; /etc/apk/repositories\napk update\n\n# Install Kubernetes components (if available)\napk add --no-cache kubectl\n\n# Or install from binary\nKUBE_VERSION=\u0026quot;v1.29.0\u0026quot;\ncurl -LO \u0026quot;https://dl.k8s.io/release/${KUBE_VERSION}/bin/linux/amd64/kubectl\u0026quot;\ncurl -LO \u0026quot;https://dl.k8s.io/release/${KUBE_VERSION}/bin/linux/amd64/kubeadm\u0026quot;\ncurl -LO \u0026quot;https://dl.k8s.io/release/${KUBE_VERSION}/bin/linux/amd64/kubelet\u0026quot;\n\nchmod +x kubectl kubeadm kubelet\nsudo mv kubectl kubeadm kubelet /usr/local/bin/\n\n# Configure OpenRC service\nsudo tee /etc/init.d/kubelet \u0026gt; /dev/null \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/sbin/openrc-run\nname=\u0026quot;kubelet\u0026quot;\ncommand=\u0026quot;/usr/local/bin/kubelet\u0026quot;\ncommand_args=\u0026quot;--config=/var/lib/kubelet/config.yaml --kubeconfig=/etc/kubernetes/kubelet.conf\u0026quot;\npidfile=\u0026quot;/var/run/kubelet.pid\u0026quot;\ncommand_background=\u0026quot;yes\u0026quot;\ndepend() {\n    need net\n    after containerd\n}\nEOF\n\nsudo chmod +x /etc/init.d/kubelet\nsudo rc-update add kubelet default\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### macOS (Development Only)\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Docker Desktop\n# Download from: https://www.docker.com/products/docker-desktop\n\n# Enable Kubernetes in Docker Desktop\n# Docker Desktop → Preferences → Kubernetes → Enable Kubernetes\n\n# Install kubectl via Homebrew\nbrew install kubectl\n\n# Alternative: Install kubectl directly\ncurl -LO \u0026quot;https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/darwin/amd64/kubectl\u0026quot;\nchmod +x kubectl\nsudo mv kubectl /usr/local/bin/\n\n# Verify installation\nkubectl version --client\nkubectl cluster-info\n\n# Configure kubectl context\nkubectl config use-context docker-desktop\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### FreeBSD\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install from ports\ncd /usr/ports/sysutils/kubectl \u0026amp;\u0026amp; make install clean\n\n# Or install from packages\npkg install kubectl\n\n# Note: Full Kubernetes cluster on FreeBSD requires manual compilation\n# For development, use kubectl to connect to remote clusters\n\n# Install container runtime (if needed)\npkg install containerd\n\n# Configure kubectl for remote cluster access\nmkdir -p ~/.kube\n# Copy kubeconfig from Linux cluster to ~/.kube/config\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Windows (Development Only)\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"powershell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epowershell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-powershell\"\u003e# Method 1: Install Docker Desktop\n# Download from: https://www.docker.com/products/docker-desktop\n# Enable Kubernetes in Docker Desktop settings\n\n# Method 2: Install using Chocolatey\nchoco install kubernetes-cli\n\n# Method 3: Install using Scoop\nscoop install kubectl\n\n# Method 4: Manual installation\n# Download from https://dl.k8s.io/release/v1.29.0/bin/windows/amd64/kubectl.exe\n# Add to PATH environment variable\n\n# Enable Kubernetes in Docker Desktop\n# Docker Desktop → Settings → Kubernetes → Enable Kubernetes\n\n# Verify installation\nkubectl version --client\nkubectl cluster-info\n\n# Configure PowerShell completion (optional)\nkubectl completion powershell | Out-String | Invoke-Expression\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"initial-configuration\" class=\"mobile-header\"\u003eInitial Configuration\u003c/h2\u003e\n\u003ch3 id=\"first-run-setup\" class=\"mobile-header\"\u003eFirst-Run Setup\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e1. \u003cstrong\u003eVerify system requirements\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check if swap is disabled\nfree -h\nswapon --show\n\n# Verify required ports are available\nsudo ss -tlnp | grep -E \u0026#039;:(6443|2379|2380|10250|10259|10257)\u0026#039;\n\n# Check container runtime\nsudo systemctl status containerd\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e2. \u003cstrong\u003eConfigure container runtime\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Default containerd configuration directory\nsudo mkdir -p /etc/containerd\n\n# Generate default configuration\ncontainerd config default | sudo tee /etc/containerd/config.toml\n\n# Enable SystemdCgroup for better resource management\nsudo sed -i \u0026#039;s/SystemdCgroup = false/SystemdCgroup = true/\u0026#039; /etc/containerd/config.toml\n\n# Restart containerd with new configuration\nsudo systemctl restart containerd\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e3. \u003cstrong\u003eInitialize cluster networking\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Load required kernel modules\nsudo modprobe overlay\nsudo modprobe br_netfilter\n\n# Configure sysctl for networking\necho \u0026#039;net.bridge.bridge-nf-call-iptables=1\u0026#039; | sudo tee -a /etc/sysctl.conf\necho \u0026#039;net.ipv4.ip_forward=1\u0026#039; | sudo tee -a /etc/sysctl.conf\nsudo sysctl -p\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e4. \u003cstrong\u003eSet up kubelet configuration\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create kubelet configuration directory\nsudo mkdir -p /var/lib/kubelet\n\n# Set kubelet to automatically restart\nsudo systemctl enable kubelet\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"testing-initial-setup\" class=\"mobile-header\"\u003eTesting Initial Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Verify container runtime is working\nsudo crictl version\nsudo crictl info\n\n# Check if kubelet is ready\nsudo systemctl status kubelet\n\n# Verify kernel modules are loaded\nlsmod | grep -E \u0026#039;overlay|br_netfilter\u0026#039;\n\n# Test container runtime with a simple container\nsudo crictl pull k8s.gcr.io/pause:3.9\nsudo crictl images\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eWARNING:\u003c/strong\u003e Ensure all prerequisite steps are completed before proceeding to cluster initialization!\u003c/p\u003e\n\u003ch2 id=\"service-management\" class=\"mobile-header\"\u003eService Management\u003c/h2\u003e\n\u003ch3 id=\"systemd-rhel-debian-ubuntu-arch-opensuse\" class=\"mobile-header\"\u003esystemd (RHEL, Debian, Ubuntu, Arch, openSUSE)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable Kubernetes services to start on boot\nsudo systemctl enable kubelet\nsudo systemctl enable containerd\n\n# Start services\nsudo systemctl start containerd\nsudo systemctl start kubelet\n\n# Stop services\nsudo systemctl stop kubelet\nsudo systemctl stop containerd\n\n# Restart services\nsudo systemctl restart containerd\nsudo systemctl restart kubelet\n\n# Check service status\nsudo systemctl status kubelet\nsudo systemctl status containerd\n\n# View service logs\nsudo journalctl -u kubelet -f\nsudo journalctl -u containerd -f\n\n# Reload systemd daemon after config changes\nsudo systemctl daemon-reload\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"openrc-alpine-linux\" class=\"mobile-header\"\u003eOpenRC (Alpine Linux)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable services to start on boot\nsudo rc-update add containerd default\nsudo rc-update add kubelet default\n\n# Start services\nsudo rc-service containerd start\nsudo rc-service kubelet start\n\n# Stop services\nsudo rc-service kubelet stop\nsudo rc-service containerd stop\n\n# Restart services\nsudo rc-service containerd restart\nsudo rc-service kubelet restart\n\n# Check service status\nsudo rc-service kubelet status\nsudo rc-service containerd status\n\n# View logs\nsudo tail -f /var/log/kubelet.log\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"launchd-macos-with-docker-desktop\" class=\"mobile-header\"\u003elaunchd (macOS with Docker Desktop)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Docker Desktop manages Kubernetes services automatically\n# Use Docker Desktop interface to start/stop Kubernetes\n\n# Check Kubernetes status\nkubectl cluster-info\n\n# Restart Kubernetes through Docker Desktop\n# Docker Desktop → Preferences → Kubernetes → Reset Kubernetes Cluster\n\n# View logs through Docker Desktop\n# Docker Desktop → Troubleshoot → Clean / Purge data\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"windows-service-manager\" class=\"mobile-header\"\u003eWindows Service Manager\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"powershell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epowershell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-powershell\"\u003e# Docker Desktop manages Kubernetes services on Windows\n# Use Docker Desktop interface for management\n\n# Check Kubernetes status\nkubectl cluster-info\n\n# Restart Docker Desktop service\nRestart-Service com.docker.service\n\n# View Docker Desktop logs\nGet-EventLog -LogName Application -Source \u0026quot;Docker Desktop\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"cluster-initialization\" class=\"mobile-header\"\u003eCluster Initialization\u003c/h2\u003e\n\u003ch3 id=\"control-plane-setup-master-node\" class=\"mobile-header\"\u003eControl Plane Setup (Master Node)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Initialize cluster with security best practices\nsudo kubeadm init \\\n  --pod-network-cidr=10.244.0.0/16 \\\n  --service-cidr=10.96.0.0/12 \\\n  --apiserver-advertise-address=$(hostname -I | awk \u0026#039;{print $1}\u0026#039;) \\\n  --node-name=$(hostname) \\\n  --ignore-preflight-errors=NumCPU\n\n# Configure kubectl for regular user\nmkdir -p $HOME/.kube\nsudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config\nsudo chown $(id -u):$(id -g) $HOME/.kube/config\n\n# Alternative: Root user configuration\nexport KUBECONFIG=/etc/kubernetes/admin.conf\necho \u0026#039;export KUBECONFIG=/etc/kubernetes/admin.conf\u0026#039; \u0026gt;\u0026gt; ~/.bashrc\n\n# Verify control plane is running\nkubectl cluster-info\nkubectl get nodes\nkubectl get pods --all-namespaces\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"network-plugin-installation\" class=\"mobile-header\"\u003eNetwork Plugin Installation\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Flannel (Simple, recommended for beginners)\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Flannel CNI\nkubectl apply -f https://github.com/flannel-io/flannel/releases/latest/download/kube-flannel.yml\n\n# Verify Flannel pods are running\nkubectl get pods -n kube-flannel\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Calico (Advanced networking and network policies)\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Calico CNI\nkubectl create -f https://raw.githubusercontent.com/projectcalico/calico/v3.26.1/manifests/tigera-operator.yaml\n\n# Download and apply Calico custom resources\ncurl https://raw.githubusercontent.com/projectcalico/calico/v3.26.1/manifests/custom-resources.yaml -O\nkubectl create -f custom-resources.yaml\n\n# Verify Calico is running\nkubectl get pods -n calico-system\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Cilium (eBPF-based networking)\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Cilium CLI\nCILIUM_CLI_VERSION=$(curl -s https://raw.githubusercontent.com/cilium/cilium-cli/main/stable.txt)\nCLI_ARCH=amd64\nif [ \u0026quot;$(uname -m)\u0026quot; = \u0026quot;aarch64\u0026quot; ]; then CLI_ARCH=arm64; fi\ncurl -L --fail --remote-name-all https://github.com/cilium/cilium-cli/releases/download/${CILIUM_CLI_VERSION}/cilium-linux-${CLI_ARCH}.tar.gz{,.sha256sum}\nsha256sum --check cilium-linux-${CLI_ARCH}.tar.gz.sha256sum\nsudo tar xzvfC cilium-linux-${CLI_ARCH}.tar.gz /usr/local/bin\nrm cilium-linux-${CLI_ARCH}.tar.gz{,.sha256sum}\n\n# Install Cilium\ncilium install\n\n# Verify installation\ncilium status --wait\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"worker-node-setup\" class=\"mobile-header\"\u003eWorker Node Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# On worker nodes, use the join command from control plane initialization\n# Example (replace with your actual token and hash):\nsudo kubeadm join 192.168.1.100:6443 \\\n  --token abcdef.0123456789abcdef \\\n  --discovery-token-ca-cert-hash sha256:1234567890abcdef...\n\n# If you need to get the join command again:\n# On control plane:\nkubeadm token create --print-join-command\n\n# Verify nodes joined successfully\nkubectl get nodes -o wide\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"security-hardening-2024-best-practices\" class=\"mobile-header\"\u003eSecurity Hardening (2024 Best Practices)\u003c/h2\u003e\n\u003ch3 id=\"rbac-configuration\" class=\"mobile-header\"\u003eRBAC Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create service account with limited permissions\nkubectl create serviceaccount developer-sa -n default\n\n# Create role with specific permissions\ncat \u0026lt;\u0026lt;EOF | kubectl apply -f -\napiVersion: rbac.authorization.k8s.io/v1\nkind: Role\nmetadata:\n  namespace: default\n  name: developer-role\nrules:\n- apiGroups: [\u0026quot;\u0026quot;]\n  resources: [\u0026quot;pods\u0026quot;, \u0026quot;services\u0026quot;, \u0026quot;configmaps\u0026quot;]\n  verbs: [\u0026quot;get\u0026quot;, \u0026quot;list\u0026quot;, \u0026quot;watch\u0026quot;, \u0026quot;create\u0026quot;, \u0026quot;update\u0026quot;, \u0026quot;patch\u0026quot;, \u0026quot;delete\u0026quot;]\n- apiGroups: [\u0026quot;apps\u0026quot;]\n  resources: [\u0026quot;deployments\u0026quot;, \u0026quot;replicasets\u0026quot;]\n  verbs: [\u0026quot;get\u0026quot;, \u0026quot;list\u0026quot;, \u0026quot;watch\u0026quot;, \u0026quot;create\u0026quot;, \u0026quot;update\u0026quot;, \u0026quot;patch\u0026quot;, \u0026quot;delete\u0026quot;]\n- apiGroups: [\u0026quot;\u0026quot;]\n  resources: [\u0026quot;pods/log\u0026quot;]\n  verbs: [\u0026quot;get\u0026quot;, \u0026quot;list\u0026quot;]\nEOF\n\n# Create role binding\ncat \u0026lt;\u0026lt;EOF | kubectl apply -f -\napiVersion: rbac.authorization.k8s.io/v1\nkind: RoleBinding\nmetadata:\n  name: developer-binding\n  namespace: default\nsubjects:\n- kind: ServiceAccount\n  name: developer-sa\n  namespace: default\nroleRef:\n  kind: Role\n  name: developer-role\n  apiGroup: rbac.authorization.k8s.io\nEOF\n\n# Test RBAC configuration\nkubectl auth can-i create deployments --as=system:serviceaccount:default:developer-sa\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"pod-security-standards\" class=\"mobile-header\"\u003ePod Security Standards\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable Pod Security Standards (baseline level)\ncat \u0026lt;\u0026lt;EOF | kubectl apply -f -\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: secure-namespace\n  labels:\n    pod-security.kubernetes.io/enforce: baseline\n    pod-security.kubernetes.io/audit: baseline\n    pod-security.kubernetes.io/warn: baseline\nEOF\n\n# For restricted security (recommended for production)\ncat \u0026lt;\u0026lt;EOF | kubectl apply -f -\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: restricted-namespace\n  labels:\n    pod-security.kubernetes.io/enforce: restricted\n    pod-security.kubernetes.io/audit: restricted\n    pod-security.kubernetes.io/warn: restricted\nEOF\n\n# Example secure pod configuration\ncat \u0026lt;\u0026lt;EOF | kubectl apply -f -\napiVersion: v1\nkind: Pod\nmetadata:\n  name: secure-pod\n  namespace: restricted-namespace\nspec:\n  securityContext:\n    runAsNonRoot: true\n    runAsUser: 1000\n    runAsGroup: 3000\n    fsGroup: 2000\n    seccompProfile:\n      type: RuntimeDefault\n  containers:\n  - name: app\n    image: nginx:latest\n    securityContext:\n      allowPrivilegeEscalation: false\n      readOnlyRootFilesystem: true\n      capabilities:\n        drop:\n        - ALL\n    ports:\n    - containerPort: 80\n    volumeMounts:\n    - name: tmp-volume\n      mountPath: /tmp\n    - name: cache-volume\n      mountPath: /var/cache/nginx\n  volumes:\n  - name: tmp-volume\n    emptyDir: {}\n  - name: cache-volume\n    emptyDir: {}\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"network-policies\" class=\"mobile-header\"\u003eNetwork Policies\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Default deny all network policy\ncat \u0026lt;\u0026lt;EOF | kubectl apply -f -\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: default-deny-all\n  namespace: default\nspec:\n  podSelector: {}\n  policyTypes:\n  - Ingress\n  - Egress\nEOF\n\n# Allow specific communication\ncat \u0026lt;\u0026lt;EOF | kubectl apply -f -\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-nginx-ingress\n  namespace: default\nspec:\n  podSelector:\n    matchLabels:\n      app: nginx\n  policyTypes:\n  - Ingress\n  ingress:\n  - from:\n    - namespaceSelector:\n        matchLabels:\n          name: ingress-nginx\n    ports:\n    - protocol: TCP\n      port: 80\nEOF\n\n# Allow egress for DNS\ncat \u0026lt;\u0026lt;EOF | kubectl apply -f -\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-dns-egress\n  namespace: default\nspec:\n  podSelector: {}\n  policyTypes:\n  - Egress\n  egress:\n  - to: []\n    ports:\n    - protocol: UDP\n      port: 53\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"etcd-security\" class=\"mobile-header\"\u003eetcd Security\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check etcd encryption at rest\nkubectl get secrets --all-namespaces -o json | kubectl replace -f-\n\n# Create encryption configuration\ncat \u0026lt;\u0026lt;EOF | sudo tee /etc/kubernetes/enc.yaml\napiVersion: apiserver.config.k8s.io/v1\nkind: EncryptionConfiguration\nresources:\n- resources:\n  - secrets\n  - configmaps\n  - pandas.awesome.bears.example\n  providers:\n  - aescbc:\n      keys:\n      - name: key1\n        secret: $(head -c 32 /dev/urandom | base64)\n  - identity: {}\nEOF\n\n# Update kube-apiserver configuration\nsudo sed -i \u0026#039;/--encryption-provider-config=/d\u0026#039; /etc/kubernetes/manifests/kube-apiserver.yaml\nsudo sed -i \u0026#039;/- kube-apiserver/a\\    - --encryption-provider-config=/etc/kubernetes/enc.yaml\u0026#039; /etc/kubernetes/manifests/kube-apiserver.yaml\n\n# Mount encryption config in kube-apiserver\nsudo sed -i \u0026#039;/volumeMounts:/a\\    - mountPath: /etc/kubernetes/enc.yaml\\n      name: encryption-config\\n      readOnly: true\u0026#039; /etc/kubernetes/manifests/kube-apiserver.yaml\nsudo sed -i \u0026#039;/volumes:/a\\  - hostPath:\\n      path: /etc/kubernetes/enc.yaml\\n      type: FileOrCreate\\n    name: encryption-config\u0026#039; /etc/kubernetes/manifests/kube-apiserver.yaml\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"alternative-installation-methods\" class=\"mobile-header\"\u003eAlternative Installation Methods\u003c/h2\u003e\n\u003ch3 id=\"k3s-lightweight-kubernetes\" class=\"mobile-header\"\u003ek3s (Lightweight Kubernetes)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install k3s on control plane\ncurl -sfL https://get.k3s.io | sh -s - --write-kubeconfig-mode 644\n\n# Get node token for workers\nsudo cat /var/lib/rancher/k3s/server/node-token\n\n# Install on worker nodes\ncurl -sfL https://get.k3s.io | K3S_URL=https://myserver:6443 K3S_TOKEN=mynodetoken sh -\n\n# Configure kubectl\nmkdir -p ~/.kube\nsudo cp /etc/rancher/k3s/k3s.yaml ~/.kube/config\nsudo chown $(id -u):$(id -g) ~/.kube/config\nexport KUBECONFIG=~/.kube/config\n\n# Verify cluster\nkubectl get nodes\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"k0s-zero-deps-kubernetes\" class=\"mobile-header\"\u003ek0s (Zero-deps Kubernetes)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Download k0s\ncurl -sSLf https://get.k0s.sh | sudo sh\n\n# Initialize controller\nsudo k0s install controller --single\n\n# Start k0s\nsudo systemctl start k0scontroller\n\n# Generate worker join token\nsudo k0s token create --role=worker\n\n# On worker nodes:\nsudo k0s install worker --token-file /path/to/token/file\nsudo systemctl start k0sworker\n\n# Configure kubectl\nmkdir -p ~/.kube\nsudo k0s kubeconfig admin \u0026gt; ~/.kube/config\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"microk8s-ubuntusnap\" class=\"mobile-header\"\u003eMicroK8s (Ubuntu/Snap)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install MicroK8s\nsudo snap install microk8s --classic\n\n# Add user to microk8s group\nsudo usermod -a -G microk8s $USER\nsudo chown -f -R $USER ~/.kube\nnewgrp microk8s\n\n# Enable essential addons\nmicrok8s enable dns dashboard storage\n\n# Configure kubectl alias\necho \u0026#039;alias kubectl=\u0026quot;microk8s kubectl\u0026quot;\u0026#039; \u0026gt;\u0026gt; ~/.bashrc\nsource ~/.bashrc\n\n# Get cluster info\nmicrok8s kubectl cluster-info\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"minikube-development\" class=\"mobile-header\"\u003eMinikube (Development)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install minikube\ncurl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64\nsudo install minikube-linux-amd64 /usr/local/bin/minikube\n\n# Start cluster with specific configuration\nminikube start \\\n  --driver=containerd \\\n  --cpus=4 \\\n  --memory=8g \\\n  --disk-size=50g \\\n  --kubernetes-version=v1.29.0\n\n# Enable addons\nminikube addons enable dashboard\nminikube addons enable metrics-server\nminikube addons enable ingress\nminikube addons enable registry\n\n# Configure kubectl context\nkubectl config use-context minikube\n\n# Access dashboard\nminikube dashboard\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"essential-add-ons-installation\" class=\"mobile-header\"\u003eEssential Add-ons Installation\u003c/h2\u003e\n\u003ch3 id=\"metrics-server\" class=\"mobile-header\"\u003eMetrics Server\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install metrics-server for resource monitoring\nkubectl apply -f https://github.com/kubernetes-sigs/metrics-server/releases/latest/download/components.yaml\n\n# For development clusters, may need to add --kubelet-insecure-tls\nkubectl patch deployment metrics-server -n kube-system --type=\u0026#039;json\u0026#039; -p=\u0026#039;[{\u0026quot;op\u0026quot;: \u0026quot;add\u0026quot;, \u0026quot;path\u0026quot;: \u0026quot;/spec/template/spec/containers/0/args/-\u0026quot;, \u0026quot;value\u0026quot;: \u0026quot;--kubelet-insecure-tls\u0026quot;}]\u0026#039;\n\n# Verify metrics server\nkubectl top nodes\nkubectl top pods --all-namespaces\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"kubernetes-dashboard\" class=\"mobile-header\"\u003eKubernetes Dashboard\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install dashboard\nkubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v2.7.0/aio/deploy/recommended.yaml\n\n# Create admin service account\ncat \u0026lt;\u0026lt;EOF | kubectl apply -f -\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: admin-user\n  namespace: kubernetes-dashboard\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: admin-user\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: cluster-admin\nsubjects:\n- kind: ServiceAccount\n  name: admin-user\n  namespace: kubernetes-dashboard\nEOF\n\n# Get access token\nkubectl -n kubernetes-dashboard create token admin-user\n\n# Access dashboard\nkubectl proxy \u0026amp;\n# Visit: http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:/proxy/\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"ingress-controller-nginx\" class=\"mobile-header\"\u003eIngress Controller (NGINX)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install NGINX Ingress Controller\nkubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.2/deploy/static/provider/cloud/deploy.yaml\n\n# For bare metal installations\nkubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.2/deploy/static/provider/baremetal/deploy.yaml\n\n# Verify installation\nkubectl get pods -n ingress-nginx\nkubectl get svc -n ingress-nginx\n\n# Create sample ingress\ncat \u0026lt;\u0026lt;EOF | kubectl apply -f -\napiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: example-ingress\n  annotations:\n    nginx.ingress.kubernetes.io/rewrite-target: /\n    nginx.ingress.kubernetes.io/ssl-redirect: \u0026quot;true\u0026quot;\nspec:\n  ingressClassName: nginx\n  tls:\n  - hosts:\n    - example.com\n    secretName: example-tls\n  rules:\n  - host: example.com\n    http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: web-service\n            port:\n              number: 80\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"reverse-proxy-setup\" class=\"mobile-header\"\u003eReverse Proxy Setup\u003c/h2\u003e\n\u003ch3 id=\"nginx-ingress-controller-configuration\" class=\"mobile-header\"\u003eNGINX Ingress Controller Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install NGINX Ingress Controller with custom configuration\ncat \u0026lt;\u0026lt;EOF | kubectl apply -f -\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: ingress-nginx\n---\napiVersion: helm.cattle.io/v1\nkind: HelmChart\nmetadata:\n  name: ingress-nginx\n  namespace: ingress-nginx\nspec:\n  chart: ingress-nginx\n  repo: https://kubernetes.github.io/ingress-nginx\n  targetNamespace: ingress-nginx\n  valuesContent: |-\n    controller:\n      replicaCount: 2\n      service:\n        type: LoadBalancer\n        externalTrafficPolicy: Local\n      config:\n        ssl-redirect: \u0026quot;true\u0026quot;\n        force-ssl-redirect: \u0026quot;true\u0026quot;\n        ssl-protocols: \u0026quot;TLSv1.2 TLSv1.3\u0026quot;\n        ssl-ciphers: \u0026quot;ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384\u0026quot;\n        client-body-buffer-size: \u0026quot;64k\u0026quot;\n        client-body-timeout: \u0026quot;60\u0026quot;\n        client-header-timeout: \u0026quot;60\u0026quot;\n        large-client-header-buffers: \u0026quot;4 64k\u0026quot;\n        proxy-body-size: \u0026quot;50m\u0026quot;\n        server-name-hash-bucket-size: \u0026quot;128\u0026quot;\n      metrics:\n        enabled: true\n        serviceMonitor:\n          enabled: true\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"traefik-ingress-controller\" class=\"mobile-header\"\u003eTraefik Ingress Controller\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Traefik with custom configuration\ncat \u0026lt;\u0026lt;EOF | kubectl apply -f -\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: traefik-system\n---\napiVersion: argoproj.io/v1alpha1\nkind: Application\nmetadata:\n  name: traefik\n  namespace: argocd\nspec:\n  project: default\n  source:\n    chart: traefik\n    repoURL: https://traefik.github.io/charts\n    targetRevision: 21.1.0\n    helm:\n      values: |\n        deployment:\n          replicas: 2\n        service:\n          type: LoadBalancer\n        ingressRoute:\n          dashboard:\n            enabled: true\n        logs:\n          general:\n            level: INFO\n          access:\n            enabled: true\n        metrics:\n          prometheus:\n            enabled: true\n        certificatesResolvers:\n          letsencrypt:\n            acme:\n              email: admin@example.com\n              storage: /data/acme.json\n              httpChallenge:\n                entryPoint: web\n  destination:\n    server: https://kubernetes.default.svc\n    namespace: traefik-system\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"haproxy-load-balancer-for-api-server\" class=\"mobile-header\"\u003eHAProxy Load Balancer for API Server\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install HAProxy for external load balancing\ncat \u0026lt;\u0026lt;EOF | kubectl apply -f -\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: haproxy-config\n  namespace: kube-system\ndata:\n  haproxy.cfg: |\n    global\n        log stdout local0\n        daemon\n        \n    defaults\n        mode tcp\n        log global\n        option tcplog\n        timeout connect 5000ms\n        timeout client 50000ms\n        timeout server 50000ms\n        \n    frontend k8s-api-frontend\n        bind *:6443\n        mode tcp\n        default_backend k8s-api-backend\n        \n    backend k8s-api-backend\n        mode tcp\n        balance roundrobin\n        option tcp-check\n        server master1 10.0.1.10:6443 check\n        server master2 10.0.1.11:6443 check\n        server master3 10.0.1.12:6443 check\n---\napiVersion: apps/v1\nkind: DaemonSet\nmetadata:\n  name: haproxy-lb\n  namespace: kube-system\nspec:\n  selector:\n    matchLabels:\n      app: haproxy-lb\n  template:\n    metadata:\n      labels:\n        app: haproxy-lb\n    spec:\n      hostNetwork: true\n      containers:\n      - name: haproxy\n        image: haproxy:2.8-alpine\n        ports:\n        - containerPort: 6443\n          hostPort: 6443\n        volumeMounts:\n        - name: haproxy-config\n          mountPath: /usr/local/etc/haproxy\n      volumes:\n      - name: haproxy-config\n        configMap:\n          name: haproxy-config\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"database-setup\" class=\"mobile-header\"\u003eDatabase Setup\u003c/h2\u003e\n\u003ch3 id=\"postgresql-statefulset-with-ha\" class=\"mobile-header\"\u003ePostgreSQL StatefulSet with HA\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Deploy PostgreSQL cluster with replication\ncat \u0026lt;\u0026lt;EOF | kubectl apply -f -\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: postgresql\n---\napiVersion: postgresql.cnpg.io/v1\nkind: Cluster\nmetadata:\n  name: postgresql-cluster\n  namespace: postgresql\nspec:\n  instances: 3\n  primaryUpdateStrategy: unsupervised\n  \n  postgresql:\n    parameters:\n      max_connections: \u0026quot;200\u0026quot;\n      shared_buffers: \u0026quot;256MB\u0026quot;\n      effective_cache_size: \u0026quot;1GB\u0026quot;\n      maintenance_work_mem: \u0026quot;64MB\u0026quot;\n      checkpoint_completion_target: \u0026quot;0.9\u0026quot;\n      wal_buffers: \u0026quot;16MB\u0026quot;\n      default_statistics_target: \u0026quot;100\u0026quot;\n      random_page_cost: \u0026quot;1.1\u0026quot;\n      effective_io_concurrency: \u0026quot;200\u0026quot;\n      \n  bootstrap:\n    initdb:\n      database: app_database\n      owner: app_user\n      secret:\n        name: postgresql-credentials\n        \n  storage:\n    storageClass: \u0026quot;fast-ssd\u0026quot;\n    size: \u0026quot;100Gi\u0026quot;\n    \n  monitoring:\n    enabled: true\n    \n  backup:\n    retentionPolicy: \u0026quot;30d\u0026quot;\n    barmanObjectStore:\n      destinationPath: s3://postgresql-backups/cluster1\n      s3Credentials:\n        accessKeyId:\n          name: backup-credentials\n          key: ACCESS_KEY_ID\n        secretAccessKey:\n          name: backup-credentials\n          key: SECRET_ACCESS_KEY\n      wal:\n        retention: \u0026quot;5d\u0026quot;\n      data:\n        retention: \u0026quot;30d\u0026quot;\n---\napiVersion: v1\nkind: Secret\nmetadata:\n  name: postgresql-credentials\n  namespace: postgresql\ntype: kubernetes.io/basic-auth\ndata:\n  username: $(echo -n \u0026#039;app_user\u0026#039; | base64)\n  password: $(echo -n \u0026#039;secure_database_password_123!\u0026#039; | base64)\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"mysql-cluster-with-percona-operator\" class=\"mobile-header\"\u003eMySQL Cluster with Percona Operator\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Deploy MySQL cluster using Percona Operator\ncat \u0026lt;\u0026lt;EOF | kubectl apply -f -\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: mysql\n---\napiVersion: pxc.percona.com/v1-12-0\nkind: PerconaXtraDBCluster\nmetadata:\n  name: mysql-cluster\n  namespace: mysql\nspec:\n  crVersion: 1.12.0\n  allowUnsafeConfigurations: false\n  secretsName: mysql-secrets\n  vaultSecretName: \u0026quot;\u0026quot;\n  sslSecretName: \u0026quot;\u0026quot;\n  sslInternalSecretName: \u0026quot;\u0026quot;\n  logCollectorSecretName: \u0026quot;\u0026quot;\n  \n  pxc:\n    size: 3\n    image: percona/percona-xtradb-cluster:8.0.32-24.2\n    autoRecovery: true\n    configuration: |\n      [mysqld]\n      wsrep_provider_options=\u0026quot;debug=1;gcache.size=1G;gcache.page_size=1G\u0026quot;\n      wsrep_debug=1\n      wsrep_cluster_address=gcomm://\n      binlog_format=ROW\n      default_storage_engine=InnoDB\n      innodb_autoinc_lock_mode=2\n      innodb_locks_unsafe_for_binlog=1\n      max_connections=350\n      innodb_buffer_pool_size=512M\n      \n    resources:\n      requests:\n        memory: 1G\n        cpu: 600m\n      limits:\n        memory: 1G\n        cpu: \u0026quot;1\u0026quot;\n        \n    volumeSpec:\n      persistentVolumeClaim:\n        storageClassName: fast-ssd\n        accessModes: [ \u0026quot;ReadWriteOnce\u0026quot; ]\n        resources:\n          requests:\n            storage: 80Gi\n            \n    affinity:\n      antiAffinityTopologyKey: \u0026quot;kubernetes.io/hostname\u0026quot;\n      \n  haproxy:\n    enabled: true\n    size: 2\n    image: percona/percona-xtradb-cluster-operator:1.12.0-haproxy\n    \n    resources:\n      requests:\n        memory: 256M\n        cpu: 250m\n      limits:\n        memory: 256M\n        cpu: 500m\n        \n  proxysql:\n    enabled: false\n    \n  backup:\n    image: percona/percona-xtradb-cluster-operator:1.12.0-pxc8.0-backup\n    schedule:\n      - name: \u0026quot;daily-backup\u0026quot;\n        schedule: \u0026quot;0 2 * * *\u0026quot;\n        keep: 7\n        storageName: s3-backup-storage\n        \n---\napiVersion: v1\nkind: Secret\nmetadata:\n  name: mysql-secrets\n  namespace: mysql\ntype: Opaque\ndata:\n  root: $(echo -n \u0026#039;secure_mysql_root_password!\u0026#039; | base64)\n  xtrabackup: $(echo -n \u0026#039;backup_password_123!\u0026#039; | base64)\n  monitor: $(echo -n \u0026#039;monitor_user_password!\u0026#039; | base64)\n  clustercheck: $(echo -n \u0026#039;cluster_check_password!\u0026#039; | base64)\n  proxysql: $(echo -n \u0026#039;proxysql_admin_password!\u0026#039; | base64)\n  operator: $(echo -n \u0026#039;operator_user_password!\u0026#039; | base64)\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"redis-cluster-deployment\" class=\"mobile-header\"\u003eRedis Cluster Deployment\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Deploy Redis cluster with Redis Operator\ncat \u0026lt;\u0026lt;EOF | kubectl apply -f -\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: redis\n---\napiVersion: redis.redis.opstreelabs.in/v1beta1\nkind: RedisCluster\nmetadata:\n  name: redis-cluster\n  namespace: redis\nspec:\n  clusterSize: 6\n  clusterVersion: v7\n  persistenceEnabled: true\n  redisSecret:\n    name: redis-secret\n    key: password\n  redisConfig:\n    redis-config: |\n      maxmemory 512mb\n      maxmemory-policy allkeys-lru\n      save 900 1\n      save 300 10\n      save 60 10000\n      tcp-keepalive 60\n      tcp-backlog 8192\n      timeout 300\n      \n  storage:\n    volumeClaimTemplate:\n      spec:\n        accessModes: [\u0026quot;ReadWriteOnce\u0026quot;]\n        storageClassName: fast-ssd\n        resources:\n          requests:\n            storage: 50Gi\n            \n  resources:\n    requests:\n      memory: 512Mi\n      cpu: 250m\n    limits:\n      memory: 512Mi\n      cpu: 500m\n      \n  nodeSelector:\n    node-type: \u0026quot;redis-optimized\u0026quot;\n    \n  podSecurityContext:\n    runAsUser: 1000\n    runAsGroup: 1000\n    fsGroup: 1000\n    \n  securityContext:\n    allowPrivilegeEscalation: false\n    readOnlyRootFilesystem: true\n    runAsNonRoot: true\n    capabilities:\n      drop:\n      - ALL\n---\napiVersion: v1\nkind: Secret\nmetadata:\n  name: redis-secret\n  namespace: redis\ntype: Opaque\ndata:\n  password: $(echo -n \u0026#039;secure_redis_password_123!\u0026#039; | base64)\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"storage-configuration\" class=\"mobile-header\"\u003eStorage Configuration\u003c/h2\u003e\n\u003ch3 id=\"persistent-volumes-and-storage-classes\" class=\"mobile-header\"\u003ePersistent Volumes and Storage Classes\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create local storage class\ncat \u0026lt;\u0026lt;EOF | kubectl apply -f -\napiVersion: storage.k8s.io/v1\nkind: StorageClass\nmetadata:\n  name: local-storage\nprovisioner: kubernetes.io/no-provisioner\nvolumeBindingMode: WaitForFirstConsumer\nallowVolumeExpansion: true\nreclaimPolicy: Delete\nEOF\n\n# Create persistent volume\ncat \u0026lt;\u0026lt;EOF | kubectl apply -f -\napiVersion: v1\nkind: PersistentVolume\nmetadata:\n  name: local-pv-1\nspec:\n  capacity:\n    storage: 10Gi\n  volumeMode: Filesystem\n  accessModes:\n  - ReadWriteOnce\n  persistentVolumeReclaimPolicy: Delete\n  storageClassName: local-storage\n  local:\n    path: /mnt/disk1\n  nodeAffinity:\n    required:\n      nodeSelectorTerms:\n      - matchExpressions:\n        - key: kubernetes.io/hostname\n          operator: In\n          values:\n          - node-1\nEOF\n\n# Create persistent volume claim\ncat \u0026lt;\u0026lt;EOF | kubectl apply -f -\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: app-data-pvc\nspec:\n  accessModes:\n  - ReadWriteOnce\n  storageClassName: local-storage\n  resources:\n    requests:\n      storage: 5Gi\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"nfs-storage-shared-volumes\" class=\"mobile-header\"\u003eNFS Storage (Shared volumes)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install NFS client utilities (all nodes)\n# Ubuntu/Debian\nsudo apt install -y nfs-common\n\n# RHEL/CentOS\nsudo yum install -y nfs-utils\n\n# Create NFS storage class\ncat \u0026lt;\u0026lt;EOF | kubectl apply -f -\napiVersion: storage.k8s.io/v1\nkind: StorageClass\nmetadata:\n  name: nfs-storage\nprovisioner: example.com/nfs\nparameters:\n  server: 192.168.1.200\n  path: /exported/path\n  readOnly: \u0026quot;false\u0026quot;\nreclaimPolicy: Retain\nallowVolumeExpansion: true\nmountOptions:\n  - hard\n  - nfsvers=4.1\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"firewall-configuration-cross-platform\" class=\"mobile-header\"\u003eFirewall Configuration (Cross-Platform)\u003c/h2\u003e\n\u003ch3 id=\"required-ports\" class=\"mobile-header\"\u003eRequired Ports\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Control plane ports\nsudo firewall-cmd --permanent --add-port=6443/tcp    # API server\nsudo firewall-cmd --permanent --add-port=2379-2380/tcp  # etcd\nsudo firewall-cmd --permanent --add-port=10250/tcp  # kubelet\nsudo firewall-cmd --permanent --add-port=10259/tcp  # kube-scheduler\nsudo firewall-cmd --permanent --add-port=10257/tcp  # kube-controller-manager\n\n# Worker node ports\nsudo firewall-cmd --permanent --add-port=10250/tcp  # kubelet\nsudo firewall-cmd --permanent --add-port=30000-32767/tcp  # NodePort services\n\n# CNI ports (Flannel)\nsudo firewall-cmd --permanent --add-port=8285/udp   # Flannel\nsudo firewall-cmd --permanent --add-port=8472/udp   # Flannel VXLAN\n\nsudo firewall-cmd --reload\n\n# UFW (Ubuntu/Debian)\nsudo ufw allow 6443/tcp\nsudo ufw allow 2379:2380/tcp\nsudo ufw allow 10250/tcp\nsudo ufw allow 10259/tcp\nsudo ufw allow 10257/tcp\nsudo ufw allow 30000:32767/tcp\nsudo ufw allow 8285/udp\nsudo ufw allow 8472/udp\n\n# iptables (manual configuration)\nsudo iptables -A INPUT -p tcp --dport 6443 -j ACCEPT\nsudo iptables -A INPUT -p tcp --dport 2379:2380 -j ACCEPT\nsudo iptables -A INPUT -p tcp --dport 10250 -j ACCEPT\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"selinux-configuration-rhelcentos\" class=\"mobile-header\"\u003eSELinux Configuration (RHEL/CentOS)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure SELinux for Kubernetes\nsudo setenforce 0\nsudo sed -i \u0026#039;s/^SELINUX=enforcing$/SELINUX=permissive/\u0026#039; /etc/selinux/config\n\n# Alternative: Configure SELinux policies instead of disabling\nsudo setsebool -P container_manage_cgroup true\nsudo setsebool -P container_use_cgroup true\n\n# Install SELinux policies for containers\nsudo yum install -y container-selinux\n\n# Check for denials\nsudo ausearch -m AVC,USER_AVC -ts recent\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"high-availability-setup\" class=\"mobile-header\"\u003eHigh Availability Setup\u003c/h2\u003e\n\u003ch3 id=\"multi-master-cluster-with-kubeadm\" class=\"mobile-header\"\u003eMulti-Master Cluster with kubeadm\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# On first control plane node\nsudo kubeadm init \\\n  --control-plane-endpoint=\u0026quot;k8s-cluster.example.com:6443\u0026quot; \\\n  --upload-certs \\\n  --pod-network-cidr=10.244.0.0/16\n\n# Note the commands to join additional control plane nodes and workers\n\n# On additional control plane nodes:\nsudo kubeadm join k8s-cluster.example.com:6443 \\\n  --token abcdef.0123456789abcdef \\\n  --discovery-token-ca-cert-hash sha256:1234... \\\n  --control-plane \\\n  --certificate-key 1234...\n\n# Configure load balancer (HAProxy example)\ncat \u0026lt;\u0026lt;EOF | sudo tee /etc/haproxy/haproxy.cfg\nglobal\n    log stdout local0\n    chroot /var/lib/haproxy\n    stats socket /run/haproxy/admin.sock mode 660 level admin\n    stats timeout 30s\n    user haproxy\n    group haproxy\n    daemon\n\ndefaults\n    mode tcp\n    log global\n    option tcplog\n    option dontlognull\n    timeout connect 5000\n    timeout client 50000\n    timeout server 50000\n\nfrontend k8s-api\n    bind *:6443\n    mode tcp\n    default_backend k8s-api-backend\n\nbackend k8s-api-backend\n    mode tcp\n    balance roundrobin\n    server k8s-master-1 192.168.1.101:6443 check\n    server k8s-master-2 192.168.1.102:6443 check\n    server k8s-master-3 192.168.1.103:6443 check\nEOF\n\nsudo systemctl restart haproxy\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"external-etcd-cluster\" class=\"mobile-header\"\u003eExternal etcd Cluster\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install etcd on dedicated nodes\nETCD_VER=v3.5.9\ncurl -L https://github.com/etcd-io/etcd/releases/download/${ETCD_VER}/etcd-${ETCD_VER}-linux-amd64.tar.gz -o etcd-${ETCD_VER}-linux-amd64.tar.gz\ntar xzf etcd-${ETCD_VER}-linux-amd64.tar.gz\nsudo mv etcd-${ETCD_VER}-linux-amd64/{etcd,etcdctl} /usr/local/bin/\n\n# Create etcd configuration\nsudo tee /etc/systemd/system/etcd.service \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n[Unit]\nDescription=etcd\nDocumentation=https://github.com/coreos\n\n[Service]\nType=notify\nUser=etcd\nExecStart=/usr/local/bin/etcd \\\\\n  --name=etcd-1 \\\\\n  --data-dir=/var/lib/etcd \\\\\n  --listen-client-urls=https://192.168.1.201:2379 \\\\\n  --advertise-client-urls=https://192.168.1.201:2379 \\\\\n  --listen-peer-urls=https://192.168.1.201:2380 \\\\\n  --initial-advertise-peer-urls=https://192.168.1.201:2380 \\\\\n  --initial-cluster=etcd-1=https://192.168.1.201:2380,etcd-2=https://192.168.1.202:2380,etcd-3=https://192.168.1.203:2380 \\\\\n  --initial-cluster-token=etcd-cluster-1 \\\\\n  --initial-cluster-state=new \\\\\n  --cert-file=/etc/etcd/pki/server.crt \\\\\n  --key-file=/etc/etcd/pki/server.key \\\\\n  --peer-cert-file=/etc/etcd/pki/peer.crt \\\\\n  --peer-key-file=/etc/etcd/pki/peer.key \\\\\n  --trusted-ca-file=/etc/etcd/pki/ca.crt \\\\\n  --peer-trusted-ca-file=/etc/etcd/pki/ca.crt \\\\\n  --peer-client-cert-auth \\\\\n  --client-cert-auth\nRestart=on-failure\nRestartSec=5\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n# Create etcd user and directories\nsudo useradd -r etcd\nsudo mkdir -p /var/lib/etcd /etc/etcd/pki\nsudo chown etcd:etcd /var/lib/etcd\nsudo systemctl enable --now etcd\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"application-deployment-examples\" class=\"mobile-header\"\u003eApplication Deployment Examples\u003c/h2\u003e\n\u003ch3 id=\"secure-application-deployment\" class=\"mobile-header\"\u003eSecure Application Deployment\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create namespace with network policies\ncat \u0026lt;\u0026lt;EOF | kubectl apply -f -\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: myapp\n  labels:\n    pod-security.kubernetes.io/enforce: restricted\n    pod-security.kubernetes.io/audit: restricted\n    pod-security.kubernetes.io/warn: restricted\n---\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: myapp-sa\n  namespace: myapp\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: Role\nmetadata:\n  namespace: myapp\n  name: myapp-role\nrules:\n- apiGroups: [\u0026quot;\u0026quot;]\n  resources: [\u0026quot;configmaps\u0026quot;, \u0026quot;secrets\u0026quot;]\n  verbs: [\u0026quot;get\u0026quot;, \u0026quot;list\u0026quot;]\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: RoleBinding\nmetadata:\n  name: myapp-rolebinding\n  namespace: myapp\nsubjects:\n- kind: ServiceAccount\n  name: myapp-sa\n  namespace: myapp\nroleRef:\n  kind: Role\n  name: myapp-role\n  apiGroup: rbac.authorization.k8s.io\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: myapp-deployment\n  namespace: myapp\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: myapp\n  template:\n    metadata:\n      labels:\n        app: myapp\n    spec:\n      serviceAccountName: myapp-sa\n      securityContext:\n        runAsNonRoot: true\n        runAsUser: 1000\n        runAsGroup: 3000\n        fsGroup: 2000\n        seccompProfile:\n          type: RuntimeDefault\n      containers:\n      - name: app\n        image: nginx:alpine\n        ports:\n        - containerPort: 80\n        securityContext:\n          allowPrivilegeEscalation: false\n          readOnlyRootFilesystem: true\n          capabilities:\n            drop:\n            - ALL\n        resources:\n          requests:\n            memory: \u0026quot;64Mi\u0026quot;\n            cpu: \u0026quot;250m\u0026quot;\n          limits:\n            memory: \u0026quot;128Mi\u0026quot;\n            cpu: \u0026quot;500m\u0026quot;\n        livenessProbe:\n          httpGet:\n            path: /\n            port: 80\n          initialDelaySeconds: 30\n          periodSeconds: 10\n        readinessProbe:\n          httpGet:\n            path: /\n            port: 80\n          initialDelaySeconds: 5\n          periodSeconds: 5\n        volumeMounts:\n        - name: tmp-volume\n          mountPath: /tmp\n        - name: cache-volume\n          mountPath: /var/cache/nginx\n      volumes:\n      - name: tmp-volume\n        emptyDir: {}\n      - name: cache-volume\n        emptyDir: {}\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: myapp-service\n  namespace: myapp\nspec:\n  selector:\n    app: myapp\n  ports:\n  - port: 80\n    targetPort: 80\n  type: ClusterIP\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"statefulset-with-persistent-storage\" class=\"mobile-header\"\u003eStatefulSet with Persistent Storage\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Deploy StatefulSet application (database example)\ncat \u0026lt;\u0026lt;EOF | kubectl apply -f -\napiVersion: apps/v1\nkind: StatefulSet\nmetadata:\n  name: mysql-statefulset\n  namespace: myapp\nspec:\n  serviceName: mysql-service\n  replicas: 3\n  selector:\n    matchLabels:\n      app: mysql\n  template:\n    metadata:\n      labels:\n        app: mysql\n    spec:\n      securityContext:\n        runAsUser: 999\n        runAsGroup: 999\n        fsGroup: 999\n      containers:\n      - name: mysql\n        image: mysql:8.0\n        ports:\n        - containerPort: 3306\n          name: mysql\n        env:\n        - name: MYSQL_ROOT_PASSWORD\n          valueFrom:\n            secretKeyRef:\n              name: mysql-secret\n              key: root-password\n        volumeMounts:\n        - name: mysql-storage\n          mountPath: /var/lib/mysql\n        resources:\n          requests:\n            memory: \u0026quot;1Gi\u0026quot;\n            cpu: \u0026quot;500m\u0026quot;\n          limits:\n            memory: \u0026quot;2Gi\u0026quot;\n            cpu: \u0026quot;1000m\u0026quot;\n  volumeClaimTemplates:\n  - metadata:\n      name: mysql-storage\n    spec:\n      accessModes: [\u0026quot;ReadWriteOnce\u0026quot;]\n      storageClassName: \u0026quot;local-storage\u0026quot;\n      resources:\n        requests:\n          storage: 10Gi\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: mysql-service\n  namespace: myapp\nspec:\n  clusterIP: None\n  selector:\n    app: mysql\n  ports:\n  - port: 3306\n    targetPort: 3306\n---\napiVersion: v1\nkind: Secret\nmetadata:\n  name: mysql-secret\n  namespace: myapp\ntype: Opaque\ndata:\n  root-password: $(echo -n \u0026#039;secure_mysql_password\u0026#039; | base64)\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"backup-and-disaster-recovery\" class=\"mobile-header\"\u003eBackup and Disaster Recovery\u003c/h2\u003e\n\u003ch3 id=\"etcd-backup\" class=\"mobile-header\"\u003eetcd Backup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create etcd backup script\nsudo tee /usr/local/bin/etcd-backup.sh \u0026gt; /dev/null \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\nBACKUP_DIR=\u0026quot;/backup/etcd\u0026quot;\nDATE=$(date +%Y%m%d_%H%M%S)\n\nmkdir -p ${BACKUP_DIR}\n\n# Create etcd snapshot\nETCDCTL_API=3 etcdctl snapshot save ${BACKUP_DIR}/etcd-backup-${DATE}.db \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=/etc/kubernetes/pki/etcd/ca.crt \\\n  --cert=/etc/kubernetes/pki/etcd/server.crt \\\n  --key=/etc/kubernetes/pki/etcd/server.key\n\n# Verify snapshot\nETCDCTL_API=3 etcdctl snapshot status ${BACKUP_DIR}/etcd-backup-${DATE}.db -w table\n\n# Keep only last 7 backups\nfind ${BACKUP_DIR} -name \u0026quot;etcd-backup-*.db\u0026quot; -type f -mtime +7 -delete\n\necho \u0026quot;etcd backup completed: etcd-backup-${DATE}.db\u0026quot;\nEOF\n\nsudo chmod +x /usr/local/bin/etcd-backup.sh\n\n# Schedule backup\necho \u0026quot;0 2 * * * root /usr/local/bin/etcd-backup.sh\u0026quot; | sudo tee -a /etc/crontab\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"cluster-state-backup\" class=\"mobile-header\"\u003eCluster State Backup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Backup all cluster resources\nkubectl get all --all-namespaces -o yaml \u0026gt; cluster-backup-$(date +%Y%m%d).yaml\n\n# Backup specific resource types\nkubectl get configmaps,secrets,persistentvolumes,persistentvolumeclaims --all-namespaces -o yaml \u0026gt; cluster-data-backup-$(date +%Y%m%d).yaml\n\n# Create backup script for all resources\nsudo tee /usr/local/bin/k8s-backup.sh \u0026gt; /dev/null \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\nBACKUP_DIR=\u0026quot;/backup/kubernetes\u0026quot;\nDATE=$(date +%Y%m%d_%H%M%S)\n\nmkdir -p ${BACKUP_DIR}\n\n# Backup all cluster resources\nkubectl get all --all-namespaces -o yaml \u0026gt; ${BACKUP_DIR}/cluster-all-${DATE}.yaml\n\n# Backup critical resources separately\nkubectl get configmaps,secrets,persistentvolumes,persistentvolumeclaims --all-namespaces -o yaml \u0026gt; ${BACKUP_DIR}/cluster-data-${DATE}.yaml\n\n# Backup custom resources\nkubectl get crd -o yaml \u0026gt; ${BACKUP_DIR}/cluster-crd-${DATE}.yaml\n\n# Backup RBAC\nkubectl get clusterroles,clusterrolebindings,roles,rolebindings --all-namespaces -o yaml \u0026gt; ${BACKUP_DIR}/cluster-rbac-${DATE}.yaml\n\n# etcd backup\n/usr/local/bin/etcd-backup.sh\n\n# Compress backups\ntar -czf ${BACKUP_DIR}/k8s-complete-backup-${DATE}.tar.gz ${BACKUP_DIR}/*-${DATE}.yaml\n\n# Keep only last 7 backups\nfind ${BACKUP_DIR} -name \u0026quot;*-${DATE:0:8}*\u0026quot; -type f -mtime +7 -delete\n\necho \u0026quot;Kubernetes backup completed: ${DATE}\u0026quot;\nEOF\n\nsudo chmod +x /usr/local/bin/k8s-backup.sh\necho \u0026quot;0 3 * * * root /usr/local/bin/k8s-backup.sh\u0026quot; | sudo tee -a /etc/crontab\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"verification-and-testing\" class=\"mobile-header\"\u003eVerification and Testing\u003c/h2\u003e\n\u003ch3 id=\"cluster-health-checks\" class=\"mobile-header\"\u003eCluster Health Checks\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check cluster components\nkubectl get componentstatuses\nkubectl cluster-info\nkubectl get nodes -o wide\n\n# Check all pods in system namespaces\nkubectl get pods --all-namespaces\nkubectl get events --all-namespaces --sort-by=.metadata.creationTimestamp\n\n# Test DNS resolution\nkubectl run test-dns --image=busybox --rm -it --restart=Never -- nslookup kubernetes.default\n\n# Test pod networking\nkubectl run test-pod-1 --image=nginx --port=80\nkubectl expose pod test-pod-1 --port=80 --type=ClusterIP\nkubectl run test-pod-2 --image=busybox --rm -it --restart=Never -- wget -qO- test-pod-1\n\n# Check resource usage\nkubectl top nodes\nkubectl top pods --all-namespaces\n\n# Verify RBAC\nkubectl auth can-i create deployments\nkubectl auth can-i get secrets --as=system:serviceaccount:default:default\n\n# Test persistent storage\nkubectl apply -f - \u0026lt;\u0026lt;EOF\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: test-pvc\nspec:\n  accessModes:\n  - ReadWriteOnce\n  resources:\n    requests:\n      storage: 1Gi\n---\napiVersion: v1\nkind: Pod\nmetadata:\n  name: test-storage-pod\nspec:\n  containers:\n  - name: app\n    image: busybox\n    command: [\u0026#039;sh\u0026#039;, \u0026#039;-c\u0026#039;, \u0026#039;echo \u0026quot;Storage test\u0026quot; \u0026gt; /data/test.txt \u0026amp;\u0026amp; cat /data/test.txt \u0026amp;\u0026amp; sleep 3600\u0026#039;]\n    volumeMounts:\n    - name: storage\n      mountPath: /data\n  volumes:\n  - name: storage\n    persistentVolumeClaim:\n      claimName: test-pvc\nEOF\n\nkubectl logs test-storage-pod\nkubectl delete pod test-storage-pod\nkubectl delete pvc test-pvc\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"security-validation\" class=\"mobile-header\"\u003eSecurity Validation\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Run CIS Kubernetes Benchmark\ndocker run --rm -v $(pwd):/tmp aquasec/kube-bench:latest run --targets master,node,etcd,policies\n\n# Check pod security policies\nkubectl get psp  # For older versions\nkubectl get podsecuritypolicies  # For older versions\n\n# Verify network policies are working\nkubectl describe networkpolicy default-deny-all\n\n# Check for privileged containers\nkubectl get pods --all-namespaces -o jsonpath=\u0026#039;{range .items[*]}{.metadata.name}{\u0026quot;\\t\u0026quot;}{.spec.securityContext.privileged}{\u0026quot;\\n\u0026quot;}{end}\u0026#039; | grep true\n\n# Audit security contexts\nkubectl get pods --all-namespaces -o jsonpath=\u0026#039;{range .items[*]}{.metadata.namespace}{\u0026quot;\\t\u0026quot;}{.metadata.name}{\u0026quot;\\t\u0026quot;}{.spec.securityContext}{\u0026quot;\\n\u0026quot;}{end}\u0026#039;\n\n# Check for containers running as root\nkubectl get pods --all-namespaces -o jsonpath=\u0026#039;{range .items[*]}{.metadata.name}{\u0026quot;\\t\u0026quot;}{.spec.containers[*].securityContext.runAsUser}{\u0026quot;\\n\u0026quot;}{end}\u0026#039; | grep -E \u0026#039;\\t0$|\\t$\u0026#039;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"troubleshooting-cross-platform\" class=\"mobile-header\"\u003eTroubleshooting (Cross-Platform)\u003c/h2\u003e\n\u003ch3 id=\"common-issues-and-solutions\" class=\"mobile-header\"\u003eCommon Issues and Solutions\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Node not ready issues\nkubectl describe node \u0026lt;node-name\u0026gt;\nkubectl get events --sort-by=.metadata.creationTimestamp\n\n# Check kubelet logs\nsudo journalctl -u kubelet -f\n\n# Check container runtime\nsudo systemctl status containerd\nsudo crictl pods\n\n# Network issues\nkubectl get pods -n kube-system\nkubectl describe pod \u0026lt;cni-pod-name\u0026gt; -n kube-system\n\n# Permission issues (SELinux)\nsudo ausearch -m AVC -ts recent\nsudo setsebool -P container_manage_cgroup true\n\n# Certificate issues\nsudo kubeadm certs check-expiration\nopenssl x509 -in /etc/kubernetes/pki/apiserver.crt -text -noout\n\n# Resource exhaustion\nkubectl describe node \u0026lt;node-name\u0026gt;\nkubectl top nodes\nkubectl top pods --all-namespaces --sort-by=memory\n\n# etcd issues\nsudo etcdctl endpoint health \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=/etc/kubernetes/pki/etcd/ca.crt \\\n  --cert=/etc/kubernetes/pki/etcd/server.crt \\\n  --key=/etc/kubernetes/pki/etcd/server.key\n\n# Reset cluster (if needed)\nsudo kubeadm reset\nsudo rm -rf /etc/cni/net.d\nsudo rm -rf $HOME/.kube/config\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"debug-pod-issues\" class=\"mobile-header\"\u003eDebug Pod Issues\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Debug failing pods\nkubectl describe pod \u0026lt;pod-name\u0026gt;\nkubectl logs \u0026lt;pod-name\u0026gt; -c \u0026lt;container-name\u0026gt;\nkubectl get events --field-selector involvedObject.name=\u0026lt;pod-name\u0026gt;\n\n# Debug networking\nkubectl run debug-pod --image=nicolaka/netshoot --rm -it --restart=Never\n\n# Check resource constraints\nkubectl describe resourcequota -n \u0026lt;namespace\u0026gt;\nkubectl describe limitrange -n \u0026lt;namespace\u0026gt;\n\n# Debug storage issues\nkubectl describe pvc \u0026lt;pvc-name\u0026gt;\nkubectl get events --field-selector involvedObject.name=\u0026lt;pvc-name\u0026gt;\n\n# Debug service connectivity\nkubectl run debug --image=busybox --rm -it --restart=Never -- nslookup \u0026lt;service-name\u0026gt;\nkubectl get endpoints \u0026lt;service-name\u0026gt;\n\n# Debug ingress issues\nkubectl describe ingress \u0026lt;ingress-name\u0026gt;\nkubectl get events --field-selector involvedObject.name=\u0026lt;ingress-name\u0026gt;\nkubectl logs -n ingress-nginx deployment/ingress-nginx-controller\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"performance-optimization\" class=\"mobile-header\"\u003ePerformance Optimization\u003c/h2\u003e\n\u003ch3 id=\"system-level-tuning\" class=\"mobile-header\"\u003eSystem-Level Tuning\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Kernel optimization for Kubernetes\nsudo tee -a /etc/sysctl.conf \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n# Kubernetes performance tuning\nnet.core.somaxconn = 32768\nnet.core.netdev_max_backlog = 5000\nnet.ipv4.tcp_max_syn_backlog = 8192\nnet.ipv4.tcp_max_tw_buckets = 2000000\nnet.ipv4.tcp_tw_reuse = 1\nnet.ipv4.tcp_fin_timeout = 10\nnet.ipv4.ip_local_port_range = 1024 65000\nnet.core.rmem_default = 262144\nnet.core.rmem_max = 134217728\nnet.core.wmem_default = 262144\nnet.core.wmem_max = 134217728\nnet.ipv4.tcp_rmem = 4096 87380 134217728\nnet.ipv4.tcp_wmem = 4096 65536 134217728\nfs.file-max = 2097152\nfs.inotify.max_user_instances = 8192\nfs.inotify.max_user_watches = 1048576\nvm.swappiness = 0\nvm.overcommit_memory = 1\nvm.dirty_ratio = 80\nvm.dirty_background_ratio = 5\nkernel.pid_max = 4194304\nEOF\n\nsudo sysctl -p\n\n# Set resource limits\nsudo tee -a /etc/security/limits.conf \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\nroot soft nofile 65536\nroot hard nofile 65536\n* soft nofile 65536\n* hard nofile 65536\n* soft nproc 65536\n* hard nproc 65536\nEOF\n\n# Configure systemd limits for containerd and kubelet\nsudo mkdir -p /etc/systemd/system/containerd.service.d/\nsudo tee /etc/systemd/system/containerd.service.d/limits.conf \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n[Service]\nLimitNOFILE=1048576\nLimitNPROC=1048576\nLimitCORE=infinity\nOOMScoreAdjust=-999\nEOF\n\nsudo mkdir -p /etc/systemd/system/kubelet.service.d/\nsudo tee /etc/systemd/system/kubelet.service.d/limits.conf \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n[Service]\nLimitNOFILE=1048576\nLimitNPROC=1048576\nLimitCORE=infinity\nOOMScoreAdjust=-999\nEOF\n\nsudo systemctl daemon-reload\nsudo systemctl restart containerd kubelet\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"kubernetes-performance-configuration\" class=\"mobile-header\"\u003eKubernetes Performance Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Optimize kubelet configuration\nsudo tee /var/lib/kubelet/config.yaml \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\napiVersion: kubelet.config.k8s.io/v1beta1\nkind: KubeletConfiguration\naddress: 0.0.0.0\nport: 10250\nreadOnlyPort: 0\nauthentication:\n  webhook:\n    enabled: true\nauthorization:\n  mode: Webhook\nclusterDomain: cluster.local\nclusterDNS:\n- 10.96.0.10\nmaxPods: 250\npodsPerCore: 10\ncgroupDriver: systemd\ncontainerLogMaxSize: 50Mi\ncontainerLogMaxFiles: 5\neventRecordQPS: 50\neventBurst: 100\nkubeAPIQPS: 50\nkubeAPIBurst: 100\nserializeImagePulls: false\nregistryPullQPS: 10\nregistryBurst: 20\nsyncFrequency: 1m\nfileCheckFrequency: 20s\nhttpCheckFrequency: 20s\nnodeStatusUpdateFrequency: 10s\nimageMinimumGCAge: 2m\nimageGCHighThresholdPercent: 85\nimageGCLowThresholdPercent: 80\nvolumeStatsAggPeriod: 1m\nsystemReserved:\n  cpu: 200m\n  memory: 512Mi\n  ephemeral-storage: 2Gi\nkubeReserved:\n  cpu: 200m\n  memory: 512Mi\n  ephemeral-storage: 2Gi\nEOF\n\n# Optimize API server configuration\nsudo sed -i \u0026#039;/- kube-apiserver/a\\\n    - --max-requests-inflight=2000\\\n    - --max-mutating-requests-inflight=1000\\\n    - --watch-cache-sizes=nodes#100,pods#1000,replicationcontrollers#500\\\n    - --target-ram-mb=2048\\\n    - --event-ttl=168h0m0s\u0026#039; /etc/kubernetes/manifests/kube-apiserver.yaml\n\n# Optimize etcd configuration\nsudo tee -a /etc/kubernetes/manifests/etcd.yaml \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n    - --max-request-bytes=33554432\n    - --quota-backend-bytes=8589934592\n    - --snapshot-count=10000\n    - --heartbeat-interval=100\n    - --election-timeout=1000\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"integration-examples\" class=\"mobile-header\"\u003eIntegration Examples\u003c/h2\u003e\n\u003ch3 id=\"python-client-library\" class=\"mobile-header\"\u003ePython Client Library\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"python\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epython\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-python\"\u003e# kubernetes-client example\nfrom kubernetes import client, config\nimport json\n\n# Load kubeconfig\nconfig.load_kube_config()  # or config.load_incluster_config() for in-cluster\n\n# Initialize API clients\nv1 = client.CoreV1Api()\napps_v1 = client.AppsV1Api()\nnetworking_v1 = client.NetworkingV1Api()\n\n# Create a namespace\nnamespace = client.V1Namespace(\n    metadata=client.V1ObjectMeta(name=\u0026quot;python-app\u0026quot;)\n)\nv1.create_namespace(body=namespace)\n\n# Create a deployment\ndeployment = client.V1Deployment(\n    metadata=client.V1ObjectMeta(name=\u0026quot;nginx-deployment\u0026quot;),\n    spec=client.V1DeploymentSpec(\n        replicas=3,\n        selector=client.V1LabelSelector(\n            match_labels={\u0026quot;app\u0026quot;: \u0026quot;nginx\u0026quot;}\n        ),\n        template=client.V1PodTemplateSpec(\n            metadata=client.V1ObjectMeta(\n                labels={\u0026quot;app\u0026quot;: \u0026quot;nginx\u0026quot;}\n            ),\n            spec=client.V1PodSpec(\n                containers=[\n                    client.V1Container(\n                        name=\u0026quot;nginx\u0026quot;,\n                        image=\u0026quot;nginx:alpine\u0026quot;,\n                        ports=[client.V1ContainerPort(container_port=80)],\n                        resources=client.V1ResourceRequirements(\n                            requests={\u0026quot;cpu\u0026quot;: \u0026quot;100m\u0026quot;, \u0026quot;memory\u0026quot;: \u0026quot;128Mi\u0026quot;},\n                            limits={\u0026quot;cpu\u0026quot;: \u0026quot;500m\u0026quot;, \u0026quot;memory\u0026quot;: \u0026quot;512Mi\u0026quot;}\n                        )\n                    )\n                ]\n            )\n        )\n    )\n)\n\napps_v1.create_namespaced_deployment(\n    namespace=\u0026quot;python-app\u0026quot;, \n    body=deployment\n)\n\n# Create a service\nservice = client.V1Service(\n    metadata=client.V1ObjectMeta(name=\u0026quot;nginx-service\u0026quot;),\n    spec=client.V1ServiceSpec(\n        selector={\u0026quot;app\u0026quot;: \u0026quot;nginx\u0026quot;},\n        ports=[\n            client.V1ServicePort(port=80, target_port=80)\n        ],\n        type=\u0026quot;LoadBalancer\u0026quot;\n    )\n)\n\nv1.create_namespaced_service(namespace=\u0026quot;python-app\u0026quot;, body=service)\n\n# Monitor pods\ndef monitor_pods():\n    pods = v1.list_namespaced_pod(namespace=\u0026quot;python-app\u0026quot;)\n    for pod in pods.items:\n        print(f\u0026quot;Pod: {pod.metadata.name}, Status: {pod.status.phase}\u0026quot;)\n\nmonitor_pods()\n\n# Stream logs\ndef stream_logs(pod_name):\n    for line in v1.read_namespaced_pod_log(\n        name=pod_name, \n        namespace=\u0026quot;python-app\u0026quot;, \n        follow=True, \n        _preload_content=False\n    ).stream():\n        print(line.decode(\u0026#039;utf-8\u0026#039;), end=\u0026#039;\u0026#039;)\n\n# Clean up\napps_v1.delete_namespaced_deployment(name=\u0026quot;nginx-deployment\u0026quot;, namespace=\u0026quot;python-app\u0026quot;)\nv1.delete_namespaced_service(name=\u0026quot;nginx-service\u0026quot;, namespace=\u0026quot;python-app\u0026quot;)\nv1.delete_namespace(name=\u0026quot;python-app\u0026quot;)\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"nodejs-client-example\" class=\"mobile-header\"\u003eNode.js Client Example\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"javascript\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ejavascript\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e// kubernetes-example.js\nconst k8s = require(\u0026#039;@kubernetes/client-node\u0026#039;);\n\n// Load kubeconfig\nconst kc = new k8s.KubeConfig();\nkc.loadFromDefault();\n\nconst k8sApi = kc.makeApiClient(k8s.CoreV1Api);\nconst k8sAppsApi = kc.makeApiClient(k8s.AppsV1Api);\n\nconst namespace = \u0026#039;nodejs-app\u0026#039;;\n\nasync function createNamespace() {\n    const namespaceManifest = {\n        metadata: {\n            name: namespace\n        }\n    };\n    \n    try {\n        await k8sApi.createNamespace(namespaceManifest);\n        console.log(`Namespace ${namespace} created`);\n    } catch (error) {\n        console.error(\u0026#039;Error creating namespace:\u0026#039;, error.response?.body || error.message);\n    }\n}\n\nasync function createDeployment() {\n    const deploymentManifest = {\n        metadata: {\n            name: \u0026#039;nginx-deployment\u0026#039;\n        },\n        spec: {\n            replicas: 3,\n            selector: {\n                matchLabels: {\n                    app: \u0026#039;nginx\u0026#039;\n                }\n            },\n            template: {\n                metadata: {\n                    labels: {\n                        app: \u0026#039;nginx\u0026#039;\n                    }\n                },\n                spec: {\n                    containers: [{\n                        name: \u0026#039;nginx\u0026#039;,\n                        image: \u0026#039;nginx:alpine\u0026#039;,\n                        ports: [{\n                            containerPort: 80\n                        }],\n                        resources: {\n                            requests: {\n                                cpu: \u0026#039;100m\u0026#039;,\n                                memory: \u0026#039;128Mi\u0026#039;\n                            },\n                            limits: {\n                                cpu: \u0026#039;500m\u0026#039;,\n                                memory: \u0026#039;512Mi\u0026#039;\n                            }\n                        }\n                    }]\n                }\n            }\n        }\n    };\n    \n    try {\n        await k8sAppsApi.createNamespacedDeployment(namespace, deploymentManifest);\n        console.log(\u0026#039;Deployment created: nginx-deployment\u0026#039;);\n    } catch (error) {\n        console.error(\u0026#039;Error creating deployment:\u0026#039;, error.response?.body || error.message);\n    }\n}\n\nasync function createService() {\n    const serviceManifest = {\n        metadata: {\n            name: \u0026#039;nginx-service\u0026#039;\n        },\n        spec: {\n            selector: {\n                app: \u0026#039;nginx\u0026#039;\n            },\n            ports: [{\n                port: 80,\n                targetPort: 80\n            }],\n            type: \u0026#039;LoadBalancer\u0026#039;\n        }\n    };\n    \n    try {\n        await k8sApi.createNamespacedService(namespace, serviceManifest);\n        console.log(\u0026#039;Service created: nginx-service\u0026#039;);\n    } catch (error) {\n        console.error(\u0026#039;Error creating service:\u0026#039;, error.response?.body || error.message);\n    }\n}\n\nasync function listPods() {\n    try {\n        const response = await k8sApi.listNamespacedPod(namespace);\n        console.log(`Found ${response.body.items.length} pods:`);\n        response.body.items.forEach(pod =\u0026gt; {\n            console.log(`Pod: ${pod.metadata.name}, Status: ${pod.status.phase}`);\n        });\n    } catch (error) {\n        console.error(\u0026#039;Error listing pods:\u0026#039;, error.response?.body || error.message);\n    }\n}\n\nasync function cleanup() {\n    try {\n        await k8sAppsApi.deleteNamespacedDeployment(\u0026#039;nginx-deployment\u0026#039;, namespace);\n        await k8sApi.deleteNamespacedService(\u0026#039;nginx-service\u0026#039;, namespace);\n        await k8sApi.deleteNamespace(namespace);\n        console.log(\u0026#039;Resources cleaned up\u0026#039;);\n    } catch (error) {\n        console.error(\u0026#039;Error during cleanup:\u0026#039;, error.response?.body || error.message);\n    }\n}\n\nasync function main() {\n    await createNamespace();\n    await createDeployment();\n    await createService();\n    \n    // Wait a bit for pods to start\n    setTimeout(async () =\u0026gt; {\n        await listPods();\n        await cleanup();\n    }, 5000);\n}\n\nmain().catch(console.error);\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"java-client-example\" class=\"mobile-header\"\u003eJava Client Example\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"java\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ejava\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-java\"\u003e// KubernetesExample.java\nimport io.kubernetes.client.openapi.ApiClient;\nimport io.kubernetes.client.openapi.ApiException;\nimport io.kubernetes.client.openapi.Configuration;\nimport io.kubernetes.client.openapi.apis.AppsV1Api;\nimport io.kubernetes.client.openapi.apis.CoreV1Api;\nimport io.kubernetes.client.openapi.models.*;\nimport io.kubernetes.client.util.Config;\n\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class KubernetesExample {\n    public static void main(String[] args) throws Exception {\n        // Load kubeconfig\n        ApiClient client = Config.defaultClient();\n        Configuration.setDefaultApiClient(client);\n        \n        CoreV1Api coreV1Api = new CoreV1Api();\n        AppsV1Api appsV1Api = new AppsV1Api();\n        \n        String namespace = \u0026quot;java-app\u0026quot;;\n        \n        // Create namespace\n        V1Namespace ns = new V1Namespace()\n            .metadata(new V1ObjectMeta().name(namespace));\n        \n        try {\n            coreV1Api.createNamespace(ns, null, null, null, null);\n            System.out.println(\u0026quot;Namespace created: \u0026quot; + namespace);\n        } catch (ApiException e) {\n            System.err.println(\u0026quot;Failed to create namespace: \u0026quot; + e.getResponseBody());\n        }\n        \n        // Create deployment\n        Map\u0026lt;String, String\u0026gt; labels = new HashMap\u0026lt;\u0026gt;();\n        labels.put(\u0026quot;app\u0026quot;, \u0026quot;nginx\u0026quot;);\n        \n        V1Deployment deployment = new V1Deployment()\n            .metadata(new V1ObjectMeta().name(\u0026quot;nginx-deployment\u0026quot;))\n            .spec(new V1DeploymentSpec()\n                .replicas(3)\n                .selector(new V1LabelSelector().matchLabels(labels))\n                .template(new V1PodTemplateSpec()\n                    .metadata(new V1ObjectMeta().labels(labels))\n                    .spec(new V1PodSpec()\n                        .containers(Collections.singletonList(\n                            new V1Container()\n                                .name(\u0026quot;nginx\u0026quot;)\n                                .image(\u0026quot;nginx:alpine\u0026quot;)\n                                .ports(Collections.singletonList(\n                                    new V1ContainerPort().containerPort(80)\n                                ))\n                                .resources(new V1ResourceRequirements()\n                                    .requests(Map.of(\n                                        \u0026quot;cpu\u0026quot;, Quantity.fromString(\u0026quot;100m\u0026quot;),\n                                        \u0026quot;memory\u0026quot;, Quantity.fromString(\u0026quot;128Mi\u0026quot;)\n                                    ))\n                                    .limits(Map.of(\n                                        \u0026quot;cpu\u0026quot;, Quantity.fromString(\u0026quot;500m\u0026quot;),\n                                        \u0026quot;memory\u0026quot;, Quantity.fromString(\u0026quot;512Mi\u0026quot;)\n                                    ))\n                                )\n                        ))\n                    )\n                )\n            );\n            \n        try {\n            appsV1Api.createNamespacedDeployment(namespace, deployment, null, null, null, null);\n            System.out.println(\u0026quot;Deployment created: nginx-deployment\u0026quot;);\n        } catch (ApiException e) {\n            System.err.println(\u0026quot;Failed to create deployment: \u0026quot; + e.getResponseBody());\n        }\n        \n        // Create service\n        V1Service service = new V1Service()\n            .metadata(new V1ObjectMeta().name(\u0026quot;nginx-service\u0026quot;))\n            .spec(new V1ServiceSpec()\n                .selector(labels)\n                .ports(Collections.singletonList(\n                    new V1ServicePort().port(80).targetPort(new IntOrString(80))\n                ))\n                .type(\u0026quot;LoadBalancer\u0026quot;)\n            );\n            \n        try {\n            coreV1Api.createNamespacedService(namespace, service, null, null, null, null);\n            System.out.println(\u0026quot;Service created: nginx-service\u0026quot;);\n        } catch (ApiException e) {\n            System.err.println(\u0026quot;Failed to create service: \u0026quot; + e.getResponseBody());\n        }\n        \n        // List pods\n        try {\n            V1PodList pods = coreV1Api.listNamespacedPod(namespace, null, null, null, null, null, null, null, null, null, null);\n            System.out.println(\u0026quot;Found \u0026quot; + pods.getItems().size() + \u0026quot; pods:\u0026quot;);\n            for (V1Pod pod : pods.getItems()) {\n                System.out.println(\u0026quot;Pod: \u0026quot; + pod.getMetadata().getName() + \n                                 \u0026quot;, Status: \u0026quot; + pod.getStatus().getPhase());\n            }\n        } catch (ApiException e) {\n            System.err.println(\u0026quot;Failed to list pods: \u0026quot; + e.getResponseBody());\n        }\n        \n        // Cleanup\n        try {\n            appsV1Api.deleteNamespacedDeployment(\u0026quot;nginx-deployment\u0026quot;, namespace, null, null, null, null, null, null);\n            coreV1Api.deleteNamespacedService(\u0026quot;nginx-service\u0026quot;, namespace, null, null, null, null, null, null);\n            coreV1Api.deleteNamespace(namespace, null, null, null, null, null, null);\n            System.out.println(\u0026quot;Resources cleaned up\u0026quot;);\n        } catch (ApiException e) {\n            System.err.println(\u0026quot;Failed to cleanup: \u0026quot; + e.getResponseBody());\n        }\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"maintenance\" class=\"mobile-header\"\u003eMaintenance\u003c/h2\u003e\n\u003ch3 id=\"update-procedures\" class=\"mobile-header\"\u003eUpdate Procedures\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check current Kubernetes version\nkubectl version --short\n\n# Plan upgrade with kubeadm\nsudo kubeadm upgrade plan\n\n# Upgrade kubeadm first\nsudo apt update \u0026amp;\u0026amp; sudo apt-mark unhold kubeadm\nsudo apt install -y kubeadm=1.29.1-00\nsudo apt-mark hold kubeadm\n\n# Or for RHEL/CentOS\nsudo yum update -y kubeadm-1.29.1\n\n# Upgrade control plane\nsudo kubeadm upgrade apply v1.29.1\n\n# Upgrade kubelet and kubectl\nsudo apt-mark unhold kubelet kubectl\nsudo apt install -y kubelet=1.29.1-00 kubectl=1.29.1-00\nsudo apt-mark hold kubelet kubectl\n\nsudo systemctl daemon-reload\nsudo systemctl restart kubelet\n\n# Drain and upgrade worker nodes\nkubectl drain \u0026lt;worker-node\u0026gt; --ignore-daemonsets --delete-emptydir-data\n# On worker node:\nsudo kubeadm upgrade node\nsudo apt install -y kubelet=1.29.1-00 kubectl=1.29.1-00\nsudo systemctl daemon-reload\nsudo systemctl restart kubelet\n\n# Uncordon worker node\nkubectl uncordon \u0026lt;worker-node\u0026gt;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"maintenance-tasks\" class=\"mobile-header\"\u003eMaintenance Tasks\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Weekly maintenance script\n#!/bin/bash\n# k8s-maintenance.sh\n\n# Check cluster health\necho \u0026quot;=== Cluster Health Check ===\u0026quot;\nkubectl get nodes -o wide\nkubectl get pods --all-namespaces | grep -v Running | grep -v Completed\n\n# Check resource usage\necho \u0026quot;=== Resource Usage ===\u0026quot;\nkubectl top nodes\nkubectl top pods --all-namespaces --sort-by=cpu | head -10\n\n# Check certificate expiry\necho \u0026quot;=== Certificate Expiry ===\u0026quot;\nsudo kubeadm certs check-expiration\n\n# Clean up completed jobs\necho \u0026quot;=== Cleanup ===\u0026quot;\nkubectl get jobs --all-namespaces -o json | jq -r \u0026#039;.items[] | select(.status.conditions[]?.type == \u0026quot;Complete\u0026quot;) | \u0026quot;\\(.metadata.namespace) \\(.metadata.name)\u0026quot;\u0026#039; | xargs -l bash -c \u0026#039;kubectl delete job $1 -n $0\u0026#039;\n\n# Clean up evicted pods\nkubectl get pods --all-namespaces --field-selector=status.phase=Failed -o json | jq -r \u0026#039;.items[] | \u0026quot;\\(.metadata.namespace) \\(.metadata.name)\u0026quot;\u0026#039; | xargs -l bash -c \u0026#039;kubectl delete pod $1 -n $0\u0026#039;\n\n# Check for security updates\necho \u0026quot;=== Security Updates Available ===\u0026quot;\nsudo apt list --upgradable | grep -i security\n\n# Backup etcd\necho \u0026quot;=== etcd Backup ===\u0026quot;\nsudo etcdctl snapshot save /backup/etcd-$(date +%Y%m%d_%H%M%S).db \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=/etc/kubernetes/pki/etcd/ca.crt \\\n  --cert=/etc/kubernetes/pki/etcd/server.crt \\\n  --key=/etc/kubernetes/pki/etcd/server.key\n\necho \u0026quot;Maintenance completed at: $(date)\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"additional-resources\" class=\"mobile-header\"\u003eAdditional Resources\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://kubernetes.io/docs/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eOfficial Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://kubernetes.io/docs/reference/kubectl/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003ekubectl Reference\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://kubernetes.io/docs/concepts/security/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eSecurity Best Practices\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.cisecurity.org/benchmark/kubernetes\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eCIS Kubernetes Benchmark\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://cheatsheetseries.owasp.org/cheatsheets/Kubernetes_Security_Cheat_Sheet.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eOWASP Kubernetes Security Cheat Sheet\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://github.com/kelseyhightower/kubernetes-the-hard-way\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eKubernetes The Hard Way\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://kubernetes.academy/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eKubernetes Academy\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://landscape.cncf.io/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eCNCF Landscape\u003c/a\u003e\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e---\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This guide is part of the \u003ca href=\"https://howtomgr.github.io\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eHowToMgr\u003c/a\u003e collection.\u003c/p\u003e","readTime":"35 min","wordCount":6949,"lastBuilt":"2025-09-14T18:11:59.392Z"}]},"__N_SSG":true},"page":"/[category]/[guide]","query":{"category":"container","guide":"minikube"},"buildId":"UcVFm8oYW2Bg6dz8log2r","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>