<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"/><meta name="theme-color" content="#bd93f9"/><link rel="icon" href="/favicon.ico"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true"/><title class="jsx-745d6189719dfe72">Nagios Installation Guide - HowToMgr</title><meta name="description" content="Repo for nagios" class="jsx-745d6189719dfe72"/><meta name="keywords" content="installation guides, tutorials, linux, docker, kubernetes, mobile-first, responsive" class="jsx-745d6189719dfe72"/><meta property="og:title" content="Nagios Installation Guide - HowToMgr" class="jsx-745d6189719dfe72"/><meta property="og:description" content="Repo for nagios" class="jsx-745d6189719dfe72"/><meta property="og:type" content="website" class="jsx-745d6189719dfe72"/><meta property="og:url" content="https://howtomgr.github.io" class="jsx-745d6189719dfe72"/><meta property="og:image" content="https://howtomgr.github.io/social-preview.png" class="jsx-745d6189719dfe72"/><meta property="twitter:card" content="summary_large_image" class="jsx-745d6189719dfe72"/><meta property="twitter:title" content="Nagios Installation Guide - HowToMgr" class="jsx-745d6189719dfe72"/><meta property="twitter:description" content="Repo for nagios" class="jsx-745d6189719dfe72"/><meta name="next-head-count" content="17"/><link rel="dns-prefetch" href="//api.github.com"/><link rel="dns-prefetch" href="//github.com"/><link rel="preload" href="/favicon.ico" as="image"/><meta name="application-name" content="HowToMgr"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="default"/><meta name="apple-mobile-web-app-title" content="HowToMgr"/><meta name="format-detection" content="telephone=no"/><meta name="mobile-web-app-capable" content="yes"/><noscript><style>
            .requires-js { display: none !important; }
            .no-js-message { display: block !important; }
          </style></noscript><link rel="preload" href="/_next/static/css/eec6c1c201affe77.css" as="style"/><link rel="stylesheet" href="/_next/static/css/eec6c1c201affe77.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-ee7e63bc15b31913.js" defer=""></script><script src="/_next/static/chunks/framework-2b1f7a23d657eae4.js" defer=""></script><script src="/_next/static/chunks/main-6ec3f7584970eebe.js" defer=""></script><script src="/_next/static/chunks/pages/_app-d149ee305b4f74bb.js" defer=""></script><script src="/_next/static/chunks/409-41afef934247f89e.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bcategory%5D/%5Bguide%5D-38cc5ea2e41d9e97.js" defer=""></script><script src="/_next/static/lu0_WLQIo6fIzJ-IeQpog/_buildManifest.js" defer=""></script><script src="/_next/static/lu0_WLQIo6fIzJ-IeQpog/_ssgManifest.js" defer=""></script><style id="__jsx-8a7f0cdcf94f52ce">.breadcrumb.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:var(--space-2);margin-bottom:var(--space-6);font-size:var(--font-sm);color:var(--text-secondary);overflow-x:auto;white-space:nowrap;-webkit-overflow-scrolling:touch}.breadcrumb.jsx-8a7f0cdcf94f52ce a.jsx-8a7f0cdcf94f52ce{color:var(--accent-primary);text-decoration:none;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.breadcrumb.jsx-8a7f0cdcf94f52ce a.jsx-8a7f0cdcf94f52ce:hover{text-decoration:underline}.separator.jsx-8a7f0cdcf94f52ce{color:var(--text-muted);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.current.jsx-8a7f0cdcf94f52ce{color:var(--text-primary);font-weight:500;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.guide-header.jsx-8a7f0cdcf94f52ce{background:var(--bg-secondary);-webkit-border-radius:var(--border-radius-lg);-moz-border-radius:var(--border-radius-lg);border-radius:var(--border-radius-lg);padding:var(--space-6);margin-bottom:var(--space-8);border:1px solid var(--bg-surface)}.guide-title.jsx-8a7f0cdcf94f52ce{color:var(--accent-primary);font-size:var(--font-3xl);margin-bottom:var(--space-4);line-height:1.2;word-break:break-word}.guide-description.jsx-8a7f0cdcf94f52ce{color:var(--text-secondary);font-size:var(--font-lg);margin-bottom:var(--space-5);line-height:1.5}.guide-badges.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-3);margin-bottom:var(--space-5);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.guide-actions.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-3);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.guide-content.jsx-8a7f0cdcf94f52ce{background:var(--bg-secondary);-webkit-border-radius:var(--border-radius-lg);-moz-border-radius:var(--border-radius-lg);border-radius:var(--border-radius-lg);padding:var(--space-6);margin-bottom:var(--space-8);border:1px solid var(--bg-surface);overflow-x:hidden}.related-section.jsx-8a7f0cdcf94f52ce{margin-bottom:var(--space-8)}.section-title.jsx-8a7f0cdcf94f52ce{color:var(--accent-primary);font-size:var(--font-2xl);text-align:center;margin-bottom:var(--space-6)}.guide-navigation.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-4);-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:var(--space-8)}.loading-container.jsx-8a7f0cdcf94f52ce,.error-container.jsx-8a7f0cdcf94f52ce{text-align:center;padding:var(--space-8)}.error-actions.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-4);-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:var(--space-6);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}@media(max-width:767px){.guide-header.jsx-8a7f0cdcf94f52ce{padding:var(--space-4);margin-bottom:var(--space-6)}.guide-title.jsx-8a7f0cdcf94f52ce{font-size:var(--font-2xl)}.guide-description.jsx-8a7f0cdcf94f52ce{font-size:var(--font-base)}.guide-content.jsx-8a7f0cdcf94f52ce{padding:var(--space-4);margin-bottom:var(--space-6)}.guide-badges.jsx-8a7f0cdcf94f52ce{gap:var(--space-2)}.guide-actions.jsx-8a7f0cdcf94f52ce{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.guide-navigation.jsx-8a7f0cdcf94f52ce{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.breadcrumb.jsx-8a7f0cdcf94f52ce{margin-bottom:var(--space-4)}}</style><style id="__jsx-745d6189719dfe72">.app-container.jsx-745d6189719dfe72{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding-top:56px}.main-content.jsx-745d6189719dfe72{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;padding:var(--space-6)0}.mobile-footer.jsx-745d6189719dfe72{background:var(--bg-secondary);border-top:1px solid var(--bg-surface);padding:var(--space-6)0;margin-top:auto}.footer-content.jsx-745d6189719dfe72{text-align:center}.footer-links.jsx-745d6189719dfe72{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:var(--space-6);margin-bottom:var(--space-4);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.footer-links.jsx-745d6189719dfe72 a.jsx-745d6189719dfe72{color:var(--accent-primary);text-decoration:none;font-size:var(--font-sm)}.footer-links.jsx-745d6189719dfe72 a.jsx-745d6189719dfe72:hover{color:var(--accent-secondary)}.footer-separator.jsx-745d6189719dfe72{height:1px;background:var(--bg-surface);margin:var(--space-4)auto;width:200px}.footer-text.jsx-745d6189719dfe72,.footer-tech.jsx-745d6189719dfe72{color:var(--text-secondary);font-size:var(--font-sm);margin-bottom:var(--space-2)}.footer-disclaimer.jsx-745d6189719dfe72{color:var(--text-muted);font-size:var(--font-xs)}[data-theme="light"].jsx-745d6189719dfe72 .theme-icon-dark.jsx-745d6189719dfe72{display:none}[data-theme="light"].jsx-745d6189719dfe72 .theme-icon-light.jsx-745d6189719dfe72{display:inline!important}@media(max-width:767px){.main-content.jsx-745d6189719dfe72{padding:var(--space-4)0}.footer-links.jsx-745d6189719dfe72{gap:var(--space-4)}}</style></head><body><noscript><div class="no-js-message" style="padding:1rem;background:#ff5555;color:#f8f8f2;text-align:center;font-size:0.9rem">This site requires JavaScript to function properly. Please enable JavaScript in your browser.</div></noscript><div id="__next"><div class="jsx-745d6189719dfe72 app-container"><a href="#main-content" class="jsx-745d6189719dfe72 skip-link">Skip to main content</a><nav class="jsx-745d6189719dfe72 mobile-nav"><div class="jsx-745d6189719dfe72 mobile-nav-content"><a class="mobile-brand" href="/"><span role="img" aria-label="Books" class="jsx-745d6189719dfe72">📚</span>HowToMgr</a><button aria-label="Toggle theme" title="Switch theme" class="jsx-745d6189719dfe72 mobile-theme-toggle touch-target"><span class="jsx-745d6189719dfe72 theme-icon-dark">🌙</span><span style="display:none" class="jsx-745d6189719dfe72 theme-icon-light">☀️</span></button></div></nav><main id="main-content" tabindex="-1" class="jsx-745d6189719dfe72 main-content"><div class="jsx-745d6189719dfe72 container"><nav aria-label="Breadcrumb" class="jsx-8a7f0cdcf94f52ce breadcrumb"><a href="/">Home</a><span class="jsx-8a7f0cdcf94f52ce separator">→</span><a href="/monitoring/">Monitoring</a><span class="jsx-8a7f0cdcf94f52ce separator">→</span><span class="jsx-8a7f0cdcf94f52ce current">Nagios</span></nav><header class="jsx-8a7f0cdcf94f52ce guide-header"><div class="jsx-8a7f0cdcf94f52ce guide-meta-top"><h1 class="jsx-8a7f0cdcf94f52ce guide-title">Nagios</h1><p class="jsx-8a7f0cdcf94f52ce guide-description">Repo for nagios</p><div class="jsx-8a7f0cdcf94f52ce guide-badges"><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-primary">Monitoring</span><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-info">1 min</span></div><div class="jsx-8a7f0cdcf94f52ce guide-actions"><a href="https://github.com/howtomgr/nagios" target="_blank" rel="noopener" class="jsx-8a7f0cdcf94f52ce btn btn-secondary">View on GitHub</a></div></div></header><article class="jsx-8a7f0cdcf94f52ce guide-content"><div class="jsx-8a7f0cdcf94f52ce readme-content"><h2 id="welcome-to-nagios" class="mobile-header">👋 Welcome to nagios 🚀  </h2>
<p class="mobile-paragraph">nagios README  </p>
<h2 id="author" class="mobile-header">Author  </h2>
<p class="mobile-paragraph">🤖 casjay: <a href="https://github.com/casjay" target="_blank" rel="noopener" class="mobile-link">Github</a> 🤖  </p></div></article><section class="jsx-8a7f0cdcf94f52ce related-section"><h2 class="jsx-8a7f0cdcf94f52ce section-title">Related <!-- -->Monitoring<!-- --> Guides</h2><div class="jsx-8a7f0cdcf94f52ce mobile-grid"><a class="mobile-card" href="/monitoring/grafana/"><div class="jsx-8a7f0cdcf94f52ce mobile-card-header"><h3 class="jsx-8a7f0cdcf94f52ce mobile-card-title">Grafana</h3><p class="jsx-8a7f0cdcf94f52ce mobile-card-description">Repo for grafana</p></div><div class="jsx-8a7f0cdcf94f52ce mobile-card-meta"><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-info">6 min</span></div></a><a class="mobile-card" href="/monitoring/prometheus/"><div class="jsx-8a7f0cdcf94f52ce mobile-card-header"><h3 class="jsx-8a7f0cdcf94f52ce mobile-card-title">Prometheus</h3><p class="jsx-8a7f0cdcf94f52ce mobile-card-description">Repo for prometheus</p></div><div class="jsx-8a7f0cdcf94f52ce mobile-card-meta"><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-info">7 min</span></div></a><a class="mobile-card" href="/monitoring/zabbix/"><div class="jsx-8a7f0cdcf94f52ce mobile-card-header"><h3 class="jsx-8a7f0cdcf94f52ce mobile-card-title">Zabbix</h3><p class="jsx-8a7f0cdcf94f52ce mobile-card-description">Repo for zabbix</p></div><div class="jsx-8a7f0cdcf94f52ce mobile-card-meta"><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-info">1 min</span></div></a></div></section><nav class="jsx-8a7f0cdcf94f52ce guide-navigation"><a class="btn btn-secondary" href="/monitoring/">← All <!-- -->Monitoring</a><a class="btn btn-secondary" href="/">All Categories</a></nav></div></main><footer class="jsx-745d6189719dfe72 mobile-footer"><div class="jsx-745d6189719dfe72 container"><div class="jsx-745d6189719dfe72 footer-content"><div class="jsx-745d6189719dfe72 footer-links"><a href="/">Home</a><a href="https://github.com/howtomgr" target="_blank" rel="noopener" class="jsx-745d6189719dfe72">GitHub</a><a href="https://github.com/howtomgr/howtomgr.github.io" target="_blank" rel="noopener" class="jsx-745d6189719dfe72">Source</a></div><div class="jsx-745d6189719dfe72 footer-separator"></div><p class="jsx-745d6189719dfe72 footer-text">© <!-- -->2025<!-- --> HowToMgr Organization. Open source installation guides.</p><p class="jsx-745d6189719dfe72 footer-tech">Built with ❤️ using Next.js + GitHub Pages</p><p class="jsx-745d6189719dfe72 footer-disclaimer"><small class="jsx-745d6189719dfe72">All guides are provided as-is. Please review and test before production use.</small></p></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"guide":{"name":"nagios","displayName":"Nagios","slug":"nagios","description":"Repo for nagios","category":"monitoring","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/nagios","updatedAt":"2025-09-08T03:12:01Z","createdAt":"2025-09-08T03:11:50Z","readmeRaw":"## 👋 Welcome to nagios 🚀  \n\nnagios README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-nagios\" class=\"mobile-header\"\u003e👋 Welcome to nagios 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003enagios README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T01:15:31.099Z"},"category":{"key":"monitoring","name":"Monitoring","description":"Observability and monitoring solutions","icon":"📊","color":"#ffb86c","keywords":["prometheus","grafana","loki","jaeger","nagios","zabbix"]},"relatedGuides":[{"name":"grafana","displayName":"Grafana","slug":"grafana","description":"Repo for grafana","category":"monitoring","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/grafana","updatedAt":"2025-09-08T03:08:21Z","createdAt":"2025-09-08T03:08:10Z","readmeRaw":"# Grafana Installation Guide\n\nOpen-source observability platform for monitoring and visualization. Creates dashboards and alerts from multiple data sources.\n\n## Prerequisites\n\n- Linux system (Ubuntu/Debian, RHEL/CentOS, or compatible)\n- Root or sudo access\n- 2GB RAM minimum, 4GB recommended\n- Data source (Prometheus, InfluxDB, etc.) - optional for initial setup\n\n## Installation\n\n### Using Package Manager (Recommended)\n\n#### Ubuntu/Debian\n```bash\n# Add Grafana GPG key\nwget -q -O - https://packages.grafana.com/gpg.key | sudo apt-key add -\n\n# Add Grafana repository\necho \"deb https://packages.grafana.com/oss/deb stable main\" | sudo tee /etc/apt/sources.list.d/grafana.list\n\n# Update and install\nsudo apt update\nsudo apt install -y grafana\n\n# Enable and start Grafana\nsudo systemctl enable --now grafana-server\n```\n\n#### RHEL/CentOS/Rocky Linux\n```bash\n# Add Grafana repository\nsudo tee /etc/yum.repos.d/grafana.repo \u003e /dev/null \u003c\u003cEOF\n[grafana]\nname=grafana\nbaseurl=https://packages.grafana.com/oss/rpm\nrepo_gpgcheck=1\nenabled=1\ngpgcheck=1\ngpgkey=https://packages.grafana.com/gpg.key\nsslverify=1\nsslcacert=/etc/pki/tls/certs/ca-bundle.crt\nEOF\n\n# Install Grafana\nsudo yum install -y grafana\n\n# Enable and start Grafana\nsudo systemctl enable --now grafana-server\n```\n\n### Using Docker\n```bash\n# Create directories for persistent data\nmkdir -p ~/grafana/{data,provisioning/{datasources,dashboards}}\n\n# Set proper permissions\nsudo chown -R 472:472 ~/grafana/data\n\n# Run Grafana container\ndocker run -d \\\n  --name grafana \\\n  --restart unless-stopped \\\n  -p 3000:3000 \\\n  -v ~/grafana/data:/var/lib/grafana \\\n  -v ~/grafana/provisioning:/etc/grafana/provisioning \\\n  -e \"GF_SECURITY_ADMIN_PASSWORD=admin123\" \\\n  grafana/grafana:latest\n```\n\n### Using Docker Compose\n```bash\n# Create docker-compose.yml\ncat \u003e docker-compose.yml \u003c\u003cEOF\nversion: '3.8'\n\nservices:\n  grafana:\n    image: grafana/grafana:latest\n    container_name: grafana\n    restart: unless-stopped\n    ports:\n      - \"3000:3000\"\n    volumes:\n      - grafana-data:/var/lib/grafana\n      - ./grafana/provisioning:/etc/grafana/provisioning\n    environment:\n      - GF_SECURITY_ADMIN_PASSWORD=admin123\n      - GF_USERS_ALLOW_SIGN_UP=false\n      - GF_SERVER_ROOT_URL=https://grafana.example.com\n    networks:\n      - monitoring\n\nnetworks:\n  monitoring:\n    driver: bridge\n\nvolumes:\n  grafana-data:\nEOF\n\n# Start services\ndocker-compose up -d\n```\n\n## Configuration\n\n### Basic Configuration\n```bash\n# Edit main configuration file\nsudo nano /etc/grafana/grafana.ini\n\n# Key settings to configure:\n[server]\nprotocol = http\nhttp_port = 3000\ndomain = grafana.example.com\nroot_url = https://grafana.example.com\n\n[database]\ntype = sqlite3\npath = grafana.db\n\n# For MySQL\ntype = mysql\nhost = 127.0.0.1:3306\nname = grafana\nuser = grafana\npassword = password\n\n# For PostgreSQL\ntype = postgres\nhost = 127.0.0.1:5432\nname = grafana\nuser = grafana\npassword = password\nssl_mode = disable\n\n[security]\nadmin_user = admin\nadmin_password = admin123\nsecret_key = SW2YcwTIb9zpOOhoPsMm\n\n[users]\nallow_sign_up = false\nallow_org_create = false\nauto_assign_org = true\nauto_assign_org_role = Viewer\n\n[auth.anonymous]\nenabled = false\n\n[smtp]\nenabled = true\nhost = localhost:587\nuser = \npassword = \nfrom_address = admin@grafana.localhost\nfrom_name = Grafana\n\n# Restart Grafana after configuration changes\nsudo systemctl restart grafana-server\n```\n\n### NGINX Reverse Proxy\n```bash\n# Create NGINX configuration for Grafana\nsudo tee /etc/nginx/sites-available/grafana \u003e /dev/null \u003c\u003cEOF\nserver {\n    listen 80;\n    server_name grafana.example.com;\n    return 301 https://\\$server_name\\$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name grafana.example.com;\n\n    ssl_certificate /etc/ssl/certs/grafana.crt;\n    ssl_certificate_key /etc/ssl/private/grafana.key;\n\n    location / {\n        proxy_pass http://localhost:3000;\n        proxy_set_header Host \\$http_host;\n        proxy_set_header X-Real-IP \\$remote_addr;\n        proxy_set_header X-Forwarded-For \\$proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto \\$scheme;\n        \n        # WebSocket support\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade \\$http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n    }\n}\nEOF\n\nsudo ln -s /etc/nginx/sites-available/grafana /etc/nginx/sites-enabled/\nsudo nginx -t \u0026\u0026 sudo systemctl reload nginx\n```\n\n### Data Sources Configuration\n\n#### Prometheus Data Source\n```bash\n# Create datasource provisioning file\nsudo mkdir -p /etc/grafana/provisioning/datasources\nsudo tee /etc/grafana/provisioning/datasources/prometheus.yml \u003e /dev/null \u003c\u003cEOF\napiVersion: 1\n\ndatasources:\n  - name: Prometheus\n    type: prometheus\n    url: http://localhost:9090\n    access: proxy\n    isDefault: true\n    editable: true\n    \n  - name: InfluxDB\n    type: influxdb\n    url: http://localhost:8086\n    database: telegraf\n    user: grafana\n    password: grafana_password\n    \n  - name: MySQL\n    type: mysql\n    url: localhost:3306\n    database: grafana\n    user: grafana\n    password: grafana_password\nEOF\n\nsudo chown -R grafana:grafana /etc/grafana/provisioning\nsudo systemctl restart grafana-server\n```\n\n#### Dashboard Provisioning\n```bash\n# Create dashboard provisioning\nsudo mkdir -p /etc/grafana/provisioning/dashboards\nsudo tee /etc/grafana/provisioning/dashboards/default.yml \u003e /dev/null \u003c\u003cEOF\napiVersion: 1\n\nproviders:\n  - name: 'default'\n    orgId: 1\n    folder: ''\n    type: file\n    disableDeletion: false\n    editable: true\n    updateIntervalSeconds: 10\n    allowUiUpdates: true\n    options:\n      path: /var/lib/grafana/dashboards\nEOF\n\n# Download popular dashboards\nsudo mkdir -p /var/lib/grafana/dashboards\nsudo chown grafana:grafana /var/lib/grafana/dashboards\n\n# Node Exporter dashboard\nsudo wget https://raw.githubusercontent.com/prometheus/node_exporter/master/examples/grafana/node-exporter-full.json -O /var/lib/grafana/dashboards/node-exporter.json\n\n# Docker dashboard\nsudo wget https://grafana.com/api/dashboards/893/revisions/1/download -O /var/lib/grafana/dashboards/docker.json\n\nsudo chown -R grafana:grafana /var/lib/grafana/dashboards\nsudo systemctl restart grafana-server\n```\n\n## Plugin Management\n\n```bash\n# Install plugins\nsudo grafana-cli plugins install grafana-clock-panel\nsudo grafana-cli plugins install grafana-simple-json-datasource\nsudo grafana-cli plugins install grafana-worldmap-panel\nsudo grafana-cli plugins install grafana-piechart-panel\n\n# List installed plugins\nsudo grafana-cli plugins list-remote\nsudo grafana-cli plugins ls\n\n# Update plugins\nsudo grafana-cli plugins update-all\n\n# Remove plugin\nsudo grafana-cli plugins remove grafana-clock-panel\n\n# Restart Grafana after plugin changes\nsudo systemctl restart grafana-server\n```\n\n## Firewall Configuration\n\n```bash\n# UFW (Ubuntu/Debian)\nsudo ufw allow 3000/tcp\nsudo ufw enable\n\n# Firewalld (RHEL/CentOS)\nsudo firewall-cmd --permanent --add-port=3000/tcp\nsudo firewall-cmd --reload\n```\n\n## Verification\n\n```bash\n# Check Grafana status\nsudo systemctl status grafana-server\n\n# Check logs\nsudo journalctl -u grafana-server -f\n\n# Test web interface\ncurl -I http://localhost:3000\n\n# Check listening port\nsudo netstat -tulpn | grep 3000\n\n# Test login\ncurl -X POST \\\n  http://localhost:3000/api/auth/keys \\\n  -H 'Content-Type: application/json' \\\n  -d '{\"name\":\"test\",\"role\":\"Admin\"}'\n\n# Check data sources via API\ncurl -u admin:admin123 http://localhost:3000/api/datasources\n\n# Check dashboard API\ncurl -u admin:admin123 http://localhost:3000/api/search\n\n# Check Grafana version\ngrafana-server --version\n```\n\n## Backup and Restore\n\n```bash\n# Create backup script\nsudo tee /usr/local/bin/grafana-backup.sh \u003e /dev/null \u003c\u003c'EOF'\n#!/bin/bash\nBACKUP_DIR=\"/backup/grafana\"\nDATE=$(date +%Y%m%d_%H%M%S)\n\nmkdir -p ${BACKUP_DIR}\n\n# Stop Grafana\nsystemctl stop grafana-server\n\n# Backup Grafana database and configuration\ntar -czf ${BACKUP_DIR}/grafana-backup-${DATE}.tar.gz \\\n  /var/lib/grafana/ \\\n  /etc/grafana/ \\\n  /etc/systemd/system/grafana-server.service\n\n# Start Grafana\nsystemctl start grafana-server\n\n# Keep only last 7 backups\nfind ${BACKUP_DIR} -name \"grafana-backup-*.tar.gz\" -type f -mtime +7 -delete\n\necho \"Backup completed: grafana-backup-${DATE}.tar.gz\"\nEOF\n\nsudo chmod +x /usr/local/bin/grafana-backup.sh\n\n# Schedule daily backup\necho \"0 3 * * * root /usr/local/bin/grafana-backup.sh\" | sudo tee -a /etc/crontab\n```\n\n## High Availability Setup\n\n### MySQL Backend\n```bash\n# Configure Grafana for MySQL backend\nsudo tee -a /etc/grafana/grafana.ini \u003e /dev/null \u003c\u003cEOF\n\n[database]\ntype = mysql\nhost = mysql-cluster.example.com:3306\nname = grafana\nuser = grafana\npassword = secure_password\nssl_mode = false\n\n[session]\nprovider = mysql\nprovider_config = grafana:secure_password@tcp(mysql-cluster.example.com:3306)/grafana\n\n[remote_cache]\ntype = redis\nconnstr = addr=redis-cluster.example.com:6379,pool_size=100,db=0\nEOF\n```\n\n### Load Balancer Configuration\n```bash\n# HAProxy configuration for Grafana cluster\nsudo tee -a /etc/haproxy/haproxy.cfg \u003e /dev/null \u003c\u003cEOF\n\nfrontend grafana_frontend\n    bind *:80\n    bind *:443 ssl crt /etc/ssl/certs/grafana.pem\n    redirect scheme https if !{ ssl_fc }\n    default_backend grafana_servers\n\nbackend grafana_servers\n    balance roundrobin\n    option httpchk GET /api/health\n    http-check expect status 200\n    server grafana1 192.168.1.40:3000 check\n    server grafana2 192.168.1.41:3000 check\n    server grafana3 192.168.1.42:3000 check\nEOF\n\nsudo systemctl restart haproxy\n```\n\n## Troubleshooting\n\n```bash\n# Check Grafana service status\nsudo systemctl status grafana-server\n\n# View Grafana logs\nsudo tail -f /var/log/grafana/grafana.log\n\n# Check configuration file syntax\nsudo grafana-server --config /etc/grafana/grafana.ini --help\n\n# Test database connection\nsudo -u grafana grafana-cli admin reset-admin-password newpassword\n\n# Check plugin status\nsudo grafana-cli plugins ls\n\n# Debug data source connections\ncurl -u admin:password http://localhost:3000/api/datasources/proxy/1/api/v1/query?query=up\n\n# Check disk space (common issue)\ndf -h /var/lib/grafana\n\n# Reset admin password\nsudo grafana-cli admin reset-admin-password admin123\n\n# Check configuration\nsudo grafana-server --config /etc/grafana/grafana.ini --homepath /usr/share/grafana --help\n```\n\n## Additional Resources\n\n- [Official Documentation](https://grafana.com/docs/grafana/latest/)\n- [Dashboard Gallery](https://grafana.com/grafana/dashboards/)\n- [Plugin Catalog](https://grafana.com/grafana/plugins/)\n- [Community Forum](https://community.grafana.com/)\n- [Grafana Labs Blog](https://grafana.com/blog/)\n\n---\n\n**Note:** This guide is part of the [HowToMgr](https://howtomgr.github.io) collection.","readmeHtml":"\u003ch1 id=\"grafana-installation-guide\" class=\"mobile-header\"\u003eGrafana Installation Guide\u003c/h1\u003e\n\u003cp class=\"mobile-paragraph\"\u003eOpen-source observability platform for monitoring and visualization. Creates dashboards and alerts from multiple data sources.\u003c/p\u003e\n\u003ch2 id=\"prerequisites\" class=\"mobile-header\"\u003ePrerequisites\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003eLinux system (Ubuntu/Debian, RHEL/CentOS, or compatible)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eRoot or sudo access\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e2GB RAM minimum, 4GB recommended\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eData source (Prometheus, InfluxDB, etc.) - optional for initial setup\u003c/li\u003e\n\u003ch2 id=\"installation\" class=\"mobile-header\"\u003eInstallation\u003c/h2\u003e\n\u003ch3 id=\"using-package-manager-recommended\" class=\"mobile-header\"\u003eUsing Package Manager (Recommended)\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Ubuntu/Debian\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Add Grafana GPG key\nwget -q -O - https://packages.grafana.com/gpg.key | sudo apt-key add -\n\n# Add Grafana repository\necho \u0026quot;deb https://packages.grafana.com/oss/deb stable main\u0026quot; | sudo tee /etc/apt/sources.list.d/grafana.list\n\n# Update and install\nsudo apt update\nsudo apt install -y grafana\n\n# Enable and start Grafana\nsudo systemctl enable --now grafana-server\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### RHEL/CentOS/Rocky Linux\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Add Grafana repository\nsudo tee /etc/yum.repos.d/grafana.repo \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n[grafana]\nname=grafana\nbaseurl=https://packages.grafana.com/oss/rpm\nrepo_gpgcheck=1\nenabled=1\ngpgcheck=1\ngpgkey=https://packages.grafana.com/gpg.key\nsslverify=1\nsslcacert=/etc/pki/tls/certs/ca-bundle.crt\nEOF\n\n# Install Grafana\nsudo yum install -y grafana\n\n# Enable and start Grafana\nsudo systemctl enable --now grafana-server\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"using-docker\" class=\"mobile-header\"\u003eUsing Docker\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create directories for persistent data\nmkdir -p ~/grafana/{data,provisioning/{datasources,dashboards}}\n\n# Set proper permissions\nsudo chown -R 472:472 ~/grafana/data\n\n# Run Grafana container\ndocker run -d \\\n  --name grafana \\\n  --restart unless-stopped \\\n  -p 3000:3000 \\\n  -v ~/grafana/data:/var/lib/grafana \\\n  -v ~/grafana/provisioning:/etc/grafana/provisioning \\\n  -e \u0026quot;GF_SECURITY_ADMIN_PASSWORD=admin123\u0026quot; \\\n  grafana/grafana:latest\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"using-docker-compose\" class=\"mobile-header\"\u003eUsing Docker Compose\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create docker-compose.yml\ncat \u0026gt; docker-compose.yml \u0026lt;\u0026lt;EOF\nversion: \u0026#039;3.8\u0026#039;\n\nservices:\n  grafana:\n    image: grafana/grafana:latest\n    container_name: grafana\n    restart: unless-stopped\n    ports:\n      - \u0026quot;3000:3000\u0026quot;\n    volumes:\n      - grafana-data:/var/lib/grafana\n      - ./grafana/provisioning:/etc/grafana/provisioning\n    environment:\n      - GF_SECURITY_ADMIN_PASSWORD=admin123\n      - GF_USERS_ALLOW_SIGN_UP=false\n      - GF_SERVER_ROOT_URL=https://grafana.example.com\n    networks:\n      - monitoring\n\nnetworks:\n  monitoring:\n    driver: bridge\n\nvolumes:\n  grafana-data:\nEOF\n\n# Start services\ndocker-compose up -d\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"configuration\" class=\"mobile-header\"\u003eConfiguration\u003c/h2\u003e\n\u003ch3 id=\"basic-configuration\" class=\"mobile-header\"\u003eBasic Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Edit main configuration file\nsudo nano /etc/grafana/grafana.ini\n\n# Key settings to configure:\n[server]\nprotocol = http\nhttp_port = 3000\ndomain = grafana.example.com\nroot_url = https://grafana.example.com\n\n[database]\ntype = sqlite3\npath = grafana.db\n\n# For MySQL\ntype = mysql\nhost = 127.0.0.1:3306\nname = grafana\nuser = grafana\npassword = password\n\n# For PostgreSQL\ntype = postgres\nhost = 127.0.0.1:5432\nname = grafana\nuser = grafana\npassword = password\nssl_mode = disable\n\n[security]\nadmin_user = admin\nadmin_password = admin123\nsecret_key = SW2YcwTIb9zpOOhoPsMm\n\n[users]\nallow_sign_up = false\nallow_org_create = false\nauto_assign_org = true\nauto_assign_org_role = Viewer\n\n[auth.anonymous]\nenabled = false\n\n[smtp]\nenabled = true\nhost = localhost:587\nuser = \npassword = \nfrom_address = admin@grafana.localhost\nfrom_name = Grafana\n\n# Restart Grafana after configuration changes\nsudo systemctl restart grafana-server\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"nginx-reverse-proxy\" class=\"mobile-header\"\u003eNGINX Reverse Proxy\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create NGINX configuration for Grafana\nsudo tee /etc/nginx/sites-available/grafana \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\nserver {\n    listen 80;\n    server_name grafana.example.com;\n    return 301 https://\\$server_name\\$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name grafana.example.com;\n\n    ssl_certificate /etc/ssl/certs/grafana.crt;\n    ssl_certificate_key /etc/ssl/private/grafana.key;\n\n    location / {\n        proxy_pass http://localhost:3000;\n        proxy_set_header Host \\$http_host;\n        proxy_set_header X-Real-IP \\$remote_addr;\n        proxy_set_header X-Forwarded-For \\$proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto \\$scheme;\n        \n        # WebSocket support\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade \\$http_upgrade;\n        proxy_set_header Connection \u0026quot;upgrade\u0026quot;;\n    }\n}\nEOF\n\nsudo ln -s /etc/nginx/sites-available/grafana /etc/nginx/sites-enabled/\nsudo nginx -t \u0026amp;\u0026amp; sudo systemctl reload nginx\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"data-sources-configuration\" class=\"mobile-header\"\u003eData Sources Configuration\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Prometheus Data Source\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create datasource provisioning file\nsudo mkdir -p /etc/grafana/provisioning/datasources\nsudo tee /etc/grafana/provisioning/datasources/prometheus.yml \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\napiVersion: 1\n\ndatasources:\n  - name: Prometheus\n    type: prometheus\n    url: http://localhost:9090\n    access: proxy\n    isDefault: true\n    editable: true\n    \n  - name: InfluxDB\n    type: influxdb\n    url: http://localhost:8086\n    database: telegraf\n    user: grafana\n    password: grafana_password\n    \n  - name: MySQL\n    type: mysql\n    url: localhost:3306\n    database: grafana\n    user: grafana\n    password: grafana_password\nEOF\n\nsudo chown -R grafana:grafana /etc/grafana/provisioning\nsudo systemctl restart grafana-server\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Dashboard Provisioning\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create dashboard provisioning\nsudo mkdir -p /etc/grafana/provisioning/dashboards\nsudo tee /etc/grafana/provisioning/dashboards/default.yml \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\napiVersion: 1\n\nproviders:\n  - name: \u0026#039;default\u0026#039;\n    orgId: 1\n    folder: \u0026#039;\u0026#039;\n    type: file\n    disableDeletion: false\n    editable: true\n    updateIntervalSeconds: 10\n    allowUiUpdates: true\n    options:\n      path: /var/lib/grafana/dashboards\nEOF\n\n# Download popular dashboards\nsudo mkdir -p /var/lib/grafana/dashboards\nsudo chown grafana:grafana /var/lib/grafana/dashboards\n\n# Node Exporter dashboard\nsudo wget https://raw.githubusercontent.com/prometheus/node_exporter/master/examples/grafana/node-exporter-full.json -O /var/lib/grafana/dashboards/node-exporter.json\n\n# Docker dashboard\nsudo wget https://grafana.com/api/dashboards/893/revisions/1/download -O /var/lib/grafana/dashboards/docker.json\n\nsudo chown -R grafana:grafana /var/lib/grafana/dashboards\nsudo systemctl restart grafana-server\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"plugin-management\" class=\"mobile-header\"\u003ePlugin Management\u003c/h2\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install plugins\nsudo grafana-cli plugins install grafana-clock-panel\nsudo grafana-cli plugins install grafana-simple-json-datasource\nsudo grafana-cli plugins install grafana-worldmap-panel\nsudo grafana-cli plugins install grafana-piechart-panel\n\n# List installed plugins\nsudo grafana-cli plugins list-remote\nsudo grafana-cli plugins ls\n\n# Update plugins\nsudo grafana-cli plugins update-all\n\n# Remove plugin\nsudo grafana-cli plugins remove grafana-clock-panel\n\n# Restart Grafana after plugin changes\nsudo systemctl restart grafana-server\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"firewall-configuration\" class=\"mobile-header\"\u003eFirewall Configuration\u003c/h2\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# UFW (Ubuntu/Debian)\nsudo ufw allow 3000/tcp\nsudo ufw enable\n\n# Firewalld (RHEL/CentOS)\nsudo firewall-cmd --permanent --add-port=3000/tcp\nsudo firewall-cmd --reload\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"verification\" class=\"mobile-header\"\u003eVerification\u003c/h2\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check Grafana status\nsudo systemctl status grafana-server\n\n# Check logs\nsudo journalctl -u grafana-server -f\n\n# Test web interface\ncurl -I http://localhost:3000\n\n# Check listening port\nsudo netstat -tulpn | grep 3000\n\n# Test login\ncurl -X POST \\\n  http://localhost:3000/api/auth/keys \\\n  -H \u0026#039;Content-Type: application/json\u0026#039; \\\n  -d \u0026#039;{\u0026quot;name\u0026quot;:\u0026quot;test\u0026quot;,\u0026quot;role\u0026quot;:\u0026quot;Admin\u0026quot;}\u0026#039;\n\n# Check data sources via API\ncurl -u admin:admin123 http://localhost:3000/api/datasources\n\n# Check dashboard API\ncurl -u admin:admin123 http://localhost:3000/api/search\n\n# Check Grafana version\ngrafana-server --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"backup-and-restore\" class=\"mobile-header\"\u003eBackup and Restore\u003c/h2\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create backup script\nsudo tee /usr/local/bin/grafana-backup.sh \u0026gt; /dev/null \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\nBACKUP_DIR=\u0026quot;/backup/grafana\u0026quot;\nDATE=$(date +%Y%m%d_%H%M%S)\n\nmkdir -p ${BACKUP_DIR}\n\n# Stop Grafana\nsystemctl stop grafana-server\n\n# Backup Grafana database and configuration\ntar -czf ${BACKUP_DIR}/grafana-backup-${DATE}.tar.gz \\\n  /var/lib/grafana/ \\\n  /etc/grafana/ \\\n  /etc/systemd/system/grafana-server.service\n\n# Start Grafana\nsystemctl start grafana-server\n\n# Keep only last 7 backups\nfind ${BACKUP_DIR} -name \u0026quot;grafana-backup-*.tar.gz\u0026quot; -type f -mtime +7 -delete\n\necho \u0026quot;Backup completed: grafana-backup-${DATE}.tar.gz\u0026quot;\nEOF\n\nsudo chmod +x /usr/local/bin/grafana-backup.sh\n\n# Schedule daily backup\necho \u0026quot;0 3 * * * root /usr/local/bin/grafana-backup.sh\u0026quot; | sudo tee -a /etc/crontab\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"high-availability-setup\" class=\"mobile-header\"\u003eHigh Availability Setup\u003c/h2\u003e\n\u003ch3 id=\"mysql-backend\" class=\"mobile-header\"\u003eMySQL Backend\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure Grafana for MySQL backend\nsudo tee -a /etc/grafana/grafana.ini \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n\n[database]\ntype = mysql\nhost = mysql-cluster.example.com:3306\nname = grafana\nuser = grafana\npassword = secure_password\nssl_mode = false\n\n[session]\nprovider = mysql\nprovider_config = grafana:secure_password@tcp(mysql-cluster.example.com:3306)/grafana\n\n[remote_cache]\ntype = redis\nconnstr = addr=redis-cluster.example.com:6379,pool_size=100,db=0\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"load-balancer-configuration\" class=\"mobile-header\"\u003eLoad Balancer Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# HAProxy configuration for Grafana cluster\nsudo tee -a /etc/haproxy/haproxy.cfg \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n\nfrontend grafana_frontend\n    bind *:80\n    bind *:443 ssl crt /etc/ssl/certs/grafana.pem\n    redirect scheme https if !{ ssl_fc }\n    default_backend grafana_servers\n\nbackend grafana_servers\n    balance roundrobin\n    option httpchk GET /api/health\n    http-check expect status 200\n    server grafana1 192.168.1.40:3000 check\n    server grafana2 192.168.1.41:3000 check\n    server grafana3 192.168.1.42:3000 check\nEOF\n\nsudo systemctl restart haproxy\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"troubleshooting\" class=\"mobile-header\"\u003eTroubleshooting\u003c/h2\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check Grafana service status\nsudo systemctl status grafana-server\n\n# View Grafana logs\nsudo tail -f /var/log/grafana/grafana.log\n\n# Check configuration file syntax\nsudo grafana-server --config /etc/grafana/grafana.ini --help\n\n# Test database connection\nsudo -u grafana grafana-cli admin reset-admin-password newpassword\n\n# Check plugin status\nsudo grafana-cli plugins ls\n\n# Debug data source connections\ncurl -u admin:password http://localhost:3000/api/datasources/proxy/1/api/v1/query?query=up\n\n# Check disk space (common issue)\ndf -h /var/lib/grafana\n\n# Reset admin password\nsudo grafana-cli admin reset-admin-password admin123\n\n# Check configuration\nsudo grafana-server --config /etc/grafana/grafana.ini --homepath /usr/share/grafana --help\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"additional-resources\" class=\"mobile-header\"\u003eAdditional Resources\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://grafana.com/docs/grafana/latest/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eOfficial Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://grafana.com/grafana/dashboards/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eDashboard Gallery\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://grafana.com/grafana/plugins/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003ePlugin Catalog\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://community.grafana.com/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eCommunity Forum\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://grafana.com/blog/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGrafana Labs Blog\u003c/a\u003e\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e---\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This guide is part of the \u003ca href=\"https://howtomgr.github.io\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eHowToMgr\u003c/a\u003e collection.\u003c/p\u003e","readTime":"6 min","wordCount":1128,"lastBuilt":"2025-09-14T01:15:33.735Z"},{"name":"prometheus","displayName":"Prometheus","slug":"prometheus","description":"Repo for prometheus","category":"monitoring","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/prometheus","updatedAt":"2025-09-08T03:14:53Z","createdAt":"2025-09-08T03:14:43Z","readmeRaw":"# Prometheus Installation Guide\n\nOpen-source monitoring and alerting toolkit. Collects and stores metrics as time series data for monitoring system performance.\n\n## Prerequisites\n\n- Linux system (Ubuntu/Debian, RHEL/CentOS, or compatible)\n- Root or sudo access\n- 4GB RAM minimum, 8GB recommended for production\n- Persistent storage for time series data\n\n## Installation\n\n### Using Pre-compiled Binaries\n```bash\n# Create prometheus user\nsudo useradd --no-create-home --shell /bin/false prometheus\n\n# Create directories\nsudo mkdir -p /etc/prometheus /var/lib/prometheus\nsudo chown prometheus:prometheus /etc/prometheus /var/lib/prometheus\n\n# Download and install Prometheus\ncd /tmp\nwget https://github.com/prometheus/prometheus/releases/download/v2.45.0/prometheus-2.45.0.linux-amd64.tar.gz\ntar xzf prometheus-2.45.0.linux-amd64.tar.gz\ncd prometheus-2.45.0.linux-amd64\n\n# Copy binaries\nsudo cp prometheus promtool /usr/local/bin/\nsudo chown prometheus:prometheus /usr/local/bin/prometheus /usr/local/bin/promtool\n\n# Copy configuration files\nsudo cp -r consoles console_libraries /etc/prometheus/\nsudo chown -R prometheus:prometheus /etc/prometheus/consoles /etc/prometheus/console_libraries\n```\n\n### Using Package Manager (Ubuntu/Debian)\n```bash\n# Add Prometheus APT repository\nwget -qO - https://packages.grafana.com/gpg.key | sudo apt-key add -\necho \"deb https://packages.grafana.com/oss/deb stable main\" | sudo tee /etc/apt/sources.list.d/grafana.list\n\n# Install Prometheus\nsudo apt update\nsudo apt install -y prometheus\n\n# Start and enable Prometheus\nsudo systemctl enable --now prometheus\n```\n\n### Using Docker\n```bash\n# Create directories for persistent data\nmkdir -p ~/prometheus/data ~/prometheus/config\n\n# Create basic configuration\ncat \u003e ~/prometheus/config/prometheus.yml \u003c\u003cEOF\nglobal:\n  scrape_interval: 15s\n  evaluation_interval: 15s\n\nrule_files:\n  # - \"first_rules.yml\"\n  # - \"second_rules.yml\"\n\nscrape_configs:\n  - job_name: 'prometheus'\n    static_configs:\n      - targets: ['localhost:9090']\n\n  - job_name: 'node'\n    static_configs:\n      - targets: ['localhost:9100']\nEOF\n\n# Run Prometheus container\ndocker run -d \\\n  --name prometheus \\\n  -p 9090:9090 \\\n  -v ~/prometheus/config/prometheus.yml:/etc/prometheus/prometheus.yml \\\n  -v ~/prometheus/data:/prometheus \\\n  prom/prometheus:latest \\\n  --config.file=/etc/prometheus/prometheus.yml \\\n  --storage.tsdb.path=/prometheus \\\n  --web.console.libraries=/etc/prometheus/console_libraries \\\n  --web.console.templates=/etc/prometheus/consoles \\\n  --storage.tsdb.retention.time=200h \\\n  --web.enable-lifecycle\n```\n\n## Configuration\n\n### Basic Configuration\n```bash\n# Create main configuration file\nsudo tee /etc/prometheus/prometheus.yml \u003e /dev/null \u003c\u003cEOF\nglobal:\n  scrape_interval:     15s\n  evaluation_interval: 15s\n\nalerting:\n  alertmanagers:\n    - static_configs:\n        - targets:\n          # - alertmanager:9093\n\nrule_files:\n  - \"/etc/prometheus/rules/*.yml\"\n\nscrape_configs:\n  - job_name: 'prometheus'\n    static_configs:\n      - targets: ['localhost:9090']\n\n  - job_name: 'node-exporter'\n    static_configs:\n      - targets: \n        - 'localhost:9100'\n        - '192.168.1.10:9100'\n        - '192.168.1.11:9100'\n\n  - job_name: 'blackbox'\n    metrics_path: /probe\n    params:\n      module: [http_2xx]\n    static_configs:\n      - targets:\n        - https://example.com\n        - https://google.com\n    relabel_configs:\n      - source_labels: [__address__]\n        target_label: __param_target\n      - source_labels: [__param_target]\n        target_label: instance\n      - target_label: __address__\n        replacement: localhost:9115\n\n  - job_name: 'nginx-exporter'\n    static_configs:\n      - targets: ['localhost:9113']\n\n  - job_name: 'mysql-exporter'\n    static_configs:\n      - targets: ['localhost:9104']\nEOF\n\nsudo chown prometheus:prometheus /etc/prometheus/prometheus.yml\n```\n\n### Create SystemD Service\n```bash\nsudo tee /etc/systemd/system/prometheus.service \u003e /dev/null \u003c\u003cEOF\n[Unit]\nDescription=Prometheus\nWants=network-online.target\nAfter=network-online.target\n\n[Service]\nUser=prometheus\nGroup=prometheus\nType=simple\nExecStart=/usr/local/bin/prometheus \\\n    --config.file /etc/prometheus/prometheus.yml \\\n    --storage.tsdb.path /var/lib/prometheus/ \\\n    --web.console.libraries=/etc/prometheus/console_libraries \\\n    --web.console.templates=/etc/prometheus/consoles \\\n    --storage.tsdb.retention.time=200h \\\n    --web.enable-lifecycle\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsudo systemctl daemon-reload\nsudo systemctl enable --now prometheus\n```\n\n### Install Node Exporter\n```bash\n# Download Node Exporter\ncd /tmp\nwget https://github.com/prometheus/node_exporter/releases/download/v1.6.0/node_exporter-1.6.0.linux-amd64.tar.gz\ntar xzf node_exporter-1.6.0.linux-amd64.tar.gz\n\n# Install Node Exporter\nsudo cp node_exporter-1.6.0.linux-amd64/node_exporter /usr/local/bin/\nsudo chown prometheus:prometheus /usr/local/bin/node_exporter\n\n# Create systemd service for Node Exporter\nsudo tee /etc/systemd/system/node_exporter.service \u003e /dev/null \u003c\u003cEOF\n[Unit]\nDescription=Node Exporter\nWants=network-online.target\nAfter=network-online.target\n\n[Service]\nUser=prometheus\nGroup=prometheus\nType=simple\nExecStart=/usr/local/bin/node_exporter \\\n    --collector.systemd \\\n    --collector.processes \\\n    --collector.interrupts\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsudo systemctl daemon-reload\nsudo systemctl enable --now node_exporter\n```\n\n## Alerting Rules\n\n```bash\n# Create rules directory\nsudo mkdir -p /etc/prometheus/rules\nsudo chown prometheus:prometheus /etc/prometheus/rules\n\n# Create basic alerting rules\nsudo tee /etc/prometheus/rules/basic.yml \u003e /dev/null \u003c\u003cEOF\ngroups:\n- name: basic.rules\n  rules:\n  - alert: InstanceDown\n    expr: up == 0\n    for: 1m\n    labels:\n      severity: critical\n    annotations:\n      summary: \"Instance {{ \\$labels.instance }} down\"\n      description: \"{{ \\$labels.instance }} of job {{ \\$labels.job }} has been down for more than 1 minute.\"\n\n  - alert: HighCpuLoad\n    expr: 100 - (avg by(instance) (irate(node_cpu_seconds_total{mode=\"idle\"}[5m])) * 100) \u003e 80\n    for: 2m\n    labels:\n      severity: warning\n    annotations:\n      summary: \"High CPU load (instance {{ \\$labels.instance }})\"\n      description: \"CPU load is \u003e 80%\\n  VALUE = {{ \\$value }}\\n  LABELS: {{ \\$labels }}\"\n\n  - alert: HighMemoryLoad\n    expr: (sum(node_memory_MemTotal_bytes) - sum(node_memory_MemFree_bytes + node_memory_Buffers_bytes + node_memory_Cached_bytes) ) / sum(node_memory_MemTotal_bytes) * 100 \u003e 80\n    for: 2m\n    labels:\n      severity: warning\n    annotations:\n      summary: \"High memory load (instance {{ \\$labels.instance }})\"\n      description: \"Memory load is \u003e 80%\\n  VALUE = {{ \\$value }}\\n  LABELS: {{ \\$labels }}\"\n\n  - alert: HighDiskLoad\n    expr: 100 - ((node_filesystem_avail_bytes{mountpoint=\"/\",fstype!=\"rootfs\"} * 100) / node_filesystem_size_bytes{mountpoint=\"/\",fstype!=\"rootfs\"}) \u003e 85\n    for: 2m\n    labels:\n      severity: warning\n    annotations:\n      summary: \"High disk load (instance {{ \\$labels.instance }})\"\n      description: \"Disk load is \u003e 85%\\n  VALUE = {{ \\$value }}\\n  LABELS: {{ \\$labels }}\"\n\n  - alert: ServiceDown\n    expr: node_systemd_unit_state{state=\"active\"} == 0\n    for: 1m\n    labels:\n      severity: critical\n    annotations:\n      summary: \"Service {{ \\$labels.name }} down on {{ \\$labels.instance }}\"\n      description: \"Service {{ \\$labels.name }} is down on {{ \\$labels.instance }}\"\nEOF\n\nsudo chown prometheus:prometheus /etc/prometheus/rules/basic.yml\n```\n\n## Service Discovery\n\n### File-based Service Discovery\n```bash\n# Create service discovery directory\nsudo mkdir -p /etc/prometheus/targets\nsudo chown prometheus:prometheus /etc/prometheus/targets\n\n# Create target files\nsudo tee /etc/prometheus/targets/web-servers.json \u003e /dev/null \u003c\u003cEOF\n[\n  {\n    \"targets\": [\"192.168.1.10:9100\", \"192.168.1.11:9100\"],\n    \"labels\": {\n      \"job\": \"web-servers\",\n      \"environment\": \"production\",\n      \"team\": \"infrastructure\"\n    }\n  },\n  {\n    \"targets\": [\"192.168.1.20:9100\", \"192.168.1.21:9100\"],\n    \"labels\": {\n      \"job\": \"database-servers\",\n      \"environment\": \"production\",\n      \"team\": \"database\"\n    }\n  }\n]\nEOF\n\n# Update prometheus.yml to use file discovery\nsudo tee -a /etc/prometheus/prometheus.yml \u003e /dev/null \u003c\u003cEOF\n\n  - job_name: 'file-discovery'\n    file_sd_configs:\n      - files:\n        - '/etc/prometheus/targets/*.json'\n        refresh_interval: 1m\nEOF\n```\n\n## Firewall Configuration\n\n```bash\n# UFW (Ubuntu/Debian)\nsudo ufw allow 9090/tcp  # Prometheus web UI\nsudo ufw allow 9100/tcp  # Node Exporter\nsudo ufw enable\n\n# Firewalld (RHEL/CentOS)\nsudo firewall-cmd --permanent --add-port=9090/tcp\nsudo firewall-cmd --permanent --add-port=9100/tcp\nsudo firewall-cmd --reload\n```\n\n## Verification\n\n```bash\n# Check Prometheus status\nsudo systemctl status prometheus\n\n# Check Node Exporter status\nsudo systemctl status node_exporter\n\n# Test Prometheus configuration\nsudo -u prometheus /usr/local/bin/promtool check config /etc/prometheus/prometheus.yml\n\n# Test alerting rules\nsudo -u prometheus /usr/local/bin/promtool check rules /etc/prometheus/rules/*.yml\n\n# Check if services are listening\nsudo netstat -tulpn | grep -E ':(9090|9100)'\n\n# Test web interface\ncurl http://localhost:9090/metrics\ncurl http://localhost:9100/metrics\n\n# Query Prometheus API\ncurl -G http://localhost:9090/api/v1/query --data-urlencode 'query=up'\n\n# View targets status\ncurl http://localhost:9090/api/v1/targets\n```\n\n## Common Exporters Installation\n\n### NGINX Exporter\n```bash\n# Download and install nginx-exporter\ncd /tmp\nwget https://github.com/nginxinc/nginx-prometheus-exporter/releases/download/v0.10.0/nginx-prometheus-exporter_0.10.0_linux_amd64.tar.gz\ntar xzf nginx-prometheus-exporter_0.10.0_linux_amd64.tar.gz\nsudo cp nginx-prometheus-exporter /usr/local/bin/\n\n# Configure NGINX stub status\necho 'server {\n    listen 127.0.0.1:8080;\n    location /stub_status {\n        stub_status on;\n        allow 127.0.0.1;\n        deny all;\n    }\n}' | sudo tee /etc/nginx/sites-available/stub_status\n\nsudo ln -s /etc/nginx/sites-available/stub_status /etc/nginx/sites-enabled/\nsudo systemctl reload nginx\n\n# Create systemd service\nsudo tee /etc/systemd/system/nginx-exporter.service \u003e /dev/null \u003c\u003cEOF\n[Unit]\nDescription=NGINX Exporter\nAfter=network.target\n\n[Service]\nType=simple\nUser=prometheus\nExecStart=/usr/local/bin/nginx-prometheus-exporter -nginx.scrape-uri=http://127.0.0.1:8080/stub_status\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsudo systemctl daemon-reload\nsudo systemctl enable --now nginx-exporter\n```\n\n### MySQL Exporter\n```bash\n# Create MySQL user for monitoring\nmysql -u root -p \u003c\u003cEOF\nCREATE USER 'exporter'@'localhost' IDENTIFIED BY 'XXXXXXXX' WITH MAX_USER_CONNECTIONS 3;\nGRANT PROCESS, REPLICATION CLIENT, SELECT ON *.* TO 'exporter'@'localhost';\nFLUSH PRIVILEGES;\nEOF\n\n# Download and install mysqld-exporter\ncd /tmp\nwget https://github.com/prometheus/mysqld_exporter/releases/download/v0.14.0/mysqld_exporter-0.14.0.linux-amd64.tar.gz\ntar xzf mysqld_exporter-0.14.0.linux-amd64.tar.gz\nsudo cp mysqld_exporter-0.14.0.linux-amd64/mysqld_exporter /usr/local/bin/\n\n# Create configuration file\nsudo tee /etc/prometheus/.my.cnf \u003e /dev/null \u003c\u003cEOF\n[client]\nuser=exporter\npassword=XXXXXXXX\nhost=localhost\nport=3306\nEOF\n\nsudo chown prometheus:prometheus /etc/prometheus/.my.cnf\nsudo chmod 600 /etc/prometheus/.my.cnf\n\n# Create systemd service\nsudo tee /etc/systemd/system/mysql-exporter.service \u003e /dev/null \u003c\u003cEOF\n[Unit]\nDescription=MySQL Exporter\nAfter=network.target\n\n[Service]\nType=simple\nUser=prometheus\nEnvironment=DATA_SOURCE_NAME=exporter:XXXXXXXX@(localhost:3306)/\nExecStart=/usr/local/bin/mysqld_exporter --config.my-cnf=/etc/prometheus/.my.cnf\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsudo systemctl daemon-reload\nsudo systemctl enable --now mysql-exporter\n```\n\n## Performance Tuning\n\n```bash\n# Update Prometheus configuration for performance\nsudo tee -a /etc/prometheus/prometheus.yml \u003e /dev/null \u003c\u003cEOF\n\nglobal:\n  scrape_interval:     30s\n  evaluation_interval: 30s\n  external_labels:\n    cluster: 'production'\n    replica: 'prometheus-01'\n\n# Performance settings for systemd service\nsudo tee /etc/systemd/system/prometheus.service.d/performance.conf \u003e /dev/null \u003c\u003cEOF\n[Service]\nExecStart=\nExecStart=/usr/local/bin/prometheus \\\n    --config.file /etc/prometheus/prometheus.yml \\\n    --storage.tsdb.path /var/lib/prometheus/ \\\n    --web.console.libraries=/etc/prometheus/console_libraries \\\n    --web.console.templates=/etc/prometheus/consoles \\\n    --storage.tsdb.retention.time=30d \\\n    --storage.tsdb.retention.size=50GB \\\n    --storage.tsdb.wal-compression \\\n    --web.enable-lifecycle \\\n    --web.enable-admin-api\nEOF\n\nsudo systemctl daemon-reload\nsudo systemctl restart prometheus\n```\n\n## Backup and Restore\n\n```bash\n# Create backup script\nsudo tee /usr/local/bin/prometheus-backup.sh \u003e /dev/null \u003c\u003c'EOF'\n#!/bin/bash\nBACKUP_DIR=\"/backup/prometheus\"\nPROMETHEUS_DATA=\"/var/lib/prometheus\"\nDATE=$(date +%Y%m%d_%H%M%S)\n\nmkdir -p ${BACKUP_DIR}\n\n# Stop Prometheus\nsystemctl stop prometheus\n\n# Create backup\ntar -czf ${BACKUP_DIR}/prometheus_backup_${DATE}.tar.gz -C ${PROMETHEUS_DATA} .\n\n# Start Prometheus\nsystemctl start prometheus\n\n# Keep only last 7 backups\nfind ${BACKUP_DIR} -name \"prometheus_backup_*.tar.gz\" -type f -mtime +7 -delete\n\necho \"Backup completed: prometheus_backup_${DATE}.tar.gz\"\nEOF\n\nsudo chmod +x /usr/local/bin/prometheus-backup.sh\n\n# Schedule daily backup\necho \"0 2 * * * root /usr/local/bin/prometheus-backup.sh\" | sudo tee -a /etc/crontab\n```\n\n## Troubleshooting\n\n```bash\n# Check Prometheus logs\nsudo journalctl -u prometheus -f\n\n# Check Node Exporter logs\nsudo journalctl -u node_exporter -f\n\n# Verify configuration syntax\nsudo -u prometheus /usr/local/bin/promtool check config /etc/prometheus/prometheus.yml\n\n# Check rule syntax\nsudo -u prometheus /usr/local/bin/promtool check rules /etc/prometheus/rules/*.yml\n\n# Test specific target connectivity\ncurl -m 5 http://192.168.1.10:9100/metrics\n\n# Check disk space usage\ndu -sh /var/lib/prometheus/\n\n# View current configuration\ncurl http://localhost:9090/api/v1/status/config\n\n# Reload configuration without restart\ncurl -X POST http://localhost:9090/-/reload\n```\n\n## Additional Resources\n\n- [Official Documentation](https://prometheus.io/docs/)\n- [Prometheus Configuration](https://prometheus.io/docs/prometheus/latest/configuration/configuration/)\n- [Alerting Rules](https://prometheus.io/docs/prometheus/latest/configuration/alerting_rules/)\n- [Best Practices](https://prometheus.io/docs/practices/rules/)\n- [Exporters and Integrations](https://prometheus.io/docs/instrumenting/exporters/)\n\n---\n\n**Note:** This guide is part of the [HowToMgr](https://howtomgr.github.io) collection.","readmeHtml":"\u003ch1 id=\"prometheus-installation-guide\" class=\"mobile-header\"\u003ePrometheus Installation Guide\u003c/h1\u003e\n\u003cp class=\"mobile-paragraph\"\u003eOpen-source monitoring and alerting toolkit. Collects and stores metrics as time series data for monitoring system performance.\u003c/p\u003e\n\u003ch2 id=\"prerequisites\" class=\"mobile-header\"\u003ePrerequisites\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003eLinux system (Ubuntu/Debian, RHEL/CentOS, or compatible)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eRoot or sudo access\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e4GB RAM minimum, 8GB recommended for production\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePersistent storage for time series data\u003c/li\u003e\n\u003ch2 id=\"installation\" class=\"mobile-header\"\u003eInstallation\u003c/h2\u003e\n\u003ch3 id=\"using-pre-compiled-binaries\" class=\"mobile-header\"\u003eUsing Pre-compiled Binaries\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create prometheus user\nsudo useradd --no-create-home --shell /bin/false prometheus\n\n# Create directories\nsudo mkdir -p /etc/prometheus /var/lib/prometheus\nsudo chown prometheus:prometheus /etc/prometheus /var/lib/prometheus\n\n# Download and install Prometheus\ncd /tmp\nwget https://github.com/prometheus/prometheus/releases/download/v2.45.0/prometheus-2.45.0.linux-amd64.tar.gz\ntar xzf prometheus-2.45.0.linux-amd64.tar.gz\ncd prometheus-2.45.0.linux-amd64\n\n# Copy binaries\nsudo cp prometheus promtool /usr/local/bin/\nsudo chown prometheus:prometheus /usr/local/bin/prometheus /usr/local/bin/promtool\n\n# Copy configuration files\nsudo cp -r consoles console_libraries /etc/prometheus/\nsudo chown -R prometheus:prometheus /etc/prometheus/consoles /etc/prometheus/console_libraries\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"using-package-manager-ubuntudebian\" class=\"mobile-header\"\u003eUsing Package Manager (Ubuntu/Debian)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Add Prometheus APT repository\nwget -qO - https://packages.grafana.com/gpg.key | sudo apt-key add -\necho \u0026quot;deb https://packages.grafana.com/oss/deb stable main\u0026quot; | sudo tee /etc/apt/sources.list.d/grafana.list\n\n# Install Prometheus\nsudo apt update\nsudo apt install -y prometheus\n\n# Start and enable Prometheus\nsudo systemctl enable --now prometheus\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"using-docker\" class=\"mobile-header\"\u003eUsing Docker\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create directories for persistent data\nmkdir -p ~/prometheus/data ~/prometheus/config\n\n# Create basic configuration\ncat \u0026gt; ~/prometheus/config/prometheus.yml \u0026lt;\u0026lt;EOF\nglobal:\n  scrape_interval: 15s\n  evaluation_interval: 15s\n\nrule_files:\n  # - \u0026quot;first_rules.yml\u0026quot;\n  # - \u0026quot;second_rules.yml\u0026quot;\n\nscrape_configs:\n  - job_name: \u0026#039;prometheus\u0026#039;\n    static_configs:\n      - targets: [\u0026#039;localhost:9090\u0026#039;]\n\n  - job_name: \u0026#039;node\u0026#039;\n    static_configs:\n      - targets: [\u0026#039;localhost:9100\u0026#039;]\nEOF\n\n# Run Prometheus container\ndocker run -d \\\n  --name prometheus \\\n  -p 9090:9090 \\\n  -v ~/prometheus/config/prometheus.yml:/etc/prometheus/prometheus.yml \\\n  -v ~/prometheus/data:/prometheus \\\n  prom/prometheus:latest \\\n  --config.file=/etc/prometheus/prometheus.yml \\\n  --storage.tsdb.path=/prometheus \\\n  --web.console.libraries=/etc/prometheus/console_libraries \\\n  --web.console.templates=/etc/prometheus/consoles \\\n  --storage.tsdb.retention.time=200h \\\n  --web.enable-lifecycle\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"configuration\" class=\"mobile-header\"\u003eConfiguration\u003c/h2\u003e\n\u003ch3 id=\"basic-configuration\" class=\"mobile-header\"\u003eBasic Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create main configuration file\nsudo tee /etc/prometheus/prometheus.yml \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\nglobal:\n  scrape_interval:     15s\n  evaluation_interval: 15s\n\nalerting:\n  alertmanagers:\n    - static_configs:\n        - targets:\n          # - alertmanager:9093\n\nrule_files:\n  - \u0026quot;/etc/prometheus/rules/*.yml\u0026quot;\n\nscrape_configs:\n  - job_name: \u0026#039;prometheus\u0026#039;\n    static_configs:\n      - targets: [\u0026#039;localhost:9090\u0026#039;]\n\n  - job_name: \u0026#039;node-exporter\u0026#039;\n    static_configs:\n      - targets: \n        - \u0026#039;localhost:9100\u0026#039;\n        - \u0026#039;192.168.1.10:9100\u0026#039;\n        - \u0026#039;192.168.1.11:9100\u0026#039;\n\n  - job_name: \u0026#039;blackbox\u0026#039;\n    metrics_path: /probe\n    params:\n      module: [http_2xx]\n    static_configs:\n      - targets:\n        - https://example.com\n        - https://google.com\n    relabel_configs:\n      - source_labels: [__address__]\n        target_label: __param_target\n      - source_labels: [__param_target]\n        target_label: instance\n      - target_label: __address__\n        replacement: localhost:9115\n\n  - job_name: \u0026#039;nginx-exporter\u0026#039;\n    static_configs:\n      - targets: [\u0026#039;localhost:9113\u0026#039;]\n\n  - job_name: \u0026#039;mysql-exporter\u0026#039;\n    static_configs:\n      - targets: [\u0026#039;localhost:9104\u0026#039;]\nEOF\n\nsudo chown prometheus:prometheus /etc/prometheus/prometheus.yml\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"create-systemd-service\" class=\"mobile-header\"\u003eCreate SystemD Service\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003esudo tee /etc/systemd/system/prometheus.service \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n[Unit]\nDescription=Prometheus\nWants=network-online.target\nAfter=network-online.target\n\n[Service]\nUser=prometheus\nGroup=prometheus\nType=simple\nExecStart=/usr/local/bin/prometheus \\\n    --config.file /etc/prometheus/prometheus.yml \\\n    --storage.tsdb.path /var/lib/prometheus/ \\\n    --web.console.libraries=/etc/prometheus/console_libraries \\\n    --web.console.templates=/etc/prometheus/consoles \\\n    --storage.tsdb.retention.time=200h \\\n    --web.enable-lifecycle\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsudo systemctl daemon-reload\nsudo systemctl enable --now prometheus\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"install-node-exporter\" class=\"mobile-header\"\u003eInstall Node Exporter\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Download Node Exporter\ncd /tmp\nwget https://github.com/prometheus/node_exporter/releases/download/v1.6.0/node_exporter-1.6.0.linux-amd64.tar.gz\ntar xzf node_exporter-1.6.0.linux-amd64.tar.gz\n\n# Install Node Exporter\nsudo cp node_exporter-1.6.0.linux-amd64/node_exporter /usr/local/bin/\nsudo chown prometheus:prometheus /usr/local/bin/node_exporter\n\n# Create systemd service for Node Exporter\nsudo tee /etc/systemd/system/node_exporter.service \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n[Unit]\nDescription=Node Exporter\nWants=network-online.target\nAfter=network-online.target\n\n[Service]\nUser=prometheus\nGroup=prometheus\nType=simple\nExecStart=/usr/local/bin/node_exporter \\\n    --collector.systemd \\\n    --collector.processes \\\n    --collector.interrupts\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsudo systemctl daemon-reload\nsudo systemctl enable --now node_exporter\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"alerting-rules\" class=\"mobile-header\"\u003eAlerting Rules\u003c/h2\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create rules directory\nsudo mkdir -p /etc/prometheus/rules\nsudo chown prometheus:prometheus /etc/prometheus/rules\n\n# Create basic alerting rules\nsudo tee /etc/prometheus/rules/basic.yml \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\ngroups:\n- name: basic.rules\n  rules:\n  - alert: InstanceDown\n    expr: up == 0\n    for: 1m\n    labels:\n      severity: critical\n    annotations:\n      summary: \u0026quot;Instance {{ \\$labels.instance }} down\u0026quot;\n      description: \u0026quot;{{ \\$labels.instance }} of job {{ \\$labels.job }} has been down for more than 1 minute.\u0026quot;\n\n  - alert: HighCpuLoad\n    expr: 100 - (avg by(instance) (irate(node_cpu_seconds_total{mode=\u0026quot;idle\u0026quot;}[5m])) * 100) \u0026gt; 80\n    for: 2m\n    labels:\n      severity: warning\n    annotations:\n      summary: \u0026quot;High CPU load (instance {{ \\$labels.instance }})\u0026quot;\n      description: \u0026quot;CPU load is \u0026gt; 80%\\n  VALUE = {{ \\$value }}\\n  LABELS: {{ \\$labels }}\u0026quot;\n\n  - alert: HighMemoryLoad\n    expr: (sum(node_memory_MemTotal_bytes) - sum(node_memory_MemFree_bytes + node_memory_Buffers_bytes + node_memory_Cached_bytes) ) / sum(node_memory_MemTotal_bytes) * 100 \u0026gt; 80\n    for: 2m\n    labels:\n      severity: warning\n    annotations:\n      summary: \u0026quot;High memory load (instance {{ \\$labels.instance }})\u0026quot;\n      description: \u0026quot;Memory load is \u0026gt; 80%\\n  VALUE = {{ \\$value }}\\n  LABELS: {{ \\$labels }}\u0026quot;\n\n  - alert: HighDiskLoad\n    expr: 100 - ((node_filesystem_avail_bytes{mountpoint=\u0026quot;/\u0026quot;,fstype!=\u0026quot;rootfs\u0026quot;} * 100) / node_filesystem_size_bytes{mountpoint=\u0026quot;/\u0026quot;,fstype!=\u0026quot;rootfs\u0026quot;}) \u0026gt; 85\n    for: 2m\n    labels:\n      severity: warning\n    annotations:\n      summary: \u0026quot;High disk load (instance {{ \\$labels.instance }})\u0026quot;\n      description: \u0026quot;Disk load is \u0026gt; 85%\\n  VALUE = {{ \\$value }}\\n  LABELS: {{ \\$labels }}\u0026quot;\n\n  - alert: ServiceDown\n    expr: node_systemd_unit_state{state=\u0026quot;active\u0026quot;} == 0\n    for: 1m\n    labels:\n      severity: critical\n    annotations:\n      summary: \u0026quot;Service {{ \\$labels.name }} down on {{ \\$labels.instance }}\u0026quot;\n      description: \u0026quot;Service {{ \\$labels.name }} is down on {{ \\$labels.instance }}\u0026quot;\nEOF\n\nsudo chown prometheus:prometheus /etc/prometheus/rules/basic.yml\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"service-discovery\" class=\"mobile-header\"\u003eService Discovery\u003c/h2\u003e\n\u003ch3 id=\"file-based-service-discovery\" class=\"mobile-header\"\u003eFile-based Service Discovery\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create service discovery directory\nsudo mkdir -p /etc/prometheus/targets\nsudo chown prometheus:prometheus /etc/prometheus/targets\n\n# Create target files\nsudo tee /etc/prometheus/targets/web-servers.json \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n[\n  {\n    \u0026quot;targets\u0026quot;: [\u0026quot;192.168.1.10:9100\u0026quot;, \u0026quot;192.168.1.11:9100\u0026quot;],\n    \u0026quot;labels\u0026quot;: {\n      \u0026quot;job\u0026quot;: \u0026quot;web-servers\u0026quot;,\n      \u0026quot;environment\u0026quot;: \u0026quot;production\u0026quot;,\n      \u0026quot;team\u0026quot;: \u0026quot;infrastructure\u0026quot;\n    }\n  },\n  {\n    \u0026quot;targets\u0026quot;: [\u0026quot;192.168.1.20:9100\u0026quot;, \u0026quot;192.168.1.21:9100\u0026quot;],\n    \u0026quot;labels\u0026quot;: {\n      \u0026quot;job\u0026quot;: \u0026quot;database-servers\u0026quot;,\n      \u0026quot;environment\u0026quot;: \u0026quot;production\u0026quot;,\n      \u0026quot;team\u0026quot;: \u0026quot;database\u0026quot;\n    }\n  }\n]\nEOF\n\n# Update prometheus.yml to use file discovery\nsudo tee -a /etc/prometheus/prometheus.yml \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n\n  - job_name: \u0026#039;file-discovery\u0026#039;\n    file_sd_configs:\n      - files:\n        - \u0026#039;/etc/prometheus/targets/*.json\u0026#039;\n        refresh_interval: 1m\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"firewall-configuration\" class=\"mobile-header\"\u003eFirewall Configuration\u003c/h2\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# UFW (Ubuntu/Debian)\nsudo ufw allow 9090/tcp  # Prometheus web UI\nsudo ufw allow 9100/tcp  # Node Exporter\nsudo ufw enable\n\n# Firewalld (RHEL/CentOS)\nsudo firewall-cmd --permanent --add-port=9090/tcp\nsudo firewall-cmd --permanent --add-port=9100/tcp\nsudo firewall-cmd --reload\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"verification\" class=\"mobile-header\"\u003eVerification\u003c/h2\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check Prometheus status\nsudo systemctl status prometheus\n\n# Check Node Exporter status\nsudo systemctl status node_exporter\n\n# Test Prometheus configuration\nsudo -u prometheus /usr/local/bin/promtool check config /etc/prometheus/prometheus.yml\n\n# Test alerting rules\nsudo -u prometheus /usr/local/bin/promtool check rules /etc/prometheus/rules/*.yml\n\n# Check if services are listening\nsudo netstat -tulpn | grep -E \u0026#039;:(9090|9100)\u0026#039;\n\n# Test web interface\ncurl http://localhost:9090/metrics\ncurl http://localhost:9100/metrics\n\n# Query Prometheus API\ncurl -G http://localhost:9090/api/v1/query --data-urlencode \u0026#039;query=up\u0026#039;\n\n# View targets status\ncurl http://localhost:9090/api/v1/targets\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"common-exporters-installation\" class=\"mobile-header\"\u003eCommon Exporters Installation\u003c/h2\u003e\n\u003ch3 id=\"nginx-exporter\" class=\"mobile-header\"\u003eNGINX Exporter\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Download and install nginx-exporter\ncd /tmp\nwget https://github.com/nginxinc/nginx-prometheus-exporter/releases/download/v0.10.0/nginx-prometheus-exporter_0.10.0_linux_amd64.tar.gz\ntar xzf nginx-prometheus-exporter_0.10.0_linux_amd64.tar.gz\nsudo cp nginx-prometheus-exporter /usr/local/bin/\n\n# Configure NGINX stub status\necho \u0026#039;server {\n    listen 127.0.0.1:8080;\n    location /stub_status {\n        stub_status on;\n        allow 127.0.0.1;\n        deny all;\n    }\n}\u0026#039; | sudo tee /etc/nginx/sites-available/stub_status\n\nsudo ln -s /etc/nginx/sites-available/stub_status /etc/nginx/sites-enabled/\nsudo systemctl reload nginx\n\n# Create systemd service\nsudo tee /etc/systemd/system/nginx-exporter.service \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n[Unit]\nDescription=NGINX Exporter\nAfter=network.target\n\n[Service]\nType=simple\nUser=prometheus\nExecStart=/usr/local/bin/nginx-prometheus-exporter -nginx.scrape-uri=http://127.0.0.1:8080/stub_status\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsudo systemctl daemon-reload\nsudo systemctl enable --now nginx-exporter\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"mysql-exporter\" class=\"mobile-header\"\u003eMySQL Exporter\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create MySQL user for monitoring\nmysql -u root -p \u0026lt;\u0026lt;EOF\nCREATE USER \u0026#039;exporter\u0026#039;@\u0026#039;localhost\u0026#039; IDENTIFIED BY \u0026#039;XXXXXXXX\u0026#039; WITH MAX_USER_CONNECTIONS 3;\nGRANT PROCESS, REPLICATION CLIENT, SELECT ON *.* TO \u0026#039;exporter\u0026#039;@\u0026#039;localhost\u0026#039;;\nFLUSH PRIVILEGES;\nEOF\n\n# Download and install mysqld-exporter\ncd /tmp\nwget https://github.com/prometheus/mysqld_exporter/releases/download/v0.14.0/mysqld_exporter-0.14.0.linux-amd64.tar.gz\ntar xzf mysqld_exporter-0.14.0.linux-amd64.tar.gz\nsudo cp mysqld_exporter-0.14.0.linux-amd64/mysqld_exporter /usr/local/bin/\n\n# Create configuration file\nsudo tee /etc/prometheus/.my.cnf \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n[client]\nuser=exporter\npassword=XXXXXXXX\nhost=localhost\nport=3306\nEOF\n\nsudo chown prometheus:prometheus /etc/prometheus/.my.cnf\nsudo chmod 600 /etc/prometheus/.my.cnf\n\n# Create systemd service\nsudo tee /etc/systemd/system/mysql-exporter.service \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n[Unit]\nDescription=MySQL Exporter\nAfter=network.target\n\n[Service]\nType=simple\nUser=prometheus\nEnvironment=DATA_SOURCE_NAME=exporter:XXXXXXXX@(localhost:3306)/\nExecStart=/usr/local/bin/mysqld_exporter --config.my-cnf=/etc/prometheus/.my.cnf\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsudo systemctl daemon-reload\nsudo systemctl enable --now mysql-exporter\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"performance-tuning\" class=\"mobile-header\"\u003ePerformance Tuning\u003c/h2\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Update Prometheus configuration for performance\nsudo tee -a /etc/prometheus/prometheus.yml \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n\nglobal:\n  scrape_interval:     30s\n  evaluation_interval: 30s\n  external_labels:\n    cluster: \u0026#039;production\u0026#039;\n    replica: \u0026#039;prometheus-01\u0026#039;\n\n# Performance settings for systemd service\nsudo tee /etc/systemd/system/prometheus.service.d/performance.conf \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n[Service]\nExecStart=\nExecStart=/usr/local/bin/prometheus \\\n    --config.file /etc/prometheus/prometheus.yml \\\n    --storage.tsdb.path /var/lib/prometheus/ \\\n    --web.console.libraries=/etc/prometheus/console_libraries \\\n    --web.console.templates=/etc/prometheus/consoles \\\n    --storage.tsdb.retention.time=30d \\\n    --storage.tsdb.retention.size=50GB \\\n    --storage.tsdb.wal-compression \\\n    --web.enable-lifecycle \\\n    --web.enable-admin-api\nEOF\n\nsudo systemctl daemon-reload\nsudo systemctl restart prometheus\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"backup-and-restore\" class=\"mobile-header\"\u003eBackup and Restore\u003c/h2\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create backup script\nsudo tee /usr/local/bin/prometheus-backup.sh \u0026gt; /dev/null \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\nBACKUP_DIR=\u0026quot;/backup/prometheus\u0026quot;\nPROMETHEUS_DATA=\u0026quot;/var/lib/prometheus\u0026quot;\nDATE=$(date +%Y%m%d_%H%M%S)\n\nmkdir -p ${BACKUP_DIR}\n\n# Stop Prometheus\nsystemctl stop prometheus\n\n# Create backup\ntar -czf ${BACKUP_DIR}/prometheus_backup_${DATE}.tar.gz -C ${PROMETHEUS_DATA} .\n\n# Start Prometheus\nsystemctl start prometheus\n\n# Keep only last 7 backups\nfind ${BACKUP_DIR} -name \u0026quot;prometheus_backup_*.tar.gz\u0026quot; -type f -mtime +7 -delete\n\necho \u0026quot;Backup completed: prometheus_backup_${DATE}.tar.gz\u0026quot;\nEOF\n\nsudo chmod +x /usr/local/bin/prometheus-backup.sh\n\n# Schedule daily backup\necho \u0026quot;0 2 * * * root /usr/local/bin/prometheus-backup.sh\u0026quot; | sudo tee -a /etc/crontab\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"troubleshooting\" class=\"mobile-header\"\u003eTroubleshooting\u003c/h2\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check Prometheus logs\nsudo journalctl -u prometheus -f\n\n# Check Node Exporter logs\nsudo journalctl -u node_exporter -f\n\n# Verify configuration syntax\nsudo -u prometheus /usr/local/bin/promtool check config /etc/prometheus/prometheus.yml\n\n# Check rule syntax\nsudo -u prometheus /usr/local/bin/promtool check rules /etc/prometheus/rules/*.yml\n\n# Test specific target connectivity\ncurl -m 5 http://192.168.1.10:9100/metrics\n\n# Check disk space usage\ndu -sh /var/lib/prometheus/\n\n# View current configuration\ncurl http://localhost:9090/api/v1/status/config\n\n# Reload configuration without restart\ncurl -X POST http://localhost:9090/-/reload\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"additional-resources\" class=\"mobile-header\"\u003eAdditional Resources\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://prometheus.io/docs/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eOfficial Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://prometheus.io/docs/prometheus/latest/configuration/configuration/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003ePrometheus Configuration\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://prometheus.io/docs/prometheus/latest/configuration/alerting_rules/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eAlerting Rules\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://prometheus.io/docs/practices/rules/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eBest Practices\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://prometheus.io/docs/instrumenting/exporters/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eExporters and Integrations\u003c/a\u003e\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e---\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This guide is part of the \u003ca href=\"https://howtomgr.github.io\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eHowToMgr\u003c/a\u003e collection.\u003c/p\u003e","readTime":"7 min","wordCount":1385,"lastBuilt":"2025-09-14T01:15:29.015Z"},{"name":"zabbix","displayName":"Zabbix","slug":"zabbix","description":"Repo for zabbix","category":"monitoring","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/zabbix","updatedAt":"2025-09-08T03:19:09Z","createdAt":"2025-09-08T03:18:59Z","readmeRaw":"## 👋 Welcome to zabbix 🚀  \n\nzabbix README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-zabbix\" class=\"mobile-header\"\u003e👋 Welcome to zabbix 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003ezabbix README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T01:15:25.861Z"}]},"__N_SSG":true},"page":"/[category]/[guide]","query":{"category":"monitoring","guide":"nagios"},"buildId":"lu0_WLQIo6fIzJ-IeQpog","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>