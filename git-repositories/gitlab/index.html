<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"/><meta name="theme-color" content="#bd93f9"/><link rel="icon" href="/favicon.ico"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true"/><title class="jsx-f92e766e9414ef16">GitLab Installation and Configuration Guide Installation Guide - HowToMgr</title><meta name="description" content="Gitlab installation and configuration guide" class="jsx-f92e766e9414ef16"/><meta name="keywords" content="installation guides, tutorials, linux, docker, kubernetes, mobile-first, responsive" class="jsx-f92e766e9414ef16"/><meta property="og:title" content="GitLab Installation and Configuration Guide Installation Guide - HowToMgr" class="jsx-f92e766e9414ef16"/><meta property="og:description" content="Gitlab installation and configuration guide" class="jsx-f92e766e9414ef16"/><meta property="og:type" content="website" class="jsx-f92e766e9414ef16"/><meta property="og:url" content="https://howtomgr.github.io" class="jsx-f92e766e9414ef16"/><meta property="og:image" content="https://howtomgr.github.io/social-preview.png" class="jsx-f92e766e9414ef16"/><meta property="twitter:card" content="summary_large_image" class="jsx-f92e766e9414ef16"/><meta property="twitter:title" content="GitLab Installation and Configuration Guide Installation Guide - HowToMgr" class="jsx-f92e766e9414ef16"/><meta property="twitter:description" content="Gitlab installation and configuration guide" class="jsx-f92e766e9414ef16"/><meta name="next-head-count" content="17"/><link rel="dns-prefetch" href="//api.github.com"/><link rel="dns-prefetch" href="//github.com"/><link rel="preload" href="/favicon.ico" as="image"/><meta name="application-name" content="HowToMgr"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="default"/><meta name="apple-mobile-web-app-title" content="HowToMgr"/><meta name="format-detection" content="telephone=no"/><meta name="mobile-web-app-capable" content="yes"/><noscript><style>
            .requires-js { display: none !important; }
            .no-js-message { display: block !important; }
          </style></noscript><link rel="preload" href="/_next/static/css/1bcdec54f53826ea.css" as="style"/><link rel="stylesheet" href="/_next/static/css/1bcdec54f53826ea.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-ee7e63bc15b31913.js" defer=""></script><script src="/_next/static/chunks/framework-2b1f7a23d657eae4.js" defer=""></script><script src="/_next/static/chunks/main-6ec3f7584970eebe.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f7367f88af207b64.js" defer=""></script><script src="/_next/static/chunks/119-abfbe7c9e22798da.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bcategory%5D/%5Bguide%5D-6c4e1300d9466a25.js" defer=""></script><script src="/_next/static/z8aEQCSCbpJfgbmidGtJ8/_buildManifest.js" defer=""></script><script src="/_next/static/z8aEQCSCbpJfgbmidGtJ8/_ssgManifest.js" defer=""></script><style id="__jsx-64efd206b36bc2dd">.breadcrumb.jsx-64efd206b36bc2dd{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:var(--space-2);margin-bottom:var(--space-6);font-size:var(--font-sm);color:var(--text-secondary);overflow-x:auto;white-space:nowrap;-webkit-overflow-scrolling:touch}.breadcrumb.jsx-64efd206b36bc2dd a.jsx-64efd206b36bc2dd{color:var(--accent-primary);text-decoration:none;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.breadcrumb.jsx-64efd206b36bc2dd a.jsx-64efd206b36bc2dd:hover{text-decoration:underline}.separator.jsx-64efd206b36bc2dd{color:var(--text-muted);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.current.jsx-64efd206b36bc2dd{color:var(--text-primary);font-weight:500;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.guide-header.jsx-64efd206b36bc2dd{background:var(--bg-secondary);-webkit-border-radius:var(--border-radius-lg);-moz-border-radius:var(--border-radius-lg);border-radius:var(--border-radius-lg);padding:var(--space-6);margin-bottom:var(--space-8);border:1px solid var(--bg-surface)}.guide-title.jsx-64efd206b36bc2dd{color:var(--accent-primary);font-size:var(--font-3xl);margin-bottom:var(--space-4);line-height:1.2;word-break:break-word}.guide-description.jsx-64efd206b36bc2dd{color:var(--text-secondary);font-size:var(--font-lg);margin-bottom:var(--space-5);line-height:1.5}.guide-badges.jsx-64efd206b36bc2dd{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-3);margin-bottom:var(--space-5);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.guide-actions.jsx-64efd206b36bc2dd{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-3);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.difficulty-beginner.jsx-64efd206b36bc2dd{background:var(--accent-secondary);color:var(--bg-primary)}.difficulty-intermediate.jsx-64efd206b36bc2dd{background:var(--accent-warning);color:var(--bg-primary)}.difficulty-advanced.jsx-64efd206b36bc2dd{background:var(--accent-error);color:var(--bg-primary)}.guide-content.jsx-64efd206b36bc2dd{background:var(--bg-secondary);-webkit-border-radius:var(--border-radius-lg);-moz-border-radius:var(--border-radius-lg);border-radius:var(--border-radius-lg);padding:var(--space-6);margin-bottom:var(--space-8);border:1px solid var(--bg-surface);overflow-x:hidden}.related-section.jsx-64efd206b36bc2dd{margin-bottom:var(--space-8)}.section-title.jsx-64efd206b36bc2dd{color:var(--accent-primary);font-size:var(--font-2xl);text-align:center;margin-bottom:var(--space-6)}.guide-navigation.jsx-64efd206b36bc2dd{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-4);-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:var(--space-8)}.loading-container.jsx-64efd206b36bc2dd,.error-container.jsx-64efd206b36bc2dd{text-align:center;padding:var(--space-8)}.error-actions.jsx-64efd206b36bc2dd{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-4);-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:var(--space-6);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.toc-level-1.jsx-64efd206b36bc2dd{font-weight:600}.toc-level-2.jsx-64efd206b36bc2dd{margin-left:var(--space-4)}.toc-level-3.jsx-64efd206b36bc2dd{margin-left:var(--space-8);font-size:var(--font-xs)}@media(max-width:767px){.guide-header.jsx-64efd206b36bc2dd{padding:var(--space-4);margin-bottom:var(--space-6)}.guide-title.jsx-64efd206b36bc2dd{font-size:var(--font-2xl)}.guide-description.jsx-64efd206b36bc2dd{font-size:var(--font-base)}.guide-content.jsx-64efd206b36bc2dd{padding:var(--space-4);margin-bottom:var(--space-6)}.guide-badges.jsx-64efd206b36bc2dd{gap:var(--space-2)}.guide-actions.jsx-64efd206b36bc2dd{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.guide-navigation.jsx-64efd206b36bc2dd{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.breadcrumb.jsx-64efd206b36bc2dd{margin-bottom:var(--space-4)}}</style><style id="__jsx-f92e766e9414ef16">.app-container.jsx-f92e766e9414ef16{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding-top:56px}.main-content.jsx-f92e766e9414ef16{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;padding:var(--space-6)0}.mobile-footer.jsx-f92e766e9414ef16{background:var(--bg-secondary);border-top:1px solid var(--bg-surface);padding:var(--space-6)0;margin-top:auto}.footer-content.jsx-f92e766e9414ef16{text-align:center}.footer-links.jsx-f92e766e9414ef16{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:var(--space-6);margin-bottom:var(--space-4);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.footer-links.jsx-f92e766e9414ef16 a.jsx-f92e766e9414ef16{color:var(--accent-primary);text-decoration:none;font-size:var(--font-sm)}.footer-links.jsx-f92e766e9414ef16 a.jsx-f92e766e9414ef16:hover{color:var(--accent-secondary)}.footer-separator.jsx-f92e766e9414ef16{height:1px;background:var(--bg-surface);margin:var(--space-4)auto;width:200px}.footer-text.jsx-f92e766e9414ef16,.footer-tech.jsx-f92e766e9414ef16{color:var(--text-secondary);font-size:var(--font-sm);margin-bottom:var(--space-2)}.footer-disclaimer.jsx-f92e766e9414ef16{color:var(--text-muted);font-size:var(--font-xs)}.nav-links.jsx-f92e766e9414ef16{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-4)}.nav-link.jsx-f92e766e9414ef16{color:var(--text-primary);text-decoration:none;padding:var(--space-2)var(--space-3);-webkit-border-radius:var(--border-radius);-moz-border-radius:var(--border-radius);border-radius:var(--border-radius);font-size:var(--font-sm);font-weight:500;-webkit-transition:var(--transition);-moz-transition:var(--transition);-o-transition:var(--transition);transition:var(--transition);min-height:36px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.nav-link.jsx-f92e766e9414ef16:hover{background:var(--bg-surface);color:var(--accent-primary);text-decoration:none}[data-theme="light"].jsx-f92e766e9414ef16 .theme-icon-dark.jsx-f92e766e9414ef16{display:none}[data-theme="light"].jsx-f92e766e9414ef16 .theme-icon-light.jsx-f92e766e9414ef16{display:inline!important}@media(max-width:767px){.main-content.jsx-f92e766e9414ef16{padding:var(--space-4)0}.footer-links.jsx-f92e766e9414ef16{gap:var(--space-4)}}</style></head><body><noscript><div class="no-js-message" style="padding:1rem;background:#ff5555;color:#f8f8f2;text-align:center;font-size:0.9rem">This site requires JavaScript to function properly. Please enable JavaScript in your browser.</div></noscript><div id="__next"><div class="jsx-f92e766e9414ef16 app-container"><a href="#main-content" class="jsx-f92e766e9414ef16 skip-link">Skip to main content</a><nav class="jsx-f92e766e9414ef16 mobile-nav"><div class="jsx-f92e766e9414ef16 mobile-nav-content"><a class="mobile-brand" href="/"><span role="img" aria-label="Books" class="jsx-f92e766e9414ef16">📚</span>HowToMgr</a><div class="jsx-f92e766e9414ef16 nav-links"><a class="nav-link" href="/all/">All</a><a class="nav-link" href="/search/">Search</a></div><button aria-label="Toggle theme" title="Switch theme" class="jsx-f92e766e9414ef16 mobile-theme-toggle touch-target"><span class="jsx-f92e766e9414ef16 theme-icon-dark">🌙</span><span style="display:none" class="jsx-f92e766e9414ef16 theme-icon-light">☀️</span></button></div></nav><main id="main-content" tabindex="-1" class="jsx-f92e766e9414ef16 main-content"><div class="jsx-f92e766e9414ef16 container"><nav aria-label="Breadcrumb" class="jsx-64efd206b36bc2dd breadcrumb"><a href="/">Home</a><span class="jsx-64efd206b36bc2dd separator">→</span><a href="/git-repositories/">Git repositories</a><span class="jsx-64efd206b36bc2dd separator">→</span><span class="jsx-64efd206b36bc2dd current">GitLab Installation and Configuration Guide</span></nav><header class="jsx-64efd206b36bc2dd guide-header"><div class="jsx-64efd206b36bc2dd guide-meta-top"><h1 class="jsx-64efd206b36bc2dd guide-title">GitLab Installation and Configuration Guide</h1><p class="jsx-64efd206b36bc2dd guide-description">Gitlab installation and configuration guide</p><div class="jsx-64efd206b36bc2dd guide-badges"><span class="jsx-64efd206b36bc2dd mobile-badge mobile-badge-primary">Git repositories</span><span class="jsx-64efd206b36bc2dd mobile-badge difficulty-intermediate">🟡<!-- --> <!-- -->intermediate</span><span class="jsx-64efd206b36bc2dd mobile-badge mobile-badge-info">39 min</span><span class="jsx-64efd206b36bc2dd mobile-badge mobile-badge-secondary">⏱️ <!-- -->15-30 minutes</span></div><div class="jsx-64efd206b36bc2dd guide-actions"><a href="https://github.com/howtomgr/gitlab" target="_blank" rel="noopener" class="jsx-64efd206b36bc2dd btn btn-secondary">View on GitHub</a></div></div></header><article class="jsx-64efd206b36bc2dd guide-content"><nav class="jsx-64efd206b36bc2dd toc"><h4 class="jsx-64efd206b36bc2dd">Table of Contents</h4><ul class="jsx-64efd206b36bc2dd"><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#table-of-contents" class="jsx-64efd206b36bc2dd">Table of Contents</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#1-introduction" class="jsx-64efd206b36bc2dd">1. Introduction</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#foss-context" class="jsx-64efd206b36bc2dd">FOSS Context</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#key-features" class="jsx-64efd206b36bc2dd">Key Features</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#2-prerequisites" class="jsx-64efd206b36bc2dd">2. Prerequisites</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#10-system-requirements" class="jsx-64efd206b36bc2dd">10. System Requirements</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#required-software-dependencies" class="jsx-64efd206b36bc2dd">Required Software Dependencies</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#network-requirements" class="jsx-64efd206b36bc2dd">Network Requirements</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#optional-components" class="jsx-64efd206b36bc2dd">Optional Components</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#3-installation" class="jsx-64efd206b36bc2dd">3. Installation</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#rhelcentosrocky-linuxalmalinux" class="jsx-64efd206b36bc2dd">RHEL/CentOS/Rocky Linux/AlmaLinux</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#update-system-packages" class="jsx-64efd206b36bc2dd">Update system packages</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#install-required-dependencies" class="jsx-64efd206b36bc2dd">Install required dependencies</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#enable-and-start-required-services" class="jsx-64efd206b36bc2dd">Enable and start required services</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#configure-selinux-policies-for-gitlab" class="jsx-64efd206b36bc2dd">Configure SELinux policies for GitLab</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#configure-firewall-rules" class="jsx-64efd206b36bc2dd">Configure firewall rules</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#add-gitlab-official-repository" class="jsx-64efd206b36bc2dd">Add GitLab official repository</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#install-gitlab-enterprise-edition" class="jsx-64efd206b36bc2dd">Install GitLab Enterprise Edition</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#for-community-edition-instead" class="jsx-64efd206b36bc2dd">For Community Edition instead:</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#sudo-external_urlhttpsgitlabexamplecom-dnf-install-y-gitlab-ce" class="jsx-64efd206b36bc2dd">sudo EXTERNAL_URL=&quot;https://gitlab.example.com&quot; dnf install -y gitlab-ce</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#initial-configuration-and-start-services" class="jsx-64efd206b36bc2dd">Initial configuration and start services</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#check-installation-status" class="jsx-64efd206b36bc2dd">Check installation status</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#install-dependencies" class="jsx-64efd206b36bc2dd">Install dependencies</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#configure-services" class="jsx-64efd206b36bc2dd">Configure services</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#add-repository-and-install" class="jsx-64efd206b36bc2dd">Add repository and install</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#debianubuntu" class="jsx-64efd206b36bc2dd">Debian/Ubuntu</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#update-package-repositories" class="jsx-64efd206b36bc2dd">Update package repositories</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#install-required-dependencies" class="jsx-64efd206b36bc2dd">Install required dependencies</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#configure-postfix-for-email-choose-internet-site-for-basic-setup" class="jsx-64efd206b36bc2dd">Configure Postfix for email (choose &#x27;Internet Site&#x27; for basic setup)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#configure-ufw-firewall-if-enabled" class="jsx-64efd206b36bc2dd">Configure UFW firewall (if enabled)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#add-gitlab-official-repository" class="jsx-64efd206b36bc2dd">Add GitLab official repository</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#install-gitlab-enterprise-edition" class="jsx-64efd206b36bc2dd">Install GitLab Enterprise Edition</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#for-community-edition-instead" class="jsx-64efd206b36bc2dd">For Community Edition instead:</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#sudo-external_urlhttpsgitlabexamplecom-apt-get-install-y-gitlab-ce" class="jsx-64efd206b36bc2dd">sudo EXTERNAL_URL=&quot;https://gitlab.example.com&quot; apt-get install -y gitlab-ce</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#initial-configuration-and-start-services" class="jsx-64efd206b36bc2dd">Initial configuration and start services</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#verify-installation" class="jsx-64efd206b36bc2dd">Verify installation</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#arch-linux" class="jsx-64efd206b36bc2dd">Arch Linux</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#update-system-packages" class="jsx-64efd206b36bc2dd">Update system packages</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#install-required-dependencies" class="jsx-64efd206b36bc2dd">Install required dependencies</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#enable-and-start-services" class="jsx-64efd206b36bc2dd">Enable and start services</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#install-gitlab-from-aur-using-yay-helper" class="jsx-64efd206b36bc2dd">Install GitLab from AUR (using yay helper)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#or-install-gitlab-community-edition" class="jsx-64efd206b36bc2dd">Or install GitLab Community Edition</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#yay-s-gitlab" class="jsx-64efd206b36bc2dd">yay -S gitlab</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#configure-gitlab" class="jsx-64efd206b36bc2dd">Configure GitLab</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#set-external_url-httpsgitlabexamplecom" class="jsx-64efd206b36bc2dd">Set: external_url &#x27;https://gitlab.example.com&#x27;</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#initial-configuration" class="jsx-64efd206b36bc2dd">Initial configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#enable-gitlab-service" class="jsx-64efd206b36bc2dd">Enable GitLab service</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#alpine-linux" class="jsx-64efd206b36bc2dd">Alpine Linux</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#update-package-index" class="jsx-64efd206b36bc2dd">Update package index</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#install-required-packages" class="jsx-64efd206b36bc2dd">Install required packages</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#enable-services" class="jsx-64efd206b36bc2dd">Enable services</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#add-gitlab-repository-key" class="jsx-64efd206b36bc2dd">Add GitLab repository key</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#add-gitlab-repository" class="jsx-64efd206b36bc2dd">Add GitLab repository</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#update-and-install-gitlab" class="jsx-64efd206b36bc2dd">Update and install GitLab</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#configure-external-url" class="jsx-64efd206b36bc2dd">Configure external URL</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#reconfigure-and-start" class="jsx-64efd206b36bc2dd">Reconfigure and start</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#opensusesles" class="jsx-64efd206b36bc2dd">openSUSE/SLES</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#install-dependencies-opensuse" class="jsx-64efd206b36bc2dd">Install dependencies (openSUSE)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#for-sles" class="jsx-64efd206b36bc2dd">For SLES</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#sudo-zypper-install-y-curl-openssh2-postfix" class="jsx-64efd206b36bc2dd">sudo zypper install -y curl openssh2 postfix</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#enable-services" class="jsx-64efd206b36bc2dd">Enable services</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#configure-firewall" class="jsx-64efd206b36bc2dd">Configure firewall</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#add-gitlab-repository" class="jsx-64efd206b36bc2dd">Add GitLab repository</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#install-gitlab" class="jsx-64efd206b36bc2dd">Install GitLab</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#configure-and-start" class="jsx-64efd206b36bc2dd">Configure and start</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#macos" class="jsx-64efd206b36bc2dd">macOS</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#install-homebrew-if-not-already-installed" class="jsx-64efd206b36bc2dd">Install Homebrew if not already installed</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#install-required-dependencies" class="jsx-64efd206b36bc2dd">Install required dependencies</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#start-postfix-service" class="jsx-64efd206b36bc2dd">Start postfix service</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#install-gitlab-using-official-installer" class="jsx-64efd206b36bc2dd">Install GitLab using official installer</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#note-gitlab-doesnt-provide-native-macos-packages" class="jsx-64efd206b36bc2dd">Note: GitLab doesn&#x27;t provide native macOS packages</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#recommended-to-use-docker-for-macos-installations" class="jsx-64efd206b36bc2dd">Recommended to use Docker for macOS installations:</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#create-gitlab-directories" class="jsx-64efd206b36bc2dd">Create GitLab directories</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#set-environment-variables" class="jsx-64efd206b36bc2dd">Set environment variables</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#run-gitlab-container" class="jsx-64efd206b36bc2dd">Run GitLab container</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#freebsd" class="jsx-64efd206b36bc2dd">FreeBSD</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#update-ports-tree" class="jsx-64efd206b36bc2dd">Update ports tree</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#install-required-ports" class="jsx-64efd206b36bc2dd">Install required ports</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#enable-services" class="jsx-64efd206b36bc2dd">Enable services</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#configure-firewall-if-pf-is-enabled" class="jsx-64efd206b36bc2dd">Configure firewall (if pf is enabled)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#gitlab-doesnt-provide-official-freebsd-packages" class="jsx-64efd206b36bc2dd">GitLab doesn&#x27;t provide official FreeBSD packages</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#install-using-source-compilation-or-docker" class="jsx-64efd206b36bc2dd">Install using source compilation or Docker:</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#docker-method-install-docker-first" class="jsx-64efd206b36bc2dd">Docker method (install Docker first)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#run-gitlab-container" class="jsx-64efd206b36bc2dd">Run GitLab container</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#windows" class="jsx-64efd206b36bc2dd">Windows</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#install-docker-desktop-from-httpswwwdockercomproductsdocker-desktop" class="jsx-64efd206b36bc2dd">Install Docker Desktop from https://www.docker.com/products/docker-desktop</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#create-gitlab-directories" class="jsx-64efd206b36bc2dd">Create GitLab directories</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#run-gitlab-container" class="jsx-64efd206b36bc2dd">Run GitLab container</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#enable-wsl2-and-install-ubuntu" class="jsx-64efd206b36bc2dd">Enable WSL2 and install Ubuntu</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#switch-to-wsl2-ubuntu-environment" class="jsx-64efd206b36bc2dd">Switch to WSL2 Ubuntu environment</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#follow-ubuntu-installation-instructions-above" class="jsx-64efd206b36bc2dd">Follow Ubuntu installation instructions above</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#4-initial-configuration" class="jsx-64efd206b36bc2dd">4. Initial Configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#first-time-setup" class="jsx-64efd206b36bc2dd">First-time Setup</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#basic-configuration-file-setup" class="jsx-64efd206b36bc2dd">Basic Configuration File Setup</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#external-url-replace-with-your-domain" class="jsx-64efd206b36bc2dd">External URL (replace with your domain)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#email-configuration" class="jsx-64efd206b36bc2dd">Email configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#smtp-configuration-example-with-gmail" class="jsx-64efd206b36bc2dd">SMTP configuration (example with Gmail)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#time-zone" class="jsx-64efd206b36bc2dd">Time zone</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#gitlab-shell-ssh-port-if-different-from-22" class="jsx-64efd206b36bc2dd">GitLab Shell SSH port (if different from 22)</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#ssltls-configuration" class="jsx-64efd206b36bc2dd">SSL/TLS Configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#enable-lets-encrypt-in-gitlabrb" class="jsx-64efd206b36bc2dd">Enable Let&#x27;s Encrypt in gitlab.rb</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#enable-lets-encrypt" class="jsx-64efd206b36bc2dd">Enable Let&#x27;s Encrypt</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#force-https" class="jsx-64efd206b36bc2dd">Force HTTPS</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#create-ssl-directory" class="jsx-64efd206b36bc2dd">Create SSL directory</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#copy-your-certificates-replace-with-your-actual-cert-files" class="jsx-64efd206b36bc2dd">Copy your certificates (replace with your actual cert files)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#set-proper-permissions" class="jsx-64efd206b36bc2dd">Set proper permissions</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#5-service-management" class="jsx-64efd206b36bc2dd">5. Service Management</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#service-control-commands" class="jsx-64efd206b36bc2dd">Service Control Commands</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#check-status-of-all-services" class="jsx-64efd206b36bc2dd">Check status of all services</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#start-all-gitlab-services" class="jsx-64efd206b36bc2dd">Start all GitLab services</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#stop-all-gitlab-services" class="jsx-64efd206b36bc2dd">Stop all GitLab services</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#restart-all-gitlab-services" class="jsx-64efd206b36bc2dd">Restart all GitLab services</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#restart-specific-service" class="jsx-64efd206b36bc2dd">Restart specific service</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#reload-configuration-without-restart" class="jsx-64efd206b36bc2dd">Reload configuration without restart</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#show-service-logs" class="jsx-64efd206b36bc2dd">Show service logs</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#service-status-monitoring" class="jsx-64efd206b36bc2dd">Service Status Monitoring</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#detailed-service-status" class="jsx-64efd206b36bc2dd">Detailed service status</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#check-specific-service" class="jsx-64efd206b36bc2dd">Check specific service</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#monitor-service-logs-in-real-time" class="jsx-64efd206b36bc2dd">Monitor service logs in real-time</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#check-gitlab-application-status" class="jsx-64efd206b36bc2dd">Check GitLab application status</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#environment-information" class="jsx-64efd206b36bc2dd">Environment information</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#systemd-integration" class="jsx-64efd206b36bc2dd">Systemd Integration</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#enable-gitlab-to-start-at-boot" class="jsx-64efd206b36bc2dd">Enable GitLab to start at boot</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#start-gitlab-services" class="jsx-64efd206b36bc2dd">Start GitLab services</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#check-systemd-status" class="jsx-64efd206b36bc2dd">Check systemd status</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#stop-gitlab-services" class="jsx-64efd206b36bc2dd">Stop GitLab services</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#check-gitlab-logs-through-journald" class="jsx-64efd206b36bc2dd">Check GitLab logs through journald</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#service-configuration" class="jsx-64efd206b36bc2dd">Service Configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#unicorn-web-server-settings" class="jsx-64efd206b36bc2dd">Unicorn (web server) settings</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#sidekiq-background-jobs-settings" class="jsx-64efd206b36bc2dd">Sidekiq (background jobs) settings</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#gitlab-workhorse-settings" class="jsx-64efd206b36bc2dd">GitLab Workhorse settings</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#nginx-settings" class="jsx-64efd206b36bc2dd">NGINX settings</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#6-advanced-configuration" class="jsx-64efd206b36bc2dd">6. Advanced Configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#performance-optimization" class="jsx-64efd206b36bc2dd">Performance Optimization</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#etcgitlabgitlabrb-performance-settings" class="jsx-64efd206b36bc2dd">/etc/gitlab/gitlab.rb - Performance settings</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#unicorn-web-server-optimization" class="jsx-64efd206b36bc2dd">Unicorn web server optimization</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#sidekiq-background-job-optimization" class="jsx-64efd206b36bc2dd">Sidekiq background job optimization</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#postgresql-optimization" class="jsx-64efd206b36bc2dd">PostgreSQL optimization</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#redis-optimization" class="jsx-64efd206b36bc2dd">Redis optimization</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#gitaly-optimization-git-rpc-service" class="jsx-64efd206b36bc2dd">Gitaly optimization (Git RPC service)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#file-system-optimization" class="jsx-64efd206b36bc2dd">File system optimization</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#logging-optimization" class="jsx-64efd206b36bc2dd">Logging optimization</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#enterprise-features-configuration" class="jsx-64efd206b36bc2dd">Enterprise Features Configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#ldapactive-directory-integration" class="jsx-64efd206b36bc2dd">LDAP/Active Directory integration</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#saml-sso-configuration" class="jsx-64efd206b36bc2dd">SAML SSO configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#geo-replication-enterprise-premium" class="jsx-64efd206b36bc2dd">Geo replication (Enterprise Premium)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#advanced-security-features" class="jsx-64efd206b36bc2dd">Advanced security features</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#container-registry-configuration" class="jsx-64efd206b36bc2dd">Container Registry Configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#container-registry-setup" class="jsx-64efd206b36bc2dd">Container Registry setup</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#registry-storage-configuration-s3" class="jsx-64efd206b36bc2dd">Registry storage configuration (S3)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#registry-security" class="jsx-64efd206b36bc2dd">Registry security</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#registry-health-checks" class="jsx-64efd206b36bc2dd">Registry health checks</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#container-scanning-and-cleanup" class="jsx-64efd206b36bc2dd">Container scanning and cleanup</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#gitlab-pages-configuration" class="jsx-64efd206b36bc2dd">GitLab Pages Configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#gitlab-pages-setup" class="jsx-64efd206b36bc2dd">GitLab Pages setup</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#pages-ssl-configuration" class="jsx-64efd206b36bc2dd">Pages SSL configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#pages-storage" class="jsx-64efd206b36bc2dd">Pages storage</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#7-reverse-proxy-setup" class="jsx-64efd206b36bc2dd">7. Reverse Proxy Setup</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#nginx-reverse-proxy" class="jsx-64efd206b36bc2dd">NGINX Reverse Proxy</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#install-nginx" class="jsx-64efd206b36bc2dd">Install NGINX</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#ubuntudebian" class="jsx-64efd206b36bc2dd">Ubuntu/Debian</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#rhelcentos" class="jsx-64efd206b36bc2dd">RHEL/CentOS</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#configure-nginx-for-gitlab" class="jsx-64efd206b36bc2dd">Configure NGINX for GitLab</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#enable-site-and-restart-nginx" class="jsx-64efd206b36bc2dd">Enable site and restart NGINX</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#apache-http-server-httpd" class="jsx-64efd206b36bc2dd">Apache HTTP Server (httpd)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#install-apache" class="jsx-64efd206b36bc2dd">Install Apache</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#rhelcentos" class="jsx-64efd206b36bc2dd">RHEL/CentOS</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#enable-modules" class="jsx-64efd206b36bc2dd">Enable modules</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#configure-apache-for-gitlab" class="jsx-64efd206b36bc2dd">Configure Apache for GitLab</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#start-apache" class="jsx-64efd206b36bc2dd">Start Apache</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#haproxy-load-balancer" class="jsx-64efd206b36bc2dd">HAProxy Load Balancer</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#install-haproxy" class="jsx-64efd206b36bc2dd">Install HAProxy</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#configure-haproxy" class="jsx-64efd206b36bc2dd">Configure HAProxy</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#gitlab-frontend" class="jsx-64efd206b36bc2dd">GitLab frontend</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#gitlab-backend-servers" class="jsx-64efd206b36bc2dd">GitLab backend servers</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#statistics-interface" class="jsx-64efd206b36bc2dd">Statistics interface</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#start-haproxy" class="jsx-64efd206b36bc2dd">Start HAProxy</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#8-security-configuration" class="jsx-64efd206b36bc2dd">8. Security Configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#security-hardening" class="jsx-64efd206b36bc2dd">Security Hardening</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#etcgitlabgitlabrb-security-configuration" class="jsx-64efd206b36bc2dd">/etc/gitlab/gitlab.rb - Security configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#force-https" class="jsx-64efd206b36bc2dd">Force HTTPS</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#security-headers" class="jsx-64efd206b36bc2dd">Security headers</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#rate-limiting" class="jsx-64efd206b36bc2dd">Rate limiting</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#rack-attack-configuration-for-git-over-http" class="jsx-64efd206b36bc2dd">Rack Attack configuration for Git over HTTP</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#protected-paths" class="jsx-64efd206b36bc2dd">Protected paths</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#ssh-security" class="jsx-64efd206b36bc2dd">SSH security</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#two-factor-authentication-enforcement" class="jsx-64efd206b36bc2dd">Two-factor authentication enforcement</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#session-settings" class="jsx-64efd206b36bc2dd">Session settings</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#webhook-security" class="jsx-64efd206b36bc2dd">Webhook security</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#api-security" class="jsx-64efd206b36bc2dd">API security</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#disable-features-that-increase-attack-surface" class="jsx-64efd206b36bc2dd">Disable features that increase attack surface</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#audit-logging-enterprise" class="jsx-64efd206b36bc2dd">Audit logging (Enterprise)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#security-scanning" class="jsx-64efd206b36bc2dd">Security scanning</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#security-headers" class="jsx-64efd206b36bc2dd">Security headers</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#firewall-configuration" class="jsx-64efd206b36bc2dd">Firewall Configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#enable-ufw" class="jsx-64efd206b36bc2dd">Enable UFW</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#allow-ssh" class="jsx-64efd206b36bc2dd">Allow SSH</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#allow-httphttps" class="jsx-64efd206b36bc2dd">Allow HTTP/HTTPS</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#allow-gitlab-ssh-if-using-custom-port" class="jsx-64efd206b36bc2dd">Allow GitLab SSH (if using custom port)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#allow-specific-ip-ranges-only-optional" class="jsx-64efd206b36bc2dd">Allow specific IP ranges only (optional)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#check-status" class="jsx-64efd206b36bc2dd">Check status</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#enable-firewalld" class="jsx-64efd206b36bc2dd">Enable firewalld</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#add-services" class="jsx-64efd206b36bc2dd">Add services</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#add-custom-ports" class="jsx-64efd206b36bc2dd">Add custom ports</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#create-custom-service-for-gitlab" class="jsx-64efd206b36bc2dd">Create custom service for GitLab</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#access-control-and-authentication" class="jsx-64efd206b36bc2dd">Access Control and Authentication</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#password-policy" class="jsx-64efd206b36bc2dd">Password policy</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#sign-up-restrictions" class="jsx-64efd206b36bc2dd">Sign-up restrictions</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#email-domain-restrictions" class="jsx-64efd206b36bc2dd">Email domain restrictions</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#ip-restrictions-enterprise" class="jsx-64efd206b36bc2dd">IP restrictions (Enterprise)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#oauthoidc-providers-configuration" class="jsx-64efd206b36bc2dd">OAuth/OIDC providers configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#9-database-setup" class="jsx-64efd206b36bc2dd">9. Database Setup</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#internal-postgresql-default" class="jsx-64efd206b36bc2dd">Internal PostgreSQL (Default)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#etcgitlabgitlabrb-postgresql-settings" class="jsx-64efd206b36bc2dd">/etc/gitlab/gitlab.rb - PostgreSQL settings</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#enable-built-in-postgresql" class="jsx-64efd206b36bc2dd">Enable built-in PostgreSQL</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#postgresql-performance-tuning" class="jsx-64efd206b36bc2dd">PostgreSQL performance tuning</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#connection-settings" class="jsx-64efd206b36bc2dd">Connection settings</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#wal-settings-for-performance" class="jsx-64efd206b36bc2dd">WAL settings for performance</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#logging" class="jsx-64efd206b36bc2dd">Logging</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#external-postgresql-setup" class="jsx-64efd206b36bc2dd">External PostgreSQL Setup</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#install-postgresql-on-separate-server" class="jsx-64efd206b36bc2dd">Install PostgreSQL on separate server</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#ubuntudebian" class="jsx-64efd206b36bc2dd">Ubuntu/Debian</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#rhelcentos" class="jsx-64efd206b36bc2dd">RHEL/CentOS</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#initialize-database-rhelcentos-only" class="jsx-64efd206b36bc2dd">Initialize database (RHEL/CentOS only)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#create-gitlab-database-and-user" class="jsx-64efd206b36bc2dd">Create GitLab database and user</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#configure-postgresql-for-gitlab" class="jsx-64efd206b36bc2dd">Configure PostgreSQL for GitLab</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#gitlab-optimizations" class="jsx-64efd206b36bc2dd">GitLab optimizations</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#connection-settings" class="jsx-64efd206b36bc2dd">Connection settings</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#enable-extensions" class="jsx-64efd206b36bc2dd">Enable extensions</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#configure-client-authentication" class="jsx-64efd206b36bc2dd">Configure client authentication</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#etcgitlabgitlabrb-external-postgresql" class="jsx-64efd206b36bc2dd">/etc/gitlab/gitlab.rb - External PostgreSQL</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#disable-built-in-postgresql" class="jsx-64efd206b36bc2dd">Disable built-in PostgreSQL</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#external-postgresql-configuration" class="jsx-64efd206b36bc2dd">External PostgreSQL configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#load-balancing-for-read-replicas-enterprise" class="jsx-64efd206b36bc2dd">Load balancing for read replicas (Enterprise)</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#database-maintenance" class="jsx-64efd206b36bc2dd">Database Maintenance</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#database-maintenance-commands" class="jsx-64efd206b36bc2dd">Database maintenance commands</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#manual-database-operations" class="jsx-64efd206b36bc2dd">Manual database operations</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#database-migrations" class="jsx-64efd206b36bc2dd">Database migrations</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#check-database-status" class="jsx-64efd206b36bc2dd">Check database status</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#create-database-backup" class="jsx-64efd206b36bc2dd">Create database backup</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#restore-database-from-backup" class="jsx-64efd206b36bc2dd">Restore database from backup</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#database-cleanup" class="jsx-64efd206b36bc2dd">Database cleanup</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#10-performance-optimization" class="jsx-64efd206b36bc2dd">10. Performance Optimization</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#system-level-optimizations" class="jsx-64efd206b36bc2dd">System-Level Optimizations</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#kernel-parameter-tuning-for-gitlab" class="jsx-64efd206b36bc2dd">Kernel parameter tuning for GitLab</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#network-optimizations" class="jsx-64efd206b36bc2dd">Network optimizations</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#memory-management" class="jsx-64efd206b36bc2dd">Memory management</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#file-system-optimizations" class="jsx-64efd206b36bc2dd">File system optimizations</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#increase-file-descriptor-limits" class="jsx-64efd206b36bc2dd">Increase file descriptor limits</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#configure-systemd-limits" class="jsx-64efd206b36bc2dd">Configure systemd limits</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#application-performance-tuning" class="jsx-64efd206b36bc2dd">Application Performance Tuning</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#etcgitlabgitlabrb-performance-optimizations" class="jsx-64efd206b36bc2dd">/etc/gitlab/gitlab.rb - Performance optimizations</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#unicornpuma-web-server-settings" class="jsx-64efd206b36bc2dd">Unicorn/Puma web server settings</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#use-puma-recommended-for-gitlab-130" class="jsx-64efd206b36bc2dd">Use Puma (recommended for GitLab 13.0+)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#disable-unicorn-if-using-puma" class="jsx-64efd206b36bc2dd">Disable Unicorn if using Puma</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#sidekiq-background-job-processing" class="jsx-64efd206b36bc2dd">Sidekiq background job processing</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#gitaly-settings-for-git-operations" class="jsx-64efd206b36bc2dd">Gitaly settings for Git operations</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#gitlab-workhorse-settings" class="jsx-64efd206b36bc2dd">GitLab Workhorse settings</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#redis-caching-optimizations" class="jsx-64efd206b36bc2dd">Redis caching optimizations</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#nginx-optimizations" class="jsx-64efd206b36bc2dd">NGINX optimizations</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#prometheus-monitoring-optimization" class="jsx-64efd206b36bc2dd">Prometheus monitoring optimization</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#storage-optimization" class="jsx-64efd206b36bc2dd">Storage Optimization</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#use-ssd-storage-with-proper-mount-options" class="jsx-64efd206b36bc2dd">Use SSD storage with proper mount options</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#optimize-git-repository-storage" class="jsx-64efd206b36bc2dd">Optimize Git repository storage</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#optimize-git-repositories-for-better-performance" class="jsx-64efd206b36bc2dd">Optimize Git repositories for better performance</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#schedule-weekly-git-optimization" class="jsx-64efd206b36bc2dd">Schedule weekly Git optimization</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#monitoring-performance" class="jsx-64efd206b36bc2dd">Monitoring Performance</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#create-performance-monitoring-script" class="jsx-64efd206b36bc2dd">Create performance monitoring script</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#cpu-and-memory-usage" class="jsx-64efd206b36bc2dd">CPU and Memory usage</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#database-connections" class="jsx-64efd206b36bc2dd">Database connections</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#redis-memory-usage" class="jsx-64efd206b36bc2dd">Redis memory usage</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#disk-usage" class="jsx-64efd206b36bc2dd">Disk usage</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#active-processes" class="jsx-64efd206b36bc2dd">Active processes</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#schedule-performance-checks-every-15-minutes" class="jsx-64efd206b36bc2dd">Schedule performance checks every 15 minutes</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#11-monitoring" class="jsx-64efd206b36bc2dd">11. Monitoring</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#built-in-monitoring-stack" class="jsx-64efd206b36bc2dd">Built-in Monitoring Stack</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#etcgitlabgitlabrb-monitoring-configuration" class="jsx-64efd206b36bc2dd">/etc/gitlab/gitlab.rb - Monitoring configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#enable-prometheus-monitoring" class="jsx-64efd206b36bc2dd">Enable Prometheus monitoring</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#prometheus-exporters" class="jsx-64efd206b36bc2dd">Prometheus exporters</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#grafana-configuration" class="jsx-64efd206b36bc2dd">Grafana configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#alert-manager" class="jsx-64efd206b36bc2dd">Alert Manager</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#external-monitoring-integration" class="jsx-64efd206b36bc2dd">External Monitoring Integration</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#prometheus-configuration-for-external-setup" class="jsx-64efd206b36bc2dd">Prometheus configuration for external setup</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#create-gitlab-specific-alerting-rules" class="jsx-64efd206b36bc2dd">Create GitLab-specific alerting rules</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#log-management" class="jsx-64efd206b36bc2dd">Log Management</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#install-and-configure-elasticsearch-logstash-kibana-elk-stack" class="jsx-64efd206b36bc2dd">Install and configure Elasticsearch, Logstash, Kibana (ELK Stack)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#or-use-external-services-like-splunk-datadog-etc" class="jsx-64efd206b36bc2dd">Or use external services like Splunk, DataDog, etc.</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#configure-gitlab-log-forwarding" class="jsx-64efd206b36bc2dd">Configure GitLab log forwarding</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#forward-gitlab-logs-to-centralized-logging" class="jsx-64efd206b36bc2dd">Forward GitLab logs to centralized logging</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#local-gitlab-log-files" class="jsx-64efd206b36bc2dd">Local GitLab log files</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#create-log-monitoring-script" class="jsx-64efd206b36bc2dd">Create log monitoring script</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#monitor-for-critical-errors" class="jsx-64efd206b36bc2dd">Monitor for critical errors</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#monitor-disk-space-for-log-directory" class="jsx-64efd206b36bc2dd">Monitor disk space for log directory</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#schedule-log-monitoring-every-5-minutes" class="jsx-64efd206b36bc2dd">Schedule log monitoring every 5 minutes</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#health-monitoring" class="jsx-64efd206b36bc2dd">Health Monitoring</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#create-comprehensive-health-monitoring" class="jsx-64efd206b36bc2dd">Create comprehensive health monitoring</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#check-all-critical-services" class="jsx-64efd206b36bc2dd">Check all critical services</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#check-application-health" class="jsx-64efd206b36bc2dd">Check application health</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#check-backup-status" class="jsx-64efd206b36bc2dd">Check backup status</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#schedule-health-checks-every-10-minutes" class="jsx-64efd206b36bc2dd">Schedule health checks every 10 minutes</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#12-backup-and-restore" class="jsx-64efd206b36bc2dd">12. Backup and Restore</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#automated-backup-strategy" class="jsx-64efd206b36bc2dd">Automated Backup Strategy</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#create-comprehensive-backup-script" class="jsx-64efd206b36bc2dd">Create comprehensive backup script</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#create-backup-directories" class="jsx-64efd206b36bc2dd">Create backup directories</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#create-gitlab-application-backup" class="jsx-64efd206b36bc2dd">Create GitLab application backup</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#backup-configuration-files" class="jsx-64efd206b36bc2dd">Backup configuration files</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#backup-ssl-certificates" class="jsx-64efd206b36bc2dd">Backup SSL certificates</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#backup-secrets" class="jsx-64efd206b36bc2dd">Backup secrets</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#backup-container-registry-if-using-local-storage" class="jsx-64efd206b36bc2dd">Backup container registry (if using local storage)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#upload-to-cloud-storage-multiple-providers" class="jsx-64efd206b36bc2dd">Upload to cloud storage (multiple providers)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#aws-s3" class="jsx-64efd206b36bc2dd">AWS S3</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#azure-blob-storage" class="jsx-64efd206b36bc2dd">Azure Blob Storage</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#google-cloud-storage" class="jsx-64efd206b36bc2dd">Google Cloud Storage</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#verify-backup-integrity" class="jsx-64efd206b36bc2dd">Verify backup integrity</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#cleanup-old-backups" class="jsx-64efd206b36bc2dd">Cleanup old backups</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#send-success-notification" class="jsx-64efd206b36bc2dd">Send success notification</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#schedule-daily-backups-at-2-am" class="jsx-64efd206b36bc2dd">Schedule daily backups at 2 AM</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#disaster-recovery-procedures" class="jsx-64efd206b36bc2dd">Disaster Recovery Procedures</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#create-disaster-recovery-script" class="jsx-64efd206b36bc2dd">Create disaster recovery script</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#pre-recovery-checks" class="jsx-64efd206b36bc2dd">Pre-recovery checks</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#stop-gitlab-services" class="jsx-64efd206b36bc2dd">Stop GitLab services</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#backup-current-installation-if-any" class="jsx-64efd206b36bc2dd">Backup current installation (if any)</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#restore-configuration" class="jsx-64efd206b36bc2dd">Restore configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#reconfigure-gitlab-with-restored-configuration" class="jsx-64efd206b36bc2dd">Reconfigure GitLab with restored configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#restore-gitlab-backup" class="jsx-64efd206b36bc2dd">Restore GitLab backup</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#start-gitlab-services" class="jsx-64efd206b36bc2dd">Start GitLab services</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#wait-for-services-to-start" class="jsx-64efd206b36bc2dd">Wait for services to start</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#verify-installation" class="jsx-64efd206b36bc2dd">Verify installation</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#run-database-migrations-if-needed" class="jsx-64efd206b36bc2dd">Run database migrations (if needed)</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#point-in-time-recovery" class="jsx-64efd206b36bc2dd">Point-in-Time Recovery</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#etcgitlabgitlabrb-configure-for-point-in-time-recovery" class="jsx-64efd206b36bc2dd">/etc/gitlab/gitlab.rb - Configure for point-in-time recovery</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#enable-wal-archiving-for-postgresql" class="jsx-64efd206b36bc2dd">Enable WAL archiving for PostgreSQL</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#configure-continuous-archiving" class="jsx-64efd206b36bc2dd">Configure continuous archiving</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#backup-retention" class="jsx-64efd206b36bc2dd">Backup retention</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#13-troubleshooting" class="jsx-64efd206b36bc2dd">13. Troubleshooting</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#common-issues-and-solutions" class="jsx-64efd206b36bc2dd">Common Issues and Solutions</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#gitlab-service-diagnostics" class="jsx-64efd206b36bc2dd">GitLab service diagnostics</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#specific-problem-resolution" class="jsx-64efd206b36bc2dd">Specific Problem Resolution</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#reduce-memory-consumption" class="jsx-64efd206b36bc2dd">Reduce memory consumption</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#memory-optimization-for-smaller-systems" class="jsx-64efd206b36bc2dd">Memory optimization for smaller systems</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#database-troubleshooting-commands" class="jsx-64efd206b36bc2dd">Database troubleshooting commands</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#check-database-connections" class="jsx-64efd206b36bc2dd">Check database connections</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#check-for-locks" class="jsx-64efd206b36bc2dd">Check for locks</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#vacuum-and-analyze-database" class="jsx-64efd206b36bc2dd">Vacuum and analyze database</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#check-database-size" class="jsx-64efd206b36bc2dd">Check database size</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#check-system-resources" class="jsx-64efd206b36bc2dd">Check system resources</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#check-gitlab-worker-status" class="jsx-64efd206b36bc2dd">Check GitLab worker status</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#check-background-job-queue" class="jsx-64efd206b36bc2dd">Check background job queue</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#restart-specific-services" class="jsx-64efd206b36bc2dd">Restart specific services</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#test-ssl-configuration" class="jsx-64efd206b36bc2dd">Test SSL configuration</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#check-certificate-chain" class="jsx-64efd206b36bc2dd">Check certificate chain</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#verify-certificate" class="jsx-64efd206b36bc2dd">Verify certificate</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#test-cipher-suites" class="jsx-64efd206b36bc2dd">Test cipher suites</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#check-repository-integrity" class="jsx-64efd206b36bc2dd">Check repository integrity</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#recreate-authorized_keys-file" class="jsx-64efd206b36bc2dd">Recreate authorized_keys file</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#check-gitlab-shell" class="jsx-64efd206b36bc2dd">Check GitLab Shell</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#fix-repository-permissions" class="jsx-64efd206b36bc2dd">Fix repository permissions</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#14-integration-examples" class="jsx-64efd206b36bc2dd">14. Integration Examples</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#cicd-pipeline-integration" class="jsx-64efd206b36bc2dd">CI/CD Pipeline Integration</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#gitlab-ciyml-comprehensive-cicd-pipeline" class="jsx-64efd206b36bc2dd">.gitlab-ci.yml - Comprehensive CI/CD pipeline</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#security-scanning-stage" class="jsx-64efd206b36bc2dd">Security scanning stage</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#custom-security-scans" class="jsx-64efd206b36bc2dd">Custom security scans</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#testing-stage" class="jsx-64efd206b36bc2dd">Testing stage</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#build-stage" class="jsx-64efd206b36bc2dd">Build stage</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#deployment-stages" class="jsx-64efd206b36bc2dd">Deployment stages</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#monitoring-stage" class="jsx-64efd206b36bc2dd">Monitoring stage</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#external-service-integrations" class="jsx-64efd206b36bc2dd">External Service Integrations</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#configure-slack-notifications" class="jsx-64efd206b36bc2dd">Configure Slack notifications</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#configure-jira-integration" class="jsx-64efd206b36bc2dd">Configure Jira integration</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#etcgitlabgitlabrb-kubernetes-integration" class="jsx-64efd206b36bc2dd">/etc/gitlab/gitlab.rb - Kubernetes integration</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#enable-gitlab-agent-for-kubernetes" class="jsx-64efd206b36bc2dd">Enable GitLab Agent for Kubernetes</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#15-maintenance" class="jsx-64efd206b36bc2dd">15. Maintenance</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#regular-maintenance-tasks" class="jsx-64efd206b36bc2dd">Regular Maintenance Tasks</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#create-maintenance-script" class="jsx-64efd206b36bc2dd">Create maintenance script</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#update-gitlab-to-latest-version" class="jsx-64efd206b36bc2dd">Update GitLab to latest version</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#clean-up-old-log-files" class="jsx-64efd206b36bc2dd">Clean up old log files</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#clean-up-old-backups" class="jsx-64efd206b36bc2dd">Clean up old backups</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#database-maintenance" class="jsx-64efd206b36bc2dd">Database maintenance</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#git-repository-optimization" class="jsx-64efd206b36bc2dd">Git repository optimization</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#container-registry-cleanup" class="jsx-64efd206b36bc2dd">Container registry cleanup</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#check-system-health" class="jsx-64efd206b36bc2dd">Check system health</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#schedule-monthly-maintenance-on-first-sunday-at-3-am" class="jsx-64efd206b36bc2dd">Schedule monthly maintenance on first Sunday at 3 AM</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#update-procedures" class="jsx-64efd206b36bc2dd">Update Procedures</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#create-update-script" class="jsx-64efd206b36bc2dd">Create update script</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#create-backup-before-update" class="jsx-64efd206b36bc2dd">Create backup before update</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#update-gitlab" class="jsx-64efd206b36bc2dd">Update GitLab</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#reconfigure-after-update" class="jsx-64efd206b36bc2dd">Reconfigure after update</a></li><li class="jsx-64efd206b36bc2dd toc-level-1"><a href="#check-installation" class="jsx-64efd206b36bc2dd">Check installation</a></li><li class="jsx-64efd206b36bc2dd toc-level-2"><a href="#16-additional-resources" class="jsx-64efd206b36bc2dd">16. Additional Resources</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#documentation-links" class="jsx-64efd206b36bc2dd">Documentation Links</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#community-resources" class="jsx-64efd206b36bc2dd">Community Resources</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#training-and-certification" class="jsx-64efd206b36bc2dd">Training and Certification</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#tools-and-utilities" class="jsx-64efd206b36bc2dd">Tools and Utilities</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#security-resources" class="jsx-64efd206b36bc2dd">Security Resources</a></li><li class="jsx-64efd206b36bc2dd toc-level-3"><a href="#performance-and-scaling" class="jsx-64efd206b36bc2dd">Performance and Scaling</a></li></ul></nav><div class="jsx-64efd206b36bc2dd readme-content"><h2 id="table-of-contents" class="mobile-header">Table of Contents</h2>
<p class="mobile-paragraph">1. <a href="#prerequisites" target="_blank" rel="noopener" class="mobile-link">Prerequisites</a></p>
<p class="mobile-paragraph">2. <a href="#supported-operating-systems" target="_blank" rel="noopener" class="mobile-link">Supported Operating Systems</a></p>
<p class="mobile-paragraph">3. <a href="#installation" target="_blank" rel="noopener" class="mobile-link">Installation</a></p>
<p class="mobile-paragraph">4. <a href="#configuration" target="_blank" rel="noopener" class="mobile-link">Configuration</a></p>
<p class="mobile-paragraph">5. <a href="#service-management" target="_blank" rel="noopener" class="mobile-link">Service Management</a></p>
<p class="mobile-paragraph">6. <a href="#troubleshooting" target="_blank" rel="noopener" class="mobile-link">Troubleshooting</a></p>
<p class="mobile-paragraph">7. <a href="#security-considerations" target="_blank" rel="noopener" class="mobile-link">Security Considerations</a></p>
<p class="mobile-paragraph">8. <a href="#performance-tuning" target="_blank" rel="noopener" class="mobile-link">Performance Tuning</a></p>
<p class="mobile-paragraph">9. <a href="#backup-and-restore" target="_blank" rel="noopener" class="mobile-link">Backup and Restore</a></p>
<p class="mobile-paragraph">10. <a href="#system-requirements" target="_blank" rel="noopener" class="mobile-link">System Requirements</a></p>
<p class="mobile-paragraph">11. <a href="#support" target="_blank" rel="noopener" class="mobile-link">Support</a></p>
<p class="mobile-paragraph">12. <a href="#contributing" target="_blank" rel="noopener" class="mobile-link">Contributing</a></p>
<p class="mobile-paragraph">13. <a href="#license" target="_blank" rel="noopener" class="mobile-link">License</a></p>
<p class="mobile-paragraph">14. <a href="#acknowledgments" target="_blank" rel="noopener" class="mobile-link">Acknowledgments</a></p>
<p class="mobile-paragraph">15. <a href="#version-history" target="_blank" rel="noopener" class="mobile-link">Version History</a></p>
<p class="mobile-paragraph">16. <a href="#appendices" target="_blank" rel="noopener" class="mobile-link">Appendices</a></p>
<h2 id="1-introduction" class="mobile-header">1. Introduction</h2>
<p class="mobile-paragraph">GitLab is a comprehensive DevOps platform that provides Git repository management, CI/CD pipelines, issue tracking, container registry, and security scanning capabilities. As a Free and Open Source Software (FOSS) solution, GitLab Community Edition offers robust features for teams of all sizes, while GitLab Enterprise Edition provides additional advanced features for enterprise environments.</p>
<h3 id="foss-context" class="mobile-header">FOSS Context</h3>
<p class="mobile-paragraph">GitLab Community Edition (CE) is released under the MIT License and provides:</p>
<li class="mobile-list-item">Core Git repository management</li>
<li class="mobile-list-item">Issue tracking and project management</li>
<li class="mobile-list-item">Integrated CI/CD with GitLab Runner</li>
<li class="mobile-list-item">Built-in container registry</li>
<li class="mobile-list-item">Merge request workflows</li>
<li class="mobile-list-item">Wiki and documentation</li>
<li class="mobile-list-item">Security scanning (basic)</li>
<p class="mobile-paragraph">GitLab Enterprise Edition (EE) extends CE with premium features including advanced security scanning, compliance management, geo-replication, and enterprise authentication integrations.</p>
<h3 id="key-features" class="mobile-header">Key Features</h3>
<li class="mobile-list-item"><strong>Repository Management</strong>: Git-based version control with advanced merge request workflows</li>
<li class="mobile-list-item"><strong>CI/CD Platform</strong>: Integrated continuous integration and deployment with GitLab Runner</li>
<li class="mobile-list-item"><strong>Container Registry</strong>: Built-in Docker registry with vulnerability scanning</li>
<li class="mobile-list-item"><strong>Security</strong>: SAST, DAST, dependency scanning, and secret detection</li>
<li class="mobile-list-item"><strong>Project Management</strong>: Issue tracking, milestones, and agile planning tools</li>
<li class="mobile-list-item"><strong>Monitoring</strong>: Performance monitoring and error tracking</li>
<li class="mobile-list-item"><strong>Authentication</strong>: LDAP, SAML, OAuth, and multi-factor authentication support</li>
<h2 id="2-prerequisites" class="mobile-header">2. Prerequisites</h2>
<h3 id="10-system-requirements" class="mobile-header">10. System Requirements</h3>
<li class="mobile-list-item"><strong>Operating System</strong>: Linux (RHEL/CentOS 8+, Ubuntu 20.04+, Debian 10+, SUSE Linux, Arch Linux), macOS 10.15+, Windows 10/11, or FreeBSD 12+</li>
<li class="mobile-list-item"><strong>Memory</strong>: 8GB RAM minimum, 16GB+ recommended for production, 32GB+ for large installations</li>
<li class="mobile-list-item"><strong>CPU</strong>: 4 cores minimum, 8+ recommended for production</li>
<li class="mobile-list-item"><strong>Storage</strong>: 50GB+ available disk space, SSD strongly recommended for database and Git repositories</li>
<li class="mobile-list-item"><strong>Network</strong>: Stable internet connection, open ports 80, 443, and 22 (or custom SSH port)</li>
<h3 id="required-software-dependencies" class="mobile-header">Required Software Dependencies</h3>
<li class="mobile-list-item"><strong>Package Manager</strong>: apt (Debian/Ubuntu), yum/dnf (RHEL/CentOS/Fedora), pacman (Arch), zypper (openSUSE), pkg (FreeBSD)</li>
<li class="mobile-list-item"><strong>System Tools</strong>: curl, wget, openssh-server, ca-certificates, tzdata, perl</li>
<li class="mobile-list-item"><strong>Mail Transfer Agent</strong>: Postfix, Sendmail, or external SMTP service</li>
<li class="mobile-list-item"><strong>Firewall</strong>: firewalld, ufw, or iptables for security configuration</li>
<h3 id="network-requirements" class="mobile-header">Network Requirements</h3>
<li class="mobile-list-item"><strong>Domain Name</strong>: Fully qualified domain name for external access</li>
<li class="mobile-list-item"><strong>SSL Certificates</strong>: Valid SSL/TLS certificates for production deployment (Let's Encrypt recommended)</li>
<li class="mobile-list-item"><strong>Firewall Ports</strong>: </li>
<li class="mobile-list-item">80/tcp (HTTP, redirects to HTTPS)</li>
<li class="mobile-list-item">443/tcp (HTTPS)</li>
<li class="mobile-list-item">22/tcp or custom port (SSH/Git)</li>
<li class="mobile-list-item">2222/tcp (GitLab Shell SSH, if configured)</li>
<li class="mobile-list-item"><strong>SMTP Server</strong>: For email notifications (password resets, notifications, etc.)</li>
<h3 id="optional-components" class="mobile-header">Optional Components</h3>
<li class="mobile-list-item"><strong>External Database</strong>: PostgreSQL 12+ for high availability setups</li>
<li class="mobile-list-item"><strong>External Redis</strong>: Redis 6+ for session storage and caching</li>
<li class="mobile-list-item"><strong>Object Storage</strong>: S3-compatible storage for artifacts, uploads, and backups</li>
<li class="mobile-list-item"><strong>Load Balancer</strong>: For multi-node GitLab installations</li>
<li class="mobile-list-item"><strong>Monitoring</strong>: Prometheus, Grafana for advanced monitoring</li>
<h2 id="3-installation" class="mobile-header">3. Installation</h2>
<p class="mobile-paragraph">GitLab provides native packages for all major operating systems. The Omnibus package is the recommended installation method as it includes all dependencies and provides automatic updates.</p>
<h3 id="rhelcentosrocky-linuxalmalinux" class="mobile-header">RHEL/CentOS/Rocky Linux/AlmaLinux</h3>
<p class="mobile-paragraph">#### RHEL/CentOS 8+ / Rocky Linux / AlmaLinux</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Update system packages
sudo dnf update -y

# Install required dependencies
sudo dnf install -y curl policycoreutils-python-utils openssh-server perl postfix

# Enable and start required services
sudo systemctl enable --now sshd postfix

# Configure SELinux policies for GitLab
sudo setsebool -P httpd_can_network_connect 1
sudo setsebool -P httpd_can_network_relay 1
sudo setsebool -P httpd_read_user_content 1
sudo setsebool -P httpd_enable_homedirs 1

# Configure firewall rules
sudo firewall-cmd --permanent --add-service=http
sudo firewall-cmd --permanent --add-service=https
sudo firewall-cmd --permanent --add-service=ssh
sudo firewall-cmd --permanent --add-port=2222/tcp
sudo firewall-cmd --reload

# Add GitLab official repository
curl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash

# Install GitLab Enterprise Edition
sudo EXTERNAL_URL=&quot;https://gitlab.example.com&quot; dnf install -y gitlab-ee

# For Community Edition instead:
# sudo EXTERNAL_URL=&quot;https://gitlab.example.com&quot; dnf install -y gitlab-ce

# Initial configuration and start services
sudo gitlab-ctl reconfigure

# Check installation status
sudo gitlab-ctl status</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">#### RHEL/CentOS 7 (Legacy)</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Install dependencies
sudo yum install -y curl policycoreutils-python openssh-server perl postfix

# Configure services
sudo systemctl enable --now sshd postfix
sudo lokkit -s http -s https -s ssh

# Add repository and install
curl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash
sudo EXTERNAL_URL=&quot;https://gitlab.example.com&quot; yum install -y gitlab-ee
sudo gitlab-ctl reconfigure</code></pre>
      </div>
    </div>
<h3 id="debianubuntu" class="mobile-header">Debian/Ubuntu</h3>
<p class="mobile-paragraph">#### Ubuntu 20.04+ / Debian 10+</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Update package repositories
sudo apt-get update

# Install required dependencies
sudo apt-get install -y curl openssh-server ca-certificates tzdata perl postfix gpg

# Configure Postfix for email (choose &#039;Internet Site&#039; for basic setup)
sudo dpkg-reconfigure postfix

# Configure UFW firewall (if enabled)
sudo ufw allow ssh
sudo ufw allow http
sudo ufw allow https
sudo ufw allow 2222/tcp

# Add GitLab official repository
curl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.deb.sh | sudo bash

# Install GitLab Enterprise Edition
sudo EXTERNAL_URL=&quot;https://gitlab.example.com&quot; apt-get install -y gitlab-ee

# For Community Edition instead:
# sudo EXTERNAL_URL=&quot;https://gitlab.example.com&quot; apt-get install -y gitlab-ce

# Initial configuration and start services
sudo gitlab-ctl reconfigure

# Verify installation
sudo gitlab-ctl status</code></pre>
      </div>
    </div>
<h3 id="arch-linux" class="mobile-header">Arch Linux</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Update system packages
sudo pacman -Syu

# Install required dependencies
sudo pacman -S curl openssh postfix

# Enable and start services
sudo systemctl enable --now sshd postfix

# Install GitLab from AUR (using yay helper)
yay -S gitlab-ee

# Or install GitLab Community Edition
# yay -S gitlab

# Configure GitLab
sudo vim /etc/gitlab/gitlab.rb
# Set: external_url &#039;https://gitlab.example.com&#039;

# Initial configuration
sudo gitlab-ctl reconfigure

# Enable GitLab service
sudo systemctl enable gitlab-runsvdir
sudo systemctl start gitlab-runsvdir</code></pre>
      </div>
    </div>
<h3 id="alpine-linux" class="mobile-header">Alpine Linux</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Update package index
sudo apk update

# Install required packages
sudo apk add curl openssh postfix

# Enable services
sudo rc-update add sshd default
sudo rc-update add postfix default
sudo rc-service sshd start
sudo rc-service postfix start

# Add GitLab repository key
wget -O /etc/apk/keys/gitlab.rsa.pub https://packages.gitlab.com/gitlab/gitlab-ee/gpgkey/gitlab-gitlab-ee-3D645A26AB9FBD22.rsa.pub

# Add GitLab repository
echo &quot;https://packages.gitlab.com/gitlab/gitlab-ee/alpine/v$(cat /etc/alpine-release | cut -d&#039;.&#039; -f1-2)/main&quot; &gt;&gt; /etc/apk/repositories

# Update and install GitLab
sudo apk update
sudo apk add gitlab-ee

# Configure external URL
echo &quot;external_url &#039;https://gitlab.example.com&#039;&quot; &gt;&gt; /etc/gitlab/gitlab.rb

# Reconfigure and start
sudo gitlab-ctl reconfigure</code></pre>
      </div>
    </div>
<h3 id="opensusesles" class="mobile-header">openSUSE/SLES</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Install dependencies (openSUSE)
sudo zypper install -y curl openssh postfix

# For SLES
# sudo zypper install -y curl openssh2 postfix

# Enable services
sudo systemctl enable --now sshd postfix

# Configure firewall
sudo firewall-cmd --permanent --add-service=http
sudo firewall-cmd --permanent --add-service=https
sudo firewall-cmd --permanent --add-service=ssh
sudo firewall-cmd --reload

# Add GitLab repository
curl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash

# Install GitLab
sudo EXTERNAL_URL=&quot;https://gitlab.example.com&quot; zypper install -y gitlab-ee

# Configure and start
sudo gitlab-ctl reconfigure</code></pre>
      </div>
    </div>
<h3 id="macos" class="mobile-header">macOS</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Install Homebrew if not already installed
/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;

# Install required dependencies
brew install curl git postfix

# Start postfix service
sudo launchctl load -w /System/Library/LaunchDaemons/com.apple.postfix.master.plist

# Install GitLab using official installer
curl -LO https://packages.gitlab.com/gitlab/gitlab-ee/packages/el/8/gitlab-ee-latest.x86_64.rpm

# Note: GitLab doesn&#039;t provide native macOS packages
# Recommended to use Docker for macOS installations:

# Create GitLab directories
sudo mkdir -p /srv/gitlab/{config,logs,data}

# Set environment variables
export GITLAB_HOME=/srv/gitlab

# Run GitLab container
docker run --detach \
  --hostname gitlab.example.com \
  --publish 443:443 --publish 80:80 --publish 2222:22 \
  --name gitlab \
  --restart unless-stopped \
  --volume $GITLAB_HOME/config:/etc/gitlab \
  --volume $GITLAB_HOME/logs:/var/log/gitlab \
  --volume $GITLAB_HOME/data:/var/opt/gitlab \
  --shm-size 256m \
  --env GITLAB_OMNIBUS_CONFIG=&quot;external_url &#039;https://gitlab.example.com&#039;&quot; \
  gitlab/gitlab-ee:latest</code></pre>
      </div>
    </div>
<h3 id="freebsd" class="mobile-header">FreeBSD</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Update ports tree
sudo portsnap fetch extract

# Install required ports
sudo pkg install curl openssh-portable postfix git

# Enable services
sudo sysrc sshd_enable=&quot;YES&quot;
sudo sysrc postfix_enable=&quot;YES&quot;
sudo service sshd start
sudo service postfix start

# Configure firewall (if pf is enabled)
echo &#039;pass in on $ext_if proto tcp from any to any port {22, 80, 443, 2222}&#039; &gt;&gt; /etc/pf.conf
sudo pfctl -f /etc/pf.conf

# GitLab doesn&#039;t provide official FreeBSD packages
# Install using source compilation or Docker:

# Docker method (install Docker first)
sudo pkg install docker
sudo sysrc docker_enable=&quot;YES&quot;
sudo service docker start

# Run GitLab container
sudo docker run --detach \
  --hostname gitlab.example.com \
  --publish 443:443 --publish 80:80 --publish 2222:22 \
  --name gitlab \
  --restart unless-stopped \
  --volume /usr/local/gitlab/config:/etc/gitlab \
  --volume /usr/local/gitlab/logs:/var/log/gitlab \
  --volume /usr/local/gitlab/data:/var/opt/gitlab \
  --shm-size 256m \
  gitlab/gitlab-ee:latest</code></pre>
      </div>
    </div>
<h3 id="windows" class="mobile-header">Windows</h3>
<p class="mobile-paragraph">GitLab does not provide native Windows packages. Use Docker Desktop or WSL2 with Linux installation.</p>
<p class="mobile-paragraph">#### Windows with Docker Desktop</p>
<div class="mobile-code-block" data-language="powershell">
      <div class="mobile-code-header">
        <span class="mobile-code-language">powershell</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-powershell"># Install Docker Desktop from https://www.docker.com/products/docker-desktop

# Create GitLab directories
mkdir C:\gitlab\config
mkdir C:\gitlab\logs
mkdir C:\gitlab\data

# Run GitLab container
docker run --detach `
  --hostname gitlab.example.com `
  --publish 443:443 --publish 80:80 --publish 2222:22 `
  --name gitlab `
  --restart unless-stopped `
  --volume C:\gitlab\config:/etc/gitlab `
  --volume C:\gitlab\logs:/var/log/gitlab `
  --volume C:\gitlab\data:/var/opt/gitlab `
  --shm-size 256m `
  --env GITLAB_OMNIBUS_CONFIG=&quot;external_url &#039;https://gitlab.example.com&#039;&quot; `
  gitlab/gitlab-ee:latest</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">#### Windows with WSL2</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Enable WSL2 and install Ubuntu
wsl --install -d Ubuntu

# Switch to WSL2 Ubuntu environment
wsl

# Follow Ubuntu installation instructions above
sudo apt-get update
sudo apt-get install -y curl openssh-server ca-certificates tzdata perl postfix gpg
curl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.deb.sh | sudo bash
sudo EXTERNAL_URL=&quot;https://gitlab.example.com&quot; apt-get install -y gitlab-ee
sudo gitlab-ctl reconfigure</code></pre>
      </div>
    </div>
<h2 id="4-initial-configuration" class="mobile-header">4. Initial Configuration</h2>
<p class="mobile-paragraph">After installation, GitLab requires initial configuration to set up the root password and basic settings.</p>
<h3 id="first-time-setup" class="mobile-header">First-time Setup</h3>
<p class="mobile-paragraph">1. <strong>Access GitLab Web Interface</strong></p>
<p class="mobile-paragraph">   ```bash</p>
<p class="mobile-paragraph">   # Wait for GitLab to fully start (may take 2-3 minutes)</p>
<p class="mobile-paragraph">   sudo gitlab-ctl status</p>
<p class="mobile-paragraph">   # Check GitLab is responding</p>
<p class="mobile-paragraph">   curl -I http://localhost</p>
<p class="mobile-paragraph">   ```</p>
<p class="mobile-paragraph">2. <strong>Retrieve Initial Root Password</strong></p>
<p class="mobile-paragraph">   ```bash</p>
<p class="mobile-paragraph">   # Get the initial root password</p>
<p class="mobile-paragraph">   sudo cat /etc/gitlab/initial_root_password</p>
<p class="mobile-paragraph">   ```</p>
<p class="mobile-paragraph">3. <strong>Web Interface Setup</strong></p>
<li class="mobile-list-item">Navigate to <code class="mobile-inline-code">https://your-domain.com</code> or <code class="mobile-inline-code">http://your-server-ip</code></li>
<li class="mobile-list-item">Login with username: <code class="mobile-inline-code">root</code> and the password from step 2</li>
<li class="mobile-list-item">Set a new secure root password immediately</li>
<li class="mobile-list-item">Complete the initial setup wizard</li>
<h3 id="basic-configuration-file-setup" class="mobile-header">Basic Configuration File Setup</h3>
<p class="mobile-paragraph">Edit the main configuration file:</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash">sudo vim /etc/gitlab/gitlab.rb</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">Essential initial settings:</p>
<div class="mobile-code-block" data-language="ruby">
      <div class="mobile-code-header">
        <span class="mobile-code-language">ruby</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-ruby"># External URL (replace with your domain)
external_url &#039;https://gitlab.example.com&#039;

# Email configuration
gitlab_rails[&#039;gitlab_email_enabled&#039;] = true
gitlab_rails[&#039;gitlab_email_from&#039;] = &#039;gitlab@example.com&#039;
gitlab_rails[&#039;gitlab_email_display_name&#039;] = &#039;GitLab&#039;

# SMTP configuration (example with Gmail)
gitlab_rails[&#039;smtp_enable&#039;] = true
gitlab_rails[&#039;smtp_address&#039;] = &quot;smtp.gmail.com&quot;
gitlab_rails[&#039;smtp_port&#039;] = 587
gitlab_rails[&#039;smtp_user_name&#039;] = &quot;gitlab@example.com&quot;
gitlab_rails[&#039;smtp_password&#039;] = &quot;app_password&quot;
gitlab_rails[&#039;smtp_domain&#039;] = &quot;gmail.com&quot;
gitlab_rails[&#039;smtp_authentication&#039;] = &quot;login&quot;
gitlab_rails[&#039;smtp_enable_starttls_auto&#039;] = true
gitlab_rails[&#039;smtp_tls&#039;] = false

# Time zone
gitlab_rails[&#039;time_zone&#039;] = &#039;UTC&#039;

# GitLab Shell SSH port (if different from 22)
gitlab_rails[&#039;gitlab_shell_ssh_port&#039;] = 2222</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">Apply configuration changes:</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash">sudo gitlab-ctl reconfigure
sudo gitlab-ctl restart</code></pre>
      </div>
    </div>
<h3 id="ssltls-configuration" class="mobile-header">SSL/TLS Configuration</h3>
<p class="mobile-paragraph">#### Let's Encrypt (Recommended)</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Enable Let&#039;s Encrypt in gitlab.rb
sudo vim /etc/gitlab/gitlab.rb</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">Add these settings:</p>
<div class="mobile-code-block" data-language="ruby">
      <div class="mobile-code-header">
        <span class="mobile-code-language">ruby</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-ruby"># Enable Let&#039;s Encrypt
letsencrypt[&#039;enable&#039;] = true
letsencrypt[&#039;contact_emails&#039;] = [&#039;admin@example.com&#039;]
letsencrypt[&#039;auto_renew&#039;] = true

# Force HTTPS
nginx[&#039;redirect_http_to_https&#039;] = true
nginx[&#039;ssl_protocols&#039;] = &quot;TLSv1.2 TLSv1.3&quot;</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">Reconfigure to activate SSL:</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash">sudo gitlab-ctl reconfigure</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">#### Manual SSL Certificate</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create SSL directory
sudo mkdir -p /etc/gitlab/ssl

# Copy your certificates (replace with your actual cert files)
sudo cp your-certificate.crt /etc/gitlab/ssl/gitlab.example.com.crt
sudo cp your-private-key.key /etc/gitlab/ssl/gitlab.example.com.key

# Set proper permissions
sudo chmod 600 /etc/gitlab/ssl/gitlab.example.com.key
sudo chmod 644 /etc/gitlab/ssl/gitlab.example.com.crt</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">Configure in gitlab.rb:</p>
<div class="mobile-code-block" data-language="ruby">
      <div class="mobile-code-header">
        <span class="mobile-code-language">ruby</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-ruby">external_url &#039;https://gitlab.example.com&#039;
nginx[&#039;ssl_certificate&#039;] = &quot;/etc/gitlab/ssl/gitlab.example.com.crt&quot;
nginx[&#039;ssl_certificate_key&#039;] = &quot;/etc/gitlab/ssl/gitlab.example.com.key&quot;</code></pre>
      </div>
    </div>
<h2 id="5-service-management" class="mobile-header">5. Service Management</h2>
<p class="mobile-paragraph">GitLab uses the <code class="mobile-inline-code">gitlab-ctl</code> command for service management across all platforms.</p>
<h3 id="service-control-commands" class="mobile-header">Service Control Commands</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Check status of all services
sudo gitlab-ctl status

# Start all GitLab services
sudo gitlab-ctl start

# Stop all GitLab services  
sudo gitlab-ctl stop

# Restart all GitLab services
sudo gitlab-ctl restart

# Restart specific service
sudo gitlab-ctl restart nginx
sudo gitlab-ctl restart unicorn
sudo gitlab-ctl restart sidekiq

# Reload configuration without restart
sudo gitlab-ctl reconfigure

# Show service logs
sudo gitlab-ctl tail
sudo gitlab-ctl tail nginx
sudo gitlab-ctl tail unicorn
sudo gitlab-ctl tail postgresql</code></pre>
      </div>
    </div>
<h3 id="service-status-monitoring" class="mobile-header">Service Status Monitoring</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Detailed service status
sudo gitlab-ctl service-list

# Check specific service
sudo gitlab-ctl status nginx
sudo gitlab-ctl status postgresql
sudo gitlab-ctl status redis

# Monitor service logs in real-time
sudo gitlab-ctl tail -f gitlab-workhorse
sudo gitlab-ctl tail -f sidekiq

# Check GitLab application status
sudo gitlab-rake gitlab:check

# Environment information
sudo gitlab-rake gitlab:env:info</code></pre>
      </div>
    </div>
<h3 id="systemd-integration" class="mobile-header">Systemd Integration</h3>
<p class="mobile-paragraph">On systems with systemd, GitLab services are managed through systemd:</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Enable GitLab to start at boot
sudo systemctl enable gitlab-runsvdir.service

# Start GitLab services
sudo systemctl start gitlab-runsvdir.service

# Check systemd status
sudo systemctl status gitlab-runsvdir.service

# Stop GitLab services
sudo systemctl stop gitlab-runsvdir.service

# Check GitLab logs through journald
sudo journalctl -u gitlab-runsvdir.service -f</code></pre>
      </div>
    </div>
<h3 id="service-configuration" class="mobile-header">Service Configuration</h3>
<p class="mobile-paragraph">Individual service configuration in <code class="mobile-inline-code">/etc/gitlab/gitlab.rb</code>:</p>
<div class="mobile-code-block" data-language="ruby">
      <div class="mobile-code-header">
        <span class="mobile-code-language">ruby</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-ruby"># Unicorn (web server) settings
unicorn[&#039;worker_processes&#039;] = 4
unicorn[&#039;worker_memory_limit_min&#039;] = &quot;400m&quot;
unicorn[&#039;worker_memory_limit_max&#039;] = &quot;650m&quot;

# Sidekiq (background jobs) settings  
sidekiq[&#039;max_concurrency&#039;] = 25
sidekiq[&#039;log_format&#039;] = &#039;json&#039;

# GitLab Workhorse settings
gitlab_workhorse[&#039;listen_network&#039;] = &quot;tcp&quot;
gitlab_workhorse[&#039;listen_addr&#039;] = &quot;127.0.0.1:8181&quot;

# NGINX settings
nginx[&#039;listen_port&#039;] = 80
nginx[&#039;listen_https&#039;] = false  # Use with reverse proxy
nginx[&#039;client_max_body_size&#039;] = &#039;250m&#039;</code></pre>
      </div>
    </div>
<h2 id="6-advanced-configuration" class="mobile-header">6. Advanced Configuration</h2>
<h3 id="performance-optimization" class="mobile-header">Performance Optimization</h3>
<p class="mobile-paragraph">Configure GitLab for optimal performance based on your hardware resources:</p>
<div class="mobile-code-block" data-language="ruby">
      <div class="mobile-code-header">
        <span class="mobile-code-language">ruby</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-ruby"># /etc/gitlab/gitlab.rb - Performance settings

# Unicorn web server optimization
unicorn[&#039;worker_processes&#039;] = 8  # Number of CPU cores
unicorn[&#039;worker_memory_limit_min&#039;] = &quot;400m&quot;
unicorn[&#039;worker_memory_limit_max&#039;] = &quot;650m&quot;
unicorn[&#039;worker_timeout&#039;] = 60

# Sidekiq background job optimization
sidekiq[&#039;max_concurrency&#039;] = 25
sidekiq[&#039;min_concurrency&#039;] = 10
sidekiq[&#039;log_format&#039;] = &#039;json&#039;

# PostgreSQL optimization
postgresql[&#039;shared_buffers&#039;] = &quot;2GB&quot;
postgresql[&#039;effective_cache_size&#039;] = &quot;8GB&quot;
postgresql[&#039;work_mem&#039;] = &quot;16MB&quot;
postgresql[&#039;maintenance_work_mem&#039;] = &quot;256MB&quot;
postgresql[&#039;max_connections&#039;] = 300
postgresql[&#039;checkpoint_completion_target&#039;] = 0.9
postgresql[&#039;wal_buffers&#039;] = &quot;16MB&quot;
postgresql[&#039;random_page_cost&#039;] = 1.1

# Redis optimization
redis[&#039;maxmemory&#039;] = &quot;1gb&quot;
redis[&#039;maxmemory_policy&#039;] = &quot;allkeys-lru&quot;
redis[&#039;tcp_keepalive&#039;] = 300
redis[&#039;tcp_timeout&#039;] = 60

# Gitaly optimization (Git RPC service)
gitaly[&#039;ruby_max_rss&#039;] = 300000000  # 300MB
gitaly[&#039;concurrency&#039;] = [
  {
    &#039;rpc&#039; =&gt; &quot;/gitaly.SmartHTTPService/PostReceivePack&quot;,
    &#039;max_per_repo&#039; =&gt; 3
  },
  {
    &#039;rpc&#039; =&gt; &quot;/gitaly.SSHService/SSHUploadPack&quot;,
    &#039;max_per_repo&#039; =&gt; 3
  }
]

# File system optimization
git_data_dirs({
  &quot;default&quot; =&gt; {
    &quot;path&quot; =&gt; &quot;/var/opt/gitlab/git-data&quot;
  }
})

# Logging optimization
logging[&#039;svlogd_size&#039;] = 200 * 1024 * 1024  # 200MB
logging[&#039;svlogd_num&#039;] = 30
logging[&#039;logrotate_frequency&#039;] = &quot;daily&quot;
logging[&#039;logrotate_rotate&#039;] = 30</code></pre>
      </div>
    </div>
<h3 id="enterprise-features-configuration" class="mobile-header">Enterprise Features Configuration</h3>
<div class="mobile-code-block" data-language="ruby">
      <div class="mobile-code-header">
        <span class="mobile-code-language">ruby</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-ruby"># LDAP/Active Directory integration
gitlab_rails[&#039;ldap_enabled&#039;] = true
gitlab_rails[&#039;ldap_servers&#039;] = {
  &#039;main&#039; =&gt; {
    &#039;label&#039; =&gt; &#039;LDAP&#039;,
    &#039;host&#039; =&gt; &#039;ldap.example.com&#039;,
    &#039;port&#039; =&gt; 636,
    &#039;uid&#039; =&gt; &#039;sAMAccountName&#039;,
    &#039;bind_dn&#039; =&gt; &#039;CN=gitlab,OU=Service Accounts,DC=example,DC=com&#039;,
    &#039;password&#039; =&gt; &#039;ldap_service_password&#039;,
    &#039;encryption&#039; =&gt; &#039;ssl&#039;,
    &#039;verify_certificates&#039; =&gt; true,
    &#039;base&#039; =&gt; &#039;DC=example,DC=com&#039;,
    &#039;user_filter&#039; =&gt; &#039;&#039;,
    &#039;attributes&#039; =&gt; {
      &#039;username&#039; =&gt; [&#039;uid&#039;, &#039;userid&#039;, &#039;sAMAccountName&#039;],
      &#039;email&#039; =&gt; [&#039;mail&#039;, &#039;email&#039;, &#039;userPrincipalName&#039;],
      &#039;name&#039; =&gt; &#039;cn&#039;,
      &#039;first_name&#039; =&gt; &#039;givenName&#039;,
      &#039;last_name&#039; =&gt; &#039;sn&#039;
    },
    &#039;group_base&#039; =&gt; &#039;OU=Groups,DC=example,DC=com&#039;,
    &#039;admin_group&#039; =&gt; &#039;GitLab Administrators&#039;
  }
}

# SAML SSO configuration
gitlab_rails[&#039;omniauth_enabled&#039;] = true
gitlab_rails[&#039;omniauth_allow_single_sign_on&#039;] = [&#039;saml&#039;]
gitlab_rails[&#039;omniauth_block_auto_created_users&#039;] = false
gitlab_rails[&#039;omniauth_auto_link_saml_user&#039;] = true
gitlab_rails[&#039;omniauth_providers&#039;] = [
  {
    name: &#039;saml&#039;,
    args: {
      assertion_consumer_service_url: &#039;https://gitlab.example.com/users/auth/saml/callback&#039;,
      idp_cert_fingerprint: &#039;SAML_IDP_CERT_FINGERPRINT&#039;,
      idp_sso_target_url: &#039;https://idp.example.com/sso/saml&#039;,
      issuer: &#039;https://gitlab.example.com&#039;,
      name_identifier_format: &#039;urn:oasis:names:tc:SAML:2.0:nameid-format:emailAddress&#039;
    },
    label: &#039;Company SSO&#039;
  }
]

# Geo replication (Enterprise Premium)
gitlab_rails[&#039;geo_primary_role&#039;] = true
gitlab_rails[&#039;geo_node_name&#039;] = &#039;primary-site&#039;
gitlab_rails[&#039;geo_registry_replication_enabled&#039;] = true

# Advanced security features
gitlab_rails[&#039;security_auto_fix_enabled&#039;] = true
gitlab_rails[&#039;dependency_proxy_enabled&#039;] = true
gitlab_rails[&#039;packages_enabled&#039;] = true</code></pre>
      </div>
    </div>
<h3 id="container-registry-configuration" class="mobile-header">Container Registry Configuration</h3>
<div class="mobile-code-block" data-language="ruby">
      <div class="mobile-code-header">
        <span class="mobile-code-language">ruby</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-ruby"># Container Registry setup
registry_external_url &#039;https://registry.example.com&#039;
gitlab_rails[&#039;registry_enabled&#039;] = true
registry[&#039;enable&#039;] = true
registry[&#039;username&#039;] = &quot;registry&quot;
registry[&#039;group&#039;] = &quot;registry&quot;
registry[&#039;dir&#039;] = &quot;/var/opt/gitlab/registry&quot;

# Registry storage configuration (S3)
registry[&#039;storage&#039;] = {
  &#039;s3&#039; =&gt; {
    &#039;accesskey&#039; =&gt; &#039;registry_s3_access_key&#039;,
    &#039;secretkey&#039; =&gt; &#039;registry_s3_secret_key&#039;,
    &#039;bucket&#039; =&gt; &#039;gitlab-registry&#039;,
    &#039;region&#039; =&gt; &#039;us-west-2&#039;,
    &#039;encrypt&#039; =&gt; true
  }
}

# Registry security
registry[&#039;auth_token_realm&#039;] = &quot;https://gitlab.example.com/jwt/auth&quot;
registry[&#039;auth_token_service&#039;] = &quot;container_registry&quot;
registry[&#039;auth_token_issuer&#039;] = &quot;gitlab-issuer&quot;

# Registry health checks
registry[&#039;health_storagedriver_enabled&#039;] = true
registry[&#039;health_storagedriver_interval&#039;] = &#039;10s&#039;
registry[&#039;health_storagedriver_threshold&#039;] = 3

# Container scanning and cleanup
gitlab_rails[&#039;container_registry_cleanup_enabled&#039;] = true
gitlab_rails[&#039;container_registry_expiration_policy_enabled&#039;] = true</code></pre>
      </div>
    </div>
<h3 id="gitlab-pages-configuration" class="mobile-header">GitLab Pages Configuration</h3>
<div class="mobile-code-block" data-language="ruby">
      <div class="mobile-code-header">
        <span class="mobile-code-language">ruby</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-ruby"># GitLab Pages setup
pages_external_url &quot;https://pages.example.com&quot;
gitlab_pages[&#039;enable&#039;] = true
gitlab_pages[&#039;access_control&#039;] = true
gitlab_pages[&#039;artifacts_server&#039;] = true
gitlab_pages[&#039;external_http&#039;] = [&#039;0.0.0.0:8090&#039;]
gitlab_pages[&#039;external_https&#039;] = [&#039;0.0.0.0:8091&#039;]

# Pages SSL configuration
gitlab_pages[&#039;cert_file&#039;] = &quot;/etc/gitlab/ssl/pages.crt&quot;
gitlab_pages[&#039;key_file&#039;] = &quot;/etc/gitlab/ssl/pages.key&quot;

# Pages storage
gitlab_pages[&#039;dir&#039;] = &quot;/var/opt/gitlab/gitlab-pages&quot;
gitlab_pages[&#039;log_directory&#039;] = &quot;/var/log/gitlab/gitlab-pages&quot;</code></pre>
      </div>
    </div>
<h2 id="7-reverse-proxy-setup" class="mobile-header">7. Reverse Proxy Setup</h2>
<h3 id="nginx-reverse-proxy" class="mobile-header">NGINX Reverse Proxy</h3>
<p class="mobile-paragraph">Configure NGINX as a reverse proxy for GitLab:</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Install NGINX
# Ubuntu/Debian
sudo apt-get install nginx

# RHEL/CentOS
sudo dnf install nginx

# Configure NGINX for GitLab
sudo tee /etc/nginx/sites-available/gitlab &gt; /dev/null &lt;&lt;EOF
upstream gitlab-workhorse {
  server unix:/var/opt/gitlab/gitlab-workhorse/socket fail_timeout=0;
}

server {
  listen 80;
  server_name gitlab.example.com;
  server_tokens off;
  return 301 https://\$server_name\$request_uri;
}

server {
  listen 443 ssl http2;
  server_name gitlab.example.com;
  server_tokens off;

  # SSL configuration
  ssl_certificate /etc/nginx/ssl/gitlab.crt;
  ssl_certificate_key /etc/nginx/ssl/gitlab.key;
  ssl_protocols TLSv1.2 TLSv1.3;
  ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384;
  ssl_prefer_server_ciphers off;
  ssl_session_cache shared:SSL:10m;
  ssl_session_tickets off;

  # Security headers
  add_header Strict-Transport-Security &quot;max-age=31536000; includeSubDomains&quot; always;
  add_header X-Content-Type-Options nosniff;
  add_header X-Frame-Options DENY;
  add_header X-XSS-Protection &quot;1; mode=block&quot;;
  add_header Referrer-Policy strict-origin-when-cross-origin;

  # GitLab needs backwards compatible ciphers to retain compatibility with Java IDEs
  ssl_ciphers &quot;ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA256&quot;;

  client_max_body_size 250m;
  
  location / {
    proxy_cache off;
    proxy_pass http://gitlab-workhorse;
    proxy_pass_header Server;
    proxy_set_header Host \$host;
    proxy_set_header X-Real-IP \$remote_addr;
    proxy_set_header X-Forwarded-For \$proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto \$scheme;
    proxy_set_header X-Forwarded-Ssl on;
    
    proxy_read_timeout 300s;
    proxy_connect_timeout 300s;
    proxy_redirect off;
  }
  
  # Container Registry
  location /v2/ {
    proxy_cache off;
    proxy_pass http://localhost:5000;
    proxy_pass_header Server;
    proxy_set_header Host \$host;
    proxy_set_header X-Real-IP \$remote_addr;
    proxy_set_header X-Forwarded-For \$proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto \$scheme;
    proxy_set_header X-Forwarded-Ssl on;
    
    proxy_read_timeout 900;
  }
}
EOF

# Enable site and restart NGINX
sudo ln -sf /etc/nginx/sites-available/gitlab /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx</code></pre>
      </div>
    </div>
<h3 id="apache-http-server-httpd" class="mobile-header">Apache HTTP Server (httpd)</h3>
<p class="mobile-paragraph">Configure Apache as reverse proxy:</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Install Apache
# RHEL/CentOS
sudo dnf install httpd mod_ssl

# Enable modules
sudo systemctl enable httpd

# Configure Apache for GitLab
sudo tee /etc/httpd/conf.d/gitlab.conf &gt; /dev/null &lt;&lt;EOF
&lt;VirtualHost *:80&gt;
  ServerName gitlab.example.com
  Redirect permanent / https://gitlab.example.com/
&lt;/VirtualHost&gt;

&lt;VirtualHost *:443&gt;
  ServerName gitlab.example.com
  
  # SSL Configuration
  SSLEngine on
  SSLCertificateFile /etc/httpd/ssl/gitlab.crt
  SSLCertificateKeyFile /etc/httpd/ssl/gitlab.key
  SSLProtocol -all +TLSv1.2 +TLSv1.3
  SSLCipherSuite ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384
  SSLHonorCipherOrder off
  
  # Security headers
  Header always set Strict-Transport-Security &quot;max-age=31536000; includeSubDomains&quot;
  Header always set X-Content-Type-Options nosniff
  Header always set X-Frame-Options DENY
  Header always set X-XSS-Protection &quot;1; mode=block&quot;
  
  # Proxy configuration
  ProxyPreserveHost On
  ProxyPass /v2/ http://localhost:5000/v2/
  ProxyPassReverse /v2/ http://localhost:5000/v2/
  ProxyPass / http://localhost:8080/
  ProxyPassReverse / http://localhost:8080/
  
  # Set headers
  ProxyPassReverse / http://localhost:8080/
  RequestHeader set X-Forwarded-Proto &quot;https&quot;
  RequestHeader set X-Forwarded-Ssl &quot;on&quot;
&lt;/VirtualHost&gt;
EOF

# Start Apache
sudo systemctl start httpd
sudo systemctl enable httpd</code></pre>
      </div>
    </div>
<h3 id="haproxy-load-balancer" class="mobile-header">HAProxy Load Balancer</h3>
<p class="mobile-paragraph">Configure HAProxy for high availability:</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Install HAProxy
sudo apt-get install haproxy  # Ubuntu/Debian
sudo dnf install haproxy      # RHEL/CentOS

# Configure HAProxy
sudo tee /etc/haproxy/haproxy.cfg &gt; /dev/null &lt;&lt;EOF
global
    daemon
    log 127.0.0.1:514 local0
    chroot /var/lib/haproxy
    stats socket /run/haproxy/admin.sock mode 660 level admin
    stats timeout 30s
    user haproxy
    group haproxy

    # SSL configuration
    ssl-default-bind-ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256
    ssl-default-bind-options ssl-min-ver TLSv1.2 no-tls-tickets

defaults
    mode http
    log global
    option httplog
    option dontlognull
    option log-health-checks
    option forwardfor except 127.0.0.0/8
    option redispatch
    retries 3
    timeout http-request 10s
    timeout queue 1m
    timeout connect 5s
    timeout client 1m
    timeout server 1m
    timeout http-keep-alive 10s
    timeout check 10s

# GitLab frontend
frontend gitlab_frontend
    bind *:80
    bind *:443 ssl crt /etc/haproxy/certs/gitlab.pem
    redirect scheme https if !{ ssl_fc }
    
    # Security headers
    rspadd Strict-Transport-Security:\ max-age=31536000;\ includeSubDomains
    rspadd X-Content-Type-Options:\ nosniff
    rspadd X-Frame-Options:\ DENY
    
    default_backend gitlab_backend

# GitLab backend servers
backend gitlab_backend
    balance roundrobin
    option httpchk GET /users/sign_in
    http-check expect status 200
    
    server gitlab1 192.168.1.10:8080 check
    server gitlab2 192.168.1.11:8080 check backup

# Statistics interface
frontend stats
    bind *:8404
    stats enable
    stats uri /stats
    stats refresh 30s
    stats admin if TRUE
EOF

# Start HAProxy
sudo systemctl start haproxy
sudo systemctl enable haproxy</code></pre>
      </div>
    </div>
<h2 id="8-security-configuration" class="mobile-header">8. Security Configuration</h2>
<h3 id="security-hardening" class="mobile-header">Security Hardening</h3>
<p class="mobile-paragraph">Implement comprehensive security measures:</p>
<div class="mobile-code-block" data-language="ruby">
      <div class="mobile-code-header">
        <span class="mobile-code-language">ruby</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-ruby"># /etc/gitlab/gitlab.rb - Security configuration

# Force HTTPS
nginx[&#039;redirect_http_to_https&#039;] = true
nginx[&#039;ssl_protocols&#039;] = &quot;TLSv1.2 TLSv1.3&quot;
nginx[&#039;ssl_prefer_server_ciphers&#039;] = &quot;off&quot;
nginx[&#039;ssl_ciphers&#039;] = &quot;ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384&quot;

# Security headers
nginx[&#039;custom_nginx_config&#039;] = &quot;include /etc/nginx/conf.d/security-headers.conf;&quot;

# Rate limiting
gitlab_rails[&#039;rate_limit_requests_per_period&#039;] = 300
gitlab_rails[&#039;rate_limit_period&#039;] = 60

# Rack Attack configuration for Git over HTTP
gitlab_rails[&#039;rack_attack_git_basic_auth&#039;] = {
  &#039;enabled&#039; =&gt; true,
  &#039;ip_whitelist&#039; =&gt; %w{127.0.0.1 192.168.1.0/24},
  &#039;maxretry&#039; =&gt; 10,
  &#039;findtime&#039; =&gt; 60,
  &#039;bantime&#039; =&gt; 3600
}

# Protected paths
gitlab_rails[&#039;rack_attack_protected_paths&#039;] = [
  &#039;/users/password&#039;,
  &#039;/users/sign_in&#039;,
  &#039;/api/v4/session.json&#039;,
  &#039;/api/v4/session&#039;,
  &#039;/users/confirmation&#039;,
  &#039;/unsubscribes/&#039;,
  &#039;/admin/session&#039;
]

# SSH security
gitlab_rails[&#039;gitlab_shell_ssh_port&#039;] = 2222
gitlab_shell[&#039;auth_file&#039;] = &quot;/var/opt/gitlab/.ssh/authorized_keys&quot;

# Two-factor authentication enforcement
gitlab_rails[&#039;require_two_factor_authentication&#039;] = false
gitlab_rails[&#039;two_factor_grace_period&#039;] = 8  # 8 hours

# Session settings
gitlab_rails[&#039;session_expire_delay&#039;] = 10080  # 1 week
gitlab_rails[&#039;session_store_enabled&#039;] = true

# Webhook security
gitlab_rails[&#039;webhook_timeout&#039;] = 10
gitlab_rails[&#039;webhook_max_redirects&#039;] = 3

# API security
gitlab_rails[&#039;api_limit_per_min&#039;] = 300

# Disable features that increase attack surface
gitlab_rails[&#039;usage_ping_enabled&#039;] = false
gitlab_rails[&#039;sentry_enabled&#039;] = false

# Audit logging (Enterprise)
gitlab_rails[&#039;audit_events_enabled&#039;] = true

# Security scanning
gitlab_rails[&#039;sast_enabled&#039;] = true
gitlab_rails[&#039;dependency_scanning_enabled&#039;] = true
gitlab_rails[&#039;container_scanning_enabled&#039;] = true
gitlab_rails[&#039;secret_detection_enabled&#039;] = true</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">Create security headers configuration:</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash">sudo mkdir -p /etc/nginx/conf.d

sudo tee /etc/nginx/conf.d/security-headers.conf &gt; /dev/null &lt;&lt;EOF
# Security headers
add_header Strict-Transport-Security &quot;max-age=31536000; includeSubDomains; preload&quot; always;
add_header X-Content-Type-Options nosniff always;
add_header X-Frame-Options DENY always;
add_header X-XSS-Protection &quot;1; mode=block&quot; always;
add_header Referrer-Policy &quot;strict-origin-when-cross-origin&quot; always;
add_header Content-Security-Policy &quot;default-src &#039;self&#039;; script-src &#039;self&#039; &#039;unsafe-inline&#039; &#039;unsafe-eval&#039;; style-src &#039;self&#039; &#039;unsafe-inline&#039;; img-src &#039;self&#039; data: https:; font-src &#039;self&#039; data:; connect-src &#039;self&#039;;&quot; always;
EOF</code></pre>
      </div>
    </div>
<h3 id="firewall-configuration" class="mobile-header">Firewall Configuration</h3>
<p class="mobile-paragraph">#### UFW (Ubuntu/Debian)</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Enable UFW
sudo ufw enable

# Allow SSH
sudo ufw allow OpenSSH

# Allow HTTP/HTTPS
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp

# Allow GitLab SSH (if using custom port)
sudo ufw allow 2222/tcp

# Allow specific IP ranges only (optional)
sudo ufw allow from 192.168.1.0/24 to any port 22
sudo ufw allow from 10.0.0.0/8 to any port 22

# Check status
sudo ufw status verbose</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">#### firewalld (RHEL/CentOS)</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Enable firewalld
sudo systemctl enable --now firewalld

# Add services
sudo firewall-cmd --permanent --add-service=http
sudo firewall-cmd --permanent --add-service=https
sudo firewall-cmd --permanent --add-service=ssh

# Add custom ports
sudo firewall-cmd --permanent --add-port=2222/tcp

# Create custom service for GitLab
sudo tee /etc/firewalld/services/gitlab.xml &gt; /dev/null &lt;&lt;EOF
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;service&gt;
  &lt;short&gt;GitLab&lt;/short&gt;
  &lt;description&gt;GitLab DevOps Platform&lt;/description&gt;
  &lt;port protocol=&quot;tcp&quot; port=&quot;80&quot;/&gt;
  &lt;port protocol=&quot;tcp&quot; port=&quot;443&quot;/&gt;
  &lt;port protocol=&quot;tcp&quot; port=&quot;2222&quot;/&gt;
&lt;/service&gt;
EOF

sudo firewall-cmd --permanent --add-service=gitlab
sudo firewall-cmd --reload</code></pre>
      </div>
    </div>
<h3 id="access-control-and-authentication" class="mobile-header">Access Control and Authentication</h3>
<div class="mobile-code-block" data-language="ruby">
      <div class="mobile-code-header">
        <span class="mobile-code-language">ruby</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-ruby"># Password policy
gitlab_rails[&#039;password_authentication_enabled_for_web&#039;] = true
gitlab_rails[&#039;password_authentication_enabled_for_git&#039;] = true

# Sign-up restrictions
gitlab_rails[&#039;signup_enabled&#039;] = false
gitlab_rails[&#039;signin_enabled&#039;] = true

# Email domain restrictions
gitlab_rails[&#039;email_restrictions_enabled&#039;] = true
gitlab_rails[&#039;email_restrictions&#039;] = &#039;@example\\.com$|@partner\\.com$&#039;

# IP restrictions (Enterprise)
gitlab_rails[&#039;ip_restrictions_enabled&#039;] = true

# OAuth/OIDC providers configuration
gitlab_rails[&#039;omniauth_enabled&#039;] = true
gitlab_rails[&#039;omniauth_allow_single_sign_on&#039;] = [&#039;google_oauth2&#039;, &#039;github&#039;]
gitlab_rails[&#039;omniauth_block_auto_created_users&#039;] = true
gitlab_rails[&#039;omniauth_auto_sign_in_with_provider&#039;] = &#039;google_oauth2&#039;
gitlab_rails[&#039;omniauth_providers&#039;] = [
  {
    name: &#039;google_oauth2&#039;,
    app_id: &#039;GOOGLE_OAUTH_CLIENT_ID&#039;,
    app_secret: &#039;GOOGLE_OAUTH_CLIENT_SECRET&#039;,
    args: {
      scope: &#039;email profile&#039;,
      domain: &#039;example.com&#039;
    }
  }
]</code></pre>
      </div>
    </div>
<h2 id="9-database-setup" class="mobile-header">9. Database Setup</h2>
<p class="mobile-paragraph">GitLab uses PostgreSQL as its default database. For production environments, consider using an external PostgreSQL instance.</p>
<h3 id="internal-postgresql-default" class="mobile-header">Internal PostgreSQL (Default)</h3>
<p class="mobile-paragraph">GitLab comes with a built-in PostgreSQL instance configured automatically:</p>
<div class="mobile-code-block" data-language="ruby">
      <div class="mobile-code-header">
        <span class="mobile-code-language">ruby</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-ruby"># /etc/gitlab/gitlab.rb - PostgreSQL settings

# Enable built-in PostgreSQL
postgresql[&#039;enable&#039;] = true

# PostgreSQL performance tuning
postgresql[&#039;shared_buffers&#039;] = &quot;2GB&quot;
postgresql[&#039;effective_cache_size&#039;] = &quot;8GB&quot; 
postgresql[&#039;work_mem&#039;] = &quot;16MB&quot;
postgresql[&#039;maintenance_work_mem&#039;] = &quot;256MB&quot;
postgresql[&#039;max_connections&#039;] = 300
postgresql[&#039;checkpoint_completion_target&#039;] = 0.9
postgresql[&#039;wal_buffers&#039;] = &quot;16MB&quot;
postgresql[&#039;default_statistics_target&#039;] = 100
postgresql[&#039;random_page_cost&#039;] = 1.1  # For SSD storage
postgresql[&#039;effective_io_concurrency&#039;] = 200

# Connection settings
postgresql[&#039;listen_address&#039;] = &#039;127.0.0.1&#039;
postgresql[&#039;port&#039;] = 5432
postgresql[&#039;max_worker_processes&#039;] = 8
postgresql[&#039;max_parallel_workers_per_gather&#039;] = 4
postgresql[&#039;max_parallel_workers&#039;] = 8

# WAL settings for performance
postgresql[&#039;wal_level&#039;] = &#039;replica&#039;
postgresql[&#039;max_wal_senders&#039;] = 3
postgresql[&#039;checkpoint_segments&#039;] = 32
postgresql[&#039;checkpoint_timeout&#039;] = &#039;5min&#039;

# Logging
postgresql[&#039;log_statement&#039;] = &#039;none&#039;
postgresql[&#039;log_min_duration_statement&#039;] = 1000  # Log slow queries
postgresql[&#039;log_line_prefix&#039;] = &#039;%t [%p]: [%l-1] user=%u,db=%d,app=%a,client=%h &#039;</code></pre>
      </div>
    </div>
<h3 id="external-postgresql-setup" class="mobile-header">External PostgreSQL Setup</h3>
<p class="mobile-paragraph">For high availability and better performance, use an external PostgreSQL server:</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Install PostgreSQL on separate server
# Ubuntu/Debian
sudo apt-get install postgresql postgresql-contrib

# RHEL/CentOS  
sudo dnf install postgresql-server postgresql-contrib

# Initialize database (RHEL/CentOS only)
sudo postgresql-setup --initdb
sudo systemctl enable --now postgresql

# Create GitLab database and user
sudo -u postgres createuser --createdb --no-superuser --no-createrole gitlab
sudo -u postgres createdb -O gitlab gitlabhq_production
sudo -u postgres psql -c &quot;ALTER USER gitlab ENCRYPTED PASSWORD &#039;secure_password&#039;;&quot;

# Configure PostgreSQL for GitLab
sudo tee -a /var/lib/pgsql/data/postgresql.conf &lt;&lt;EOF
# GitLab optimizations
shared_buffers = 2GB
effective_cache_size = 8GB
work_mem = 16MB  
maintenance_work_mem = 256MB
max_connections = 300
checkpoint_completion_target = 0.9
wal_buffers = 16MB
random_page_cost = 1.1
effective_io_concurrency = 200

# Connection settings
listen_addresses = &#039;*&#039;
port = 5432
max_worker_processes = 8
max_parallel_workers = 8
max_parallel_workers_per_gather = 4

# Enable extensions
shared_preload_libraries = &#039;pg_stat_statements&#039;
EOF

# Configure client authentication
sudo tee -a /var/lib/pgsql/data/pg_hba.conf &lt;&lt;EOF
host    gitlabhq_production     gitlab          192.168.1.0/24          md5
host    gitlabhq_production     gitlab          10.0.0.0/8              md5
EOF

sudo systemctl restart postgresql</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">Configure GitLab to use external PostgreSQL:</p>
<div class="mobile-code-block" data-language="ruby">
      <div class="mobile-code-header">
        <span class="mobile-code-language">ruby</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-ruby"># /etc/gitlab/gitlab.rb - External PostgreSQL

# Disable built-in PostgreSQL
postgresql[&#039;enable&#039;] = false

# External PostgreSQL configuration
gitlab_rails[&#039;db_adapter&#039;] = &#039;postgresql&#039;
gitlab_rails[&#039;db_encoding&#039;] = &#039;unicode&#039;
gitlab_rails[&#039;db_collation&#039;] = nil
gitlab_rails[&#039;db_database&#039;] = &#039;gitlabhq_production&#039;
gitlab_rails[&#039;db_pool&#039;] = 10
gitlab_rails[&#039;db_username&#039;] = &#039;gitlab&#039;
gitlab_rails[&#039;db_password&#039;] = &#039;secure_password&#039;
gitlab_rails[&#039;db_host&#039;] = &#039;192.168.1.10&#039;
gitlab_rails[&#039;db_port&#039;] = 5432
gitlab_rails[&#039;db_socket&#039;] = nil
gitlab_rails[&#039;db_sslmode&#039;] = &#039;prefer&#039;
gitlab_rails[&#039;db_sslcert&#039;] = nil
gitlab_rails[&#039;db_sslkey&#039;] = nil
gitlab_rails[&#039;db_sslrootcert&#039;] = nil
gitlab_rails[&#039;db_sslcrl&#039;] = nil
gitlab_rails[&#039;db_prepared_statements&#039;] = false
gitlab_rails[&#039;db_statements_limit&#039;] = 1000

# Load balancing for read replicas (Enterprise)
gitlab_rails[&#039;db_load_balancing&#039;] = {
  &#039;hosts&#039; =&gt; [&#039;192.168.1.11&#039;, &#039;192.168.1.12&#039;],
  &#039;discover&#039; =&gt; {
    &#039;record&#039; =&gt; &#039;postgres-replica.example.com&#039;
  }
}</code></pre>
      </div>
    </div>
<h3 id="database-maintenance" class="mobile-header">Database Maintenance</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Database maintenance commands
sudo gitlab-ctl pgb-console  # Connect to database

# Manual database operations
sudo gitlab-psql -d gitlabhq_production

# Database migrations
sudo gitlab-rake db:migrate

# Check database status
sudo gitlab-rake db:migrate:status

# Create database backup
sudo gitlab-backup create SKIP=uploads,builds,artifacts,lfs,registry,pages

# Restore database from backup  
sudo gitlab-backup restore BACKUP=timestamp_of_backup

# Database cleanup
sudo gitlab-rake gitlab:cleanup:sessions
sudo gitlab-rake gitlab:cleanup:project_uploads</code></pre>
      </div>
    </div>
<h2 id="10-performance-optimization" class="mobile-header">10. Performance Optimization</h2>
<h3 id="system-level-optimizations" class="mobile-header">System-Level Optimizations</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Kernel parameter tuning for GitLab
sudo tee /etc/sysctl.d/90-gitlab.conf &lt;&lt;EOF
# Network optimizations
net.core.somaxconn = 65535
net.ipv4.tcp_max_syn_backlog = 65535
net.core.netdev_max_backlog = 5000
net.ipv4.tcp_fin_timeout = 30
net.ipv4.tcp_keepalive_time = 1200
net.ipv4.tcp_keepalive_probes = 7
net.ipv4.tcp_keepalive_intvl = 30

# Memory management
vm.swappiness = 1
vm.dirty_ratio = 15
vm.dirty_background_ratio = 5
vm.vfs_cache_pressure = 50

# File system optimizations
fs.file-max = 2097152
fs.nr_open = 1048576
EOF

sudo sysctl -p /etc/sysctl.d/90-gitlab.conf

# Increase file descriptor limits
sudo tee /etc/security/limits.d/90-gitlab.conf &lt;&lt;EOF
git     soft    nofile          65535
git     hard    nofile          65535
git     soft    nproc           65535  
git     hard    nproc           65535
EOF

# Configure systemd limits
sudo mkdir -p /etc/systemd/system/gitlab-runsvdir.service.d
sudo tee /etc/systemd/system/gitlab-runsvdir.service.d/limits.conf &lt;&lt;EOF
[Service]
LimitNOFILE=65535
LimitNPROC=65535
EOF

sudo systemctl daemon-reload</code></pre>
      </div>
    </div>
<h3 id="application-performance-tuning" class="mobile-header">Application Performance Tuning</h3>
<div class="mobile-code-block" data-language="ruby">
      <div class="mobile-code-header">
        <span class="mobile-code-language">ruby</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-ruby"># /etc/gitlab/gitlab.rb - Performance optimizations

# Unicorn/Puma web server settings
# Use Puma (recommended for GitLab 13.0+)
puma[&#039;enable&#039;] = true
puma[&#039;worker_processes&#039;] = 4  # Number of CPU cores
puma[&#039;min_threads&#039;] = 1
puma[&#039;max_threads&#039;] = 16
puma[&#039;worker_timeout&#039;] = 60
puma[&#039;worker_boot_timeout&#039;] = 60

# Disable Unicorn if using Puma
unicorn[&#039;enable&#039;] = false

# Sidekiq background job processing
sidekiq[&#039;max_concurrency&#039;] = 25
sidekiq[&#039;min_concurrency&#039;] = 10
sidekiq[&#039;queue_groups&#039;] = [
  &#039;*&#039;,
  &#039;cronjob:1&#039;,
  &#039;default:5&#039;,
  &#039;pipeline_processing:2&#039;
]

# Gitaly settings for Git operations
gitaly[&#039;ruby_max_rss&#039;] = 300000000  # 300MB
gitaly[&#039;concurrency&#039;] = [
  {
    &#039;rpc&#039; =&gt; &quot;/gitaly.SmartHTTPService/PostReceivePack&quot;,
    &#039;max_per_repo&#039; =&gt; 3
  },
  {
    &#039;rpc&#039; =&gt; &quot;/gitaly.SSHService/SSHUploadPack&quot;,
    &#039;max_per_repo&#039; =&gt; 3  
  },
  {
    &#039;rpc&#039; =&gt; &quot;/gitaly.SSHService/SSHReceivePack&quot;,
    &#039;max_per_repo&#039; =&gt; 3
  }
]

# GitLab Workhorse settings
gitlab_workhorse[&#039;api_limit&#039;] = 1000
gitlab_workhorse[&#039;api_queue_limit&#039;] = 200
gitlab_workhorse[&#039;api_queue_duration&#039;] = &quot;30s&quot;

# Redis caching optimizations  
redis[&#039;maxmemory&#039;] = &quot;1gb&quot;
redis[&#039;maxmemory_policy&#039;] = &quot;allkeys-lru&quot;
redis[&#039;save&#039;] = &#039;900 1 300 10 60 10000&#039;
redis[&#039;tcp_keepalive&#039;] = 300
redis[&#039;tcp_timeout&#039;] = 60

# NGINX optimizations
nginx[&#039;worker_processes&#039;] = 4
nginx[&#039;worker_connections&#039;] = 1024
nginx[&#039;keepalive_timeout&#039;] = 65
nginx[&#039;gzip&#039;] = &quot;on&quot;
nginx[&#039;gzip_comp_level&#039;] = 6
nginx[&#039;gzip_types&#039;] = [
  &#039;text/plain&#039;,
  &#039;text/css&#039;, 
  &#039;application/json&#039;,
  &#039;application/javascript&#039;,
  &#039;text/xml&#039;,
  &#039;application/xml&#039;,
  &#039;application/xml+rss&#039;,
  &#039;text/javascript&#039;
]

# Prometheus monitoring optimization
prometheus[&#039;scrape_interval&#039;] = 15
prometheus[&#039;scrape_timeout&#039;] = 10
prometheus[&#039;evaluation_interval&#039;] = 15</code></pre>
      </div>
    </div>
<h3 id="storage-optimization" class="mobile-header">Storage Optimization</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Use SSD storage with proper mount options
sudo tee -a /etc/fstab &lt;&lt;EOF
/dev/sdb1 /var/opt/gitlab ext4 defaults,noatime,discard 0 2
EOF

# Optimize Git repository storage
sudo tee /usr/local/bin/gitlab-git-optimize.sh &lt;&lt;&#039;EOF&#039;
#!/bin/bash
# Optimize Git repositories for better performance

REPO_DIR=&quot;/var/opt/gitlab/git-data/repositories&quot;
LOG_FILE=&quot;/var/log/gitlab/git-optimize.log&quot;

echo &quot;$(date): Starting Git repository optimization&quot; &gt;&gt; $LOG_FILE

find $REPO_DIR -name &quot;*.git&quot; -type d | while read repo; do
    cd &quot;$repo&quot;
    echo &quot;Optimizing: $repo&quot; &gt;&gt; $LOG_FILE
    
    # Garbage collection
    git gc --aggressive --prune=now
    
    # Repack repository
    git repack -ad
    
    # Update server info
    git update-server-info
done

echo &quot;$(date): Git repository optimization completed&quot; &gt;&gt; $LOG_FILE
EOF

sudo chmod +x /usr/local/bin/gitlab-git-optimize.sh

# Schedule weekly Git optimization
echo &quot;0 2 * * 0 root /usr/local/bin/gitlab-git-optimize.sh&quot; | sudo tee -a /etc/crontab</code></pre>
      </div>
    </div>
<h3 id="monitoring-performance" class="mobile-header">Monitoring Performance</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create performance monitoring script
sudo tee /usr/local/bin/gitlab-performance-check.sh &lt;&lt;&#039;EOF&#039;
#!/bin/bash
LOGFILE=&quot;/var/log/gitlab-performance.log&quot;

echo &quot;$(date): Performance Check Started&quot; &gt;&gt; $LOGFILE

# CPU and Memory usage
echo &quot;CPU Usage: $(top -bn1 | grep &quot;Cpu(s)&quot; | awk &#039;{print $2}&#039; | cut -d&#039;%&#039; -f1)%&quot; &gt;&gt; $LOGFILE
echo &quot;Memory Usage: $(free | grep Mem | awk &#039;{printf &quot;%.2f&quot;, $3/$2 * 100.0}&#039;)%&quot; &gt;&gt; $LOGFILE

# Database connections
DB_CONNECTIONS=$(sudo gitlab-psql -t -c &quot;SELECT count(*) FROM pg_stat_activity;&quot;)
echo &quot;Database Connections: $DB_CONNECTIONS&quot; &gt;&gt; $LOGFILE

# Redis memory usage
REDIS_MEMORY=$(redis-cli info memory | grep used_memory_human | cut -d: -f2)
echo &quot;Redis Memory: $REDIS_MEMORY&quot; &gt;&gt; $LOGFILE

# Disk usage
DISK_USAGE=$(df /var/opt/gitlab | awk &#039;NR==2 {print $5}&#039;)
echo &quot;Disk Usage: $DISK_USAGE&quot; &gt;&gt; $LOGFILE

# Active processes
PROCESSES=$(sudo gitlab-ctl status | grep -c &quot;run:&quot;)
echo &quot;Active GitLab Processes: $PROCESSES&quot; &gt;&gt; $LOGFILE

echo &quot;$(date): Performance Check Completed&quot; &gt;&gt; $LOGFILE
echo &quot;---&quot; &gt;&gt; $LOGFILE
EOF

sudo chmod +x /usr/local/bin/gitlab-performance-check.sh

# Schedule performance checks every 15 minutes
echo &quot;*/15 * * * * root /usr/local/bin/gitlab-performance-check.sh&quot; | sudo tee -a /etc/crontab</code></pre>
      </div>
    </div>
<h2 id="11-monitoring" class="mobile-header">11. Monitoring</h2>
<p class="mobile-paragraph">GitLab includes built-in monitoring capabilities with Prometheus and Grafana.</p>
<h3 id="built-in-monitoring-stack" class="mobile-header">Built-in Monitoring Stack</h3>
<p class="mobile-paragraph">Enable GitLab's integrated monitoring:</p>
<div class="mobile-code-block" data-language="ruby">
      <div class="mobile-code-header">
        <span class="mobile-code-language">ruby</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-ruby"># /etc/gitlab/gitlab.rb - Monitoring configuration

# Enable Prometheus monitoring
prometheus_monitoring[&#039;enable&#039;] = true
prometheus[&#039;enable&#039;] = true
prometheus[&#039;listen_address&#039;] = &#039;localhost:9090&#039;
prometheus[&#039;scrape_interval&#039;] = 15
prometheus[&#039;scrape_timeout&#039;] = 10
prometheus[&#039;evaluation_interval&#039;] = 15

# Prometheus exporters
node_exporter[&#039;enable&#039;] = true
node_exporter[&#039;listen_address&#039;] = &#039;localhost:9100&#039;

redis_exporter[&#039;enable&#039;] = true
redis_exporter[&#039;listen_address&#039;] = &#039;localhost:9121&#039;

postgres_exporter[&#039;enable&#039;] = true
postgres_exporter[&#039;listen_address&#039;] = &#039;localhost:9187&#039;

gitlab_exporter[&#039;enable&#039;] = true
gitlab_exporter[&#039;listen_address&#039;] = &#039;localhost:9168&#039;

# Grafana configuration
grafana[&#039;enable&#039;] = true
grafana[&#039;admin_password&#039;] = &#039;secure_grafana_password&#039;
grafana[&#039;disable_login_form&#039;] = false
grafana[&#039;allow_user_sign_up&#039;] = false
grafana[&#039;secret_key&#039;] = &#039;generate_secure_secret_key&#039;

# Alert Manager
alertmanager[&#039;enable&#039;] = true
alertmanager[&#039;admin_email&#039;] = &#039;alerts@example.com&#039;
alertmanager[&#039;flags&#039;] = {
  &#039;storage.path&#039; =&gt; &#039;/var/opt/gitlab/alertmanager/data&#039;,
  &#039;config.file&#039; =&gt; &#039;/var/opt/gitlab/alertmanager/alertmanager.yml&#039;
}</code></pre>
      </div>
    </div>
<h3 id="external-monitoring-integration" class="mobile-header">External Monitoring Integration</h3>
<p class="mobile-paragraph">Configure external monitoring systems:</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Prometheus configuration for external setup
sudo tee /etc/prometheus/prometheus.yml &lt;&lt;EOF
global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    monitor: &#039;gitlab-monitor&#039;

alerting:
  alertmanagers:
    - static_configs:
        - targets: [&#039;localhost:9093&#039;]

rule_files:
  - &quot;gitlab-rules.yml&quot;

scrape_configs:
  - job_name: &#039;gitlab-workhorse&#039;
    static_configs:
      - targets: [&#039;gitlab.example.com:9229&#039;]
    metrics_path: &#039;/metrics&#039;
    scrape_interval: 15s

  - job_name: &#039;gitlab-unicorn&#039;
    static_configs:
      - targets: [&#039;gitlab.example.com:8080&#039;]
    metrics_path: &#039;/-/metrics&#039;
    scrape_interval: 15s

  - job_name: &#039;gitlab-sidekiq&#039;
    static_configs:
      - targets: [&#039;gitlab.example.com:8082&#039;]
    metrics_path: &#039;/metrics&#039;
    scrape_interval: 15s

  - job_name: &#039;gitlab-gitaly&#039;
    static_configs:
      - targets: [&#039;gitlab.example.com:9236&#039;]
    metrics_path: &#039;/metrics&#039;
    scrape_interval: 15s

  - job_name: &#039;node-exporter&#039;
    static_configs:
      - targets: [&#039;gitlab.example.com:9100&#039;]
    metrics_path: &#039;/metrics&#039;
    scrape_interval: 15s

  - job_name: &#039;postgres-exporter&#039;
    static_configs:
      - targets: [&#039;gitlab.example.com:9187&#039;]
    metrics_path: &#039;/metrics&#039;
    scrape_interval: 15s

  - job_name: &#039;redis-exporter&#039;
    static_configs:
      - targets: [&#039;gitlab.example.com:9121&#039;]
    metrics_path: &#039;/metrics&#039;
    scrape_interval: 15s
EOF

# Create GitLab-specific alerting rules
sudo tee /etc/prometheus/gitlab-rules.yml &lt;&lt;EOF
groups:
  - name: gitlab
    rules:
      - alert: GitLabDown
        expr: up{job=~&quot;gitlab.*&quot;} == 0
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: &quot;GitLab service {{ \$labels.job }} is down&quot;
          description: &quot;GitLab service {{ \$labels.job }} has been down for more than 5 minutes.&quot;

      - alert: GitLabHighCPU
        expr: 100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=&quot;idle&quot;}[5m])) * 100) &gt; 80
        for: 10m
        labels:
          severity: warning
        annotations:
          summary: &quot;High CPU usage on GitLab server&quot;
          description: &quot;CPU usage is above 80% for more than 10 minutes.&quot;

      - alert: GitLabHighMemory
        expr: (node_memory_MemTotal_bytes - node_memory_MemAvailable_bytes) / node_memory_MemTotal_bytes * 100 &gt; 85
        for: 10m
        labels:
          severity: warning
        annotations:
          summary: &quot;High memory usage on GitLab server&quot;
          description: &quot;Memory usage is above 85% for more than 10 minutes.&quot;

      - alert: GitLabDiskSpaceLow
        expr: (node_filesystem_avail_bytes / node_filesystem_size_bytes) * 100 &lt; 15
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: &quot;Low disk space on GitLab server&quot;
          description: &quot;Disk space is below 15% on {{ \$labels.mountpoint }}.&quot;

      - alert: GitLabPostgreSQLDown
        expr: up{job=&quot;postgres-exporter&quot;} == 0
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: &quot;PostgreSQL is down&quot;
          description: &quot;GitLab PostgreSQL database has been down for more than 5 minutes.&quot;

      - alert: GitLabRedisDown
        expr: up{job=&quot;redis-exporter&quot;} == 0
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: &quot;Redis is down&quot;
          description: &quot;GitLab Redis cache has been down for more than 5 minutes.&quot;
EOF</code></pre>
      </div>
    </div>
<h3 id="log-management" class="mobile-header">Log Management</h3>
<p class="mobile-paragraph">Configure centralized logging:</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Install and configure Elasticsearch, Logstash, Kibana (ELK Stack)
# Or use external services like Splunk, DataDog, etc.

# Configure GitLab log forwarding
sudo tee /etc/rsyslog.d/49-gitlab.conf &lt;&lt;EOF
# Forward GitLab logs to centralized logging
*.* @@logserver.example.com:514

# Local GitLab log files
if \$programname startswith &#039;gitlab&#039; then /var/log/gitlab-centralized.log
&amp; stop
EOF

sudo systemctl restart rsyslog

# Create log monitoring script
sudo tee /usr/local/bin/gitlab-log-monitor.sh &lt;&lt;&#039;EOF&#039;
#!/bin/bash
ALERT_EMAIL=&quot;admin@example.com&quot;
LOG_DIR=&quot;/var/log/gitlab&quot;

# Monitor for critical errors
find $LOG_DIR -name &quot;*.log&quot; -type f -mmin -5 | while read logfile; do
    if grep -i &quot;error\|exception\|fatal&quot; &quot;$logfile&quot; | grep &quot;$(date +&#039;%Y-%m-%d %H:%M&#039;)&quot; &gt; /tmp/gitlab-errors.tmp; then
        if [ -s /tmp/gitlab-errors.tmp ]; then
            echo &quot;Critical errors found in GitLab logs:&quot; | mail -s &quot;GitLab Error Alert&quot; $ALERT_EMAIL &lt; /tmp/gitlab-errors.tmp
        fi
    fi
done

# Monitor disk space for log directory
USAGE=$(df $LOG_DIR | awk &#039;NR==2 {print $5}&#039; | sed &#039;s/%//&#039;)
if [ $USAGE -gt 80 ]; then
    echo &quot;Log directory usage is at ${USAGE}%. Consider log rotation.&quot; | mail -s &quot;GitLab Log Disk Usage Warning&quot; $ALERT_EMAIL
fi
EOF

sudo chmod +x /usr/local/bin/gitlab-log-monitor.sh

# Schedule log monitoring every 5 minutes
echo &quot;*/5 * * * * root /usr/local/bin/gitlab-log-monitor.sh&quot; | sudo tee -a /etc/crontab</code></pre>
      </div>
    </div>
<h3 id="health-monitoring" class="mobile-header">Health Monitoring</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create comprehensive health monitoring
sudo tee /usr/local/bin/gitlab-health-monitor.sh &lt;&lt;&#039;EOF&#039;
#!/bin/bash
HEALTH_LOG=&quot;/var/log/gitlab-health.log&quot;
EMAIL=&quot;admin@example.com&quot;
WEBHOOK_URL=&quot;https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK&quot;

check_service() {
    local service=$1
    if sudo gitlab-ctl status $service | grep -q &quot;run:&quot;; then
        echo &quot;$(date): ✓ $service is running&quot; &gt;&gt; $HEALTH_LOG
        return 0
    else
        echo &quot;$(date): ✗ $service is DOWN&quot; &gt;&gt; $HEALTH_LOG
        alert_service_down $service
        return 1
    fi
}

alert_service_down() {
    local service=$1
    echo &quot;ALERT: GitLab service $service is down&quot; | mail -s &quot;GitLab Service Alert&quot; $EMAIL
    
    # Send Slack notification
    curl -X POST -H &#039;Content-type: application/json&#039; \
        --data &quot;{\&quot;text\&quot;:\&quot;🚨 GitLab Alert: Service $service is down on $(hostname)\&quot;}&quot; \
        $WEBHOOK_URL
}

# Check all critical services
echo &quot;$(date): Starting health check&quot; &gt;&gt; $HEALTH_LOG

services=(&quot;nginx&quot; &quot;postgresql&quot; &quot;redis&quot; &quot;unicorn&quot; &quot;sidekiq&quot; &quot;gitaly&quot;)
failed_services=0

for service in &quot;${services[@]}&quot;; do
    if ! check_service $service; then
        ((failed_services++))
    fi
done

# Check application health
if sudo gitlab-rake gitlab:check &gt;/dev/null 2&gt;&amp;1; then
    echo &quot;$(date): ✓ GitLab application health check passed&quot; &gt;&gt; $HEALTH_LOG
else
    echo &quot;$(date): ✗ GitLab application health check FAILED&quot; &gt;&gt; $HEALTH_LOG
    echo &quot;GitLab application health check failed&quot; | mail -s &quot;GitLab Application Health Alert&quot; $EMAIL
    ((failed_services++))
fi

# Check backup status
LAST_BACKUP=$(ls -t /var/opt/gitlab/backups/*_gitlab_backup.tar 2&gt;/dev/null | head -1)
if [ -n &quot;$LAST_BACKUP&quot; ]; then
    BACKUP_AGE=$(( ($(date +%s) - $(stat -c %Y &quot;$LAST_BACKUP&quot;)) / 3600 ))
    if [ $BACKUP_AGE -gt 48 ]; then
        echo &quot;$(date): ⚠ Last backup is ${BACKUP_AGE} hours old&quot; &gt;&gt; $HEALTH_LOG
        echo &quot;GitLab backup is ${BACKUP_AGE} hours old&quot; | mail -s &quot;GitLab Backup Warning&quot; $EMAIL
    else
        echo &quot;$(date): ✓ Recent backup available (${BACKUP_AGE} hours old)&quot; &gt;&gt; $HEALTH_LOG
    fi
else
    echo &quot;$(date): ✗ No backup files found&quot; &gt;&gt; $HEALTH_LOG
    echo &quot;No GitLab backup files found&quot; | mail -s &quot;GitLab Backup Alert&quot; $EMAIL
fi

echo &quot;$(date): Health check completed. Failed services: $failed_services&quot; &gt;&gt; $HEALTH_LOG
EOF

sudo chmod +x /usr/local/bin/gitlab-health-monitor.sh

# Schedule health checks every 10 minutes
echo &quot;*/10 * * * * root /usr/local/bin/gitlab-health-monitor.sh&quot; | sudo tee -a /etc/crontab</code></pre>
      </div>
    </div>
<h2 id="12-backup-and-restore" class="mobile-header">12. Backup and Restore</h2>
<h3 id="automated-backup-strategy" class="mobile-header">Automated Backup Strategy</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create comprehensive backup script
sudo tee /usr/local/bin/gitlab-backup-complete.sh &lt;&lt;&#039;EOF&#039;
#!/bin/bash
BACKUP_DIR=&quot;/backup/gitlab&quot;
DATE=$(date +%Y%m%d_%H%M%S)
RETENTION_DAYS=30
EMAIL=&quot;admin@example.com&quot;

# Create backup directories
mkdir -p ${BACKUP_DIR}/{omnibus,secrets,ssl,registry,uploads}

echo &quot;$(date): Starting GitLab backup process...&quot;

# Create GitLab application backup
echo &quot;Creating GitLab application backup...&quot;
if gitlab-backup create STRATEGY=copy SKIP=uploads,builds,artifacts,lfs,registry,pages; then
    echo &quot;✓ GitLab application backup completed&quot;
else
    echo &quot;✗ GitLab application backup failed&quot;
    echo &quot;GitLab application backup failed on $(hostname)&quot; | mail -s &quot;GitLab Backup Failure&quot; $EMAIL
    exit 1
fi

# Backup configuration files
echo &quot;Backing up configuration files...&quot;
tar -czf ${BACKUP_DIR}/omnibus/gitlab-config-${DATE}.tar.gz \
    /etc/gitlab/gitlab.rb \
    /etc/gitlab/gitlab-secrets.json \
    /etc/gitlab/trusted-certs/ 2&gt;/dev/null

# Backup SSL certificates
echo &quot;Backing up SSL certificates...&quot;
if [ -d /etc/gitlab/ssl ]; then
    tar -czf ${BACKUP_DIR}/ssl/gitlab-ssl-${DATE}.tar.gz /etc/gitlab/ssl/
fi

if [ -d /etc/letsencrypt ]; then
    tar -czf ${BACKUP_DIR}/ssl/letsencrypt-${DATE}.tar.gz /etc/letsencrypt/
fi

# Backup secrets
echo &quot;Backing up secrets...&quot;
if [ -d /etc/gitlab/secrets ]; then
    tar -czf ${BACKUP_DIR}/secrets/gitlab-secrets-${DATE}.tar.gz /etc/gitlab/secrets/
fi

# Backup container registry (if using local storage)
if [ -d /var/opt/gitlab/gitlab-rails/shared/registry ]; then
    echo &quot;Backing up container registry...&quot;
    tar -czf ${BACKUP_DIR}/registry/registry-${DATE}.tar.gz /var/opt/gitlab/gitlab-rails/shared/registry/
fi

# Upload to cloud storage (multiple providers)
echo &quot;Uploading backups to cloud storage...&quot;

# AWS S3
if command -v aws &gt;/dev/null 2&gt;&amp;1; then
    aws s3 sync ${BACKUP_DIR}/ s3://gitlab-backups-primary/${DATE}/
fi

# Azure Blob Storage
if command -v az &gt;/dev/null 2&gt;&amp;1; then
    az storage blob upload-batch --source ${BACKUP_DIR} --destination gitlab-backups --destination-path ${DATE}
fi

# Google Cloud Storage
if command -v gsutil &gt;/dev/null 2&gt;&amp;1; then
    gsutil -m cp -r ${BACKUP_DIR}/* gs://gitlab-backups-gcs/${DATE}/
fi

# Verify backup integrity
echo &quot;Verifying backup integrity...&quot;
LATEST_BACKUP=$(ls -t /var/opt/gitlab/backups/*_gitlab_backup.tar | head -1)
if [ -n &quot;$LATEST_BACKUP&quot; ]; then
    if tar -tf &quot;$LATEST_BACKUP&quot; &gt;/dev/null 2&gt;&amp;1; then
        echo &quot;✓ Backup integrity verified&quot;
    else
        echo &quot;✗ Backup integrity check failed&quot;
        echo &quot;GitLab backup integrity check failed&quot; | mail -s &quot;GitLab Backup Integrity Alert&quot; $EMAIL
    fi
fi

# Cleanup old backups
echo &quot;Cleaning up old backups...&quot;
find /var/opt/gitlab/backups/ -name &quot;*_gitlab_backup.tar&quot; -mtime +${RETENTION_DAYS} -delete
find ${BACKUP_DIR} -name &quot;gitlab-*&quot; -type f -mtime +${RETENTION_DAYS} -delete

# Send success notification
echo &quot;GitLab backup completed successfully on $(date)&quot; | mail -s &quot;GitLab Backup Success&quot; $EMAIL

echo &quot;$(date): GitLab backup process completed successfully&quot;
EOF

sudo chmod +x /usr/local/bin/gitlab-backup-complete.sh

# Schedule daily backups at 2 AM
echo &quot;0 2 * * * root /usr/local/bin/gitlab-backup-complete.sh&quot; | sudo tee -a /etc/crontab</code></pre>
      </div>
    </div>
<h3 id="disaster-recovery-procedures" class="mobile-header">Disaster Recovery Procedures</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create disaster recovery script
sudo tee /usr/local/bin/gitlab-disaster-recovery.sh &lt;&lt;&#039;EOF&#039;
#!/bin/bash
BACKUP_FILE=&quot;${1}&quot;
CONFIG_BACKUP=&quot;${2}&quot;

if [ -z &quot;$BACKUP_FILE&quot; ] || [ -z &quot;$CONFIG_BACKUP&quot; ]; then
    echo &quot;Usage: $0 &lt;backup_file&gt; &lt;config_backup&gt;&quot;
    echo &quot;Available backups:&quot;
    ls -la /var/opt/gitlab/backups/*_gitlab_backup.tar 2&gt;/dev/null || echo &quot;No local backups found&quot;
    exit 1
fi

echo &quot;$(date): Starting GitLab disaster recovery process...&quot;

# Pre-recovery checks
echo &quot;Performing pre-recovery checks...&quot;
if ! command -v gitlab-ctl &gt;/dev/null 2&gt;&amp;1; then
    echo &quot;GitLab not installed. Please install GitLab first.&quot;
    exit 1
fi

# Stop GitLab services
echo &quot;Stopping GitLab services...&quot;
gitlab-ctl stop unicorn
gitlab-ctl stop puma  
gitlab-ctl stop sidekiq
gitlab-ctl stop workhorse
gitlab-ctl stop gitaly

# Backup current installation (if any)
if [ -d /var/opt/gitlab/git-data ]; then
    echo &quot;Backing up current installation...&quot;
    mv /var/opt/gitlab /var/opt/gitlab.backup.$(date +%s)
    mkdir -p /var/opt/gitlab
fi

# Restore configuration
echo &quot;Restoring configuration files...&quot;
if [ -f &quot;$CONFIG_BACKUP&quot; ]; then
    cd /
    tar -xzf &quot;$CONFIG_BACKUP&quot;
else
    echo &quot;Configuration backup not found: $CONFIG_BACKUP&quot;
    exit 1
fi

# Reconfigure GitLab with restored configuration
echo &quot;Reconfiguring GitLab...&quot;
gitlab-ctl reconfigure

# Restore GitLab backup
echo &quot;Restoring GitLab backup...&quot;
BACKUP_NAME=$(basename &quot;$BACKUP_FILE&quot; _gitlab_backup.tar)
if gitlab-backup restore BACKUP=&quot;$BACKUP_NAME&quot; force=yes; then
    echo &quot;✓ GitLab backup restored successfully&quot;
else
    echo &quot;✗ GitLab backup restoration failed&quot;
    exit 1
fi

# Start GitLab services
echo &quot;Starting GitLab services...&quot;
gitlab-ctl start

# Wait for services to start
echo &quot;Waiting for services to start...&quot;
sleep 30

# Verify installation
echo &quot;Verifying GitLab installation...&quot;
if gitlab-rake gitlab:check SANITIZE=true; then
    echo &quot;✓ GitLab installation verified successfully&quot;
else
    echo &quot;⚠ GitLab verification completed with warnings&quot;
fi

# Run database migrations (if needed)
echo &quot;Running database migrations...&quot;
gitlab-rake db:migrate

echo &quot;$(date): GitLab disaster recovery completed&quot;
echo &quot;Please verify the installation manually and check all services&quot;
EOF

sudo chmod +x /usr/local/bin/gitlab-disaster-recovery.sh</code></pre>
      </div>
    </div>
<h3 id="point-in-time-recovery" class="mobile-header">Point-in-Time Recovery</h3>
<div class="mobile-code-block" data-language="ruby">
      <div class="mobile-code-header">
        <span class="mobile-code-language">ruby</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-ruby"># /etc/gitlab/gitlab.rb - Configure for point-in-time recovery

# Enable WAL archiving for PostgreSQL
postgresql[&#039;archive_mode&#039;] = &quot;on&quot;
postgresql[&#039;archive_command&#039;] = &#039;cp %p /var/opt/gitlab/postgresql/archive/%f&#039;
postgresql[&#039;max_wal_senders&#039;] = 3
postgresql[&#039;wal_keep_segments&#039;] = 32
postgresql[&#039;checkpoint_segments&#039;] = 32

# Configure continuous archiving
postgresql[&#039;archive_timeout&#039;] = &#039;60s&#039;
postgresql[&#039;checkpoint_completion_target&#039;] = 0.9

# Backup retention
gitlab_rails[&#039;backup_keep_time&#039;] = 2592000  # 30 days
gitlab_rails[&#039;backup_archive_permissions&#039;] = 0644</code></pre>
      </div>
    </div>
<h2 id="13-troubleshooting" class="mobile-header">13. Troubleshooting</h2>
<h3 id="common-issues-and-solutions" class="mobile-header">Common Issues and Solutions</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># GitLab service diagnostics
sudo tee /usr/local/bin/gitlab-diagnose.sh &lt;&lt;&#039;EOF&#039;
#!/bin/bash
echo &quot;=== GitLab Diagnostic Report ===&quot;
echo &quot;Date: $(date)&quot;
echo &quot;Hostname: $(hostname)&quot;
echo &quot;GitLab Version: $(gitlab-rake gitlab:env:info | grep &quot;GitLab information&quot; -A 5)&quot;
echo

echo &quot;=== Service Status ===&quot;
sudo gitlab-ctl status
echo

echo &quot;=== Memory Usage ===&quot;
free -h
echo

echo &quot;=== Disk Usage ===&quot;
df -h | grep -E &quot;(gitlab|Filesystem)&quot;
echo

echo &quot;=== GitLab Processes ===&quot;
ps aux | grep -E &quot;(gitlab|unicorn|sidekiq|workhorse|gitaly)&quot; | grep -v grep
echo

echo &quot;=== Database Connectivity ===&quot;
if sudo gitlab-psql -c &quot;SELECT version();&quot; &gt;/dev/null 2&gt;&amp;1; then
    echo &quot;✓ PostgreSQL connection OK&quot;
    sudo gitlab-psql -c &quot;SELECT count(*) as active_connections FROM pg_stat_activity;&quot;
else
    echo &quot;✗ PostgreSQL connection FAILED&quot;
fi
echo

echo &quot;=== Redis Connectivity ===&quot;
if redis-cli ping &gt;/dev/null 2&gt;&amp;1; then
    echo &quot;✓ Redis connection OK&quot;
    redis-cli info memory | grep used_memory_human
else
    echo &quot;✗ Redis connection FAILED&quot;
fi
echo

echo &quot;=== Recent Errors ===&quot;
echo &quot;Last 10 errors from GitLab logs:&quot;
find /var/log/gitlab -name &quot;*.log&quot; -type f -exec grep -l &quot;ERROR\|FATAL&quot; {} \; | head -5 | while read log; do
    echo &quot;--- $log ---&quot;
    tail -5 &quot;$log&quot; | grep -E &quot;ERROR|FATAL&quot; | tail -2
done
echo

echo &quot;=== Network Connectivity ===&quot;
echo &quot;Testing external connectivity:&quot;
if curl -Is https://gitlab.com &gt;/dev/null 2&gt;&amp;1; then
    echo &quot;✓ External connectivity OK&quot;
else
    echo &quot;✗ External connectivity FAILED&quot;
fi

echo &quot;Testing internal services:&quot;
netstat -tlnp | grep -E &quot;(80|443|22|5432|6379)&quot;
echo

echo &quot;=== SSL Certificate Status ===&quot;
if [ -f /etc/gitlab/ssl/gitlab.example.com.crt ]; then
    echo &quot;SSL certificate expires:&quot;
    openssl x509 -in /etc/gitlab/ssl/gitlab.example.com.crt -noout -dates
else
    echo &quot;No SSL certificate found&quot;
fi
EOF

sudo chmod +x /usr/local/bin/gitlab-diagnose.sh</code></pre>
      </div>
    </div>
<h3 id="specific-problem-resolution" class="mobile-header">Specific Problem Resolution</h3>
<p class="mobile-paragraph">#### High Memory Usage</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Reduce memory consumption
sudo tee -a /etc/gitlab/gitlab.rb &lt;&lt;EOF
# Memory optimization for smaller systems
unicorn[&#039;worker_processes&#039;] = 2
sidekiq[&#039;max_concurrency&#039;] = 10
postgresql[&#039;shared_buffers&#039;] = &quot;256MB&quot;
postgresql[&#039;effective_cache_size&#039;] = &quot;1GB&quot;
EOF

sudo gitlab-ctl reconfigure
sudo gitlab-ctl restart</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">#### Database Issues</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Database troubleshooting commands
sudo gitlab-ctl status postgresql
sudo gitlab-psql -d gitlabhq_production

# Check database connections
sudo gitlab-psql -c &quot;SELECT count(*) FROM pg_stat_activity;&quot;

# Check for locks
sudo gitlab-psql -c &quot;SELECT * FROM pg_locks WHERE NOT granted;&quot;

# Vacuum and analyze database
sudo gitlab-psql -c &quot;VACUUM ANALYZE;&quot;

# Check database size
sudo gitlab-psql -c &quot;SELECT pg_database_size(&#039;gitlabhq_production&#039;);&quot;</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">#### Performance Issues</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Check system resources
top -p $(pgrep -d&#039;,&#039; -f gitlab)
iostat -x 1 5
free -h

# Check GitLab worker status
sudo gitlab-ctl status | grep -E &quot;(unicorn|sidekiq)&quot;

# Check background job queue
sudo gitlab-rails runner &quot;puts Sidekiq::Queue.new.size&quot;

# Restart specific services
sudo gitlab-ctl restart sidekiq
sudo gitlab-ctl restart unicorn</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">#### SSL/TLS Issues</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Test SSL configuration
openssl s_client -connect gitlab.example.com:443 -servername gitlab.example.com

# Check certificate chain
openssl s_client -connect gitlab.example.com:443 -showcerts

# Verify certificate
openssl x509 -in /etc/gitlab/ssl/gitlab.example.com.crt -text -noout

# Test cipher suites
nmap --script ssl-enum-ciphers -p 443 gitlab.example.com</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">#### Repository Issues</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Check repository integrity
sudo gitlab-rake gitlab:check:repos

# Recreate authorized_keys file
sudo gitlab-rake gitlab:shell:setup

# Check GitLab Shell
sudo gitlab-rake gitlab:gitlab_shell:check

# Fix repository permissions
sudo gitlab-ctl reconfigure</code></pre>
      </div>
    </div>
<h2 id="14-integration-examples" class="mobile-header">14. Integration Examples</h2>
<h3 id="cicd-pipeline-integration" class="mobile-header">CI/CD Pipeline Integration</h3>
<div class="mobile-code-block" data-language="yaml">
      <div class="mobile-code-header">
        <span class="mobile-code-language">yaml</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-yaml"># .gitlab-ci.yml - Comprehensive CI/CD pipeline
stages:
  - security
  - test
  - build
  - deploy
  - monitor

variables:
  DOCKER_DRIVER: overlay2
  DOCKER_TLS_CERTDIR: &quot;/certs&quot;
  SECURE_LOG_LEVEL: info

# Security scanning stage
include:
  - template: Security/SAST.gitlab-ci.yml
  - template: Security/Dependency-Scanning.gitlab-ci.yml
  - template: Security/Container-Scanning.gitlab-ci.yml
  - template: Security/Secret-Detection.gitlab-ci.yml

# Custom security scans
security:custom-audit:
  stage: security
  image: alpine:latest
  before_script:
    - apk add --no-cache curl jq
  script:
    - echo &quot;Running custom security audit...&quot;
    - |
      # Check for hardcoded secrets
      if grep -r -E &quot;(password|secret|key|token).*=.*[&#039;\&quot;][a-zA-Z0-9]{8,}[&#039;\&quot;]&quot; .; then
        echo &quot;Potential hardcoded secrets found!&quot;
        exit 1
      fi
    - echo &quot;Security audit passed&quot;
  rules:
    - if: &#039;$CI_COMMIT_BRANCH&#039;

# Testing stage
test:unit:
  stage: test
  image: node:18-alpine
  script:
    - npm ci
    - npm run test:unit
  coverage: &#039;/Coverage: \d+\.\d+%/&#039;
  artifacts:
    reports:
      coverage_report:
        coverage_format: cobertura
        path: coverage/cobertura-coverage.xml

test:integration:
  stage: test
  image: docker:latest
  services:
    - docker:dind
  script:
    - docker-compose -f docker-compose.test.yml up --build --exit-code-from app
  artifacts:
    reports:
      junit: test-results.xml

# Build stage
build:docker:
  stage: build
  image: docker:latest
  services:
    - docker:dind
  before_script:
    - docker login -u $CI_REGISTRY_USER -p $CI_REGISTRY_PASSWORD $CI_REGISTRY
  script:
    - docker build -t $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA .
    - docker tag $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA $CI_REGISTRY_IMAGE:latest
    - docker push $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA
    - docker push $CI_REGISTRY_IMAGE:latest
  rules:
    - if: &#039;$CI_COMMIT_BRANCH == &quot;main&quot;&#039;

# Deployment stages
deploy:staging:
  stage: deploy
  image: alpine/kubectl:latest
  script:
    - kubectl config use-context staging
    - kubectl set image deployment/app app=$CI_REGISTRY_IMAGE:$CI_COMMIT_SHA
    - kubectl rollout status deployment/app
  environment:
    name: staging
    url: https://staging.example.com
  rules:
    - if: &#039;$CI_COMMIT_BRANCH == &quot;main&quot;&#039;

deploy:production:
  stage: deploy
  image: alpine/kubectl:latest
  script:
    - kubectl config use-context production
    - kubectl set image deployment/app app=$CI_REGISTRY_IMAGE:$CI_COMMIT_SHA
    - kubectl rollout status deployment/app
  environment:
    name: production
    url: https://app.example.com
  rules:
    - if: &#039;$CI_COMMIT_BRANCH == &quot;main&quot;&#039;
      when: manual

# Monitoring stage
monitor:deployment:
  stage: monitor
  image: curlimages/curl:latest
  script:
    - sleep 60  # Wait for deployment
    - |
      if curl -f https://app.example.com/health; then
        echo &quot;Deployment health check passed&quot;
      else
        echo &quot;Deployment health check failed&quot;
        exit 1
      fi
  rules:
    - if: &#039;$CI_COMMIT_BRANCH == &quot;main&quot;&#039;</code></pre>
      </div>
    </div>
<h3 id="external-service-integrations" class="mobile-header">External Service Integrations</h3>
<p class="mobile-paragraph">#### Slack Integration</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Configure Slack notifications
curl -X POST &quot;https://gitlab.example.com/api/v4/projects/1/services/slack&quot; \
  --header &quot;PRIVATE-TOKEN: $GITLAB_TOKEN&quot; \
  --data-urlencode &quot;webhook=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK&quot; \
  --data-urlencode &quot;channel=#gitlab&quot; \
  --data-urlencode &quot;push_events=true&quot; \
  --data-urlencode &quot;issues_events=true&quot; \
  --data-urlencode &quot;merge_requests_events=true&quot; \
  --data-urlencode &quot;pipeline_events=true&quot;</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">#### Jira Integration</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Configure Jira integration
curl -X PUT &quot;https://gitlab.example.com/api/v4/projects/1/services/jira&quot; \
  --header &quot;PRIVATE-TOKEN: $GITLAB_TOKEN&quot; \
  --data-urlencode &quot;url=https://yourcompany.atlassian.net&quot; \
  --data-urlencode &quot;username=gitlab@company.com&quot; \
  --data-urlencode &quot;password=jira_api_token&quot; \
  --data-urlencode &quot;project_key=PROJ&quot;</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">#### Kubernetes Integration</p>
<div class="mobile-code-block" data-language="ruby">
      <div class="mobile-code-header">
        <span class="mobile-code-language">ruby</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-ruby"># /etc/gitlab/gitlab.rb - Kubernetes integration
gitlab_rails[&#039;kubernetes_enabled&#039;] = true
gitlab_rails[&#039;kubernetes_namespace&#039;] = &#039;gitlab&#039;

# Enable GitLab Agent for Kubernetes
gitlab_rails[&#039;gitlab_kas_enabled&#039;] = true
gitlab_kas[&#039;enable&#039;] = true
gitlab_kas[&#039;listen_address&#039;] = &#039;0.0.0.0:8150&#039;
gitlab_kas[&#039;listen_websocket&#039;] = &#039;0.0.0.0:8151&#039;</code></pre>
      </div>
    </div>
<h2 id="15-maintenance" class="mobile-header">15. Maintenance</h2>
<h3 id="regular-maintenance-tasks" class="mobile-header">Regular Maintenance Tasks</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create maintenance script
sudo tee /usr/local/bin/gitlab-maintenance.sh &lt;&lt;&#039;EOF&#039;
#!/bin/bash
MAINTENANCE_LOG=&quot;/var/log/gitlab-maintenance.log&quot;

echo &quot;$(date): Starting GitLab maintenance&quot; &gt;&gt; $MAINTENANCE_LOG

# Update GitLab to latest version
echo &quot;Checking for GitLab updates...&quot; &gt;&gt; $MAINTENANCE_LOG
if command -v apt-get &gt;/dev/null; then
    apt-get update &amp;&amp; apt-get upgrade gitlab-ee
elif command -v yum &gt;/dev/null; then
    yum update gitlab-ee
elif command -v dnf &gt;/dev/null; then
    dnf update gitlab-ee
fi

# Clean up old log files
echo &quot;Cleaning up old log files...&quot; &gt;&gt; $MAINTENANCE_LOG
find /var/log/gitlab -name &quot;*.log.*&quot; -mtime +30 -delete

# Clean up old backups
echo &quot;Cleaning up old backups...&quot; &gt;&gt; $MAINTENANCE_LOG
find /var/opt/gitlab/backups -name &quot;*_gitlab_backup.tar&quot; -mtime +7 -delete

# Database maintenance
echo &quot;Performing database maintenance...&quot; &gt;&gt; $MAINTENANCE_LOG
sudo gitlab-rake gitlab:cleanup:sessions
sudo gitlab-rake gitlab:cleanup:project_uploads
sudo gitlab-psql -c &quot;VACUUM ANALYZE;&quot;

# Git repository optimization
echo &quot;Optimizing Git repositories...&quot; &gt;&gt; $MAINTENANCE_LOG
sudo gitlab-rake gitlab:cleanup:repos

# Container registry cleanup
echo &quot;Cleaning up container registry...&quot; &gt;&gt; $MAINTENANCE_LOG
sudo gitlab-ctl registry-garbage-collect

# Check system health
echo &quot;Checking system health...&quot; &gt;&gt; $MAINTENANCE_LOG
sudo gitlab-rake gitlab:check SANITIZE=true &gt;&gt; $MAINTENANCE_LOG

echo &quot;$(date): GitLab maintenance completed&quot; &gt;&gt; $MAINTENANCE_LOG
EOF

sudo chmod +x /usr/local/bin/gitlab-maintenance.sh

# Schedule monthly maintenance on first Sunday at 3 AM
echo &quot;0 3 1-7 * 0 root /usr/local/bin/gitlab-maintenance.sh&quot; | sudo tee -a /etc/crontab</code></pre>
      </div>
    </div>
<h3 id="update-procedures" class="mobile-header">Update Procedures</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create update script
sudo tee /usr/local/bin/gitlab-update.sh &lt;&lt;&#039;EOF&#039;
#!/bin/bash
CURRENT_VERSION=$(gitlab-rake gitlab:env:info | grep &quot;GitLab information&quot; | head -1)
BACKUP_DIR=&quot;/backup/pre-update&quot;
EMAIL=&quot;admin@example.com&quot;

echo &quot;Current GitLab version: $CURRENT_VERSION&quot;
echo &quot;Creating pre-update backup...&quot;

# Create backup before update
mkdir -p $BACKUP_DIR
gitlab-backup create BACKUP=$BACKUP_DIR

# Update GitLab
if command -v apt-get &gt;/dev/null; then
    apt-get update
    apt-get install gitlab-ee
elif command -v dnf &gt;/dev/null; then
    dnf update gitlab-ee
fi

# Reconfigure after update
gitlab-ctl reconfigure

# Check installation
if gitlab-rake gitlab:check SANITIZE=true; then
    echo &quot;GitLab update successful&quot; | mail -s &quot;GitLab Update Success&quot; $EMAIL
else
    echo &quot;GitLab update completed with warnings&quot; | mail -s &quot;GitLab Update Warning&quot; $EMAIL
fi

NEW_VERSION=$(gitlab-rake gitlab:env:info | grep &quot;GitLab information&quot; | head -1)
echo &quot;Updated GitLab version: $NEW_VERSION&quot;
EOF

sudo chmod +x /usr/local/bin/gitlab-update.sh</code></pre>
      </div>
    </div>
<h2 id="16-additional-resources" class="mobile-header">16. Additional Resources</h2>
<h3 id="documentation-links" class="mobile-header">Documentation Links</h3>
<li class="mobile-list-item"><strong>Official GitLab Documentation</strong>: https://docs.gitlab.com/</li>
<li class="mobile-list-item"><strong>GitLab Administration Guide</strong>: https://docs.gitlab.com/ee/administration/</li>
<li class="mobile-list-item"><strong>GitLab Security Documentation</strong>: https://docs.gitlab.com/ee/security/</li>
<li class="mobile-list-item"><strong>GitLab CI/CD Documentation</strong>: https://docs.gitlab.com/ee/ci/</li>
<li class="mobile-list-item"><strong>GitLab API Documentation</strong>: https://docs.gitlab.com/ee/api/</li>
<li class="mobile-list-item"><strong>GitLab Runner Documentation</strong>: https://docs.gitlab.com/runner/</li>
<li class="mobile-list-item"><strong>GitLab Container Registry</strong>: https://docs.gitlab.com/ee/user/packages/container_registry/</li>
<li class="mobile-list-item"><strong>GitLab Pages Documentation</strong>: https://docs.gitlab.com/ee/user/project/pages/</li>
<li class="mobile-list-item"><strong>GitLab Geo Documentation</strong>: https://docs.gitlab.com/ee/administration/geo/</li>
<li class="mobile-list-item"><strong>GitLab Kubernetes Integration</strong>: https://docs.gitlab.com/ee/user/clusters/agent/</li>
<h3 id="community-resources" class="mobile-header">Community Resources</h3>
<li class="mobile-list-item"><strong>GitLab Community Forum</strong>: https://forum.gitlab.com/</li>
<li class="mobile-list-item"><strong>GitLab Community Discord</strong>: https://discord.com/invite/gitlab</li>
<li class="mobile-list-item"><strong>GitLab Reddit Community</strong>: https://www.reddit.com/r/gitlab/</li>
<li class="mobile-list-item"><strong>GitLab Stack Overflow</strong>: https://stackoverflow.com/questions/tagged/gitlab</li>
<h3 id="training-and-certification" class="mobile-header">Training and Certification</h3>
<li class="mobile-list-item"><strong>GitLab Learn</strong>: https://about.gitlab.com/learn/</li>
<li class="mobile-list-item"><strong>GitLab University</strong>: https://university.gitlab.com/</li>
<li class="mobile-list-item"><strong>GitLab Certified Associate</strong>: https://about.gitlab.com/services/education/gitlab-certified-associate/</li>
<li class="mobile-list-item"><strong>GitLab Professional Services</strong>: https://about.gitlab.com/services/</li>
<h3 id="tools-and-utilities" class="mobile-header">Tools and Utilities</h3>
<li class="mobile-list-item"><strong>GitLab CLI (glab)</strong>: https://gitlab.com/gitlab-org/cli</li>
<li class="mobile-list-item"><strong>GitLab Terraform Provider</strong>: https://registry.terraform.io/providers/gitlabhq/gitlab/</li>
<li class="mobile-list-item"><strong>GitLab Ansible Collection</strong>: https://galaxy.ansible.com/gitlab/gitlab</li>
<li class="mobile-list-item"><strong>GitLab Helm Chart</strong>: https://docs.gitlab.com/charts/</li>
<li class="mobile-list-item"><strong>GitLab Docker Images</strong>: https://hub.docker.com/u/gitlab</li>
<h3 id="security-resources" class="mobile-header">Security Resources</h3>
<li class="mobile-list-item"><strong>GitLab Security Team</strong>: https://about.gitlab.com/security/</li>
<li class="mobile-list-item"><strong>GitLab Bug Bounty Program</strong>: https://about.gitlab.com/security/disclosure/</li>
<li class="mobile-list-item"><strong>GitLab Security Advisories</strong>: https://about.gitlab.com/security/advisories/</li>
<li class="mobile-list-item"><strong>GitLab Compliance</strong>: https://about.gitlab.com/compliance/</li>
<h3 id="performance-and-scaling" class="mobile-header">Performance and Scaling</h3>
<li class="mobile-list-item"><strong>GitLab Reference Architectures</strong>: https://docs.gitlab.com/ee/administration/reference_architectures/</li>
<li class="mobile-list-item"><strong>GitLab Performance Monitoring</strong>: https://docs.gitlab.com/ee/administration/monitoring/performance/</li>
<li class="mobile-list-item"><strong>GitLab Scaling and High Availability</strong>: https://docs.gitlab.com/ee/administration/high_availability/</li>
<p class="mobile-paragraph">---</p>
<p class="mobile-paragraph"><strong>Note:</strong> This guide covers native OS installations of GitLab across multiple platforms with enterprise-grade security, monitoring, and maintenance procedures. For specific enterprise features, consider GitLab Enterprise Edition. This guide is part of the <a href="https://howtomgr.github.io" target="_blank" rel="noopener" class="mobile-link">HowToMgr</a> collection.</p></div></article><section class="jsx-64efd206b36bc2dd related-section"><h2 class="jsx-64efd206b36bc2dd section-title">Related <!-- -->Git repositories<!-- --> Guides</h2><div class="jsx-64efd206b36bc2dd mobile-grid"><a class="mobile-card" href="/git-repositories/gitea/"><div class="jsx-64efd206b36bc2dd mobile-card-header"><h3 class="jsx-64efd206b36bc2dd mobile-card-title">gitea Installation Guide</h3><p class="jsx-64efd206b36bc2dd mobile-card-description">gitea is a free and open-source lightweight self-hosted Git service. Written in Go, Gitea provides a lightweight alternative to GitHub, GitLab, or Bitbucket for self-hosted Git repository management</p></div><div class="jsx-64efd206b36bc2dd mobile-card-meta"><span class="jsx-64efd206b36bc2dd mobile-badge mobile-badge-info">7 min</span></div></a></div></section><nav class="jsx-64efd206b36bc2dd guide-navigation"><a class="btn btn-secondary" href="/git-repositories/">← All <!-- -->Git repositories</a><a class="btn btn-secondary" href="/">All Categories</a></nav></div></main><footer class="jsx-f92e766e9414ef16 mobile-footer"><div class="jsx-f92e766e9414ef16 container"><div class="jsx-f92e766e9414ef16 footer-content"><div class="jsx-f92e766e9414ef16 footer-links"><a href="/">Home</a><a href="https://github.com/howtomgr" target="_blank" rel="noopener" class="jsx-f92e766e9414ef16">GitHub</a><a href="https://github.com/howtomgr/howtomgr.github.io" target="_blank" rel="noopener" class="jsx-f92e766e9414ef16">Source</a></div><div class="jsx-f92e766e9414ef16 footer-separator"></div><p class="jsx-f92e766e9414ef16 footer-text">© <!-- -->2025<!-- --> HowToMgr Organization. Open source installation guides.</p><p class="jsx-f92e766e9414ef16 footer-tech">Built with ❤️ using Next.js + GitHub Pages</p><p class="jsx-f92e766e9414ef16 footer-disclaimer"><small class="jsx-f92e766e9414ef16">All guides are provided as-is. Please review and test before production use.</small></p></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"guide":{"name":"gitlab","displayName":"GitLab Installation and Configuration Guide","slug":"gitlab","description":"Gitlab installation and configuration guide","category":"git-repositories","subcategory":"git-repositories","difficultyLevel":"intermediate","estimatedSetupTime":"15-30 minutes","supportedOS":["rhel","centos","rocky","almalinux","debian","ubuntu","arch","alpine","opensuse","sles","macos","freebsd","windows"],"defaultPorts":[1,2,5,10,18,22,80,443,514,5000,8080,8082,8090,8091,8150,8151,8181,8404,9090,9093,9100,9121,9168,9187,9229,9236],"installationMethods":["native-packages","source-compilation"],"features":["multi-os-support","comprehensive-documentation","security-hardening","performance-optimization","backup-restore-procedures","troubleshooting-guides"],"tags":["git-repositories","containerization","orchestration","observability","data-storage","web-services","networking","security","data-protection","communication"],"maintenanceStatus":"active","specVersion":"2.0","version":"1.0.0","license":"Open Source","websiteUrl":"https://howtomgr.github.io/git-repositories/gitlab","documentationUrl":"https://howtomgr.github.io/git-repositories/gitlab","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/gitlab","updatedAt":"2025-09-16T17:15:53Z","createdAt":"2025-09-08T03:07:56Z","readmeRaw":"# GitLab Installation and Configuration Guide\n\n\n\n## Table of Contents\n1. [Prerequisites](#prerequisites)\n2. [Supported Operating Systems](#supported-operating-systems)\n3. [Installation](#installation)\n4. [Configuration](#configuration)\n5. [Service Management](#service-management)\n6. [Troubleshooting](#troubleshooting)\n7. [Security Considerations](#security-considerations)\n8. [Performance Tuning](#performance-tuning)\n9. [Backup and Restore](#backup-and-restore)\n10. [System Requirements](#system-requirements)\n11. [Support](#support)\n12. [Contributing](#contributing)\n13. [License](#license)\n14. [Acknowledgments](#acknowledgments)\n15. [Version History](#version-history)\n16. [Appendices](#appendices)\n\n## 1. Introduction\n\nGitLab is a comprehensive DevOps platform that provides Git repository management, CI/CD pipelines, issue tracking, container registry, and security scanning capabilities. As a Free and Open Source Software (FOSS) solution, GitLab Community Edition offers robust features for teams of all sizes, while GitLab Enterprise Edition provides additional advanced features for enterprise environments.\n\n### FOSS Context\nGitLab Community Edition (CE) is released under the MIT License and provides:\n- Core Git repository management\n- Issue tracking and project management\n- Integrated CI/CD with GitLab Runner\n- Built-in container registry\n- Merge request workflows\n- Wiki and documentation\n- Security scanning (basic)\n\nGitLab Enterprise Edition (EE) extends CE with premium features including advanced security scanning, compliance management, geo-replication, and enterprise authentication integrations.\n\n### Key Features\n- **Repository Management**: Git-based version control with advanced merge request workflows\n- **CI/CD Platform**: Integrated continuous integration and deployment with GitLab Runner\n- **Container Registry**: Built-in Docker registry with vulnerability scanning\n- **Security**: SAST, DAST, dependency scanning, and secret detection\n- **Project Management**: Issue tracking, milestones, and agile planning tools\n- **Monitoring**: Performance monitoring and error tracking\n- **Authentication**: LDAP, SAML, OAuth, and multi-factor authentication support\n\n## 2. Prerequisites\n\n### 10. System Requirements\n- **Operating System**: Linux (RHEL/CentOS 8+, Ubuntu 20.04+, Debian 10+, SUSE Linux, Arch Linux), macOS 10.15+, Windows 10/11, or FreeBSD 12+\n- **Memory**: 8GB RAM minimum, 16GB+ recommended for production, 32GB+ for large installations\n- **CPU**: 4 cores minimum, 8+ recommended for production\n- **Storage**: 50GB+ available disk space, SSD strongly recommended for database and Git repositories\n- **Network**: Stable internet connection, open ports 80, 443, and 22 (or custom SSH port)\n\n### Required Software Dependencies\n- **Package Manager**: apt (Debian/Ubuntu), yum/dnf (RHEL/CentOS/Fedora), pacman (Arch), zypper (openSUSE), pkg (FreeBSD)\n- **System Tools**: curl, wget, openssh-server, ca-certificates, tzdata, perl\n- **Mail Transfer Agent**: Postfix, Sendmail, or external SMTP service\n- **Firewall**: firewalld, ufw, or iptables for security configuration\n\n### Network Requirements\n- **Domain Name**: Fully qualified domain name for external access\n- **SSL Certificates**: Valid SSL/TLS certificates for production deployment (Let's Encrypt recommended)\n- **Firewall Ports**: \n  - 80/tcp (HTTP, redirects to HTTPS)\n  - 443/tcp (HTTPS)\n  - 22/tcp or custom port (SSH/Git)\n  - 2222/tcp (GitLab Shell SSH, if configured)\n- **SMTP Server**: For email notifications (password resets, notifications, etc.)\n\n### Optional Components\n- **External Database**: PostgreSQL 12+ for high availability setups\n- **External Redis**: Redis 6+ for session storage and caching\n- **Object Storage**: S3-compatible storage for artifacts, uploads, and backups\n- **Load Balancer**: For multi-node GitLab installations\n- **Monitoring**: Prometheus, Grafana for advanced monitoring\n\n## 3. Installation\n\nGitLab provides native packages for all major operating systems. The Omnibus package is the recommended installation method as it includes all dependencies and provides automatic updates.\n\n### RHEL/CentOS/Rocky Linux/AlmaLinux\n\n#### RHEL/CentOS 8+ / Rocky Linux / AlmaLinux\n```bash\n# Update system packages\nsudo dnf update -y\n\n# Install required dependencies\nsudo dnf install -y curl policycoreutils-python-utils openssh-server perl postfix\n\n# Enable and start required services\nsudo systemctl enable --now sshd postfix\n\n# Configure SELinux policies for GitLab\nsudo setsebool -P httpd_can_network_connect 1\nsudo setsebool -P httpd_can_network_relay 1\nsudo setsebool -P httpd_read_user_content 1\nsudo setsebool -P httpd_enable_homedirs 1\n\n# Configure firewall rules\nsudo firewall-cmd --permanent --add-service=http\nsudo firewall-cmd --permanent --add-service=https\nsudo firewall-cmd --permanent --add-service=ssh\nsudo firewall-cmd --permanent --add-port=2222/tcp\nsudo firewall-cmd --reload\n\n# Add GitLab official repository\ncurl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash\n\n# Install GitLab Enterprise Edition\nsudo EXTERNAL_URL=\"https://gitlab.example.com\" dnf install -y gitlab-ee\n\n# For Community Edition instead:\n# sudo EXTERNAL_URL=\"https://gitlab.example.com\" dnf install -y gitlab-ce\n\n# Initial configuration and start services\nsudo gitlab-ctl reconfigure\n\n# Check installation status\nsudo gitlab-ctl status\n```\n\n#### RHEL/CentOS 7 (Legacy)\n```bash\n# Install dependencies\nsudo yum install -y curl policycoreutils-python openssh-server perl postfix\n\n# Configure services\nsudo systemctl enable --now sshd postfix\nsudo lokkit -s http -s https -s ssh\n\n# Add repository and install\ncurl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash\nsudo EXTERNAL_URL=\"https://gitlab.example.com\" yum install -y gitlab-ee\nsudo gitlab-ctl reconfigure\n```\n\n### Debian/Ubuntu\n\n#### Ubuntu 20.04+ / Debian 10+\n```bash\n# Update package repositories\nsudo apt-get update\n\n# Install required dependencies\nsudo apt-get install -y curl openssh-server ca-certificates tzdata perl postfix gpg\n\n# Configure Postfix for email (choose 'Internet Site' for basic setup)\nsudo dpkg-reconfigure postfix\n\n# Configure UFW firewall (if enabled)\nsudo ufw allow ssh\nsudo ufw allow http\nsudo ufw allow https\nsudo ufw allow 2222/tcp\n\n# Add GitLab official repository\ncurl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.deb.sh | sudo bash\n\n# Install GitLab Enterprise Edition\nsudo EXTERNAL_URL=\"https://gitlab.example.com\" apt-get install -y gitlab-ee\n\n# For Community Edition instead:\n# sudo EXTERNAL_URL=\"https://gitlab.example.com\" apt-get install -y gitlab-ce\n\n# Initial configuration and start services\nsudo gitlab-ctl reconfigure\n\n# Verify installation\nsudo gitlab-ctl status\n```\n\n### Arch Linux\n\n```bash\n# Update system packages\nsudo pacman -Syu\n\n# Install required dependencies\nsudo pacman -S curl openssh postfix\n\n# Enable and start services\nsudo systemctl enable --now sshd postfix\n\n# Install GitLab from AUR (using yay helper)\nyay -S gitlab-ee\n\n# Or install GitLab Community Edition\n# yay -S gitlab\n\n# Configure GitLab\nsudo vim /etc/gitlab/gitlab.rb\n# Set: external_url 'https://gitlab.example.com'\n\n# Initial configuration\nsudo gitlab-ctl reconfigure\n\n# Enable GitLab service\nsudo systemctl enable gitlab-runsvdir\nsudo systemctl start gitlab-runsvdir\n```\n\n### Alpine Linux\n\n```bash\n# Update package index\nsudo apk update\n\n# Install required packages\nsudo apk add curl openssh postfix\n\n# Enable services\nsudo rc-update add sshd default\nsudo rc-update add postfix default\nsudo rc-service sshd start\nsudo rc-service postfix start\n\n# Add GitLab repository key\nwget -O /etc/apk/keys/gitlab.rsa.pub https://packages.gitlab.com/gitlab/gitlab-ee/gpgkey/gitlab-gitlab-ee-3D645A26AB9FBD22.rsa.pub\n\n# Add GitLab repository\necho \"https://packages.gitlab.com/gitlab/gitlab-ee/alpine/v$(cat /etc/alpine-release | cut -d'.' -f1-2)/main\" \u003e\u003e /etc/apk/repositories\n\n# Update and install GitLab\nsudo apk update\nsudo apk add gitlab-ee\n\n# Configure external URL\necho \"external_url 'https://gitlab.example.com'\" \u003e\u003e /etc/gitlab/gitlab.rb\n\n# Reconfigure and start\nsudo gitlab-ctl reconfigure\n```\n\n### openSUSE/SLES\n\n```bash\n# Install dependencies (openSUSE)\nsudo zypper install -y curl openssh postfix\n\n# For SLES\n# sudo zypper install -y curl openssh2 postfix\n\n# Enable services\nsudo systemctl enable --now sshd postfix\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-service=http\nsudo firewall-cmd --permanent --add-service=https\nsudo firewall-cmd --permanent --add-service=ssh\nsudo firewall-cmd --reload\n\n# Add GitLab repository\ncurl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash\n\n# Install GitLab\nsudo EXTERNAL_URL=\"https://gitlab.example.com\" zypper install -y gitlab-ee\n\n# Configure and start\nsudo gitlab-ctl reconfigure\n```\n\n### macOS\n\n```bash\n# Install Homebrew if not already installed\n/bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\"\n\n# Install required dependencies\nbrew install curl git postfix\n\n# Start postfix service\nsudo launchctl load -w /System/Library/LaunchDaemons/com.apple.postfix.master.plist\n\n# Install GitLab using official installer\ncurl -LO https://packages.gitlab.com/gitlab/gitlab-ee/packages/el/8/gitlab-ee-latest.x86_64.rpm\n\n# Note: GitLab doesn't provide native macOS packages\n# Recommended to use Docker for macOS installations:\n\n# Create GitLab directories\nsudo mkdir -p /srv/gitlab/{config,logs,data}\n\n# Set environment variables\nexport GITLAB_HOME=/srv/gitlab\n\n# Run GitLab container\ndocker run --detach \\\n  --hostname gitlab.example.com \\\n  --publish 443:443 --publish 80:80 --publish 2222:22 \\\n  --name gitlab \\\n  --restart unless-stopped \\\n  --volume $GITLAB_HOME/config:/etc/gitlab \\\n  --volume $GITLAB_HOME/logs:/var/log/gitlab \\\n  --volume $GITLAB_HOME/data:/var/opt/gitlab \\\n  --shm-size 256m \\\n  --env GITLAB_OMNIBUS_CONFIG=\"external_url 'https://gitlab.example.com'\" \\\n  gitlab/gitlab-ee:latest\n```\n\n### FreeBSD\n\n```bash\n# Update ports tree\nsudo portsnap fetch extract\n\n# Install required ports\nsudo pkg install curl openssh-portable postfix git\n\n# Enable services\nsudo sysrc sshd_enable=\"YES\"\nsudo sysrc postfix_enable=\"YES\"\nsudo service sshd start\nsudo service postfix start\n\n# Configure firewall (if pf is enabled)\necho 'pass in on $ext_if proto tcp from any to any port {22, 80, 443, 2222}' \u003e\u003e /etc/pf.conf\nsudo pfctl -f /etc/pf.conf\n\n# GitLab doesn't provide official FreeBSD packages\n# Install using source compilation or Docker:\n\n# Docker method (install Docker first)\nsudo pkg install docker\nsudo sysrc docker_enable=\"YES\"\nsudo service docker start\n\n# Run GitLab container\nsudo docker run --detach \\\n  --hostname gitlab.example.com \\\n  --publish 443:443 --publish 80:80 --publish 2222:22 \\\n  --name gitlab \\\n  --restart unless-stopped \\\n  --volume /usr/local/gitlab/config:/etc/gitlab \\\n  --volume /usr/local/gitlab/logs:/var/log/gitlab \\\n  --volume /usr/local/gitlab/data:/var/opt/gitlab \\\n  --shm-size 256m \\\n  gitlab/gitlab-ee:latest\n```\n\n### Windows\n\nGitLab does not provide native Windows packages. Use Docker Desktop or WSL2 with Linux installation.\n\n#### Windows with Docker Desktop\n```powershell\n# Install Docker Desktop from https://www.docker.com/products/docker-desktop\n\n# Create GitLab directories\nmkdir C:\\gitlab\\config\nmkdir C:\\gitlab\\logs\nmkdir C:\\gitlab\\data\n\n# Run GitLab container\ndocker run --detach `\n  --hostname gitlab.example.com `\n  --publish 443:443 --publish 80:80 --publish 2222:22 `\n  --name gitlab `\n  --restart unless-stopped `\n  --volume C:\\gitlab\\config:/etc/gitlab `\n  --volume C:\\gitlab\\logs:/var/log/gitlab `\n  --volume C:\\gitlab\\data:/var/opt/gitlab `\n  --shm-size 256m `\n  --env GITLAB_OMNIBUS_CONFIG=\"external_url 'https://gitlab.example.com'\" `\n  gitlab/gitlab-ee:latest\n```\n\n#### Windows with WSL2\n```bash\n# Enable WSL2 and install Ubuntu\nwsl --install -d Ubuntu\n\n# Switch to WSL2 Ubuntu environment\nwsl\n\n# Follow Ubuntu installation instructions above\nsudo apt-get update\nsudo apt-get install -y curl openssh-server ca-certificates tzdata perl postfix gpg\ncurl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.deb.sh | sudo bash\nsudo EXTERNAL_URL=\"https://gitlab.example.com\" apt-get install -y gitlab-ee\nsudo gitlab-ctl reconfigure\n```\n\n## 4. Initial Configuration\n\nAfter installation, GitLab requires initial configuration to set up the root password and basic settings.\n\n### First-time Setup\n\n1. **Access GitLab Web Interface**\n   ```bash\n   # Wait for GitLab to fully start (may take 2-3 minutes)\n   sudo gitlab-ctl status\n   \n   # Check GitLab is responding\n   curl -I http://localhost\n   ```\n\n2. **Retrieve Initial Root Password**\n   ```bash\n   # Get the initial root password\n   sudo cat /etc/gitlab/initial_root_password\n   ```\n\n3. **Web Interface Setup**\n   - Navigate to `https://your-domain.com` or `http://your-server-ip`\n   - Login with username: `root` and the password from step 2\n   - Set a new secure root password immediately\n   - Complete the initial setup wizard\n\n### Basic Configuration File Setup\n\nEdit the main configuration file:\n```bash\nsudo vim /etc/gitlab/gitlab.rb\n```\n\nEssential initial settings:\n```ruby\n# External URL (replace with your domain)\nexternal_url 'https://gitlab.example.com'\n\n# Email configuration\ngitlab_rails['gitlab_email_enabled'] = true\ngitlab_rails['gitlab_email_from'] = 'gitlab@example.com'\ngitlab_rails['gitlab_email_display_name'] = 'GitLab'\n\n# SMTP configuration (example with Gmail)\ngitlab_rails['smtp_enable'] = true\ngitlab_rails['smtp_address'] = \"smtp.gmail.com\"\ngitlab_rails['smtp_port'] = 587\ngitlab_rails['smtp_user_name'] = \"gitlab@example.com\"\ngitlab_rails['smtp_password'] = \"app_password\"\ngitlab_rails['smtp_domain'] = \"gmail.com\"\ngitlab_rails['smtp_authentication'] = \"login\"\ngitlab_rails['smtp_enable_starttls_auto'] = true\ngitlab_rails['smtp_tls'] = false\n\n# Time zone\ngitlab_rails['time_zone'] = 'UTC'\n\n# GitLab Shell SSH port (if different from 22)\ngitlab_rails['gitlab_shell_ssh_port'] = 2222\n```\n\nApply configuration changes:\n```bash\nsudo gitlab-ctl reconfigure\nsudo gitlab-ctl restart\n```\n\n### SSL/TLS Configuration\n\n#### Let's Encrypt (Recommended)\n```bash\n# Enable Let's Encrypt in gitlab.rb\nsudo vim /etc/gitlab/gitlab.rb\n```\n\nAdd these settings:\n```ruby\n# Enable Let's Encrypt\nletsencrypt['enable'] = true\nletsencrypt['contact_emails'] = ['admin@example.com']\nletsencrypt['auto_renew'] = true\n\n# Force HTTPS\nnginx['redirect_http_to_https'] = true\nnginx['ssl_protocols'] = \"TLSv1.2 TLSv1.3\"\n```\n\nReconfigure to activate SSL:\n```bash\nsudo gitlab-ctl reconfigure\n```\n\n#### Manual SSL Certificate\n```bash\n# Create SSL directory\nsudo mkdir -p /etc/gitlab/ssl\n\n# Copy your certificates (replace with your actual cert files)\nsudo cp your-certificate.crt /etc/gitlab/ssl/gitlab.example.com.crt\nsudo cp your-private-key.key /etc/gitlab/ssl/gitlab.example.com.key\n\n# Set proper permissions\nsudo chmod 600 /etc/gitlab/ssl/gitlab.example.com.key\nsudo chmod 644 /etc/gitlab/ssl/gitlab.example.com.crt\n```\n\nConfigure in gitlab.rb:\n```ruby\nexternal_url 'https://gitlab.example.com'\nnginx['ssl_certificate'] = \"/etc/gitlab/ssl/gitlab.example.com.crt\"\nnginx['ssl_certificate_key'] = \"/etc/gitlab/ssl/gitlab.example.com.key\"\n```\n\n## 5. Service Management\n\nGitLab uses the `gitlab-ctl` command for service management across all platforms.\n\n### Service Control Commands\n\n```bash\n# Check status of all services\nsudo gitlab-ctl status\n\n# Start all GitLab services\nsudo gitlab-ctl start\n\n# Stop all GitLab services  \nsudo gitlab-ctl stop\n\n# Restart all GitLab services\nsudo gitlab-ctl restart\n\n# Restart specific service\nsudo gitlab-ctl restart nginx\nsudo gitlab-ctl restart unicorn\nsudo gitlab-ctl restart sidekiq\n\n# Reload configuration without restart\nsudo gitlab-ctl reconfigure\n\n# Show service logs\nsudo gitlab-ctl tail\nsudo gitlab-ctl tail nginx\nsudo gitlab-ctl tail unicorn\nsudo gitlab-ctl tail postgresql\n```\n\n### Service Status Monitoring\n\n```bash\n# Detailed service status\nsudo gitlab-ctl service-list\n\n# Check specific service\nsudo gitlab-ctl status nginx\nsudo gitlab-ctl status postgresql\nsudo gitlab-ctl status redis\n\n# Monitor service logs in real-time\nsudo gitlab-ctl tail -f gitlab-workhorse\nsudo gitlab-ctl tail -f sidekiq\n\n# Check GitLab application status\nsudo gitlab-rake gitlab:check\n\n# Environment information\nsudo gitlab-rake gitlab:env:info\n```\n\n### Systemd Integration\n\nOn systems with systemd, GitLab services are managed through systemd:\n\n```bash\n# Enable GitLab to start at boot\nsudo systemctl enable gitlab-runsvdir.service\n\n# Start GitLab services\nsudo systemctl start gitlab-runsvdir.service\n\n# Check systemd status\nsudo systemctl status gitlab-runsvdir.service\n\n# Stop GitLab services\nsudo systemctl stop gitlab-runsvdir.service\n\n# Check GitLab logs through journald\nsudo journalctl -u gitlab-runsvdir.service -f\n```\n\n### Service Configuration\n\nIndividual service configuration in `/etc/gitlab/gitlab.rb`:\n\n```ruby\n# Unicorn (web server) settings\nunicorn['worker_processes'] = 4\nunicorn['worker_memory_limit_min'] = \"400m\"\nunicorn['worker_memory_limit_max'] = \"650m\"\n\n# Sidekiq (background jobs) settings  \nsidekiq['max_concurrency'] = 25\nsidekiq['log_format'] = 'json'\n\n# GitLab Workhorse settings\ngitlab_workhorse['listen_network'] = \"tcp\"\ngitlab_workhorse['listen_addr'] = \"127.0.0.1:8181\"\n\n# NGINX settings\nnginx['listen_port'] = 80\nnginx['listen_https'] = false  # Use with reverse proxy\nnginx['client_max_body_size'] = '250m'\n```\n\n## 6. Advanced Configuration\n\n### Performance Optimization\n\nConfigure GitLab for optimal performance based on your hardware resources:\n\n```ruby\n# /etc/gitlab/gitlab.rb - Performance settings\n\n# Unicorn web server optimization\nunicorn['worker_processes'] = 8  # Number of CPU cores\nunicorn['worker_memory_limit_min'] = \"400m\"\nunicorn['worker_memory_limit_max'] = \"650m\"\nunicorn['worker_timeout'] = 60\n\n# Sidekiq background job optimization\nsidekiq['max_concurrency'] = 25\nsidekiq['min_concurrency'] = 10\nsidekiq['log_format'] = 'json'\n\n# PostgreSQL optimization\npostgresql['shared_buffers'] = \"2GB\"\npostgresql['effective_cache_size'] = \"8GB\"\npostgresql['work_mem'] = \"16MB\"\npostgresql['maintenance_work_mem'] = \"256MB\"\npostgresql['max_connections'] = 300\npostgresql['checkpoint_completion_target'] = 0.9\npostgresql['wal_buffers'] = \"16MB\"\npostgresql['random_page_cost'] = 1.1\n\n# Redis optimization\nredis['maxmemory'] = \"1gb\"\nredis['maxmemory_policy'] = \"allkeys-lru\"\nredis['tcp_keepalive'] = 300\nredis['tcp_timeout'] = 60\n\n# Gitaly optimization (Git RPC service)\ngitaly['ruby_max_rss'] = 300000000  # 300MB\ngitaly['concurrency'] = [\n  {\n    'rpc' =\u003e \"/gitaly.SmartHTTPService/PostReceivePack\",\n    'max_per_repo' =\u003e 3\n  },\n  {\n    'rpc' =\u003e \"/gitaly.SSHService/SSHUploadPack\",\n    'max_per_repo' =\u003e 3\n  }\n]\n\n# File system optimization\ngit_data_dirs({\n  \"default\" =\u003e {\n    \"path\" =\u003e \"/var/opt/gitlab/git-data\"\n  }\n})\n\n# Logging optimization\nlogging['svlogd_size'] = 200 * 1024 * 1024  # 200MB\nlogging['svlogd_num'] = 30\nlogging['logrotate_frequency'] = \"daily\"\nlogging['logrotate_rotate'] = 30\n```\n\n### Enterprise Features Configuration\n\n```ruby\n# LDAP/Active Directory integration\ngitlab_rails['ldap_enabled'] = true\ngitlab_rails['ldap_servers'] = {\n  'main' =\u003e {\n    'label' =\u003e 'LDAP',\n    'host' =\u003e 'ldap.example.com',\n    'port' =\u003e 636,\n    'uid' =\u003e 'sAMAccountName',\n    'bind_dn' =\u003e 'CN=gitlab,OU=Service Accounts,DC=example,DC=com',\n    'password' =\u003e 'ldap_service_password',\n    'encryption' =\u003e 'ssl',\n    'verify_certificates' =\u003e true,\n    'base' =\u003e 'DC=example,DC=com',\n    'user_filter' =\u003e '',\n    'attributes' =\u003e {\n      'username' =\u003e ['uid', 'userid', 'sAMAccountName'],\n      'email' =\u003e ['mail', 'email', 'userPrincipalName'],\n      'name' =\u003e 'cn',\n      'first_name' =\u003e 'givenName',\n      'last_name' =\u003e 'sn'\n    },\n    'group_base' =\u003e 'OU=Groups,DC=example,DC=com',\n    'admin_group' =\u003e 'GitLab Administrators'\n  }\n}\n\n# SAML SSO configuration\ngitlab_rails['omniauth_enabled'] = true\ngitlab_rails['omniauth_allow_single_sign_on'] = ['saml']\ngitlab_rails['omniauth_block_auto_created_users'] = false\ngitlab_rails['omniauth_auto_link_saml_user'] = true\ngitlab_rails['omniauth_providers'] = [\n  {\n    name: 'saml',\n    args: {\n      assertion_consumer_service_url: 'https://gitlab.example.com/users/auth/saml/callback',\n      idp_cert_fingerprint: 'SAML_IDP_CERT_FINGERPRINT',\n      idp_sso_target_url: 'https://idp.example.com/sso/saml',\n      issuer: 'https://gitlab.example.com',\n      name_identifier_format: 'urn:oasis:names:tc:SAML:2.0:nameid-format:emailAddress'\n    },\n    label: 'Company SSO'\n  }\n]\n\n# Geo replication (Enterprise Premium)\ngitlab_rails['geo_primary_role'] = true\ngitlab_rails['geo_node_name'] = 'primary-site'\ngitlab_rails['geo_registry_replication_enabled'] = true\n\n# Advanced security features\ngitlab_rails['security_auto_fix_enabled'] = true\ngitlab_rails['dependency_proxy_enabled'] = true\ngitlab_rails['packages_enabled'] = true\n```\n\n### Container Registry Configuration\n\n```ruby\n# Container Registry setup\nregistry_external_url 'https://registry.example.com'\ngitlab_rails['registry_enabled'] = true\nregistry['enable'] = true\nregistry['username'] = \"registry\"\nregistry['group'] = \"registry\"\nregistry['dir'] = \"/var/opt/gitlab/registry\"\n\n# Registry storage configuration (S3)\nregistry['storage'] = {\n  's3' =\u003e {\n    'accesskey' =\u003e 'registry_s3_access_key',\n    'secretkey' =\u003e 'registry_s3_secret_key',\n    'bucket' =\u003e 'gitlab-registry',\n    'region' =\u003e 'us-west-2',\n    'encrypt' =\u003e true\n  }\n}\n\n# Registry security\nregistry['auth_token_realm'] = \"https://gitlab.example.com/jwt/auth\"\nregistry['auth_token_service'] = \"container_registry\"\nregistry['auth_token_issuer'] = \"gitlab-issuer\"\n\n# Registry health checks\nregistry['health_storagedriver_enabled'] = true\nregistry['health_storagedriver_interval'] = '10s'\nregistry['health_storagedriver_threshold'] = 3\n\n# Container scanning and cleanup\ngitlab_rails['container_registry_cleanup_enabled'] = true\ngitlab_rails['container_registry_expiration_policy_enabled'] = true\n```\n\n### GitLab Pages Configuration\n\n```ruby\n# GitLab Pages setup\npages_external_url \"https://pages.example.com\"\ngitlab_pages['enable'] = true\ngitlab_pages['access_control'] = true\ngitlab_pages['artifacts_server'] = true\ngitlab_pages['external_http'] = ['0.0.0.0:8090']\ngitlab_pages['external_https'] = ['0.0.0.0:8091']\n\n# Pages SSL configuration\ngitlab_pages['cert_file'] = \"/etc/gitlab/ssl/pages.crt\"\ngitlab_pages['key_file'] = \"/etc/gitlab/ssl/pages.key\"\n\n# Pages storage\ngitlab_pages['dir'] = \"/var/opt/gitlab/gitlab-pages\"\ngitlab_pages['log_directory'] = \"/var/log/gitlab/gitlab-pages\"\n```\n\n## 7. Reverse Proxy Setup\n\n### NGINX Reverse Proxy\n\nConfigure NGINX as a reverse proxy for GitLab:\n\n```bash\n# Install NGINX\n# Ubuntu/Debian\nsudo apt-get install nginx\n\n# RHEL/CentOS\nsudo dnf install nginx\n\n# Configure NGINX for GitLab\nsudo tee /etc/nginx/sites-available/gitlab \u003e /dev/null \u003c\u003cEOF\nupstream gitlab-workhorse {\n  server unix:/var/opt/gitlab/gitlab-workhorse/socket fail_timeout=0;\n}\n\nserver {\n  listen 80;\n  server_name gitlab.example.com;\n  server_tokens off;\n  return 301 https://\\$server_name\\$request_uri;\n}\n\nserver {\n  listen 443 ssl http2;\n  server_name gitlab.example.com;\n  server_tokens off;\n\n  # SSL configuration\n  ssl_certificate /etc/nginx/ssl/gitlab.crt;\n  ssl_certificate_key /etc/nginx/ssl/gitlab.key;\n  ssl_protocols TLSv1.2 TLSv1.3;\n  ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384;\n  ssl_prefer_server_ciphers off;\n  ssl_session_cache shared:SSL:10m;\n  ssl_session_tickets off;\n\n  # Security headers\n  add_header Strict-Transport-Security \"max-age=31536000; includeSubDomains\" always;\n  add_header X-Content-Type-Options nosniff;\n  add_header X-Frame-Options DENY;\n  add_header X-XSS-Protection \"1; mode=block\";\n  add_header Referrer-Policy strict-origin-when-cross-origin;\n\n  # GitLab needs backwards compatible ciphers to retain compatibility with Java IDEs\n  ssl_ciphers \"ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA256\";\n\n  client_max_body_size 250m;\n  \n  location / {\n    proxy_cache off;\n    proxy_pass http://gitlab-workhorse;\n    proxy_pass_header Server;\n    proxy_set_header Host \\$host;\n    proxy_set_header X-Real-IP \\$remote_addr;\n    proxy_set_header X-Forwarded-For \\$proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto \\$scheme;\n    proxy_set_header X-Forwarded-Ssl on;\n    \n    proxy_read_timeout 300s;\n    proxy_connect_timeout 300s;\n    proxy_redirect off;\n  }\n  \n  # Container Registry\n  location /v2/ {\n    proxy_cache off;\n    proxy_pass http://localhost:5000;\n    proxy_pass_header Server;\n    proxy_set_header Host \\$host;\n    proxy_set_header X-Real-IP \\$remote_addr;\n    proxy_set_header X-Forwarded-For \\$proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto \\$scheme;\n    proxy_set_header X-Forwarded-Ssl on;\n    \n    proxy_read_timeout 900;\n  }\n}\nEOF\n\n# Enable site and restart NGINX\nsudo ln -sf /etc/nginx/sites-available/gitlab /etc/nginx/sites-enabled/\nsudo nginx -t\nsudo systemctl restart nginx\n```\n\n### Apache HTTP Server (httpd)\n\nConfigure Apache as reverse proxy:\n\n```bash\n# Install Apache\n# RHEL/CentOS\nsudo dnf install httpd mod_ssl\n\n# Enable modules\nsudo systemctl enable httpd\n\n# Configure Apache for GitLab\nsudo tee /etc/httpd/conf.d/gitlab.conf \u003e /dev/null \u003c\u003cEOF\n\u003cVirtualHost *:80\u003e\n  ServerName gitlab.example.com\n  Redirect permanent / https://gitlab.example.com/\n\u003c/VirtualHost\u003e\n\n\u003cVirtualHost *:443\u003e\n  ServerName gitlab.example.com\n  \n  # SSL Configuration\n  SSLEngine on\n  SSLCertificateFile /etc/httpd/ssl/gitlab.crt\n  SSLCertificateKeyFile /etc/httpd/ssl/gitlab.key\n  SSLProtocol -all +TLSv1.2 +TLSv1.3\n  SSLCipherSuite ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384\n  SSLHonorCipherOrder off\n  \n  # Security headers\n  Header always set Strict-Transport-Security \"max-age=31536000; includeSubDomains\"\n  Header always set X-Content-Type-Options nosniff\n  Header always set X-Frame-Options DENY\n  Header always set X-XSS-Protection \"1; mode=block\"\n  \n  # Proxy configuration\n  ProxyPreserveHost On\n  ProxyPass /v2/ http://localhost:5000/v2/\n  ProxyPassReverse /v2/ http://localhost:5000/v2/\n  ProxyPass / http://localhost:8080/\n  ProxyPassReverse / http://localhost:8080/\n  \n  # Set headers\n  ProxyPassReverse / http://localhost:8080/\n  RequestHeader set X-Forwarded-Proto \"https\"\n  RequestHeader set X-Forwarded-Ssl \"on\"\n\u003c/VirtualHost\u003e\nEOF\n\n# Start Apache\nsudo systemctl start httpd\nsudo systemctl enable httpd\n```\n\n### HAProxy Load Balancer\n\nConfigure HAProxy for high availability:\n\n```bash\n# Install HAProxy\nsudo apt-get install haproxy  # Ubuntu/Debian\nsudo dnf install haproxy      # RHEL/CentOS\n\n# Configure HAProxy\nsudo tee /etc/haproxy/haproxy.cfg \u003e /dev/null \u003c\u003cEOF\nglobal\n    daemon\n    log 127.0.0.1:514 local0\n    chroot /var/lib/haproxy\n    stats socket /run/haproxy/admin.sock mode 660 level admin\n    stats timeout 30s\n    user haproxy\n    group haproxy\n\n    # SSL configuration\n    ssl-default-bind-ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256\n    ssl-default-bind-options ssl-min-ver TLSv1.2 no-tls-tickets\n\ndefaults\n    mode http\n    log global\n    option httplog\n    option dontlognull\n    option log-health-checks\n    option forwardfor except 127.0.0.0/8\n    option redispatch\n    retries 3\n    timeout http-request 10s\n    timeout queue 1m\n    timeout connect 5s\n    timeout client 1m\n    timeout server 1m\n    timeout http-keep-alive 10s\n    timeout check 10s\n\n# GitLab frontend\nfrontend gitlab_frontend\n    bind *:80\n    bind *:443 ssl crt /etc/haproxy/certs/gitlab.pem\n    redirect scheme https if !{ ssl_fc }\n    \n    # Security headers\n    rspadd Strict-Transport-Security:\\ max-age=31536000;\\ includeSubDomains\n    rspadd X-Content-Type-Options:\\ nosniff\n    rspadd X-Frame-Options:\\ DENY\n    \n    default_backend gitlab_backend\n\n# GitLab backend servers\nbackend gitlab_backend\n    balance roundrobin\n    option httpchk GET /users/sign_in\n    http-check expect status 200\n    \n    server gitlab1 192.168.1.10:8080 check\n    server gitlab2 192.168.1.11:8080 check backup\n\n# Statistics interface\nfrontend stats\n    bind *:8404\n    stats enable\n    stats uri /stats\n    stats refresh 30s\n    stats admin if TRUE\nEOF\n\n# Start HAProxy\nsudo systemctl start haproxy\nsudo systemctl enable haproxy\n```\n\n## 8. Security Configuration\n\n### Security Hardening\n\nImplement comprehensive security measures:\n\n```ruby\n# /etc/gitlab/gitlab.rb - Security configuration\n\n# Force HTTPS\nnginx['redirect_http_to_https'] = true\nnginx['ssl_protocols'] = \"TLSv1.2 TLSv1.3\"\nnginx['ssl_prefer_server_ciphers'] = \"off\"\nnginx['ssl_ciphers'] = \"ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384\"\n\n# Security headers\nnginx['custom_nginx_config'] = \"include /etc/nginx/conf.d/security-headers.conf;\"\n\n# Rate limiting\ngitlab_rails['rate_limit_requests_per_period'] = 300\ngitlab_rails['rate_limit_period'] = 60\n\n# Rack Attack configuration for Git over HTTP\ngitlab_rails['rack_attack_git_basic_auth'] = {\n  'enabled' =\u003e true,\n  'ip_whitelist' =\u003e %w{127.0.0.1 192.168.1.0/24},\n  'maxretry' =\u003e 10,\n  'findtime' =\u003e 60,\n  'bantime' =\u003e 3600\n}\n\n# Protected paths\ngitlab_rails['rack_attack_protected_paths'] = [\n  '/users/password',\n  '/users/sign_in',\n  '/api/v4/session.json',\n  '/api/v4/session',\n  '/users/confirmation',\n  '/unsubscribes/',\n  '/admin/session'\n]\n\n# SSH security\ngitlab_rails['gitlab_shell_ssh_port'] = 2222\ngitlab_shell['auth_file'] = \"/var/opt/gitlab/.ssh/authorized_keys\"\n\n# Two-factor authentication enforcement\ngitlab_rails['require_two_factor_authentication'] = false\ngitlab_rails['two_factor_grace_period'] = 8  # 8 hours\n\n# Session settings\ngitlab_rails['session_expire_delay'] = 10080  # 1 week\ngitlab_rails['session_store_enabled'] = true\n\n# Webhook security\ngitlab_rails['webhook_timeout'] = 10\ngitlab_rails['webhook_max_redirects'] = 3\n\n# API security\ngitlab_rails['api_limit_per_min'] = 300\n\n# Disable features that increase attack surface\ngitlab_rails['usage_ping_enabled'] = false\ngitlab_rails['sentry_enabled'] = false\n\n# Audit logging (Enterprise)\ngitlab_rails['audit_events_enabled'] = true\n\n# Security scanning\ngitlab_rails['sast_enabled'] = true\ngitlab_rails['dependency_scanning_enabled'] = true\ngitlab_rails['container_scanning_enabled'] = true\ngitlab_rails['secret_detection_enabled'] = true\n```\n\nCreate security headers configuration:\n\n```bash\nsudo mkdir -p /etc/nginx/conf.d\n\nsudo tee /etc/nginx/conf.d/security-headers.conf \u003e /dev/null \u003c\u003cEOF\n# Security headers\nadd_header Strict-Transport-Security \"max-age=31536000; includeSubDomains; preload\" always;\nadd_header X-Content-Type-Options nosniff always;\nadd_header X-Frame-Options DENY always;\nadd_header X-XSS-Protection \"1; mode=block\" always;\nadd_header Referrer-Policy \"strict-origin-when-cross-origin\" always;\nadd_header Content-Security-Policy \"default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self';\" always;\nEOF\n```\n\n### Firewall Configuration\n\n#### UFW (Ubuntu/Debian)\n```bash\n# Enable UFW\nsudo ufw enable\n\n# Allow SSH\nsudo ufw allow OpenSSH\n\n# Allow HTTP/HTTPS\nsudo ufw allow 80/tcp\nsudo ufw allow 443/tcp\n\n# Allow GitLab SSH (if using custom port)\nsudo ufw allow 2222/tcp\n\n# Allow specific IP ranges only (optional)\nsudo ufw allow from 192.168.1.0/24 to any port 22\nsudo ufw allow from 10.0.0.0/8 to any port 22\n\n# Check status\nsudo ufw status verbose\n```\n\n#### firewalld (RHEL/CentOS)\n```bash\n# Enable firewalld\nsudo systemctl enable --now firewalld\n\n# Add services\nsudo firewall-cmd --permanent --add-service=http\nsudo firewall-cmd --permanent --add-service=https\nsudo firewall-cmd --permanent --add-service=ssh\n\n# Add custom ports\nsudo firewall-cmd --permanent --add-port=2222/tcp\n\n# Create custom service for GitLab\nsudo tee /etc/firewalld/services/gitlab.xml \u003e /dev/null \u003c\u003cEOF\n\u003c?xml version=\"1.0\" encoding=\"utf-8\"?\u003e\n\u003cservice\u003e\n  \u003cshort\u003eGitLab\u003c/short\u003e\n  \u003cdescription\u003eGitLab DevOps Platform\u003c/description\u003e\n  \u003cport protocol=\"tcp\" port=\"80\"/\u003e\n  \u003cport protocol=\"tcp\" port=\"443\"/\u003e\n  \u003cport protocol=\"tcp\" port=\"2222\"/\u003e\n\u003c/service\u003e\nEOF\n\nsudo firewall-cmd --permanent --add-service=gitlab\nsudo firewall-cmd --reload\n```\n\n### Access Control and Authentication\n\n```ruby\n# Password policy\ngitlab_rails['password_authentication_enabled_for_web'] = true\ngitlab_rails['password_authentication_enabled_for_git'] = true\n\n# Sign-up restrictions\ngitlab_rails['signup_enabled'] = false\ngitlab_rails['signin_enabled'] = true\n\n# Email domain restrictions\ngitlab_rails['email_restrictions_enabled'] = true\ngitlab_rails['email_restrictions'] = '@example\\\\.com$|@partner\\\\.com$'\n\n# IP restrictions (Enterprise)\ngitlab_rails['ip_restrictions_enabled'] = true\n\n# OAuth/OIDC providers configuration\ngitlab_rails['omniauth_enabled'] = true\ngitlab_rails['omniauth_allow_single_sign_on'] = ['google_oauth2', 'github']\ngitlab_rails['omniauth_block_auto_created_users'] = true\ngitlab_rails['omniauth_auto_sign_in_with_provider'] = 'google_oauth2'\ngitlab_rails['omniauth_providers'] = [\n  {\n    name: 'google_oauth2',\n    app_id: 'GOOGLE_OAUTH_CLIENT_ID',\n    app_secret: 'GOOGLE_OAUTH_CLIENT_SECRET',\n    args: {\n      scope: 'email profile',\n      domain: 'example.com'\n    }\n  }\n]\n```\n\n## 9. Database Setup\n\nGitLab uses PostgreSQL as its default database. For production environments, consider using an external PostgreSQL instance.\n\n### Internal PostgreSQL (Default)\n\nGitLab comes with a built-in PostgreSQL instance configured automatically:\n\n```ruby\n# /etc/gitlab/gitlab.rb - PostgreSQL settings\n\n# Enable built-in PostgreSQL\npostgresql['enable'] = true\n\n# PostgreSQL performance tuning\npostgresql['shared_buffers'] = \"2GB\"\npostgresql['effective_cache_size'] = \"8GB\" \npostgresql['work_mem'] = \"16MB\"\npostgresql['maintenance_work_mem'] = \"256MB\"\npostgresql['max_connections'] = 300\npostgresql['checkpoint_completion_target'] = 0.9\npostgresql['wal_buffers'] = \"16MB\"\npostgresql['default_statistics_target'] = 100\npostgresql['random_page_cost'] = 1.1  # For SSD storage\npostgresql['effective_io_concurrency'] = 200\n\n# Connection settings\npostgresql['listen_address'] = '127.0.0.1'\npostgresql['port'] = 5432\npostgresql['max_worker_processes'] = 8\npostgresql['max_parallel_workers_per_gather'] = 4\npostgresql['max_parallel_workers'] = 8\n\n# WAL settings for performance\npostgresql['wal_level'] = 'replica'\npostgresql['max_wal_senders'] = 3\npostgresql['checkpoint_segments'] = 32\npostgresql['checkpoint_timeout'] = '5min'\n\n# Logging\npostgresql['log_statement'] = 'none'\npostgresql['log_min_duration_statement'] = 1000  # Log slow queries\npostgresql['log_line_prefix'] = '%t [%p]: [%l-1] user=%u,db=%d,app=%a,client=%h '\n```\n\n### External PostgreSQL Setup\n\nFor high availability and better performance, use an external PostgreSQL server:\n\n```bash\n# Install PostgreSQL on separate server\n# Ubuntu/Debian\nsudo apt-get install postgresql postgresql-contrib\n\n# RHEL/CentOS  \nsudo dnf install postgresql-server postgresql-contrib\n\n# Initialize database (RHEL/CentOS only)\nsudo postgresql-setup --initdb\nsudo systemctl enable --now postgresql\n\n# Create GitLab database and user\nsudo -u postgres createuser --createdb --no-superuser --no-createrole gitlab\nsudo -u postgres createdb -O gitlab gitlabhq_production\nsudo -u postgres psql -c \"ALTER USER gitlab ENCRYPTED PASSWORD 'secure_password';\"\n\n# Configure PostgreSQL for GitLab\nsudo tee -a /var/lib/pgsql/data/postgresql.conf \u003c\u003cEOF\n# GitLab optimizations\nshared_buffers = 2GB\neffective_cache_size = 8GB\nwork_mem = 16MB  \nmaintenance_work_mem = 256MB\nmax_connections = 300\ncheckpoint_completion_target = 0.9\nwal_buffers = 16MB\nrandom_page_cost = 1.1\neffective_io_concurrency = 200\n\n# Connection settings\nlisten_addresses = '*'\nport = 5432\nmax_worker_processes = 8\nmax_parallel_workers = 8\nmax_parallel_workers_per_gather = 4\n\n# Enable extensions\nshared_preload_libraries = 'pg_stat_statements'\nEOF\n\n# Configure client authentication\nsudo tee -a /var/lib/pgsql/data/pg_hba.conf \u003c\u003cEOF\nhost    gitlabhq_production     gitlab          192.168.1.0/24          md5\nhost    gitlabhq_production     gitlab          10.0.0.0/8              md5\nEOF\n\nsudo systemctl restart postgresql\n```\n\nConfigure GitLab to use external PostgreSQL:\n\n```ruby\n# /etc/gitlab/gitlab.rb - External PostgreSQL\n\n# Disable built-in PostgreSQL\npostgresql['enable'] = false\n\n# External PostgreSQL configuration\ngitlab_rails['db_adapter'] = 'postgresql'\ngitlab_rails['db_encoding'] = 'unicode'\ngitlab_rails['db_collation'] = nil\ngitlab_rails['db_database'] = 'gitlabhq_production'\ngitlab_rails['db_pool'] = 10\ngitlab_rails['db_username'] = 'gitlab'\ngitlab_rails['db_password'] = 'secure_password'\ngitlab_rails['db_host'] = '192.168.1.10'\ngitlab_rails['db_port'] = 5432\ngitlab_rails['db_socket'] = nil\ngitlab_rails['db_sslmode'] = 'prefer'\ngitlab_rails['db_sslcert'] = nil\ngitlab_rails['db_sslkey'] = nil\ngitlab_rails['db_sslrootcert'] = nil\ngitlab_rails['db_sslcrl'] = nil\ngitlab_rails['db_prepared_statements'] = false\ngitlab_rails['db_statements_limit'] = 1000\n\n# Load balancing for read replicas (Enterprise)\ngitlab_rails['db_load_balancing'] = {\n  'hosts' =\u003e ['192.168.1.11', '192.168.1.12'],\n  'discover' =\u003e {\n    'record' =\u003e 'postgres-replica.example.com'\n  }\n}\n```\n\n### Database Maintenance\n\n```bash\n# Database maintenance commands\nsudo gitlab-ctl pgb-console  # Connect to database\n\n# Manual database operations\nsudo gitlab-psql -d gitlabhq_production\n\n# Database migrations\nsudo gitlab-rake db:migrate\n\n# Check database status\nsudo gitlab-rake db:migrate:status\n\n# Create database backup\nsudo gitlab-backup create SKIP=uploads,builds,artifacts,lfs,registry,pages\n\n# Restore database from backup  \nsudo gitlab-backup restore BACKUP=timestamp_of_backup\n\n# Database cleanup\nsudo gitlab-rake gitlab:cleanup:sessions\nsudo gitlab-rake gitlab:cleanup:project_uploads\n```\n\n## 10. Performance Optimization\n\n### System-Level Optimizations\n\n```bash\n# Kernel parameter tuning for GitLab\nsudo tee /etc/sysctl.d/90-gitlab.conf \u003c\u003cEOF\n# Network optimizations\nnet.core.somaxconn = 65535\nnet.ipv4.tcp_max_syn_backlog = 65535\nnet.core.netdev_max_backlog = 5000\nnet.ipv4.tcp_fin_timeout = 30\nnet.ipv4.tcp_keepalive_time = 1200\nnet.ipv4.tcp_keepalive_probes = 7\nnet.ipv4.tcp_keepalive_intvl = 30\n\n# Memory management\nvm.swappiness = 1\nvm.dirty_ratio = 15\nvm.dirty_background_ratio = 5\nvm.vfs_cache_pressure = 50\n\n# File system optimizations\nfs.file-max = 2097152\nfs.nr_open = 1048576\nEOF\n\nsudo sysctl -p /etc/sysctl.d/90-gitlab.conf\n\n# Increase file descriptor limits\nsudo tee /etc/security/limits.d/90-gitlab.conf \u003c\u003cEOF\ngit     soft    nofile          65535\ngit     hard    nofile          65535\ngit     soft    nproc           65535  \ngit     hard    nproc           65535\nEOF\n\n# Configure systemd limits\nsudo mkdir -p /etc/systemd/system/gitlab-runsvdir.service.d\nsudo tee /etc/systemd/system/gitlab-runsvdir.service.d/limits.conf \u003c\u003cEOF\n[Service]\nLimitNOFILE=65535\nLimitNPROC=65535\nEOF\n\nsudo systemctl daemon-reload\n```\n\n### Application Performance Tuning\n\n```ruby\n# /etc/gitlab/gitlab.rb - Performance optimizations\n\n# Unicorn/Puma web server settings\n# Use Puma (recommended for GitLab 13.0+)\npuma['enable'] = true\npuma['worker_processes'] = 4  # Number of CPU cores\npuma['min_threads'] = 1\npuma['max_threads'] = 16\npuma['worker_timeout'] = 60\npuma['worker_boot_timeout'] = 60\n\n# Disable Unicorn if using Puma\nunicorn['enable'] = false\n\n# Sidekiq background job processing\nsidekiq['max_concurrency'] = 25\nsidekiq['min_concurrency'] = 10\nsidekiq['queue_groups'] = [\n  '*',\n  'cronjob:1',\n  'default:5',\n  'pipeline_processing:2'\n]\n\n# Gitaly settings for Git operations\ngitaly['ruby_max_rss'] = 300000000  # 300MB\ngitaly['concurrency'] = [\n  {\n    'rpc' =\u003e \"/gitaly.SmartHTTPService/PostReceivePack\",\n    'max_per_repo' =\u003e 3\n  },\n  {\n    'rpc' =\u003e \"/gitaly.SSHService/SSHUploadPack\",\n    'max_per_repo' =\u003e 3  \n  },\n  {\n    'rpc' =\u003e \"/gitaly.SSHService/SSHReceivePack\",\n    'max_per_repo' =\u003e 3\n  }\n]\n\n# GitLab Workhorse settings\ngitlab_workhorse['api_limit'] = 1000\ngitlab_workhorse['api_queue_limit'] = 200\ngitlab_workhorse['api_queue_duration'] = \"30s\"\n\n# Redis caching optimizations  \nredis['maxmemory'] = \"1gb\"\nredis['maxmemory_policy'] = \"allkeys-lru\"\nredis['save'] = '900 1 300 10 60 10000'\nredis['tcp_keepalive'] = 300\nredis['tcp_timeout'] = 60\n\n# NGINX optimizations\nnginx['worker_processes'] = 4\nnginx['worker_connections'] = 1024\nnginx['keepalive_timeout'] = 65\nnginx['gzip'] = \"on\"\nnginx['gzip_comp_level'] = 6\nnginx['gzip_types'] = [\n  'text/plain',\n  'text/css', \n  'application/json',\n  'application/javascript',\n  'text/xml',\n  'application/xml',\n  'application/xml+rss',\n  'text/javascript'\n]\n\n# Prometheus monitoring optimization\nprometheus['scrape_interval'] = 15\nprometheus['scrape_timeout'] = 10\nprometheus['evaluation_interval'] = 15\n```\n\n### Storage Optimization\n\n```bash\n# Use SSD storage with proper mount options\nsudo tee -a /etc/fstab \u003c\u003cEOF\n/dev/sdb1 /var/opt/gitlab ext4 defaults,noatime,discard 0 2\nEOF\n\n# Optimize Git repository storage\nsudo tee /usr/local/bin/gitlab-git-optimize.sh \u003c\u003c'EOF'\n#!/bin/bash\n# Optimize Git repositories for better performance\n\nREPO_DIR=\"/var/opt/gitlab/git-data/repositories\"\nLOG_FILE=\"/var/log/gitlab/git-optimize.log\"\n\necho \"$(date): Starting Git repository optimization\" \u003e\u003e $LOG_FILE\n\nfind $REPO_DIR -name \"*.git\" -type d | while read repo; do\n    cd \"$repo\"\n    echo \"Optimizing: $repo\" \u003e\u003e $LOG_FILE\n    \n    # Garbage collection\n    git gc --aggressive --prune=now\n    \n    # Repack repository\n    git repack -ad\n    \n    # Update server info\n    git update-server-info\ndone\n\necho \"$(date): Git repository optimization completed\" \u003e\u003e $LOG_FILE\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-git-optimize.sh\n\n# Schedule weekly Git optimization\necho \"0 2 * * 0 root /usr/local/bin/gitlab-git-optimize.sh\" | sudo tee -a /etc/crontab\n```\n\n### Monitoring Performance\n\n```bash\n# Create performance monitoring script\nsudo tee /usr/local/bin/gitlab-performance-check.sh \u003c\u003c'EOF'\n#!/bin/bash\nLOGFILE=\"/var/log/gitlab-performance.log\"\n\necho \"$(date): Performance Check Started\" \u003e\u003e $LOGFILE\n\n# CPU and Memory usage\necho \"CPU Usage: $(top -bn1 | grep \"Cpu(s)\" | awk '{print $2}' | cut -d'%' -f1)%\" \u003e\u003e $LOGFILE\necho \"Memory Usage: $(free | grep Mem | awk '{printf \"%.2f\", $3/$2 * 100.0}')%\" \u003e\u003e $LOGFILE\n\n# Database connections\nDB_CONNECTIONS=$(sudo gitlab-psql -t -c \"SELECT count(*) FROM pg_stat_activity;\")\necho \"Database Connections: $DB_CONNECTIONS\" \u003e\u003e $LOGFILE\n\n# Redis memory usage\nREDIS_MEMORY=$(redis-cli info memory | grep used_memory_human | cut -d: -f2)\necho \"Redis Memory: $REDIS_MEMORY\" \u003e\u003e $LOGFILE\n\n# Disk usage\nDISK_USAGE=$(df /var/opt/gitlab | awk 'NR==2 {print $5}')\necho \"Disk Usage: $DISK_USAGE\" \u003e\u003e $LOGFILE\n\n# Active processes\nPROCESSES=$(sudo gitlab-ctl status | grep -c \"run:\")\necho \"Active GitLab Processes: $PROCESSES\" \u003e\u003e $LOGFILE\n\necho \"$(date): Performance Check Completed\" \u003e\u003e $LOGFILE\necho \"---\" \u003e\u003e $LOGFILE\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-performance-check.sh\n\n# Schedule performance checks every 15 minutes\necho \"*/15 * * * * root /usr/local/bin/gitlab-performance-check.sh\" | sudo tee -a /etc/crontab\n```\n\n## 11. Monitoring\n\nGitLab includes built-in monitoring capabilities with Prometheus and Grafana.\n\n### Built-in Monitoring Stack\n\nEnable GitLab's integrated monitoring:\n\n```ruby\n# /etc/gitlab/gitlab.rb - Monitoring configuration\n\n# Enable Prometheus monitoring\nprometheus_monitoring['enable'] = true\nprometheus['enable'] = true\nprometheus['listen_address'] = 'localhost:9090'\nprometheus['scrape_interval'] = 15\nprometheus['scrape_timeout'] = 10\nprometheus['evaluation_interval'] = 15\n\n# Prometheus exporters\nnode_exporter['enable'] = true\nnode_exporter['listen_address'] = 'localhost:9100'\n\nredis_exporter['enable'] = true\nredis_exporter['listen_address'] = 'localhost:9121'\n\npostgres_exporter['enable'] = true\npostgres_exporter['listen_address'] = 'localhost:9187'\n\ngitlab_exporter['enable'] = true\ngitlab_exporter['listen_address'] = 'localhost:9168'\n\n# Grafana configuration\ngrafana['enable'] = true\ngrafana['admin_password'] = 'secure_grafana_password'\ngrafana['disable_login_form'] = false\ngrafana['allow_user_sign_up'] = false\ngrafana['secret_key'] = 'generate_secure_secret_key'\n\n# Alert Manager\nalertmanager['enable'] = true\nalertmanager['admin_email'] = 'alerts@example.com'\nalertmanager['flags'] = {\n  'storage.path' =\u003e '/var/opt/gitlab/alertmanager/data',\n  'config.file' =\u003e '/var/opt/gitlab/alertmanager/alertmanager.yml'\n}\n```\n\n### External Monitoring Integration\n\nConfigure external monitoring systems:\n\n```bash\n# Prometheus configuration for external setup\nsudo tee /etc/prometheus/prometheus.yml \u003c\u003cEOF\nglobal:\n  scrape_interval: 15s\n  evaluation_interval: 15s\n  external_labels:\n    monitor: 'gitlab-monitor'\n\nalerting:\n  alertmanagers:\n    - static_configs:\n        - targets: ['localhost:9093']\n\nrule_files:\n  - \"gitlab-rules.yml\"\n\nscrape_configs:\n  - job_name: 'gitlab-workhorse'\n    static_configs:\n      - targets: ['gitlab.example.com:9229']\n    metrics_path: '/metrics'\n    scrape_interval: 15s\n\n  - job_name: 'gitlab-unicorn'\n    static_configs:\n      - targets: ['gitlab.example.com:8080']\n    metrics_path: '/-/metrics'\n    scrape_interval: 15s\n\n  - job_name: 'gitlab-sidekiq'\n    static_configs:\n      - targets: ['gitlab.example.com:8082']\n    metrics_path: '/metrics'\n    scrape_interval: 15s\n\n  - job_name: 'gitlab-gitaly'\n    static_configs:\n      - targets: ['gitlab.example.com:9236']\n    metrics_path: '/metrics'\n    scrape_interval: 15s\n\n  - job_name: 'node-exporter'\n    static_configs:\n      - targets: ['gitlab.example.com:9100']\n    metrics_path: '/metrics'\n    scrape_interval: 15s\n\n  - job_name: 'postgres-exporter'\n    static_configs:\n      - targets: ['gitlab.example.com:9187']\n    metrics_path: '/metrics'\n    scrape_interval: 15s\n\n  - job_name: 'redis-exporter'\n    static_configs:\n      - targets: ['gitlab.example.com:9121']\n    metrics_path: '/metrics'\n    scrape_interval: 15s\nEOF\n\n# Create GitLab-specific alerting rules\nsudo tee /etc/prometheus/gitlab-rules.yml \u003c\u003cEOF\ngroups:\n  - name: gitlab\n    rules:\n      - alert: GitLabDown\n        expr: up{job=~\"gitlab.*\"} == 0\n        for: 5m\n        labels:\n          severity: critical\n        annotations:\n          summary: \"GitLab service {{ \\$labels.job }} is down\"\n          description: \"GitLab service {{ \\$labels.job }} has been down for more than 5 minutes.\"\n\n      - alert: GitLabHighCPU\n        expr: 100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\"}[5m])) * 100) \u003e 80\n        for: 10m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"High CPU usage on GitLab server\"\n          description: \"CPU usage is above 80% for more than 10 minutes.\"\n\n      - alert: GitLabHighMemory\n        expr: (node_memory_MemTotal_bytes - node_memory_MemAvailable_bytes) / node_memory_MemTotal_bytes * 100 \u003e 85\n        for: 10m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"High memory usage on GitLab server\"\n          description: \"Memory usage is above 85% for more than 10 minutes.\"\n\n      - alert: GitLabDiskSpaceLow\n        expr: (node_filesystem_avail_bytes / node_filesystem_size_bytes) * 100 \u003c 15\n        for: 5m\n        labels:\n          severity: critical\n        annotations:\n          summary: \"Low disk space on GitLab server\"\n          description: \"Disk space is below 15% on {{ \\$labels.mountpoint }}.\"\n\n      - alert: GitLabPostgreSQLDown\n        expr: up{job=\"postgres-exporter\"} == 0\n        for: 5m\n        labels:\n          severity: critical\n        annotations:\n          summary: \"PostgreSQL is down\"\n          description: \"GitLab PostgreSQL database has been down for more than 5 minutes.\"\n\n      - alert: GitLabRedisDown\n        expr: up{job=\"redis-exporter\"} == 0\n        for: 5m\n        labels:\n          severity: critical\n        annotations:\n          summary: \"Redis is down\"\n          description: \"GitLab Redis cache has been down for more than 5 minutes.\"\nEOF\n```\n\n### Log Management\n\nConfigure centralized logging:\n\n```bash\n# Install and configure Elasticsearch, Logstash, Kibana (ELK Stack)\n# Or use external services like Splunk, DataDog, etc.\n\n# Configure GitLab log forwarding\nsudo tee /etc/rsyslog.d/49-gitlab.conf \u003c\u003cEOF\n# Forward GitLab logs to centralized logging\n*.* @@logserver.example.com:514\n\n# Local GitLab log files\nif \\$programname startswith 'gitlab' then /var/log/gitlab-centralized.log\n\u0026 stop\nEOF\n\nsudo systemctl restart rsyslog\n\n# Create log monitoring script\nsudo tee /usr/local/bin/gitlab-log-monitor.sh \u003c\u003c'EOF'\n#!/bin/bash\nALERT_EMAIL=\"admin@example.com\"\nLOG_DIR=\"/var/log/gitlab\"\n\n# Monitor for critical errors\nfind $LOG_DIR -name \"*.log\" -type f -mmin -5 | while read logfile; do\n    if grep -i \"error\\|exception\\|fatal\" \"$logfile\" | grep \"$(date +'%Y-%m-%d %H:%M')\" \u003e /tmp/gitlab-errors.tmp; then\n        if [ -s /tmp/gitlab-errors.tmp ]; then\n            echo \"Critical errors found in GitLab logs:\" | mail -s \"GitLab Error Alert\" $ALERT_EMAIL \u003c /tmp/gitlab-errors.tmp\n        fi\n    fi\ndone\n\n# Monitor disk space for log directory\nUSAGE=$(df $LOG_DIR | awk 'NR==2 {print $5}' | sed 's/%//')\nif [ $USAGE -gt 80 ]; then\n    echo \"Log directory usage is at ${USAGE}%. Consider log rotation.\" | mail -s \"GitLab Log Disk Usage Warning\" $ALERT_EMAIL\nfi\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-log-monitor.sh\n\n# Schedule log monitoring every 5 minutes\necho \"*/5 * * * * root /usr/local/bin/gitlab-log-monitor.sh\" | sudo tee -a /etc/crontab\n```\n\n### Health Monitoring\n\n```bash\n# Create comprehensive health monitoring\nsudo tee /usr/local/bin/gitlab-health-monitor.sh \u003c\u003c'EOF'\n#!/bin/bash\nHEALTH_LOG=\"/var/log/gitlab-health.log\"\nEMAIL=\"admin@example.com\"\nWEBHOOK_URL=\"https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK\"\n\ncheck_service() {\n    local service=$1\n    if sudo gitlab-ctl status $service | grep -q \"run:\"; then\n        echo \"$(date): ✓ $service is running\" \u003e\u003e $HEALTH_LOG\n        return 0\n    else\n        echo \"$(date): ✗ $service is DOWN\" \u003e\u003e $HEALTH_LOG\n        alert_service_down $service\n        return 1\n    fi\n}\n\nalert_service_down() {\n    local service=$1\n    echo \"ALERT: GitLab service $service is down\" | mail -s \"GitLab Service Alert\" $EMAIL\n    \n    # Send Slack notification\n    curl -X POST -H 'Content-type: application/json' \\\n        --data \"{\\\"text\\\":\\\"🚨 GitLab Alert: Service $service is down on $(hostname)\\\"}\" \\\n        $WEBHOOK_URL\n}\n\n# Check all critical services\necho \"$(date): Starting health check\" \u003e\u003e $HEALTH_LOG\n\nservices=(\"nginx\" \"postgresql\" \"redis\" \"unicorn\" \"sidekiq\" \"gitaly\")\nfailed_services=0\n\nfor service in \"${services[@]}\"; do\n    if ! check_service $service; then\n        ((failed_services++))\n    fi\ndone\n\n# Check application health\nif sudo gitlab-rake gitlab:check \u003e/dev/null 2\u003e\u00261; then\n    echo \"$(date): ✓ GitLab application health check passed\" \u003e\u003e $HEALTH_LOG\nelse\n    echo \"$(date): ✗ GitLab application health check FAILED\" \u003e\u003e $HEALTH_LOG\n    echo \"GitLab application health check failed\" | mail -s \"GitLab Application Health Alert\" $EMAIL\n    ((failed_services++))\nfi\n\n# Check backup status\nLAST_BACKUP=$(ls -t /var/opt/gitlab/backups/*_gitlab_backup.tar 2\u003e/dev/null | head -1)\nif [ -n \"$LAST_BACKUP\" ]; then\n    BACKUP_AGE=$(( ($(date +%s) - $(stat -c %Y \"$LAST_BACKUP\")) / 3600 ))\n    if [ $BACKUP_AGE -gt 48 ]; then\n        echo \"$(date): ⚠ Last backup is ${BACKUP_AGE} hours old\" \u003e\u003e $HEALTH_LOG\n        echo \"GitLab backup is ${BACKUP_AGE} hours old\" | mail -s \"GitLab Backup Warning\" $EMAIL\n    else\n        echo \"$(date): ✓ Recent backup available (${BACKUP_AGE} hours old)\" \u003e\u003e $HEALTH_LOG\n    fi\nelse\n    echo \"$(date): ✗ No backup files found\" \u003e\u003e $HEALTH_LOG\n    echo \"No GitLab backup files found\" | mail -s \"GitLab Backup Alert\" $EMAIL\nfi\n\necho \"$(date): Health check completed. Failed services: $failed_services\" \u003e\u003e $HEALTH_LOG\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-health-monitor.sh\n\n# Schedule health checks every 10 minutes\necho \"*/10 * * * * root /usr/local/bin/gitlab-health-monitor.sh\" | sudo tee -a /etc/crontab\n```\n\n## 12. Backup and Restore\n\n### Automated Backup Strategy\n\n```bash\n# Create comprehensive backup script\nsudo tee /usr/local/bin/gitlab-backup-complete.sh \u003c\u003c'EOF'\n#!/bin/bash\nBACKUP_DIR=\"/backup/gitlab\"\nDATE=$(date +%Y%m%d_%H%M%S)\nRETENTION_DAYS=30\nEMAIL=\"admin@example.com\"\n\n# Create backup directories\nmkdir -p ${BACKUP_DIR}/{omnibus,secrets,ssl,registry,uploads}\n\necho \"$(date): Starting GitLab backup process...\"\n\n# Create GitLab application backup\necho \"Creating GitLab application backup...\"\nif gitlab-backup create STRATEGY=copy SKIP=uploads,builds,artifacts,lfs,registry,pages; then\n    echo \"✓ GitLab application backup completed\"\nelse\n    echo \"✗ GitLab application backup failed\"\n    echo \"GitLab application backup failed on $(hostname)\" | mail -s \"GitLab Backup Failure\" $EMAIL\n    exit 1\nfi\n\n# Backup configuration files\necho \"Backing up configuration files...\"\ntar -czf ${BACKUP_DIR}/omnibus/gitlab-config-${DATE}.tar.gz \\\n    /etc/gitlab/gitlab.rb \\\n    /etc/gitlab/gitlab-secrets.json \\\n    /etc/gitlab/trusted-certs/ 2\u003e/dev/null\n\n# Backup SSL certificates\necho \"Backing up SSL certificates...\"\nif [ -d /etc/gitlab/ssl ]; then\n    tar -czf ${BACKUP_DIR}/ssl/gitlab-ssl-${DATE}.tar.gz /etc/gitlab/ssl/\nfi\n\nif [ -d /etc/letsencrypt ]; then\n    tar -czf ${BACKUP_DIR}/ssl/letsencrypt-${DATE}.tar.gz /etc/letsencrypt/\nfi\n\n# Backup secrets\necho \"Backing up secrets...\"\nif [ -d /etc/gitlab/secrets ]; then\n    tar -czf ${BACKUP_DIR}/secrets/gitlab-secrets-${DATE}.tar.gz /etc/gitlab/secrets/\nfi\n\n# Backup container registry (if using local storage)\nif [ -d /var/opt/gitlab/gitlab-rails/shared/registry ]; then\n    echo \"Backing up container registry...\"\n    tar -czf ${BACKUP_DIR}/registry/registry-${DATE}.tar.gz /var/opt/gitlab/gitlab-rails/shared/registry/\nfi\n\n# Upload to cloud storage (multiple providers)\necho \"Uploading backups to cloud storage...\"\n\n# AWS S3\nif command -v aws \u003e/dev/null 2\u003e\u00261; then\n    aws s3 sync ${BACKUP_DIR}/ s3://gitlab-backups-primary/${DATE}/\nfi\n\n# Azure Blob Storage\nif command -v az \u003e/dev/null 2\u003e\u00261; then\n    az storage blob upload-batch --source ${BACKUP_DIR} --destination gitlab-backups --destination-path ${DATE}\nfi\n\n# Google Cloud Storage\nif command -v gsutil \u003e/dev/null 2\u003e\u00261; then\n    gsutil -m cp -r ${BACKUP_DIR}/* gs://gitlab-backups-gcs/${DATE}/\nfi\n\n# Verify backup integrity\necho \"Verifying backup integrity...\"\nLATEST_BACKUP=$(ls -t /var/opt/gitlab/backups/*_gitlab_backup.tar | head -1)\nif [ -n \"$LATEST_BACKUP\" ]; then\n    if tar -tf \"$LATEST_BACKUP\" \u003e/dev/null 2\u003e\u00261; then\n        echo \"✓ Backup integrity verified\"\n    else\n        echo \"✗ Backup integrity check failed\"\n        echo \"GitLab backup integrity check failed\" | mail -s \"GitLab Backup Integrity Alert\" $EMAIL\n    fi\nfi\n\n# Cleanup old backups\necho \"Cleaning up old backups...\"\nfind /var/opt/gitlab/backups/ -name \"*_gitlab_backup.tar\" -mtime +${RETENTION_DAYS} -delete\nfind ${BACKUP_DIR} -name \"gitlab-*\" -type f -mtime +${RETENTION_DAYS} -delete\n\n# Send success notification\necho \"GitLab backup completed successfully on $(date)\" | mail -s \"GitLab Backup Success\" $EMAIL\n\necho \"$(date): GitLab backup process completed successfully\"\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-backup-complete.sh\n\n# Schedule daily backups at 2 AM\necho \"0 2 * * * root /usr/local/bin/gitlab-backup-complete.sh\" | sudo tee -a /etc/crontab\n```\n\n### Disaster Recovery Procedures\n\n```bash\n# Create disaster recovery script\nsudo tee /usr/local/bin/gitlab-disaster-recovery.sh \u003c\u003c'EOF'\n#!/bin/bash\nBACKUP_FILE=\"${1}\"\nCONFIG_BACKUP=\"${2}\"\n\nif [ -z \"$BACKUP_FILE\" ] || [ -z \"$CONFIG_BACKUP\" ]; then\n    echo \"Usage: $0 \u003cbackup_file\u003e \u003cconfig_backup\u003e\"\n    echo \"Available backups:\"\n    ls -la /var/opt/gitlab/backups/*_gitlab_backup.tar 2\u003e/dev/null || echo \"No local backups found\"\n    exit 1\nfi\n\necho \"$(date): Starting GitLab disaster recovery process...\"\n\n# Pre-recovery checks\necho \"Performing pre-recovery checks...\"\nif ! command -v gitlab-ctl \u003e/dev/null 2\u003e\u00261; then\n    echo \"GitLab not installed. Please install GitLab first.\"\n    exit 1\nfi\n\n# Stop GitLab services\necho \"Stopping GitLab services...\"\ngitlab-ctl stop unicorn\ngitlab-ctl stop puma  \ngitlab-ctl stop sidekiq\ngitlab-ctl stop workhorse\ngitlab-ctl stop gitaly\n\n# Backup current installation (if any)\nif [ -d /var/opt/gitlab/git-data ]; then\n    echo \"Backing up current installation...\"\n    mv /var/opt/gitlab /var/opt/gitlab.backup.$(date +%s)\n    mkdir -p /var/opt/gitlab\nfi\n\n# Restore configuration\necho \"Restoring configuration files...\"\nif [ -f \"$CONFIG_BACKUP\" ]; then\n    cd /\n    tar -xzf \"$CONFIG_BACKUP\"\nelse\n    echo \"Configuration backup not found: $CONFIG_BACKUP\"\n    exit 1\nfi\n\n# Reconfigure GitLab with restored configuration\necho \"Reconfiguring GitLab...\"\ngitlab-ctl reconfigure\n\n# Restore GitLab backup\necho \"Restoring GitLab backup...\"\nBACKUP_NAME=$(basename \"$BACKUP_FILE\" _gitlab_backup.tar)\nif gitlab-backup restore BACKUP=\"$BACKUP_NAME\" force=yes; then\n    echo \"✓ GitLab backup restored successfully\"\nelse\n    echo \"✗ GitLab backup restoration failed\"\n    exit 1\nfi\n\n# Start GitLab services\necho \"Starting GitLab services...\"\ngitlab-ctl start\n\n# Wait for services to start\necho \"Waiting for services to start...\"\nsleep 30\n\n# Verify installation\necho \"Verifying GitLab installation...\"\nif gitlab-rake gitlab:check SANITIZE=true; then\n    echo \"✓ GitLab installation verified successfully\"\nelse\n    echo \"⚠ GitLab verification completed with warnings\"\nfi\n\n# Run database migrations (if needed)\necho \"Running database migrations...\"\ngitlab-rake db:migrate\n\necho \"$(date): GitLab disaster recovery completed\"\necho \"Please verify the installation manually and check all services\"\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-disaster-recovery.sh\n```\n\n### Point-in-Time Recovery\n\n```ruby\n# /etc/gitlab/gitlab.rb - Configure for point-in-time recovery\n\n# Enable WAL archiving for PostgreSQL\npostgresql['archive_mode'] = \"on\"\npostgresql['archive_command'] = 'cp %p /var/opt/gitlab/postgresql/archive/%f'\npostgresql['max_wal_senders'] = 3\npostgresql['wal_keep_segments'] = 32\npostgresql['checkpoint_segments'] = 32\n\n# Configure continuous archiving\npostgresql['archive_timeout'] = '60s'\npostgresql['checkpoint_completion_target'] = 0.9\n\n# Backup retention\ngitlab_rails['backup_keep_time'] = 2592000  # 30 days\ngitlab_rails['backup_archive_permissions'] = 0644\n```\n\n## 13. Troubleshooting\n\n### Common Issues and Solutions\n\n```bash\n# GitLab service diagnostics\nsudo tee /usr/local/bin/gitlab-diagnose.sh \u003c\u003c'EOF'\n#!/bin/bash\necho \"=== GitLab Diagnostic Report ===\"\necho \"Date: $(date)\"\necho \"Hostname: $(hostname)\"\necho \"GitLab Version: $(gitlab-rake gitlab:env:info | grep \"GitLab information\" -A 5)\"\necho\n\necho \"=== Service Status ===\"\nsudo gitlab-ctl status\necho\n\necho \"=== Memory Usage ===\"\nfree -h\necho\n\necho \"=== Disk Usage ===\"\ndf -h | grep -E \"(gitlab|Filesystem)\"\necho\n\necho \"=== GitLab Processes ===\"\nps aux | grep -E \"(gitlab|unicorn|sidekiq|workhorse|gitaly)\" | grep -v grep\necho\n\necho \"=== Database Connectivity ===\"\nif sudo gitlab-psql -c \"SELECT version();\" \u003e/dev/null 2\u003e\u00261; then\n    echo \"✓ PostgreSQL connection OK\"\n    sudo gitlab-psql -c \"SELECT count(*) as active_connections FROM pg_stat_activity;\"\nelse\n    echo \"✗ PostgreSQL connection FAILED\"\nfi\necho\n\necho \"=== Redis Connectivity ===\"\nif redis-cli ping \u003e/dev/null 2\u003e\u00261; then\n    echo \"✓ Redis connection OK\"\n    redis-cli info memory | grep used_memory_human\nelse\n    echo \"✗ Redis connection FAILED\"\nfi\necho\n\necho \"=== Recent Errors ===\"\necho \"Last 10 errors from GitLab logs:\"\nfind /var/log/gitlab -name \"*.log\" -type f -exec grep -l \"ERROR\\|FATAL\" {} \\; | head -5 | while read log; do\n    echo \"--- $log ---\"\n    tail -5 \"$log\" | grep -E \"ERROR|FATAL\" | tail -2\ndone\necho\n\necho \"=== Network Connectivity ===\"\necho \"Testing external connectivity:\"\nif curl -Is https://gitlab.com \u003e/dev/null 2\u003e\u00261; then\n    echo \"✓ External connectivity OK\"\nelse\n    echo \"✗ External connectivity FAILED\"\nfi\n\necho \"Testing internal services:\"\nnetstat -tlnp | grep -E \"(80|443|22|5432|6379)\"\necho\n\necho \"=== SSL Certificate Status ===\"\nif [ -f /etc/gitlab/ssl/gitlab.example.com.crt ]; then\n    echo \"SSL certificate expires:\"\n    openssl x509 -in /etc/gitlab/ssl/gitlab.example.com.crt -noout -dates\nelse\n    echo \"No SSL certificate found\"\nfi\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-diagnose.sh\n```\n\n### Specific Problem Resolution\n\n#### High Memory Usage\n```bash\n# Reduce memory consumption\nsudo tee -a /etc/gitlab/gitlab.rb \u003c\u003cEOF\n# Memory optimization for smaller systems\nunicorn['worker_processes'] = 2\nsidekiq['max_concurrency'] = 10\npostgresql['shared_buffers'] = \"256MB\"\npostgresql['effective_cache_size'] = \"1GB\"\nEOF\n\nsudo gitlab-ctl reconfigure\nsudo gitlab-ctl restart\n```\n\n#### Database Issues\n```bash\n# Database troubleshooting commands\nsudo gitlab-ctl status postgresql\nsudo gitlab-psql -d gitlabhq_production\n\n# Check database connections\nsudo gitlab-psql -c \"SELECT count(*) FROM pg_stat_activity;\"\n\n# Check for locks\nsudo gitlab-psql -c \"SELECT * FROM pg_locks WHERE NOT granted;\"\n\n# Vacuum and analyze database\nsudo gitlab-psql -c \"VACUUM ANALYZE;\"\n\n# Check database size\nsudo gitlab-psql -c \"SELECT pg_database_size('gitlabhq_production');\"\n```\n\n#### Performance Issues\n```bash\n# Check system resources\ntop -p $(pgrep -d',' -f gitlab)\niostat -x 1 5\nfree -h\n\n# Check GitLab worker status\nsudo gitlab-ctl status | grep -E \"(unicorn|sidekiq)\"\n\n# Check background job queue\nsudo gitlab-rails runner \"puts Sidekiq::Queue.new.size\"\n\n# Restart specific services\nsudo gitlab-ctl restart sidekiq\nsudo gitlab-ctl restart unicorn\n```\n\n#### SSL/TLS Issues\n```bash\n# Test SSL configuration\nopenssl s_client -connect gitlab.example.com:443 -servername gitlab.example.com\n\n# Check certificate chain\nopenssl s_client -connect gitlab.example.com:443 -showcerts\n\n# Verify certificate\nopenssl x509 -in /etc/gitlab/ssl/gitlab.example.com.crt -text -noout\n\n# Test cipher suites\nnmap --script ssl-enum-ciphers -p 443 gitlab.example.com\n```\n\n#### Repository Issues\n```bash\n# Check repository integrity\nsudo gitlab-rake gitlab:check:repos\n\n# Recreate authorized_keys file\nsudo gitlab-rake gitlab:shell:setup\n\n# Check GitLab Shell\nsudo gitlab-rake gitlab:gitlab_shell:check\n\n# Fix repository permissions\nsudo gitlab-ctl reconfigure\n```\n\n## 14. Integration Examples\n\n### CI/CD Pipeline Integration\n\n```yaml\n# .gitlab-ci.yml - Comprehensive CI/CD pipeline\nstages:\n  - security\n  - test\n  - build\n  - deploy\n  - monitor\n\nvariables:\n  DOCKER_DRIVER: overlay2\n  DOCKER_TLS_CERTDIR: \"/certs\"\n  SECURE_LOG_LEVEL: info\n\n# Security scanning stage\ninclude:\n  - template: Security/SAST.gitlab-ci.yml\n  - template: Security/Dependency-Scanning.gitlab-ci.yml\n  - template: Security/Container-Scanning.gitlab-ci.yml\n  - template: Security/Secret-Detection.gitlab-ci.yml\n\n# Custom security scans\nsecurity:custom-audit:\n  stage: security\n  image: alpine:latest\n  before_script:\n    - apk add --no-cache curl jq\n  script:\n    - echo \"Running custom security audit...\"\n    - |\n      # Check for hardcoded secrets\n      if grep -r -E \"(password|secret|key|token).*=.*['\\\"][a-zA-Z0-9]{8,}['\\\"]\" .; then\n        echo \"Potential hardcoded secrets found!\"\n        exit 1\n      fi\n    - echo \"Security audit passed\"\n  rules:\n    - if: '$CI_COMMIT_BRANCH'\n\n# Testing stage\ntest:unit:\n  stage: test\n  image: node:18-alpine\n  script:\n    - npm ci\n    - npm run test:unit\n  coverage: '/Coverage: \\d+\\.\\d+%/'\n  artifacts:\n    reports:\n      coverage_report:\n        coverage_format: cobertura\n        path: coverage/cobertura-coverage.xml\n\ntest:integration:\n  stage: test\n  image: docker:latest\n  services:\n    - docker:dind\n  script:\n    - docker-compose -f docker-compose.test.yml up --build --exit-code-from app\n  artifacts:\n    reports:\n      junit: test-results.xml\n\n# Build stage\nbuild:docker:\n  stage: build\n  image: docker:latest\n  services:\n    - docker:dind\n  before_script:\n    - docker login -u $CI_REGISTRY_USER -p $CI_REGISTRY_PASSWORD $CI_REGISTRY\n  script:\n    - docker build -t $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA .\n    - docker tag $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA $CI_REGISTRY_IMAGE:latest\n    - docker push $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA\n    - docker push $CI_REGISTRY_IMAGE:latest\n  rules:\n    - if: '$CI_COMMIT_BRANCH == \"main\"'\n\n# Deployment stages\ndeploy:staging:\n  stage: deploy\n  image: alpine/kubectl:latest\n  script:\n    - kubectl config use-context staging\n    - kubectl set image deployment/app app=$CI_REGISTRY_IMAGE:$CI_COMMIT_SHA\n    - kubectl rollout status deployment/app\n  environment:\n    name: staging\n    url: https://staging.example.com\n  rules:\n    - if: '$CI_COMMIT_BRANCH == \"main\"'\n\ndeploy:production:\n  stage: deploy\n  image: alpine/kubectl:latest\n  script:\n    - kubectl config use-context production\n    - kubectl set image deployment/app app=$CI_REGISTRY_IMAGE:$CI_COMMIT_SHA\n    - kubectl rollout status deployment/app\n  environment:\n    name: production\n    url: https://app.example.com\n  rules:\n    - if: '$CI_COMMIT_BRANCH == \"main\"'\n      when: manual\n\n# Monitoring stage\nmonitor:deployment:\n  stage: monitor\n  image: curlimages/curl:latest\n  script:\n    - sleep 60  # Wait for deployment\n    - |\n      if curl -f https://app.example.com/health; then\n        echo \"Deployment health check passed\"\n      else\n        echo \"Deployment health check failed\"\n        exit 1\n      fi\n  rules:\n    - if: '$CI_COMMIT_BRANCH == \"main\"'\n```\n\n### External Service Integrations\n\n#### Slack Integration\n```bash\n# Configure Slack notifications\ncurl -X POST \"https://gitlab.example.com/api/v4/projects/1/services/slack\" \\\n  --header \"PRIVATE-TOKEN: $GITLAB_TOKEN\" \\\n  --data-urlencode \"webhook=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK\" \\\n  --data-urlencode \"channel=#gitlab\" \\\n  --data-urlencode \"push_events=true\" \\\n  --data-urlencode \"issues_events=true\" \\\n  --data-urlencode \"merge_requests_events=true\" \\\n  --data-urlencode \"pipeline_events=true\"\n```\n\n#### Jira Integration\n```bash\n# Configure Jira integration\ncurl -X PUT \"https://gitlab.example.com/api/v4/projects/1/services/jira\" \\\n  --header \"PRIVATE-TOKEN: $GITLAB_TOKEN\" \\\n  --data-urlencode \"url=https://yourcompany.atlassian.net\" \\\n  --data-urlencode \"username=gitlab@company.com\" \\\n  --data-urlencode \"password=jira_api_token\" \\\n  --data-urlencode \"project_key=PROJ\"\n```\n\n#### Kubernetes Integration\n```ruby\n# /etc/gitlab/gitlab.rb - Kubernetes integration\ngitlab_rails['kubernetes_enabled'] = true\ngitlab_rails['kubernetes_namespace'] = 'gitlab'\n\n# Enable GitLab Agent for Kubernetes\ngitlab_rails['gitlab_kas_enabled'] = true\ngitlab_kas['enable'] = true\ngitlab_kas['listen_address'] = '0.0.0.0:8150'\ngitlab_kas['listen_websocket'] = '0.0.0.0:8151'\n```\n\n## 15. Maintenance\n\n### Regular Maintenance Tasks\n\n```bash\n# Create maintenance script\nsudo tee /usr/local/bin/gitlab-maintenance.sh \u003c\u003c'EOF'\n#!/bin/bash\nMAINTENANCE_LOG=\"/var/log/gitlab-maintenance.log\"\n\necho \"$(date): Starting GitLab maintenance\" \u003e\u003e $MAINTENANCE_LOG\n\n# Update GitLab to latest version\necho \"Checking for GitLab updates...\" \u003e\u003e $MAINTENANCE_LOG\nif command -v apt-get \u003e/dev/null; then\n    apt-get update \u0026\u0026 apt-get upgrade gitlab-ee\nelif command -v yum \u003e/dev/null; then\n    yum update gitlab-ee\nelif command -v dnf \u003e/dev/null; then\n    dnf update gitlab-ee\nfi\n\n# Clean up old log files\necho \"Cleaning up old log files...\" \u003e\u003e $MAINTENANCE_LOG\nfind /var/log/gitlab -name \"*.log.*\" -mtime +30 -delete\n\n# Clean up old backups\necho \"Cleaning up old backups...\" \u003e\u003e $MAINTENANCE_LOG\nfind /var/opt/gitlab/backups -name \"*_gitlab_backup.tar\" -mtime +7 -delete\n\n# Database maintenance\necho \"Performing database maintenance...\" \u003e\u003e $MAINTENANCE_LOG\nsudo gitlab-rake gitlab:cleanup:sessions\nsudo gitlab-rake gitlab:cleanup:project_uploads\nsudo gitlab-psql -c \"VACUUM ANALYZE;\"\n\n# Git repository optimization\necho \"Optimizing Git repositories...\" \u003e\u003e $MAINTENANCE_LOG\nsudo gitlab-rake gitlab:cleanup:repos\n\n# Container registry cleanup\necho \"Cleaning up container registry...\" \u003e\u003e $MAINTENANCE_LOG\nsudo gitlab-ctl registry-garbage-collect\n\n# Check system health\necho \"Checking system health...\" \u003e\u003e $MAINTENANCE_LOG\nsudo gitlab-rake gitlab:check SANITIZE=true \u003e\u003e $MAINTENANCE_LOG\n\necho \"$(date): GitLab maintenance completed\" \u003e\u003e $MAINTENANCE_LOG\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-maintenance.sh\n\n# Schedule monthly maintenance on first Sunday at 3 AM\necho \"0 3 1-7 * 0 root /usr/local/bin/gitlab-maintenance.sh\" | sudo tee -a /etc/crontab\n```\n\n### Update Procedures\n\n```bash\n# Create update script\nsudo tee /usr/local/bin/gitlab-update.sh \u003c\u003c'EOF'\n#!/bin/bash\nCURRENT_VERSION=$(gitlab-rake gitlab:env:info | grep \"GitLab information\" | head -1)\nBACKUP_DIR=\"/backup/pre-update\"\nEMAIL=\"admin@example.com\"\n\necho \"Current GitLab version: $CURRENT_VERSION\"\necho \"Creating pre-update backup...\"\n\n# Create backup before update\nmkdir -p $BACKUP_DIR\ngitlab-backup create BACKUP=$BACKUP_DIR\n\n# Update GitLab\nif command -v apt-get \u003e/dev/null; then\n    apt-get update\n    apt-get install gitlab-ee\nelif command -v dnf \u003e/dev/null; then\n    dnf update gitlab-ee\nfi\n\n# Reconfigure after update\ngitlab-ctl reconfigure\n\n# Check installation\nif gitlab-rake gitlab:check SANITIZE=true; then\n    echo \"GitLab update successful\" | mail -s \"GitLab Update Success\" $EMAIL\nelse\n    echo \"GitLab update completed with warnings\" | mail -s \"GitLab Update Warning\" $EMAIL\nfi\n\nNEW_VERSION=$(gitlab-rake gitlab:env:info | grep \"GitLab information\" | head -1)\necho \"Updated GitLab version: $NEW_VERSION\"\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-update.sh\n```\n\n## 16. Additional Resources\n\n### Documentation Links\n- **Official GitLab Documentation**: https://docs.gitlab.com/\n- **GitLab Administration Guide**: https://docs.gitlab.com/ee/administration/\n- **GitLab Security Documentation**: https://docs.gitlab.com/ee/security/\n- **GitLab CI/CD Documentation**: https://docs.gitlab.com/ee/ci/\n- **GitLab API Documentation**: https://docs.gitlab.com/ee/api/\n- **GitLab Runner Documentation**: https://docs.gitlab.com/runner/\n- **GitLab Container Registry**: https://docs.gitlab.com/ee/user/packages/container_registry/\n- **GitLab Pages Documentation**: https://docs.gitlab.com/ee/user/project/pages/\n- **GitLab Geo Documentation**: https://docs.gitlab.com/ee/administration/geo/\n- **GitLab Kubernetes Integration**: https://docs.gitlab.com/ee/user/clusters/agent/\n\n### Community Resources\n- **GitLab Community Forum**: https://forum.gitlab.com/\n- **GitLab Community Discord**: https://discord.com/invite/gitlab\n- **GitLab Reddit Community**: https://www.reddit.com/r/gitlab/\n- **GitLab Stack Overflow**: https://stackoverflow.com/questions/tagged/gitlab\n\n### Training and Certification\n- **GitLab Learn**: https://about.gitlab.com/learn/\n- **GitLab University**: https://university.gitlab.com/\n- **GitLab Certified Associate**: https://about.gitlab.com/services/education/gitlab-certified-associate/\n- **GitLab Professional Services**: https://about.gitlab.com/services/\n\n### Tools and Utilities\n- **GitLab CLI (glab)**: https://gitlab.com/gitlab-org/cli\n- **GitLab Terraform Provider**: https://registry.terraform.io/providers/gitlabhq/gitlab/\n- **GitLab Ansible Collection**: https://galaxy.ansible.com/gitlab/gitlab\n- **GitLab Helm Chart**: https://docs.gitlab.com/charts/\n- **GitLab Docker Images**: https://hub.docker.com/u/gitlab\n\n### Security Resources\n- **GitLab Security Team**: https://about.gitlab.com/security/\n- **GitLab Bug Bounty Program**: https://about.gitlab.com/security/disclosure/\n- **GitLab Security Advisories**: https://about.gitlab.com/security/advisories/\n- **GitLab Compliance**: https://about.gitlab.com/compliance/\n\n### Performance and Scaling\n- **GitLab Reference Architectures**: https://docs.gitlab.com/ee/administration/reference_architectures/\n- **GitLab Performance Monitoring**: https://docs.gitlab.com/ee/administration/monitoring/performance/\n- **GitLab Scaling and High Availability**: https://docs.gitlab.com/ee/administration/high_availability/\n\n---\n\n**Note:** This guide covers native OS installations of GitLab across multiple platforms with enterprise-grade security, monitoring, and maintenance procedures. For specific enterprise features, consider GitLab Enterprise Edition. This guide is part of the [HowToMgr](https://howtomgr.github.io) collection.\n","readmeHtml":"\u003ch2 id=\"table-of-contents\" class=\"mobile-header\"\u003eTable of Contents\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e1. \u003ca href=\"#prerequisites\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003ePrerequisites\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e2. \u003ca href=\"#supported-operating-systems\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eSupported Operating Systems\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e3. \u003ca href=\"#installation\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eInstallation\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e4. \u003ca href=\"#configuration\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eConfiguration\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e5. \u003ca href=\"#service-management\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eService Management\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e6. \u003ca href=\"#troubleshooting\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eTroubleshooting\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e7. \u003ca href=\"#security-considerations\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eSecurity Considerations\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e8. \u003ca href=\"#performance-tuning\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003ePerformance Tuning\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e9. \u003ca href=\"#backup-and-restore\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eBackup and Restore\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e10. \u003ca href=\"#system-requirements\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eSystem Requirements\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e11. \u003ca href=\"#support\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eSupport\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e12. \u003ca href=\"#contributing\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eContributing\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e13. \u003ca href=\"#license\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eLicense\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e14. \u003ca href=\"#acknowledgments\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eAcknowledgments\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e15. \u003ca href=\"#version-history\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eVersion History\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e16. \u003ca href=\"#appendices\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eAppendices\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"1-introduction\" class=\"mobile-header\"\u003e1. Introduction\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eGitLab is a comprehensive DevOps platform that provides Git repository management, CI/CD pipelines, issue tracking, container registry, and security scanning capabilities. As a Free and Open Source Software (FOSS) solution, GitLab Community Edition offers robust features for teams of all sizes, while GitLab Enterprise Edition provides additional advanced features for enterprise environments.\u003c/p\u003e\n\u003ch3 id=\"foss-context\" class=\"mobile-header\"\u003eFOSS Context\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003eGitLab Community Edition (CE) is released under the MIT License and provides:\u003c/p\u003e\n\u003cli class=\"mobile-list-item\"\u003eCore Git repository management\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eIssue tracking and project management\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eIntegrated CI/CD with GitLab Runner\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eBuilt-in container registry\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eMerge request workflows\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWiki and documentation\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eSecurity scanning (basic)\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003eGitLab Enterprise Edition (EE) extends CE with premium features including advanced security scanning, compliance management, geo-replication, and enterprise authentication integrations.\u003c/p\u003e\n\u003ch3 id=\"key-features\" class=\"mobile-header\"\u003eKey Features\u003c/h3\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eRepository Management\u003c/strong\u003e: Git-based version control with advanced merge request workflows\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eCI/CD Platform\u003c/strong\u003e: Integrated continuous integration and deployment with GitLab Runner\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eContainer Registry\u003c/strong\u003e: Built-in Docker registry with vulnerability scanning\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eSecurity\u003c/strong\u003e: SAST, DAST, dependency scanning, and secret detection\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eProject Management\u003c/strong\u003e: Issue tracking, milestones, and agile planning tools\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eMonitoring\u003c/strong\u003e: Performance monitoring and error tracking\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eAuthentication\u003c/strong\u003e: LDAP, SAML, OAuth, and multi-factor authentication support\u003c/li\u003e\n\u003ch2 id=\"2-prerequisites\" class=\"mobile-header\"\u003e2. Prerequisites\u003c/h2\u003e\n\u003ch3 id=\"10-system-requirements\" class=\"mobile-header\"\u003e10. System Requirements\u003c/h3\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eOperating System\u003c/strong\u003e: Linux (RHEL/CentOS 8+, Ubuntu 20.04+, Debian 10+, SUSE Linux, Arch Linux), macOS 10.15+, Windows 10/11, or FreeBSD 12+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eMemory\u003c/strong\u003e: 8GB RAM minimum, 16GB+ recommended for production, 32GB+ for large installations\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eCPU\u003c/strong\u003e: 4 cores minimum, 8+ recommended for production\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eStorage\u003c/strong\u003e: 50GB+ available disk space, SSD strongly recommended for database and Git repositories\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eNetwork\u003c/strong\u003e: Stable internet connection, open ports 80, 443, and 22 (or custom SSH port)\u003c/li\u003e\n\u003ch3 id=\"required-software-dependencies\" class=\"mobile-header\"\u003eRequired Software Dependencies\u003c/h3\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003ePackage Manager\u003c/strong\u003e: apt (Debian/Ubuntu), yum/dnf (RHEL/CentOS/Fedora), pacman (Arch), zypper (openSUSE), pkg (FreeBSD)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eSystem Tools\u003c/strong\u003e: curl, wget, openssh-server, ca-certificates, tzdata, perl\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eMail Transfer Agent\u003c/strong\u003e: Postfix, Sendmail, or external SMTP service\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eFirewall\u003c/strong\u003e: firewalld, ufw, or iptables for security configuration\u003c/li\u003e\n\u003ch3 id=\"network-requirements\" class=\"mobile-header\"\u003eNetwork Requirements\u003c/h3\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eDomain Name\u003c/strong\u003e: Fully qualified domain name for external access\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eSSL Certificates\u003c/strong\u003e: Valid SSL/TLS certificates for production deployment (Let's Encrypt recommended)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eFirewall Ports\u003c/strong\u003e: \u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e80/tcp (HTTP, redirects to HTTPS)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e443/tcp (HTTPS)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e22/tcp or custom port (SSH/Git)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e2222/tcp (GitLab Shell SSH, if configured)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eSMTP Server\u003c/strong\u003e: For email notifications (password resets, notifications, etc.)\u003c/li\u003e\n\u003ch3 id=\"optional-components\" class=\"mobile-header\"\u003eOptional Components\u003c/h3\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eExternal Database\u003c/strong\u003e: PostgreSQL 12+ for high availability setups\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eExternal Redis\u003c/strong\u003e: Redis 6+ for session storage and caching\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eObject Storage\u003c/strong\u003e: S3-compatible storage for artifacts, uploads, and backups\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eLoad Balancer\u003c/strong\u003e: For multi-node GitLab installations\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eMonitoring\u003c/strong\u003e: Prometheus, Grafana for advanced monitoring\u003c/li\u003e\n\u003ch2 id=\"3-installation\" class=\"mobile-header\"\u003e3. Installation\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eGitLab provides native packages for all major operating systems. The Omnibus package is the recommended installation method as it includes all dependencies and provides automatic updates.\u003c/p\u003e\n\u003ch3 id=\"rhelcentosrocky-linuxalmalinux\" class=\"mobile-header\"\u003eRHEL/CentOS/Rocky Linux/AlmaLinux\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### RHEL/CentOS 8+ / Rocky Linux / AlmaLinux\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Update system packages\nsudo dnf update -y\n\n# Install required dependencies\nsudo dnf install -y curl policycoreutils-python-utils openssh-server perl postfix\n\n# Enable and start required services\nsudo systemctl enable --now sshd postfix\n\n# Configure SELinux policies for GitLab\nsudo setsebool -P httpd_can_network_connect 1\nsudo setsebool -P httpd_can_network_relay 1\nsudo setsebool -P httpd_read_user_content 1\nsudo setsebool -P httpd_enable_homedirs 1\n\n# Configure firewall rules\nsudo firewall-cmd --permanent --add-service=http\nsudo firewall-cmd --permanent --add-service=https\nsudo firewall-cmd --permanent --add-service=ssh\nsudo firewall-cmd --permanent --add-port=2222/tcp\nsudo firewall-cmd --reload\n\n# Add GitLab official repository\ncurl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash\n\n# Install GitLab Enterprise Edition\nsudo EXTERNAL_URL=\u0026quot;https://gitlab.example.com\u0026quot; dnf install -y gitlab-ee\n\n# For Community Edition instead:\n# sudo EXTERNAL_URL=\u0026quot;https://gitlab.example.com\u0026quot; dnf install -y gitlab-ce\n\n# Initial configuration and start services\nsudo gitlab-ctl reconfigure\n\n# Check installation status\nsudo gitlab-ctl status\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### RHEL/CentOS 7 (Legacy)\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install dependencies\nsudo yum install -y curl policycoreutils-python openssh-server perl postfix\n\n# Configure services\nsudo systemctl enable --now sshd postfix\nsudo lokkit -s http -s https -s ssh\n\n# Add repository and install\ncurl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash\nsudo EXTERNAL_URL=\u0026quot;https://gitlab.example.com\u0026quot; yum install -y gitlab-ee\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"debianubuntu\" class=\"mobile-header\"\u003eDebian/Ubuntu\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Ubuntu 20.04+ / Debian 10+\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Update package repositories\nsudo apt-get update\n\n# Install required dependencies\nsudo apt-get install -y curl openssh-server ca-certificates tzdata perl postfix gpg\n\n# Configure Postfix for email (choose \u0026#039;Internet Site\u0026#039; for basic setup)\nsudo dpkg-reconfigure postfix\n\n# Configure UFW firewall (if enabled)\nsudo ufw allow ssh\nsudo ufw allow http\nsudo ufw allow https\nsudo ufw allow 2222/tcp\n\n# Add GitLab official repository\ncurl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.deb.sh | sudo bash\n\n# Install GitLab Enterprise Edition\nsudo EXTERNAL_URL=\u0026quot;https://gitlab.example.com\u0026quot; apt-get install -y gitlab-ee\n\n# For Community Edition instead:\n# sudo EXTERNAL_URL=\u0026quot;https://gitlab.example.com\u0026quot; apt-get install -y gitlab-ce\n\n# Initial configuration and start services\nsudo gitlab-ctl reconfigure\n\n# Verify installation\nsudo gitlab-ctl status\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"arch-linux\" class=\"mobile-header\"\u003eArch Linux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Update system packages\nsudo pacman -Syu\n\n# Install required dependencies\nsudo pacman -S curl openssh postfix\n\n# Enable and start services\nsudo systemctl enable --now sshd postfix\n\n# Install GitLab from AUR (using yay helper)\nyay -S gitlab-ee\n\n# Or install GitLab Community Edition\n# yay -S gitlab\n\n# Configure GitLab\nsudo vim /etc/gitlab/gitlab.rb\n# Set: external_url \u0026#039;https://gitlab.example.com\u0026#039;\n\n# Initial configuration\nsudo gitlab-ctl reconfigure\n\n# Enable GitLab service\nsudo systemctl enable gitlab-runsvdir\nsudo systemctl start gitlab-runsvdir\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"alpine-linux\" class=\"mobile-header\"\u003eAlpine Linux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Update package index\nsudo apk update\n\n# Install required packages\nsudo apk add curl openssh postfix\n\n# Enable services\nsudo rc-update add sshd default\nsudo rc-update add postfix default\nsudo rc-service sshd start\nsudo rc-service postfix start\n\n# Add GitLab repository key\nwget -O /etc/apk/keys/gitlab.rsa.pub https://packages.gitlab.com/gitlab/gitlab-ee/gpgkey/gitlab-gitlab-ee-3D645A26AB9FBD22.rsa.pub\n\n# Add GitLab repository\necho \u0026quot;https://packages.gitlab.com/gitlab/gitlab-ee/alpine/v$(cat /etc/alpine-release | cut -d\u0026#039;.\u0026#039; -f1-2)/main\u0026quot; \u0026gt;\u0026gt; /etc/apk/repositories\n\n# Update and install GitLab\nsudo apk update\nsudo apk add gitlab-ee\n\n# Configure external URL\necho \u0026quot;external_url \u0026#039;https://gitlab.example.com\u0026#039;\u0026quot; \u0026gt;\u0026gt; /etc/gitlab/gitlab.rb\n\n# Reconfigure and start\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"opensusesles\" class=\"mobile-header\"\u003eopenSUSE/SLES\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install dependencies (openSUSE)\nsudo zypper install -y curl openssh postfix\n\n# For SLES\n# sudo zypper install -y curl openssh2 postfix\n\n# Enable services\nsudo systemctl enable --now sshd postfix\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-service=http\nsudo firewall-cmd --permanent --add-service=https\nsudo firewall-cmd --permanent --add-service=ssh\nsudo firewall-cmd --reload\n\n# Add GitLab repository\ncurl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash\n\n# Install GitLab\nsudo EXTERNAL_URL=\u0026quot;https://gitlab.example.com\u0026quot; zypper install -y gitlab-ee\n\n# Configure and start\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"macos\" class=\"mobile-header\"\u003emacOS\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Homebrew if not already installed\n/bin/bash -c \u0026quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\u0026quot;\n\n# Install required dependencies\nbrew install curl git postfix\n\n# Start postfix service\nsudo launchctl load -w /System/Library/LaunchDaemons/com.apple.postfix.master.plist\n\n# Install GitLab using official installer\ncurl -LO https://packages.gitlab.com/gitlab/gitlab-ee/packages/el/8/gitlab-ee-latest.x86_64.rpm\n\n# Note: GitLab doesn\u0026#039;t provide native macOS packages\n# Recommended to use Docker for macOS installations:\n\n# Create GitLab directories\nsudo mkdir -p /srv/gitlab/{config,logs,data}\n\n# Set environment variables\nexport GITLAB_HOME=/srv/gitlab\n\n# Run GitLab container\ndocker run --detach \\\n  --hostname gitlab.example.com \\\n  --publish 443:443 --publish 80:80 --publish 2222:22 \\\n  --name gitlab \\\n  --restart unless-stopped \\\n  --volume $GITLAB_HOME/config:/etc/gitlab \\\n  --volume $GITLAB_HOME/logs:/var/log/gitlab \\\n  --volume $GITLAB_HOME/data:/var/opt/gitlab \\\n  --shm-size 256m \\\n  --env GITLAB_OMNIBUS_CONFIG=\u0026quot;external_url \u0026#039;https://gitlab.example.com\u0026#039;\u0026quot; \\\n  gitlab/gitlab-ee:latest\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"freebsd\" class=\"mobile-header\"\u003eFreeBSD\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Update ports tree\nsudo portsnap fetch extract\n\n# Install required ports\nsudo pkg install curl openssh-portable postfix git\n\n# Enable services\nsudo sysrc sshd_enable=\u0026quot;YES\u0026quot;\nsudo sysrc postfix_enable=\u0026quot;YES\u0026quot;\nsudo service sshd start\nsudo service postfix start\n\n# Configure firewall (if pf is enabled)\necho \u0026#039;pass in on $ext_if proto tcp from any to any port {22, 80, 443, 2222}\u0026#039; \u0026gt;\u0026gt; /etc/pf.conf\nsudo pfctl -f /etc/pf.conf\n\n# GitLab doesn\u0026#039;t provide official FreeBSD packages\n# Install using source compilation or Docker:\n\n# Docker method (install Docker first)\nsudo pkg install docker\nsudo sysrc docker_enable=\u0026quot;YES\u0026quot;\nsudo service docker start\n\n# Run GitLab container\nsudo docker run --detach \\\n  --hostname gitlab.example.com \\\n  --publish 443:443 --publish 80:80 --publish 2222:22 \\\n  --name gitlab \\\n  --restart unless-stopped \\\n  --volume /usr/local/gitlab/config:/etc/gitlab \\\n  --volume /usr/local/gitlab/logs:/var/log/gitlab \\\n  --volume /usr/local/gitlab/data:/var/opt/gitlab \\\n  --shm-size 256m \\\n  gitlab/gitlab-ee:latest\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"windows\" class=\"mobile-header\"\u003eWindows\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003eGitLab does not provide native Windows packages. Use Docker Desktop or WSL2 with Linux installation.\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Windows with Docker Desktop\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"powershell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epowershell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-powershell\"\u003e# Install Docker Desktop from https://www.docker.com/products/docker-desktop\n\n# Create GitLab directories\nmkdir C:\\gitlab\\config\nmkdir C:\\gitlab\\logs\nmkdir C:\\gitlab\\data\n\n# Run GitLab container\ndocker run --detach `\n  --hostname gitlab.example.com `\n  --publish 443:443 --publish 80:80 --publish 2222:22 `\n  --name gitlab `\n  --restart unless-stopped `\n  --volume C:\\gitlab\\config:/etc/gitlab `\n  --volume C:\\gitlab\\logs:/var/log/gitlab `\n  --volume C:\\gitlab\\data:/var/opt/gitlab `\n  --shm-size 256m `\n  --env GITLAB_OMNIBUS_CONFIG=\u0026quot;external_url \u0026#039;https://gitlab.example.com\u0026#039;\u0026quot; `\n  gitlab/gitlab-ee:latest\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Windows with WSL2\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable WSL2 and install Ubuntu\nwsl --install -d Ubuntu\n\n# Switch to WSL2 Ubuntu environment\nwsl\n\n# Follow Ubuntu installation instructions above\nsudo apt-get update\nsudo apt-get install -y curl openssh-server ca-certificates tzdata perl postfix gpg\ncurl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.deb.sh | sudo bash\nsudo EXTERNAL_URL=\u0026quot;https://gitlab.example.com\u0026quot; apt-get install -y gitlab-ee\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"4-initial-configuration\" class=\"mobile-header\"\u003e4. Initial Configuration\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eAfter installation, GitLab requires initial configuration to set up the root password and basic settings.\u003c/p\u003e\n\u003ch3 id=\"first-time-setup\" class=\"mobile-header\"\u003eFirst-time Setup\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e1. \u003cstrong\u003eAccess GitLab Web Interface\u003c/strong\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e   ```bash\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e   # Wait for GitLab to fully start (may take 2-3 minutes)\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e   sudo gitlab-ctl status\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e   # Check GitLab is responding\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e   curl -I http://localhost\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e   ```\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e2. \u003cstrong\u003eRetrieve Initial Root Password\u003c/strong\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e   ```bash\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e   # Get the initial root password\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e   sudo cat /etc/gitlab/initial_root_password\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e   ```\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e3. \u003cstrong\u003eWeb Interface Setup\u003c/strong\u003e\u003c/p\u003e\n\u003cli class=\"mobile-list-item\"\u003eNavigate to \u003ccode class=\"mobile-inline-code\"\u003ehttps://your-domain.com\u003c/code\u003e or \u003ccode class=\"mobile-inline-code\"\u003ehttp://your-server-ip\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eLogin with username: \u003ccode class=\"mobile-inline-code\"\u003eroot\u003c/code\u003e and the password from step 2\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eSet a new secure root password immediately\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eComplete the initial setup wizard\u003c/li\u003e\n\u003ch3 id=\"basic-configuration-file-setup\" class=\"mobile-header\"\u003eBasic Configuration File Setup\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003eEdit the main configuration file:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003esudo vim /etc/gitlab/gitlab.rb\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003eEssential initial settings:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ruby\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eruby\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# External URL (replace with your domain)\nexternal_url \u0026#039;https://gitlab.example.com\u0026#039;\n\n# Email configuration\ngitlab_rails[\u0026#039;gitlab_email_enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;gitlab_email_from\u0026#039;] = \u0026#039;gitlab@example.com\u0026#039;\ngitlab_rails[\u0026#039;gitlab_email_display_name\u0026#039;] = \u0026#039;GitLab\u0026#039;\n\n# SMTP configuration (example with Gmail)\ngitlab_rails[\u0026#039;smtp_enable\u0026#039;] = true\ngitlab_rails[\u0026#039;smtp_address\u0026#039;] = \u0026quot;smtp.gmail.com\u0026quot;\ngitlab_rails[\u0026#039;smtp_port\u0026#039;] = 587\ngitlab_rails[\u0026#039;smtp_user_name\u0026#039;] = \u0026quot;gitlab@example.com\u0026quot;\ngitlab_rails[\u0026#039;smtp_password\u0026#039;] = \u0026quot;app_password\u0026quot;\ngitlab_rails[\u0026#039;smtp_domain\u0026#039;] = \u0026quot;gmail.com\u0026quot;\ngitlab_rails[\u0026#039;smtp_authentication\u0026#039;] = \u0026quot;login\u0026quot;\ngitlab_rails[\u0026#039;smtp_enable_starttls_auto\u0026#039;] = true\ngitlab_rails[\u0026#039;smtp_tls\u0026#039;] = false\n\n# Time zone\ngitlab_rails[\u0026#039;time_zone\u0026#039;] = \u0026#039;UTC\u0026#039;\n\n# GitLab Shell SSH port (if different from 22)\ngitlab_rails[\u0026#039;gitlab_shell_ssh_port\u0026#039;] = 2222\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003eApply configuration changes:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003esudo gitlab-ctl reconfigure\nsudo gitlab-ctl restart\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"ssltls-configuration\" class=\"mobile-header\"\u003eSSL/TLS Configuration\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Let's Encrypt (Recommended)\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable Let\u0026#039;s Encrypt in gitlab.rb\nsudo vim /etc/gitlab/gitlab.rb\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003eAdd these settings:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ruby\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eruby\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# Enable Let\u0026#039;s Encrypt\nletsencrypt[\u0026#039;enable\u0026#039;] = true\nletsencrypt[\u0026#039;contact_emails\u0026#039;] = [\u0026#039;admin@example.com\u0026#039;]\nletsencrypt[\u0026#039;auto_renew\u0026#039;] = true\n\n# Force HTTPS\nnginx[\u0026#039;redirect_http_to_https\u0026#039;] = true\nnginx[\u0026#039;ssl_protocols\u0026#039;] = \u0026quot;TLSv1.2 TLSv1.3\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003eReconfigure to activate SSL:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003esudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Manual SSL Certificate\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create SSL directory\nsudo mkdir -p /etc/gitlab/ssl\n\n# Copy your certificates (replace with your actual cert files)\nsudo cp your-certificate.crt /etc/gitlab/ssl/gitlab.example.com.crt\nsudo cp your-private-key.key /etc/gitlab/ssl/gitlab.example.com.key\n\n# Set proper permissions\nsudo chmod 600 /etc/gitlab/ssl/gitlab.example.com.key\nsudo chmod 644 /etc/gitlab/ssl/gitlab.example.com.crt\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003eConfigure in gitlab.rb:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ruby\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eruby\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ruby\"\u003eexternal_url \u0026#039;https://gitlab.example.com\u0026#039;\nnginx[\u0026#039;ssl_certificate\u0026#039;] = \u0026quot;/etc/gitlab/ssl/gitlab.example.com.crt\u0026quot;\nnginx[\u0026#039;ssl_certificate_key\u0026#039;] = \u0026quot;/etc/gitlab/ssl/gitlab.example.com.key\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"5-service-management\" class=\"mobile-header\"\u003e5. Service Management\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eGitLab uses the \u003ccode class=\"mobile-inline-code\"\u003egitlab-ctl\u003c/code\u003e command for service management across all platforms.\u003c/p\u003e\n\u003ch3 id=\"service-control-commands\" class=\"mobile-header\"\u003eService Control Commands\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check status of all services\nsudo gitlab-ctl status\n\n# Start all GitLab services\nsudo gitlab-ctl start\n\n# Stop all GitLab services  \nsudo gitlab-ctl stop\n\n# Restart all GitLab services\nsudo gitlab-ctl restart\n\n# Restart specific service\nsudo gitlab-ctl restart nginx\nsudo gitlab-ctl restart unicorn\nsudo gitlab-ctl restart sidekiq\n\n# Reload configuration without restart\nsudo gitlab-ctl reconfigure\n\n# Show service logs\nsudo gitlab-ctl tail\nsudo gitlab-ctl tail nginx\nsudo gitlab-ctl tail unicorn\nsudo gitlab-ctl tail postgresql\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"service-status-monitoring\" class=\"mobile-header\"\u003eService Status Monitoring\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Detailed service status\nsudo gitlab-ctl service-list\n\n# Check specific service\nsudo gitlab-ctl status nginx\nsudo gitlab-ctl status postgresql\nsudo gitlab-ctl status redis\n\n# Monitor service logs in real-time\nsudo gitlab-ctl tail -f gitlab-workhorse\nsudo gitlab-ctl tail -f sidekiq\n\n# Check GitLab application status\nsudo gitlab-rake gitlab:check\n\n# Environment information\nsudo gitlab-rake gitlab:env:info\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"systemd-integration\" class=\"mobile-header\"\u003eSystemd Integration\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003eOn systems with systemd, GitLab services are managed through systemd:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable GitLab to start at boot\nsudo systemctl enable gitlab-runsvdir.service\n\n# Start GitLab services\nsudo systemctl start gitlab-runsvdir.service\n\n# Check systemd status\nsudo systemctl status gitlab-runsvdir.service\n\n# Stop GitLab services\nsudo systemctl stop gitlab-runsvdir.service\n\n# Check GitLab logs through journald\nsudo journalctl -u gitlab-runsvdir.service -f\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"service-configuration\" class=\"mobile-header\"\u003eService Configuration\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003eIndividual service configuration in \u003ccode class=\"mobile-inline-code\"\u003e/etc/gitlab/gitlab.rb\u003c/code\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ruby\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eruby\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# Unicorn (web server) settings\nunicorn[\u0026#039;worker_processes\u0026#039;] = 4\nunicorn[\u0026#039;worker_memory_limit_min\u0026#039;] = \u0026quot;400m\u0026quot;\nunicorn[\u0026#039;worker_memory_limit_max\u0026#039;] = \u0026quot;650m\u0026quot;\n\n# Sidekiq (background jobs) settings  \nsidekiq[\u0026#039;max_concurrency\u0026#039;] = 25\nsidekiq[\u0026#039;log_format\u0026#039;] = \u0026#039;json\u0026#039;\n\n# GitLab Workhorse settings\ngitlab_workhorse[\u0026#039;listen_network\u0026#039;] = \u0026quot;tcp\u0026quot;\ngitlab_workhorse[\u0026#039;listen_addr\u0026#039;] = \u0026quot;127.0.0.1:8181\u0026quot;\n\n# NGINX settings\nnginx[\u0026#039;listen_port\u0026#039;] = 80\nnginx[\u0026#039;listen_https\u0026#039;] = false  # Use with reverse proxy\nnginx[\u0026#039;client_max_body_size\u0026#039;] = \u0026#039;250m\u0026#039;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"6-advanced-configuration\" class=\"mobile-header\"\u003e6. Advanced Configuration\u003c/h2\u003e\n\u003ch3 id=\"performance-optimization\" class=\"mobile-header\"\u003ePerformance Optimization\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003eConfigure GitLab for optimal performance based on your hardware resources:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ruby\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eruby\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# /etc/gitlab/gitlab.rb - Performance settings\n\n# Unicorn web server optimization\nunicorn[\u0026#039;worker_processes\u0026#039;] = 8  # Number of CPU cores\nunicorn[\u0026#039;worker_memory_limit_min\u0026#039;] = \u0026quot;400m\u0026quot;\nunicorn[\u0026#039;worker_memory_limit_max\u0026#039;] = \u0026quot;650m\u0026quot;\nunicorn[\u0026#039;worker_timeout\u0026#039;] = 60\n\n# Sidekiq background job optimization\nsidekiq[\u0026#039;max_concurrency\u0026#039;] = 25\nsidekiq[\u0026#039;min_concurrency\u0026#039;] = 10\nsidekiq[\u0026#039;log_format\u0026#039;] = \u0026#039;json\u0026#039;\n\n# PostgreSQL optimization\npostgresql[\u0026#039;shared_buffers\u0026#039;] = \u0026quot;2GB\u0026quot;\npostgresql[\u0026#039;effective_cache_size\u0026#039;] = \u0026quot;8GB\u0026quot;\npostgresql[\u0026#039;work_mem\u0026#039;] = \u0026quot;16MB\u0026quot;\npostgresql[\u0026#039;maintenance_work_mem\u0026#039;] = \u0026quot;256MB\u0026quot;\npostgresql[\u0026#039;max_connections\u0026#039;] = 300\npostgresql[\u0026#039;checkpoint_completion_target\u0026#039;] = 0.9\npostgresql[\u0026#039;wal_buffers\u0026#039;] = \u0026quot;16MB\u0026quot;\npostgresql[\u0026#039;random_page_cost\u0026#039;] = 1.1\n\n# Redis optimization\nredis[\u0026#039;maxmemory\u0026#039;] = \u0026quot;1gb\u0026quot;\nredis[\u0026#039;maxmemory_policy\u0026#039;] = \u0026quot;allkeys-lru\u0026quot;\nredis[\u0026#039;tcp_keepalive\u0026#039;] = 300\nredis[\u0026#039;tcp_timeout\u0026#039;] = 60\n\n# Gitaly optimization (Git RPC service)\ngitaly[\u0026#039;ruby_max_rss\u0026#039;] = 300000000  # 300MB\ngitaly[\u0026#039;concurrency\u0026#039;] = [\n  {\n    \u0026#039;rpc\u0026#039; =\u0026gt; \u0026quot;/gitaly.SmartHTTPService/PostReceivePack\u0026quot;,\n    \u0026#039;max_per_repo\u0026#039; =\u0026gt; 3\n  },\n  {\n    \u0026#039;rpc\u0026#039; =\u0026gt; \u0026quot;/gitaly.SSHService/SSHUploadPack\u0026quot;,\n    \u0026#039;max_per_repo\u0026#039; =\u0026gt; 3\n  }\n]\n\n# File system optimization\ngit_data_dirs({\n  \u0026quot;default\u0026quot; =\u0026gt; {\n    \u0026quot;path\u0026quot; =\u0026gt; \u0026quot;/var/opt/gitlab/git-data\u0026quot;\n  }\n})\n\n# Logging optimization\nlogging[\u0026#039;svlogd_size\u0026#039;] = 200 * 1024 * 1024  # 200MB\nlogging[\u0026#039;svlogd_num\u0026#039;] = 30\nlogging[\u0026#039;logrotate_frequency\u0026#039;] = \u0026quot;daily\u0026quot;\nlogging[\u0026#039;logrotate_rotate\u0026#039;] = 30\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"enterprise-features-configuration\" class=\"mobile-header\"\u003eEnterprise Features Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ruby\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eruby\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# LDAP/Active Directory integration\ngitlab_rails[\u0026#039;ldap_enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;ldap_servers\u0026#039;] = {\n  \u0026#039;main\u0026#039; =\u0026gt; {\n    \u0026#039;label\u0026#039; =\u0026gt; \u0026#039;LDAP\u0026#039;,\n    \u0026#039;host\u0026#039; =\u0026gt; \u0026#039;ldap.example.com\u0026#039;,\n    \u0026#039;port\u0026#039; =\u0026gt; 636,\n    \u0026#039;uid\u0026#039; =\u0026gt; \u0026#039;sAMAccountName\u0026#039;,\n    \u0026#039;bind_dn\u0026#039; =\u0026gt; \u0026#039;CN=gitlab,OU=Service Accounts,DC=example,DC=com\u0026#039;,\n    \u0026#039;password\u0026#039; =\u0026gt; \u0026#039;ldap_service_password\u0026#039;,\n    \u0026#039;encryption\u0026#039; =\u0026gt; \u0026#039;ssl\u0026#039;,\n    \u0026#039;verify_certificates\u0026#039; =\u0026gt; true,\n    \u0026#039;base\u0026#039; =\u0026gt; \u0026#039;DC=example,DC=com\u0026#039;,\n    \u0026#039;user_filter\u0026#039; =\u0026gt; \u0026#039;\u0026#039;,\n    \u0026#039;attributes\u0026#039; =\u0026gt; {\n      \u0026#039;username\u0026#039; =\u0026gt; [\u0026#039;uid\u0026#039;, \u0026#039;userid\u0026#039;, \u0026#039;sAMAccountName\u0026#039;],\n      \u0026#039;email\u0026#039; =\u0026gt; [\u0026#039;mail\u0026#039;, \u0026#039;email\u0026#039;, \u0026#039;userPrincipalName\u0026#039;],\n      \u0026#039;name\u0026#039; =\u0026gt; \u0026#039;cn\u0026#039;,\n      \u0026#039;first_name\u0026#039; =\u0026gt; \u0026#039;givenName\u0026#039;,\n      \u0026#039;last_name\u0026#039; =\u0026gt; \u0026#039;sn\u0026#039;\n    },\n    \u0026#039;group_base\u0026#039; =\u0026gt; \u0026#039;OU=Groups,DC=example,DC=com\u0026#039;,\n    \u0026#039;admin_group\u0026#039; =\u0026gt; \u0026#039;GitLab Administrators\u0026#039;\n  }\n}\n\n# SAML SSO configuration\ngitlab_rails[\u0026#039;omniauth_enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;omniauth_allow_single_sign_on\u0026#039;] = [\u0026#039;saml\u0026#039;]\ngitlab_rails[\u0026#039;omniauth_block_auto_created_users\u0026#039;] = false\ngitlab_rails[\u0026#039;omniauth_auto_link_saml_user\u0026#039;] = true\ngitlab_rails[\u0026#039;omniauth_providers\u0026#039;] = [\n  {\n    name: \u0026#039;saml\u0026#039;,\n    args: {\n      assertion_consumer_service_url: \u0026#039;https://gitlab.example.com/users/auth/saml/callback\u0026#039;,\n      idp_cert_fingerprint: \u0026#039;SAML_IDP_CERT_FINGERPRINT\u0026#039;,\n      idp_sso_target_url: \u0026#039;https://idp.example.com/sso/saml\u0026#039;,\n      issuer: \u0026#039;https://gitlab.example.com\u0026#039;,\n      name_identifier_format: \u0026#039;urn:oasis:names:tc:SAML:2.0:nameid-format:emailAddress\u0026#039;\n    },\n    label: \u0026#039;Company SSO\u0026#039;\n  }\n]\n\n# Geo replication (Enterprise Premium)\ngitlab_rails[\u0026#039;geo_primary_role\u0026#039;] = true\ngitlab_rails[\u0026#039;geo_node_name\u0026#039;] = \u0026#039;primary-site\u0026#039;\ngitlab_rails[\u0026#039;geo_registry_replication_enabled\u0026#039;] = true\n\n# Advanced security features\ngitlab_rails[\u0026#039;security_auto_fix_enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;dependency_proxy_enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;packages_enabled\u0026#039;] = true\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"container-registry-configuration\" class=\"mobile-header\"\u003eContainer Registry Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ruby\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eruby\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# Container Registry setup\nregistry_external_url \u0026#039;https://registry.example.com\u0026#039;\ngitlab_rails[\u0026#039;registry_enabled\u0026#039;] = true\nregistry[\u0026#039;enable\u0026#039;] = true\nregistry[\u0026#039;username\u0026#039;] = \u0026quot;registry\u0026quot;\nregistry[\u0026#039;group\u0026#039;] = \u0026quot;registry\u0026quot;\nregistry[\u0026#039;dir\u0026#039;] = \u0026quot;/var/opt/gitlab/registry\u0026quot;\n\n# Registry storage configuration (S3)\nregistry[\u0026#039;storage\u0026#039;] = {\n  \u0026#039;s3\u0026#039; =\u0026gt; {\n    \u0026#039;accesskey\u0026#039; =\u0026gt; \u0026#039;registry_s3_access_key\u0026#039;,\n    \u0026#039;secretkey\u0026#039; =\u0026gt; \u0026#039;registry_s3_secret_key\u0026#039;,\n    \u0026#039;bucket\u0026#039; =\u0026gt; \u0026#039;gitlab-registry\u0026#039;,\n    \u0026#039;region\u0026#039; =\u0026gt; \u0026#039;us-west-2\u0026#039;,\n    \u0026#039;encrypt\u0026#039; =\u0026gt; true\n  }\n}\n\n# Registry security\nregistry[\u0026#039;auth_token_realm\u0026#039;] = \u0026quot;https://gitlab.example.com/jwt/auth\u0026quot;\nregistry[\u0026#039;auth_token_service\u0026#039;] = \u0026quot;container_registry\u0026quot;\nregistry[\u0026#039;auth_token_issuer\u0026#039;] = \u0026quot;gitlab-issuer\u0026quot;\n\n# Registry health checks\nregistry[\u0026#039;health_storagedriver_enabled\u0026#039;] = true\nregistry[\u0026#039;health_storagedriver_interval\u0026#039;] = \u0026#039;10s\u0026#039;\nregistry[\u0026#039;health_storagedriver_threshold\u0026#039;] = 3\n\n# Container scanning and cleanup\ngitlab_rails[\u0026#039;container_registry_cleanup_enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;container_registry_expiration_policy_enabled\u0026#039;] = true\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"gitlab-pages-configuration\" class=\"mobile-header\"\u003eGitLab Pages Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ruby\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eruby\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# GitLab Pages setup\npages_external_url \u0026quot;https://pages.example.com\u0026quot;\ngitlab_pages[\u0026#039;enable\u0026#039;] = true\ngitlab_pages[\u0026#039;access_control\u0026#039;] = true\ngitlab_pages[\u0026#039;artifacts_server\u0026#039;] = true\ngitlab_pages[\u0026#039;external_http\u0026#039;] = [\u0026#039;0.0.0.0:8090\u0026#039;]\ngitlab_pages[\u0026#039;external_https\u0026#039;] = [\u0026#039;0.0.0.0:8091\u0026#039;]\n\n# Pages SSL configuration\ngitlab_pages[\u0026#039;cert_file\u0026#039;] = \u0026quot;/etc/gitlab/ssl/pages.crt\u0026quot;\ngitlab_pages[\u0026#039;key_file\u0026#039;] = \u0026quot;/etc/gitlab/ssl/pages.key\u0026quot;\n\n# Pages storage\ngitlab_pages[\u0026#039;dir\u0026#039;] = \u0026quot;/var/opt/gitlab/gitlab-pages\u0026quot;\ngitlab_pages[\u0026#039;log_directory\u0026#039;] = \u0026quot;/var/log/gitlab/gitlab-pages\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"7-reverse-proxy-setup\" class=\"mobile-header\"\u003e7. Reverse Proxy Setup\u003c/h2\u003e\n\u003ch3 id=\"nginx-reverse-proxy\" class=\"mobile-header\"\u003eNGINX Reverse Proxy\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003eConfigure NGINX as a reverse proxy for GitLab:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install NGINX\n# Ubuntu/Debian\nsudo apt-get install nginx\n\n# RHEL/CentOS\nsudo dnf install nginx\n\n# Configure NGINX for GitLab\nsudo tee /etc/nginx/sites-available/gitlab \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\nupstream gitlab-workhorse {\n  server unix:/var/opt/gitlab/gitlab-workhorse/socket fail_timeout=0;\n}\n\nserver {\n  listen 80;\n  server_name gitlab.example.com;\n  server_tokens off;\n  return 301 https://\\$server_name\\$request_uri;\n}\n\nserver {\n  listen 443 ssl http2;\n  server_name gitlab.example.com;\n  server_tokens off;\n\n  # SSL configuration\n  ssl_certificate /etc/nginx/ssl/gitlab.crt;\n  ssl_certificate_key /etc/nginx/ssl/gitlab.key;\n  ssl_protocols TLSv1.2 TLSv1.3;\n  ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384;\n  ssl_prefer_server_ciphers off;\n  ssl_session_cache shared:SSL:10m;\n  ssl_session_tickets off;\n\n  # Security headers\n  add_header Strict-Transport-Security \u0026quot;max-age=31536000; includeSubDomains\u0026quot; always;\n  add_header X-Content-Type-Options nosniff;\n  add_header X-Frame-Options DENY;\n  add_header X-XSS-Protection \u0026quot;1; mode=block\u0026quot;;\n  add_header Referrer-Policy strict-origin-when-cross-origin;\n\n  # GitLab needs backwards compatible ciphers to retain compatibility with Java IDEs\n  ssl_ciphers \u0026quot;ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA256\u0026quot;;\n\n  client_max_body_size 250m;\n  \n  location / {\n    proxy_cache off;\n    proxy_pass http://gitlab-workhorse;\n    proxy_pass_header Server;\n    proxy_set_header Host \\$host;\n    proxy_set_header X-Real-IP \\$remote_addr;\n    proxy_set_header X-Forwarded-For \\$proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto \\$scheme;\n    proxy_set_header X-Forwarded-Ssl on;\n    \n    proxy_read_timeout 300s;\n    proxy_connect_timeout 300s;\n    proxy_redirect off;\n  }\n  \n  # Container Registry\n  location /v2/ {\n    proxy_cache off;\n    proxy_pass http://localhost:5000;\n    proxy_pass_header Server;\n    proxy_set_header Host \\$host;\n    proxy_set_header X-Real-IP \\$remote_addr;\n    proxy_set_header X-Forwarded-For \\$proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto \\$scheme;\n    proxy_set_header X-Forwarded-Ssl on;\n    \n    proxy_read_timeout 900;\n  }\n}\nEOF\n\n# Enable site and restart NGINX\nsudo ln -sf /etc/nginx/sites-available/gitlab /etc/nginx/sites-enabled/\nsudo nginx -t\nsudo systemctl restart nginx\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"apache-http-server-httpd\" class=\"mobile-header\"\u003eApache HTTP Server (httpd)\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003eConfigure Apache as reverse proxy:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Apache\n# RHEL/CentOS\nsudo dnf install httpd mod_ssl\n\n# Enable modules\nsudo systemctl enable httpd\n\n# Configure Apache for GitLab\nsudo tee /etc/httpd/conf.d/gitlab.conf \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n\u0026lt;VirtualHost *:80\u0026gt;\n  ServerName gitlab.example.com\n  Redirect permanent / https://gitlab.example.com/\n\u0026lt;/VirtualHost\u0026gt;\n\n\u0026lt;VirtualHost *:443\u0026gt;\n  ServerName gitlab.example.com\n  \n  # SSL Configuration\n  SSLEngine on\n  SSLCertificateFile /etc/httpd/ssl/gitlab.crt\n  SSLCertificateKeyFile /etc/httpd/ssl/gitlab.key\n  SSLProtocol -all +TLSv1.2 +TLSv1.3\n  SSLCipherSuite ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384\n  SSLHonorCipherOrder off\n  \n  # Security headers\n  Header always set Strict-Transport-Security \u0026quot;max-age=31536000; includeSubDomains\u0026quot;\n  Header always set X-Content-Type-Options nosniff\n  Header always set X-Frame-Options DENY\n  Header always set X-XSS-Protection \u0026quot;1; mode=block\u0026quot;\n  \n  # Proxy configuration\n  ProxyPreserveHost On\n  ProxyPass /v2/ http://localhost:5000/v2/\n  ProxyPassReverse /v2/ http://localhost:5000/v2/\n  ProxyPass / http://localhost:8080/\n  ProxyPassReverse / http://localhost:8080/\n  \n  # Set headers\n  ProxyPassReverse / http://localhost:8080/\n  RequestHeader set X-Forwarded-Proto \u0026quot;https\u0026quot;\n  RequestHeader set X-Forwarded-Ssl \u0026quot;on\u0026quot;\n\u0026lt;/VirtualHost\u0026gt;\nEOF\n\n# Start Apache\nsudo systemctl start httpd\nsudo systemctl enable httpd\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"haproxy-load-balancer\" class=\"mobile-header\"\u003eHAProxy Load Balancer\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003eConfigure HAProxy for high availability:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install HAProxy\nsudo apt-get install haproxy  # Ubuntu/Debian\nsudo dnf install haproxy      # RHEL/CentOS\n\n# Configure HAProxy\nsudo tee /etc/haproxy/haproxy.cfg \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\nglobal\n    daemon\n    log 127.0.0.1:514 local0\n    chroot /var/lib/haproxy\n    stats socket /run/haproxy/admin.sock mode 660 level admin\n    stats timeout 30s\n    user haproxy\n    group haproxy\n\n    # SSL configuration\n    ssl-default-bind-ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256\n    ssl-default-bind-options ssl-min-ver TLSv1.2 no-tls-tickets\n\ndefaults\n    mode http\n    log global\n    option httplog\n    option dontlognull\n    option log-health-checks\n    option forwardfor except 127.0.0.0/8\n    option redispatch\n    retries 3\n    timeout http-request 10s\n    timeout queue 1m\n    timeout connect 5s\n    timeout client 1m\n    timeout server 1m\n    timeout http-keep-alive 10s\n    timeout check 10s\n\n# GitLab frontend\nfrontend gitlab_frontend\n    bind *:80\n    bind *:443 ssl crt /etc/haproxy/certs/gitlab.pem\n    redirect scheme https if !{ ssl_fc }\n    \n    # Security headers\n    rspadd Strict-Transport-Security:\\ max-age=31536000;\\ includeSubDomains\n    rspadd X-Content-Type-Options:\\ nosniff\n    rspadd X-Frame-Options:\\ DENY\n    \n    default_backend gitlab_backend\n\n# GitLab backend servers\nbackend gitlab_backend\n    balance roundrobin\n    option httpchk GET /users/sign_in\n    http-check expect status 200\n    \n    server gitlab1 192.168.1.10:8080 check\n    server gitlab2 192.168.1.11:8080 check backup\n\n# Statistics interface\nfrontend stats\n    bind *:8404\n    stats enable\n    stats uri /stats\n    stats refresh 30s\n    stats admin if TRUE\nEOF\n\n# Start HAProxy\nsudo systemctl start haproxy\nsudo systemctl enable haproxy\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"8-security-configuration\" class=\"mobile-header\"\u003e8. Security Configuration\u003c/h2\u003e\n\u003ch3 id=\"security-hardening\" class=\"mobile-header\"\u003eSecurity Hardening\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003eImplement comprehensive security measures:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ruby\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eruby\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# /etc/gitlab/gitlab.rb - Security configuration\n\n# Force HTTPS\nnginx[\u0026#039;redirect_http_to_https\u0026#039;] = true\nnginx[\u0026#039;ssl_protocols\u0026#039;] = \u0026quot;TLSv1.2 TLSv1.3\u0026quot;\nnginx[\u0026#039;ssl_prefer_server_ciphers\u0026#039;] = \u0026quot;off\u0026quot;\nnginx[\u0026#039;ssl_ciphers\u0026#039;] = \u0026quot;ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384\u0026quot;\n\n# Security headers\nnginx[\u0026#039;custom_nginx_config\u0026#039;] = \u0026quot;include /etc/nginx/conf.d/security-headers.conf;\u0026quot;\n\n# Rate limiting\ngitlab_rails[\u0026#039;rate_limit_requests_per_period\u0026#039;] = 300\ngitlab_rails[\u0026#039;rate_limit_period\u0026#039;] = 60\n\n# Rack Attack configuration for Git over HTTP\ngitlab_rails[\u0026#039;rack_attack_git_basic_auth\u0026#039;] = {\n  \u0026#039;enabled\u0026#039; =\u0026gt; true,\n  \u0026#039;ip_whitelist\u0026#039; =\u0026gt; %w{127.0.0.1 192.168.1.0/24},\n  \u0026#039;maxretry\u0026#039; =\u0026gt; 10,\n  \u0026#039;findtime\u0026#039; =\u0026gt; 60,\n  \u0026#039;bantime\u0026#039; =\u0026gt; 3600\n}\n\n# Protected paths\ngitlab_rails[\u0026#039;rack_attack_protected_paths\u0026#039;] = [\n  \u0026#039;/users/password\u0026#039;,\n  \u0026#039;/users/sign_in\u0026#039;,\n  \u0026#039;/api/v4/session.json\u0026#039;,\n  \u0026#039;/api/v4/session\u0026#039;,\n  \u0026#039;/users/confirmation\u0026#039;,\n  \u0026#039;/unsubscribes/\u0026#039;,\n  \u0026#039;/admin/session\u0026#039;\n]\n\n# SSH security\ngitlab_rails[\u0026#039;gitlab_shell_ssh_port\u0026#039;] = 2222\ngitlab_shell[\u0026#039;auth_file\u0026#039;] = \u0026quot;/var/opt/gitlab/.ssh/authorized_keys\u0026quot;\n\n# Two-factor authentication enforcement\ngitlab_rails[\u0026#039;require_two_factor_authentication\u0026#039;] = false\ngitlab_rails[\u0026#039;two_factor_grace_period\u0026#039;] = 8  # 8 hours\n\n# Session settings\ngitlab_rails[\u0026#039;session_expire_delay\u0026#039;] = 10080  # 1 week\ngitlab_rails[\u0026#039;session_store_enabled\u0026#039;] = true\n\n# Webhook security\ngitlab_rails[\u0026#039;webhook_timeout\u0026#039;] = 10\ngitlab_rails[\u0026#039;webhook_max_redirects\u0026#039;] = 3\n\n# API security\ngitlab_rails[\u0026#039;api_limit_per_min\u0026#039;] = 300\n\n# Disable features that increase attack surface\ngitlab_rails[\u0026#039;usage_ping_enabled\u0026#039;] = false\ngitlab_rails[\u0026#039;sentry_enabled\u0026#039;] = false\n\n# Audit logging (Enterprise)\ngitlab_rails[\u0026#039;audit_events_enabled\u0026#039;] = true\n\n# Security scanning\ngitlab_rails[\u0026#039;sast_enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;dependency_scanning_enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;container_scanning_enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;secret_detection_enabled\u0026#039;] = true\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003eCreate security headers configuration:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003esudo mkdir -p /etc/nginx/conf.d\n\nsudo tee /etc/nginx/conf.d/security-headers.conf \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n# Security headers\nadd_header Strict-Transport-Security \u0026quot;max-age=31536000; includeSubDomains; preload\u0026quot; always;\nadd_header X-Content-Type-Options nosniff always;\nadd_header X-Frame-Options DENY always;\nadd_header X-XSS-Protection \u0026quot;1; mode=block\u0026quot; always;\nadd_header Referrer-Policy \u0026quot;strict-origin-when-cross-origin\u0026quot; always;\nadd_header Content-Security-Policy \u0026quot;default-src \u0026#039;self\u0026#039;; script-src \u0026#039;self\u0026#039; \u0026#039;unsafe-inline\u0026#039; \u0026#039;unsafe-eval\u0026#039;; style-src \u0026#039;self\u0026#039; \u0026#039;unsafe-inline\u0026#039;; img-src \u0026#039;self\u0026#039; data: https:; font-src \u0026#039;self\u0026#039; data:; connect-src \u0026#039;self\u0026#039;;\u0026quot; always;\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"firewall-configuration\" class=\"mobile-header\"\u003eFirewall Configuration\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### UFW (Ubuntu/Debian)\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable UFW\nsudo ufw enable\n\n# Allow SSH\nsudo ufw allow OpenSSH\n\n# Allow HTTP/HTTPS\nsudo ufw allow 80/tcp\nsudo ufw allow 443/tcp\n\n# Allow GitLab SSH (if using custom port)\nsudo ufw allow 2222/tcp\n\n# Allow specific IP ranges only (optional)\nsudo ufw allow from 192.168.1.0/24 to any port 22\nsudo ufw allow from 10.0.0.0/8 to any port 22\n\n# Check status\nsudo ufw status verbose\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### firewalld (RHEL/CentOS)\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable firewalld\nsudo systemctl enable --now firewalld\n\n# Add services\nsudo firewall-cmd --permanent --add-service=http\nsudo firewall-cmd --permanent --add-service=https\nsudo firewall-cmd --permanent --add-service=ssh\n\n# Add custom ports\nsudo firewall-cmd --permanent --add-port=2222/tcp\n\n# Create custom service for GitLab\nsudo tee /etc/firewalld/services/gitlab.xml \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n\u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;utf-8\u0026quot;?\u0026gt;\n\u0026lt;service\u0026gt;\n  \u0026lt;short\u0026gt;GitLab\u0026lt;/short\u0026gt;\n  \u0026lt;description\u0026gt;GitLab DevOps Platform\u0026lt;/description\u0026gt;\n  \u0026lt;port protocol=\u0026quot;tcp\u0026quot; port=\u0026quot;80\u0026quot;/\u0026gt;\n  \u0026lt;port protocol=\u0026quot;tcp\u0026quot; port=\u0026quot;443\u0026quot;/\u0026gt;\n  \u0026lt;port protocol=\u0026quot;tcp\u0026quot; port=\u0026quot;2222\u0026quot;/\u0026gt;\n\u0026lt;/service\u0026gt;\nEOF\n\nsudo firewall-cmd --permanent --add-service=gitlab\nsudo firewall-cmd --reload\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"access-control-and-authentication\" class=\"mobile-header\"\u003eAccess Control and Authentication\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ruby\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eruby\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# Password policy\ngitlab_rails[\u0026#039;password_authentication_enabled_for_web\u0026#039;] = true\ngitlab_rails[\u0026#039;password_authentication_enabled_for_git\u0026#039;] = true\n\n# Sign-up restrictions\ngitlab_rails[\u0026#039;signup_enabled\u0026#039;] = false\ngitlab_rails[\u0026#039;signin_enabled\u0026#039;] = true\n\n# Email domain restrictions\ngitlab_rails[\u0026#039;email_restrictions_enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;email_restrictions\u0026#039;] = \u0026#039;@example\\\\.com$|@partner\\\\.com$\u0026#039;\n\n# IP restrictions (Enterprise)\ngitlab_rails[\u0026#039;ip_restrictions_enabled\u0026#039;] = true\n\n# OAuth/OIDC providers configuration\ngitlab_rails[\u0026#039;omniauth_enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;omniauth_allow_single_sign_on\u0026#039;] = [\u0026#039;google_oauth2\u0026#039;, \u0026#039;github\u0026#039;]\ngitlab_rails[\u0026#039;omniauth_block_auto_created_users\u0026#039;] = true\ngitlab_rails[\u0026#039;omniauth_auto_sign_in_with_provider\u0026#039;] = \u0026#039;google_oauth2\u0026#039;\ngitlab_rails[\u0026#039;omniauth_providers\u0026#039;] = [\n  {\n    name: \u0026#039;google_oauth2\u0026#039;,\n    app_id: \u0026#039;GOOGLE_OAUTH_CLIENT_ID\u0026#039;,\n    app_secret: \u0026#039;GOOGLE_OAUTH_CLIENT_SECRET\u0026#039;,\n    args: {\n      scope: \u0026#039;email profile\u0026#039;,\n      domain: \u0026#039;example.com\u0026#039;\n    }\n  }\n]\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"9-database-setup\" class=\"mobile-header\"\u003e9. Database Setup\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eGitLab uses PostgreSQL as its default database. For production environments, consider using an external PostgreSQL instance.\u003c/p\u003e\n\u003ch3 id=\"internal-postgresql-default\" class=\"mobile-header\"\u003eInternal PostgreSQL (Default)\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003eGitLab comes with a built-in PostgreSQL instance configured automatically:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ruby\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eruby\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# /etc/gitlab/gitlab.rb - PostgreSQL settings\n\n# Enable built-in PostgreSQL\npostgresql[\u0026#039;enable\u0026#039;] = true\n\n# PostgreSQL performance tuning\npostgresql[\u0026#039;shared_buffers\u0026#039;] = \u0026quot;2GB\u0026quot;\npostgresql[\u0026#039;effective_cache_size\u0026#039;] = \u0026quot;8GB\u0026quot; \npostgresql[\u0026#039;work_mem\u0026#039;] = \u0026quot;16MB\u0026quot;\npostgresql[\u0026#039;maintenance_work_mem\u0026#039;] = \u0026quot;256MB\u0026quot;\npostgresql[\u0026#039;max_connections\u0026#039;] = 300\npostgresql[\u0026#039;checkpoint_completion_target\u0026#039;] = 0.9\npostgresql[\u0026#039;wal_buffers\u0026#039;] = \u0026quot;16MB\u0026quot;\npostgresql[\u0026#039;default_statistics_target\u0026#039;] = 100\npostgresql[\u0026#039;random_page_cost\u0026#039;] = 1.1  # For SSD storage\npostgresql[\u0026#039;effective_io_concurrency\u0026#039;] = 200\n\n# Connection settings\npostgresql[\u0026#039;listen_address\u0026#039;] = \u0026#039;127.0.0.1\u0026#039;\npostgresql[\u0026#039;port\u0026#039;] = 5432\npostgresql[\u0026#039;max_worker_processes\u0026#039;] = 8\npostgresql[\u0026#039;max_parallel_workers_per_gather\u0026#039;] = 4\npostgresql[\u0026#039;max_parallel_workers\u0026#039;] = 8\n\n# WAL settings for performance\npostgresql[\u0026#039;wal_level\u0026#039;] = \u0026#039;replica\u0026#039;\npostgresql[\u0026#039;max_wal_senders\u0026#039;] = 3\npostgresql[\u0026#039;checkpoint_segments\u0026#039;] = 32\npostgresql[\u0026#039;checkpoint_timeout\u0026#039;] = \u0026#039;5min\u0026#039;\n\n# Logging\npostgresql[\u0026#039;log_statement\u0026#039;] = \u0026#039;none\u0026#039;\npostgresql[\u0026#039;log_min_duration_statement\u0026#039;] = 1000  # Log slow queries\npostgresql[\u0026#039;log_line_prefix\u0026#039;] = \u0026#039;%t [%p]: [%l-1] user=%u,db=%d,app=%a,client=%h \u0026#039;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"external-postgresql-setup\" class=\"mobile-header\"\u003eExternal PostgreSQL Setup\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003eFor high availability and better performance, use an external PostgreSQL server:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install PostgreSQL on separate server\n# Ubuntu/Debian\nsudo apt-get install postgresql postgresql-contrib\n\n# RHEL/CentOS  \nsudo dnf install postgresql-server postgresql-contrib\n\n# Initialize database (RHEL/CentOS only)\nsudo postgresql-setup --initdb\nsudo systemctl enable --now postgresql\n\n# Create GitLab database and user\nsudo -u postgres createuser --createdb --no-superuser --no-createrole gitlab\nsudo -u postgres createdb -O gitlab gitlabhq_production\nsudo -u postgres psql -c \u0026quot;ALTER USER gitlab ENCRYPTED PASSWORD \u0026#039;secure_password\u0026#039;;\u0026quot;\n\n# Configure PostgreSQL for GitLab\nsudo tee -a /var/lib/pgsql/data/postgresql.conf \u0026lt;\u0026lt;EOF\n# GitLab optimizations\nshared_buffers = 2GB\neffective_cache_size = 8GB\nwork_mem = 16MB  \nmaintenance_work_mem = 256MB\nmax_connections = 300\ncheckpoint_completion_target = 0.9\nwal_buffers = 16MB\nrandom_page_cost = 1.1\neffective_io_concurrency = 200\n\n# Connection settings\nlisten_addresses = \u0026#039;*\u0026#039;\nport = 5432\nmax_worker_processes = 8\nmax_parallel_workers = 8\nmax_parallel_workers_per_gather = 4\n\n# Enable extensions\nshared_preload_libraries = \u0026#039;pg_stat_statements\u0026#039;\nEOF\n\n# Configure client authentication\nsudo tee -a /var/lib/pgsql/data/pg_hba.conf \u0026lt;\u0026lt;EOF\nhost    gitlabhq_production     gitlab          192.168.1.0/24          md5\nhost    gitlabhq_production     gitlab          10.0.0.0/8              md5\nEOF\n\nsudo systemctl restart postgresql\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003eConfigure GitLab to use external PostgreSQL:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ruby\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eruby\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# /etc/gitlab/gitlab.rb - External PostgreSQL\n\n# Disable built-in PostgreSQL\npostgresql[\u0026#039;enable\u0026#039;] = false\n\n# External PostgreSQL configuration\ngitlab_rails[\u0026#039;db_adapter\u0026#039;] = \u0026#039;postgresql\u0026#039;\ngitlab_rails[\u0026#039;db_encoding\u0026#039;] = \u0026#039;unicode\u0026#039;\ngitlab_rails[\u0026#039;db_collation\u0026#039;] = nil\ngitlab_rails[\u0026#039;db_database\u0026#039;] = \u0026#039;gitlabhq_production\u0026#039;\ngitlab_rails[\u0026#039;db_pool\u0026#039;] = 10\ngitlab_rails[\u0026#039;db_username\u0026#039;] = \u0026#039;gitlab\u0026#039;\ngitlab_rails[\u0026#039;db_password\u0026#039;] = \u0026#039;secure_password\u0026#039;\ngitlab_rails[\u0026#039;db_host\u0026#039;] = \u0026#039;192.168.1.10\u0026#039;\ngitlab_rails[\u0026#039;db_port\u0026#039;] = 5432\ngitlab_rails[\u0026#039;db_socket\u0026#039;] = nil\ngitlab_rails[\u0026#039;db_sslmode\u0026#039;] = \u0026#039;prefer\u0026#039;\ngitlab_rails[\u0026#039;db_sslcert\u0026#039;] = nil\ngitlab_rails[\u0026#039;db_sslkey\u0026#039;] = nil\ngitlab_rails[\u0026#039;db_sslrootcert\u0026#039;] = nil\ngitlab_rails[\u0026#039;db_sslcrl\u0026#039;] = nil\ngitlab_rails[\u0026#039;db_prepared_statements\u0026#039;] = false\ngitlab_rails[\u0026#039;db_statements_limit\u0026#039;] = 1000\n\n# Load balancing for read replicas (Enterprise)\ngitlab_rails[\u0026#039;db_load_balancing\u0026#039;] = {\n  \u0026#039;hosts\u0026#039; =\u0026gt; [\u0026#039;192.168.1.11\u0026#039;, \u0026#039;192.168.1.12\u0026#039;],\n  \u0026#039;discover\u0026#039; =\u0026gt; {\n    \u0026#039;record\u0026#039; =\u0026gt; \u0026#039;postgres-replica.example.com\u0026#039;\n  }\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"database-maintenance\" class=\"mobile-header\"\u003eDatabase Maintenance\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Database maintenance commands\nsudo gitlab-ctl pgb-console  # Connect to database\n\n# Manual database operations\nsudo gitlab-psql -d gitlabhq_production\n\n# Database migrations\nsudo gitlab-rake db:migrate\n\n# Check database status\nsudo gitlab-rake db:migrate:status\n\n# Create database backup\nsudo gitlab-backup create SKIP=uploads,builds,artifacts,lfs,registry,pages\n\n# Restore database from backup  \nsudo gitlab-backup restore BACKUP=timestamp_of_backup\n\n# Database cleanup\nsudo gitlab-rake gitlab:cleanup:sessions\nsudo gitlab-rake gitlab:cleanup:project_uploads\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"10-performance-optimization\" class=\"mobile-header\"\u003e10. Performance Optimization\u003c/h2\u003e\n\u003ch3 id=\"system-level-optimizations\" class=\"mobile-header\"\u003eSystem-Level Optimizations\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Kernel parameter tuning for GitLab\nsudo tee /etc/sysctl.d/90-gitlab.conf \u0026lt;\u0026lt;EOF\n# Network optimizations\nnet.core.somaxconn = 65535\nnet.ipv4.tcp_max_syn_backlog = 65535\nnet.core.netdev_max_backlog = 5000\nnet.ipv4.tcp_fin_timeout = 30\nnet.ipv4.tcp_keepalive_time = 1200\nnet.ipv4.tcp_keepalive_probes = 7\nnet.ipv4.tcp_keepalive_intvl = 30\n\n# Memory management\nvm.swappiness = 1\nvm.dirty_ratio = 15\nvm.dirty_background_ratio = 5\nvm.vfs_cache_pressure = 50\n\n# File system optimizations\nfs.file-max = 2097152\nfs.nr_open = 1048576\nEOF\n\nsudo sysctl -p /etc/sysctl.d/90-gitlab.conf\n\n# Increase file descriptor limits\nsudo tee /etc/security/limits.d/90-gitlab.conf \u0026lt;\u0026lt;EOF\ngit     soft    nofile          65535\ngit     hard    nofile          65535\ngit     soft    nproc           65535  \ngit     hard    nproc           65535\nEOF\n\n# Configure systemd limits\nsudo mkdir -p /etc/systemd/system/gitlab-runsvdir.service.d\nsudo tee /etc/systemd/system/gitlab-runsvdir.service.d/limits.conf \u0026lt;\u0026lt;EOF\n[Service]\nLimitNOFILE=65535\nLimitNPROC=65535\nEOF\n\nsudo systemctl daemon-reload\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"application-performance-tuning\" class=\"mobile-header\"\u003eApplication Performance Tuning\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ruby\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eruby\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# /etc/gitlab/gitlab.rb - Performance optimizations\n\n# Unicorn/Puma web server settings\n# Use Puma (recommended for GitLab 13.0+)\npuma[\u0026#039;enable\u0026#039;] = true\npuma[\u0026#039;worker_processes\u0026#039;] = 4  # Number of CPU cores\npuma[\u0026#039;min_threads\u0026#039;] = 1\npuma[\u0026#039;max_threads\u0026#039;] = 16\npuma[\u0026#039;worker_timeout\u0026#039;] = 60\npuma[\u0026#039;worker_boot_timeout\u0026#039;] = 60\n\n# Disable Unicorn if using Puma\nunicorn[\u0026#039;enable\u0026#039;] = false\n\n# Sidekiq background job processing\nsidekiq[\u0026#039;max_concurrency\u0026#039;] = 25\nsidekiq[\u0026#039;min_concurrency\u0026#039;] = 10\nsidekiq[\u0026#039;queue_groups\u0026#039;] = [\n  \u0026#039;*\u0026#039;,\n  \u0026#039;cronjob:1\u0026#039;,\n  \u0026#039;default:5\u0026#039;,\n  \u0026#039;pipeline_processing:2\u0026#039;\n]\n\n# Gitaly settings for Git operations\ngitaly[\u0026#039;ruby_max_rss\u0026#039;] = 300000000  # 300MB\ngitaly[\u0026#039;concurrency\u0026#039;] = [\n  {\n    \u0026#039;rpc\u0026#039; =\u0026gt; \u0026quot;/gitaly.SmartHTTPService/PostReceivePack\u0026quot;,\n    \u0026#039;max_per_repo\u0026#039; =\u0026gt; 3\n  },\n  {\n    \u0026#039;rpc\u0026#039; =\u0026gt; \u0026quot;/gitaly.SSHService/SSHUploadPack\u0026quot;,\n    \u0026#039;max_per_repo\u0026#039; =\u0026gt; 3  \n  },\n  {\n    \u0026#039;rpc\u0026#039; =\u0026gt; \u0026quot;/gitaly.SSHService/SSHReceivePack\u0026quot;,\n    \u0026#039;max_per_repo\u0026#039; =\u0026gt; 3\n  }\n]\n\n# GitLab Workhorse settings\ngitlab_workhorse[\u0026#039;api_limit\u0026#039;] = 1000\ngitlab_workhorse[\u0026#039;api_queue_limit\u0026#039;] = 200\ngitlab_workhorse[\u0026#039;api_queue_duration\u0026#039;] = \u0026quot;30s\u0026quot;\n\n# Redis caching optimizations  \nredis[\u0026#039;maxmemory\u0026#039;] = \u0026quot;1gb\u0026quot;\nredis[\u0026#039;maxmemory_policy\u0026#039;] = \u0026quot;allkeys-lru\u0026quot;\nredis[\u0026#039;save\u0026#039;] = \u0026#039;900 1 300 10 60 10000\u0026#039;\nredis[\u0026#039;tcp_keepalive\u0026#039;] = 300\nredis[\u0026#039;tcp_timeout\u0026#039;] = 60\n\n# NGINX optimizations\nnginx[\u0026#039;worker_processes\u0026#039;] = 4\nnginx[\u0026#039;worker_connections\u0026#039;] = 1024\nnginx[\u0026#039;keepalive_timeout\u0026#039;] = 65\nnginx[\u0026#039;gzip\u0026#039;] = \u0026quot;on\u0026quot;\nnginx[\u0026#039;gzip_comp_level\u0026#039;] = 6\nnginx[\u0026#039;gzip_types\u0026#039;] = [\n  \u0026#039;text/plain\u0026#039;,\n  \u0026#039;text/css\u0026#039;, \n  \u0026#039;application/json\u0026#039;,\n  \u0026#039;application/javascript\u0026#039;,\n  \u0026#039;text/xml\u0026#039;,\n  \u0026#039;application/xml\u0026#039;,\n  \u0026#039;application/xml+rss\u0026#039;,\n  \u0026#039;text/javascript\u0026#039;\n]\n\n# Prometheus monitoring optimization\nprometheus[\u0026#039;scrape_interval\u0026#039;] = 15\nprometheus[\u0026#039;scrape_timeout\u0026#039;] = 10\nprometheus[\u0026#039;evaluation_interval\u0026#039;] = 15\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"storage-optimization\" class=\"mobile-header\"\u003eStorage Optimization\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Use SSD storage with proper mount options\nsudo tee -a /etc/fstab \u0026lt;\u0026lt;EOF\n/dev/sdb1 /var/opt/gitlab ext4 defaults,noatime,discard 0 2\nEOF\n\n# Optimize Git repository storage\nsudo tee /usr/local/bin/gitlab-git-optimize.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\n# Optimize Git repositories for better performance\n\nREPO_DIR=\u0026quot;/var/opt/gitlab/git-data/repositories\u0026quot;\nLOG_FILE=\u0026quot;/var/log/gitlab/git-optimize.log\u0026quot;\n\necho \u0026quot;$(date): Starting Git repository optimization\u0026quot; \u0026gt;\u0026gt; $LOG_FILE\n\nfind $REPO_DIR -name \u0026quot;*.git\u0026quot; -type d | while read repo; do\n    cd \u0026quot;$repo\u0026quot;\n    echo \u0026quot;Optimizing: $repo\u0026quot; \u0026gt;\u0026gt; $LOG_FILE\n    \n    # Garbage collection\n    git gc --aggressive --prune=now\n    \n    # Repack repository\n    git repack -ad\n    \n    # Update server info\n    git update-server-info\ndone\n\necho \u0026quot;$(date): Git repository optimization completed\u0026quot; \u0026gt;\u0026gt; $LOG_FILE\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-git-optimize.sh\n\n# Schedule weekly Git optimization\necho \u0026quot;0 2 * * 0 root /usr/local/bin/gitlab-git-optimize.sh\u0026quot; | sudo tee -a /etc/crontab\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"monitoring-performance\" class=\"mobile-header\"\u003eMonitoring Performance\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create performance monitoring script\nsudo tee /usr/local/bin/gitlab-performance-check.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\nLOGFILE=\u0026quot;/var/log/gitlab-performance.log\u0026quot;\n\necho \u0026quot;$(date): Performance Check Started\u0026quot; \u0026gt;\u0026gt; $LOGFILE\n\n# CPU and Memory usage\necho \u0026quot;CPU Usage: $(top -bn1 | grep \u0026quot;Cpu(s)\u0026quot; | awk \u0026#039;{print $2}\u0026#039; | cut -d\u0026#039;%\u0026#039; -f1)%\u0026quot; \u0026gt;\u0026gt; $LOGFILE\necho \u0026quot;Memory Usage: $(free | grep Mem | awk \u0026#039;{printf \u0026quot;%.2f\u0026quot;, $3/$2 * 100.0}\u0026#039;)%\u0026quot; \u0026gt;\u0026gt; $LOGFILE\n\n# Database connections\nDB_CONNECTIONS=$(sudo gitlab-psql -t -c \u0026quot;SELECT count(*) FROM pg_stat_activity;\u0026quot;)\necho \u0026quot;Database Connections: $DB_CONNECTIONS\u0026quot; \u0026gt;\u0026gt; $LOGFILE\n\n# Redis memory usage\nREDIS_MEMORY=$(redis-cli info memory | grep used_memory_human | cut -d: -f2)\necho \u0026quot;Redis Memory: $REDIS_MEMORY\u0026quot; \u0026gt;\u0026gt; $LOGFILE\n\n# Disk usage\nDISK_USAGE=$(df /var/opt/gitlab | awk \u0026#039;NR==2 {print $5}\u0026#039;)\necho \u0026quot;Disk Usage: $DISK_USAGE\u0026quot; \u0026gt;\u0026gt; $LOGFILE\n\n# Active processes\nPROCESSES=$(sudo gitlab-ctl status | grep -c \u0026quot;run:\u0026quot;)\necho \u0026quot;Active GitLab Processes: $PROCESSES\u0026quot; \u0026gt;\u0026gt; $LOGFILE\n\necho \u0026quot;$(date): Performance Check Completed\u0026quot; \u0026gt;\u0026gt; $LOGFILE\necho \u0026quot;---\u0026quot; \u0026gt;\u0026gt; $LOGFILE\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-performance-check.sh\n\n# Schedule performance checks every 15 minutes\necho \u0026quot;*/15 * * * * root /usr/local/bin/gitlab-performance-check.sh\u0026quot; | sudo tee -a /etc/crontab\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"11-monitoring\" class=\"mobile-header\"\u003e11. Monitoring\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eGitLab includes built-in monitoring capabilities with Prometheus and Grafana.\u003c/p\u003e\n\u003ch3 id=\"built-in-monitoring-stack\" class=\"mobile-header\"\u003eBuilt-in Monitoring Stack\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003eEnable GitLab's integrated monitoring:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ruby\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eruby\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# /etc/gitlab/gitlab.rb - Monitoring configuration\n\n# Enable Prometheus monitoring\nprometheus_monitoring[\u0026#039;enable\u0026#039;] = true\nprometheus[\u0026#039;enable\u0026#039;] = true\nprometheus[\u0026#039;listen_address\u0026#039;] = \u0026#039;localhost:9090\u0026#039;\nprometheus[\u0026#039;scrape_interval\u0026#039;] = 15\nprometheus[\u0026#039;scrape_timeout\u0026#039;] = 10\nprometheus[\u0026#039;evaluation_interval\u0026#039;] = 15\n\n# Prometheus exporters\nnode_exporter[\u0026#039;enable\u0026#039;] = true\nnode_exporter[\u0026#039;listen_address\u0026#039;] = \u0026#039;localhost:9100\u0026#039;\n\nredis_exporter[\u0026#039;enable\u0026#039;] = true\nredis_exporter[\u0026#039;listen_address\u0026#039;] = \u0026#039;localhost:9121\u0026#039;\n\npostgres_exporter[\u0026#039;enable\u0026#039;] = true\npostgres_exporter[\u0026#039;listen_address\u0026#039;] = \u0026#039;localhost:9187\u0026#039;\n\ngitlab_exporter[\u0026#039;enable\u0026#039;] = true\ngitlab_exporter[\u0026#039;listen_address\u0026#039;] = \u0026#039;localhost:9168\u0026#039;\n\n# Grafana configuration\ngrafana[\u0026#039;enable\u0026#039;] = true\ngrafana[\u0026#039;admin_password\u0026#039;] = \u0026#039;secure_grafana_password\u0026#039;\ngrafana[\u0026#039;disable_login_form\u0026#039;] = false\ngrafana[\u0026#039;allow_user_sign_up\u0026#039;] = false\ngrafana[\u0026#039;secret_key\u0026#039;] = \u0026#039;generate_secure_secret_key\u0026#039;\n\n# Alert Manager\nalertmanager[\u0026#039;enable\u0026#039;] = true\nalertmanager[\u0026#039;admin_email\u0026#039;] = \u0026#039;alerts@example.com\u0026#039;\nalertmanager[\u0026#039;flags\u0026#039;] = {\n  \u0026#039;storage.path\u0026#039; =\u0026gt; \u0026#039;/var/opt/gitlab/alertmanager/data\u0026#039;,\n  \u0026#039;config.file\u0026#039; =\u0026gt; \u0026#039;/var/opt/gitlab/alertmanager/alertmanager.yml\u0026#039;\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"external-monitoring-integration\" class=\"mobile-header\"\u003eExternal Monitoring Integration\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003eConfigure external monitoring systems:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Prometheus configuration for external setup\nsudo tee /etc/prometheus/prometheus.yml \u0026lt;\u0026lt;EOF\nglobal:\n  scrape_interval: 15s\n  evaluation_interval: 15s\n  external_labels:\n    monitor: \u0026#039;gitlab-monitor\u0026#039;\n\nalerting:\n  alertmanagers:\n    - static_configs:\n        - targets: [\u0026#039;localhost:9093\u0026#039;]\n\nrule_files:\n  - \u0026quot;gitlab-rules.yml\u0026quot;\n\nscrape_configs:\n  - job_name: \u0026#039;gitlab-workhorse\u0026#039;\n    static_configs:\n      - targets: [\u0026#039;gitlab.example.com:9229\u0026#039;]\n    metrics_path: \u0026#039;/metrics\u0026#039;\n    scrape_interval: 15s\n\n  - job_name: \u0026#039;gitlab-unicorn\u0026#039;\n    static_configs:\n      - targets: [\u0026#039;gitlab.example.com:8080\u0026#039;]\n    metrics_path: \u0026#039;/-/metrics\u0026#039;\n    scrape_interval: 15s\n\n  - job_name: \u0026#039;gitlab-sidekiq\u0026#039;\n    static_configs:\n      - targets: [\u0026#039;gitlab.example.com:8082\u0026#039;]\n    metrics_path: \u0026#039;/metrics\u0026#039;\n    scrape_interval: 15s\n\n  - job_name: \u0026#039;gitlab-gitaly\u0026#039;\n    static_configs:\n      - targets: [\u0026#039;gitlab.example.com:9236\u0026#039;]\n    metrics_path: \u0026#039;/metrics\u0026#039;\n    scrape_interval: 15s\n\n  - job_name: \u0026#039;node-exporter\u0026#039;\n    static_configs:\n      - targets: [\u0026#039;gitlab.example.com:9100\u0026#039;]\n    metrics_path: \u0026#039;/metrics\u0026#039;\n    scrape_interval: 15s\n\n  - job_name: \u0026#039;postgres-exporter\u0026#039;\n    static_configs:\n      - targets: [\u0026#039;gitlab.example.com:9187\u0026#039;]\n    metrics_path: \u0026#039;/metrics\u0026#039;\n    scrape_interval: 15s\n\n  - job_name: \u0026#039;redis-exporter\u0026#039;\n    static_configs:\n      - targets: [\u0026#039;gitlab.example.com:9121\u0026#039;]\n    metrics_path: \u0026#039;/metrics\u0026#039;\n    scrape_interval: 15s\nEOF\n\n# Create GitLab-specific alerting rules\nsudo tee /etc/prometheus/gitlab-rules.yml \u0026lt;\u0026lt;EOF\ngroups:\n  - name: gitlab\n    rules:\n      - alert: GitLabDown\n        expr: up{job=~\u0026quot;gitlab.*\u0026quot;} == 0\n        for: 5m\n        labels:\n          severity: critical\n        annotations:\n          summary: \u0026quot;GitLab service {{ \\$labels.job }} is down\u0026quot;\n          description: \u0026quot;GitLab service {{ \\$labels.job }} has been down for more than 5 minutes.\u0026quot;\n\n      - alert: GitLabHighCPU\n        expr: 100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\u0026quot;idle\u0026quot;}[5m])) * 100) \u0026gt; 80\n        for: 10m\n        labels:\n          severity: warning\n        annotations:\n          summary: \u0026quot;High CPU usage on GitLab server\u0026quot;\n          description: \u0026quot;CPU usage is above 80% for more than 10 minutes.\u0026quot;\n\n      - alert: GitLabHighMemory\n        expr: (node_memory_MemTotal_bytes - node_memory_MemAvailable_bytes) / node_memory_MemTotal_bytes * 100 \u0026gt; 85\n        for: 10m\n        labels:\n          severity: warning\n        annotations:\n          summary: \u0026quot;High memory usage on GitLab server\u0026quot;\n          description: \u0026quot;Memory usage is above 85% for more than 10 minutes.\u0026quot;\n\n      - alert: GitLabDiskSpaceLow\n        expr: (node_filesystem_avail_bytes / node_filesystem_size_bytes) * 100 \u0026lt; 15\n        for: 5m\n        labels:\n          severity: critical\n        annotations:\n          summary: \u0026quot;Low disk space on GitLab server\u0026quot;\n          description: \u0026quot;Disk space is below 15% on {{ \\$labels.mountpoint }}.\u0026quot;\n\n      - alert: GitLabPostgreSQLDown\n        expr: up{job=\u0026quot;postgres-exporter\u0026quot;} == 0\n        for: 5m\n        labels:\n          severity: critical\n        annotations:\n          summary: \u0026quot;PostgreSQL is down\u0026quot;\n          description: \u0026quot;GitLab PostgreSQL database has been down for more than 5 minutes.\u0026quot;\n\n      - alert: GitLabRedisDown\n        expr: up{job=\u0026quot;redis-exporter\u0026quot;} == 0\n        for: 5m\n        labels:\n          severity: critical\n        annotations:\n          summary: \u0026quot;Redis is down\u0026quot;\n          description: \u0026quot;GitLab Redis cache has been down for more than 5 minutes.\u0026quot;\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"log-management\" class=\"mobile-header\"\u003eLog Management\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003eConfigure centralized logging:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install and configure Elasticsearch, Logstash, Kibana (ELK Stack)\n# Or use external services like Splunk, DataDog, etc.\n\n# Configure GitLab log forwarding\nsudo tee /etc/rsyslog.d/49-gitlab.conf \u0026lt;\u0026lt;EOF\n# Forward GitLab logs to centralized logging\n*.* @@logserver.example.com:514\n\n# Local GitLab log files\nif \\$programname startswith \u0026#039;gitlab\u0026#039; then /var/log/gitlab-centralized.log\n\u0026amp; stop\nEOF\n\nsudo systemctl restart rsyslog\n\n# Create log monitoring script\nsudo tee /usr/local/bin/gitlab-log-monitor.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\nALERT_EMAIL=\u0026quot;admin@example.com\u0026quot;\nLOG_DIR=\u0026quot;/var/log/gitlab\u0026quot;\n\n# Monitor for critical errors\nfind $LOG_DIR -name \u0026quot;*.log\u0026quot; -type f -mmin -5 | while read logfile; do\n    if grep -i \u0026quot;error\\|exception\\|fatal\u0026quot; \u0026quot;$logfile\u0026quot; | grep \u0026quot;$(date +\u0026#039;%Y-%m-%d %H:%M\u0026#039;)\u0026quot; \u0026gt; /tmp/gitlab-errors.tmp; then\n        if [ -s /tmp/gitlab-errors.tmp ]; then\n            echo \u0026quot;Critical errors found in GitLab logs:\u0026quot; | mail -s \u0026quot;GitLab Error Alert\u0026quot; $ALERT_EMAIL \u0026lt; /tmp/gitlab-errors.tmp\n        fi\n    fi\ndone\n\n# Monitor disk space for log directory\nUSAGE=$(df $LOG_DIR | awk \u0026#039;NR==2 {print $5}\u0026#039; | sed \u0026#039;s/%//\u0026#039;)\nif [ $USAGE -gt 80 ]; then\n    echo \u0026quot;Log directory usage is at ${USAGE}%. Consider log rotation.\u0026quot; | mail -s \u0026quot;GitLab Log Disk Usage Warning\u0026quot; $ALERT_EMAIL\nfi\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-log-monitor.sh\n\n# Schedule log monitoring every 5 minutes\necho \u0026quot;*/5 * * * * root /usr/local/bin/gitlab-log-monitor.sh\u0026quot; | sudo tee -a /etc/crontab\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"health-monitoring\" class=\"mobile-header\"\u003eHealth Monitoring\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create comprehensive health monitoring\nsudo tee /usr/local/bin/gitlab-health-monitor.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\nHEALTH_LOG=\u0026quot;/var/log/gitlab-health.log\u0026quot;\nEMAIL=\u0026quot;admin@example.com\u0026quot;\nWEBHOOK_URL=\u0026quot;https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK\u0026quot;\n\ncheck_service() {\n    local service=$1\n    if sudo gitlab-ctl status $service | grep -q \u0026quot;run:\u0026quot;; then\n        echo \u0026quot;$(date): ✓ $service is running\u0026quot; \u0026gt;\u0026gt; $HEALTH_LOG\n        return 0\n    else\n        echo \u0026quot;$(date): ✗ $service is DOWN\u0026quot; \u0026gt;\u0026gt; $HEALTH_LOG\n        alert_service_down $service\n        return 1\n    fi\n}\n\nalert_service_down() {\n    local service=$1\n    echo \u0026quot;ALERT: GitLab service $service is down\u0026quot; | mail -s \u0026quot;GitLab Service Alert\u0026quot; $EMAIL\n    \n    # Send Slack notification\n    curl -X POST -H \u0026#039;Content-type: application/json\u0026#039; \\\n        --data \u0026quot;{\\\u0026quot;text\\\u0026quot;:\\\u0026quot;🚨 GitLab Alert: Service $service is down on $(hostname)\\\u0026quot;}\u0026quot; \\\n        $WEBHOOK_URL\n}\n\n# Check all critical services\necho \u0026quot;$(date): Starting health check\u0026quot; \u0026gt;\u0026gt; $HEALTH_LOG\n\nservices=(\u0026quot;nginx\u0026quot; \u0026quot;postgresql\u0026quot; \u0026quot;redis\u0026quot; \u0026quot;unicorn\u0026quot; \u0026quot;sidekiq\u0026quot; \u0026quot;gitaly\u0026quot;)\nfailed_services=0\n\nfor service in \u0026quot;${services[@]}\u0026quot;; do\n    if ! check_service $service; then\n        ((failed_services++))\n    fi\ndone\n\n# Check application health\nif sudo gitlab-rake gitlab:check \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    echo \u0026quot;$(date): ✓ GitLab application health check passed\u0026quot; \u0026gt;\u0026gt; $HEALTH_LOG\nelse\n    echo \u0026quot;$(date): ✗ GitLab application health check FAILED\u0026quot; \u0026gt;\u0026gt; $HEALTH_LOG\n    echo \u0026quot;GitLab application health check failed\u0026quot; | mail -s \u0026quot;GitLab Application Health Alert\u0026quot; $EMAIL\n    ((failed_services++))\nfi\n\n# Check backup status\nLAST_BACKUP=$(ls -t /var/opt/gitlab/backups/*_gitlab_backup.tar 2\u0026gt;/dev/null | head -1)\nif [ -n \u0026quot;$LAST_BACKUP\u0026quot; ]; then\n    BACKUP_AGE=$(( ($(date +%s) - $(stat -c %Y \u0026quot;$LAST_BACKUP\u0026quot;)) / 3600 ))\n    if [ $BACKUP_AGE -gt 48 ]; then\n        echo \u0026quot;$(date): ⚠ Last backup is ${BACKUP_AGE} hours old\u0026quot; \u0026gt;\u0026gt; $HEALTH_LOG\n        echo \u0026quot;GitLab backup is ${BACKUP_AGE} hours old\u0026quot; | mail -s \u0026quot;GitLab Backup Warning\u0026quot; $EMAIL\n    else\n        echo \u0026quot;$(date): ✓ Recent backup available (${BACKUP_AGE} hours old)\u0026quot; \u0026gt;\u0026gt; $HEALTH_LOG\n    fi\nelse\n    echo \u0026quot;$(date): ✗ No backup files found\u0026quot; \u0026gt;\u0026gt; $HEALTH_LOG\n    echo \u0026quot;No GitLab backup files found\u0026quot; | mail -s \u0026quot;GitLab Backup Alert\u0026quot; $EMAIL\nfi\n\necho \u0026quot;$(date): Health check completed. Failed services: $failed_services\u0026quot; \u0026gt;\u0026gt; $HEALTH_LOG\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-health-monitor.sh\n\n# Schedule health checks every 10 minutes\necho \u0026quot;*/10 * * * * root /usr/local/bin/gitlab-health-monitor.sh\u0026quot; | sudo tee -a /etc/crontab\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"12-backup-and-restore\" class=\"mobile-header\"\u003e12. Backup and Restore\u003c/h2\u003e\n\u003ch3 id=\"automated-backup-strategy\" class=\"mobile-header\"\u003eAutomated Backup Strategy\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create comprehensive backup script\nsudo tee /usr/local/bin/gitlab-backup-complete.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\nBACKUP_DIR=\u0026quot;/backup/gitlab\u0026quot;\nDATE=$(date +%Y%m%d_%H%M%S)\nRETENTION_DAYS=30\nEMAIL=\u0026quot;admin@example.com\u0026quot;\n\n# Create backup directories\nmkdir -p ${BACKUP_DIR}/{omnibus,secrets,ssl,registry,uploads}\n\necho \u0026quot;$(date): Starting GitLab backup process...\u0026quot;\n\n# Create GitLab application backup\necho \u0026quot;Creating GitLab application backup...\u0026quot;\nif gitlab-backup create STRATEGY=copy SKIP=uploads,builds,artifacts,lfs,registry,pages; then\n    echo \u0026quot;✓ GitLab application backup completed\u0026quot;\nelse\n    echo \u0026quot;✗ GitLab application backup failed\u0026quot;\n    echo \u0026quot;GitLab application backup failed on $(hostname)\u0026quot; | mail -s \u0026quot;GitLab Backup Failure\u0026quot; $EMAIL\n    exit 1\nfi\n\n# Backup configuration files\necho \u0026quot;Backing up configuration files...\u0026quot;\ntar -czf ${BACKUP_DIR}/omnibus/gitlab-config-${DATE}.tar.gz \\\n    /etc/gitlab/gitlab.rb \\\n    /etc/gitlab/gitlab-secrets.json \\\n    /etc/gitlab/trusted-certs/ 2\u0026gt;/dev/null\n\n# Backup SSL certificates\necho \u0026quot;Backing up SSL certificates...\u0026quot;\nif [ -d /etc/gitlab/ssl ]; then\n    tar -czf ${BACKUP_DIR}/ssl/gitlab-ssl-${DATE}.tar.gz /etc/gitlab/ssl/\nfi\n\nif [ -d /etc/letsencrypt ]; then\n    tar -czf ${BACKUP_DIR}/ssl/letsencrypt-${DATE}.tar.gz /etc/letsencrypt/\nfi\n\n# Backup secrets\necho \u0026quot;Backing up secrets...\u0026quot;\nif [ -d /etc/gitlab/secrets ]; then\n    tar -czf ${BACKUP_DIR}/secrets/gitlab-secrets-${DATE}.tar.gz /etc/gitlab/secrets/\nfi\n\n# Backup container registry (if using local storage)\nif [ -d /var/opt/gitlab/gitlab-rails/shared/registry ]; then\n    echo \u0026quot;Backing up container registry...\u0026quot;\n    tar -czf ${BACKUP_DIR}/registry/registry-${DATE}.tar.gz /var/opt/gitlab/gitlab-rails/shared/registry/\nfi\n\n# Upload to cloud storage (multiple providers)\necho \u0026quot;Uploading backups to cloud storage...\u0026quot;\n\n# AWS S3\nif command -v aws \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    aws s3 sync ${BACKUP_DIR}/ s3://gitlab-backups-primary/${DATE}/\nfi\n\n# Azure Blob Storage\nif command -v az \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    az storage blob upload-batch --source ${BACKUP_DIR} --destination gitlab-backups --destination-path ${DATE}\nfi\n\n# Google Cloud Storage\nif command -v gsutil \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    gsutil -m cp -r ${BACKUP_DIR}/* gs://gitlab-backups-gcs/${DATE}/\nfi\n\n# Verify backup integrity\necho \u0026quot;Verifying backup integrity...\u0026quot;\nLATEST_BACKUP=$(ls -t /var/opt/gitlab/backups/*_gitlab_backup.tar | head -1)\nif [ -n \u0026quot;$LATEST_BACKUP\u0026quot; ]; then\n    if tar -tf \u0026quot;$LATEST_BACKUP\u0026quot; \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n        echo \u0026quot;✓ Backup integrity verified\u0026quot;\n    else\n        echo \u0026quot;✗ Backup integrity check failed\u0026quot;\n        echo \u0026quot;GitLab backup integrity check failed\u0026quot; | mail -s \u0026quot;GitLab Backup Integrity Alert\u0026quot; $EMAIL\n    fi\nfi\n\n# Cleanup old backups\necho \u0026quot;Cleaning up old backups...\u0026quot;\nfind /var/opt/gitlab/backups/ -name \u0026quot;*_gitlab_backup.tar\u0026quot; -mtime +${RETENTION_DAYS} -delete\nfind ${BACKUP_DIR} -name \u0026quot;gitlab-*\u0026quot; -type f -mtime +${RETENTION_DAYS} -delete\n\n# Send success notification\necho \u0026quot;GitLab backup completed successfully on $(date)\u0026quot; | mail -s \u0026quot;GitLab Backup Success\u0026quot; $EMAIL\n\necho \u0026quot;$(date): GitLab backup process completed successfully\u0026quot;\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-backup-complete.sh\n\n# Schedule daily backups at 2 AM\necho \u0026quot;0 2 * * * root /usr/local/bin/gitlab-backup-complete.sh\u0026quot; | sudo tee -a /etc/crontab\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"disaster-recovery-procedures\" class=\"mobile-header\"\u003eDisaster Recovery Procedures\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create disaster recovery script\nsudo tee /usr/local/bin/gitlab-disaster-recovery.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\nBACKUP_FILE=\u0026quot;${1}\u0026quot;\nCONFIG_BACKUP=\u0026quot;${2}\u0026quot;\n\nif [ -z \u0026quot;$BACKUP_FILE\u0026quot; ] || [ -z \u0026quot;$CONFIG_BACKUP\u0026quot; ]; then\n    echo \u0026quot;Usage: $0 \u0026lt;backup_file\u0026gt; \u0026lt;config_backup\u0026gt;\u0026quot;\n    echo \u0026quot;Available backups:\u0026quot;\n    ls -la /var/opt/gitlab/backups/*_gitlab_backup.tar 2\u0026gt;/dev/null || echo \u0026quot;No local backups found\u0026quot;\n    exit 1\nfi\n\necho \u0026quot;$(date): Starting GitLab disaster recovery process...\u0026quot;\n\n# Pre-recovery checks\necho \u0026quot;Performing pre-recovery checks...\u0026quot;\nif ! command -v gitlab-ctl \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    echo \u0026quot;GitLab not installed. Please install GitLab first.\u0026quot;\n    exit 1\nfi\n\n# Stop GitLab services\necho \u0026quot;Stopping GitLab services...\u0026quot;\ngitlab-ctl stop unicorn\ngitlab-ctl stop puma  \ngitlab-ctl stop sidekiq\ngitlab-ctl stop workhorse\ngitlab-ctl stop gitaly\n\n# Backup current installation (if any)\nif [ -d /var/opt/gitlab/git-data ]; then\n    echo \u0026quot;Backing up current installation...\u0026quot;\n    mv /var/opt/gitlab /var/opt/gitlab.backup.$(date +%s)\n    mkdir -p /var/opt/gitlab\nfi\n\n# Restore configuration\necho \u0026quot;Restoring configuration files...\u0026quot;\nif [ -f \u0026quot;$CONFIG_BACKUP\u0026quot; ]; then\n    cd /\n    tar -xzf \u0026quot;$CONFIG_BACKUP\u0026quot;\nelse\n    echo \u0026quot;Configuration backup not found: $CONFIG_BACKUP\u0026quot;\n    exit 1\nfi\n\n# Reconfigure GitLab with restored configuration\necho \u0026quot;Reconfiguring GitLab...\u0026quot;\ngitlab-ctl reconfigure\n\n# Restore GitLab backup\necho \u0026quot;Restoring GitLab backup...\u0026quot;\nBACKUP_NAME=$(basename \u0026quot;$BACKUP_FILE\u0026quot; _gitlab_backup.tar)\nif gitlab-backup restore BACKUP=\u0026quot;$BACKUP_NAME\u0026quot; force=yes; then\n    echo \u0026quot;✓ GitLab backup restored successfully\u0026quot;\nelse\n    echo \u0026quot;✗ GitLab backup restoration failed\u0026quot;\n    exit 1\nfi\n\n# Start GitLab services\necho \u0026quot;Starting GitLab services...\u0026quot;\ngitlab-ctl start\n\n# Wait for services to start\necho \u0026quot;Waiting for services to start...\u0026quot;\nsleep 30\n\n# Verify installation\necho \u0026quot;Verifying GitLab installation...\u0026quot;\nif gitlab-rake gitlab:check SANITIZE=true; then\n    echo \u0026quot;✓ GitLab installation verified successfully\u0026quot;\nelse\n    echo \u0026quot;⚠ GitLab verification completed with warnings\u0026quot;\nfi\n\n# Run database migrations (if needed)\necho \u0026quot;Running database migrations...\u0026quot;\ngitlab-rake db:migrate\n\necho \u0026quot;$(date): GitLab disaster recovery completed\u0026quot;\necho \u0026quot;Please verify the installation manually and check all services\u0026quot;\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-disaster-recovery.sh\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"point-in-time-recovery\" class=\"mobile-header\"\u003ePoint-in-Time Recovery\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ruby\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eruby\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# /etc/gitlab/gitlab.rb - Configure for point-in-time recovery\n\n# Enable WAL archiving for PostgreSQL\npostgresql[\u0026#039;archive_mode\u0026#039;] = \u0026quot;on\u0026quot;\npostgresql[\u0026#039;archive_command\u0026#039;] = \u0026#039;cp %p /var/opt/gitlab/postgresql/archive/%f\u0026#039;\npostgresql[\u0026#039;max_wal_senders\u0026#039;] = 3\npostgresql[\u0026#039;wal_keep_segments\u0026#039;] = 32\npostgresql[\u0026#039;checkpoint_segments\u0026#039;] = 32\n\n# Configure continuous archiving\npostgresql[\u0026#039;archive_timeout\u0026#039;] = \u0026#039;60s\u0026#039;\npostgresql[\u0026#039;checkpoint_completion_target\u0026#039;] = 0.9\n\n# Backup retention\ngitlab_rails[\u0026#039;backup_keep_time\u0026#039;] = 2592000  # 30 days\ngitlab_rails[\u0026#039;backup_archive_permissions\u0026#039;] = 0644\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"13-troubleshooting\" class=\"mobile-header\"\u003e13. Troubleshooting\u003c/h2\u003e\n\u003ch3 id=\"common-issues-and-solutions\" class=\"mobile-header\"\u003eCommon Issues and Solutions\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# GitLab service diagnostics\nsudo tee /usr/local/bin/gitlab-diagnose.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\necho \u0026quot;=== GitLab Diagnostic Report ===\u0026quot;\necho \u0026quot;Date: $(date)\u0026quot;\necho \u0026quot;Hostname: $(hostname)\u0026quot;\necho \u0026quot;GitLab Version: $(gitlab-rake gitlab:env:info | grep \u0026quot;GitLab information\u0026quot; -A 5)\u0026quot;\necho\n\necho \u0026quot;=== Service Status ===\u0026quot;\nsudo gitlab-ctl status\necho\n\necho \u0026quot;=== Memory Usage ===\u0026quot;\nfree -h\necho\n\necho \u0026quot;=== Disk Usage ===\u0026quot;\ndf -h | grep -E \u0026quot;(gitlab|Filesystem)\u0026quot;\necho\n\necho \u0026quot;=== GitLab Processes ===\u0026quot;\nps aux | grep -E \u0026quot;(gitlab|unicorn|sidekiq|workhorse|gitaly)\u0026quot; | grep -v grep\necho\n\necho \u0026quot;=== Database Connectivity ===\u0026quot;\nif sudo gitlab-psql -c \u0026quot;SELECT version();\u0026quot; \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    echo \u0026quot;✓ PostgreSQL connection OK\u0026quot;\n    sudo gitlab-psql -c \u0026quot;SELECT count(*) as active_connections FROM pg_stat_activity;\u0026quot;\nelse\n    echo \u0026quot;✗ PostgreSQL connection FAILED\u0026quot;\nfi\necho\n\necho \u0026quot;=== Redis Connectivity ===\u0026quot;\nif redis-cli ping \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    echo \u0026quot;✓ Redis connection OK\u0026quot;\n    redis-cli info memory | grep used_memory_human\nelse\n    echo \u0026quot;✗ Redis connection FAILED\u0026quot;\nfi\necho\n\necho \u0026quot;=== Recent Errors ===\u0026quot;\necho \u0026quot;Last 10 errors from GitLab logs:\u0026quot;\nfind /var/log/gitlab -name \u0026quot;*.log\u0026quot; -type f -exec grep -l \u0026quot;ERROR\\|FATAL\u0026quot; {} \\; | head -5 | while read log; do\n    echo \u0026quot;--- $log ---\u0026quot;\n    tail -5 \u0026quot;$log\u0026quot; | grep -E \u0026quot;ERROR|FATAL\u0026quot; | tail -2\ndone\necho\n\necho \u0026quot;=== Network Connectivity ===\u0026quot;\necho \u0026quot;Testing external connectivity:\u0026quot;\nif curl -Is https://gitlab.com \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    echo \u0026quot;✓ External connectivity OK\u0026quot;\nelse\n    echo \u0026quot;✗ External connectivity FAILED\u0026quot;\nfi\n\necho \u0026quot;Testing internal services:\u0026quot;\nnetstat -tlnp | grep -E \u0026quot;(80|443|22|5432|6379)\u0026quot;\necho\n\necho \u0026quot;=== SSL Certificate Status ===\u0026quot;\nif [ -f /etc/gitlab/ssl/gitlab.example.com.crt ]; then\n    echo \u0026quot;SSL certificate expires:\u0026quot;\n    openssl x509 -in /etc/gitlab/ssl/gitlab.example.com.crt -noout -dates\nelse\n    echo \u0026quot;No SSL certificate found\u0026quot;\nfi\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-diagnose.sh\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"specific-problem-resolution\" class=\"mobile-header\"\u003eSpecific Problem Resolution\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### High Memory Usage\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Reduce memory consumption\nsudo tee -a /etc/gitlab/gitlab.rb \u0026lt;\u0026lt;EOF\n# Memory optimization for smaller systems\nunicorn[\u0026#039;worker_processes\u0026#039;] = 2\nsidekiq[\u0026#039;max_concurrency\u0026#039;] = 10\npostgresql[\u0026#039;shared_buffers\u0026#039;] = \u0026quot;256MB\u0026quot;\npostgresql[\u0026#039;effective_cache_size\u0026#039;] = \u0026quot;1GB\u0026quot;\nEOF\n\nsudo gitlab-ctl reconfigure\nsudo gitlab-ctl restart\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Database Issues\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Database troubleshooting commands\nsudo gitlab-ctl status postgresql\nsudo gitlab-psql -d gitlabhq_production\n\n# Check database connections\nsudo gitlab-psql -c \u0026quot;SELECT count(*) FROM pg_stat_activity;\u0026quot;\n\n# Check for locks\nsudo gitlab-psql -c \u0026quot;SELECT * FROM pg_locks WHERE NOT granted;\u0026quot;\n\n# Vacuum and analyze database\nsudo gitlab-psql -c \u0026quot;VACUUM ANALYZE;\u0026quot;\n\n# Check database size\nsudo gitlab-psql -c \u0026quot;SELECT pg_database_size(\u0026#039;gitlabhq_production\u0026#039;);\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Performance Issues\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check system resources\ntop -p $(pgrep -d\u0026#039;,\u0026#039; -f gitlab)\niostat -x 1 5\nfree -h\n\n# Check GitLab worker status\nsudo gitlab-ctl status | grep -E \u0026quot;(unicorn|sidekiq)\u0026quot;\n\n# Check background job queue\nsudo gitlab-rails runner \u0026quot;puts Sidekiq::Queue.new.size\u0026quot;\n\n# Restart specific services\nsudo gitlab-ctl restart sidekiq\nsudo gitlab-ctl restart unicorn\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### SSL/TLS Issues\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Test SSL configuration\nopenssl s_client -connect gitlab.example.com:443 -servername gitlab.example.com\n\n# Check certificate chain\nopenssl s_client -connect gitlab.example.com:443 -showcerts\n\n# Verify certificate\nopenssl x509 -in /etc/gitlab/ssl/gitlab.example.com.crt -text -noout\n\n# Test cipher suites\nnmap --script ssl-enum-ciphers -p 443 gitlab.example.com\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Repository Issues\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check repository integrity\nsudo gitlab-rake gitlab:check:repos\n\n# Recreate authorized_keys file\nsudo gitlab-rake gitlab:shell:setup\n\n# Check GitLab Shell\nsudo gitlab-rake gitlab:gitlab_shell:check\n\n# Fix repository permissions\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"14-integration-examples\" class=\"mobile-header\"\u003e14. Integration Examples\u003c/h2\u003e\n\u003ch3 id=\"cicd-pipeline-integration\" class=\"mobile-header\"\u003eCI/CD Pipeline Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"yaml\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eyaml\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e# .gitlab-ci.yml - Comprehensive CI/CD pipeline\nstages:\n  - security\n  - test\n  - build\n  - deploy\n  - monitor\n\nvariables:\n  DOCKER_DRIVER: overlay2\n  DOCKER_TLS_CERTDIR: \u0026quot;/certs\u0026quot;\n  SECURE_LOG_LEVEL: info\n\n# Security scanning stage\ninclude:\n  - template: Security/SAST.gitlab-ci.yml\n  - template: Security/Dependency-Scanning.gitlab-ci.yml\n  - template: Security/Container-Scanning.gitlab-ci.yml\n  - template: Security/Secret-Detection.gitlab-ci.yml\n\n# Custom security scans\nsecurity:custom-audit:\n  stage: security\n  image: alpine:latest\n  before_script:\n    - apk add --no-cache curl jq\n  script:\n    - echo \u0026quot;Running custom security audit...\u0026quot;\n    - |\n      # Check for hardcoded secrets\n      if grep -r -E \u0026quot;(password|secret|key|token).*=.*[\u0026#039;\\\u0026quot;][a-zA-Z0-9]{8,}[\u0026#039;\\\u0026quot;]\u0026quot; .; then\n        echo \u0026quot;Potential hardcoded secrets found!\u0026quot;\n        exit 1\n      fi\n    - echo \u0026quot;Security audit passed\u0026quot;\n  rules:\n    - if: \u0026#039;$CI_COMMIT_BRANCH\u0026#039;\n\n# Testing stage\ntest:unit:\n  stage: test\n  image: node:18-alpine\n  script:\n    - npm ci\n    - npm run test:unit\n  coverage: \u0026#039;/Coverage: \\d+\\.\\d+%/\u0026#039;\n  artifacts:\n    reports:\n      coverage_report:\n        coverage_format: cobertura\n        path: coverage/cobertura-coverage.xml\n\ntest:integration:\n  stage: test\n  image: docker:latest\n  services:\n    - docker:dind\n  script:\n    - docker-compose -f docker-compose.test.yml up --build --exit-code-from app\n  artifacts:\n    reports:\n      junit: test-results.xml\n\n# Build stage\nbuild:docker:\n  stage: build\n  image: docker:latest\n  services:\n    - docker:dind\n  before_script:\n    - docker login -u $CI_REGISTRY_USER -p $CI_REGISTRY_PASSWORD $CI_REGISTRY\n  script:\n    - docker build -t $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA .\n    - docker tag $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA $CI_REGISTRY_IMAGE:latest\n    - docker push $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA\n    - docker push $CI_REGISTRY_IMAGE:latest\n  rules:\n    - if: \u0026#039;$CI_COMMIT_BRANCH == \u0026quot;main\u0026quot;\u0026#039;\n\n# Deployment stages\ndeploy:staging:\n  stage: deploy\n  image: alpine/kubectl:latest\n  script:\n    - kubectl config use-context staging\n    - kubectl set image deployment/app app=$CI_REGISTRY_IMAGE:$CI_COMMIT_SHA\n    - kubectl rollout status deployment/app\n  environment:\n    name: staging\n    url: https://staging.example.com\n  rules:\n    - if: \u0026#039;$CI_COMMIT_BRANCH == \u0026quot;main\u0026quot;\u0026#039;\n\ndeploy:production:\n  stage: deploy\n  image: alpine/kubectl:latest\n  script:\n    - kubectl config use-context production\n    - kubectl set image deployment/app app=$CI_REGISTRY_IMAGE:$CI_COMMIT_SHA\n    - kubectl rollout status deployment/app\n  environment:\n    name: production\n    url: https://app.example.com\n  rules:\n    - if: \u0026#039;$CI_COMMIT_BRANCH == \u0026quot;main\u0026quot;\u0026#039;\n      when: manual\n\n# Monitoring stage\nmonitor:deployment:\n  stage: monitor\n  image: curlimages/curl:latest\n  script:\n    - sleep 60  # Wait for deployment\n    - |\n      if curl -f https://app.example.com/health; then\n        echo \u0026quot;Deployment health check passed\u0026quot;\n      else\n        echo \u0026quot;Deployment health check failed\u0026quot;\n        exit 1\n      fi\n  rules:\n    - if: \u0026#039;$CI_COMMIT_BRANCH == \u0026quot;main\u0026quot;\u0026#039;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"external-service-integrations\" class=\"mobile-header\"\u003eExternal Service Integrations\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Slack Integration\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure Slack notifications\ncurl -X POST \u0026quot;https://gitlab.example.com/api/v4/projects/1/services/slack\u0026quot; \\\n  --header \u0026quot;PRIVATE-TOKEN: $GITLAB_TOKEN\u0026quot; \\\n  --data-urlencode \u0026quot;webhook=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK\u0026quot; \\\n  --data-urlencode \u0026quot;channel=#gitlab\u0026quot; \\\n  --data-urlencode \u0026quot;push_events=true\u0026quot; \\\n  --data-urlencode \u0026quot;issues_events=true\u0026quot; \\\n  --data-urlencode \u0026quot;merge_requests_events=true\u0026quot; \\\n  --data-urlencode \u0026quot;pipeline_events=true\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Jira Integration\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure Jira integration\ncurl -X PUT \u0026quot;https://gitlab.example.com/api/v4/projects/1/services/jira\u0026quot; \\\n  --header \u0026quot;PRIVATE-TOKEN: $GITLAB_TOKEN\u0026quot; \\\n  --data-urlencode \u0026quot;url=https://yourcompany.atlassian.net\u0026quot; \\\n  --data-urlencode \u0026quot;username=gitlab@company.com\u0026quot; \\\n  --data-urlencode \u0026quot;password=jira_api_token\u0026quot; \\\n  --data-urlencode \u0026quot;project_key=PROJ\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Kubernetes Integration\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ruby\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eruby\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# /etc/gitlab/gitlab.rb - Kubernetes integration\ngitlab_rails[\u0026#039;kubernetes_enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;kubernetes_namespace\u0026#039;] = \u0026#039;gitlab\u0026#039;\n\n# Enable GitLab Agent for Kubernetes\ngitlab_rails[\u0026#039;gitlab_kas_enabled\u0026#039;] = true\ngitlab_kas[\u0026#039;enable\u0026#039;] = true\ngitlab_kas[\u0026#039;listen_address\u0026#039;] = \u0026#039;0.0.0.0:8150\u0026#039;\ngitlab_kas[\u0026#039;listen_websocket\u0026#039;] = \u0026#039;0.0.0.0:8151\u0026#039;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"15-maintenance\" class=\"mobile-header\"\u003e15. Maintenance\u003c/h2\u003e\n\u003ch3 id=\"regular-maintenance-tasks\" class=\"mobile-header\"\u003eRegular Maintenance Tasks\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create maintenance script\nsudo tee /usr/local/bin/gitlab-maintenance.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\nMAINTENANCE_LOG=\u0026quot;/var/log/gitlab-maintenance.log\u0026quot;\n\necho \u0026quot;$(date): Starting GitLab maintenance\u0026quot; \u0026gt;\u0026gt; $MAINTENANCE_LOG\n\n# Update GitLab to latest version\necho \u0026quot;Checking for GitLab updates...\u0026quot; \u0026gt;\u0026gt; $MAINTENANCE_LOG\nif command -v apt-get \u0026gt;/dev/null; then\n    apt-get update \u0026amp;\u0026amp; apt-get upgrade gitlab-ee\nelif command -v yum \u0026gt;/dev/null; then\n    yum update gitlab-ee\nelif command -v dnf \u0026gt;/dev/null; then\n    dnf update gitlab-ee\nfi\n\n# Clean up old log files\necho \u0026quot;Cleaning up old log files...\u0026quot; \u0026gt;\u0026gt; $MAINTENANCE_LOG\nfind /var/log/gitlab -name \u0026quot;*.log.*\u0026quot; -mtime +30 -delete\n\n# Clean up old backups\necho \u0026quot;Cleaning up old backups...\u0026quot; \u0026gt;\u0026gt; $MAINTENANCE_LOG\nfind /var/opt/gitlab/backups -name \u0026quot;*_gitlab_backup.tar\u0026quot; -mtime +7 -delete\n\n# Database maintenance\necho \u0026quot;Performing database maintenance...\u0026quot; \u0026gt;\u0026gt; $MAINTENANCE_LOG\nsudo gitlab-rake gitlab:cleanup:sessions\nsudo gitlab-rake gitlab:cleanup:project_uploads\nsudo gitlab-psql -c \u0026quot;VACUUM ANALYZE;\u0026quot;\n\n# Git repository optimization\necho \u0026quot;Optimizing Git repositories...\u0026quot; \u0026gt;\u0026gt; $MAINTENANCE_LOG\nsudo gitlab-rake gitlab:cleanup:repos\n\n# Container registry cleanup\necho \u0026quot;Cleaning up container registry...\u0026quot; \u0026gt;\u0026gt; $MAINTENANCE_LOG\nsudo gitlab-ctl registry-garbage-collect\n\n# Check system health\necho \u0026quot;Checking system health...\u0026quot; \u0026gt;\u0026gt; $MAINTENANCE_LOG\nsudo gitlab-rake gitlab:check SANITIZE=true \u0026gt;\u0026gt; $MAINTENANCE_LOG\n\necho \u0026quot;$(date): GitLab maintenance completed\u0026quot; \u0026gt;\u0026gt; $MAINTENANCE_LOG\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-maintenance.sh\n\n# Schedule monthly maintenance on first Sunday at 3 AM\necho \u0026quot;0 3 1-7 * 0 root /usr/local/bin/gitlab-maintenance.sh\u0026quot; | sudo tee -a /etc/crontab\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"update-procedures\" class=\"mobile-header\"\u003eUpdate Procedures\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create update script\nsudo tee /usr/local/bin/gitlab-update.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\nCURRENT_VERSION=$(gitlab-rake gitlab:env:info | grep \u0026quot;GitLab information\u0026quot; | head -1)\nBACKUP_DIR=\u0026quot;/backup/pre-update\u0026quot;\nEMAIL=\u0026quot;admin@example.com\u0026quot;\n\necho \u0026quot;Current GitLab version: $CURRENT_VERSION\u0026quot;\necho \u0026quot;Creating pre-update backup...\u0026quot;\n\n# Create backup before update\nmkdir -p $BACKUP_DIR\ngitlab-backup create BACKUP=$BACKUP_DIR\n\n# Update GitLab\nif command -v apt-get \u0026gt;/dev/null; then\n    apt-get update\n    apt-get install gitlab-ee\nelif command -v dnf \u0026gt;/dev/null; then\n    dnf update gitlab-ee\nfi\n\n# Reconfigure after update\ngitlab-ctl reconfigure\n\n# Check installation\nif gitlab-rake gitlab:check SANITIZE=true; then\n    echo \u0026quot;GitLab update successful\u0026quot; | mail -s \u0026quot;GitLab Update Success\u0026quot; $EMAIL\nelse\n    echo \u0026quot;GitLab update completed with warnings\u0026quot; | mail -s \u0026quot;GitLab Update Warning\u0026quot; $EMAIL\nfi\n\nNEW_VERSION=$(gitlab-rake gitlab:env:info | grep \u0026quot;GitLab information\u0026quot; | head -1)\necho \u0026quot;Updated GitLab version: $NEW_VERSION\u0026quot;\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-update.sh\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"16-additional-resources\" class=\"mobile-header\"\u003e16. Additional Resources\u003c/h2\u003e\n\u003ch3 id=\"documentation-links\" class=\"mobile-header\"\u003eDocumentation Links\u003c/h3\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eOfficial GitLab Documentation\u003c/strong\u003e: https://docs.gitlab.com/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Administration Guide\u003c/strong\u003e: https://docs.gitlab.com/ee/administration/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Security Documentation\u003c/strong\u003e: https://docs.gitlab.com/ee/security/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab CI/CD Documentation\u003c/strong\u003e: https://docs.gitlab.com/ee/ci/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab API Documentation\u003c/strong\u003e: https://docs.gitlab.com/ee/api/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Runner Documentation\u003c/strong\u003e: https://docs.gitlab.com/runner/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Container Registry\u003c/strong\u003e: https://docs.gitlab.com/ee/user/packages/container_registry/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Pages Documentation\u003c/strong\u003e: https://docs.gitlab.com/ee/user/project/pages/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Geo Documentation\u003c/strong\u003e: https://docs.gitlab.com/ee/administration/geo/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Kubernetes Integration\u003c/strong\u003e: https://docs.gitlab.com/ee/user/clusters/agent/\u003c/li\u003e\n\u003ch3 id=\"community-resources\" class=\"mobile-header\"\u003eCommunity Resources\u003c/h3\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Community Forum\u003c/strong\u003e: https://forum.gitlab.com/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Community Discord\u003c/strong\u003e: https://discord.com/invite/gitlab\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Reddit Community\u003c/strong\u003e: https://www.reddit.com/r/gitlab/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Stack Overflow\u003c/strong\u003e: https://stackoverflow.com/questions/tagged/gitlab\u003c/li\u003e\n\u003ch3 id=\"training-and-certification\" class=\"mobile-header\"\u003eTraining and Certification\u003c/h3\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Learn\u003c/strong\u003e: https://about.gitlab.com/learn/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab University\u003c/strong\u003e: https://university.gitlab.com/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Certified Associate\u003c/strong\u003e: https://about.gitlab.com/services/education/gitlab-certified-associate/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Professional Services\u003c/strong\u003e: https://about.gitlab.com/services/\u003c/li\u003e\n\u003ch3 id=\"tools-and-utilities\" class=\"mobile-header\"\u003eTools and Utilities\u003c/h3\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab CLI (glab)\u003c/strong\u003e: https://gitlab.com/gitlab-org/cli\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Terraform Provider\u003c/strong\u003e: https://registry.terraform.io/providers/gitlabhq/gitlab/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Ansible Collection\u003c/strong\u003e: https://galaxy.ansible.com/gitlab/gitlab\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Helm Chart\u003c/strong\u003e: https://docs.gitlab.com/charts/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Docker Images\u003c/strong\u003e: https://hub.docker.com/u/gitlab\u003c/li\u003e\n\u003ch3 id=\"security-resources\" class=\"mobile-header\"\u003eSecurity Resources\u003c/h3\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Security Team\u003c/strong\u003e: https://about.gitlab.com/security/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Bug Bounty Program\u003c/strong\u003e: https://about.gitlab.com/security/disclosure/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Security Advisories\u003c/strong\u003e: https://about.gitlab.com/security/advisories/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Compliance\u003c/strong\u003e: https://about.gitlab.com/compliance/\u003c/li\u003e\n\u003ch3 id=\"performance-and-scaling\" class=\"mobile-header\"\u003ePerformance and Scaling\u003c/h3\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Reference Architectures\u003c/strong\u003e: https://docs.gitlab.com/ee/administration/reference_architectures/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Performance Monitoring\u003c/strong\u003e: https://docs.gitlab.com/ee/administration/monitoring/performance/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eGitLab Scaling and High Availability\u003c/strong\u003e: https://docs.gitlab.com/ee/administration/high_availability/\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e---\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This guide covers native OS installations of GitLab across multiple platforms with enterprise-grade security, monitoring, and maintenance procedures. For specific enterprise features, consider GitLab Enterprise Edition. This guide is part of the \u003ca href=\"https://howtomgr.github.io\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eHowToMgr\u003c/a\u003e collection.\u003c/p\u003e","readTime":"39 min","wordCount":7746,"tableOfContents":[{"level":2,"text":"Table of Contents","id":"table-of-contents"},{"level":2,"text":"1. Introduction","id":"1-introduction"},{"level":3,"text":"FOSS Context","id":"foss-context"},{"level":3,"text":"Key Features","id":"key-features"},{"level":2,"text":"2. Prerequisites","id":"2-prerequisites"},{"level":3,"text":"10. System Requirements","id":"10-system-requirements"},{"level":3,"text":"Required Software Dependencies","id":"required-software-dependencies"},{"level":3,"text":"Network Requirements","id":"network-requirements"},{"level":3,"text":"Optional Components","id":"optional-components"},{"level":2,"text":"3. Installation","id":"3-installation"},{"level":3,"text":"RHEL/CentOS/Rocky Linux/AlmaLinux","id":"rhelcentosrocky-linuxalmalinux"},{"level":1,"text":"Update system packages","id":"update-system-packages"},{"level":1,"text":"Install required dependencies","id":"install-required-dependencies"},{"level":1,"text":"Enable and start required services","id":"enable-and-start-required-services"},{"level":1,"text":"Configure SELinux policies for GitLab","id":"configure-selinux-policies-for-gitlab"},{"level":1,"text":"Configure firewall rules","id":"configure-firewall-rules"},{"level":1,"text":"Add GitLab official repository","id":"add-gitlab-official-repository"},{"level":1,"text":"Install GitLab Enterprise Edition","id":"install-gitlab-enterprise-edition"},{"level":1,"text":"For Community Edition instead:","id":"for-community-edition-instead"},{"level":1,"text":"sudo EXTERNAL_URL=\"https://gitlab.example.com\" dnf install -y gitlab-ce","id":"sudo-external_urlhttpsgitlabexamplecom-dnf-install-y-gitlab-ce"},{"level":1,"text":"Initial configuration and start services","id":"initial-configuration-and-start-services"},{"level":1,"text":"Check installation status","id":"check-installation-status"},{"level":1,"text":"Install dependencies","id":"install-dependencies"},{"level":1,"text":"Configure services","id":"configure-services"},{"level":1,"text":"Add repository and install","id":"add-repository-and-install"},{"level":3,"text":"Debian/Ubuntu","id":"debianubuntu"},{"level":1,"text":"Update package repositories","id":"update-package-repositories"},{"level":1,"text":"Install required dependencies","id":"install-required-dependencies"},{"level":1,"text":"Configure Postfix for email (choose 'Internet Site' for basic setup)","id":"configure-postfix-for-email-choose-internet-site-for-basic-setup"},{"level":1,"text":"Configure UFW firewall (if enabled)","id":"configure-ufw-firewall-if-enabled"},{"level":1,"text":"Add GitLab official repository","id":"add-gitlab-official-repository"},{"level":1,"text":"Install GitLab Enterprise Edition","id":"install-gitlab-enterprise-edition"},{"level":1,"text":"For Community Edition instead:","id":"for-community-edition-instead"},{"level":1,"text":"sudo EXTERNAL_URL=\"https://gitlab.example.com\" apt-get install -y gitlab-ce","id":"sudo-external_urlhttpsgitlabexamplecom-apt-get-install-y-gitlab-ce"},{"level":1,"text":"Initial configuration and start services","id":"initial-configuration-and-start-services"},{"level":1,"text":"Verify installation","id":"verify-installation"},{"level":3,"text":"Arch Linux","id":"arch-linux"},{"level":1,"text":"Update system packages","id":"update-system-packages"},{"level":1,"text":"Install required dependencies","id":"install-required-dependencies"},{"level":1,"text":"Enable and start services","id":"enable-and-start-services"},{"level":1,"text":"Install GitLab from AUR (using yay helper)","id":"install-gitlab-from-aur-using-yay-helper"},{"level":1,"text":"Or install GitLab Community Edition","id":"or-install-gitlab-community-edition"},{"level":1,"text":"yay -S gitlab","id":"yay-s-gitlab"},{"level":1,"text":"Configure GitLab","id":"configure-gitlab"},{"level":1,"text":"Set: external_url 'https://gitlab.example.com'","id":"set-external_url-httpsgitlabexamplecom"},{"level":1,"text":"Initial configuration","id":"initial-configuration"},{"level":1,"text":"Enable GitLab service","id":"enable-gitlab-service"},{"level":3,"text":"Alpine Linux","id":"alpine-linux"},{"level":1,"text":"Update package index","id":"update-package-index"},{"level":1,"text":"Install required packages","id":"install-required-packages"},{"level":1,"text":"Enable services","id":"enable-services"},{"level":1,"text":"Add GitLab repository key","id":"add-gitlab-repository-key"},{"level":1,"text":"Add GitLab repository","id":"add-gitlab-repository"},{"level":1,"text":"Update and install GitLab","id":"update-and-install-gitlab"},{"level":1,"text":"Configure external URL","id":"configure-external-url"},{"level":1,"text":"Reconfigure and start","id":"reconfigure-and-start"},{"level":3,"text":"openSUSE/SLES","id":"opensusesles"},{"level":1,"text":"Install dependencies (openSUSE)","id":"install-dependencies-opensuse"},{"level":1,"text":"For SLES","id":"for-sles"},{"level":1,"text":"sudo zypper install -y curl openssh2 postfix","id":"sudo-zypper-install-y-curl-openssh2-postfix"},{"level":1,"text":"Enable services","id":"enable-services"},{"level":1,"text":"Configure firewall","id":"configure-firewall"},{"level":1,"text":"Add GitLab repository","id":"add-gitlab-repository"},{"level":1,"text":"Install GitLab","id":"install-gitlab"},{"level":1,"text":"Configure and start","id":"configure-and-start"},{"level":3,"text":"macOS","id":"macos"},{"level":1,"text":"Install Homebrew if not already installed","id":"install-homebrew-if-not-already-installed"},{"level":1,"text":"Install required dependencies","id":"install-required-dependencies"},{"level":1,"text":"Start postfix service","id":"start-postfix-service"},{"level":1,"text":"Install GitLab using official installer","id":"install-gitlab-using-official-installer"},{"level":1,"text":"Note: GitLab doesn't provide native macOS packages","id":"note-gitlab-doesnt-provide-native-macos-packages"},{"level":1,"text":"Recommended to use Docker for macOS installations:","id":"recommended-to-use-docker-for-macos-installations"},{"level":1,"text":"Create GitLab directories","id":"create-gitlab-directories"},{"level":1,"text":"Set environment variables","id":"set-environment-variables"},{"level":1,"text":"Run GitLab container","id":"run-gitlab-container"},{"level":3,"text":"FreeBSD","id":"freebsd"},{"level":1,"text":"Update ports tree","id":"update-ports-tree"},{"level":1,"text":"Install required ports","id":"install-required-ports"},{"level":1,"text":"Enable services","id":"enable-services"},{"level":1,"text":"Configure firewall (if pf is enabled)","id":"configure-firewall-if-pf-is-enabled"},{"level":1,"text":"GitLab doesn't provide official FreeBSD packages","id":"gitlab-doesnt-provide-official-freebsd-packages"},{"level":1,"text":"Install using source compilation or Docker:","id":"install-using-source-compilation-or-docker"},{"level":1,"text":"Docker method (install Docker first)","id":"docker-method-install-docker-first"},{"level":1,"text":"Run GitLab container","id":"run-gitlab-container"},{"level":3,"text":"Windows","id":"windows"},{"level":1,"text":"Install Docker Desktop from https://www.docker.com/products/docker-desktop","id":"install-docker-desktop-from-httpswwwdockercomproductsdocker-desktop"},{"level":1,"text":"Create GitLab directories","id":"create-gitlab-directories"},{"level":1,"text":"Run GitLab container","id":"run-gitlab-container"},{"level":1,"text":"Enable WSL2 and install Ubuntu","id":"enable-wsl2-and-install-ubuntu"},{"level":1,"text":"Switch to WSL2 Ubuntu environment","id":"switch-to-wsl2-ubuntu-environment"},{"level":1,"text":"Follow Ubuntu installation instructions above","id":"follow-ubuntu-installation-instructions-above"},{"level":2,"text":"4. Initial Configuration","id":"4-initial-configuration"},{"level":3,"text":"First-time Setup","id":"first-time-setup"},{"level":3,"text":"Basic Configuration File Setup","id":"basic-configuration-file-setup"},{"level":1,"text":"External URL (replace with your domain)","id":"external-url-replace-with-your-domain"},{"level":1,"text":"Email configuration","id":"email-configuration"},{"level":1,"text":"SMTP configuration (example with Gmail)","id":"smtp-configuration-example-with-gmail"},{"level":1,"text":"Time zone","id":"time-zone"},{"level":1,"text":"GitLab Shell SSH port (if different from 22)","id":"gitlab-shell-ssh-port-if-different-from-22"},{"level":3,"text":"SSL/TLS Configuration","id":"ssltls-configuration"},{"level":1,"text":"Enable Let's Encrypt in gitlab.rb","id":"enable-lets-encrypt-in-gitlabrb"},{"level":1,"text":"Enable Let's Encrypt","id":"enable-lets-encrypt"},{"level":1,"text":"Force HTTPS","id":"force-https"},{"level":1,"text":"Create SSL directory","id":"create-ssl-directory"},{"level":1,"text":"Copy your certificates (replace with your actual cert files)","id":"copy-your-certificates-replace-with-your-actual-cert-files"},{"level":1,"text":"Set proper permissions","id":"set-proper-permissions"},{"level":2,"text":"5. Service Management","id":"5-service-management"},{"level":3,"text":"Service Control Commands","id":"service-control-commands"},{"level":1,"text":"Check status of all services","id":"check-status-of-all-services"},{"level":1,"text":"Start all GitLab services","id":"start-all-gitlab-services"},{"level":1,"text":"Stop all GitLab services","id":"stop-all-gitlab-services"},{"level":1,"text":"Restart all GitLab services","id":"restart-all-gitlab-services"},{"level":1,"text":"Restart specific service","id":"restart-specific-service"},{"level":1,"text":"Reload configuration without restart","id":"reload-configuration-without-restart"},{"level":1,"text":"Show service logs","id":"show-service-logs"},{"level":3,"text":"Service Status Monitoring","id":"service-status-monitoring"},{"level":1,"text":"Detailed service status","id":"detailed-service-status"},{"level":1,"text":"Check specific service","id":"check-specific-service"},{"level":1,"text":"Monitor service logs in real-time","id":"monitor-service-logs-in-real-time"},{"level":1,"text":"Check GitLab application status","id":"check-gitlab-application-status"},{"level":1,"text":"Environment information","id":"environment-information"},{"level":3,"text":"Systemd Integration","id":"systemd-integration"},{"level":1,"text":"Enable GitLab to start at boot","id":"enable-gitlab-to-start-at-boot"},{"level":1,"text":"Start GitLab services","id":"start-gitlab-services"},{"level":1,"text":"Check systemd status","id":"check-systemd-status"},{"level":1,"text":"Stop GitLab services","id":"stop-gitlab-services"},{"level":1,"text":"Check GitLab logs through journald","id":"check-gitlab-logs-through-journald"},{"level":3,"text":"Service Configuration","id":"service-configuration"},{"level":1,"text":"Unicorn (web server) settings","id":"unicorn-web-server-settings"},{"level":1,"text":"Sidekiq (background jobs) settings","id":"sidekiq-background-jobs-settings"},{"level":1,"text":"GitLab Workhorse settings","id":"gitlab-workhorse-settings"},{"level":1,"text":"NGINX settings","id":"nginx-settings"},{"level":2,"text":"6. Advanced Configuration","id":"6-advanced-configuration"},{"level":3,"text":"Performance Optimization","id":"performance-optimization"},{"level":1,"text":"/etc/gitlab/gitlab.rb - Performance settings","id":"etcgitlabgitlabrb-performance-settings"},{"level":1,"text":"Unicorn web server optimization","id":"unicorn-web-server-optimization"},{"level":1,"text":"Sidekiq background job optimization","id":"sidekiq-background-job-optimization"},{"level":1,"text":"PostgreSQL optimization","id":"postgresql-optimization"},{"level":1,"text":"Redis optimization","id":"redis-optimization"},{"level":1,"text":"Gitaly optimization (Git RPC service)","id":"gitaly-optimization-git-rpc-service"},{"level":1,"text":"File system optimization","id":"file-system-optimization"},{"level":1,"text":"Logging optimization","id":"logging-optimization"},{"level":3,"text":"Enterprise Features Configuration","id":"enterprise-features-configuration"},{"level":1,"text":"LDAP/Active Directory integration","id":"ldapactive-directory-integration"},{"level":1,"text":"SAML SSO configuration","id":"saml-sso-configuration"},{"level":1,"text":"Geo replication (Enterprise Premium)","id":"geo-replication-enterprise-premium"},{"level":1,"text":"Advanced security features","id":"advanced-security-features"},{"level":3,"text":"Container Registry Configuration","id":"container-registry-configuration"},{"level":1,"text":"Container Registry setup","id":"container-registry-setup"},{"level":1,"text":"Registry storage configuration (S3)","id":"registry-storage-configuration-s3"},{"level":1,"text":"Registry security","id":"registry-security"},{"level":1,"text":"Registry health checks","id":"registry-health-checks"},{"level":1,"text":"Container scanning and cleanup","id":"container-scanning-and-cleanup"},{"level":3,"text":"GitLab Pages Configuration","id":"gitlab-pages-configuration"},{"level":1,"text":"GitLab Pages setup","id":"gitlab-pages-setup"},{"level":1,"text":"Pages SSL configuration","id":"pages-ssl-configuration"},{"level":1,"text":"Pages storage","id":"pages-storage"},{"level":2,"text":"7. Reverse Proxy Setup","id":"7-reverse-proxy-setup"},{"level":3,"text":"NGINX Reverse Proxy","id":"nginx-reverse-proxy"},{"level":1,"text":"Install NGINX","id":"install-nginx"},{"level":1,"text":"Ubuntu/Debian","id":"ubuntudebian"},{"level":1,"text":"RHEL/CentOS","id":"rhelcentos"},{"level":1,"text":"Configure NGINX for GitLab","id":"configure-nginx-for-gitlab"},{"level":1,"text":"Enable site and restart NGINX","id":"enable-site-and-restart-nginx"},{"level":3,"text":"Apache HTTP Server (httpd)","id":"apache-http-server-httpd"},{"level":1,"text":"Install Apache","id":"install-apache"},{"level":1,"text":"RHEL/CentOS","id":"rhelcentos"},{"level":1,"text":"Enable modules","id":"enable-modules"},{"level":1,"text":"Configure Apache for GitLab","id":"configure-apache-for-gitlab"},{"level":1,"text":"Start Apache","id":"start-apache"},{"level":3,"text":"HAProxy Load Balancer","id":"haproxy-load-balancer"},{"level":1,"text":"Install HAProxy","id":"install-haproxy"},{"level":1,"text":"Configure HAProxy","id":"configure-haproxy"},{"level":1,"text":"GitLab frontend","id":"gitlab-frontend"},{"level":1,"text":"GitLab backend servers","id":"gitlab-backend-servers"},{"level":1,"text":"Statistics interface","id":"statistics-interface"},{"level":1,"text":"Start HAProxy","id":"start-haproxy"},{"level":2,"text":"8. Security Configuration","id":"8-security-configuration"},{"level":3,"text":"Security Hardening","id":"security-hardening"},{"level":1,"text":"/etc/gitlab/gitlab.rb - Security configuration","id":"etcgitlabgitlabrb-security-configuration"},{"level":1,"text":"Force HTTPS","id":"force-https"},{"level":1,"text":"Security headers","id":"security-headers"},{"level":1,"text":"Rate limiting","id":"rate-limiting"},{"level":1,"text":"Rack Attack configuration for Git over HTTP","id":"rack-attack-configuration-for-git-over-http"},{"level":1,"text":"Protected paths","id":"protected-paths"},{"level":1,"text":"SSH security","id":"ssh-security"},{"level":1,"text":"Two-factor authentication enforcement","id":"two-factor-authentication-enforcement"},{"level":1,"text":"Session settings","id":"session-settings"},{"level":1,"text":"Webhook security","id":"webhook-security"},{"level":1,"text":"API security","id":"api-security"},{"level":1,"text":"Disable features that increase attack surface","id":"disable-features-that-increase-attack-surface"},{"level":1,"text":"Audit logging (Enterprise)","id":"audit-logging-enterprise"},{"level":1,"text":"Security scanning","id":"security-scanning"},{"level":1,"text":"Security headers","id":"security-headers"},{"level":3,"text":"Firewall Configuration","id":"firewall-configuration"},{"level":1,"text":"Enable UFW","id":"enable-ufw"},{"level":1,"text":"Allow SSH","id":"allow-ssh"},{"level":1,"text":"Allow HTTP/HTTPS","id":"allow-httphttps"},{"level":1,"text":"Allow GitLab SSH (if using custom port)","id":"allow-gitlab-ssh-if-using-custom-port"},{"level":1,"text":"Allow specific IP ranges only (optional)","id":"allow-specific-ip-ranges-only-optional"},{"level":1,"text":"Check status","id":"check-status"},{"level":1,"text":"Enable firewalld","id":"enable-firewalld"},{"level":1,"text":"Add services","id":"add-services"},{"level":1,"text":"Add custom ports","id":"add-custom-ports"},{"level":1,"text":"Create custom service for GitLab","id":"create-custom-service-for-gitlab"},{"level":3,"text":"Access Control and Authentication","id":"access-control-and-authentication"},{"level":1,"text":"Password policy","id":"password-policy"},{"level":1,"text":"Sign-up restrictions","id":"sign-up-restrictions"},{"level":1,"text":"Email domain restrictions","id":"email-domain-restrictions"},{"level":1,"text":"IP restrictions (Enterprise)","id":"ip-restrictions-enterprise"},{"level":1,"text":"OAuth/OIDC providers configuration","id":"oauthoidc-providers-configuration"},{"level":2,"text":"9. Database Setup","id":"9-database-setup"},{"level":3,"text":"Internal PostgreSQL (Default)","id":"internal-postgresql-default"},{"level":1,"text":"/etc/gitlab/gitlab.rb - PostgreSQL settings","id":"etcgitlabgitlabrb-postgresql-settings"},{"level":1,"text":"Enable built-in PostgreSQL","id":"enable-built-in-postgresql"},{"level":1,"text":"PostgreSQL performance tuning","id":"postgresql-performance-tuning"},{"level":1,"text":"Connection settings","id":"connection-settings"},{"level":1,"text":"WAL settings for performance","id":"wal-settings-for-performance"},{"level":1,"text":"Logging","id":"logging"},{"level":3,"text":"External PostgreSQL Setup","id":"external-postgresql-setup"},{"level":1,"text":"Install PostgreSQL on separate server","id":"install-postgresql-on-separate-server"},{"level":1,"text":"Ubuntu/Debian","id":"ubuntudebian"},{"level":1,"text":"RHEL/CentOS","id":"rhelcentos"},{"level":1,"text":"Initialize database (RHEL/CentOS only)","id":"initialize-database-rhelcentos-only"},{"level":1,"text":"Create GitLab database and user","id":"create-gitlab-database-and-user"},{"level":1,"text":"Configure PostgreSQL for GitLab","id":"configure-postgresql-for-gitlab"},{"level":1,"text":"GitLab optimizations","id":"gitlab-optimizations"},{"level":1,"text":"Connection settings","id":"connection-settings"},{"level":1,"text":"Enable extensions","id":"enable-extensions"},{"level":1,"text":"Configure client authentication","id":"configure-client-authentication"},{"level":1,"text":"/etc/gitlab/gitlab.rb - External PostgreSQL","id":"etcgitlabgitlabrb-external-postgresql"},{"level":1,"text":"Disable built-in PostgreSQL","id":"disable-built-in-postgresql"},{"level":1,"text":"External PostgreSQL configuration","id":"external-postgresql-configuration"},{"level":1,"text":"Load balancing for read replicas (Enterprise)","id":"load-balancing-for-read-replicas-enterprise"},{"level":3,"text":"Database Maintenance","id":"database-maintenance"},{"level":1,"text":"Database maintenance commands","id":"database-maintenance-commands"},{"level":1,"text":"Manual database operations","id":"manual-database-operations"},{"level":1,"text":"Database migrations","id":"database-migrations"},{"level":1,"text":"Check database status","id":"check-database-status"},{"level":1,"text":"Create database backup","id":"create-database-backup"},{"level":1,"text":"Restore database from backup","id":"restore-database-from-backup"},{"level":1,"text":"Database cleanup","id":"database-cleanup"},{"level":2,"text":"10. Performance Optimization","id":"10-performance-optimization"},{"level":3,"text":"System-Level Optimizations","id":"system-level-optimizations"},{"level":1,"text":"Kernel parameter tuning for GitLab","id":"kernel-parameter-tuning-for-gitlab"},{"level":1,"text":"Network optimizations","id":"network-optimizations"},{"level":1,"text":"Memory management","id":"memory-management"},{"level":1,"text":"File system optimizations","id":"file-system-optimizations"},{"level":1,"text":"Increase file descriptor limits","id":"increase-file-descriptor-limits"},{"level":1,"text":"Configure systemd limits","id":"configure-systemd-limits"},{"level":3,"text":"Application Performance Tuning","id":"application-performance-tuning"},{"level":1,"text":"/etc/gitlab/gitlab.rb - Performance optimizations","id":"etcgitlabgitlabrb-performance-optimizations"},{"level":1,"text":"Unicorn/Puma web server settings","id":"unicornpuma-web-server-settings"},{"level":1,"text":"Use Puma (recommended for GitLab 13.0+)","id":"use-puma-recommended-for-gitlab-130"},{"level":1,"text":"Disable Unicorn if using Puma","id":"disable-unicorn-if-using-puma"},{"level":1,"text":"Sidekiq background job processing","id":"sidekiq-background-job-processing"},{"level":1,"text":"Gitaly settings for Git operations","id":"gitaly-settings-for-git-operations"},{"level":1,"text":"GitLab Workhorse settings","id":"gitlab-workhorse-settings"},{"level":1,"text":"Redis caching optimizations","id":"redis-caching-optimizations"},{"level":1,"text":"NGINX optimizations","id":"nginx-optimizations"},{"level":1,"text":"Prometheus monitoring optimization","id":"prometheus-monitoring-optimization"},{"level":3,"text":"Storage Optimization","id":"storage-optimization"},{"level":1,"text":"Use SSD storage with proper mount options","id":"use-ssd-storage-with-proper-mount-options"},{"level":1,"text":"Optimize Git repository storage","id":"optimize-git-repository-storage"},{"level":1,"text":"Optimize Git repositories for better performance","id":"optimize-git-repositories-for-better-performance"},{"level":1,"text":"Schedule weekly Git optimization","id":"schedule-weekly-git-optimization"},{"level":3,"text":"Monitoring Performance","id":"monitoring-performance"},{"level":1,"text":"Create performance monitoring script","id":"create-performance-monitoring-script"},{"level":1,"text":"CPU and Memory usage","id":"cpu-and-memory-usage"},{"level":1,"text":"Database connections","id":"database-connections"},{"level":1,"text":"Redis memory usage","id":"redis-memory-usage"},{"level":1,"text":"Disk usage","id":"disk-usage"},{"level":1,"text":"Active processes","id":"active-processes"},{"level":1,"text":"Schedule performance checks every 15 minutes","id":"schedule-performance-checks-every-15-minutes"},{"level":2,"text":"11. Monitoring","id":"11-monitoring"},{"level":3,"text":"Built-in Monitoring Stack","id":"built-in-monitoring-stack"},{"level":1,"text":"/etc/gitlab/gitlab.rb - Monitoring configuration","id":"etcgitlabgitlabrb-monitoring-configuration"},{"level":1,"text":"Enable Prometheus monitoring","id":"enable-prometheus-monitoring"},{"level":1,"text":"Prometheus exporters","id":"prometheus-exporters"},{"level":1,"text":"Grafana configuration","id":"grafana-configuration"},{"level":1,"text":"Alert Manager","id":"alert-manager"},{"level":3,"text":"External Monitoring Integration","id":"external-monitoring-integration"},{"level":1,"text":"Prometheus configuration for external setup","id":"prometheus-configuration-for-external-setup"},{"level":1,"text":"Create GitLab-specific alerting rules","id":"create-gitlab-specific-alerting-rules"},{"level":3,"text":"Log Management","id":"log-management"},{"level":1,"text":"Install and configure Elasticsearch, Logstash, Kibana (ELK Stack)","id":"install-and-configure-elasticsearch-logstash-kibana-elk-stack"},{"level":1,"text":"Or use external services like Splunk, DataDog, etc.","id":"or-use-external-services-like-splunk-datadog-etc"},{"level":1,"text":"Configure GitLab log forwarding","id":"configure-gitlab-log-forwarding"},{"level":1,"text":"Forward GitLab logs to centralized logging","id":"forward-gitlab-logs-to-centralized-logging"},{"level":1,"text":"Local GitLab log files","id":"local-gitlab-log-files"},{"level":1,"text":"Create log monitoring script","id":"create-log-monitoring-script"},{"level":1,"text":"Monitor for critical errors","id":"monitor-for-critical-errors"},{"level":1,"text":"Monitor disk space for log directory","id":"monitor-disk-space-for-log-directory"},{"level":1,"text":"Schedule log monitoring every 5 minutes","id":"schedule-log-monitoring-every-5-minutes"},{"level":3,"text":"Health Monitoring","id":"health-monitoring"},{"level":1,"text":"Create comprehensive health monitoring","id":"create-comprehensive-health-monitoring"},{"level":1,"text":"Check all critical services","id":"check-all-critical-services"},{"level":1,"text":"Check application health","id":"check-application-health"},{"level":1,"text":"Check backup status","id":"check-backup-status"},{"level":1,"text":"Schedule health checks every 10 minutes","id":"schedule-health-checks-every-10-minutes"},{"level":2,"text":"12. Backup and Restore","id":"12-backup-and-restore"},{"level":3,"text":"Automated Backup Strategy","id":"automated-backup-strategy"},{"level":1,"text":"Create comprehensive backup script","id":"create-comprehensive-backup-script"},{"level":1,"text":"Create backup directories","id":"create-backup-directories"},{"level":1,"text":"Create GitLab application backup","id":"create-gitlab-application-backup"},{"level":1,"text":"Backup configuration files","id":"backup-configuration-files"},{"level":1,"text":"Backup SSL certificates","id":"backup-ssl-certificates"},{"level":1,"text":"Backup secrets","id":"backup-secrets"},{"level":1,"text":"Backup container registry (if using local storage)","id":"backup-container-registry-if-using-local-storage"},{"level":1,"text":"Upload to cloud storage (multiple providers)","id":"upload-to-cloud-storage-multiple-providers"},{"level":1,"text":"AWS S3","id":"aws-s3"},{"level":1,"text":"Azure Blob Storage","id":"azure-blob-storage"},{"level":1,"text":"Google Cloud Storage","id":"google-cloud-storage"},{"level":1,"text":"Verify backup integrity","id":"verify-backup-integrity"},{"level":1,"text":"Cleanup old backups","id":"cleanup-old-backups"},{"level":1,"text":"Send success notification","id":"send-success-notification"},{"level":1,"text":"Schedule daily backups at 2 AM","id":"schedule-daily-backups-at-2-am"},{"level":3,"text":"Disaster Recovery Procedures","id":"disaster-recovery-procedures"},{"level":1,"text":"Create disaster recovery script","id":"create-disaster-recovery-script"},{"level":1,"text":"Pre-recovery checks","id":"pre-recovery-checks"},{"level":1,"text":"Stop GitLab services","id":"stop-gitlab-services"},{"level":1,"text":"Backup current installation (if any)","id":"backup-current-installation-if-any"},{"level":1,"text":"Restore configuration","id":"restore-configuration"},{"level":1,"text":"Reconfigure GitLab with restored configuration","id":"reconfigure-gitlab-with-restored-configuration"},{"level":1,"text":"Restore GitLab backup","id":"restore-gitlab-backup"},{"level":1,"text":"Start GitLab services","id":"start-gitlab-services"},{"level":1,"text":"Wait for services to start","id":"wait-for-services-to-start"},{"level":1,"text":"Verify installation","id":"verify-installation"},{"level":1,"text":"Run database migrations (if needed)","id":"run-database-migrations-if-needed"},{"level":3,"text":"Point-in-Time Recovery","id":"point-in-time-recovery"},{"level":1,"text":"/etc/gitlab/gitlab.rb - Configure for point-in-time recovery","id":"etcgitlabgitlabrb-configure-for-point-in-time-recovery"},{"level":1,"text":"Enable WAL archiving for PostgreSQL","id":"enable-wal-archiving-for-postgresql"},{"level":1,"text":"Configure continuous archiving","id":"configure-continuous-archiving"},{"level":1,"text":"Backup retention","id":"backup-retention"},{"level":2,"text":"13. Troubleshooting","id":"13-troubleshooting"},{"level":3,"text":"Common Issues and Solutions","id":"common-issues-and-solutions"},{"level":1,"text":"GitLab service diagnostics","id":"gitlab-service-diagnostics"},{"level":3,"text":"Specific Problem Resolution","id":"specific-problem-resolution"},{"level":1,"text":"Reduce memory consumption","id":"reduce-memory-consumption"},{"level":1,"text":"Memory optimization for smaller systems","id":"memory-optimization-for-smaller-systems"},{"level":1,"text":"Database troubleshooting commands","id":"database-troubleshooting-commands"},{"level":1,"text":"Check database connections","id":"check-database-connections"},{"level":1,"text":"Check for locks","id":"check-for-locks"},{"level":1,"text":"Vacuum and analyze database","id":"vacuum-and-analyze-database"},{"level":1,"text":"Check database size","id":"check-database-size"},{"level":1,"text":"Check system resources","id":"check-system-resources"},{"level":1,"text":"Check GitLab worker status","id":"check-gitlab-worker-status"},{"level":1,"text":"Check background job queue","id":"check-background-job-queue"},{"level":1,"text":"Restart specific services","id":"restart-specific-services"},{"level":1,"text":"Test SSL configuration","id":"test-ssl-configuration"},{"level":1,"text":"Check certificate chain","id":"check-certificate-chain"},{"level":1,"text":"Verify certificate","id":"verify-certificate"},{"level":1,"text":"Test cipher suites","id":"test-cipher-suites"},{"level":1,"text":"Check repository integrity","id":"check-repository-integrity"},{"level":1,"text":"Recreate authorized_keys file","id":"recreate-authorized_keys-file"},{"level":1,"text":"Check GitLab Shell","id":"check-gitlab-shell"},{"level":1,"text":"Fix repository permissions","id":"fix-repository-permissions"},{"level":2,"text":"14. Integration Examples","id":"14-integration-examples"},{"level":3,"text":"CI/CD Pipeline Integration","id":"cicd-pipeline-integration"},{"level":1,"text":".gitlab-ci.yml - Comprehensive CI/CD pipeline","id":"gitlab-ciyml-comprehensive-cicd-pipeline"},{"level":1,"text":"Security scanning stage","id":"security-scanning-stage"},{"level":1,"text":"Custom security scans","id":"custom-security-scans"},{"level":1,"text":"Testing stage","id":"testing-stage"},{"level":1,"text":"Build stage","id":"build-stage"},{"level":1,"text":"Deployment stages","id":"deployment-stages"},{"level":1,"text":"Monitoring stage","id":"monitoring-stage"},{"level":3,"text":"External Service Integrations","id":"external-service-integrations"},{"level":1,"text":"Configure Slack notifications","id":"configure-slack-notifications"},{"level":1,"text":"Configure Jira integration","id":"configure-jira-integration"},{"level":1,"text":"/etc/gitlab/gitlab.rb - Kubernetes integration","id":"etcgitlabgitlabrb-kubernetes-integration"},{"level":1,"text":"Enable GitLab Agent for Kubernetes","id":"enable-gitlab-agent-for-kubernetes"},{"level":2,"text":"15. Maintenance","id":"15-maintenance"},{"level":3,"text":"Regular Maintenance Tasks","id":"regular-maintenance-tasks"},{"level":1,"text":"Create maintenance script","id":"create-maintenance-script"},{"level":1,"text":"Update GitLab to latest version","id":"update-gitlab-to-latest-version"},{"level":1,"text":"Clean up old log files","id":"clean-up-old-log-files"},{"level":1,"text":"Clean up old backups","id":"clean-up-old-backups"},{"level":1,"text":"Database maintenance","id":"database-maintenance"},{"level":1,"text":"Git repository optimization","id":"git-repository-optimization"},{"level":1,"text":"Container registry cleanup","id":"container-registry-cleanup"},{"level":1,"text":"Check system health","id":"check-system-health"},{"level":1,"text":"Schedule monthly maintenance on first Sunday at 3 AM","id":"schedule-monthly-maintenance-on-first-sunday-at-3-am"},{"level":3,"text":"Update Procedures","id":"update-procedures"},{"level":1,"text":"Create update script","id":"create-update-script"},{"level":1,"text":"Create backup before update","id":"create-backup-before-update"},{"level":1,"text":"Update GitLab","id":"update-gitlab"},{"level":1,"text":"Reconfigure after update","id":"reconfigure-after-update"},{"level":1,"text":"Check installation","id":"check-installation"},{"level":2,"text":"16. Additional Resources","id":"16-additional-resources"},{"level":3,"text":"Documentation Links","id":"documentation-links"},{"level":3,"text":"Community Resources","id":"community-resources"},{"level":3,"text":"Training and Certification","id":"training-and-certification"},{"level":3,"text":"Tools and Utilities","id":"tools-and-utilities"},{"level":3,"text":"Security Resources","id":"security-resources"},{"level":3,"text":"Performance and Scaling","id":"performance-and-scaling"}],"lastBuilt":"2025-09-17T06:17:59.504Z","metadataVersion":"2.0"},"category":{"key":"git-repositories","name":"Git repositories","description":"Git repositories tools and applications","icon":"🏗️","color":"#44475a"},"relatedGuides":[{"name":"gitea","displayName":"gitea Installation Guide","slug":"gitea","description":"gitea is a free and open-source lightweight self-hosted Git service. Written in Go, Gitea provides a lightweight alternative to GitHub, GitLab, or Bitbucket for self-hosted Git repository management","category":"git-repositories","subcategory":"git-repositories","difficultyLevel":"intermediate","estimatedSetupTime":"15-30 minutes","supportedOS":["rhel","centos","rocky","almalinux","debian","ubuntu","arch","alpine","opensuse","sles","macos","freebsd","windows"],"defaultPorts":[22,80,443,3000],"installationMethods":["native-packages","source-compilation"],"features":["multi-os-support","comprehensive-documentation","security-hardening","performance-optimization","backup-restore-procedures","troubleshooting-guides"],"tags":["git-repositories","containerization","observability","data-storage","networking","security","data-protection"],"maintenanceStatus":"active","specVersion":"2.0","version":"1.0.0","license":"Open Source","websiteUrl":"https://howtomgr.github.io/git-repositories/gitea","documentationUrl":"https://howtomgr.github.io/git-repositories/gitea","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/gitea","updatedAt":"2025-09-16T17:15:40Z","createdAt":"2023-08-28T03:47:56Z","readmeRaw":"# gitea Installation Guide\n\ngitea is a free and open-source lightweight self-hosted Git service. Written in Go, Gitea provides a lightweight alternative to GitHub, GitLab, or Bitbucket for self-hosted Git repository management\n\n## Table of Contents\n1. [Prerequisites](#prerequisites)\n2. [Supported Operating Systems](#supported-operating-systems)\n3. [Installation](#installation)\n4. [Configuration](#configuration)\n5. [Service Management](#service-management)\n6. [Troubleshooting](#troubleshooting)\n7. [Security Considerations](#security-considerations)\n8. [Performance Tuning](#performance-tuning)\n9. [Backup and Restore](#backup-and-restore)\n10. [System Requirements](#system-requirements)\n11. [Support](#support)\n12. [Contributing](#contributing)\n13. [License](#license)\n14. [Acknowledgments](#acknowledgments)\n15. [Version History](#version-history)\n16. [Appendices](#appendices)\n\n## 1. Prerequisites\n\n- **Hardware Requirements**:\n  - CPU: 1 core minimum\n  - RAM: 256MB minimum (1GB+ recommended)\n  - Storage: 200MB + repository data\n  - Network: Git protocol and HTTPS\n- **Operating System**: \n  - Linux: Any modern distribution (RHEL, Debian, Ubuntu, CentOS, Fedora, Arch, Alpine, openSUSE)\n  - macOS: 10.14+ (Mojave or newer)\n  - Windows: Windows Server 2016+ or Windows 10\n  - FreeBSD: 11.0+\n- **Network Requirements**:\n  - Port 3000 (default gitea port)\n  - Port 22 for Git SSH\n- **Dependencies**:\n  - See official documentation for specific requirements\n- **System Access**: root or sudo privileges required\n\n\n## 2. Supported Operating Systems\n\nThis guide supports installation on:\n- RHEL 8/9 and derivatives (CentOS Stream, Rocky Linux, AlmaLinux)\n- Debian 11/12\n- Ubuntu 20.04/22.04/24.04 LTS\n- Arch Linux (rolling release)\n- Alpine Linux 3.18+\n- openSUSE Leap 15.5+ / Tumbleweed\n- SUSE Linux Enterprise Server (SLES) 15+\n- macOS 12+ (Monterey and later) \n- FreeBSD 13+\n- Windows 10/11/Server 2019+ (where applicable)\n\n## 3. Installation\n\n### RHEL/CentOS/Rocky Linux/AlmaLinux\n\n```bash\n# Install EPEL repository if needed\nsudo dnf install -y epel-release\n\n# Install gitea\nsudo dnf install -y gitea\n\n# Enable and start service\nsudo systemctl enable --now gitea\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=3000/tcp\nsudo firewall-cmd --reload\n\n# Verify installation\ngitea --version\n```\n\n### Debian/Ubuntu\n\n```bash\n# Update package index\nsudo apt update\n\n# Install gitea\nsudo apt install -y gitea\n\n# Enable and start service\nsudo systemctl enable --now gitea\n\n# Configure firewall\nsudo ufw allow 3000\n\n# Verify installation\ngitea --version\n```\n\n### Arch Linux\n\n```bash\n# Install gitea\nsudo pacman -S gitea\n\n# Enable and start service\nsudo systemctl enable --now gitea\n\n# Verify installation\ngitea --version\n```\n\n### Alpine Linux\n\n```bash\n# Install gitea\napk add --no-cache gitea\n\n# Enable and start service\nrc-update add gitea default\nrc-service gitea start\n\n# Verify installation\ngitea --version\n```\n\n### openSUSE/SLES\n\n```bash\n# Install gitea\nsudo zypper install -y gitea\n\n# Enable and start service\nsudo systemctl enable --now gitea\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=3000/tcp\nsudo firewall-cmd --reload\n\n# Verify installation\ngitea --version\n```\n\n### macOS\n\n```bash\n# Using Homebrew\nbrew install gitea\n\n# Start service\nbrew services start gitea\n\n# Verify installation\ngitea --version\n```\n\n### FreeBSD\n\n```bash\n# Using pkg\npkg install gitea\n\n# Enable in rc.conf\necho 'gitea_enable=\"YES\"' \u003e\u003e /etc/rc.conf\n\n# Start service\nservice gitea start\n\n# Verify installation\ngitea --version\n```\n\n### Windows\n\n```bash\n# Using Chocolatey\nchoco install gitea\n\n# Or using Scoop\nscoop install gitea\n\n# Verify installation\ngitea --version\n```\n\n## Initial Configuration\n\n### Basic Configuration\n\n```bash\n# Create configuration directory\nsudo mkdir -p /etc/gitea\n\n# Set up basic configuration\n# See official documentation for detailed configuration options\n\n# Test configuration\ngitea --version\n```\n\n## 5. Service Management\n\n### systemd (RHEL, Debian, Ubuntu, Arch, openSUSE)\n\n```bash\n# Enable service\nsudo systemctl enable gitea\n\n# Start service\nsudo systemctl start gitea\n\n# Stop service\nsudo systemctl stop gitea\n\n# Restart service\nsudo systemctl restart gitea\n\n# Check status\nsudo systemctl status gitea\n\n# View logs\nsudo journalctl -u gitea -f\n```\n\n### OpenRC (Alpine Linux)\n\n```bash\n# Enable service\nrc-update add gitea default\n\n# Start service\nrc-service gitea start\n\n# Stop service\nrc-service gitea stop\n\n# Restart service\nrc-service gitea restart\n\n# Check status\nrc-service gitea status\n```\n\n### rc.d (FreeBSD)\n\n```bash\n# Enable in /etc/rc.conf\necho 'gitea_enable=\"YES\"' \u003e\u003e /etc/rc.conf\n\n# Start service\nservice gitea start\n\n# Stop service\nservice gitea stop\n\n# Restart service\nservice gitea restart\n\n# Check status\nservice gitea status\n```\n\n### launchd (macOS)\n\n```bash\n# Using Homebrew services\nbrew services start gitea\nbrew services stop gitea\nbrew services restart gitea\n\n# Check status\nbrew services list | grep gitea\n```\n\n### Windows Service Manager\n\n```powershell\n# Start service\nnet start gitea\n\n# Stop service\nnet stop gitea\n\n# Using PowerShell\nStart-Service gitea\nStop-Service gitea\nRestart-Service gitea\n\n# Check status\nGet-Service gitea\n```\n\n## Advanced Configuration\n\nSee the official documentation for advanced configuration options.\n\n## Reverse Proxy Setup\n\n### nginx Configuration\n\n```nginx\nupstream gitea_backend {\n    server 127.0.0.1:3000;\n}\n\nserver {\n    listen 80;\n    server_name gitea.example.com;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name gitea.example.com;\n\n    ssl_certificate /etc/ssl/certs/gitea.example.com.crt;\n    ssl_certificate_key /etc/ssl/private/gitea.example.com.key;\n\n    location / {\n        proxy_pass http://gitea_backend;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\n```\n\n### Apache Configuration\n\n```apache\n\u003cVirtualHost *:80\u003e\n    ServerName gitea.example.com\n    Redirect permanent / https://gitea.example.com/\n\u003c/VirtualHost\u003e\n\n\u003cVirtualHost *:443\u003e\n    ServerName gitea.example.com\n    \n    SSLEngine on\n    SSLCertificateFile /etc/ssl/certs/gitea.example.com.crt\n    SSLCertificateKeyFile /etc/ssl/private/gitea.example.com.key\n    \n    ProxyRequests Off\n    ProxyPreserveHost On\n    \n    ProxyPass / http://127.0.0.1:3000/\n    ProxyPassReverse / http://127.0.0.1:3000/\n\u003c/VirtualHost\u003e\n```\n\n### HAProxy Configuration\n\n```haproxy\nfrontend gitea_frontend\n    bind *:80\n    bind *:443 ssl crt /etc/ssl/certs/gitea.pem\n    redirect scheme https if !{ ssl_fc }\n    default_backend gitea_backend\n\nbackend gitea_backend\n    balance roundrobin\n    server gitea1 127.0.0.1:3000 check\n```\n\n## Security Configuration\n\n### Basic Security Setup\n\n```bash\n# Set appropriate permissions\nsudo chown -R gitea:gitea /etc/gitea\nsudo chmod 750 /etc/gitea\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=3000/tcp\nsudo firewall-cmd --reload\n\n# Enable SELinux policies (if applicable)\nsudo setsebool -P httpd_can_network_connect on\n```\n\n## Database Setup\n\nSee official documentation for database configuration requirements.\n\n## Performance Optimization\n\n### System Tuning\n\n```bash\n# Basic system tuning\necho 'net.core.somaxconn = 65535' | sudo tee -a /etc/sysctl.conf\necho 'net.ipv4.tcp_max_syn_backlog = 65535' | sudo tee -a /etc/sysctl.conf\nsudo sysctl -p\n```\n\n## Monitoring\n\n### Basic Monitoring\n\n```bash\n# Check service status\nsudo systemctl status gitea\n\n# View logs\nsudo journalctl -u gitea -f\n\n# Monitor resource usage\ntop -p $(pgrep gitea)\n```\n\n## 9. Backup and Restore\n\n### Backup Script\n\n```bash\n#!/bin/bash\n# Basic backup script\nBACKUP_DIR=\"/backup/gitea\"\nDATE=$(date +%Y%m%d_%H%M%S)\n\nmkdir -p \"$BACKUP_DIR\"\ntar -czf \"$BACKUP_DIR/gitea-backup-$DATE.tar.gz\" /etc/gitea /var/lib/gitea\n\necho \"Backup completed: $BACKUP_DIR/gitea-backup-$DATE.tar.gz\"\n```\n\n### Restore Procedure\n\n```bash\n# Stop service\nsudo systemctl stop gitea\n\n# Restore from backup\ntar -xzf /backup/gitea/gitea-backup-*.tar.gz -C /\n\n# Start service\nsudo systemctl start gitea\n```\n\n## 6. Troubleshooting\n\n### Common Issues\n\n1. **Service won't start**:\n```bash\n# Check logs\nsudo journalctl -u gitea -n 100\nsudo tail -f /var/log/gitea/gitea.log\n\n# Check configuration\ngitea --version\n\n# Check permissions\nls -la /etc/gitea\n```\n\n2. **Connection issues**:\n```bash\n# Check if service is listening\nsudo ss -tlnp | grep 3000\n\n# Test connectivity\ntelnet localhost 3000\n\n# Check firewall\nsudo firewall-cmd --list-all\n```\n\n3. **Performance issues**:\n```bash\n# Check resource usage\ntop -p $(pgrep gitea)\n\n# Check disk I/O\niotop -p $(pgrep gitea)\n\n# Check connections\nss -an | grep 3000\n```\n\n## Integration Examples\n\n### Docker Compose Example\n\n```yaml\nversion: '3.8'\nservices:\n  gitea:\n    image: gitea:latest\n    ports:\n      - \"3000:3000\"\n    volumes:\n      - ./config:/etc/gitea\n      - ./data:/var/lib/gitea\n    restart: unless-stopped\n```\n\n## Maintenance\n\n### Update Procedures\n\n```bash\n# RHEL/CentOS/Rocky/AlmaLinux\nsudo dnf update gitea\n\n# Debian/Ubuntu\nsudo apt update \u0026\u0026 sudo apt upgrade gitea\n\n# Arch Linux\nsudo pacman -Syu gitea\n\n# Alpine Linux\napk update \u0026\u0026 apk upgrade gitea\n\n# openSUSE\nsudo zypper update gitea\n\n# FreeBSD\npkg update \u0026\u0026 pkg upgrade gitea\n\n# Always backup before updates\ntar -czf /backup/gitea-pre-update-$(date +%Y%m%d).tar.gz /etc/gitea\n\n# Restart after updates\nsudo systemctl restart gitea\n```\n\n### Regular Maintenance\n\n```bash\n# Log rotation\nsudo logrotate -f /etc/logrotate.d/gitea\n\n# Clean old logs\nfind /var/log/gitea -name \"*.log\" -mtime +30 -delete\n\n# Check disk usage\ndu -sh /var/lib/gitea\n```\n\n## Additional Resources\n\n- Official Documentation: https://docs.gitea.org/\n- GitHub Repository: https://github.com/gitea/gitea\n- Community Forum: https://forum.gitea.org/\n- Best Practices Guide: https://docs.gitea.org/best-practices\n\n---\n\n**Note:** This guide is part of the [HowToMgr](https://howtomgr.github.io) collection. Always refer to official documentation for the most up-to-date information.\n","readmeHtml":"\u003cp class=\"mobile-paragraph\"\u003egitea is a free and open-source lightweight self-hosted Git service. Written in Go, Gitea provides a lightweight alternative to GitHub, GitLab, or Bitbucket for self-hosted Git repository management\u003c/p\u003e\n\u003ch2 id=\"table-of-contents\" class=\"mobile-header\"\u003eTable of Contents\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e1. \u003ca href=\"#prerequisites\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003ePrerequisites\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e2. \u003ca href=\"#supported-operating-systems\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eSupported Operating Systems\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e3. \u003ca href=\"#installation\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eInstallation\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e4. \u003ca href=\"#configuration\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eConfiguration\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e5. \u003ca href=\"#service-management\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eService Management\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e6. \u003ca href=\"#troubleshooting\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eTroubleshooting\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e7. \u003ca href=\"#security-considerations\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eSecurity Considerations\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e8. \u003ca href=\"#performance-tuning\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003ePerformance Tuning\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e9. \u003ca href=\"#backup-and-restore\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eBackup and Restore\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e10. \u003ca href=\"#system-requirements\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eSystem Requirements\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e11. \u003ca href=\"#support\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eSupport\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e12. \u003ca href=\"#contributing\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eContributing\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e13. \u003ca href=\"#license\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eLicense\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e14. \u003ca href=\"#acknowledgments\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eAcknowledgments\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e15. \u003ca href=\"#version-history\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eVersion History\u003c/a\u003e\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e16. \u003ca href=\"#appendices\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eAppendices\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"1-prerequisites\" class=\"mobile-header\"\u003e1. Prerequisites\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eHardware Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eCPU: 1 core minimum\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eRAM: 256MB minimum (1GB+ recommended)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eStorage: 200MB + repository data\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eNetwork: Git protocol and HTTPS\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eOperating System\u003c/strong\u003e: \u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eLinux: Any modern distribution (RHEL, Debian, Ubuntu, CentOS, Fedora, Arch, Alpine, openSUSE)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003emacOS: 10.14+ (Mojave or newer)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWindows: Windows Server 2016+ or Windows 10\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eFreeBSD: 11.0+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eNetwork Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 3000 (default gitea port)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 22 for Git SSH\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eDependencies\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eSee official documentation for specific requirements\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eSystem Access\u003c/strong\u003e: root or sudo privileges required\u003c/li\u003e\n\u003ch2 id=\"2-supported-operating-systems\" class=\"mobile-header\"\u003e2. Supported Operating Systems\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eThis guide supports installation on:\u003c/p\u003e\n\u003cli class=\"mobile-list-item\"\u003eRHEL 8/9 and derivatives (CentOS Stream, Rocky Linux, AlmaLinux)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eDebian 11/12\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eUbuntu 20.04/22.04/24.04 LTS\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eArch Linux (rolling release)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eAlpine Linux 3.18+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eopenSUSE Leap 15.5+ / Tumbleweed\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eSUSE Linux Enterprise Server (SLES) 15+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003emacOS 12+ (Monterey and later) \u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eFreeBSD 13+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWindows 10/11/Server 2019+ (where applicable)\u003c/li\u003e\n\u003ch2 id=\"3-installation\" class=\"mobile-header\"\u003e3. Installation\u003c/h2\u003e\n\u003ch3 id=\"rhelcentosrocky-linuxalmalinux\" class=\"mobile-header\"\u003eRHEL/CentOS/Rocky Linux/AlmaLinux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install EPEL repository if needed\nsudo dnf install -y epel-release\n\n# Install gitea\nsudo dnf install -y gitea\n\n# Enable and start service\nsudo systemctl enable --now gitea\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=3000/tcp\nsudo firewall-cmd --reload\n\n# Verify installation\ngitea --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"debianubuntu\" class=\"mobile-header\"\u003eDebian/Ubuntu\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Update package index\nsudo apt update\n\n# Install gitea\nsudo apt install -y gitea\n\n# Enable and start service\nsudo systemctl enable --now gitea\n\n# Configure firewall\nsudo ufw allow 3000\n\n# Verify installation\ngitea --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"arch-linux\" class=\"mobile-header\"\u003eArch Linux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install gitea\nsudo pacman -S gitea\n\n# Enable and start service\nsudo systemctl enable --now gitea\n\n# Verify installation\ngitea --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"alpine-linux\" class=\"mobile-header\"\u003eAlpine Linux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install gitea\napk add --no-cache gitea\n\n# Enable and start service\nrc-update add gitea default\nrc-service gitea start\n\n# Verify installation\ngitea --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"opensusesles\" class=\"mobile-header\"\u003eopenSUSE/SLES\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install gitea\nsudo zypper install -y gitea\n\n# Enable and start service\nsudo systemctl enable --now gitea\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=3000/tcp\nsudo firewall-cmd --reload\n\n# Verify installation\ngitea --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"macos\" class=\"mobile-header\"\u003emacOS\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using Homebrew\nbrew install gitea\n\n# Start service\nbrew services start gitea\n\n# Verify installation\ngitea --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"freebsd\" class=\"mobile-header\"\u003eFreeBSD\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using pkg\npkg install gitea\n\n# Enable in rc.conf\necho \u0026#039;gitea_enable=\u0026quot;YES\u0026quot;\u0026#039; \u0026gt;\u0026gt; /etc/rc.conf\n\n# Start service\nservice gitea start\n\n# Verify installation\ngitea --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"windows\" class=\"mobile-header\"\u003eWindows\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using Chocolatey\nchoco install gitea\n\n# Or using Scoop\nscoop install gitea\n\n# Verify installation\ngitea --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"initial-configuration\" class=\"mobile-header\"\u003eInitial Configuration\u003c/h2\u003e\n\u003ch3 id=\"basic-configuration\" class=\"mobile-header\"\u003eBasic Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create configuration directory\nsudo mkdir -p /etc/gitea\n\n# Set up basic configuration\n# See official documentation for detailed configuration options\n\n# Test configuration\ngitea --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"5-service-management\" class=\"mobile-header\"\u003e5. Service Management\u003c/h2\u003e\n\u003ch3 id=\"systemd-rhel-debian-ubuntu-arch-opensuse\" class=\"mobile-header\"\u003esystemd (RHEL, Debian, Ubuntu, Arch, openSUSE)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable service\nsudo systemctl enable gitea\n\n# Start service\nsudo systemctl start gitea\n\n# Stop service\nsudo systemctl stop gitea\n\n# Restart service\nsudo systemctl restart gitea\n\n# Check status\nsudo systemctl status gitea\n\n# View logs\nsudo journalctl -u gitea -f\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"openrc-alpine-linux\" class=\"mobile-header\"\u003eOpenRC (Alpine Linux)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable service\nrc-update add gitea default\n\n# Start service\nrc-service gitea start\n\n# Stop service\nrc-service gitea stop\n\n# Restart service\nrc-service gitea restart\n\n# Check status\nrc-service gitea status\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"rcd-freebsd\" class=\"mobile-header\"\u003erc.d (FreeBSD)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable in /etc/rc.conf\necho \u0026#039;gitea_enable=\u0026quot;YES\u0026quot;\u0026#039; \u0026gt;\u0026gt; /etc/rc.conf\n\n# Start service\nservice gitea start\n\n# Stop service\nservice gitea stop\n\n# Restart service\nservice gitea restart\n\n# Check status\nservice gitea status\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"launchd-macos\" class=\"mobile-header\"\u003elaunchd (macOS)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using Homebrew services\nbrew services start gitea\nbrew services stop gitea\nbrew services restart gitea\n\n# Check status\nbrew services list | grep gitea\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"windows-service-manager\" class=\"mobile-header\"\u003eWindows Service Manager\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"powershell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epowershell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-powershell\"\u003e# Start service\nnet start gitea\n\n# Stop service\nnet stop gitea\n\n# Using PowerShell\nStart-Service gitea\nStop-Service gitea\nRestart-Service gitea\n\n# Check status\nGet-Service gitea\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"advanced-configuration\" class=\"mobile-header\"\u003eAdvanced Configuration\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eSee the official documentation for advanced configuration options.\u003c/p\u003e\n\u003ch2 id=\"reverse-proxy-setup\" class=\"mobile-header\"\u003eReverse Proxy Setup\u003c/h2\u003e\n\u003ch3 id=\"nginx-configuration\" class=\"mobile-header\"\u003enginx Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"nginx\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003enginx\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-nginx\"\u003eupstream gitea_backend {\n    server 127.0.0.1:3000;\n}\n\nserver {\n    listen 80;\n    server_name gitea.example.com;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name gitea.example.com;\n\n    ssl_certificate /etc/ssl/certs/gitea.example.com.crt;\n    ssl_certificate_key /etc/ssl/private/gitea.example.com.key;\n\n    location / {\n        proxy_pass http://gitea_backend;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"apache-configuration\" class=\"mobile-header\"\u003eApache Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"apache\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eapache\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-apache\"\u003e\u0026lt;VirtualHost *:80\u0026gt;\n    ServerName gitea.example.com\n    Redirect permanent / https://gitea.example.com/\n\u0026lt;/VirtualHost\u0026gt;\n\n\u0026lt;VirtualHost *:443\u0026gt;\n    ServerName gitea.example.com\n    \n    SSLEngine on\n    SSLCertificateFile /etc/ssl/certs/gitea.example.com.crt\n    SSLCertificateKeyFile /etc/ssl/private/gitea.example.com.key\n    \n    ProxyRequests Off\n    ProxyPreserveHost On\n    \n    ProxyPass / http://127.0.0.1:3000/\n    ProxyPassReverse / http://127.0.0.1:3000/\n\u0026lt;/VirtualHost\u0026gt;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"haproxy-configuration\" class=\"mobile-header\"\u003eHAProxy Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"haproxy\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ehaproxy\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-haproxy\"\u003efrontend gitea_frontend\n    bind *:80\n    bind *:443 ssl crt /etc/ssl/certs/gitea.pem\n    redirect scheme https if !{ ssl_fc }\n    default_backend gitea_backend\n\nbackend gitea_backend\n    balance roundrobin\n    server gitea1 127.0.0.1:3000 check\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"security-configuration\" class=\"mobile-header\"\u003eSecurity Configuration\u003c/h2\u003e\n\u003ch3 id=\"basic-security-setup\" class=\"mobile-header\"\u003eBasic Security Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Set appropriate permissions\nsudo chown -R gitea:gitea /etc/gitea\nsudo chmod 750 /etc/gitea\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=3000/tcp\nsudo firewall-cmd --reload\n\n# Enable SELinux policies (if applicable)\nsudo setsebool -P httpd_can_network_connect on\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"database-setup\" class=\"mobile-header\"\u003eDatabase Setup\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eSee official documentation for database configuration requirements.\u003c/p\u003e\n\u003ch2 id=\"performance-optimization\" class=\"mobile-header\"\u003ePerformance Optimization\u003c/h2\u003e\n\u003ch3 id=\"system-tuning\" class=\"mobile-header\"\u003eSystem Tuning\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Basic system tuning\necho \u0026#039;net.core.somaxconn = 65535\u0026#039; | sudo tee -a /etc/sysctl.conf\necho \u0026#039;net.ipv4.tcp_max_syn_backlog = 65535\u0026#039; | sudo tee -a /etc/sysctl.conf\nsudo sysctl -p\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"monitoring\" class=\"mobile-header\"\u003eMonitoring\u003c/h2\u003e\n\u003ch3 id=\"basic-monitoring\" class=\"mobile-header\"\u003eBasic Monitoring\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check service status\nsudo systemctl status gitea\n\n# View logs\nsudo journalctl -u gitea -f\n\n# Monitor resource usage\ntop -p $(pgrep gitea)\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"9-backup-and-restore\" class=\"mobile-header\"\u003e9. Backup and Restore\u003c/h2\u003e\n\u003ch3 id=\"backup-script\" class=\"mobile-header\"\u003eBackup Script\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# Basic backup script\nBACKUP_DIR=\u0026quot;/backup/gitea\u0026quot;\nDATE=$(date +%Y%m%d_%H%M%S)\n\nmkdir -p \u0026quot;$BACKUP_DIR\u0026quot;\ntar -czf \u0026quot;$BACKUP_DIR/gitea-backup-$DATE.tar.gz\u0026quot; /etc/gitea /var/lib/gitea\n\necho \u0026quot;Backup completed: $BACKUP_DIR/gitea-backup-$DATE.tar.gz\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"restore-procedure\" class=\"mobile-header\"\u003eRestore Procedure\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Stop service\nsudo systemctl stop gitea\n\n# Restore from backup\ntar -xzf /backup/gitea/gitea-backup-*.tar.gz -C /\n\n# Start service\nsudo systemctl start gitea\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"6-troubleshooting\" class=\"mobile-header\"\u003e6. Troubleshooting\u003c/h2\u003e\n\u003ch3 id=\"common-issues\" class=\"mobile-header\"\u003eCommon Issues\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e1. \u003cstrong\u003eService won't start\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check logs\nsudo journalctl -u gitea -n 100\nsudo tail -f /var/log/gitea/gitea.log\n\n# Check configuration\ngitea --version\n\n# Check permissions\nls -la /etc/gitea\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e2. \u003cstrong\u003eConnection issues\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check if service is listening\nsudo ss -tlnp | grep 3000\n\n# Test connectivity\ntelnet localhost 3000\n\n# Check firewall\nsudo firewall-cmd --list-all\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e3. \u003cstrong\u003ePerformance issues\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check resource usage\ntop -p $(pgrep gitea)\n\n# Check disk I/O\niotop -p $(pgrep gitea)\n\n# Check connections\nss -an | grep 3000\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"integration-examples\" class=\"mobile-header\"\u003eIntegration Examples\u003c/h2\u003e\n\u003ch3 id=\"docker-compose-example\" class=\"mobile-header\"\u003eDocker Compose Example\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"yaml\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eyaml\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-yaml\"\u003eversion: \u0026#039;3.8\u0026#039;\nservices:\n  gitea:\n    image: gitea:latest\n    ports:\n      - \u0026quot;3000:3000\u0026quot;\n    volumes:\n      - ./config:/etc/gitea\n      - ./data:/var/lib/gitea\n    restart: unless-stopped\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"maintenance\" class=\"mobile-header\"\u003eMaintenance\u003c/h2\u003e\n\u003ch3 id=\"update-procedures\" class=\"mobile-header\"\u003eUpdate Procedures\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# RHEL/CentOS/Rocky/AlmaLinux\nsudo dnf update gitea\n\n# Debian/Ubuntu\nsudo apt update \u0026amp;\u0026amp; sudo apt upgrade gitea\n\n# Arch Linux\nsudo pacman -Syu gitea\n\n# Alpine Linux\napk update \u0026amp;\u0026amp; apk upgrade gitea\n\n# openSUSE\nsudo zypper update gitea\n\n# FreeBSD\npkg update \u0026amp;\u0026amp; pkg upgrade gitea\n\n# Always backup before updates\ntar -czf /backup/gitea-pre-update-$(date +%Y%m%d).tar.gz /etc/gitea\n\n# Restart after updates\nsudo systemctl restart gitea\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"regular-maintenance\" class=\"mobile-header\"\u003eRegular Maintenance\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Log rotation\nsudo logrotate -f /etc/logrotate.d/gitea\n\n# Clean old logs\nfind /var/log/gitea -name \u0026quot;*.log\u0026quot; -mtime +30 -delete\n\n# Check disk usage\ndu -sh /var/lib/gitea\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"additional-resources\" class=\"mobile-header\"\u003eAdditional Resources\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003eOfficial Documentation: https://docs.gitea.org/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eGitHub Repository: https://github.com/gitea/gitea\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eCommunity Forum: https://forum.gitea.org/\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eBest Practices Guide: https://docs.gitea.org/best-practices\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e---\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This guide is part of the \u003ca href=\"https://howtomgr.github.io\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eHowToMgr\u003c/a\u003e collection. Always refer to official documentation for the most up-to-date information.\u003c/p\u003e","readTime":"7 min","wordCount":1289,"tableOfContents":[{"level":2,"text":"Table of Contents","id":"table-of-contents"},{"level":2,"text":"1. Prerequisites","id":"1-prerequisites"},{"level":2,"text":"2. Supported Operating Systems","id":"2-supported-operating-systems"},{"level":2,"text":"3. Installation","id":"3-installation"},{"level":3,"text":"RHEL/CentOS/Rocky Linux/AlmaLinux","id":"rhelcentosrocky-linuxalmalinux"},{"level":1,"text":"Install EPEL repository if needed","id":"install-epel-repository-if-needed"},{"level":1,"text":"Install gitea","id":"install-gitea"},{"level":1,"text":"Enable and start service","id":"enable-and-start-service"},{"level":1,"text":"Configure firewall","id":"configure-firewall"},{"level":1,"text":"Verify installation","id":"verify-installation"},{"level":3,"text":"Debian/Ubuntu","id":"debianubuntu"},{"level":1,"text":"Update package index","id":"update-package-index"},{"level":1,"text":"Install gitea","id":"install-gitea"},{"level":1,"text":"Enable and start service","id":"enable-and-start-service"},{"level":1,"text":"Configure firewall","id":"configure-firewall"},{"level":1,"text":"Verify installation","id":"verify-installation"},{"level":3,"text":"Arch Linux","id":"arch-linux"},{"level":1,"text":"Install gitea","id":"install-gitea"},{"level":1,"text":"Enable and start service","id":"enable-and-start-service"},{"level":1,"text":"Verify installation","id":"verify-installation"},{"level":3,"text":"Alpine Linux","id":"alpine-linux"},{"level":1,"text":"Install gitea","id":"install-gitea"},{"level":1,"text":"Enable and start service","id":"enable-and-start-service"},{"level":1,"text":"Verify installation","id":"verify-installation"},{"level":3,"text":"openSUSE/SLES","id":"opensusesles"},{"level":1,"text":"Install gitea","id":"install-gitea"},{"level":1,"text":"Enable and start service","id":"enable-and-start-service"},{"level":1,"text":"Configure firewall","id":"configure-firewall"},{"level":1,"text":"Verify installation","id":"verify-installation"},{"level":3,"text":"macOS","id":"macos"},{"level":1,"text":"Using Homebrew","id":"using-homebrew"},{"level":1,"text":"Start service","id":"start-service"},{"level":1,"text":"Verify installation","id":"verify-installation"},{"level":3,"text":"FreeBSD","id":"freebsd"},{"level":1,"text":"Using pkg","id":"using-pkg"},{"level":1,"text":"Enable in rc.conf","id":"enable-in-rcconf"},{"level":1,"text":"Start service","id":"start-service"},{"level":1,"text":"Verify installation","id":"verify-installation"},{"level":3,"text":"Windows","id":"windows"},{"level":1,"text":"Using Chocolatey","id":"using-chocolatey"},{"level":1,"text":"Or using Scoop","id":"or-using-scoop"},{"level":1,"text":"Verify installation","id":"verify-installation"},{"level":2,"text":"Initial Configuration","id":"initial-configuration"},{"level":3,"text":"Basic Configuration","id":"basic-configuration"},{"level":1,"text":"Create configuration directory","id":"create-configuration-directory"},{"level":1,"text":"Set up basic configuration","id":"set-up-basic-configuration"},{"level":1,"text":"See official documentation for detailed configuration options","id":"see-official-documentation-for-detailed-configuration-options"},{"level":1,"text":"Test configuration","id":"test-configuration"},{"level":2,"text":"5. Service Management","id":"5-service-management"},{"level":3,"text":"systemd (RHEL, Debian, Ubuntu, Arch, openSUSE)","id":"systemd-rhel-debian-ubuntu-arch-opensuse"},{"level":1,"text":"Enable service","id":"enable-service"},{"level":1,"text":"Start service","id":"start-service"},{"level":1,"text":"Stop service","id":"stop-service"},{"level":1,"text":"Restart service","id":"restart-service"},{"level":1,"text":"Check status","id":"check-status"},{"level":1,"text":"View logs","id":"view-logs"},{"level":3,"text":"OpenRC (Alpine Linux)","id":"openrc-alpine-linux"},{"level":1,"text":"Enable service","id":"enable-service"},{"level":1,"text":"Start service","id":"start-service"},{"level":1,"text":"Stop service","id":"stop-service"},{"level":1,"text":"Restart service","id":"restart-service"},{"level":1,"text":"Check status","id":"check-status"},{"level":3,"text":"rc.d (FreeBSD)","id":"rcd-freebsd"},{"level":1,"text":"Enable in /etc/rc.conf","id":"enable-in-etcrcconf"},{"level":1,"text":"Start service","id":"start-service"},{"level":1,"text":"Stop service","id":"stop-service"},{"level":1,"text":"Restart service","id":"restart-service"},{"level":1,"text":"Check status","id":"check-status"},{"level":3,"text":"launchd (macOS)","id":"launchd-macos"},{"level":1,"text":"Using Homebrew services","id":"using-homebrew-services"},{"level":1,"text":"Check status","id":"check-status"},{"level":3,"text":"Windows Service Manager","id":"windows-service-manager"},{"level":1,"text":"Start service","id":"start-service"},{"level":1,"text":"Stop service","id":"stop-service"},{"level":1,"text":"Using PowerShell","id":"using-powershell"},{"level":1,"text":"Check status","id":"check-status"},{"level":2,"text":"Advanced Configuration","id":"advanced-configuration"},{"level":2,"text":"Reverse Proxy Setup","id":"reverse-proxy-setup"},{"level":3,"text":"nginx Configuration","id":"nginx-configuration"},{"level":3,"text":"Apache Configuration","id":"apache-configuration"},{"level":3,"text":"HAProxy Configuration","id":"haproxy-configuration"},{"level":2,"text":"Security Configuration","id":"security-configuration"},{"level":3,"text":"Basic Security Setup","id":"basic-security-setup"},{"level":1,"text":"Set appropriate permissions","id":"set-appropriate-permissions"},{"level":1,"text":"Configure firewall","id":"configure-firewall"},{"level":1,"text":"Enable SELinux policies (if applicable)","id":"enable-selinux-policies-if-applicable"},{"level":2,"text":"Database Setup","id":"database-setup"},{"level":2,"text":"Performance Optimization","id":"performance-optimization"},{"level":3,"text":"System Tuning","id":"system-tuning"},{"level":1,"text":"Basic system tuning","id":"basic-system-tuning"},{"level":2,"text":"Monitoring","id":"monitoring"},{"level":3,"text":"Basic Monitoring","id":"basic-monitoring"},{"level":1,"text":"Check service status","id":"check-service-status"},{"level":1,"text":"View logs","id":"view-logs"},{"level":1,"text":"Monitor resource usage","id":"monitor-resource-usage"},{"level":2,"text":"9. Backup and Restore","id":"9-backup-and-restore"},{"level":3,"text":"Backup Script","id":"backup-script"},{"level":1,"text":"Basic backup script","id":"basic-backup-script"},{"level":3,"text":"Restore Procedure","id":"restore-procedure"},{"level":1,"text":"Stop service","id":"stop-service"},{"level":1,"text":"Restore from backup","id":"restore-from-backup"},{"level":1,"text":"Start service","id":"start-service"},{"level":2,"text":"6. Troubleshooting","id":"6-troubleshooting"},{"level":3,"text":"Common Issues","id":"common-issues"},{"level":1,"text":"Check logs","id":"check-logs"},{"level":1,"text":"Check configuration","id":"check-configuration"},{"level":1,"text":"Check permissions","id":"check-permissions"},{"level":1,"text":"Check if service is listening","id":"check-if-service-is-listening"},{"level":1,"text":"Test connectivity","id":"test-connectivity"},{"level":1,"text":"Check firewall","id":"check-firewall"},{"level":1,"text":"Check resource usage","id":"check-resource-usage"},{"level":1,"text":"Check disk I/O","id":"check-disk-io"},{"level":1,"text":"Check connections","id":"check-connections"},{"level":2,"text":"Integration Examples","id":"integration-examples"},{"level":3,"text":"Docker Compose Example","id":"docker-compose-example"},{"level":2,"text":"Maintenance","id":"maintenance"},{"level":3,"text":"Update Procedures","id":"update-procedures"},{"level":1,"text":"RHEL/CentOS/Rocky/AlmaLinux","id":"rhelcentosrockyalmalinux"},{"level":1,"text":"Debian/Ubuntu","id":"debianubuntu"},{"level":1,"text":"Arch Linux","id":"arch-linux"},{"level":1,"text":"Alpine Linux","id":"alpine-linux"},{"level":1,"text":"openSUSE","id":"opensuse"},{"level":1,"text":"FreeBSD","id":"freebsd"},{"level":1,"text":"Always backup before updates","id":"always-backup-before-updates"},{"level":1,"text":"Restart after updates","id":"restart-after-updates"},{"level":3,"text":"Regular Maintenance","id":"regular-maintenance"},{"level":1,"text":"Log rotation","id":"log-rotation"},{"level":1,"text":"Clean old logs","id":"clean-old-logs"},{"level":1,"text":"Check disk usage","id":"check-disk-usage"},{"level":2,"text":"Additional Resources","id":"additional-resources"}],"lastBuilt":"2025-09-17T06:17:59.822Z","metadataVersion":"2.0"}]},"__N_SSG":true},"page":"/[category]/[guide]","query":{"category":"git-repositories","guide":"gitlab"},"buildId":"z8aEQCSCbpJfgbmidGtJ8","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>