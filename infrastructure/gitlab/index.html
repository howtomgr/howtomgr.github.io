<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"/><meta name="theme-color" content="#bd93f9"/><link rel="icon" href="/favicon.ico"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true"/><title class="jsx-745d6189719dfe72">Gitlab Installation Guide - HowToMgr</title><meta name="description" content="Repo for gitlab" class="jsx-745d6189719dfe72"/><meta name="keywords" content="installation guides, tutorials, linux, docker, kubernetes, mobile-first, responsive" class="jsx-745d6189719dfe72"/><meta property="og:title" content="Gitlab Installation Guide - HowToMgr" class="jsx-745d6189719dfe72"/><meta property="og:description" content="Repo for gitlab" class="jsx-745d6189719dfe72"/><meta property="og:type" content="website" class="jsx-745d6189719dfe72"/><meta property="og:url" content="https://howtomgr.github.io" class="jsx-745d6189719dfe72"/><meta property="og:image" content="https://howtomgr.github.io/social-preview.png" class="jsx-745d6189719dfe72"/><meta property="twitter:card" content="summary_large_image" class="jsx-745d6189719dfe72"/><meta property="twitter:title" content="Gitlab Installation Guide - HowToMgr" class="jsx-745d6189719dfe72"/><meta property="twitter:description" content="Repo for gitlab" class="jsx-745d6189719dfe72"/><meta name="next-head-count" content="17"/><link rel="dns-prefetch" href="//api.github.com"/><link rel="dns-prefetch" href="//github.com"/><link rel="preload" href="/favicon.ico" as="image"/><meta name="application-name" content="HowToMgr"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="default"/><meta name="apple-mobile-web-app-title" content="HowToMgr"/><meta name="format-detection" content="telephone=no"/><meta name="mobile-web-app-capable" content="yes"/><noscript><style>
            .requires-js { display: none !important; }
            .no-js-message { display: block !important; }
          </style></noscript><link rel="preload" href="/_next/static/css/eec6c1c201affe77.css" as="style"/><link rel="stylesheet" href="/_next/static/css/eec6c1c201affe77.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-ee7e63bc15b31913.js" defer=""></script><script src="/_next/static/chunks/framework-2b1f7a23d657eae4.js" defer=""></script><script src="/_next/static/chunks/main-6ec3f7584970eebe.js" defer=""></script><script src="/_next/static/chunks/pages/_app-d149ee305b4f74bb.js" defer=""></script><script src="/_next/static/chunks/409-41afef934247f89e.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bcategory%5D/%5Bguide%5D-38cc5ea2e41d9e97.js" defer=""></script><script src="/_next/static/lu0_WLQIo6fIzJ-IeQpog/_buildManifest.js" defer=""></script><script src="/_next/static/lu0_WLQIo6fIzJ-IeQpog/_ssgManifest.js" defer=""></script><style id="__jsx-8a7f0cdcf94f52ce">.breadcrumb.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:var(--space-2);margin-bottom:var(--space-6);font-size:var(--font-sm);color:var(--text-secondary);overflow-x:auto;white-space:nowrap;-webkit-overflow-scrolling:touch}.breadcrumb.jsx-8a7f0cdcf94f52ce a.jsx-8a7f0cdcf94f52ce{color:var(--accent-primary);text-decoration:none;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.breadcrumb.jsx-8a7f0cdcf94f52ce a.jsx-8a7f0cdcf94f52ce:hover{text-decoration:underline}.separator.jsx-8a7f0cdcf94f52ce{color:var(--text-muted);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.current.jsx-8a7f0cdcf94f52ce{color:var(--text-primary);font-weight:500;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.guide-header.jsx-8a7f0cdcf94f52ce{background:var(--bg-secondary);-webkit-border-radius:var(--border-radius-lg);-moz-border-radius:var(--border-radius-lg);border-radius:var(--border-radius-lg);padding:var(--space-6);margin-bottom:var(--space-8);border:1px solid var(--bg-surface)}.guide-title.jsx-8a7f0cdcf94f52ce{color:var(--accent-primary);font-size:var(--font-3xl);margin-bottom:var(--space-4);line-height:1.2;word-break:break-word}.guide-description.jsx-8a7f0cdcf94f52ce{color:var(--text-secondary);font-size:var(--font-lg);margin-bottom:var(--space-5);line-height:1.5}.guide-badges.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-3);margin-bottom:var(--space-5);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.guide-actions.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-3);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.guide-content.jsx-8a7f0cdcf94f52ce{background:var(--bg-secondary);-webkit-border-radius:var(--border-radius-lg);-moz-border-radius:var(--border-radius-lg);border-radius:var(--border-radius-lg);padding:var(--space-6);margin-bottom:var(--space-8);border:1px solid var(--bg-surface);overflow-x:hidden}.related-section.jsx-8a7f0cdcf94f52ce{margin-bottom:var(--space-8)}.section-title.jsx-8a7f0cdcf94f52ce{color:var(--accent-primary);font-size:var(--font-2xl);text-align:center;margin-bottom:var(--space-6)}.guide-navigation.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-4);-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:var(--space-8)}.loading-container.jsx-8a7f0cdcf94f52ce,.error-container.jsx-8a7f0cdcf94f52ce{text-align:center;padding:var(--space-8)}.error-actions.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-4);-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:var(--space-6);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}@media(max-width:767px){.guide-header.jsx-8a7f0cdcf94f52ce{padding:var(--space-4);margin-bottom:var(--space-6)}.guide-title.jsx-8a7f0cdcf94f52ce{font-size:var(--font-2xl)}.guide-description.jsx-8a7f0cdcf94f52ce{font-size:var(--font-base)}.guide-content.jsx-8a7f0cdcf94f52ce{padding:var(--space-4);margin-bottom:var(--space-6)}.guide-badges.jsx-8a7f0cdcf94f52ce{gap:var(--space-2)}.guide-actions.jsx-8a7f0cdcf94f52ce{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.guide-navigation.jsx-8a7f0cdcf94f52ce{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.breadcrumb.jsx-8a7f0cdcf94f52ce{margin-bottom:var(--space-4)}}</style><style id="__jsx-745d6189719dfe72">.app-container.jsx-745d6189719dfe72{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding-top:56px}.main-content.jsx-745d6189719dfe72{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;padding:var(--space-6)0}.mobile-footer.jsx-745d6189719dfe72{background:var(--bg-secondary);border-top:1px solid var(--bg-surface);padding:var(--space-6)0;margin-top:auto}.footer-content.jsx-745d6189719dfe72{text-align:center}.footer-links.jsx-745d6189719dfe72{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:var(--space-6);margin-bottom:var(--space-4);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.footer-links.jsx-745d6189719dfe72 a.jsx-745d6189719dfe72{color:var(--accent-primary);text-decoration:none;font-size:var(--font-sm)}.footer-links.jsx-745d6189719dfe72 a.jsx-745d6189719dfe72:hover{color:var(--accent-secondary)}.footer-separator.jsx-745d6189719dfe72{height:1px;background:var(--bg-surface);margin:var(--space-4)auto;width:200px}.footer-text.jsx-745d6189719dfe72,.footer-tech.jsx-745d6189719dfe72{color:var(--text-secondary);font-size:var(--font-sm);margin-bottom:var(--space-2)}.footer-disclaimer.jsx-745d6189719dfe72{color:var(--text-muted);font-size:var(--font-xs)}[data-theme="light"].jsx-745d6189719dfe72 .theme-icon-dark.jsx-745d6189719dfe72{display:none}[data-theme="light"].jsx-745d6189719dfe72 .theme-icon-light.jsx-745d6189719dfe72{display:inline!important}@media(max-width:767px){.main-content.jsx-745d6189719dfe72{padding:var(--space-4)0}.footer-links.jsx-745d6189719dfe72{gap:var(--space-4)}}</style></head><body><noscript><div class="no-js-message" style="padding:1rem;background:#ff5555;color:#f8f8f2;text-align:center;font-size:0.9rem">This site requires JavaScript to function properly. Please enable JavaScript in your browser.</div></noscript><div id="__next"><div class="jsx-745d6189719dfe72 app-container"><a href="#main-content" class="jsx-745d6189719dfe72 skip-link">Skip to main content</a><nav class="jsx-745d6189719dfe72 mobile-nav"><div class="jsx-745d6189719dfe72 mobile-nav-content"><a class="mobile-brand" href="/"><span role="img" aria-label="Books" class="jsx-745d6189719dfe72">📚</span>HowToMgr</a><button aria-label="Toggle theme" title="Switch theme" class="jsx-745d6189719dfe72 mobile-theme-toggle touch-target"><span class="jsx-745d6189719dfe72 theme-icon-dark">🌙</span><span style="display:none" class="jsx-745d6189719dfe72 theme-icon-light">☀️</span></button></div></nav><main id="main-content" tabindex="-1" class="jsx-745d6189719dfe72 main-content"><div class="jsx-745d6189719dfe72 container"><nav aria-label="Breadcrumb" class="jsx-8a7f0cdcf94f52ce breadcrumb"><a href="/">Home</a><span class="jsx-8a7f0cdcf94f52ce separator">→</span><a href="/infrastructure/">Infrastructure</a><span class="jsx-8a7f0cdcf94f52ce separator">→</span><span class="jsx-8a7f0cdcf94f52ce current">Gitlab</span></nav><header class="jsx-8a7f0cdcf94f52ce guide-header"><div class="jsx-8a7f0cdcf94f52ce guide-meta-top"><h1 class="jsx-8a7f0cdcf94f52ce guide-title">Gitlab</h1><p class="jsx-8a7f0cdcf94f52ce guide-description">Repo for gitlab</p><div class="jsx-8a7f0cdcf94f52ce guide-badges"><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-primary">Infrastructure</span><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-info">9 min</span></div><div class="jsx-8a7f0cdcf94f52ce guide-actions"><a href="https://github.com/howtomgr/gitlab" target="_blank" rel="noopener" class="jsx-8a7f0cdcf94f52ce btn btn-secondary">View on GitHub</a></div></div></header><article class="jsx-8a7f0cdcf94f52ce guide-content"><div class="jsx-8a7f0cdcf94f52ce readme-content"><h1 id="gitlab-installation-guide" class="mobile-header">GitLab Installation Guide</h1>
<p class="mobile-paragraph">Complete DevOps platform with Git repository management, CI/CD pipelines, issue tracking, and container registry.</p>
<h2 id="prerequisites" class="mobile-header">Prerequisites</h2>
<li class="mobile-list-item">Linux system (Ubuntu/Debian, RHEL/CentOS, or compatible)</li>
<li class="mobile-list-item">8GB RAM minimum, 16GB+ recommended for production</li>
<li class="mobile-list-item">4 CPU cores minimum</li>
<li class="mobile-list-item">20GB+ available disk space</li>
<li class="mobile-list-item">Domain name for external access</li>
<h2 id="installation" class="mobile-header">Installation</h2>
<h3 id="using-omnibus-package-recommended" class="mobile-header">Using Omnibus Package (Recommended)</h3>
<p class="mobile-paragraph">#### Ubuntu/Debian</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Install dependencies
sudo apt update
sudo apt install -y ca-certificates curl openssh-server postfix

# Add GitLab repository
curl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.deb.sh | sudo bash

# Install GitLab
sudo apt install -y gitlab-ee

# Configure and start GitLab
sudo gitlab-ctl reconfigure</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">#### RHEL/CentOS/Rocky Linux</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Install dependencies
sudo yum install -y curl policycoreutils-python-utils openssh-server postfix

# Enable SSH and Postfix
sudo systemctl enable --now sshd postfix

# Add GitLab repository
curl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash

# Install GitLab
sudo yum install -y gitlab-ee

# Configure and start GitLab
sudo gitlab-ctl reconfigure</code></pre>
      </div>
    </div>
<h3 id="using-docker-compose" class="mobile-header">Using Docker Compose</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create GitLab directory
mkdir -p ~/gitlab/{config,logs,data}
cd ~/gitlab

# Set proper ownership
sudo chown -R 998:998 config logs data

# Create docker-compose.yml
cat &gt; docker-compose.yml &lt;&lt;EOF
version: &#039;3.8&#039;

services:
  gitlab:
    image: gitlab/gitlab-ee:latest
    restart: unless-stopped
    hostname: gitlab.example.com
    environment:
      GITLAB_OMNIBUS_CONFIG: |
        external_url &#039;https://gitlab.example.com&#039;
        
        # GitLab configuration
        gitlab_rails[&#039;gitlab_shell_ssh_port&#039;] = 2222
        gitlab_rails[&#039;time_zone&#039;] = &#039;America/New_York&#039;
        gitlab_rails[&#039;gitlab_email_enabled&#039;] = true
        gitlab_rails[&#039;gitlab_email_from&#039;] = &#039;gitlab@example.com&#039;
        gitlab_rails[&#039;gitlab_email_display_name&#039;] = &#039;GitLab&#039;
        
        # Database configuration
        postgresql[&#039;shared_preload_libraries&#039;] = &#039;pg_stat_statements&#039;
        postgresql[&#039;track_activity_query_size&#039;] = 1024
        
        # Redis configuration
        redis[&#039;save&#039;] = &#039;900 1 300 10 60 10000&#039;
        
        # Backup configuration
        gitlab_rails[&#039;backup_keep_time&#039;] = 604800  # 7 days
        
        # Container Registry
        registry_external_url &#039;https://registry.example.com&#039;
        gitlab_rails[&#039;registry_enabled&#039;] = true
        
        # Monitoring
        prometheus_monitoring[&#039;enable&#039;] = true
        grafana[&#039;enable&#039;] = true
        
        # NGINX
        nginx[&#039;listen_port&#039;] = 80
        nginx[&#039;listen_https&#039;] = false
        nginx[&#039;redirect_http_to_https&#039;] = false
        
        # Let&#039;s Encrypt (disable for reverse proxy setup)
        letsencrypt[&#039;enable&#039;] = false
        
    ports:
      - &#039;80:80&#039;
      - &#039;443:443&#039;
      - &#039;2222:22&#039;
    volumes:
      - &#039;./config:/etc/gitlab&#039;
      - &#039;./logs:/var/log/gitlab&#039;
      - &#039;./data:/var/opt/gitlab&#039;
    shm_size: &#039;256m&#039;
    networks:
      - gitlab

networks:
  gitlab:
    driver: bridge
EOF

# Start GitLab
docker-compose up -d

# Check logs
docker-compose logs -f gitlab</code></pre>
      </div>
    </div>
<h2 id="configuration" class="mobile-header">Configuration</h2>
<h3 id="basic-configuration-etcgitlabgitlabrb" class="mobile-header">Basic Configuration (/etc/gitlab/gitlab.rb)</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Edit GitLab configuration
sudo nano /etc/gitlab/gitlab.rb

# Key settings:
external_url &#039;https://gitlab.example.com&#039;

# Email configuration
gitlab_rails[&#039;smtp_enable&#039;] = true
gitlab_rails[&#039;smtp_address&#039;] = &quot;smtp.example.com&quot;
gitlab_rails[&#039;smtp_port&#039;] = 587
gitlab_rails[&#039;smtp_user_name&#039;] = &quot;smtp_username&quot;
gitlab_rails[&#039;smtp_password&#039;] = &quot;smtp_password&quot;
gitlab_rails[&#039;smtp_domain&#039;] = &quot;example.com&quot;
gitlab_rails[&#039;smtp_authentication&#039;] = &quot;login&quot;
gitlab_rails[&#039;smtp_enable_starttls_auto&#039;] = true
gitlab_rails[&#039;smtp_tls&#039;] = false

gitlab_rails[&#039;gitlab_email_from&#039;] = &#039;gitlab@example.com&#039;
gitlab_rails[&#039;gitlab_email_display_name&#039;] = &#039;GitLab&#039;

# Backup configuration
gitlab_rails[&#039;backup_keep_time&#039;] = 604800  # 7 days
gitlab_rails[&#039;backup_upload_connection&#039;] = {
  &#039;provider&#039; =&gt; &#039;AWS&#039;,
  &#039;aws_access_key_id&#039; =&gt; &#039;your_access_key&#039;,
  &#039;aws_secret_access_key&#039; =&gt; &#039;your_secret_key&#039;,
  &#039;region&#039; =&gt; &#039;us-east-1&#039;
}
gitlab_rails[&#039;backup_upload_remote_directory&#039;] = &#039;gitlab-backups&#039;

# Container Registry
registry_external_url &#039;https://registry.example.com&#039;
gitlab_rails[&#039;registry_enabled&#039;] = true

# CI/CD settings
gitlab_ci[&#039;gitlab_ci_all_broken_builds&#039;] = true
gitlab_ci[&#039;gitlab_ci_add_pusher&#039;] = true

# Monitoring
prometheus_monitoring[&#039;enable&#039;] = true
grafana[&#039;enable&#039;] = true
grafana[&#039;admin_password&#039;] = &#039;grafana_admin_password&#039;

# Apply configuration
sudo gitlab-ctl reconfigure</code></pre>
      </div>
    </div>
<h3 id="nginx-reverse-proxy-external" class="mobile-header">NGINX Reverse Proxy (External)</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create NGINX configuration for GitLab reverse proxy
sudo tee /etc/nginx/sites-available/gitlab &gt; /dev/null &lt;&lt;EOF
upstream gitlab-workhorse {
  server unix:/var/opt/gitlab/gitlab-workhorse/sockets/socket;
}

server {
  listen 80;
  server_name gitlab.example.com;
  return 301 https://\$server_name\$request_uri;
}

server {
  listen 443 ssl http2;
  server_name gitlab.example.com;

  ssl_certificate /etc/ssl/certs/gitlab.crt;
  ssl_certificate_key /etc/ssl/private/gitlab.key;

  location / {
    proxy_pass http://gitlab-workhorse;
    proxy_set_header Host \$http_host;
    proxy_set_header X-Real-IP \$remote_addr;
    proxy_set_header X-Forwarded-For \$proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto \$scheme;
    proxy_set_header X-Forwarded-Ssl on;
    
    # GitLab specific headers
    proxy_set_header X-Forwarded-Host \$http_host;
    proxy_set_header X-Forwarded-Server \$host;
    
    # WebSocket support
    proxy_http_version 1.1;
    proxy_set_header Upgrade \$http_upgrade;
    proxy_set_header Connection &quot;upgrade&quot;;
    
    # Timeout settings
    proxy_connect_timeout 60s;
    proxy_send_timeout 60s;
    proxy_read_timeout 60s;
  }
}

# Container Registry
server {
  listen 443 ssl http2;
  server_name registry.example.com;

  ssl_certificate /etc/ssl/certs/registry.crt;
  ssl_certificate_key /etc/ssl/private/registry.key;

  # disable any limits to avoid HTTP 413 for large image uploads
  client_max_body_size 0;

  # required to avoid HTTP 411: see Issue #1486 (https://github.com/moby/moby/issues/1486)
  chunked_transfer_encoding on;

  location /v2/ {
    proxy_pass http://localhost:5000;
    proxy_set_header Host \$http_host;
    proxy_set_header X-Real-IP \$remote_addr;
    proxy_set_header X-Forwarded-For \$proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto \$scheme;
  }
}
EOF

sudo ln -s /etc/nginx/sites-available/gitlab /etc/nginx/sites-enabled/
sudo nginx -t &amp;&amp; sudo systemctl restart nginx</code></pre>
      </div>
    </div>
<h2 id="gitlab-runner-setup" class="mobile-header">GitLab Runner Setup</h2>
<h3 id="install-gitlab-runner" class="mobile-header">Install GitLab Runner</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Add GitLab Runner repository
curl -L &quot;https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.deb.sh&quot; | sudo bash

# Install GitLab Runner
sudo apt install -y gitlab-runner

# Or manual installation
sudo curl -L --output /usr/local/bin/gitlab-runner &quot;https://gitlab-runner-downloads.s3.amazonaws.com/latest/binaries/gitlab-runner-linux-amd64&quot;
sudo chmod +x /usr/local/bin/gitlab-runner
sudo useradd --comment &#039;GitLab Runner&#039; --create-home gitlab-runner --shell /bin/bash
sudo gitlab-runner install --user=gitlab-runner --working-directory=/home/gitlab-runner
sudo gitlab-runner start</code></pre>
      </div>
    </div>
<h3 id="register-runner" class="mobile-header">Register Runner</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Register runner (get token from GitLab Admin → Runners)
sudo gitlab-runner register \
  --url &quot;https://gitlab.example.com/&quot; \
  --registration-token &quot;REGISTRATION_TOKEN&quot; \
  --description &quot;docker-runner&quot; \
  --tag-list &quot;docker,aws&quot; \
  --run-untagged=&quot;true&quot; \
  --locked=&quot;false&quot; \
  --access-level=&quot;not_protected&quot; \
  --executor &quot;docker&quot; \
  --docker-image alpine:latest \
  --docker-privileged \
  --docker-volumes &quot;/certs/client&quot;

# Configure runner for Docker-in-Docker
sudo tee -a /etc/gitlab-runner/config.toml &gt; /dev/null &lt;&lt;EOF
[[runners]]
  [runners.docker]
    privileged = true
    volumes = [&quot;/cache&quot;, &quot;/certs/client&quot;]
    disable_cache = false
    shm_size = 0
EOF

sudo systemctl restart gitlab-runner</code></pre>
      </div>
    </div>
<h2 id="performance-optimization" class="mobile-header">Performance Optimization</h2>
<h3 id="database-tuning" class="mobile-header">Database Tuning</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># PostgreSQL optimization for GitLab
sudo tee -a /etc/gitlab/gitlab.rb &gt; /dev/null &lt;&lt;EOF

# PostgreSQL settings
postgresql[&#039;shared_buffers&#039;] = &quot;1GB&quot;
postgresql[&#039;effective_cache_size&#039;] = &quot;4GB&quot;
postgresql[&#039;checkpoint_completion_target&#039;] = 0.9
postgresql[&#039;wal_buffers&#039;] = &quot;16MB&quot;
postgresql[&#039;default_statistics_target&#039;] = 100
postgresql[&#039;random_page_cost&#039;] = 1.1
postgresql[&#039;effective_io_concurrency&#039;] = 200
postgresql[&#039;work_mem&#039;] = &quot;4MB&quot;
postgresql[&#039;min_wal_size&#039;] = &quot;1GB&quot;
postgresql[&#039;max_wal_size&#039;] = &quot;4GB&quot;
postgresql[&#039;max_worker_processes&#039;] = 8
postgresql[&#039;max_parallel_workers_per_gather&#039;] = 4
postgresql[&#039;max_parallel_workers&#039;] = 8
postgresql[&#039;max_parallel_maintenance_workers&#039;] = 4
EOF

sudo gitlab-ctl reconfigure</code></pre>
      </div>
    </div>
<h3 id="redis-configuration" class="mobile-header">Redis Configuration</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Redis optimization
sudo tee -a /etc/gitlab/gitlab.rb &gt; /dev/null &lt;&lt;EOF

# Redis settings
redis[&#039;maxmemory&#039;] = &quot;1gb&quot;
redis[&#039;maxmemory_policy&#039;] = &quot;allkeys-lru&quot;
redis[&#039;save&#039;] = [&quot;900 1&quot;, &quot;300 10&quot;, &quot;60 10000&quot;]
EOF

sudo gitlab-ctl reconfigure</code></pre>
      </div>
    </div>
<h3 id="gitlab-web-server-tuning" class="mobile-header">GitLab Web Server Tuning</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Unicorn/Puma optimization
sudo tee -a /etc/gitlab/gitlab.rb &gt; /dev/null &lt;&lt;EOF

# Puma settings (GitLab 13.0+)
puma[&#039;worker_processes&#039;] = 4
puma[&#039;min_threads&#039;] = 4
puma[&#039;max_threads&#039;] = 4

# Sidekiq settings
sidekiq[&#039;max_concurrency&#039;] = 25
sidekiq[&#039;min_concurrency&#039;] = 10

# Gitaly settings
gitaly[&#039;ruby_max_rss&#039;] = 300000000  # 300MB
gitaly[&#039;concurrency&#039;] = [
  {
    &#039;rpc&#039; =&gt; &quot;/gitaly.SmartHTTPService/PostReceivePack&quot;,
    &#039;max_per_repo&#039; =&gt; 3
  },
  {
    &#039;rpc&#039; =&gt; &quot;/gitaly.SSHService/SSHUploadPack&quot;,
    &#039;max_per_repo&#039; =&gt; 3
  }
]
EOF

sudo gitlab-ctl reconfigure</code></pre>
      </div>
    </div>
<h2 id="backup-and-restore" class="mobile-header">Backup and Restore</h2>
<h3 id="automated-backup" class="mobile-header">Automated Backup</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Configure automatic backups
sudo tee -a /etc/gitlab/gitlab.rb &gt; /dev/null &lt;&lt;EOF

# Backup settings
gitlab_rails[&#039;backup_keep_time&#039;] = 604800  # 7 days
gitlab_rails[&#039;backup_path&#039;] = &quot;/var/opt/gitlab/backups&quot;

# S3 backup upload
gitlab_rails[&#039;backup_upload_connection&#039;] = {
  &#039;provider&#039; =&gt; &#039;AWS&#039;,
  &#039;region&#039; =&gt; &#039;us-east-1&#039;,
  &#039;aws_access_key_id&#039; =&gt; &#039;your_access_key&#039;,
  &#039;aws_secret_access_key&#039; =&gt; &#039;your_secret_key&#039;
}
gitlab_rails[&#039;backup_upload_remote_directory&#039;] = &#039;gitlab-backups&#039;
gitlab_rails[&#039;backup_multipart_chunk_size&#039;] = 104857600  # 100MB
gitlab_rails[&#039;backup_encryption&#039;] = &#039;AES256&#039;
EOF

sudo gitlab-ctl reconfigure

# Create backup script
sudo tee /usr/local/bin/gitlab-backup.sh &gt; /dev/null &lt;&lt;&#039;EOF&#039;
#!/bin/bash
# Create GitLab backup
gitlab-backup create STRATEGY=copy

# Backup configuration files
tar -czf /var/opt/gitlab/backups/$(date +%s_%Y_%m_%d)_gitlab_config_backup.tar.gz -C / etc/gitlab/gitlab-secrets.json etc/gitlab/gitlab.rb

echo &quot;GitLab backup completed&quot;
EOF

sudo chmod +x /usr/local/bin/gitlab-backup.sh

# Schedule daily backup
echo &quot;0 2 * * * root /usr/local/bin/gitlab-backup.sh&quot; | sudo tee -a /etc/crontab</code></pre>
      </div>
    </div>
<h3 id="manual-backup-and-restore" class="mobile-header">Manual Backup and Restore</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create backup manually
sudo gitlab-backup create

# List backups
sudo gitlab-backup list

# Restore from backup
sudo gitlab-ctl stop unicorn
sudo gitlab-ctl stop puma
sudo gitlab-ctl stop sidekiq
sudo gitlab-backup restore BACKUP=timestamp_of_backup
sudo gitlab-ctl restart
sudo gitlab-rake gitlab:check SANITIZE=true</code></pre>
      </div>
    </div>
<h2 id="ssltls-configuration" class="mobile-header">SSL/TLS Configuration</h2>
<h3 id="lets-encrypt-integration" class="mobile-header">Let's Encrypt Integration</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Configure Let&#039;s Encrypt in GitLab
sudo tee -a /etc/gitlab/gitlab.rb &gt; /dev/null &lt;&lt;EOF

# Let&#039;s Encrypt configuration
letsencrypt[&#039;enable&#039;] = true
letsencrypt[&#039;contact_emails&#039;] = [&#039;admin@example.com&#039;]
letsencrypt[&#039;auto_renew&#039;] = true
letsencrypt[&#039;auto_renew_hour&#039;] = 0
letsencrypt[&#039;auto_renew_minute&#039;] = 0
letsencrypt[&#039;auto_renew_day_of_month&#039;] = &quot;*/4&quot;

# Redirect HTTP to HTTPS
nginx[&#039;redirect_http_to_https&#039;] = true
nginx[&#039;ssl_protocols&#039;] = &quot;TLSv1.2 TLSv1.3&quot;
nginx[&#039;ssl_prefer_server_ciphers&#039;] = &quot;off&quot;
EOF

sudo gitlab-ctl reconfigure</code></pre>
      </div>
    </div>
<h3 id="manual-ssl-configuration" class="mobile-header">Manual SSL Configuration</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Configure custom SSL certificates
sudo tee -a /etc/gitlab/gitlab.rb &gt; /dev/null &lt;&lt;EOF

# SSL configuration
nginx[&#039;ssl_certificate&#039;] = &quot;/etc/ssl/certs/gitlab.crt&quot;
nginx[&#039;ssl_certificate_key&#039;] = &quot;/etc/ssl/private/gitlab.key&quot;
nginx[&#039;ssl_dhparam&#039;] = &quot;/etc/ssl/certs/dhparam.pem&quot;

# Registry SSL
registry_nginx[&#039;ssl_certificate&#039;] = &quot;/etc/ssl/certs/registry.crt&quot;
registry_nginx[&#039;ssl_certificate_key&#039;] = &quot;/etc/ssl/private/registry.key&quot;
EOF

# Generate dhparam
sudo openssl dhparam -out /etc/ssl/certs/dhparam.pem 2048

sudo gitlab-ctl reconfigure</code></pre>
      </div>
    </div>
<h2 id="cicd-configuration" class="mobile-header">CI/CD Configuration</h2>
<h3 id="enable-container-registry" class="mobile-header">Enable Container Registry</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Configure container registry
sudo tee -a /etc/gitlab/gitlab.rb &gt; /dev/null &lt;&lt;EOF

# Container Registry
registry_external_url &#039;https://registry.example.com&#039;
gitlab_rails[&#039;registry_enabled&#039;] = true
registry[&#039;enable&#039;] = true
registry[&#039;username&#039;] = &quot;registry&quot;
registry[&#039;uid&#039;] = 996
registry[&#039;gid&#039;] = 996
registry[&#039;dir&#039;] = &quot;/var/opt/gitlab/registry&quot;
registry[&#039;registry_http_addr&#039;] = &quot;localhost:5000&quot;
registry[&#039;debug_addr&#039;] = &quot;localhost:5001&quot;
registry[&#039;log_directory&#039;] = &quot;/var/log/gitlab/registry&quot;
registry[&#039;log_level&#039;] = &quot;info&quot;
registry[&#039;rootcertbundle&#039;] = &quot;/opt/gitlab/embedded/ssl/certs/cacert.pem&quot;
registry[&#039;health_storagedriver_enabled&#039;] = true
registry[&#039;middleware&#039;] = {
  &#039;redirect&#039; =&gt; [
    {&#039;disable&#039; =&gt; false}
  ]
}
EOF

sudo gitlab-ctl reconfigure</code></pre>
      </div>
    </div>
<h3 id="gitlab-pages-setup" class="mobile-header">GitLab Pages Setup</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Enable GitLab Pages
sudo tee -a /etc/gitlab/gitlab.rb &gt; /dev/null &lt;&lt;EOF

# GitLab Pages configuration
pages_external_url &quot;https://pages.example.com&quot;
gitlab_pages[&#039;enable&#039;] = true
gitlab_pages[&#039;dir&#039;] = &quot;/var/opt/gitlab/gitlab-pages&quot;
gitlab_pages[&#039;log_directory&#039;] = &quot;/var/log/gitlab/gitlab-pages&quot;
gitlab_pages[&#039;artifacts_server&#039;] = true
gitlab_pages[&#039;artifacts_server_url&#039;] = &quot;https://gitlab.example.com/api/v4&quot;
gitlab_pages[&#039;access_control&#039;] = false
gitlab_pages[&#039;use_legacy_storage&#039;] = false
gitlab_pages[&#039;inplace_chroot&#039;] = true
gitlab_pages[&#039;propagate_correlation_id&#039;] = false
gitlab_pages[&#039;log_format&#039;] = &quot;json&quot;
gitlab_pages[&#039;log_verbose&#039;] = false
gitlab_pages[&#039;redirect_http&#039;] = true
pages_nginx[&#039;enable&#039;] = true
EOF

sudo gitlab-ctl reconfigure</code></pre>
      </div>
    </div>
<h2 id="monitoring-and-maintenance" class="mobile-header">Monitoring and Maintenance</h2>
<h3 id="gitlab-monitoring-stack" class="mobile-header">GitLab Monitoring Stack</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Access built-in monitoring
# Prometheus: https://gitlab.example.com/-/admin/monitoring
# Grafana: https://gitlab.example.com/-/grafana

# Configure external Prometheus
sudo tee -a /etc/gitlab/gitlab.rb &gt; /dev/null &lt;&lt;EOF

# Prometheus configuration
prometheus[&#039;listen_address&#039;] = &#039;localhost:9090&#039;
prometheus[&#039;scrape_configs&#039;] = [
  {
    &#039;job_name&#039; =&gt; &#039;gitlab-workhorse&#039;,
    &#039;static_configs&#039; =&gt; [
      { &#039;targets&#039; =&gt; [&#039;localhost:9229&#039;] }
    ]
  },
  {
    &#039;job_name&#039; =&gt; &#039;gitlab-unicorn&#039;,
    &#039;static_configs&#039; =&gt; [
      { &#039;targets&#039; =&gt; [&#039;localhost:8080&#039;] }
    ]
  },
  {
    &#039;job_name&#039; =&gt; &#039;gitlab-sidekiq&#039;,
    &#039;static_configs&#039; =&gt; [
      { &#039;targets&#039; =&gt; [&#039;localhost:8082&#039;] }
    ]
  }
]
EOF

sudo gitlab-ctl reconfigure</code></pre>
      </div>
    </div>
<h3 id="maintenance-commands" class="mobile-header">Maintenance Commands</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Check GitLab status
sudo gitlab-rake gitlab:check
sudo gitlab-rake gitlab:doctor:secrets

# Database maintenance
sudo gitlab-rake db:migrate
sudo gitlab-rake db:check
sudo gitlab-rake gitlab:cleanup:sessions
sudo gitlab-rake gitlab:cleanup:refs

# Cache clearing
sudo gitlab-rake cache:clear
sudo gitlab-rake assets:clean

# Check disk usage
sudo du -sh /var/opt/gitlab/
sudo gitlab-rake gitlab:artifacts:check
sudo gitlab-rake gitlab:lfs:check

# Update GitLab
sudo apt update &amp;&amp; sudo apt upgrade gitlab-ee  # Package installation
sudo gitlab-ctl restart                        # Docker</code></pre>
      </div>
    </div>
<h2 id="verification" class="mobile-header">Verification</h2>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Check GitLab status
sudo gitlab-ctl status
sudo gitlab-rake gitlab:check

# Test web interface
curl -I https://gitlab.example.com
curl -I https://registry.example.com

# Check service logs
sudo gitlab-ctl tail
sudo gitlab-ctl tail nginx
sudo gitlab-ctl tail postgresql
sudo gitlab-ctl tail redis

# Check runner status
sudo gitlab-runner verify
sudo gitlab-runner list

# Test container registry
docker login registry.example.com
docker pull alpine
docker tag alpine registry.example.com/group/project:latest
docker push registry.example.com/group/project:latest

# Check GitLab Runner
sudo systemctl status gitlab-runner
gitlab-runner list

# Performance check
sudo gitlab-rake gitlab:env:info
sudo gitlab-rake gitlab:check</code></pre>
      </div>
    </div>
<h2 id="troubleshooting" class="mobile-header">Troubleshooting</h2>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Check all GitLab services
sudo gitlab-ctl status

# Restart specific service
sudo gitlab-ctl restart nginx
sudo gitlab-ctl restart postgresql

# Check configuration
sudo gitlab-rake gitlab:check
sudo gitlab-ctl show-config

# Debug mode
sudo gitlab-ctl tail
sudo gitlab-ctl tail nginx

# Check disk space
df -h /var/opt/gitlab/
sudo du -sh /var/opt/gitlab/git-data/

# Memory usage
free -h
sudo gitlab-ctl status

# Database connection issues
sudo gitlab-rake db:migrate:status
sudo -u git -H bundle exec rake gitlab:setup RAILS_ENV=production

# Reset root password
sudo gitlab-rake &quot;gitlab:password:reset[root]&quot;

# Check GitLab secrets
sudo gitlab-rake gitlab:doctor:secrets

# Reconfigure if issues persist
sudo gitlab-ctl reconfigure
sudo gitlab-ctl restart</code></pre>
      </div>
    </div>
<h2 id="additional-resources" class="mobile-header">Additional Resources</h2>
<li class="mobile-list-item"><a href="https://docs.gitlab.com/" target="_blank" rel="noopener" class="mobile-link">Official Documentation</a></li>
<li class="mobile-list-item"><a href="https://docs.gitlab.com/ee/administration/" target="_blank" rel="noopener" class="mobile-link">GitLab Admin Docs</a></li>
<li class="mobile-list-item"><a href="https://docs.gitlab.com/runner/" target="_blank" rel="noopener" class="mobile-link">GitLab Runner Documentation</a></li>
<li class="mobile-list-item"><a href="https://docs.gitlab.com/ee/administration/packages/container_registry.html" target="_blank" rel="noopener" class="mobile-link">Container Registry Guide</a></li>
<li class="mobile-list-item"><a href="https://forum.gitlab.com/" target="_blank" rel="noopener" class="mobile-link">GitLab Community Forum</a></li>
<p class="mobile-paragraph">---</p>
<p class="mobile-paragraph"><strong>Note:</strong> This guide is part of the <a href="https://howtomgr.github.io" target="_blank" rel="noopener" class="mobile-link">HowToMgr</a> collection.</p></div></article><section class="jsx-8a7f0cdcf94f52ce related-section"><h2 class="jsx-8a7f0cdcf94f52ce section-title">Related <!-- -->Infrastructure<!-- --> Guides</h2><div class="jsx-8a7f0cdcf94f52ce mobile-grid"><a class="mobile-card" href="/infrastructure/.claude"><div class="jsx-8a7f0cdcf94f52ce mobile-card-header"><h3 class="jsx-8a7f0cdcf94f52ce mobile-card-title">.claude</h3><p class="jsx-8a7f0cdcf94f52ce mobile-card-description">Repo for .claude</p></div><div class="jsx-8a7f0cdcf94f52ce mobile-card-meta"><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card" href="/infrastructure/adguard-home/"><div class="jsx-8a7f0cdcf94f52ce mobile-card-header"><h3 class="jsx-8a7f0cdcf94f52ce mobile-card-title">Adguard Home</h3><p class="jsx-8a7f0cdcf94f52ce mobile-card-description">Repo for adguard-home</p></div><div class="jsx-8a7f0cdcf94f52ce mobile-card-meta"><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card" href="/infrastructure/adminer/"><div class="jsx-8a7f0cdcf94f52ce mobile-card-header"><h3 class="jsx-8a7f0cdcf94f52ce mobile-card-title">Adminer</h3><p class="jsx-8a7f0cdcf94f52ce mobile-card-description">Repo for adminer</p></div><div class="jsx-8a7f0cdcf94f52ce mobile-card-meta"><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-info">1 min</span></div></a></div></section><nav class="jsx-8a7f0cdcf94f52ce guide-navigation"><a class="btn btn-secondary" href="/infrastructure/">← All <!-- -->Infrastructure</a><a class="btn btn-secondary" href="/">All Categories</a></nav></div></main><footer class="jsx-745d6189719dfe72 mobile-footer"><div class="jsx-745d6189719dfe72 container"><div class="jsx-745d6189719dfe72 footer-content"><div class="jsx-745d6189719dfe72 footer-links"><a href="/">Home</a><a href="https://github.com/howtomgr" target="_blank" rel="noopener" class="jsx-745d6189719dfe72">GitHub</a><a href="https://github.com/howtomgr/howtomgr.github.io" target="_blank" rel="noopener" class="jsx-745d6189719dfe72">Source</a></div><div class="jsx-745d6189719dfe72 footer-separator"></div><p class="jsx-745d6189719dfe72 footer-text">© <!-- -->2025<!-- --> HowToMgr Organization. Open source installation guides.</p><p class="jsx-745d6189719dfe72 footer-tech">Built with ❤️ using Next.js + GitHub Pages</p><p class="jsx-745d6189719dfe72 footer-disclaimer"><small class="jsx-745d6189719dfe72">All guides are provided as-is. Please review and test before production use.</small></p></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"guide":{"name":"gitlab","displayName":"Gitlab","slug":"gitlab","description":"Repo for gitlab","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/gitlab","updatedAt":"2025-09-08T03:08:07Z","createdAt":"2025-09-08T03:07:56Z","readmeRaw":"# GitLab Installation Guide\n\nComplete DevOps platform with Git repository management, CI/CD pipelines, issue tracking, and container registry.\n\n## Prerequisites\n\n- Linux system (Ubuntu/Debian, RHEL/CentOS, or compatible)\n- 8GB RAM minimum, 16GB+ recommended for production\n- 4 CPU cores minimum\n- 20GB+ available disk space\n- Domain name for external access\n\n## Installation\n\n### Using Omnibus Package (Recommended)\n\n#### Ubuntu/Debian\n```bash\n# Install dependencies\nsudo apt update\nsudo apt install -y ca-certificates curl openssh-server postfix\n\n# Add GitLab repository\ncurl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.deb.sh | sudo bash\n\n# Install GitLab\nsudo apt install -y gitlab-ee\n\n# Configure and start GitLab\nsudo gitlab-ctl reconfigure\n```\n\n#### RHEL/CentOS/Rocky Linux\n```bash\n# Install dependencies\nsudo yum install -y curl policycoreutils-python-utils openssh-server postfix\n\n# Enable SSH and Postfix\nsudo systemctl enable --now sshd postfix\n\n# Add GitLab repository\ncurl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash\n\n# Install GitLab\nsudo yum install -y gitlab-ee\n\n# Configure and start GitLab\nsudo gitlab-ctl reconfigure\n```\n\n### Using Docker Compose\n```bash\n# Create GitLab directory\nmkdir -p ~/gitlab/{config,logs,data}\ncd ~/gitlab\n\n# Set proper ownership\nsudo chown -R 998:998 config logs data\n\n# Create docker-compose.yml\ncat \u003e docker-compose.yml \u003c\u003cEOF\nversion: '3.8'\n\nservices:\n  gitlab:\n    image: gitlab/gitlab-ee:latest\n    restart: unless-stopped\n    hostname: gitlab.example.com\n    environment:\n      GITLAB_OMNIBUS_CONFIG: |\n        external_url 'https://gitlab.example.com'\n        \n        # GitLab configuration\n        gitlab_rails['gitlab_shell_ssh_port'] = 2222\n        gitlab_rails['time_zone'] = 'America/New_York'\n        gitlab_rails['gitlab_email_enabled'] = true\n        gitlab_rails['gitlab_email_from'] = 'gitlab@example.com'\n        gitlab_rails['gitlab_email_display_name'] = 'GitLab'\n        \n        # Database configuration\n        postgresql['shared_preload_libraries'] = 'pg_stat_statements'\n        postgresql['track_activity_query_size'] = 1024\n        \n        # Redis configuration\n        redis['save'] = '900 1 300 10 60 10000'\n        \n        # Backup configuration\n        gitlab_rails['backup_keep_time'] = 604800  # 7 days\n        \n        # Container Registry\n        registry_external_url 'https://registry.example.com'\n        gitlab_rails['registry_enabled'] = true\n        \n        # Monitoring\n        prometheus_monitoring['enable'] = true\n        grafana['enable'] = true\n        \n        # NGINX\n        nginx['listen_port'] = 80\n        nginx['listen_https'] = false\n        nginx['redirect_http_to_https'] = false\n        \n        # Let's Encrypt (disable for reverse proxy setup)\n        letsencrypt['enable'] = false\n        \n    ports:\n      - '80:80'\n      - '443:443'\n      - '2222:22'\n    volumes:\n      - './config:/etc/gitlab'\n      - './logs:/var/log/gitlab'\n      - './data:/var/opt/gitlab'\n    shm_size: '256m'\n    networks:\n      - gitlab\n\nnetworks:\n  gitlab:\n    driver: bridge\nEOF\n\n# Start GitLab\ndocker-compose up -d\n\n# Check logs\ndocker-compose logs -f gitlab\n```\n\n## Configuration\n\n### Basic Configuration (/etc/gitlab/gitlab.rb)\n```bash\n# Edit GitLab configuration\nsudo nano /etc/gitlab/gitlab.rb\n\n# Key settings:\nexternal_url 'https://gitlab.example.com'\n\n# Email configuration\ngitlab_rails['smtp_enable'] = true\ngitlab_rails['smtp_address'] = \"smtp.example.com\"\ngitlab_rails['smtp_port'] = 587\ngitlab_rails['smtp_user_name'] = \"smtp_username\"\ngitlab_rails['smtp_password'] = \"smtp_password\"\ngitlab_rails['smtp_domain'] = \"example.com\"\ngitlab_rails['smtp_authentication'] = \"login\"\ngitlab_rails['smtp_enable_starttls_auto'] = true\ngitlab_rails['smtp_tls'] = false\n\ngitlab_rails['gitlab_email_from'] = 'gitlab@example.com'\ngitlab_rails['gitlab_email_display_name'] = 'GitLab'\n\n# Backup configuration\ngitlab_rails['backup_keep_time'] = 604800  # 7 days\ngitlab_rails['backup_upload_connection'] = {\n  'provider' =\u003e 'AWS',\n  'aws_access_key_id' =\u003e 'your_access_key',\n  'aws_secret_access_key' =\u003e 'your_secret_key',\n  'region' =\u003e 'us-east-1'\n}\ngitlab_rails['backup_upload_remote_directory'] = 'gitlab-backups'\n\n# Container Registry\nregistry_external_url 'https://registry.example.com'\ngitlab_rails['registry_enabled'] = true\n\n# CI/CD settings\ngitlab_ci['gitlab_ci_all_broken_builds'] = true\ngitlab_ci['gitlab_ci_add_pusher'] = true\n\n# Monitoring\nprometheus_monitoring['enable'] = true\ngrafana['enable'] = true\ngrafana['admin_password'] = 'grafana_admin_password'\n\n# Apply configuration\nsudo gitlab-ctl reconfigure\n```\n\n### NGINX Reverse Proxy (External)\n```bash\n# Create NGINX configuration for GitLab reverse proxy\nsudo tee /etc/nginx/sites-available/gitlab \u003e /dev/null \u003c\u003cEOF\nupstream gitlab-workhorse {\n  server unix:/var/opt/gitlab/gitlab-workhorse/sockets/socket;\n}\n\nserver {\n  listen 80;\n  server_name gitlab.example.com;\n  return 301 https://\\$server_name\\$request_uri;\n}\n\nserver {\n  listen 443 ssl http2;\n  server_name gitlab.example.com;\n\n  ssl_certificate /etc/ssl/certs/gitlab.crt;\n  ssl_certificate_key /etc/ssl/private/gitlab.key;\n\n  location / {\n    proxy_pass http://gitlab-workhorse;\n    proxy_set_header Host \\$http_host;\n    proxy_set_header X-Real-IP \\$remote_addr;\n    proxy_set_header X-Forwarded-For \\$proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto \\$scheme;\n    proxy_set_header X-Forwarded-Ssl on;\n    \n    # GitLab specific headers\n    proxy_set_header X-Forwarded-Host \\$http_host;\n    proxy_set_header X-Forwarded-Server \\$host;\n    \n    # WebSocket support\n    proxy_http_version 1.1;\n    proxy_set_header Upgrade \\$http_upgrade;\n    proxy_set_header Connection \"upgrade\";\n    \n    # Timeout settings\n    proxy_connect_timeout 60s;\n    proxy_send_timeout 60s;\n    proxy_read_timeout 60s;\n  }\n}\n\n# Container Registry\nserver {\n  listen 443 ssl http2;\n  server_name registry.example.com;\n\n  ssl_certificate /etc/ssl/certs/registry.crt;\n  ssl_certificate_key /etc/ssl/private/registry.key;\n\n  # disable any limits to avoid HTTP 413 for large image uploads\n  client_max_body_size 0;\n\n  # required to avoid HTTP 411: see Issue #1486 (https://github.com/moby/moby/issues/1486)\n  chunked_transfer_encoding on;\n\n  location /v2/ {\n    proxy_pass http://localhost:5000;\n    proxy_set_header Host \\$http_host;\n    proxy_set_header X-Real-IP \\$remote_addr;\n    proxy_set_header X-Forwarded-For \\$proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto \\$scheme;\n  }\n}\nEOF\n\nsudo ln -s /etc/nginx/sites-available/gitlab /etc/nginx/sites-enabled/\nsudo nginx -t \u0026\u0026 sudo systemctl restart nginx\n```\n\n## GitLab Runner Setup\n\n### Install GitLab Runner\n```bash\n# Add GitLab Runner repository\ncurl -L \"https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.deb.sh\" | sudo bash\n\n# Install GitLab Runner\nsudo apt install -y gitlab-runner\n\n# Or manual installation\nsudo curl -L --output /usr/local/bin/gitlab-runner \"https://gitlab-runner-downloads.s3.amazonaws.com/latest/binaries/gitlab-runner-linux-amd64\"\nsudo chmod +x /usr/local/bin/gitlab-runner\nsudo useradd --comment 'GitLab Runner' --create-home gitlab-runner --shell /bin/bash\nsudo gitlab-runner install --user=gitlab-runner --working-directory=/home/gitlab-runner\nsudo gitlab-runner start\n```\n\n### Register Runner\n```bash\n# Register runner (get token from GitLab Admin → Runners)\nsudo gitlab-runner register \\\n  --url \"https://gitlab.example.com/\" \\\n  --registration-token \"REGISTRATION_TOKEN\" \\\n  --description \"docker-runner\" \\\n  --tag-list \"docker,aws\" \\\n  --run-untagged=\"true\" \\\n  --locked=\"false\" \\\n  --access-level=\"not_protected\" \\\n  --executor \"docker\" \\\n  --docker-image alpine:latest \\\n  --docker-privileged \\\n  --docker-volumes \"/certs/client\"\n\n# Configure runner for Docker-in-Docker\nsudo tee -a /etc/gitlab-runner/config.toml \u003e /dev/null \u003c\u003cEOF\n[[runners]]\n  [runners.docker]\n    privileged = true\n    volumes = [\"/cache\", \"/certs/client\"]\n    disable_cache = false\n    shm_size = 0\nEOF\n\nsudo systemctl restart gitlab-runner\n```\n\n## Performance Optimization\n\n### Database Tuning\n```bash\n# PostgreSQL optimization for GitLab\nsudo tee -a /etc/gitlab/gitlab.rb \u003e /dev/null \u003c\u003cEOF\n\n# PostgreSQL settings\npostgresql['shared_buffers'] = \"1GB\"\npostgresql['effective_cache_size'] = \"4GB\"\npostgresql['checkpoint_completion_target'] = 0.9\npostgresql['wal_buffers'] = \"16MB\"\npostgresql['default_statistics_target'] = 100\npostgresql['random_page_cost'] = 1.1\npostgresql['effective_io_concurrency'] = 200\npostgresql['work_mem'] = \"4MB\"\npostgresql['min_wal_size'] = \"1GB\"\npostgresql['max_wal_size'] = \"4GB\"\npostgresql['max_worker_processes'] = 8\npostgresql['max_parallel_workers_per_gather'] = 4\npostgresql['max_parallel_workers'] = 8\npostgresql['max_parallel_maintenance_workers'] = 4\nEOF\n\nsudo gitlab-ctl reconfigure\n```\n\n### Redis Configuration\n```bash\n# Redis optimization\nsudo tee -a /etc/gitlab/gitlab.rb \u003e /dev/null \u003c\u003cEOF\n\n# Redis settings\nredis['maxmemory'] = \"1gb\"\nredis['maxmemory_policy'] = \"allkeys-lru\"\nredis['save'] = [\"900 1\", \"300 10\", \"60 10000\"]\nEOF\n\nsudo gitlab-ctl reconfigure\n```\n\n### GitLab Web Server Tuning\n```bash\n# Unicorn/Puma optimization\nsudo tee -a /etc/gitlab/gitlab.rb \u003e /dev/null \u003c\u003cEOF\n\n# Puma settings (GitLab 13.0+)\npuma['worker_processes'] = 4\npuma['min_threads'] = 4\npuma['max_threads'] = 4\n\n# Sidekiq settings\nsidekiq['max_concurrency'] = 25\nsidekiq['min_concurrency'] = 10\n\n# Gitaly settings\ngitaly['ruby_max_rss'] = 300000000  # 300MB\ngitaly['concurrency'] = [\n  {\n    'rpc' =\u003e \"/gitaly.SmartHTTPService/PostReceivePack\",\n    'max_per_repo' =\u003e 3\n  },\n  {\n    'rpc' =\u003e \"/gitaly.SSHService/SSHUploadPack\",\n    'max_per_repo' =\u003e 3\n  }\n]\nEOF\n\nsudo gitlab-ctl reconfigure\n```\n\n## Backup and Restore\n\n### Automated Backup\n```bash\n# Configure automatic backups\nsudo tee -a /etc/gitlab/gitlab.rb \u003e /dev/null \u003c\u003cEOF\n\n# Backup settings\ngitlab_rails['backup_keep_time'] = 604800  # 7 days\ngitlab_rails['backup_path'] = \"/var/opt/gitlab/backups\"\n\n# S3 backup upload\ngitlab_rails['backup_upload_connection'] = {\n  'provider' =\u003e 'AWS',\n  'region' =\u003e 'us-east-1',\n  'aws_access_key_id' =\u003e 'your_access_key',\n  'aws_secret_access_key' =\u003e 'your_secret_key'\n}\ngitlab_rails['backup_upload_remote_directory'] = 'gitlab-backups'\ngitlab_rails['backup_multipart_chunk_size'] = 104857600  # 100MB\ngitlab_rails['backup_encryption'] = 'AES256'\nEOF\n\nsudo gitlab-ctl reconfigure\n\n# Create backup script\nsudo tee /usr/local/bin/gitlab-backup.sh \u003e /dev/null \u003c\u003c'EOF'\n#!/bin/bash\n# Create GitLab backup\ngitlab-backup create STRATEGY=copy\n\n# Backup configuration files\ntar -czf /var/opt/gitlab/backups/$(date +%s_%Y_%m_%d)_gitlab_config_backup.tar.gz -C / etc/gitlab/gitlab-secrets.json etc/gitlab/gitlab.rb\n\necho \"GitLab backup completed\"\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-backup.sh\n\n# Schedule daily backup\necho \"0 2 * * * root /usr/local/bin/gitlab-backup.sh\" | sudo tee -a /etc/crontab\n```\n\n### Manual Backup and Restore\n```bash\n# Create backup manually\nsudo gitlab-backup create\n\n# List backups\nsudo gitlab-backup list\n\n# Restore from backup\nsudo gitlab-ctl stop unicorn\nsudo gitlab-ctl stop puma\nsudo gitlab-ctl stop sidekiq\nsudo gitlab-backup restore BACKUP=timestamp_of_backup\nsudo gitlab-ctl restart\nsudo gitlab-rake gitlab:check SANITIZE=true\n```\n\n## SSL/TLS Configuration\n\n### Let's Encrypt Integration\n```bash\n# Configure Let's Encrypt in GitLab\nsudo tee -a /etc/gitlab/gitlab.rb \u003e /dev/null \u003c\u003cEOF\n\n# Let's Encrypt configuration\nletsencrypt['enable'] = true\nletsencrypt['contact_emails'] = ['admin@example.com']\nletsencrypt['auto_renew'] = true\nletsencrypt['auto_renew_hour'] = 0\nletsencrypt['auto_renew_minute'] = 0\nletsencrypt['auto_renew_day_of_month'] = \"*/4\"\n\n# Redirect HTTP to HTTPS\nnginx['redirect_http_to_https'] = true\nnginx['ssl_protocols'] = \"TLSv1.2 TLSv1.3\"\nnginx['ssl_prefer_server_ciphers'] = \"off\"\nEOF\n\nsudo gitlab-ctl reconfigure\n```\n\n### Manual SSL Configuration\n```bash\n# Configure custom SSL certificates\nsudo tee -a /etc/gitlab/gitlab.rb \u003e /dev/null \u003c\u003cEOF\n\n# SSL configuration\nnginx['ssl_certificate'] = \"/etc/ssl/certs/gitlab.crt\"\nnginx['ssl_certificate_key'] = \"/etc/ssl/private/gitlab.key\"\nnginx['ssl_dhparam'] = \"/etc/ssl/certs/dhparam.pem\"\n\n# Registry SSL\nregistry_nginx['ssl_certificate'] = \"/etc/ssl/certs/registry.crt\"\nregistry_nginx['ssl_certificate_key'] = \"/etc/ssl/private/registry.key\"\nEOF\n\n# Generate dhparam\nsudo openssl dhparam -out /etc/ssl/certs/dhparam.pem 2048\n\nsudo gitlab-ctl reconfigure\n```\n\n## CI/CD Configuration\n\n### Enable Container Registry\n```bash\n# Configure container registry\nsudo tee -a /etc/gitlab/gitlab.rb \u003e /dev/null \u003c\u003cEOF\n\n# Container Registry\nregistry_external_url 'https://registry.example.com'\ngitlab_rails['registry_enabled'] = true\nregistry['enable'] = true\nregistry['username'] = \"registry\"\nregistry['uid'] = 996\nregistry['gid'] = 996\nregistry['dir'] = \"/var/opt/gitlab/registry\"\nregistry['registry_http_addr'] = \"localhost:5000\"\nregistry['debug_addr'] = \"localhost:5001\"\nregistry['log_directory'] = \"/var/log/gitlab/registry\"\nregistry['log_level'] = \"info\"\nregistry['rootcertbundle'] = \"/opt/gitlab/embedded/ssl/certs/cacert.pem\"\nregistry['health_storagedriver_enabled'] = true\nregistry['middleware'] = {\n  'redirect' =\u003e [\n    {'disable' =\u003e false}\n  ]\n}\nEOF\n\nsudo gitlab-ctl reconfigure\n```\n\n### GitLab Pages Setup\n```bash\n# Enable GitLab Pages\nsudo tee -a /etc/gitlab/gitlab.rb \u003e /dev/null \u003c\u003cEOF\n\n# GitLab Pages configuration\npages_external_url \"https://pages.example.com\"\ngitlab_pages['enable'] = true\ngitlab_pages['dir'] = \"/var/opt/gitlab/gitlab-pages\"\ngitlab_pages['log_directory'] = \"/var/log/gitlab/gitlab-pages\"\ngitlab_pages['artifacts_server'] = true\ngitlab_pages['artifacts_server_url'] = \"https://gitlab.example.com/api/v4\"\ngitlab_pages['access_control'] = false\ngitlab_pages['use_legacy_storage'] = false\ngitlab_pages['inplace_chroot'] = true\ngitlab_pages['propagate_correlation_id'] = false\ngitlab_pages['log_format'] = \"json\"\ngitlab_pages['log_verbose'] = false\ngitlab_pages['redirect_http'] = true\npages_nginx['enable'] = true\nEOF\n\nsudo gitlab-ctl reconfigure\n```\n\n## Monitoring and Maintenance\n\n### GitLab Monitoring Stack\n```bash\n# Access built-in monitoring\n# Prometheus: https://gitlab.example.com/-/admin/monitoring\n# Grafana: https://gitlab.example.com/-/grafana\n\n# Configure external Prometheus\nsudo tee -a /etc/gitlab/gitlab.rb \u003e /dev/null \u003c\u003cEOF\n\n# Prometheus configuration\nprometheus['listen_address'] = 'localhost:9090'\nprometheus['scrape_configs'] = [\n  {\n    'job_name' =\u003e 'gitlab-workhorse',\n    'static_configs' =\u003e [\n      { 'targets' =\u003e ['localhost:9229'] }\n    ]\n  },\n  {\n    'job_name' =\u003e 'gitlab-unicorn',\n    'static_configs' =\u003e [\n      { 'targets' =\u003e ['localhost:8080'] }\n    ]\n  },\n  {\n    'job_name' =\u003e 'gitlab-sidekiq',\n    'static_configs' =\u003e [\n      { 'targets' =\u003e ['localhost:8082'] }\n    ]\n  }\n]\nEOF\n\nsudo gitlab-ctl reconfigure\n```\n\n### Maintenance Commands\n```bash\n# Check GitLab status\nsudo gitlab-rake gitlab:check\nsudo gitlab-rake gitlab:doctor:secrets\n\n# Database maintenance\nsudo gitlab-rake db:migrate\nsudo gitlab-rake db:check\nsudo gitlab-rake gitlab:cleanup:sessions\nsudo gitlab-rake gitlab:cleanup:refs\n\n# Cache clearing\nsudo gitlab-rake cache:clear\nsudo gitlab-rake assets:clean\n\n# Check disk usage\nsudo du -sh /var/opt/gitlab/\nsudo gitlab-rake gitlab:artifacts:check\nsudo gitlab-rake gitlab:lfs:check\n\n# Update GitLab\nsudo apt update \u0026\u0026 sudo apt upgrade gitlab-ee  # Package installation\nsudo gitlab-ctl restart                        # Docker\n```\n\n## Verification\n\n```bash\n# Check GitLab status\nsudo gitlab-ctl status\nsudo gitlab-rake gitlab:check\n\n# Test web interface\ncurl -I https://gitlab.example.com\ncurl -I https://registry.example.com\n\n# Check service logs\nsudo gitlab-ctl tail\nsudo gitlab-ctl tail nginx\nsudo gitlab-ctl tail postgresql\nsudo gitlab-ctl tail redis\n\n# Check runner status\nsudo gitlab-runner verify\nsudo gitlab-runner list\n\n# Test container registry\ndocker login registry.example.com\ndocker pull alpine\ndocker tag alpine registry.example.com/group/project:latest\ndocker push registry.example.com/group/project:latest\n\n# Check GitLab Runner\nsudo systemctl status gitlab-runner\ngitlab-runner list\n\n# Performance check\nsudo gitlab-rake gitlab:env:info\nsudo gitlab-rake gitlab:check\n```\n\n## Troubleshooting\n\n```bash\n# Check all GitLab services\nsudo gitlab-ctl status\n\n# Restart specific service\nsudo gitlab-ctl restart nginx\nsudo gitlab-ctl restart postgresql\n\n# Check configuration\nsudo gitlab-rake gitlab:check\nsudo gitlab-ctl show-config\n\n# Debug mode\nsudo gitlab-ctl tail\nsudo gitlab-ctl tail nginx\n\n# Check disk space\ndf -h /var/opt/gitlab/\nsudo du -sh /var/opt/gitlab/git-data/\n\n# Memory usage\nfree -h\nsudo gitlab-ctl status\n\n# Database connection issues\nsudo gitlab-rake db:migrate:status\nsudo -u git -H bundle exec rake gitlab:setup RAILS_ENV=production\n\n# Reset root password\nsudo gitlab-rake \"gitlab:password:reset[root]\"\n\n# Check GitLab secrets\nsudo gitlab-rake gitlab:doctor:secrets\n\n# Reconfigure if issues persist\nsudo gitlab-ctl reconfigure\nsudo gitlab-ctl restart\n```\n\n## Additional Resources\n\n- [Official Documentation](https://docs.gitlab.com/)\n- [GitLab Admin Docs](https://docs.gitlab.com/ee/administration/)\n- [GitLab Runner Documentation](https://docs.gitlab.com/runner/)\n- [Container Registry Guide](https://docs.gitlab.com/ee/administration/packages/container_registry.html)\n- [GitLab Community Forum](https://forum.gitlab.com/)\n\n---\n\n**Note:** This guide is part of the [HowToMgr](https://howtomgr.github.io) collection.","readmeHtml":"\u003ch1 id=\"gitlab-installation-guide\" class=\"mobile-header\"\u003eGitLab Installation Guide\u003c/h1\u003e\n\u003cp class=\"mobile-paragraph\"\u003eComplete DevOps platform with Git repository management, CI/CD pipelines, issue tracking, and container registry.\u003c/p\u003e\n\u003ch2 id=\"prerequisites\" class=\"mobile-header\"\u003ePrerequisites\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003eLinux system (Ubuntu/Debian, RHEL/CentOS, or compatible)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e8GB RAM minimum, 16GB+ recommended for production\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e4 CPU cores minimum\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e20GB+ available disk space\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eDomain name for external access\u003c/li\u003e\n\u003ch2 id=\"installation\" class=\"mobile-header\"\u003eInstallation\u003c/h2\u003e\n\u003ch3 id=\"using-omnibus-package-recommended\" class=\"mobile-header\"\u003eUsing Omnibus Package (Recommended)\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Ubuntu/Debian\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install dependencies\nsudo apt update\nsudo apt install -y ca-certificates curl openssh-server postfix\n\n# Add GitLab repository\ncurl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.deb.sh | sudo bash\n\n# Install GitLab\nsudo apt install -y gitlab-ee\n\n# Configure and start GitLab\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### RHEL/CentOS/Rocky Linux\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install dependencies\nsudo yum install -y curl policycoreutils-python-utils openssh-server postfix\n\n# Enable SSH and Postfix\nsudo systemctl enable --now sshd postfix\n\n# Add GitLab repository\ncurl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash\n\n# Install GitLab\nsudo yum install -y gitlab-ee\n\n# Configure and start GitLab\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"using-docker-compose\" class=\"mobile-header\"\u003eUsing Docker Compose\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create GitLab directory\nmkdir -p ~/gitlab/{config,logs,data}\ncd ~/gitlab\n\n# Set proper ownership\nsudo chown -R 998:998 config logs data\n\n# Create docker-compose.yml\ncat \u0026gt; docker-compose.yml \u0026lt;\u0026lt;EOF\nversion: \u0026#039;3.8\u0026#039;\n\nservices:\n  gitlab:\n    image: gitlab/gitlab-ee:latest\n    restart: unless-stopped\n    hostname: gitlab.example.com\n    environment:\n      GITLAB_OMNIBUS_CONFIG: |\n        external_url \u0026#039;https://gitlab.example.com\u0026#039;\n        \n        # GitLab configuration\n        gitlab_rails[\u0026#039;gitlab_shell_ssh_port\u0026#039;] = 2222\n        gitlab_rails[\u0026#039;time_zone\u0026#039;] = \u0026#039;America/New_York\u0026#039;\n        gitlab_rails[\u0026#039;gitlab_email_enabled\u0026#039;] = true\n        gitlab_rails[\u0026#039;gitlab_email_from\u0026#039;] = \u0026#039;gitlab@example.com\u0026#039;\n        gitlab_rails[\u0026#039;gitlab_email_display_name\u0026#039;] = \u0026#039;GitLab\u0026#039;\n        \n        # Database configuration\n        postgresql[\u0026#039;shared_preload_libraries\u0026#039;] = \u0026#039;pg_stat_statements\u0026#039;\n        postgresql[\u0026#039;track_activity_query_size\u0026#039;] = 1024\n        \n        # Redis configuration\n        redis[\u0026#039;save\u0026#039;] = \u0026#039;900 1 300 10 60 10000\u0026#039;\n        \n        # Backup configuration\n        gitlab_rails[\u0026#039;backup_keep_time\u0026#039;] = 604800  # 7 days\n        \n        # Container Registry\n        registry_external_url \u0026#039;https://registry.example.com\u0026#039;\n        gitlab_rails[\u0026#039;registry_enabled\u0026#039;] = true\n        \n        # Monitoring\n        prometheus_monitoring[\u0026#039;enable\u0026#039;] = true\n        grafana[\u0026#039;enable\u0026#039;] = true\n        \n        # NGINX\n        nginx[\u0026#039;listen_port\u0026#039;] = 80\n        nginx[\u0026#039;listen_https\u0026#039;] = false\n        nginx[\u0026#039;redirect_http_to_https\u0026#039;] = false\n        \n        # Let\u0026#039;s Encrypt (disable for reverse proxy setup)\n        letsencrypt[\u0026#039;enable\u0026#039;] = false\n        \n    ports:\n      - \u0026#039;80:80\u0026#039;\n      - \u0026#039;443:443\u0026#039;\n      - \u0026#039;2222:22\u0026#039;\n    volumes:\n      - \u0026#039;./config:/etc/gitlab\u0026#039;\n      - \u0026#039;./logs:/var/log/gitlab\u0026#039;\n      - \u0026#039;./data:/var/opt/gitlab\u0026#039;\n    shm_size: \u0026#039;256m\u0026#039;\n    networks:\n      - gitlab\n\nnetworks:\n  gitlab:\n    driver: bridge\nEOF\n\n# Start GitLab\ndocker-compose up -d\n\n# Check logs\ndocker-compose logs -f gitlab\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"configuration\" class=\"mobile-header\"\u003eConfiguration\u003c/h2\u003e\n\u003ch3 id=\"basic-configuration-etcgitlabgitlabrb\" class=\"mobile-header\"\u003eBasic Configuration (/etc/gitlab/gitlab.rb)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Edit GitLab configuration\nsudo nano /etc/gitlab/gitlab.rb\n\n# Key settings:\nexternal_url \u0026#039;https://gitlab.example.com\u0026#039;\n\n# Email configuration\ngitlab_rails[\u0026#039;smtp_enable\u0026#039;] = true\ngitlab_rails[\u0026#039;smtp_address\u0026#039;] = \u0026quot;smtp.example.com\u0026quot;\ngitlab_rails[\u0026#039;smtp_port\u0026#039;] = 587\ngitlab_rails[\u0026#039;smtp_user_name\u0026#039;] = \u0026quot;smtp_username\u0026quot;\ngitlab_rails[\u0026#039;smtp_password\u0026#039;] = \u0026quot;smtp_password\u0026quot;\ngitlab_rails[\u0026#039;smtp_domain\u0026#039;] = \u0026quot;example.com\u0026quot;\ngitlab_rails[\u0026#039;smtp_authentication\u0026#039;] = \u0026quot;login\u0026quot;\ngitlab_rails[\u0026#039;smtp_enable_starttls_auto\u0026#039;] = true\ngitlab_rails[\u0026#039;smtp_tls\u0026#039;] = false\n\ngitlab_rails[\u0026#039;gitlab_email_from\u0026#039;] = \u0026#039;gitlab@example.com\u0026#039;\ngitlab_rails[\u0026#039;gitlab_email_display_name\u0026#039;] = \u0026#039;GitLab\u0026#039;\n\n# Backup configuration\ngitlab_rails[\u0026#039;backup_keep_time\u0026#039;] = 604800  # 7 days\ngitlab_rails[\u0026#039;backup_upload_connection\u0026#039;] = {\n  \u0026#039;provider\u0026#039; =\u0026gt; \u0026#039;AWS\u0026#039;,\n  \u0026#039;aws_access_key_id\u0026#039; =\u0026gt; \u0026#039;your_access_key\u0026#039;,\n  \u0026#039;aws_secret_access_key\u0026#039; =\u0026gt; \u0026#039;your_secret_key\u0026#039;,\n  \u0026#039;region\u0026#039; =\u0026gt; \u0026#039;us-east-1\u0026#039;\n}\ngitlab_rails[\u0026#039;backup_upload_remote_directory\u0026#039;] = \u0026#039;gitlab-backups\u0026#039;\n\n# Container Registry\nregistry_external_url \u0026#039;https://registry.example.com\u0026#039;\ngitlab_rails[\u0026#039;registry_enabled\u0026#039;] = true\n\n# CI/CD settings\ngitlab_ci[\u0026#039;gitlab_ci_all_broken_builds\u0026#039;] = true\ngitlab_ci[\u0026#039;gitlab_ci_add_pusher\u0026#039;] = true\n\n# Monitoring\nprometheus_monitoring[\u0026#039;enable\u0026#039;] = true\ngrafana[\u0026#039;enable\u0026#039;] = true\ngrafana[\u0026#039;admin_password\u0026#039;] = \u0026#039;grafana_admin_password\u0026#039;\n\n# Apply configuration\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"nginx-reverse-proxy-external\" class=\"mobile-header\"\u003eNGINX Reverse Proxy (External)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create NGINX configuration for GitLab reverse proxy\nsudo tee /etc/nginx/sites-available/gitlab \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\nupstream gitlab-workhorse {\n  server unix:/var/opt/gitlab/gitlab-workhorse/sockets/socket;\n}\n\nserver {\n  listen 80;\n  server_name gitlab.example.com;\n  return 301 https://\\$server_name\\$request_uri;\n}\n\nserver {\n  listen 443 ssl http2;\n  server_name gitlab.example.com;\n\n  ssl_certificate /etc/ssl/certs/gitlab.crt;\n  ssl_certificate_key /etc/ssl/private/gitlab.key;\n\n  location / {\n    proxy_pass http://gitlab-workhorse;\n    proxy_set_header Host \\$http_host;\n    proxy_set_header X-Real-IP \\$remote_addr;\n    proxy_set_header X-Forwarded-For \\$proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto \\$scheme;\n    proxy_set_header X-Forwarded-Ssl on;\n    \n    # GitLab specific headers\n    proxy_set_header X-Forwarded-Host \\$http_host;\n    proxy_set_header X-Forwarded-Server \\$host;\n    \n    # WebSocket support\n    proxy_http_version 1.1;\n    proxy_set_header Upgrade \\$http_upgrade;\n    proxy_set_header Connection \u0026quot;upgrade\u0026quot;;\n    \n    # Timeout settings\n    proxy_connect_timeout 60s;\n    proxy_send_timeout 60s;\n    proxy_read_timeout 60s;\n  }\n}\n\n# Container Registry\nserver {\n  listen 443 ssl http2;\n  server_name registry.example.com;\n\n  ssl_certificate /etc/ssl/certs/registry.crt;\n  ssl_certificate_key /etc/ssl/private/registry.key;\n\n  # disable any limits to avoid HTTP 413 for large image uploads\n  client_max_body_size 0;\n\n  # required to avoid HTTP 411: see Issue #1486 (https://github.com/moby/moby/issues/1486)\n  chunked_transfer_encoding on;\n\n  location /v2/ {\n    proxy_pass http://localhost:5000;\n    proxy_set_header Host \\$http_host;\n    proxy_set_header X-Real-IP \\$remote_addr;\n    proxy_set_header X-Forwarded-For \\$proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto \\$scheme;\n  }\n}\nEOF\n\nsudo ln -s /etc/nginx/sites-available/gitlab /etc/nginx/sites-enabled/\nsudo nginx -t \u0026amp;\u0026amp; sudo systemctl restart nginx\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"gitlab-runner-setup\" class=\"mobile-header\"\u003eGitLab Runner Setup\u003c/h2\u003e\n\u003ch3 id=\"install-gitlab-runner\" class=\"mobile-header\"\u003eInstall GitLab Runner\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Add GitLab Runner repository\ncurl -L \u0026quot;https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.deb.sh\u0026quot; | sudo bash\n\n# Install GitLab Runner\nsudo apt install -y gitlab-runner\n\n# Or manual installation\nsudo curl -L --output /usr/local/bin/gitlab-runner \u0026quot;https://gitlab-runner-downloads.s3.amazonaws.com/latest/binaries/gitlab-runner-linux-amd64\u0026quot;\nsudo chmod +x /usr/local/bin/gitlab-runner\nsudo useradd --comment \u0026#039;GitLab Runner\u0026#039; --create-home gitlab-runner --shell /bin/bash\nsudo gitlab-runner install --user=gitlab-runner --working-directory=/home/gitlab-runner\nsudo gitlab-runner start\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"register-runner\" class=\"mobile-header\"\u003eRegister Runner\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Register runner (get token from GitLab Admin → Runners)\nsudo gitlab-runner register \\\n  --url \u0026quot;https://gitlab.example.com/\u0026quot; \\\n  --registration-token \u0026quot;REGISTRATION_TOKEN\u0026quot; \\\n  --description \u0026quot;docker-runner\u0026quot; \\\n  --tag-list \u0026quot;docker,aws\u0026quot; \\\n  --run-untagged=\u0026quot;true\u0026quot; \\\n  --locked=\u0026quot;false\u0026quot; \\\n  --access-level=\u0026quot;not_protected\u0026quot; \\\n  --executor \u0026quot;docker\u0026quot; \\\n  --docker-image alpine:latest \\\n  --docker-privileged \\\n  --docker-volumes \u0026quot;/certs/client\u0026quot;\n\n# Configure runner for Docker-in-Docker\nsudo tee -a /etc/gitlab-runner/config.toml \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n[[runners]]\n  [runners.docker]\n    privileged = true\n    volumes = [\u0026quot;/cache\u0026quot;, \u0026quot;/certs/client\u0026quot;]\n    disable_cache = false\n    shm_size = 0\nEOF\n\nsudo systemctl restart gitlab-runner\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"performance-optimization\" class=\"mobile-header\"\u003ePerformance Optimization\u003c/h2\u003e\n\u003ch3 id=\"database-tuning\" class=\"mobile-header\"\u003eDatabase Tuning\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# PostgreSQL optimization for GitLab\nsudo tee -a /etc/gitlab/gitlab.rb \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n\n# PostgreSQL settings\npostgresql[\u0026#039;shared_buffers\u0026#039;] = \u0026quot;1GB\u0026quot;\npostgresql[\u0026#039;effective_cache_size\u0026#039;] = \u0026quot;4GB\u0026quot;\npostgresql[\u0026#039;checkpoint_completion_target\u0026#039;] = 0.9\npostgresql[\u0026#039;wal_buffers\u0026#039;] = \u0026quot;16MB\u0026quot;\npostgresql[\u0026#039;default_statistics_target\u0026#039;] = 100\npostgresql[\u0026#039;random_page_cost\u0026#039;] = 1.1\npostgresql[\u0026#039;effective_io_concurrency\u0026#039;] = 200\npostgresql[\u0026#039;work_mem\u0026#039;] = \u0026quot;4MB\u0026quot;\npostgresql[\u0026#039;min_wal_size\u0026#039;] = \u0026quot;1GB\u0026quot;\npostgresql[\u0026#039;max_wal_size\u0026#039;] = \u0026quot;4GB\u0026quot;\npostgresql[\u0026#039;max_worker_processes\u0026#039;] = 8\npostgresql[\u0026#039;max_parallel_workers_per_gather\u0026#039;] = 4\npostgresql[\u0026#039;max_parallel_workers\u0026#039;] = 8\npostgresql[\u0026#039;max_parallel_maintenance_workers\u0026#039;] = 4\nEOF\n\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"redis-configuration\" class=\"mobile-header\"\u003eRedis Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Redis optimization\nsudo tee -a /etc/gitlab/gitlab.rb \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n\n# Redis settings\nredis[\u0026#039;maxmemory\u0026#039;] = \u0026quot;1gb\u0026quot;\nredis[\u0026#039;maxmemory_policy\u0026#039;] = \u0026quot;allkeys-lru\u0026quot;\nredis[\u0026#039;save\u0026#039;] = [\u0026quot;900 1\u0026quot;, \u0026quot;300 10\u0026quot;, \u0026quot;60 10000\u0026quot;]\nEOF\n\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"gitlab-web-server-tuning\" class=\"mobile-header\"\u003eGitLab Web Server Tuning\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Unicorn/Puma optimization\nsudo tee -a /etc/gitlab/gitlab.rb \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n\n# Puma settings (GitLab 13.0+)\npuma[\u0026#039;worker_processes\u0026#039;] = 4\npuma[\u0026#039;min_threads\u0026#039;] = 4\npuma[\u0026#039;max_threads\u0026#039;] = 4\n\n# Sidekiq settings\nsidekiq[\u0026#039;max_concurrency\u0026#039;] = 25\nsidekiq[\u0026#039;min_concurrency\u0026#039;] = 10\n\n# Gitaly settings\ngitaly[\u0026#039;ruby_max_rss\u0026#039;] = 300000000  # 300MB\ngitaly[\u0026#039;concurrency\u0026#039;] = [\n  {\n    \u0026#039;rpc\u0026#039; =\u0026gt; \u0026quot;/gitaly.SmartHTTPService/PostReceivePack\u0026quot;,\n    \u0026#039;max_per_repo\u0026#039; =\u0026gt; 3\n  },\n  {\n    \u0026#039;rpc\u0026#039; =\u0026gt; \u0026quot;/gitaly.SSHService/SSHUploadPack\u0026quot;,\n    \u0026#039;max_per_repo\u0026#039; =\u0026gt; 3\n  }\n]\nEOF\n\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"backup-and-restore\" class=\"mobile-header\"\u003eBackup and Restore\u003c/h2\u003e\n\u003ch3 id=\"automated-backup\" class=\"mobile-header\"\u003eAutomated Backup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure automatic backups\nsudo tee -a /etc/gitlab/gitlab.rb \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n\n# Backup settings\ngitlab_rails[\u0026#039;backup_keep_time\u0026#039;] = 604800  # 7 days\ngitlab_rails[\u0026#039;backup_path\u0026#039;] = \u0026quot;/var/opt/gitlab/backups\u0026quot;\n\n# S3 backup upload\ngitlab_rails[\u0026#039;backup_upload_connection\u0026#039;] = {\n  \u0026#039;provider\u0026#039; =\u0026gt; \u0026#039;AWS\u0026#039;,\n  \u0026#039;region\u0026#039; =\u0026gt; \u0026#039;us-east-1\u0026#039;,\n  \u0026#039;aws_access_key_id\u0026#039; =\u0026gt; \u0026#039;your_access_key\u0026#039;,\n  \u0026#039;aws_secret_access_key\u0026#039; =\u0026gt; \u0026#039;your_secret_key\u0026#039;\n}\ngitlab_rails[\u0026#039;backup_upload_remote_directory\u0026#039;] = \u0026#039;gitlab-backups\u0026#039;\ngitlab_rails[\u0026#039;backup_multipart_chunk_size\u0026#039;] = 104857600  # 100MB\ngitlab_rails[\u0026#039;backup_encryption\u0026#039;] = \u0026#039;AES256\u0026#039;\nEOF\n\nsudo gitlab-ctl reconfigure\n\n# Create backup script\nsudo tee /usr/local/bin/gitlab-backup.sh \u0026gt; /dev/null \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\n# Create GitLab backup\ngitlab-backup create STRATEGY=copy\n\n# Backup configuration files\ntar -czf /var/opt/gitlab/backups/$(date +%s_%Y_%m_%d)_gitlab_config_backup.tar.gz -C / etc/gitlab/gitlab-secrets.json etc/gitlab/gitlab.rb\n\necho \u0026quot;GitLab backup completed\u0026quot;\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-backup.sh\n\n# Schedule daily backup\necho \u0026quot;0 2 * * * root /usr/local/bin/gitlab-backup.sh\u0026quot; | sudo tee -a /etc/crontab\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"manual-backup-and-restore\" class=\"mobile-header\"\u003eManual Backup and Restore\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create backup manually\nsudo gitlab-backup create\n\n# List backups\nsudo gitlab-backup list\n\n# Restore from backup\nsudo gitlab-ctl stop unicorn\nsudo gitlab-ctl stop puma\nsudo gitlab-ctl stop sidekiq\nsudo gitlab-backup restore BACKUP=timestamp_of_backup\nsudo gitlab-ctl restart\nsudo gitlab-rake gitlab:check SANITIZE=true\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"ssltls-configuration\" class=\"mobile-header\"\u003eSSL/TLS Configuration\u003c/h2\u003e\n\u003ch3 id=\"lets-encrypt-integration\" class=\"mobile-header\"\u003eLet's Encrypt Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure Let\u0026#039;s Encrypt in GitLab\nsudo tee -a /etc/gitlab/gitlab.rb \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n\n# Let\u0026#039;s Encrypt configuration\nletsencrypt[\u0026#039;enable\u0026#039;] = true\nletsencrypt[\u0026#039;contact_emails\u0026#039;] = [\u0026#039;admin@example.com\u0026#039;]\nletsencrypt[\u0026#039;auto_renew\u0026#039;] = true\nletsencrypt[\u0026#039;auto_renew_hour\u0026#039;] = 0\nletsencrypt[\u0026#039;auto_renew_minute\u0026#039;] = 0\nletsencrypt[\u0026#039;auto_renew_day_of_month\u0026#039;] = \u0026quot;*/4\u0026quot;\n\n# Redirect HTTP to HTTPS\nnginx[\u0026#039;redirect_http_to_https\u0026#039;] = true\nnginx[\u0026#039;ssl_protocols\u0026#039;] = \u0026quot;TLSv1.2 TLSv1.3\u0026quot;\nnginx[\u0026#039;ssl_prefer_server_ciphers\u0026#039;] = \u0026quot;off\u0026quot;\nEOF\n\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"manual-ssl-configuration\" class=\"mobile-header\"\u003eManual SSL Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure custom SSL certificates\nsudo tee -a /etc/gitlab/gitlab.rb \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n\n# SSL configuration\nnginx[\u0026#039;ssl_certificate\u0026#039;] = \u0026quot;/etc/ssl/certs/gitlab.crt\u0026quot;\nnginx[\u0026#039;ssl_certificate_key\u0026#039;] = \u0026quot;/etc/ssl/private/gitlab.key\u0026quot;\nnginx[\u0026#039;ssl_dhparam\u0026#039;] = \u0026quot;/etc/ssl/certs/dhparam.pem\u0026quot;\n\n# Registry SSL\nregistry_nginx[\u0026#039;ssl_certificate\u0026#039;] = \u0026quot;/etc/ssl/certs/registry.crt\u0026quot;\nregistry_nginx[\u0026#039;ssl_certificate_key\u0026#039;] = \u0026quot;/etc/ssl/private/registry.key\u0026quot;\nEOF\n\n# Generate dhparam\nsudo openssl dhparam -out /etc/ssl/certs/dhparam.pem 2048\n\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"cicd-configuration\" class=\"mobile-header\"\u003eCI/CD Configuration\u003c/h2\u003e\n\u003ch3 id=\"enable-container-registry\" class=\"mobile-header\"\u003eEnable Container Registry\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure container registry\nsudo tee -a /etc/gitlab/gitlab.rb \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n\n# Container Registry\nregistry_external_url \u0026#039;https://registry.example.com\u0026#039;\ngitlab_rails[\u0026#039;registry_enabled\u0026#039;] = true\nregistry[\u0026#039;enable\u0026#039;] = true\nregistry[\u0026#039;username\u0026#039;] = \u0026quot;registry\u0026quot;\nregistry[\u0026#039;uid\u0026#039;] = 996\nregistry[\u0026#039;gid\u0026#039;] = 996\nregistry[\u0026#039;dir\u0026#039;] = \u0026quot;/var/opt/gitlab/registry\u0026quot;\nregistry[\u0026#039;registry_http_addr\u0026#039;] = \u0026quot;localhost:5000\u0026quot;\nregistry[\u0026#039;debug_addr\u0026#039;] = \u0026quot;localhost:5001\u0026quot;\nregistry[\u0026#039;log_directory\u0026#039;] = \u0026quot;/var/log/gitlab/registry\u0026quot;\nregistry[\u0026#039;log_level\u0026#039;] = \u0026quot;info\u0026quot;\nregistry[\u0026#039;rootcertbundle\u0026#039;] = \u0026quot;/opt/gitlab/embedded/ssl/certs/cacert.pem\u0026quot;\nregistry[\u0026#039;health_storagedriver_enabled\u0026#039;] = true\nregistry[\u0026#039;middleware\u0026#039;] = {\n  \u0026#039;redirect\u0026#039; =\u0026gt; [\n    {\u0026#039;disable\u0026#039; =\u0026gt; false}\n  ]\n}\nEOF\n\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"gitlab-pages-setup\" class=\"mobile-header\"\u003eGitLab Pages Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable GitLab Pages\nsudo tee -a /etc/gitlab/gitlab.rb \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n\n# GitLab Pages configuration\npages_external_url \u0026quot;https://pages.example.com\u0026quot;\ngitlab_pages[\u0026#039;enable\u0026#039;] = true\ngitlab_pages[\u0026#039;dir\u0026#039;] = \u0026quot;/var/opt/gitlab/gitlab-pages\u0026quot;\ngitlab_pages[\u0026#039;log_directory\u0026#039;] = \u0026quot;/var/log/gitlab/gitlab-pages\u0026quot;\ngitlab_pages[\u0026#039;artifacts_server\u0026#039;] = true\ngitlab_pages[\u0026#039;artifacts_server_url\u0026#039;] = \u0026quot;https://gitlab.example.com/api/v4\u0026quot;\ngitlab_pages[\u0026#039;access_control\u0026#039;] = false\ngitlab_pages[\u0026#039;use_legacy_storage\u0026#039;] = false\ngitlab_pages[\u0026#039;inplace_chroot\u0026#039;] = true\ngitlab_pages[\u0026#039;propagate_correlation_id\u0026#039;] = false\ngitlab_pages[\u0026#039;log_format\u0026#039;] = \u0026quot;json\u0026quot;\ngitlab_pages[\u0026#039;log_verbose\u0026#039;] = false\ngitlab_pages[\u0026#039;redirect_http\u0026#039;] = true\npages_nginx[\u0026#039;enable\u0026#039;] = true\nEOF\n\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"monitoring-and-maintenance\" class=\"mobile-header\"\u003eMonitoring and Maintenance\u003c/h2\u003e\n\u003ch3 id=\"gitlab-monitoring-stack\" class=\"mobile-header\"\u003eGitLab Monitoring Stack\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Access built-in monitoring\n# Prometheus: https://gitlab.example.com/-/admin/monitoring\n# Grafana: https://gitlab.example.com/-/grafana\n\n# Configure external Prometheus\nsudo tee -a /etc/gitlab/gitlab.rb \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n\n# Prometheus configuration\nprometheus[\u0026#039;listen_address\u0026#039;] = \u0026#039;localhost:9090\u0026#039;\nprometheus[\u0026#039;scrape_configs\u0026#039;] = [\n  {\n    \u0026#039;job_name\u0026#039; =\u0026gt; \u0026#039;gitlab-workhorse\u0026#039;,\n    \u0026#039;static_configs\u0026#039; =\u0026gt; [\n      { \u0026#039;targets\u0026#039; =\u0026gt; [\u0026#039;localhost:9229\u0026#039;] }\n    ]\n  },\n  {\n    \u0026#039;job_name\u0026#039; =\u0026gt; \u0026#039;gitlab-unicorn\u0026#039;,\n    \u0026#039;static_configs\u0026#039; =\u0026gt; [\n      { \u0026#039;targets\u0026#039; =\u0026gt; [\u0026#039;localhost:8080\u0026#039;] }\n    ]\n  },\n  {\n    \u0026#039;job_name\u0026#039; =\u0026gt; \u0026#039;gitlab-sidekiq\u0026#039;,\n    \u0026#039;static_configs\u0026#039; =\u0026gt; [\n      { \u0026#039;targets\u0026#039; =\u0026gt; [\u0026#039;localhost:8082\u0026#039;] }\n    ]\n  }\n]\nEOF\n\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"maintenance-commands\" class=\"mobile-header\"\u003eMaintenance Commands\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check GitLab status\nsudo gitlab-rake gitlab:check\nsudo gitlab-rake gitlab:doctor:secrets\n\n# Database maintenance\nsudo gitlab-rake db:migrate\nsudo gitlab-rake db:check\nsudo gitlab-rake gitlab:cleanup:sessions\nsudo gitlab-rake gitlab:cleanup:refs\n\n# Cache clearing\nsudo gitlab-rake cache:clear\nsudo gitlab-rake assets:clean\n\n# Check disk usage\nsudo du -sh /var/opt/gitlab/\nsudo gitlab-rake gitlab:artifacts:check\nsudo gitlab-rake gitlab:lfs:check\n\n# Update GitLab\nsudo apt update \u0026amp;\u0026amp; sudo apt upgrade gitlab-ee  # Package installation\nsudo gitlab-ctl restart                        # Docker\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"verification\" class=\"mobile-header\"\u003eVerification\u003c/h2\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check GitLab status\nsudo gitlab-ctl status\nsudo gitlab-rake gitlab:check\n\n# Test web interface\ncurl -I https://gitlab.example.com\ncurl -I https://registry.example.com\n\n# Check service logs\nsudo gitlab-ctl tail\nsudo gitlab-ctl tail nginx\nsudo gitlab-ctl tail postgresql\nsudo gitlab-ctl tail redis\n\n# Check runner status\nsudo gitlab-runner verify\nsudo gitlab-runner list\n\n# Test container registry\ndocker login registry.example.com\ndocker pull alpine\ndocker tag alpine registry.example.com/group/project:latest\ndocker push registry.example.com/group/project:latest\n\n# Check GitLab Runner\nsudo systemctl status gitlab-runner\ngitlab-runner list\n\n# Performance check\nsudo gitlab-rake gitlab:env:info\nsudo gitlab-rake gitlab:check\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"troubleshooting\" class=\"mobile-header\"\u003eTroubleshooting\u003c/h2\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check all GitLab services\nsudo gitlab-ctl status\n\n# Restart specific service\nsudo gitlab-ctl restart nginx\nsudo gitlab-ctl restart postgresql\n\n# Check configuration\nsudo gitlab-rake gitlab:check\nsudo gitlab-ctl show-config\n\n# Debug mode\nsudo gitlab-ctl tail\nsudo gitlab-ctl tail nginx\n\n# Check disk space\ndf -h /var/opt/gitlab/\nsudo du -sh /var/opt/gitlab/git-data/\n\n# Memory usage\nfree -h\nsudo gitlab-ctl status\n\n# Database connection issues\nsudo gitlab-rake db:migrate:status\nsudo -u git -H bundle exec rake gitlab:setup RAILS_ENV=production\n\n# Reset root password\nsudo gitlab-rake \u0026quot;gitlab:password:reset[root]\u0026quot;\n\n# Check GitLab secrets\nsudo gitlab-rake gitlab:doctor:secrets\n\n# Reconfigure if issues persist\nsudo gitlab-ctl reconfigure\nsudo gitlab-ctl restart\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"additional-resources\" class=\"mobile-header\"\u003eAdditional Resources\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.gitlab.com/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eOfficial Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.gitlab.com/ee/administration/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGitLab Admin Docs\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.gitlab.com/runner/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGitLab Runner Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.gitlab.com/ee/administration/packages/container_registry.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eContainer Registry Guide\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://forum.gitlab.com/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGitLab Community Forum\u003c/a\u003e\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e---\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This guide is part of the \u003ca href=\"https://howtomgr.github.io\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eHowToMgr\u003c/a\u003e collection.\u003c/p\u003e","readTime":"9 min","wordCount":1745,"lastBuilt":"2025-09-14T01:15:33.860Z"},"category":{"key":"infrastructure","name":"Infrastructure","description":"DevOps and infrastructure automation tools","icon":"🏗️","color":"#44475a","keywords":["ansible","terraform","gitlab","jenkins","consul","etcd"]},"relatedGuides":[{"name":".claude","displayName":".claude","slug":".claude","description":"Repo for .claude","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/.claude","updatedAt":"2025-09-08T03:05:59Z","createdAt":"2025-09-08T03:05:48Z","readmeRaw":"## 👋 Welcome to .claude 🚀  \n\n.claude README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-claude\" class=\"mobile-header\"\u003e👋 Welcome to .claude 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e.claude README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T01:15:35.466Z"},{"name":"adguard-home","displayName":"Adguard Home","slug":"adguard-home","description":"Repo for adguard-home","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/adguard-home","updatedAt":"2025-09-08T03:04:18Z","createdAt":"2025-09-08T03:04:08Z","readmeRaw":"## 👋 Welcome to adguard-home 🚀  \n\nadguard-home README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-adguard-home\" class=\"mobile-header\"\u003e👋 Welcome to adguard-home 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eadguard-home README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T01:15:36.477Z"},{"name":"adminer","displayName":"Adminer","slug":"adminer","description":"Repo for adminer","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/adminer","updatedAt":"2025-09-08T03:04:32Z","createdAt":"2025-09-08T03:04:22Z","readmeRaw":"## 👋 Welcome to adminer 🚀  \n\nadminer README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-adminer\" class=\"mobile-header\"\u003e👋 Welcome to adminer 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eadminer README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T01:15:36.353Z"}]},"__N_SSG":true},"page":"/[category]/[guide]","query":{"category":"infrastructure","guide":"gitlab"},"buildId":"lu0_WLQIo6fIzJ-IeQpog","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>