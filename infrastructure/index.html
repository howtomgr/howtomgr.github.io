<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"/><meta name="theme-color" content="#bd93f9"/><link rel="icon" href="/favicon.ico"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true"/><title class="jsx-f92e766e9414ef16">Infrastructure Installation Guides - HowToMgr</title><meta name="description" content="43 infrastructure installation guides. DevOps and infrastructure automation tools" class="jsx-f92e766e9414ef16"/><meta name="keywords" content="installation guides, tutorials, linux, docker, kubernetes, mobile-first, responsive" class="jsx-f92e766e9414ef16"/><meta property="og:title" content="Infrastructure Installation Guides - HowToMgr" class="jsx-f92e766e9414ef16"/><meta property="og:description" content="43 infrastructure installation guides. DevOps and infrastructure automation tools" class="jsx-f92e766e9414ef16"/><meta property="og:type" content="website" class="jsx-f92e766e9414ef16"/><meta property="og:url" content="https://howtomgr.github.io" class="jsx-f92e766e9414ef16"/><meta property="og:image" content="https://howtomgr.github.io/social-preview.png" class="jsx-f92e766e9414ef16"/><meta property="twitter:card" content="summary_large_image" class="jsx-f92e766e9414ef16"/><meta property="twitter:title" content="Infrastructure Installation Guides - HowToMgr" class="jsx-f92e766e9414ef16"/><meta property="twitter:description" content="43 infrastructure installation guides. DevOps and infrastructure automation tools" class="jsx-f92e766e9414ef16"/><meta name="next-head-count" content="17"/><link rel="dns-prefetch" href="//api.github.com"/><link rel="dns-prefetch" href="//github.com"/><link rel="preload" href="/favicon.ico" as="image"/><meta name="application-name" content="HowToMgr"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="default"/><meta name="apple-mobile-web-app-title" content="HowToMgr"/><meta name="format-detection" content="telephone=no"/><meta name="mobile-web-app-capable" content="yes"/><noscript><style>
            .requires-js { display: none !important; }
            .no-js-message { display: block !important; }
          </style></noscript><link rel="preload" href="/_next/static/css/eec6c1c201affe77.css" as="style"/><link rel="stylesheet" href="/_next/static/css/eec6c1c201affe77.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-ee7e63bc15b31913.js" defer=""></script><script src="/_next/static/chunks/framework-2b1f7a23d657eae4.js" defer=""></script><script src="/_next/static/chunks/main-6ec3f7584970eebe.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f7367f88af207b64.js" defer=""></script><script src="/_next/static/chunks/119-abfbe7c9e22798da.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bcategory%5D-a09421b9c40c6469.js" defer=""></script><script src="/_next/static/Qa3FY_nUAtj8cvSxbxn7x/_buildManifest.js" defer=""></script><script src="/_next/static/Qa3FY_nUAtj8cvSxbxn7x/_ssgManifest.js" defer=""></script><style id="__jsx-fba8d10132152d7">.search-box.jsx-fba8d10132152d7{position:relative;width:100%;max-width:500px}.search-input-container.jsx-fba8d10132152d7{position:relative;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.search-input.jsx-fba8d10132152d7{width:100%;padding:var(--space-3)var(--space-4);padding-right:80px;border:2px solid var(--bg-surface);-webkit-border-radius:var(--border-radius-lg);-moz-border-radius:var(--border-radius-lg);border-radius:var(--border-radius-lg);background:var(--bg-primary);color:var(--text-primary);font-size:var(--font-base);-webkit-transition:var(--transition);-moz-transition:var(--transition);-o-transition:var(--transition);transition:var(--transition);min-height:48px}.search-input.jsx-fba8d10132152d7:focus{border-color:var(--accent-primary);outline:none;-webkit-box-shadow:0 0 0 3px rgba(189,147,249,.15);-moz-box-shadow:0 0 0 3px rgba(189,147,249,.15);box-shadow:0 0 0 3px rgba(189,147,249,.15)}.search-indicator.jsx-fba8d10132152d7{position:absolute;right:50px;color:var(--text-muted);pointer-events:none}.search-clear.jsx-fba8d10132152d7{position:absolute;right:var(--space-3);background:var(--bg-surface);border:none;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:24px;height:24px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;color:var(--text-muted);font-size:var(--font-sm)}.search-clear.jsx-fba8d10132152d7:hover{background:var(--accent-error);color:var(--bg-primary)}.search-results.jsx-fba8d10132152d7{position:absolute;top:100%;left:0;right:0;background:var(--bg-secondary);border:1px solid var(--bg-surface);-webkit-border-radius:var(--border-radius-lg);-moz-border-radius:var(--border-radius-lg);border-radius:var(--border-radius-lg);-webkit-box-shadow:var(--box-shadow-lg);-moz-box-shadow:var(--box-shadow-lg);box-shadow:var(--box-shadow-lg);max-height:400px;overflow-y:auto;z-index:var(--z-dropdown);margin-top:var(--space-2)}.search-result-item.jsx-fba8d10132152d7{display:block;padding:var(--space-4);border-bottom:1px solid var(--bg-surface);cursor:pointer;-webkit-transition:var(--transition);-moz-transition:var(--transition);-o-transition:var(--transition);transition:var(--transition);text-decoration:none;color:inherit}.search-result-item.jsx-fba8d10132152d7:last-child{border-bottom:none}.search-result-item.jsx-fba8d10132152d7:hover,.search-result-item.selected.jsx-fba8d10132152d7{background:var(--bg-surface);text-decoration:none;color:inherit}.result-header.jsx-fba8d10132152d7{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start;gap:var(--space-3);margin-bottom:var(--space-2)}.result-title.jsx-fba8d10132152d7{color:var(--accent-primary);font-size:var(--font-base);font-weight:600;margin:0}.result-badges.jsx-fba8d10132152d7{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-1)}.result-category.jsx-fba8d10132152d7,.result-language.jsx-fba8d10132152d7{padding:var(--space-1)var(--space-2);-webkit-border-radius:var(--border-radius-sm);-moz-border-radius:var(--border-radius-sm);border-radius:var(--border-radius-sm);font-size:var(--font-xs);font-weight:600;text-transform:uppercase}.result-category.jsx-fba8d10132152d7{background:var(--accent-primary);color:var(--bg-primary)}.result-language.jsx-fba8d10132152d7{background:var(--accent-secondary);color:var(--bg-primary)}.result-description.jsx-fba8d10132152d7{color:var(--text-secondary);font-size:var(--font-sm);margin:0 0 var(--space-2)0;line-height:1.4}.result-meta.jsx-fba8d10132152d7{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-3);font-size:var(--font-xs);color:var(--text-muted)}.search-empty.jsx-fba8d10132152d7{padding:var(--space-6)var(--space-4);text-align:center;color:var(--text-secondary)}.empty-icon.jsx-fba8d10132152d7{font-size:var(--font-2xl);margin-bottom:var(--space-3);opacity:.5}.empty-text.jsx-fba8d10132152d7 strong.jsx-fba8d10132152d7{display:block;color:var(--text-primary);margin-bottom:var(--space-2)}.empty-text.jsx-fba8d10132152d7 p.jsx-fba8d10132152d7{margin:0;font-size:var(--font-sm)}@media(max-width:767px){.search-input.jsx-fba8d10132152d7{min-height:52px;font-size:var(--font-base)}.result-header.jsx-fba8d10132152d7{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start;gap:var(--space-2)}.result-badges.jsx-fba8d10132152d7{-webkit-box-ordinal-group:0;-webkit-order:-1;-moz-box-ordinal-group:0;-ms-flex-order:-1;order:-1}}</style><style id="__jsx-6e7ce48e453c7e27">.breadcrumb.jsx-6e7ce48e453c7e27{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:var(--space-2);margin-bottom:var(--space-6);font-size:var(--font-sm);color:var(--text-secondary)}.breadcrumb.jsx-6e7ce48e453c7e27 a.jsx-6e7ce48e453c7e27{color:var(--accent-primary);text-decoration:none}.breadcrumb.jsx-6e7ce48e453c7e27 a.jsx-6e7ce48e453c7e27:hover{text-decoration:underline}.separator.jsx-6e7ce48e453c7e27{color:var(--text-muted)}.current.jsx-6e7ce48e453c7e27{color:var(--text-primary);font-weight:500}.category-header.jsx-6e7ce48e453c7e27{text-align:center;margin-bottom:var(--space-8);padding:var(--space-6)0;background:var(--bg-secondary);-webkit-border-radius:var(--border-radius-lg);-moz-border-radius:var(--border-radius-lg);border-radius:var(--border-radius-lg)}.category-icon.jsx-6e7ce48e453c7e27{font-size:3rem;margin-bottom:var(--space-4)}.category-title.jsx-6e7ce48e453c7e27{color:var(--accent-primary);font-size:var(--font-3xl);margin-bottom:var(--space-4)}.category-description.jsx-6e7ce48e453c7e27{color:var(--text-secondary);font-size:var(--font-lg);margin-bottom:var(--space-4);max-width:600px;margin-left:auto;margin-right:auto}.category-stats.jsx-6e7ce48e453c7e27{margin-top:var(--space-4)}.category-search.jsx-6e7ce48e453c7e27{margin-bottom:var(--space-6);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.controls-section.jsx-6e7ce48e453c7e27{margin-bottom:var(--space-6);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.sort-select.jsx-6e7ce48e453c7e27{padding:var(--space-2)var(--space-4);border:1px solid var(--bg-surface);-webkit-border-radius:var(--border-radius);-moz-border-radius:var(--border-radius);border-radius:var(--border-radius);background:var(--bg-primary);color:var(--text-primary);font-size:var(--font-sm)}.guides-section.jsx-6e7ce48e453c7e27{margin-bottom:var(--space-8)}.guide-card.jsx-6e7ce48e453c7e27:hover .mobile-card-title.jsx-6e7ce48e453c7e27{color:var(--accent-secondary)}.empty-state.jsx-6e7ce48e453c7e27{text-align:center;padding:var(--space-8);color:var(--text-secondary)}.empty-state.jsx-6e7ce48e453c7e27 h3.jsx-6e7ce48e453c7e27{color:var(--text-primary);margin-bottom:var(--space-4)}.loading-container.jsx-6e7ce48e453c7e27{text-align:center;padding:var(--space-8);color:var(--text-secondary)}.error-container.jsx-6e7ce48e453c7e27{text-align:center;padding:var(--space-8)}@media(max-width:767px){.category-header.jsx-6e7ce48e453c7e27{padding:var(--space-4);margin-bottom:var(--space-6)}.category-title.jsx-6e7ce48e453c7e27{font-size:var(--font-2xl)}.category-description.jsx-6e7ce48e453c7e27{font-size:var(--font-base)}.category-icon.jsx-6e7ce48e453c7e27{font-size:2.5rem}}</style><style id="__jsx-f92e766e9414ef16">.app-container.jsx-f92e766e9414ef16{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding-top:56px}.main-content.jsx-f92e766e9414ef16{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;padding:var(--space-6)0}.mobile-footer.jsx-f92e766e9414ef16{background:var(--bg-secondary);border-top:1px solid var(--bg-surface);padding:var(--space-6)0;margin-top:auto}.footer-content.jsx-f92e766e9414ef16{text-align:center}.footer-links.jsx-f92e766e9414ef16{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:var(--space-6);margin-bottom:var(--space-4);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.footer-links.jsx-f92e766e9414ef16 a.jsx-f92e766e9414ef16{color:var(--accent-primary);text-decoration:none;font-size:var(--font-sm)}.footer-links.jsx-f92e766e9414ef16 a.jsx-f92e766e9414ef16:hover{color:var(--accent-secondary)}.footer-separator.jsx-f92e766e9414ef16{height:1px;background:var(--bg-surface);margin:var(--space-4)auto;width:200px}.footer-text.jsx-f92e766e9414ef16,.footer-tech.jsx-f92e766e9414ef16{color:var(--text-secondary);font-size:var(--font-sm);margin-bottom:var(--space-2)}.footer-disclaimer.jsx-f92e766e9414ef16{color:var(--text-muted);font-size:var(--font-xs)}.nav-links.jsx-f92e766e9414ef16{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-4)}.nav-link.jsx-f92e766e9414ef16{color:var(--text-primary);text-decoration:none;padding:var(--space-2)var(--space-3);-webkit-border-radius:var(--border-radius);-moz-border-radius:var(--border-radius);border-radius:var(--border-radius);font-size:var(--font-sm);font-weight:500;-webkit-transition:var(--transition);-moz-transition:var(--transition);-o-transition:var(--transition);transition:var(--transition);min-height:36px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.nav-link.jsx-f92e766e9414ef16:hover{background:var(--bg-surface);color:var(--accent-primary);text-decoration:none}[data-theme="light"].jsx-f92e766e9414ef16 .theme-icon-dark.jsx-f92e766e9414ef16{display:none}[data-theme="light"].jsx-f92e766e9414ef16 .theme-icon-light.jsx-f92e766e9414ef16{display:inline!important}@media(max-width:767px){.main-content.jsx-f92e766e9414ef16{padding:var(--space-4)0}.footer-links.jsx-f92e766e9414ef16{gap:var(--space-4)}}</style></head><body><noscript><div class="no-js-message" style="padding:1rem;background:#ff5555;color:#f8f8f2;text-align:center;font-size:0.9rem">This site requires JavaScript to function properly. Please enable JavaScript in your browser.</div></noscript><div id="__next"><div class="jsx-f92e766e9414ef16 app-container"><a href="#main-content" class="jsx-f92e766e9414ef16 skip-link">Skip to main content</a><nav class="jsx-f92e766e9414ef16 mobile-nav"><div class="jsx-f92e766e9414ef16 mobile-nav-content"><a class="mobile-brand" href="/"><span role="img" aria-label="Books" class="jsx-f92e766e9414ef16">📚</span>HowToMgr</a><div class="jsx-f92e766e9414ef16 nav-links"><a class="nav-link" href="/all/">All</a><a class="nav-link" href="/search/">Search</a></div><button aria-label="Toggle theme" title="Switch theme" class="jsx-f92e766e9414ef16 mobile-theme-toggle touch-target"><span class="jsx-f92e766e9414ef16 theme-icon-dark">🌙</span><span style="display:none" class="jsx-f92e766e9414ef16 theme-icon-light">☀️</span></button></div></nav><main id="main-content" tabindex="-1" class="jsx-f92e766e9414ef16 main-content"><div class="jsx-f92e766e9414ef16 container"><nav aria-label="Breadcrumb" class="jsx-6e7ce48e453c7e27 breadcrumb"><a href="/">Home</a><span class="jsx-6e7ce48e453c7e27 separator">→</span><span class="jsx-6e7ce48e453c7e27 current">Infrastructure</span></nav><section class="jsx-6e7ce48e453c7e27 category-header"><div style="color:#44475a" class="jsx-6e7ce48e453c7e27 category-icon">🏗️</div><h1 class="jsx-6e7ce48e453c7e27 category-title">Infrastructure</h1><p class="jsx-6e7ce48e453c7e27 category-description">DevOps and infrastructure automation tools</p><div class="jsx-6e7ce48e453c7e27 category-stats"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-primary">43<!-- --> guides available</span></div></section><section class="jsx-6e7ce48e453c7e27 category-search"><div class="jsx-fba8d10132152d7 search-box"><div class="jsx-fba8d10132152d7 search-input-container"><input type="search" placeholder="Search infrastructure..." autoComplete="off" aria-label="Search installation guides" class="jsx-fba8d10132152d7 search-input" value=""/><div class="jsx-fba8d10132152d7 search-indicator"><span class="jsx-fba8d10132152d7 search-icon">🔍</span></div></div></div></section><section class="jsx-6e7ce48e453c7e27 controls-section"><div class="jsx-6e7ce48e453c7e27 sort-controls"><label for="sort-select" class="jsx-6e7ce48e453c7e27 sr-only">Sort guides</label><select id="sort-select" class="jsx-6e7ce48e453c7e27 sort-select"><option value="name" class="jsx-6e7ce48e453c7e27" selected="">Name (A-Z)</option><option value="updated" class="jsx-6e7ce48e453c7e27">Recently Updated</option><option value="stars" class="jsx-6e7ce48e453c7e27">Most Popular</option></select></div></section><section class="jsx-6e7ce48e453c7e27 guides-section"><div class="jsx-6e7ce48e453c7e27 mobile-grid"><a class="mobile-card guide-card" href="/infrastructure/adguard-home/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Adguard Home</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for adguard-home</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/adminer/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Adminer</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for adminer</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/ansible/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Ansible</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for ansible</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">31 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/certbot/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Certbot</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for certbot</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/code-server/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Code Server</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for code-server</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/discourse/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Discourse</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for discourse</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/drupal/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Drupal</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for drupal</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/elasticsearch/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Elasticsearch</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for elasticsearch</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">17 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/exchange/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Exchange</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for exchange</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/gitea/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Gitea</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for gitea</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/gitlab/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Gitlab</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for gitlab</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">29 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/home-assistant/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Home Assistant</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for home-assistant</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/influxdb/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Influxdb</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for influxdb</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/jenkins/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Jenkins</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for jenkins</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">38 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/jupyter/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Jupyter</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for jupyter</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/libvirt/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Libvirt</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for libvirt</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/mce/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Mce</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for mce</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">3 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/minecraft-server/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Minecraft Server</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for minecraft-server</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/minio/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Minio</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for minio</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">3 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/nexus/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Nexus</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for nexus</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/nodejs/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Node.js</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for nodejs</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">17 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/odoo/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Odoo</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for odoo</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/opnsense/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Opnsense</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for opnsense</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/owncloud/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Owncloud</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for owncloud</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/pfsense/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Pfsense</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for pfsense</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/pgadmin/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Pgadmin</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for pgadmin</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/phpmyadmin/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Phpmyadmin</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for phpmyadmin</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/prosody/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Prosody</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for prosody</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/proxmox/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Proxmox</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for proxmox</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/rabbitmq/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Rabbitmq</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for rabbitmq</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">21 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/raspbian/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Raspbian</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for raspbian</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/shinobi/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Shinobi</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for shinobi</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/sonarqube/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Sonarqube</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for sonarqube</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/strapi/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Strapi</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for strapi</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/terraform/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Terraform</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for terraform</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">33 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/transmission/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Transmission</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for transmission</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/truenas-scale/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Truenas Scale</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for truenas-scale</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/unifi-controller/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Unifi Controller</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for unifi-controller</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/vscode-server/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Vscode Server</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for vscode-server</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/webvirt/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Webvirt</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for webvirt</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/xen-orchestra/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Xen Orchestra</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for xen-orchestra</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/yacht/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Yacht</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for yacht</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card guide-card" href="/infrastructure/zigbee2mqtt/"><div class="jsx-6e7ce48e453c7e27 mobile-card-header"><h3 class="jsx-6e7ce48e453c7e27 mobile-card-title">Zigbee2mqtt</h3><p class="jsx-6e7ce48e453c7e27 mobile-card-description">Repo for zigbee2mqtt</p></div><div class="jsx-6e7ce48e453c7e27 mobile-card-meta"><span class="jsx-6e7ce48e453c7e27 mobile-badge mobile-badge-info">1 min</span></div></a></div></section></div></main><footer class="jsx-f92e766e9414ef16 mobile-footer"><div class="jsx-f92e766e9414ef16 container"><div class="jsx-f92e766e9414ef16 footer-content"><div class="jsx-f92e766e9414ef16 footer-links"><a href="/">Home</a><a href="https://github.com/howtomgr" target="_blank" rel="noopener" class="jsx-f92e766e9414ef16">GitHub</a><a href="https://github.com/howtomgr/howtomgr.github.io" target="_blank" rel="noopener" class="jsx-f92e766e9414ef16">Source</a></div><div class="jsx-f92e766e9414ef16 footer-separator"></div><p class="jsx-f92e766e9414ef16 footer-text">© <!-- -->2025<!-- --> HowToMgr Organization. Open source installation guides.</p><p class="jsx-f92e766e9414ef16 footer-tech">Built with ❤️ using Next.js + GitHub Pages</p><p class="jsx-f92e766e9414ef16 footer-disclaimer"><small class="jsx-f92e766e9414ef16">All guides are provided as-is. Please review and test before production use.</small></p></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"category":{"key":"infrastructure","name":"Infrastructure","description":"DevOps and infrastructure automation tools","icon":"🏗️","color":"#44475a","keywords":["ansible","terraform","gitlab","jenkins","consul","etcd"]},"guides":[{"name":"adguard-home","displayName":"Adguard Home","slug":"adguard-home","description":"Repo for adguard-home","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/adguard-home","updatedAt":"2025-09-08T03:04:18Z","createdAt":"2025-09-08T03:04:08Z","readmeRaw":"## 👋 Welcome to adguard-home 🚀  \n\nadguard-home README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-adguard-home\" class=\"mobile-header\"\u003e👋 Welcome to adguard-home 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eadguard-home README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T06:13:24.872Z"},{"name":"adminer","displayName":"Adminer","slug":"adminer","description":"Repo for adminer","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/adminer","updatedAt":"2025-09-08T03:04:32Z","createdAt":"2025-09-08T03:04:22Z","readmeRaw":"## 👋 Welcome to adminer 🚀  \n\nadminer README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-adminer\" class=\"mobile-header\"\u003e👋 Welcome to adminer 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eadminer README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T06:13:24.567Z"},{"name":"ansible","displayName":"Ansible","slug":"ansible","description":"Repo for ansible","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/ansible","updatedAt":"2025-09-14T01:29:39Z","createdAt":"2025-09-08T03:04:35Z","readmeRaw":"# Ansible Installation Guide\n\nAgentless automation platform for configuration management, application deployment, and task automation across multiple systems. Industry standard for infrastructure automation with enterprise-grade security.\n\n## Prerequisites\n\n- Linux control machine (any modern distribution)\n- Python 3.8+ on control machine\n- SSH access to target hosts\n- Python 2.7+ or 3.5+ on target hosts\n- 2GB RAM minimum, 4GB+ recommended for large infrastructures\n\n## Installation\n\n### Using Package Manager (Recommended)\n\n#### Ubuntu/Debian\n```bash\n# Update package list\nsudo apt update\n\n# Install Ansible and dependencies\nsudo apt install -y ansible python3-pip python3-venv sshpass\n\n# Install additional collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\nansible-galaxy collection install amazon.aws\nansible-galaxy collection install azure.azcollection\nansible-galaxy collection install google.cloud\n\n# Verify installation\nansible --version\nansible-galaxy collection list\n```\n\n#### RHEL/CentOS/Rocky Linux/AlmaLinux\n```bash\n# Install EPEL repository\nsudo yum install -y epel-release\n\n# Install Ansible\nsudo yum install -y ansible python3-pip\n\n# For newer distributions\nsudo dnf install -y ansible python3-pip\n\n# Install collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\n\n# Verify installation\nansible --version\n```\n\n#### Fedora\n```bash\n# Install Ansible\nsudo dnf install -y ansible python3-pip python3-virtualenv\n\n# Install additional collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\n\n# Verify installation\nansible --version\n```\n\n#### Arch Linux\n```bash\n# Install Ansible\nsudo pacman -Syu ansible python-pip\n\n# Install collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\n\n# Verify installation\nansible --version\n```\n\n#### Alpine Linux\n```bash\n# Install Ansible\nsudo apk update\nsudo apk add ansible python3 py3-pip openssh\n\n# Install collections\nansible-galaxy collection install community.general\n\n# Verify installation\nansible --version\n```\n\n### Using pip (Latest Version)\n```bash\n# Create virtual environment (recommended)\npython3 -m venv ~/ansible-venv\nsource ~/ansible-venv/bin/activate\n\n# Install Ansible via pip\npip install --upgrade pip\npip install ansible ansible-core\n\n# Install additional packages\npip install paramiko jinja2 PyYAML cryptography\n\n# Install cloud provider SDKs\npip install boto3 botocore azure-cli google-cloud-storage\n\n# Install collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\nansible-galaxy collection install amazon.aws\nansible-galaxy collection install azure.azcollection\nansible-galaxy collection install google.cloud\n\n# Add to PATH permanently\necho 'source ~/ansible-venv/bin/activate' \u003e\u003e ~/.bashrc\n\n# Verify installation\nansible --version\n```\n\n### Using Docker\n```bash\n# Create Ansible Docker container with mounted volumes\ndocker run --rm -it \\\n  -v $(pwd):/ansible \\\n  -v ~/.ssh:/root/.ssh:ro \\\n  -v ~/.aws:/root/.aws:ro \\\n  -v ~/.azure:/root/.azure:ro \\\n  --workdir /ansible \\\n  ansible/ansible:latest\n\n# Create wrapper script for ease of use\nsudo tee /usr/local/bin/ansible-docker \u003e /dev/null \u003c\u003c'EOF'\n#!/bin/bash\ndocker run --rm -it \\\n  -v $(pwd):/ansible \\\n  -v ~/.ssh:/root/.ssh:ro \\\n  -v ~/.aws:/root/.aws:ro \\\n  -v ~/.azure:/root/.azure:ro \\\n  -v ~/.kube:/root/.kube:ro \\\n  --workdir /ansible \\\n  --network host \\\n  ansible/ansible:latest \"$@\"\nEOF\nsudo chmod +x /usr/local/bin/ansible-docker\n\n# Create aliases\necho 'alias ansible=\"ansible-docker ansible\"' \u003e\u003e ~/.bashrc\necho 'alias ansible-playbook=\"ansible-docker ansible-playbook\"' \u003e\u003e ~/.bashrc\n```\n\n## Project Structure and Configuration\n\n### Professional Project Structure\n```bash\n# Create comprehensive Ansible project structure\nmkdir -p ~/ansible-infrastructure/{\n  inventories/{production,staging,development},\n  playbooks,\n  roles,\n  group_vars,\n  host_vars,\n  library,\n  filter_plugins,\n  callback_plugins,\n  vault,\n  collections,\n  logs\n}\n\ncd ~/ansible-infrastructure\n\n# Create ansible.cfg with security best practices\ncat \u003e ansible.cfg \u003c\u003cEOF\n[defaults]\ninventory = inventories/production/hosts.yml\nremote_user = ansible\nprivate_key_file = ~/.ssh/ansible_key\nhost_key_checking = True\ntimeout = 30\nretry_files_enabled = False\nstdout_callback = yaml\nbin_ansible_callbacks = True\ngathering = smart\nfact_caching = jsonfile\nfact_caching_connection = ~/.ansible/facts_cache\nfact_caching_timeout = 86400\ninterpreter_python = auto_silent\nvault_password_file = ~/.ansible_vault_pass\n\n# Logging\nlog_path = logs/ansible.log\ndisplay_skipped_hosts = False\ndisplay_ok_hosts = False\n\n# Performance\nforks = 20\npoll_interval = 15\ninternal_poll_interval = 0.001\n\n# Security\ncommand_warnings = True\ndeprecation_warnings = True\naction_warnings = True\nlocalhost_warning = True\n\n[ssh_connection]\nssh_args = -o ControlMaster=auto -o ControlPersist=3600s -o PreferredAuthentications=publickey\npipelining = True\ncontrol_path = ~/.ansible/cp/%%h-%%p-%%r\nretries = 3\n\n[privilege_escalation]\nbecome = False\nbecome_method = sudo\nbecome_user = root\nbecome_ask_pass = False\n\n[inventory]\nenable_plugins = host_list, script, auto, yaml, ini, toml\ncache = True\ncache_plugin = jsonfile\ncache_timeout = 3600\ncache_connection = ~/.ansible/inventory_cache\n\n[galaxy]\nserver_list = automation_hub, galaxy\nEOF\n```\n\n### Advanced Inventory Management\n```bash\n# Create production inventory with groups and variables\ncat \u003e inventories/production/hosts.yml \u003c\u003cEOF\nall:\n  children:\n    webservers:\n      hosts:\n        web-prod-01:\n          ansible_host: 10.0.1.10\n          ansible_user: ansible\n          server_role: frontend\n          backup_enabled: true\n        web-prod-02:\n          ansible_host: 10.0.1.11\n          ansible_user: ansible\n          server_role: frontend\n          backup_enabled: true\n        web-prod-03:\n          ansible_host: 10.0.1.12\n          ansible_user: ansible\n          server_role: frontend\n          backup_enabled: true\n      vars:\n        http_port: 80\n        https_port: 443\n        max_clients: 200\n        environment: production\n        monitoring_enabled: true\n\n    dbservers:\n      hosts:\n        db-prod-01:\n          ansible_host: 10.0.2.10\n          ansible_user: ansible\n          mysql_server_id: 1\n          mysql_role: master\n        db-prod-02:\n          ansible_host: 10.0.2.11\n          ansible_user: ansible\n          mysql_server_id: 2\n          mysql_role: slave\n      vars:\n        mysql_port: 3306\n        mysql_root_password: \"{{ vault_mysql_root_password }}\"\n        mysql_replication_user: \"{{ vault_mysql_replication_user }}\"\n        mysql_replication_password: \"{{ vault_mysql_replication_password }}\"\n\n    loadbalancers:\n      hosts:\n        lb-prod-01:\n          ansible_host: 10.0.3.10\n          ansible_user: ansible\n          lb_algorithm: roundrobin\n        lb-prod-02:\n          ansible_host: 10.0.3.11\n          ansible_user: ansible\n          lb_algorithm: roundrobin\n      vars:\n        haproxy_stats_enabled: true\n        haproxy_stats_user: admin\n        haproxy_stats_password: \"{{ vault_haproxy_stats_password }}\"\n\n    monitoring:\n      hosts:\n        monitor-prod-01:\n          ansible_host: 10.0.4.10\n          ansible_user: ansible\n          prometheus_retention: 30d\n          grafana_admin_password: \"{{ vault_grafana_admin_password }}\"\n\n    bastion:\n      hosts:\n        bastion-prod-01:\n          ansible_host: bastion.example.com\n          ansible_user: ansible\n          ansible_port: 22\n\n# Global variables for all hosts\nwebservers:\n  vars:\n    nginx_worker_processes: auto\n    nginx_worker_connections: 1024\n    ssl_certificate_path: /etc/ssl/certs\n    backup_schedule: \"0 2 * * *\"\n\ndbservers:\n  vars:\n    mysql_innodb_buffer_pool_size: 2G\n    mysql_max_connections: 200\n    backup_schedule: \"0 1 * * *\"\n    monitoring_enabled: true\nEOF\n\n# Create dynamic inventory script for cloud environments\ncat \u003e inventories/production/aws_ec2.yml \u003c\u003cEOF\nplugin: amazon.aws.aws_ec2\nregions:\n  - us-west-2\n  - us-east-1\nfilters:\n  tag:Environment: production\n  tag:Ansible: managed\n  instance-state-name: running\n\nhostnames:\n  - tag:Name\n  - dns-name\n  - private-ip-address\n\ncompose:\n  ansible_host: private_ip_address\n  ec2_state: ec2_state_name\n  ec2_arch: ec2_architecture\n\ngroups:\n  # Group by instance type\n  webservers: \"'web' in tags.Role\"\n  databases: \"'db' in tags.Role\"\n  loadbalancers: \"'lb' in tags.Role\"\n  \n  # Group by environment\n  production: \"tags.Environment == 'production'\"\n  staging: \"tags.Environment == 'staging'\"\n  \n  # Group by availability zone\n  us_west_2a: ec2_placement_availability_zone == \"us-west-2a\"\n  us_west_2b: ec2_placement_availability_zone == \"us-west-2b\"\n\nkeyed_groups:\n  # Create groups based on tags\n  - key: tags.Environment\n    prefix: env\n  - key: tags.Role  \n    prefix: role\n  - key: ec2_instance_type\n    prefix: type\nEOF\n```\n\n### Ansible Vault Security\n```bash\n# Create strong vault password\nopenssl rand -base64 32 \u003e ~/.ansible_vault_pass\nchmod 600 ~/.ansible_vault_pass\n\n# Create encrypted vault file for secrets\nansible-vault create group_vars/all/vault.yml\n# Enter secure passwords and API keys:\n# vault_mysql_root_password: your_secure_mysql_password\n# vault_grafana_admin_password: your_secure_grafana_password  \n# vault_ssl_private_key: |\n#   -----BEGIN PRIVATE KEY-----\n#   your_private_key_content\n#   -----END PRIVATE KEY-----\n\n# Create non-encrypted variables file\ncat \u003e group_vars/all/vars.yml \u003c\u003cEOF\n# Non-sensitive variables\nmysql_port: 3306\nnginx_port: 80\ngrafana_port: 3000\nprometheus_port: 9090\n\n# Reference vault variables\nmysql_root_password: \"{{ vault_mysql_root_password }}\"\ngrafana_admin_password: \"{{ vault_grafana_admin_password }}\"\n\n# SSL configuration\nssl_certificate_path: /etc/ssl/certs/server.crt\nssl_private_key_path: /etc/ssl/private/server.key\nssl_private_key_content: \"{{ vault_ssl_private_key }}\"\n\n# Security settings\nansible_ssh_common_args: '-o StrictHostKeyChecking=yes -o UserKnownHostsFile=~/.ssh/known_hosts'\nansible_become_method: sudo\nansible_become_user: root\nEOF\n\n# Edit vault file\nansible-vault edit group_vars/all/vault.yml\n\n# View vault file (read-only)\nansible-vault view group_vars/all/vault.yml\n\n# Change vault password\nansible-vault rekey group_vars/all/vault.yml\n```\n\n## Comprehensive Playbooks\n\n### System Hardening Playbook\n```bash\ncat \u003e playbooks/system-hardening.yml \u003c\u003cEOF\n---\n- name: System Security Hardening\n  hosts: all\n  become: yes\n  gather_facts: yes\n  vars:\n    security_packages:\n      - fail2ban\n      - ufw\n      - aide\n      - chkrootkit\n      - rkhunter\n      - clamav\n      - lynis\n    \n    disabled_services:\n      - telnet\n      - rsh\n      - rlogin\n      - tftp\n      - talk\n      - finger\n\n  pre_tasks:\n    - name: Update package cache\n      package:\n        update_cache: yes\n        cache_valid_time: 3600\n      when: ansible_os_family in [\"Debian\", \"RedHat\"]\n\n  tasks:\n    # System updates\n    - name: Upgrade all packages\n      package:\n        name: \"*\"\n        state: latest\n      when: ansible_os_family == \"RedHat\"\n\n    - name: Upgrade all packages (Debian/Ubuntu)\n      apt:\n        upgrade: dist\n        autoremove: yes\n        autoclean: yes\n      when: ansible_os_family == \"Debian\"\n\n    # Install security packages\n    - name: Install security packages\n      package:\n        name: \"{{ security_packages }}\"\n        state: present\n\n    # User security\n    - name: Create ansible user with limited privileges\n      user:\n        name: ansible\n        groups: sudo\n        shell: /bin/bash\n        create_home: yes\n        generate_ssh_key: yes\n        ssh_key_bits: 4096\n        ssh_key_type: rsa\n\n    - name: Configure sudo for ansible user\n      lineinfile:\n        path: /etc/sudoers.d/ansible\n        line: 'ansible ALL=(ALL) NOPASSWD:ALL'\n        create: yes\n        mode: '0440'\n        validate: 'visudo -cf %s'\n\n    # SSH hardening\n    - name: Configure SSH security\n      lineinfile:\n        path: /etc/ssh/sshd_config\n        regexp: \"{{ item.regexp }}\"\n        line: \"{{ item.line }}\"\n        backup: yes\n      loop:\n        - { regexp: '^#?PermitRootLogin', line: 'PermitRootLogin no' }\n        - { regexp: '^#?PasswordAuthentication', line: 'PasswordAuthentication no' }\n        - { regexp: '^#?X11Forwarding', line: 'X11Forwarding no' }\n        - { regexp: '^#?MaxAuthTries', line: 'MaxAuthTries 3' }\n        - { regexp: '^#?ClientAliveInterval', line: 'ClientAliveInterval 300' }\n        - { regexp: '^#?ClientAliveCountMax', line: 'ClientAliveCountMax 0' }\n        - { regexp: '^#?Protocol', line: 'Protocol 2' }\n        - { regexp: '^#?LogLevel', line: 'LogLevel VERBOSE' }\n      notify: restart ssh\n\n    # Firewall configuration\n    - name: Configure UFW firewall (Debian/Ubuntu)\n      ufw:\n        state: enabled\n        policy: deny\n        direction: incoming\n      when: ansible_os_family == \"Debian\"\n\n    - name: Allow SSH through UFW\n      ufw:\n        rule: allow\n        port: 22\n        proto: tcp\n        comment: 'SSH access'\n      when: ansible_os_family == \"Debian\"\n\n    - name: Configure firewalld (RHEL/CentOS/Fedora)\n      firewalld:\n        state: enabled\n        permanent: yes\n        immediate: yes\n      when: ansible_os_family == \"RedHat\"\n\n    - name: Allow SSH through firewalld\n      firewalld:\n        service: ssh\n        permanent: yes\n        state: enabled\n        immediate: yes\n      when: ansible_os_family == \"RedHat\"\n\n    # Disable unnecessary services\n    - name: Disable unnecessary services\n      systemd:\n        name: \"{{ item }}\"\n        enabled: no\n        state: stopped\n      loop: \"{{ disabled_services }}\"\n      ignore_errors: yes\n\n    # File system security\n    - name: Set proper permissions on sensitive files\n      file:\n        path: \"{{ item.path }}\"\n        mode: \"{{ item.mode }}\"\n        owner: root\n        group: root\n      loop:\n        - { path: '/etc/passwd', mode: '0644' }\n        - { path: '/etc/shadow', mode: '0640' }\n        - { path: '/etc/group', mode: '0644' }\n        - { path: '/etc/gshadow', mode: '0640' }\n        - { path: '/etc/ssh/sshd_config', mode: '0600' }\n\n    # Kernel security parameters\n    - name: Configure kernel security parameters\n      sysctl:\n        name: \"{{ item.key }}\"\n        value: \"{{ item.value }}\"\n        sysctl_set: yes\n        state: present\n        reload: yes\n      loop:\n        - { key: 'net.ipv4.ip_forward', value: '0' }\n        - { key: 'net.ipv4.conf.all.send_redirects', value: '0' }\n        - { key: 'net.ipv4.conf.default.send_redirects', value: '0' }\n        - { key: 'net.ipv4.conf.all.accept_source_route', value: '0' }\n        - { key: 'net.ipv4.conf.default.accept_source_route', value: '0' }\n        - { key: 'net.ipv4.conf.all.accept_redirects', value: '0' }\n        - { key: 'net.ipv4.conf.default.accept_redirects', value: '0' }\n        - { key: 'net.ipv4.conf.all.secure_redirects', value: '0' }\n        - { key: 'net.ipv4.conf.default.secure_redirects', value: '0' }\n        - { key: 'net.ipv4.conf.all.log_martians', value: '1' }\n        - { key: 'net.ipv4.conf.default.log_martians', value: '1' }\n        - { key: 'kernel.randomize_va_space', value: '2' }\n\n    # Configure fail2ban\n    - name: Configure fail2ban for SSH protection\n      template:\n        src: templates/fail2ban-jail.local.j2\n        dest: /etc/fail2ban/jail.local\n        backup: yes\n      notify: restart fail2ban\n\n  handlers:\n    - name: restart ssh\n      service:\n        name: \"{{ 'ssh' if ansible_os_family == 'Debian' else 'sshd' }}\"\n        state: restarted\n\n    - name: restart fail2ban\n      service:\n        name: fail2ban\n        state: restarted\nEOF\n```\n\n### Application Deployment Playbook\n```bash\ncat \u003e playbooks/web-application-deployment.yml \u003c\u003cEOF\n---\n- name: Deploy Web Application Stack\n  hosts: webservers\n  become: yes\n  serial: \"25%\"  # Rolling deployment\n  max_fail_percentage: 10\n  vars:\n    app_name: mywebapp\n    app_version: \"{{ app_version | default('latest') }}\"\n    app_port: 3000\n    nginx_workers: \"{{ ansible_processor_cores }}\"\n    \n  pre_tasks:\n    - name: Check if maintenance mode file exists\n      stat:\n        path: /var/www/html/maintenance.html\n      register: maintenance_mode\n\n    - name: Fail if in maintenance mode\n      fail:\n        msg: \"Server is in maintenance mode\"\n      when: maintenance_mode.stat.exists and not force_deployment | default(false)\n\n  tasks:\n    # Application deployment\n    - name: Create application user\n      user:\n        name: \"{{ app_name }}\"\n        system: yes\n        shell: /bin/false\n        home: \"/opt/{{ app_name }}\"\n        create_home: yes\n\n    - name: Create application directories\n      file:\n        path: \"{{ item }}\"\n        state: directory\n        owner: \"{{ app_name }}\"\n        group: \"{{ app_name }}\"\n        mode: '0755'\n      loop:\n        - \"/opt/{{ app_name }}\"\n        - \"/opt/{{ app_name }}/releases\"\n        - \"/opt/{{ app_name }}/shared\"\n        - \"/var/log/{{ app_name }}\"\n\n    - name: Download application release\n      get_url:\n        url: \"https://releases.example.com/{{ app_name }}/{{ app_version }}/{{ app_name }}-{{ app_version }}.tar.gz\"\n        dest: \"/tmp/{{ app_name }}-{{ app_version }}.tar.gz\"\n        mode: '0644'\n        timeout: 300\n      register: download_result\n\n    - name: Extract application\n      unarchive:\n        src: \"/tmp/{{ app_name }}-{{ app_version }}.tar.gz\"\n        dest: \"/opt/{{ app_name }}/releases/\"\n        owner: \"{{ app_name }}\"\n        group: \"{{ app_name }}\"\n        remote_src: yes\n        creates: \"/opt/{{ app_name }}/releases/{{ app_version }}\"\n\n    - name: Create symlink to current release\n      file:\n        src: \"/opt/{{ app_name }}/releases/{{ app_version }}\"\n        dest: \"/opt/{{ app_name }}/current\"\n        state: link\n        owner: \"{{ app_name }}\"\n        group: \"{{ app_name }}\"\n      notify:\n        - reload application\n        - reload nginx\n\n    # Configuration management\n    - name: Deploy application configuration\n      template:\n        src: \"templates/{{ app_name }}.conf.j2\"\n        dest: \"/opt/{{ app_name }}/shared/{{ app_name }}.conf\"\n        owner: \"{{ app_name }}\"\n        group: \"{{ app_name }}\"\n        mode: '0640'\n        backup: yes\n      notify: reload application\n\n    # Service management\n    - name: Deploy systemd service file\n      template:\n        src: \"templates/{{ app_name }}.service.j2\"\n        dest: \"/etc/systemd/system/{{ app_name }}.service\"\n        mode: '0644'\n      notify:\n        - daemon reload\n        - restart application\n\n    - name: Enable and start application service\n      systemd:\n        name: \"{{ app_name }}\"\n        enabled: yes\n        state: started\n        daemon_reload: yes\n\n    # Health check\n    - name: Wait for application to be ready\n      uri:\n        url: \"http://localhost:{{ app_port }}/health\"\n        method: GET\n        status_code: 200\n      retries: 30\n      delay: 10\n\n    # Cleanup old releases\n    - name: Clean up old releases (keep last 3)\n      shell: |\n        cd /opt/{{ app_name }}/releases\n        ls -t | tail -n +4 | xargs rm -rf\n      args:\n        executable: /bin/bash\n\n  post_tasks:\n    - name: Verify application is running\n      uri:\n        url: \"http://{{ ansible_default_ipv4.address }}:{{ app_port }}/health\"\n        method: GET\n        status_code: 200\n      delegate_to: localhost\n\n    - name: Log deployment success\n      lineinfile:\n        path: \"/var/log/{{ app_name }}/deployments.log\"\n        line: \"{{ ansible_date_time.iso8601 }} - Successfully deployed {{ app_version }} to {{ inventory_hostname }}\"\n        create: yes\n\n  handlers:\n    - name: daemon reload\n      systemd:\n        daemon_reload: yes\n\n    - name: restart application\n      systemd:\n        name: \"{{ app_name }}\"\n        state: restarted\n\n    - name: reload application\n      systemd:\n        name: \"{{ app_name }}\"\n        state: reloaded\n\n    - name: reload nginx\n      service:\n        name: nginx\n        state: reloaded\nEOF\n```\n\n### Infrastructure as Code Playbook\n```bash\ncat \u003e playbooks/infrastructure-provisioning.yml \u003c\u003cEOF\n---\n- name: Infrastructure Provisioning and Configuration\n  hosts: all\n  become: yes\n  strategy: free  # Parallel execution\n  vars:\n    base_packages:\n      Debian:\n        - curl\n        - wget\n        - vim\n        - htop\n        - git\n        - python3\n        - python3-pip\n        - unzip\n        - tree\n      RedHat:\n        - curl\n        - wget\n        - vim\n        - htop\n        - git\n        - python3\n        - python3-pip\n        - unzip\n        - tree\n        - epel-release\n\n  tasks:\n    # System preparation\n    - name: Set hostname\n      hostname:\n        name: \"{{ inventory_hostname }}\"\n\n    - name: Update /etc/hosts\n      lineinfile:\n        path: /etc/hosts\n        line: \"{{ ansible_default_ipv4.address }} {{ inventory_hostname }}\"\n        backup: yes\n\n    # Package management\n    - name: Install base packages\n      package:\n        name: \"{{ base_packages[ansible_os_family] | default(base_packages['Debian']) }}\"\n        state: present\n\n    # Time synchronization\n    - name: Install and configure NTP\n      package:\n        name: \"{{ 'ntp' if ansible_os_family == 'Debian' else 'chrony' }}\"\n        state: present\n\n    - name: Start and enable time synchronization\n      service:\n        name: \"{{ 'ntp' if ansible_os_family == 'Debian' else 'chronyd' }}\"\n        state: started\n        enabled: yes\n\n    # Log management\n    - name: Configure logrotate for application logs\n      template:\n        src: templates/app-logrotate.j2\n        dest: /etc/logrotate.d/applications\n        mode: '0644'\n\n    # Monitoring agent installation\n    - name: Install Node Exporter for Prometheus monitoring\n      get_url:\n        url: \"https://github.com/prometheus/node_exporter/releases/download/v1.6.1/node_exporter-1.6.1.linux-amd64.tar.gz\"\n        dest: /tmp/node_exporter.tar.gz\n        mode: '0644'\n\n    - name: Extract Node Exporter\n      unarchive:\n        src: /tmp/node_exporter.tar.gz\n        dest: /tmp\n        remote_src: yes\n\n    - name: Copy Node Exporter binary\n      copy:\n        src: /tmp/node_exporter-1.6.1.linux-amd64/node_exporter\n        dest: /usr/local/bin/node_exporter\n        mode: '0755'\n        owner: root\n        group: root\n        remote_src: yes\n\n    - name: Create node_exporter systemd service\n      template:\n        src: templates/node_exporter.service.j2\n        dest: /etc/systemd/system/node_exporter.service\n        mode: '0644'\n      notify:\n        - daemon reload\n        - restart node_exporter\n\n    # Security configuration\n    - name: Configure kernel parameters for security\n      sysctl:\n        name: \"{{ item.key }}\"\n        value: \"{{ item.value }}\"\n        sysctl_set: yes\n        state: present\n        reload: yes\n      loop:\n        - { key: 'kernel.dmesg_restrict', value: '1' }\n        - { key: 'kernel.kptr_restrict', value: '2' }\n        - { key: 'kernel.yama.ptrace_scope', value: '1' }\n        - { key: 'net.ipv4.conf.all.log_martians', value: '1' }\n        - { key: 'net.ipv4.conf.default.log_martians', value: '1' }\n        - { key: 'net.ipv4.conf.all.send_redirects', value: '0' }\n        - { key: 'net.ipv4.conf.default.send_redirects', value: '0' }\n\n    # File integrity monitoring\n    - name: Initialize AIDE database\n      shell: |\n        aide --init\n        mv /var/lib/aide/aide.db.new /var/lib/aide/aide.db\n      args:\n        creates: /var/lib/aide/aide.db\n\n    - name: Schedule AIDE integrity checks\n      cron:\n        name: \"AIDE integrity check\"\n        minute: \"0\"\n        hour: \"3\"\n        job: \"/usr/bin/aide --check\"\n        user: root\n\n  handlers:\n    - name: daemon reload\n      systemd:\n        daemon_reload: yes\n\n    - name: restart node_exporter\n      service:\n        name: node_exporter\n        state: restarted\n        enabled: yes\nEOF\n```\n\n## Advanced Role Development\n\n### Comprehensive NGINX Role\n```bash\n# Create NGINX role structure\nansible-galaxy init roles/nginx\n\n# Main tasks\ncat \u003e roles/nginx/tasks/main.yml \u003c\u003cEOF\n---\n# NGINX Installation and Configuration Role\n- name: Include OS-specific variables\n  include_vars: \"{{ ansible_os_family }}.yml\"\n\n- name: Install NGINX\n  include_tasks: \"install-{{ ansible_os_family }}.yml\"\n\n- name: Create NGINX directories\n  file:\n    path: \"{{ item }}\"\n    state: directory\n    owner: root\n    group: root\n    mode: '0755'\n  loop:\n    - /etc/nginx/sites-available\n    - /etc/nginx/sites-enabled\n    - /etc/nginx/conf.d\n    - /var/log/nginx\n    - /var/cache/nginx\n\n- name: Generate DH parameters\n  openssl_dhparam:\n    path: /etc/ssl/certs/dhparam.pem\n    size: 2048\n  when: nginx_ssl_enabled | default(false)\n\n- name: Deploy NGINX main configuration\n  template:\n    src: nginx.conf.j2\n    dest: /etc/nginx/nginx.conf\n    backup: yes\n    validate: 'nginx -t -c %s'\n  notify: reload nginx\n\n- name: Deploy virtual host configurations\n  template:\n    src: vhost.conf.j2\n    dest: \"/etc/nginx/sites-available/{{ item.name }}.conf\"\n    backup: yes\n  loop: \"{{ nginx_vhosts | default([]) }}\"\n  notify: reload nginx\n\n- name: Enable virtual hosts\n  file:\n    src: \"/etc/nginx/sites-available/{{ item.name }}.conf\"\n    dest: \"/etc/nginx/sites-enabled/{{ item.name }}.conf\"\n    state: link\n  loop: \"{{ nginx_vhosts | default([]) }}\"\n  when: item.enabled | default(true)\n  notify: reload nginx\n\n- name: Remove default site\n  file:\n    path: /etc/nginx/sites-enabled/default\n    state: absent\n  notify: reload nginx\n\n- name: Start and enable NGINX\n  service:\n    name: nginx\n    state: started\n    enabled: yes\n\n- name: Configure log rotation\n  template:\n    src: nginx-logrotate.j2\n    dest: /etc/logrotate.d/nginx\n    mode: '0644'\n\n- name: Setup NGINX monitoring\n  include_tasks: monitoring.yml\n  when: nginx_monitoring_enabled | default(false)\n\n- name: Configure SSL certificates\n  include_tasks: ssl.yml\n  when: nginx_ssl_enabled | default(false)\nEOF\n\n# OS-specific installation tasks\ncat \u003e roles/nginx/tasks/install-Debian.yml \u003c\u003cEOF\n---\n- name: Add NGINX signing key (Debian/Ubuntu)\n  apt_key:\n    url: https://nginx.org/keys/nginx_signing.key\n    state: present\n\n- name: Add NGINX repository (Debian/Ubuntu)\n  apt_repository:\n    repo: \"deb https://nginx.org/packages/{{ ansible_distribution | lower }}/ {{ ansible_distribution_release }} nginx\"\n    state: present\n\n- name: Install NGINX (Debian/Ubuntu)\n  apt:\n    name: nginx\n    state: present\n    update_cache: yes\nEOF\n\ncat \u003e roles/nginx/tasks/install-RedHat.yml \u003c\u003cEOF\n---\n- name: Add NGINX repository (RHEL/CentOS)\n  yum_repository:\n    name: nginx\n    description: NGINX Repository\n    baseurl: \"https://nginx.org/packages/centos/{{ ansible_distribution_major_version }}/$basearch/\"\n    gpgcheck: yes\n    gpgkey: https://nginx.org/keys/nginx_signing.key\n    enabled: yes\n\n- name: Install NGINX (RHEL/CentOS)\n  yum:\n    name: nginx\n    state: present\nEOF\n\n# Variables\ncat \u003e roles/nginx/vars/main.yml \u003c\u003cEOF\n---\nnginx_user: nginx\nnginx_worker_processes: auto\nnginx_worker_connections: 1024\nnginx_keepalive_timeout: 65\nnginx_ssl_enabled: false\nnginx_monitoring_enabled: true\n\nnginx_security_headers:\n  - \"add_header X-Frame-Options SAMEORIGIN always;\"\n  - \"add_header X-Content-Type-Options nosniff always;\"\n  - \"add_header X-XSS-Protection '1; mode=block' always;\"\n  - \"add_header Strict-Transport-Security 'max-age=31536000; includeSubDomains' always;\"\n\nnginx_default_vhost:\n  name: default\n  listen: 80\n  server_name: \"_\"\n  root: /var/www/html\n  index: index.html\n  enabled: false\nEOF\n\n# Templates\ncat \u003e roles/nginx/templates/nginx.conf.j2 \u003c\u003cEOF\nuser {{ nginx_user }};\nworker_processes {{ nginx_worker_processes }};\npid /var/run/nginx.pid;\n\nevents {\n    worker_connections {{ nginx_worker_connections }};\n    use epoll;\n    multi_accept on;\n}\n\nhttp {\n    # Basic settings\n    sendfile on;\n    tcp_nopush on;\n    tcp_nodelay on;\n    keepalive_timeout {{ nginx_keepalive_timeout }};\n    types_hash_max_size 2048;\n    server_tokens off;\n\n    include /etc/nginx/mime.types;\n    default_type application/octet-stream;\n\n    # SSL configuration\n{% if nginx_ssl_enabled %}\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_prefer_server_ciphers off;\n    ssl_dhparam /etc/ssl/certs/dhparam.pem;\n{% endif %}\n\n    # Gzip compression\n    gzip on;\n    gzip_vary on;\n    gzip_proxied any;\n    gzip_comp_level 6;\n    gzip_types\n        application/javascript\n        application/json\n        application/xml\n        text/css\n        text/javascript\n        text/xml\n        text/plain;\n\n    # Security headers\n{% for header in nginx_security_headers %}\n    {{ header }}\n{% endfor %}\n\n    # Logging\n    log_format main '\\$remote_addr - \\$remote_user [\\$time_local] \"\\$request\" '\n                    '\\$status \\$body_bytes_sent \"\\$http_referer\" '\n                    '\"\\$http_user_agent\" \"\\$http_x_forwarded_for\"';\n\n    access_log /var/log/nginx/access.log main;\n    error_log /var/log/nginx/error.log;\n\n    # Rate limiting\n    limit_req_zone \\$binary_remote_addr zone=login:10m rate=10r/m;\n    limit_conn_zone \\$binary_remote_addr zone=addr:10m;\n\n    # Include configurations\n    include /etc/nginx/conf.d/*.conf;\n    include /etc/nginx/sites-enabled/*;\n}\nEOF\n\n# Handlers\ncat \u003e roles/nginx/handlers/main.yml \u003c\u003cEOF\n---\n- name: restart nginx\n  service:\n    name: nginx\n    state: restarted\n\n- name: reload nginx\n  service:\n    name: nginx\n    state: reloaded\n\n- name: validate nginx config\n  command: nginx -t\n  changed_when: false\nEOF\n```\n\n## Security and Compliance\n\n### Ansible Security Scanner Integration\n```bash\n# Create security scanning playbook\ncat \u003e playbooks/security-scan.yml \u003c\u003cEOF\n---\n- name: Security Compliance Scanning\n  hosts: all\n  become: yes\n  gather_facts: yes\n  vars:\n    scan_results_dir: \"/tmp/security-scans\"\n    \n  tasks:\n    - name: Create scan results directory\n      file:\n        path: \"{{ scan_results_dir }}\"\n        state: directory\n        mode: '0755'\n\n    # CIS benchmark scanning\n    - name: Download CIS benchmark script\n      get_url:\n        url: \"https://github.com/dev-sec/cis-dil-benchmark/archive/master.zip\"\n        dest: \"/tmp/cis-benchmark.zip\"\n        mode: '0644'\n\n    - name: Run CIS benchmark scan\n      shell: |\n        cd /tmp\n        unzip -o cis-benchmark.zip\n        cd cis-dil-benchmark-master\n        bash cis_ubuntu2204.sh \u003e {{ scan_results_dir }}/cis-scan-{{ inventory_hostname }}.txt\n      args:\n        creates: \"{{ scan_results_dir }}/cis-scan-{{ inventory_hostname }}.txt\"\n\n    # Lynis security audit\n    - name: Install Lynis\n      package:\n        name: lynis\n        state: present\n\n    - name: Run Lynis security audit\n      command: lynis audit system --quiet --cronjob\n      register: lynis_result\n      changed_when: false\n\n    - name: Save Lynis results\n      copy:\n        content: \"{{ lynis_result.stdout }}\"\n        dest: \"{{ scan_results_dir }}/lynis-scan-{{ inventory_hostname }}.txt\"\n        mode: '0644'\n\n    # OpenSCAP compliance scanning\n    - name: Install OpenSCAP (RHEL/CentOS)\n      package:\n        name:\n          - openscap-scanner\n          - scap-security-guide\n        state: present\n      when: ansible_os_family == \"RedHat\"\n\n    - name: Install OpenSCAP (Debian/Ubuntu)\n      package:\n        name:\n          - libopenscap8\n          - ssg-debian\n        state: present\n      when: ansible_os_family == \"Debian\"\n\n    - name: Run OpenSCAP scan\n      shell: |\n        oscap xccdf eval --profile xccdf_org.ssgproject.content_profile_standard \\\n          --results {{ scan_results_dir }}/oscap-results-{{ inventory_hostname }}.xml \\\n          --report {{ scan_results_dir }}/oscap-report-{{ inventory_hostname }}.html \\\n          /usr/share/xml/scap/ssg/content/ssg-{{ ansible_distribution | lower }}{{ ansible_distribution_major_version }}-xccdf.xml\n      ignore_errors: yes\n      when: ansible_os_family in [\"RedHat\", \"Debian\"]\n\n    # Vulnerability scanning with Trivy\n    - name: Install Trivy vulnerability scanner\n      shell: |\n        curl -sfL https://raw.githubusercontent.com/aquasecurity/trivy/main/contrib/install.sh | sh -s -- -b /usr/local/bin\n      args:\n        creates: /usr/local/bin/trivy\n\n    - name: Run Trivy filesystem scan\n      shell: |\n        trivy fs --format json --output {{ scan_results_dir }}/trivy-scan-{{ inventory_hostname }}.json /\n      ignore_errors: yes\n\n    # Collect scan results\n    - name: Fetch scan results to control machine\n      fetch:\n        src: \"{{ item }}\"\n        dest: \"./security-reports/{{ inventory_hostname }}/\"\n        flat: yes\n      loop:\n        - \"{{ scan_results_dir }}/cis-scan-{{ inventory_hostname }}.txt\"\n        - \"{{ scan_results_dir }}/lynis-scan-{{ inventory_hostname }}.txt\"\n        - \"{{ scan_results_dir }}/oscap-report-{{ inventory_hostname }}.html\"\n        - \"{{ scan_results_dir }}/trivy-scan-{{ inventory_hostname }}.json\"\n      ignore_errors: yes\n      delegate_to: localhost\n\n  post_tasks:\n    - name: Generate compliance summary\n      template:\n        src: templates/compliance-summary.j2\n        dest: \"{{ scan_results_dir }}/compliance-summary-{{ inventory_hostname }}.txt\"\n        mode: '0644'\nEOF\n```\n\n### Ansible AWX/Tower Integration\n```bash\n# Install Ansible AWX (open source)\ncat \u003e playbooks/install-awx.yml \u003c\u003cEOF\n---\n- name: Install Ansible AWX\n  hosts: localhost\n  connection: local\n  become: yes\n  vars:\n    awx_namespace: awx\n    awx_admin_user: admin\n    awx_admin_password: \"{{ vault_awx_admin_password }}\"\n\n  tasks:\n    - name: Install prerequisite packages\n      package:\n        name:\n          - git\n          - curl\n          - docker.io\n          - docker-compose\n        state: present\n\n    - name: Clone AWX repository\n      git:\n        repo: https://github.com/ansible/awx.git\n        dest: /opt/awx\n        version: devel\n\n    - name: Create AWX Docker inventory\n      template:\n        src: templates/awx-docker-inventory.j2\n        dest: /opt/awx/installer/inventory\n        mode: '0644'\n\n    - name: Install AWX using Ansible\n      shell: ansible-playbook -i inventory install.yml\n      args:\n        chdir: /opt/awx/installer\n      environment:\n        ANSIBLE_HOST_KEY_CHECKING: False\n\n    - name: Wait for AWX to be ready\n      uri:\n        url: \"http://localhost:80/api/v2/ping/\"\n        method: GET\n      retries: 30\n      delay: 10\n\n    - name: Configure AWX organizations and projects\n      uri:\n        url: \"http://localhost:80/api/v2/organizations/\"\n        method: POST\n        user: \"{{ awx_admin_user }}\"\n        password: \"{{ awx_admin_password }}\"\n        force_basic_auth: yes\n        body_format: json\n        body:\n          name: \"Production\"\n          description: \"Production environment organization\"\n        status_code: [200, 201, 409]\nEOF\n```\n\n## Multi-Cloud Automation\n\n### AWS Infrastructure Automation\n```bash\ncat \u003e playbooks/aws-infrastructure.yml \u003c\u003cEOF\n---\n- name: AWS Infrastructure Automation\n  hosts: localhost\n  connection: local\n  gather_facts: no\n  vars:\n    aws_region: \"{{ aws_region | default('us-west-2') }}\"\n    vpc_cidr: \"{{ vpc_cidr | default('10.0.0.0/16') }}\"\n    environment: \"{{ environment | default('production') }}\"\n\n  tasks:\n    # VPC Creation\n    - name: Create VPC\n      amazon.aws.ec2_vpc_info:\n        filters:\n          \"tag:Name\": \"{{ environment }}-vpc\"\n        region: \"{{ aws_region }}\"\n      register: existing_vpc\n\n    - name: Create new VPC if not exists\n      amazon.aws.ec2_vpc_net:\n        name: \"{{ environment }}-vpc\"\n        cidr_block: \"{{ vpc_cidr }}\"\n        region: \"{{ aws_region }}\"\n        state: present\n        dns_hostnames: yes\n        dns_support: yes\n        tags:\n          Environment: \"{{ environment }}\"\n          ManagedBy: ansible\n      register: vpc\n      when: existing_vpc.vpcs | length == 0\n\n    # Security Groups\n    - name: Create web security group\n      amazon.aws.ec2_group:\n        name: \"{{ environment }}-web-sg\"\n        description: \"Security group for web servers\"\n        vpc_id: \"{{ vpc.vpc.id if vpc.vpc is defined else existing_vpc.vpcs[0].vpc_id }}\"\n        region: \"{{ aws_region }}\"\n        rules:\n          - proto: tcp\n            ports:\n              - 80\n              - 443\n            cidr_ip: 0.0.0.0/0\n            rule_desc: \"HTTP and HTTPS access\"\n          - proto: tcp\n            ports:\n              - 22\n            group_id: \"{{ environment }}-bastion-sg\"\n            rule_desc: \"SSH from bastion\"\n        tags:\n          Environment: \"{{ environment }}\"\n\n    # Launch EC2 instances\n    - name: Launch web servers\n      amazon.aws.ec2_instance:\n        name: \"{{ environment }}-web-{{ item }}\"\n        instance_type: t3.medium\n        image_id: ami-0c02fb55956c7d316  # Amazon Linux 2\n        key_name: \"{{ ec2_key_name }}\"\n        vpc_subnet_id: \"{{ web_subnet_id }}\"\n        security_groups:\n          - \"{{ environment }}-web-sg\"\n        region: \"{{ aws_region }}\"\n        state: running\n        wait: yes\n        wait_timeout: 300\n        user_data: |\n          #!/bin/bash\n          yum update -y\n          yum install -y python3\n        tags:\n          Environment: \"{{ environment }}\"\n          Role: webserver\n          Ansible: managed\n      loop: \"{{ range(1, web_server_count + 1) | list }}\"\n      register: web_instances\n\n    # Add instances to inventory\n    - name: Add web servers to inventory\n      add_host:\n        name: \"{{ item.instances[0].tags.Name }}\"\n        hostname: \"{{ item.instances[0].public_ip_address }}\"\n        groups: webservers\n        ansible_ssh_private_key_file: \"~/.ssh/{{ ec2_key_name }}.pem\"\n        ansible_user: ec2-user\n      loop: \"{{ web_instances.results }}\"\n      changed_when: false\nEOF\n```\n\n### Kubernetes Cluster Management\n```bash\ncat \u003e playbooks/k8s-cluster-management.yml \u003c\u003cEOF\n---\n- name: Kubernetes Cluster Management with Ansible\n  hosts: k8s_masters\n  become: yes\n  serial: 1\n  vars:\n    k8s_version: \"1.28.2\"\n    containerd_version: \"1.6.24\"\n    cni_version: \"1.3.0\"\n\n  tasks:\n    # Pre-flight checks\n    - name: Check system requirements\n      assert:\n        that:\n          - ansible_memtotal_mb \u003e= 1700\n          - ansible_processor_cores \u003e= 2\n        fail_msg: \"System doesn't meet minimum requirements\"\n\n    - name: Verify connectivity to all nodes\n      ping:\n      delegate_to: \"{{ item }}\"\n      loop: \"{{ groups['k8s_all'] }}\"\n\n    # Container runtime setup\n    - name: Install containerd\n      include_role:\n        name: containerd\n      vars:\n        containerd_version: \"{{ containerd_version }}\"\n\n    # Kubernetes installation\n    - name: Install Kubernetes components\n      include_role:\n        name: kubernetes\n      vars:\n        kubernetes_version: \"{{ k8s_version }}\"\n\n    # Cluster initialization\n    - name: Initialize Kubernetes cluster\n      shell: |\n        kubeadm init \\\n          --pod-network-cidr=10.244.0.0/16 \\\n          --service-cidr=10.96.0.0/12 \\\n          --apiserver-advertise-address={{ ansible_default_ipv4.address }} \\\n          --node-name={{ inventory_hostname }}\n      args:\n        creates: /etc/kubernetes/admin.conf\n      register: kubeadm_init\n\n    - name: Create .kube directory\n      file:\n        path: \"{{ ansible_env.HOME }}/.kube\"\n        state: directory\n        mode: '0755'\n\n    - name: Copy admin.conf to user's kube config\n      copy:\n        src: /etc/kubernetes/admin.conf\n        dest: \"{{ ansible_env.HOME }}/.kube/config\"\n        owner: \"{{ ansible_user }}\"\n        group: \"{{ ansible_user }}\"\n        mode: '0644'\n        remote_src: yes\n\n    # Network plugin installation\n    - name: Install Flannel CNI\n      shell: kubectl apply -f https://github.com/flannel-io/flannel/releases/latest/download/kube-flannel.yml\n      environment:\n        KUBECONFIG: \"{{ ansible_env.HOME }}/.kube/config\"\n\n    # Join worker nodes\n    - name: Get join command\n      shell: kubeadm token create --print-join-command\n      register: join_command\n      when: inventory_hostname in groups['k8s_masters'][0]\n\n    - name: Join worker nodes to cluster\n      shell: \"{{ hostvars[groups['k8s_masters'][0]]['join_command'].stdout }}\"\n      when: inventory_hostname in groups['k8s_workers']\n\n  post_tasks:\n    - name: Verify cluster status\n      shell: kubectl get nodes\n      environment:\n        KUBECONFIG: \"{{ ansible_env.HOME }}/.kube/config\"\n      register: cluster_status\n      when: inventory_hostname in groups['k8s_masters'][0]\n\n    - name: Display cluster status\n      debug:\n        var: cluster_status.stdout_lines\n      when: inventory_hostname in groups['k8s_masters'][0]\nEOF\n```\n\n## Performance Optimization and Scaling\n\n### Parallel Execution Strategies\n```bash\n# Create high-performance playbook configuration\ncat \u003e playbooks/high-performance-deployment.yml \u003c\u003cEOF\n---\n- name: High-Performance Deployment\n  hosts: all\n  become: yes\n  strategy: free  # Parallel execution\n  serial: \"30%\"   # Process 30% of hosts at a time\n  max_fail_percentage: 10\n  gather_facts: yes\n  fact_caching: smart\n  vars:\n    deployment_batch_size: 10\n    max_concurrent_tasks: 50\n\n  pre_tasks:\n    - name: Check system load\n      shell: uptime | awk '{print $(NF-2)}' | sed 's/,//'\n      register: system_load\n      changed_when: false\n\n    - name: Skip high-load systems\n      meta: end_host\n      when: system_load.stdout | float \u003e 5.0\n\n  tasks:\n    - name: Update packages with retries\n      package:\n        name: \"*\"\n        state: latest\n      retries: 3\n      delay: 30\n      async: 300\n      poll: 10\n\n    - name: Deploy configuration files in parallel\n      template:\n        src: \"{{ item.src }}\"\n        dest: \"{{ item.dest }}\"\n        mode: \"{{ item.mode | default('0644') }}\"\n        backup: yes\n      loop:\n        - { src: \"nginx.conf.j2\", dest: \"/etc/nginx/nginx.conf\" }\n        - { src: \"mysql.cnf.j2\", dest: \"/etc/mysql/my.cnf\" }\n        - { src: \"redis.conf.j2\", dest: \"/etc/redis/redis.conf\" }\n      async: 120\n      poll: 5\n      register: config_deployment\n\n    - name: Wait for all configuration deployments\n      async_status:\n        jid: \"{{ item.ansible_job_id }}\"\n      loop: \"{{ config_deployment.results }}\"\n      when: item.ansible_job_id is defined\n\n  handlers:\n    - name: restart services\n      service:\n        name: \"{{ item }}\"\n        state: restarted\n      loop:\n        - nginx\n        - mysql\n        - redis\n      listen: \"restart all services\"\nEOF\n\n# Performance monitoring playbook\ncat \u003e playbooks/performance-monitoring.yml \u003c\u003cEOF\n---\n- name: Performance Monitoring Setup\n  hosts: all\n  become: yes\n  vars:\n    monitoring_tools:\n      - htop\n      - iotop\n      - nethogs\n      - dstat\n      - sysstat\n      - perf\n\n  tasks:\n    - name: Install performance monitoring tools\n      package:\n        name: \"{{ monitoring_tools }}\"\n        state: present\n\n    - name: Configure system monitoring\n      template:\n        src: templates/sysstat.j2\n        dest: /etc/default/sysstat\n        backup: yes\n      when: ansible_os_family == \"Debian\"\n\n    - name: Enable system statistics collection\n      service:\n        name: \"{{ 'sysstat' if ansible_os_family == 'Debian' else 'sysstat' }}\"\n        enabled: yes\n        state: started\n\n    - name: Create performance monitoring script\n      template:\n        src: templates/performance-monitor.sh.j2\n        dest: /usr/local/bin/performance-monitor.sh\n        mode: '0755'\n\n    - name: Schedule performance monitoring\n      cron:\n        name: \"Performance monitoring\"\n        minute: \"*/5\"\n        job: \"/usr/local/bin/performance-monitor.sh\"\n        user: root\nEOF\n```\n\n## Testing and Validation\n\n### Molecule Testing Framework\n```bash\n# Install Molecule for role testing\npip install molecule[docker] molecule[vagrant] molecule[libvirt]\n\n# Initialize Molecule in role directory\ncd roles/nginx\nmolecule init scenario --driver-name docker\n\n# Create molecule configuration\ncat \u003e molecule/default/molecule.yml \u003c\u003cEOF\n---\ndependency:\n  name: galaxy\ndriver:\n  name: docker\nplatforms:\n  - name: nginx-ubuntu\n    image: ubuntu:22.04\n    pre_build_image: true\n    privileged: true\n    volumes:\n      - /sys/fs/cgroup:/sys/fs/cgroup:ro\n    command: /lib/systemd/systemd\n    networks:\n      - name: molecule\n  - name: nginx-centos\n    image: centos:8\n    pre_build_image: true\n    privileged: true\n    volumes:\n      - /sys/fs/cgroup:/sys/fs/cgroup:ro\n    command: /usr/sbin/init\n    networks:\n      - name: molecule\nprovisioner:\n  name: ansible\n  config_options:\n    defaults:\n      callbacks_enabled: profile_tasks,timer,yaml\n  inventory:\n    host_vars:\n      nginx-ubuntu:\n        ansible_python_interpreter: /usr/bin/python3\n      nginx-centos:\n        ansible_python_interpreter: /usr/bin/python3\nverifier:\n  name: ansible\nlint: |\n  set -e\n  yamllint .\n  ansible-lint\n  flake8\nEOF\n\n# Create test playbook\ncat \u003e molecule/default/converge.yml \u003c\u003cEOF\n---\n- name: Converge\n  hosts: all\n  become: true\n  tasks:\n    - name: \"Include nginx role\"\n      include_role:\n        name: nginx\n      vars:\n        nginx_vhosts:\n          - name: default\n            server_name: localhost\n            listen: 80\n            root: /var/www/html\n            enabled: true\nEOF\n\n# Create test verification\ncat \u003e molecule/default/verify.yml \u003c\u003cEOF\n---\n- name: Verify\n  hosts: all\n  gather_facts: false\n  tasks:\n    - name: Check if NGINX is running\n      uri:\n        url: http://localhost\n        method: GET\n      register: nginx_check\n\n    - name: Verify NGINX is responding\n      assert:\n        that:\n          - nginx_check.status == 200\n        fail_msg: \"NGINX is not responding correctly\"\n\n    - name: Check NGINX configuration\n      shell: nginx -t\n      changed_when: false\n\n    - name: Verify NGINX process\n      shell: pgrep nginx\n      changed_when: false\nEOF\n\n# Run tests\nmolecule test\n```\n\n### Ansible Lint and Security Scanning\n```bash\n# Install Ansible Lint\npip install ansible-lint\n\n# Create .ansible-lint configuration\ncat \u003e .ansible-lint \u003c\u003cEOF\n---\nprofile: production\n\nexclude_paths:\n  - .cache/\n  - .github/\n  - molecule/\n  - .venv/\n\nskip_list:\n  - yaml[line-length]  # Allow longer lines for readability\n\nwarn_list:\n  - experimental  # Warn about experimental features\n\n# Custom rules\nrules:\n  braces:\n    min-spaces-inside: 0\n    max-spaces-inside: 1\n  brackets:\n    min-spaces-inside: 0\n    max-spaces-inside: 0\n  colons:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  commas:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  comments:\n    min-spaces-from-content: 1\n  document-start: disable\n  empty-lines:\n    max: 2\n    max-start: 0\n    max-end: 1\n  hyphens:\n    max-spaces-after: 1\n  indentation:\n    spaces: 2\n    indent-sequences: true\n  line-length:\n    max: 120\n  new-line-at-end-of-file: enable\n  trailing-spaces: enable\n  truthy:\n    allowed-values: ['true', 'false', 'yes', 'no']\nEOF\n\n# Create security-focused playbook linting\ncat \u003e .yamllint \u003c\u003cEOF\n---\nextends: default\n\nrules:\n  braces:\n    min-spaces-inside: 0\n    max-spaces-inside: 1\n  brackets:\n    min-spaces-inside: 0\n    max-spaces-inside: 0\n  colons:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  commas:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  comments: disable\n  comments-indentation: disable\n  document-start: disable\n  empty-lines:\n    max: 2\n    max-start: 0\n    max-end: 1\n  hyphens:\n    max-spaces-after: 1\n  indentation:\n    spaces: 2\n    indent-sequences: true\n    check-multi-line-strings: false\n  key-duplicates: enable\n  line-length:\n    max: 120\n  new-line-at-end-of-file: enable\n  octal-values:\n    forbid-implicit-octal: true\n  trailing-spaces: enable\n  truthy: disable\nEOF\n\n# Run linting\nansible-lint playbooks/\nyamllint .\n```\n\n## Backup and Disaster Recovery\n\n### Comprehensive Backup Automation\n```bash\ncat \u003e playbooks/backup-automation.yml \u003c\u003cEOF\n---\n- name: Automated Backup System\n  hosts: all\n  become: yes\n  vars:\n    backup_root: /backup\n    backup_retention_days: 30\n    backup_schedule:\n      databases: \"0 2 * * *\"\n      files: \"0 3 * * *\"\n      configs: \"0 4 * * *\"\n\n  tasks:\n    - name: Create backup directories\n      file:\n        path: \"{{ backup_root }}/{{ item }}\"\n        state: directory\n        mode: '0755'\n        owner: root\n        group: root\n      loop:\n        - databases\n        - files\n        - configs\n        - logs\n\n    # Database backups\n    - name: Create database backup script\n      template:\n        src: templates/mysql-backup.sh.j2\n        dest: /usr/local/bin/mysql-backup.sh\n        mode: '0755'\n      when: \"'dbservers' in group_names\"\n\n    - name: Schedule database backups\n      cron:\n        name: \"MySQL backup\"\n        minute: \"0\"\n        hour: \"2\"\n        job: \"/usr/local/bin/mysql-backup.sh\"\n        user: root\n      when: \"'dbservers' in group_names\"\n\n    # File system backups\n    - name: Create file backup script\n      template:\n        src: templates/file-backup.sh.j2\n        dest: /usr/local/bin/file-backup.sh\n        mode: '0755'\n\n    - name: Schedule file backups\n      cron:\n        name: \"File system backup\"\n        minute: \"0\"\n        hour: \"3\"\n        job: \"/usr/local/bin/file-backup.sh\"\n        user: root\n\n    # Configuration backups\n    - name: Backup system configurations\n      archive:\n        path:\n          - /etc/nginx\n          - /etc/mysql\n          - /etc/systemd/system\n          - /etc/crontab\n          - /etc/hosts\n          - /etc/fstab\n        dest: \"{{ backup_root }}/configs/system-config-{{ ansible_date_time.epoch }}.tar.gz\"\n        mode: '0600'\n\n    # Remote backup synchronization\n    - name: Synchronize backups to remote storage\n      synchronize:\n        src: \"{{ backup_root }}/\"\n        dest: \"backup-server.example.com:{{ backup_root }}/{{ inventory_hostname }}/\"\n        delete: yes\n        rsync_opts:\n          - \"--exclude=*.tmp\"\n          - \"--compress\"\n          - \"--archive\"\n      when: backup_remote_sync | default(true)\n\n    # Cleanup old backups\n    - name: Clean up old backup files\n      find:\n        paths: \"{{ backup_root }}\"\n        age: \"{{ backup_retention_days }}d\"\n        file_type: file\n      register: old_backups\n\n    - name: Remove old backup files\n      file:\n        path: \"{{ item.path }}\"\n        state: absent\n      loop: \"{{ old_backups.files }}\"\nEOF\n```\n\n## Verification and Monitoring\n\n### Cross-Platform System Verification\n```bash\n# Create comprehensive verification playbook\ncat \u003e playbooks/system-verification.yml \u003c\u003cEOF\n---\n- name: System Verification and Health Check\n  hosts: all\n  become: yes\n  gather_facts: yes\n  vars:\n    health_checks:\n      - service: nginx\n        port: 80\n        process: nginx\n      - service: mysql\n        port: 3306\n        process: mysqld\n      - service: redis\n        port: 6379\n        process: redis-server\n\n  tasks:\n    # System information gathering\n    - name: Gather system information\n      setup:\n        gather_subset:\n          - all\n          - !facter\n          - !ohai\n\n    # Service verification\n    - name: Check critical services status\n      service_facts:\n\n    - name: Verify services are running\n      assert:\n        that:\n          - \"ansible_facts.services[item.service + '.service'].state == 'running'\"\n        fail_msg: \"Service {{ item.service }} is not running\"\n        success_msg: \"Service {{ item.service }} is healthy\"\n      loop: \"{{ health_checks }}\"\n      when: \"item.service + '.service' in ansible_facts.services\"\n\n    # Network connectivity tests\n    - name: Test network connectivity\n      wait_for:\n        host: \"{{ item.host }}\"\n        port: \"{{ item.port }}\"\n        timeout: 5\n      loop:\n        - { host: \"8.8.8.8\", port: 53 }\n        - { host: \"1.1.1.1\", port: 53 }\n      ignore_errors: yes\n\n    # Disk space monitoring\n    - name: Check disk space usage\n      shell: df -h | awk '$5 \u003e \"85%\" {print $0}'\n      register: disk_usage\n      changed_when: false\n      failed_when: disk_usage.stdout != \"\"\n\n    # Memory usage check\n    - name: Check memory usage\n      shell: free | grep Mem | awk '{printf \"%.0f\", $3/$2 * 100.0}'\n      register: memory_usage\n      changed_when: false\n\n    - name: Alert on high memory usage\n      debug:\n        msg: \"WARNING: Memory usage is {{ memory_usage.stdout }}%\"\n      when: memory_usage.stdout | int \u003e 85\n\n    # Security verification\n    - name: Check for failed login attempts\n      shell: grep \"Failed password\" /var/log/auth.log | tail -10\n      register: failed_logins\n      changed_when: false\n      ignore_errors: yes\n      when: ansible_os_family == \"Debian\"\n\n    - name: Check firewall status\n      shell: |\n        if command -v ufw \u003e/dev/null 2\u003e\u00261; then\n          ufw status\n        elif command -v firewall-cmd \u003e/dev/null 2\u003e\u00261; then\n          firewall-cmd --state\n        else\n          echo \"No supported firewall found\"\n        fi\n      register: firewall_status\n      changed_when: false\n\n  post_tasks:\n    - name: Generate system health report\n      template:\n        src: templates/health-report.j2\n        dest: \"/tmp/health-report-{{ inventory_hostname }}-{{ ansible_date_time.epoch }}.txt\"\n        mode: '0644'\n\n    - name: Fetch health reports\n      fetch:\n        src: \"/tmp/health-report-{{ inventory_hostname }}-{{ ansible_date_time.epoch }}.txt\"\n        dest: \"./reports/\"\n        flat: yes\nEOF\n```\n\n### Continuous Compliance Monitoring\n```bash\ncat \u003e playbooks/compliance-monitoring.yml \u003c\u003cEOF\n---\n- name: Continuous Compliance Monitoring\n  hosts: all\n  become: yes\n  vars:\n    compliance_standards:\n      - cis\n      - pci_dss\n      - soc2\n      - hipaa\n    \n    audit_log_paths:\n      - /var/log/auth.log\n      - /var/log/syslog\n      - /var/log/audit/audit.log\n\n  tasks:\n    # Install audit tools\n    - name: Install audit daemon\n      package:\n        name: \"{{ 'auditd' if ansible_os_family == 'RedHat' else 'auditd' }}\"\n        state: present\n\n    - name: Configure audit rules\n      template:\n        src: templates/audit.rules.j2\n        dest: /etc/audit/rules.d/audit.rules\n        backup: yes\n      notify: restart auditd\n\n    # CIS compliance checks\n    - name: Run CIS benchmark checks\n      shell: |\n        if [ -f /opt/cis-cat/CIS-CAT.sh ]; then\n          /opt/cis-cat/CIS-CAT.sh -b /opt/cis-cat/benchmarks/\n        else\n          echo \"CIS-CAT not installed, skipping\"\n        fi\n      register: cis_results\n      ignore_errors: yes\n\n    # File integrity monitoring\n    - name: Install AIDE\n      package:\n        name: aide\n        state: present\n\n    - name: Initialize AIDE database\n      shell: |\n        aide --init\n        mv /var/lib/aide/aide.db.new /var/lib/aide/aide.db\n      args:\n        creates: /var/lib/aide/aide.db\n\n    - name: Schedule AIDE integrity checks\n      cron:\n        name: \"AIDE integrity check\"\n        minute: \"0\"\n        hour: \"3\"\n        job: \"/usr/bin/aide --check | mail -s 'AIDE Report' security@example.com\"\n        user: root\n\n    # Log monitoring\n    - name: Install log monitoring tools\n      package:\n        name:\n          - logwatch\n          - rsyslog\n        state: present\n\n    - name: Configure centralized logging\n      template:\n        src: templates/rsyslog.conf.j2\n        dest: /etc/rsyslog.conf\n        backup: yes\n      notify: restart rsyslog\n\n  handlers:\n    - name: restart auditd\n      service:\n        name: auditd\n        state: restarted\n\n    - name: restart rsyslog\n      service:\n        name: rsyslog\n        state: restarted\nEOF\n```\n\n## CI/CD Integration\n\n### Jenkins Pipeline Integration\n```bash\n# Create Jenkinsfile for Ansible automation\ncat \u003e Jenkinsfile \u003c\u003cEOF\npipeline {\n    agent any\n    \n    environment {\n        ANSIBLE_CONFIG = 'ansible.cfg'\n        ANSIBLE_HOST_KEY_CHECKING = 'False'\n    }\n    \n    stages {\n        stage('Lint') {\n            steps {\n                sh 'ansible-lint playbooks/'\n                sh 'yamllint .'\n            }\n        }\n        \n        stage('Syntax Check') {\n            steps {\n                sh 'ansible-playbook playbooks/site.yml --syntax-check'\n            }\n        }\n        \n        stage('Dry Run') {\n            steps {\n                sh 'ansible-playbook playbooks/site.yml --check --diff'\n            }\n        }\n        \n        stage('Deploy to Staging') {\n            when {\n                branch 'develop'\n            }\n            steps {\n                sh 'ansible-playbook -i inventories/staging playbooks/site.yml'\n            }\n        }\n        \n        stage('Deploy to Production') {\n            when {\n                branch 'main'\n            }\n            steps {\n                input 'Deploy to Production?'\n                sh 'ansible-playbook -i inventories/production playbooks/site.yml'\n            }\n        }\n        \n        stage('Verify Deployment') {\n            steps {\n                sh 'ansible-playbook playbooks/system-verification.yml'\n            }\n        }\n    }\n    \n    post {\n        always {\n            archiveArtifacts artifacts: 'logs/*.log', allowEmptyArchive: true\n            publishHTML([\n                allowMissing: false,\n                alwaysLinkToLastBuild: true,\n                keepAll: true,\n                reportDir: 'reports',\n                reportFiles: '*.html',\n                reportName: 'Ansible Report'\n            ])\n        }\n        failure {\n            emailext (\n                subject: \"Failed Pipeline: ${env.JOB_NAME} - ${env.BUILD_NUMBER}\",\n                body: \"Something is wrong with ${env.BUILD_URL}\",\n                to: \"${env.DEFAULT_RECIPIENTS}\"\n            )\n        }\n    }\n}\nEOF\n```\n\n### GitLab CI Integration\n```bash\ncat \u003e .gitlab-ci.yml \u003c\u003cEOF\nstages:\n  - lint\n  - test\n  - deploy-staging\n  - deploy-production\n\nvariables:\n  ANSIBLE_CONFIG: ansible.cfg\n  ANSIBLE_HOST_KEY_CHECKING: \"False\"\n\nbefore_script:\n  - pip install ansible ansible-lint yamllint\n  - ansible-galaxy install -r requirements.yml\n\nlint:\n  stage: lint\n  script:\n    - ansible-lint playbooks/\n    - yamllint .\n  rules:\n    - if: '$CI_MERGE_REQUEST_IID'\n    - if: '$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH'\n\nsyntax-check:\n  stage: test\n  script:\n    - ansible-playbook playbooks/site.yml --syntax-check\n    - ansible-playbook playbooks/site.yml --check --diff -i inventories/staging\n  rules:\n    - if: '$CI_MERGE_REQUEST_IID'\n    - if: '$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH'\n\ndeploy-staging:\n  stage: deploy-staging\n  script:\n    - ansible-playbook -i inventories/staging playbooks/site.yml\n  rules:\n    - if: '$CI_COMMIT_BRANCH == \"develop\"'\n\ndeploy-production:\n  stage: deploy-production\n  script:\n    - ansible-playbook -i inventories/production playbooks/site.yml\n  rules:\n    - if: '$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH'\n      when: manual\n  environment:\n    name: production\n    url: https://production.example.com\nEOF\n```\n\n## Troubleshooting (Cross-Platform)\n\n### Common Issues and Solutions\n```bash\n# Debug connection issues\nansible all -m ping -vvv\n\n# Check SSH connectivity\nansible all -m setup --ask-pass --ask-become-pass\n\n# Verify inventory\nansible-inventory --list\nansible-inventory --graph\n\n# Test specific host\nansible target-host -m command -a \"uptime\"\n\n# Check syntax without execution\nansible-playbook playbooks/site.yml --syntax-check\n\n# Dry run with verbose output\nansible-playbook playbooks/site.yml --check --diff -vvv\n\n# Debug variable resolution\nansible-playbook playbooks/site.yml --extra-vars=\"debug=true\" --tags debug\n\n# Check facts\nansible all -m setup | grep ansible_os_family\n\n# Connection troubleshooting\nssh -vvv user@target-host\n\n# Permission issues\nansible all -m file -a \"path=/tmp/test state=touch\" --become\n\n# Vault issues\nansible-vault view group_vars/all/vault.yml\n\n# Performance debugging\nansible-playbook playbooks/site.yml --start-at-task=\"specific task name\"\nansible-playbook playbooks/site.yml --step\n\n# Module testing\nansible localhost -m debug -a \"var=hostvars\"\nansible localhost -m setup\n\n# Check for syntax errors in roles\nfind roles/ -name \"*.yml\" -exec ansible-playbook {} --syntax-check \\;\n```\n\n### Advanced Debugging\n```bash\n# Enable comprehensive logging\nexport ANSIBLE_DEBUG=1\nexport ANSIBLE_VERBOSITY=4\nansible-playbook playbooks/site.yml\n\n# Profile playbook execution\nansible-playbook playbooks/site.yml --extra-vars=\"profile_tasks_sort_order=none\"\n\n# Memory usage analysis\nansible-playbook playbooks/site.yml --extra-vars=\"ansible_python_interpreter=/usr/bin/python3\"\n\n# Network debugging\nansible all -m command -a \"ss -tulpn\"\nansible all -m command -a \"netstat -rn\"\n\n# Process debugging\nansible all -m command -a \"ps aux --sort=-%mem | head -10\"\n\n# Disk usage analysis\nansible all -m command -a \"df -h\"\nansible all -m command -a \"du -sh /var/log/*\"\n\n# Service debugging\nansible all -m systemd -a \"name=nginx\" --become\nansible all -m command -a \"systemctl status nginx\" --become\n\n# Variable debugging\nansible-playbook playbooks/site.yml --extra-vars=\"debug_vars=true\" --tags debug_vars\n```\n\n## Additional Resources\n\n- [Official Documentation](https://docs.ansible.com/)\n- [Ansible Galaxy](https://galaxy.ansible.com/)\n- [Best Practices Guide](https://docs.ansible.com/ansible/latest/user_guide/playbooks_best_practices.html)\n- [Security Best Practices](https://docs.ansible.com/ansible/latest/user_guide/become.html#security-best-practices)\n- [Ansible Molecule Testing](https://molecule.readthedocs.io/)\n- [Community Collections](https://docs.ansible.com/ansible/latest/collections/index.html)\n\n---\n\n**Note:** This guide is part of the [HowToMgr](https://howtomgr.github.io) collection.","readmeHtml":"\u003ch1 id=\"ansible-installation-guide\" class=\"mobile-header\"\u003eAnsible Installation Guide\u003c/h1\u003e\n\u003cp class=\"mobile-paragraph\"\u003eAgentless automation platform for configuration management, application deployment, and task automation across multiple systems. Industry standard for infrastructure automation with enterprise-grade security.\u003c/p\u003e\n\u003ch2 id=\"prerequisites\" class=\"mobile-header\"\u003ePrerequisites\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003eLinux control machine (any modern distribution)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePython 3.8+ on control machine\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eSSH access to target hosts\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePython 2.7+ or 3.5+ on target hosts\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e2GB RAM minimum, 4GB+ recommended for large infrastructures\u003c/li\u003e\n\u003ch2 id=\"installation\" class=\"mobile-header\"\u003eInstallation\u003c/h2\u003e\n\u003ch3 id=\"using-package-manager-recommended\" class=\"mobile-header\"\u003eUsing Package Manager (Recommended)\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Ubuntu/Debian\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Update package list\nsudo apt update\n\n# Install Ansible and dependencies\nsudo apt install -y ansible python3-pip python3-venv sshpass\n\n# Install additional collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\nansible-galaxy collection install amazon.aws\nansible-galaxy collection install azure.azcollection\nansible-galaxy collection install google.cloud\n\n# Verify installation\nansible --version\nansible-galaxy collection list\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### RHEL/CentOS/Rocky Linux/AlmaLinux\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install EPEL repository\nsudo yum install -y epel-release\n\n# Install Ansible\nsudo yum install -y ansible python3-pip\n\n# For newer distributions\nsudo dnf install -y ansible python3-pip\n\n# Install collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\n\n# Verify installation\nansible --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Fedora\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Ansible\nsudo dnf install -y ansible python3-pip python3-virtualenv\n\n# Install additional collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\n\n# Verify installation\nansible --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Arch Linux\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Ansible\nsudo pacman -Syu ansible python-pip\n\n# Install collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\n\n# Verify installation\nansible --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Alpine Linux\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Ansible\nsudo apk update\nsudo apk add ansible python3 py3-pip openssh\n\n# Install collections\nansible-galaxy collection install community.general\n\n# Verify installation\nansible --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"using-pip-latest-version\" class=\"mobile-header\"\u003eUsing pip (Latest Version)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create virtual environment (recommended)\npython3 -m venv ~/ansible-venv\nsource ~/ansible-venv/bin/activate\n\n# Install Ansible via pip\npip install --upgrade pip\npip install ansible ansible-core\n\n# Install additional packages\npip install paramiko jinja2 PyYAML cryptography\n\n# Install cloud provider SDKs\npip install boto3 botocore azure-cli google-cloud-storage\n\n# Install collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\nansible-galaxy collection install amazon.aws\nansible-galaxy collection install azure.azcollection\nansible-galaxy collection install google.cloud\n\n# Add to PATH permanently\necho \u0026#039;source ~/ansible-venv/bin/activate\u0026#039; \u0026gt;\u0026gt; ~/.bashrc\n\n# Verify installation\nansible --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"using-docker\" class=\"mobile-header\"\u003eUsing Docker\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create Ansible Docker container with mounted volumes\ndocker run --rm -it \\\n  -v $(pwd):/ansible \\\n  -v ~/.ssh:/root/.ssh:ro \\\n  -v ~/.aws:/root/.aws:ro \\\n  -v ~/.azure:/root/.azure:ro \\\n  --workdir /ansible \\\n  ansible/ansible:latest\n\n# Create wrapper script for ease of use\nsudo tee /usr/local/bin/ansible-docker \u0026gt; /dev/null \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\ndocker run --rm -it \\\n  -v $(pwd):/ansible \\\n  -v ~/.ssh:/root/.ssh:ro \\\n  -v ~/.aws:/root/.aws:ro \\\n  -v ~/.azure:/root/.azure:ro \\\n  -v ~/.kube:/root/.kube:ro \\\n  --workdir /ansible \\\n  --network host \\\n  ansible/ansible:latest \u0026quot;$@\u0026quot;\nEOF\nsudo chmod +x /usr/local/bin/ansible-docker\n\n# Create aliases\necho \u0026#039;alias ansible=\u0026quot;ansible-docker ansible\u0026quot;\u0026#039; \u0026gt;\u0026gt; ~/.bashrc\necho \u0026#039;alias ansible-playbook=\u0026quot;ansible-docker ansible-playbook\u0026quot;\u0026#039; \u0026gt;\u0026gt; ~/.bashrc\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"project-structure-and-configuration\" class=\"mobile-header\"\u003eProject Structure and Configuration\u003c/h2\u003e\n\u003ch3 id=\"professional-project-structure\" class=\"mobile-header\"\u003eProfessional Project Structure\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create comprehensive Ansible project structure\nmkdir -p ~/ansible-infrastructure/{\n  inventories/{production,staging,development},\n  playbooks,\n  roles,\n  group_vars,\n  host_vars,\n  library,\n  filter_plugins,\n  callback_plugins,\n  vault,\n  collections,\n  logs\n}\n\ncd ~/ansible-infrastructure\n\n# Create ansible.cfg with security best practices\ncat \u0026gt; ansible.cfg \u0026lt;\u0026lt;EOF\n[defaults]\ninventory = inventories/production/hosts.yml\nremote_user = ansible\nprivate_key_file = ~/.ssh/ansible_key\nhost_key_checking = True\ntimeout = 30\nretry_files_enabled = False\nstdout_callback = yaml\nbin_ansible_callbacks = True\ngathering = smart\nfact_caching = jsonfile\nfact_caching_connection = ~/.ansible/facts_cache\nfact_caching_timeout = 86400\ninterpreter_python = auto_silent\nvault_password_file = ~/.ansible_vault_pass\n\n# Logging\nlog_path = logs/ansible.log\ndisplay_skipped_hosts = False\ndisplay_ok_hosts = False\n\n# Performance\nforks = 20\npoll_interval = 15\ninternal_poll_interval = 0.001\n\n# Security\ncommand_warnings = True\ndeprecation_warnings = True\naction_warnings = True\nlocalhost_warning = True\n\n[ssh_connection]\nssh_args = -o ControlMaster=auto -o ControlPersist=3600s -o PreferredAuthentications=publickey\npipelining = True\ncontrol_path = ~/.ansible/cp/%%h-%%p-%%r\nretries = 3\n\n[privilege_escalation]\nbecome = False\nbecome_method = sudo\nbecome_user = root\nbecome_ask_pass = False\n\n[inventory]\nenable_plugins = host_list, script, auto, yaml, ini, toml\ncache = True\ncache_plugin = jsonfile\ncache_timeout = 3600\ncache_connection = ~/.ansible/inventory_cache\n\n[galaxy]\nserver_list = automation_hub, galaxy\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"advanced-inventory-management\" class=\"mobile-header\"\u003eAdvanced Inventory Management\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create production inventory with groups and variables\ncat \u0026gt; inventories/production/hosts.yml \u0026lt;\u0026lt;EOF\nall:\n  children:\n    webservers:\n      hosts:\n        web-prod-01:\n          ansible_host: 10.0.1.10\n          ansible_user: ansible\n          server_role: frontend\n          backup_enabled: true\n        web-prod-02:\n          ansible_host: 10.0.1.11\n          ansible_user: ansible\n          server_role: frontend\n          backup_enabled: true\n        web-prod-03:\n          ansible_host: 10.0.1.12\n          ansible_user: ansible\n          server_role: frontend\n          backup_enabled: true\n      vars:\n        http_port: 80\n        https_port: 443\n        max_clients: 200\n        environment: production\n        monitoring_enabled: true\n\n    dbservers:\n      hosts:\n        db-prod-01:\n          ansible_host: 10.0.2.10\n          ansible_user: ansible\n          mysql_server_id: 1\n          mysql_role: master\n        db-prod-02:\n          ansible_host: 10.0.2.11\n          ansible_user: ansible\n          mysql_server_id: 2\n          mysql_role: slave\n      vars:\n        mysql_port: 3306\n        mysql_root_password: \u0026quot;{{ vault_mysql_root_password }}\u0026quot;\n        mysql_replication_user: \u0026quot;{{ vault_mysql_replication_user }}\u0026quot;\n        mysql_replication_password: \u0026quot;{{ vault_mysql_replication_password }}\u0026quot;\n\n    loadbalancers:\n      hosts:\n        lb-prod-01:\n          ansible_host: 10.0.3.10\n          ansible_user: ansible\n          lb_algorithm: roundrobin\n        lb-prod-02:\n          ansible_host: 10.0.3.11\n          ansible_user: ansible\n          lb_algorithm: roundrobin\n      vars:\n        haproxy_stats_enabled: true\n        haproxy_stats_user: admin\n        haproxy_stats_password: \u0026quot;{{ vault_haproxy_stats_password }}\u0026quot;\n\n    monitoring:\n      hosts:\n        monitor-prod-01:\n          ansible_host: 10.0.4.10\n          ansible_user: ansible\n          prometheus_retention: 30d\n          grafana_admin_password: \u0026quot;{{ vault_grafana_admin_password }}\u0026quot;\n\n    bastion:\n      hosts:\n        bastion-prod-01:\n          ansible_host: bastion.example.com\n          ansible_user: ansible\n          ansible_port: 22\n\n# Global variables for all hosts\nwebservers:\n  vars:\n    nginx_worker_processes: auto\n    nginx_worker_connections: 1024\n    ssl_certificate_path: /etc/ssl/certs\n    backup_schedule: \u0026quot;0 2 * * *\u0026quot;\n\ndbservers:\n  vars:\n    mysql_innodb_buffer_pool_size: 2G\n    mysql_max_connections: 200\n    backup_schedule: \u0026quot;0 1 * * *\u0026quot;\n    monitoring_enabled: true\nEOF\n\n# Create dynamic inventory script for cloud environments\ncat \u0026gt; inventories/production/aws_ec2.yml \u0026lt;\u0026lt;EOF\nplugin: amazon.aws.aws_ec2\nregions:\n  - us-west-2\n  - us-east-1\nfilters:\n  tag:Environment: production\n  tag:Ansible: managed\n  instance-state-name: running\n\nhostnames:\n  - tag:Name\n  - dns-name\n  - private-ip-address\n\ncompose:\n  ansible_host: private_ip_address\n  ec2_state: ec2_state_name\n  ec2_arch: ec2_architecture\n\ngroups:\n  # Group by instance type\n  webservers: \u0026quot;\u0026#039;web\u0026#039; in tags.Role\u0026quot;\n  databases: \u0026quot;\u0026#039;db\u0026#039; in tags.Role\u0026quot;\n  loadbalancers: \u0026quot;\u0026#039;lb\u0026#039; in tags.Role\u0026quot;\n  \n  # Group by environment\n  production: \u0026quot;tags.Environment == \u0026#039;production\u0026#039;\u0026quot;\n  staging: \u0026quot;tags.Environment == \u0026#039;staging\u0026#039;\u0026quot;\n  \n  # Group by availability zone\n  us_west_2a: ec2_placement_availability_zone == \u0026quot;us-west-2a\u0026quot;\n  us_west_2b: ec2_placement_availability_zone == \u0026quot;us-west-2b\u0026quot;\n\nkeyed_groups:\n  # Create groups based on tags\n  - key: tags.Environment\n    prefix: env\n  - key: tags.Role  \n    prefix: role\n  - key: ec2_instance_type\n    prefix: type\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"ansible-vault-security\" class=\"mobile-header\"\u003eAnsible Vault Security\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create strong vault password\nopenssl rand -base64 32 \u0026gt; ~/.ansible_vault_pass\nchmod 600 ~/.ansible_vault_pass\n\n# Create encrypted vault file for secrets\nansible-vault create group_vars/all/vault.yml\n# Enter secure passwords and API keys:\n# vault_mysql_root_password: your_secure_mysql_password\n# vault_grafana_admin_password: your_secure_grafana_password  \n# vault_ssl_private_key: |\n#   -----BEGIN PRIVATE KEY-----\n#   your_private_key_content\n#   -----END PRIVATE KEY-----\n\n# Create non-encrypted variables file\ncat \u0026gt; group_vars/all/vars.yml \u0026lt;\u0026lt;EOF\n# Non-sensitive variables\nmysql_port: 3306\nnginx_port: 80\ngrafana_port: 3000\nprometheus_port: 9090\n\n# Reference vault variables\nmysql_root_password: \u0026quot;{{ vault_mysql_root_password }}\u0026quot;\ngrafana_admin_password: \u0026quot;{{ vault_grafana_admin_password }}\u0026quot;\n\n# SSL configuration\nssl_certificate_path: /etc/ssl/certs/server.crt\nssl_private_key_path: /etc/ssl/private/server.key\nssl_private_key_content: \u0026quot;{{ vault_ssl_private_key }}\u0026quot;\n\n# Security settings\nansible_ssh_common_args: \u0026#039;-o StrictHostKeyChecking=yes -o UserKnownHostsFile=~/.ssh/known_hosts\u0026#039;\nansible_become_method: sudo\nansible_become_user: root\nEOF\n\n# Edit vault file\nansible-vault edit group_vars/all/vault.yml\n\n# View vault file (read-only)\nansible-vault view group_vars/all/vault.yml\n\n# Change vault password\nansible-vault rekey group_vars/all/vault.yml\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"comprehensive-playbooks\" class=\"mobile-header\"\u003eComprehensive Playbooks\u003c/h2\u003e\n\u003ch3 id=\"system-hardening-playbook\" class=\"mobile-header\"\u003eSystem Hardening Playbook\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; playbooks/system-hardening.yml \u0026lt;\u0026lt;EOF\n---\n- name: System Security Hardening\n  hosts: all\n  become: yes\n  gather_facts: yes\n  vars:\n    security_packages:\n      - fail2ban\n      - ufw\n      - aide\n      - chkrootkit\n      - rkhunter\n      - clamav\n      - lynis\n    \n    disabled_services:\n      - telnet\n      - rsh\n      - rlogin\n      - tftp\n      - talk\n      - finger\n\n  pre_tasks:\n    - name: Update package cache\n      package:\n        update_cache: yes\n        cache_valid_time: 3600\n      when: ansible_os_family in [\u0026quot;Debian\u0026quot;, \u0026quot;RedHat\u0026quot;]\n\n  tasks:\n    # System updates\n    - name: Upgrade all packages\n      package:\n        name: \u0026quot;*\u0026quot;\n        state: latest\n      when: ansible_os_family == \u0026quot;RedHat\u0026quot;\n\n    - name: Upgrade all packages (Debian/Ubuntu)\n      apt:\n        upgrade: dist\n        autoremove: yes\n        autoclean: yes\n      when: ansible_os_family == \u0026quot;Debian\u0026quot;\n\n    # Install security packages\n    - name: Install security packages\n      package:\n        name: \u0026quot;{{ security_packages }}\u0026quot;\n        state: present\n\n    # User security\n    - name: Create ansible user with limited privileges\n      user:\n        name: ansible\n        groups: sudo\n        shell: /bin/bash\n        create_home: yes\n        generate_ssh_key: yes\n        ssh_key_bits: 4096\n        ssh_key_type: rsa\n\n    - name: Configure sudo for ansible user\n      lineinfile:\n        path: /etc/sudoers.d/ansible\n        line: \u0026#039;ansible ALL=(ALL) NOPASSWD:ALL\u0026#039;\n        create: yes\n        mode: \u0026#039;0440\u0026#039;\n        validate: \u0026#039;visudo -cf %s\u0026#039;\n\n    # SSH hardening\n    - name: Configure SSH security\n      lineinfile:\n        path: /etc/ssh/sshd_config\n        regexp: \u0026quot;{{ item.regexp }}\u0026quot;\n        line: \u0026quot;{{ item.line }}\u0026quot;\n        backup: yes\n      loop:\n        - { regexp: \u0026#039;^#?PermitRootLogin\u0026#039;, line: \u0026#039;PermitRootLogin no\u0026#039; }\n        - { regexp: \u0026#039;^#?PasswordAuthentication\u0026#039;, line: \u0026#039;PasswordAuthentication no\u0026#039; }\n        - { regexp: \u0026#039;^#?X11Forwarding\u0026#039;, line: \u0026#039;X11Forwarding no\u0026#039; }\n        - { regexp: \u0026#039;^#?MaxAuthTries\u0026#039;, line: \u0026#039;MaxAuthTries 3\u0026#039; }\n        - { regexp: \u0026#039;^#?ClientAliveInterval\u0026#039;, line: \u0026#039;ClientAliveInterval 300\u0026#039; }\n        - { regexp: \u0026#039;^#?ClientAliveCountMax\u0026#039;, line: \u0026#039;ClientAliveCountMax 0\u0026#039; }\n        - { regexp: \u0026#039;^#?Protocol\u0026#039;, line: \u0026#039;Protocol 2\u0026#039; }\n        - { regexp: \u0026#039;^#?LogLevel\u0026#039;, line: \u0026#039;LogLevel VERBOSE\u0026#039; }\n      notify: restart ssh\n\n    # Firewall configuration\n    - name: Configure UFW firewall (Debian/Ubuntu)\n      ufw:\n        state: enabled\n        policy: deny\n        direction: incoming\n      when: ansible_os_family == \u0026quot;Debian\u0026quot;\n\n    - name: Allow SSH through UFW\n      ufw:\n        rule: allow\n        port: 22\n        proto: tcp\n        comment: \u0026#039;SSH access\u0026#039;\n      when: ansible_os_family == \u0026quot;Debian\u0026quot;\n\n    - name: Configure firewalld (RHEL/CentOS/Fedora)\n      firewalld:\n        state: enabled\n        permanent: yes\n        immediate: yes\n      when: ansible_os_family == \u0026quot;RedHat\u0026quot;\n\n    - name: Allow SSH through firewalld\n      firewalld:\n        service: ssh\n        permanent: yes\n        state: enabled\n        immediate: yes\n      when: ansible_os_family == \u0026quot;RedHat\u0026quot;\n\n    # Disable unnecessary services\n    - name: Disable unnecessary services\n      systemd:\n        name: \u0026quot;{{ item }}\u0026quot;\n        enabled: no\n        state: stopped\n      loop: \u0026quot;{{ disabled_services }}\u0026quot;\n      ignore_errors: yes\n\n    # File system security\n    - name: Set proper permissions on sensitive files\n      file:\n        path: \u0026quot;{{ item.path }}\u0026quot;\n        mode: \u0026quot;{{ item.mode }}\u0026quot;\n        owner: root\n        group: root\n      loop:\n        - { path: \u0026#039;/etc/passwd\u0026#039;, mode: \u0026#039;0644\u0026#039; }\n        - { path: \u0026#039;/etc/shadow\u0026#039;, mode: \u0026#039;0640\u0026#039; }\n        - { path: \u0026#039;/etc/group\u0026#039;, mode: \u0026#039;0644\u0026#039; }\n        - { path: \u0026#039;/etc/gshadow\u0026#039;, mode: \u0026#039;0640\u0026#039; }\n        - { path: \u0026#039;/etc/ssh/sshd_config\u0026#039;, mode: \u0026#039;0600\u0026#039; }\n\n    # Kernel security parameters\n    - name: Configure kernel security parameters\n      sysctl:\n        name: \u0026quot;{{ item.key }}\u0026quot;\n        value: \u0026quot;{{ item.value }}\u0026quot;\n        sysctl_set: yes\n        state: present\n        reload: yes\n      loop:\n        - { key: \u0026#039;net.ipv4.ip_forward\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.all.send_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.default.send_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.all.accept_source_route\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.default.accept_source_route\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.all.accept_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.default.accept_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.all.secure_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.default.secure_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.all.log_martians\u0026#039;, value: \u0026#039;1\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.default.log_martians\u0026#039;, value: \u0026#039;1\u0026#039; }\n        - { key: \u0026#039;kernel.randomize_va_space\u0026#039;, value: \u0026#039;2\u0026#039; }\n\n    # Configure fail2ban\n    - name: Configure fail2ban for SSH protection\n      template:\n        src: templates/fail2ban-jail.local.j2\n        dest: /etc/fail2ban/jail.local\n        backup: yes\n      notify: restart fail2ban\n\n  handlers:\n    - name: restart ssh\n      service:\n        name: \u0026quot;{{ \u0026#039;ssh\u0026#039; if ansible_os_family == \u0026#039;Debian\u0026#039; else \u0026#039;sshd\u0026#039; }}\u0026quot;\n        state: restarted\n\n    - name: restart fail2ban\n      service:\n        name: fail2ban\n        state: restarted\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"application-deployment-playbook\" class=\"mobile-header\"\u003eApplication Deployment Playbook\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; playbooks/web-application-deployment.yml \u0026lt;\u0026lt;EOF\n---\n- name: Deploy Web Application Stack\n  hosts: webservers\n  become: yes\n  serial: \u0026quot;25%\u0026quot;  # Rolling deployment\n  max_fail_percentage: 10\n  vars:\n    app_name: mywebapp\n    app_version: \u0026quot;{{ app_version | default(\u0026#039;latest\u0026#039;) }}\u0026quot;\n    app_port: 3000\n    nginx_workers: \u0026quot;{{ ansible_processor_cores }}\u0026quot;\n    \n  pre_tasks:\n    - name: Check if maintenance mode file exists\n      stat:\n        path: /var/www/html/maintenance.html\n      register: maintenance_mode\n\n    - name: Fail if in maintenance mode\n      fail:\n        msg: \u0026quot;Server is in maintenance mode\u0026quot;\n      when: maintenance_mode.stat.exists and not force_deployment | default(false)\n\n  tasks:\n    # Application deployment\n    - name: Create application user\n      user:\n        name: \u0026quot;{{ app_name }}\u0026quot;\n        system: yes\n        shell: /bin/false\n        home: \u0026quot;/opt/{{ app_name }}\u0026quot;\n        create_home: yes\n\n    - name: Create application directories\n      file:\n        path: \u0026quot;{{ item }}\u0026quot;\n        state: directory\n        owner: \u0026quot;{{ app_name }}\u0026quot;\n        group: \u0026quot;{{ app_name }}\u0026quot;\n        mode: \u0026#039;0755\u0026#039;\n      loop:\n        - \u0026quot;/opt/{{ app_name }}\u0026quot;\n        - \u0026quot;/opt/{{ app_name }}/releases\u0026quot;\n        - \u0026quot;/opt/{{ app_name }}/shared\u0026quot;\n        - \u0026quot;/var/log/{{ app_name }}\u0026quot;\n\n    - name: Download application release\n      get_url:\n        url: \u0026quot;https://releases.example.com/{{ app_name }}/{{ app_version }}/{{ app_name }}-{{ app_version }}.tar.gz\u0026quot;\n        dest: \u0026quot;/tmp/{{ app_name }}-{{ app_version }}.tar.gz\u0026quot;\n        mode: \u0026#039;0644\u0026#039;\n        timeout: 300\n      register: download_result\n\n    - name: Extract application\n      unarchive:\n        src: \u0026quot;/tmp/{{ app_name }}-{{ app_version }}.tar.gz\u0026quot;\n        dest: \u0026quot;/opt/{{ app_name }}/releases/\u0026quot;\n        owner: \u0026quot;{{ app_name }}\u0026quot;\n        group: \u0026quot;{{ app_name }}\u0026quot;\n        remote_src: yes\n        creates: \u0026quot;/opt/{{ app_name }}/releases/{{ app_version }}\u0026quot;\n\n    - name: Create symlink to current release\n      file:\n        src: \u0026quot;/opt/{{ app_name }}/releases/{{ app_version }}\u0026quot;\n        dest: \u0026quot;/opt/{{ app_name }}/current\u0026quot;\n        state: link\n        owner: \u0026quot;{{ app_name }}\u0026quot;\n        group: \u0026quot;{{ app_name }}\u0026quot;\n      notify:\n        - reload application\n        - reload nginx\n\n    # Configuration management\n    - name: Deploy application configuration\n      template:\n        src: \u0026quot;templates/{{ app_name }}.conf.j2\u0026quot;\n        dest: \u0026quot;/opt/{{ app_name }}/shared/{{ app_name }}.conf\u0026quot;\n        owner: \u0026quot;{{ app_name }}\u0026quot;\n        group: \u0026quot;{{ app_name }}\u0026quot;\n        mode: \u0026#039;0640\u0026#039;\n        backup: yes\n      notify: reload application\n\n    # Service management\n    - name: Deploy systemd service file\n      template:\n        src: \u0026quot;templates/{{ app_name }}.service.j2\u0026quot;\n        dest: \u0026quot;/etc/systemd/system/{{ app_name }}.service\u0026quot;\n        mode: \u0026#039;0644\u0026#039;\n      notify:\n        - daemon reload\n        - restart application\n\n    - name: Enable and start application service\n      systemd:\n        name: \u0026quot;{{ app_name }}\u0026quot;\n        enabled: yes\n        state: started\n        daemon_reload: yes\n\n    # Health check\n    - name: Wait for application to be ready\n      uri:\n        url: \u0026quot;http://localhost:{{ app_port }}/health\u0026quot;\n        method: GET\n        status_code: 200\n      retries: 30\n      delay: 10\n\n    # Cleanup old releases\n    - name: Clean up old releases (keep last 3)\n      shell: |\n        cd /opt/{{ app_name }}/releases\n        ls -t | tail -n +4 | xargs rm -rf\n      args:\n        executable: /bin/bash\n\n  post_tasks:\n    - name: Verify application is running\n      uri:\n        url: \u0026quot;http://{{ ansible_default_ipv4.address }}:{{ app_port }}/health\u0026quot;\n        method: GET\n        status_code: 200\n      delegate_to: localhost\n\n    - name: Log deployment success\n      lineinfile:\n        path: \u0026quot;/var/log/{{ app_name }}/deployments.log\u0026quot;\n        line: \u0026quot;{{ ansible_date_time.iso8601 }} - Successfully deployed {{ app_version }} to {{ inventory_hostname }}\u0026quot;\n        create: yes\n\n  handlers:\n    - name: daemon reload\n      systemd:\n        daemon_reload: yes\n\n    - name: restart application\n      systemd:\n        name: \u0026quot;{{ app_name }}\u0026quot;\n        state: restarted\n\n    - name: reload application\n      systemd:\n        name: \u0026quot;{{ app_name }}\u0026quot;\n        state: reloaded\n\n    - name: reload nginx\n      service:\n        name: nginx\n        state: reloaded\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"infrastructure-as-code-playbook\" class=\"mobile-header\"\u003eInfrastructure as Code Playbook\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; playbooks/infrastructure-provisioning.yml \u0026lt;\u0026lt;EOF\n---\n- name: Infrastructure Provisioning and Configuration\n  hosts: all\n  become: yes\n  strategy: free  # Parallel execution\n  vars:\n    base_packages:\n      Debian:\n        - curl\n        - wget\n        - vim\n        - htop\n        - git\n        - python3\n        - python3-pip\n        - unzip\n        - tree\n      RedHat:\n        - curl\n        - wget\n        - vim\n        - htop\n        - git\n        - python3\n        - python3-pip\n        - unzip\n        - tree\n        - epel-release\n\n  tasks:\n    # System preparation\n    - name: Set hostname\n      hostname:\n        name: \u0026quot;{{ inventory_hostname }}\u0026quot;\n\n    - name: Update /etc/hosts\n      lineinfile:\n        path: /etc/hosts\n        line: \u0026quot;{{ ansible_default_ipv4.address }} {{ inventory_hostname }}\u0026quot;\n        backup: yes\n\n    # Package management\n    - name: Install base packages\n      package:\n        name: \u0026quot;{{ base_packages[ansible_os_family] | default(base_packages[\u0026#039;Debian\u0026#039;]) }}\u0026quot;\n        state: present\n\n    # Time synchronization\n    - name: Install and configure NTP\n      package:\n        name: \u0026quot;{{ \u0026#039;ntp\u0026#039; if ansible_os_family == \u0026#039;Debian\u0026#039; else \u0026#039;chrony\u0026#039; }}\u0026quot;\n        state: present\n\n    - name: Start and enable time synchronization\n      service:\n        name: \u0026quot;{{ \u0026#039;ntp\u0026#039; if ansible_os_family == \u0026#039;Debian\u0026#039; else \u0026#039;chronyd\u0026#039; }}\u0026quot;\n        state: started\n        enabled: yes\n\n    # Log management\n    - name: Configure logrotate for application logs\n      template:\n        src: templates/app-logrotate.j2\n        dest: /etc/logrotate.d/applications\n        mode: \u0026#039;0644\u0026#039;\n\n    # Monitoring agent installation\n    - name: Install Node Exporter for Prometheus monitoring\n      get_url:\n        url: \u0026quot;https://github.com/prometheus/node_exporter/releases/download/v1.6.1/node_exporter-1.6.1.linux-amd64.tar.gz\u0026quot;\n        dest: /tmp/node_exporter.tar.gz\n        mode: \u0026#039;0644\u0026#039;\n\n    - name: Extract Node Exporter\n      unarchive:\n        src: /tmp/node_exporter.tar.gz\n        dest: /tmp\n        remote_src: yes\n\n    - name: Copy Node Exporter binary\n      copy:\n        src: /tmp/node_exporter-1.6.1.linux-amd64/node_exporter\n        dest: /usr/local/bin/node_exporter\n        mode: \u0026#039;0755\u0026#039;\n        owner: root\n        group: root\n        remote_src: yes\n\n    - name: Create node_exporter systemd service\n      template:\n        src: templates/node_exporter.service.j2\n        dest: /etc/systemd/system/node_exporter.service\n        mode: \u0026#039;0644\u0026#039;\n      notify:\n        - daemon reload\n        - restart node_exporter\n\n    # Security configuration\n    - name: Configure kernel parameters for security\n      sysctl:\n        name: \u0026quot;{{ item.key }}\u0026quot;\n        value: \u0026quot;{{ item.value }}\u0026quot;\n        sysctl_set: yes\n        state: present\n        reload: yes\n      loop:\n        - { key: \u0026#039;kernel.dmesg_restrict\u0026#039;, value: \u0026#039;1\u0026#039; }\n        - { key: \u0026#039;kernel.kptr_restrict\u0026#039;, value: \u0026#039;2\u0026#039; }\n        - { key: \u0026#039;kernel.yama.ptrace_scope\u0026#039;, value: \u0026#039;1\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.all.log_martians\u0026#039;, value: \u0026#039;1\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.default.log_martians\u0026#039;, value: \u0026#039;1\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.all.send_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.default.send_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n\n    # File integrity monitoring\n    - name: Initialize AIDE database\n      shell: |\n        aide --init\n        mv /var/lib/aide/aide.db.new /var/lib/aide/aide.db\n      args:\n        creates: /var/lib/aide/aide.db\n\n    - name: Schedule AIDE integrity checks\n      cron:\n        name: \u0026quot;AIDE integrity check\u0026quot;\n        minute: \u0026quot;0\u0026quot;\n        hour: \u0026quot;3\u0026quot;\n        job: \u0026quot;/usr/bin/aide --check\u0026quot;\n        user: root\n\n  handlers:\n    - name: daemon reload\n      systemd:\n        daemon_reload: yes\n\n    - name: restart node_exporter\n      service:\n        name: node_exporter\n        state: restarted\n        enabled: yes\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"advanced-role-development\" class=\"mobile-header\"\u003eAdvanced Role Development\u003c/h2\u003e\n\u003ch3 id=\"comprehensive-nginx-role\" class=\"mobile-header\"\u003eComprehensive NGINX Role\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create NGINX role structure\nansible-galaxy init roles/nginx\n\n# Main tasks\ncat \u0026gt; roles/nginx/tasks/main.yml \u0026lt;\u0026lt;EOF\n---\n# NGINX Installation and Configuration Role\n- name: Include OS-specific variables\n  include_vars: \u0026quot;{{ ansible_os_family }}.yml\u0026quot;\n\n- name: Install NGINX\n  include_tasks: \u0026quot;install-{{ ansible_os_family }}.yml\u0026quot;\n\n- name: Create NGINX directories\n  file:\n    path: \u0026quot;{{ item }}\u0026quot;\n    state: directory\n    owner: root\n    group: root\n    mode: \u0026#039;0755\u0026#039;\n  loop:\n    - /etc/nginx/sites-available\n    - /etc/nginx/sites-enabled\n    - /etc/nginx/conf.d\n    - /var/log/nginx\n    - /var/cache/nginx\n\n- name: Generate DH parameters\n  openssl_dhparam:\n    path: /etc/ssl/certs/dhparam.pem\n    size: 2048\n  when: nginx_ssl_enabled | default(false)\n\n- name: Deploy NGINX main configuration\n  template:\n    src: nginx.conf.j2\n    dest: /etc/nginx/nginx.conf\n    backup: yes\n    validate: \u0026#039;nginx -t -c %s\u0026#039;\n  notify: reload nginx\n\n- name: Deploy virtual host configurations\n  template:\n    src: vhost.conf.j2\n    dest: \u0026quot;/etc/nginx/sites-available/{{ item.name }}.conf\u0026quot;\n    backup: yes\n  loop: \u0026quot;{{ nginx_vhosts | default([]) }}\u0026quot;\n  notify: reload nginx\n\n- name: Enable virtual hosts\n  file:\n    src: \u0026quot;/etc/nginx/sites-available/{{ item.name }}.conf\u0026quot;\n    dest: \u0026quot;/etc/nginx/sites-enabled/{{ item.name }}.conf\u0026quot;\n    state: link\n  loop: \u0026quot;{{ nginx_vhosts | default([]) }}\u0026quot;\n  when: item.enabled | default(true)\n  notify: reload nginx\n\n- name: Remove default site\n  file:\n    path: /etc/nginx/sites-enabled/default\n    state: absent\n  notify: reload nginx\n\n- name: Start and enable NGINX\n  service:\n    name: nginx\n    state: started\n    enabled: yes\n\n- name: Configure log rotation\n  template:\n    src: nginx-logrotate.j2\n    dest: /etc/logrotate.d/nginx\n    mode: \u0026#039;0644\u0026#039;\n\n- name: Setup NGINX monitoring\n  include_tasks: monitoring.yml\n  when: nginx_monitoring_enabled | default(false)\n\n- name: Configure SSL certificates\n  include_tasks: ssl.yml\n  when: nginx_ssl_enabled | default(false)\nEOF\n\n# OS-specific installation tasks\ncat \u0026gt; roles/nginx/tasks/install-Debian.yml \u0026lt;\u0026lt;EOF\n---\n- name: Add NGINX signing key (Debian/Ubuntu)\n  apt_key:\n    url: https://nginx.org/keys/nginx_signing.key\n    state: present\n\n- name: Add NGINX repository (Debian/Ubuntu)\n  apt_repository:\n    repo: \u0026quot;deb https://nginx.org/packages/{{ ansible_distribution | lower }}/ {{ ansible_distribution_release }} nginx\u0026quot;\n    state: present\n\n- name: Install NGINX (Debian/Ubuntu)\n  apt:\n    name: nginx\n    state: present\n    update_cache: yes\nEOF\n\ncat \u0026gt; roles/nginx/tasks/install-RedHat.yml \u0026lt;\u0026lt;EOF\n---\n- name: Add NGINX repository (RHEL/CentOS)\n  yum_repository:\n    name: nginx\n    description: NGINX Repository\n    baseurl: \u0026quot;https://nginx.org/packages/centos/{{ ansible_distribution_major_version }}/$basearch/\u0026quot;\n    gpgcheck: yes\n    gpgkey: https://nginx.org/keys/nginx_signing.key\n    enabled: yes\n\n- name: Install NGINX (RHEL/CentOS)\n  yum:\n    name: nginx\n    state: present\nEOF\n\n# Variables\ncat \u0026gt; roles/nginx/vars/main.yml \u0026lt;\u0026lt;EOF\n---\nnginx_user: nginx\nnginx_worker_processes: auto\nnginx_worker_connections: 1024\nnginx_keepalive_timeout: 65\nnginx_ssl_enabled: false\nnginx_monitoring_enabled: true\n\nnginx_security_headers:\n  - \u0026quot;add_header X-Frame-Options SAMEORIGIN always;\u0026quot;\n  - \u0026quot;add_header X-Content-Type-Options nosniff always;\u0026quot;\n  - \u0026quot;add_header X-XSS-Protection \u0026#039;1; mode=block\u0026#039; always;\u0026quot;\n  - \u0026quot;add_header Strict-Transport-Security \u0026#039;max-age=31536000; includeSubDomains\u0026#039; always;\u0026quot;\n\nnginx_default_vhost:\n  name: default\n  listen: 80\n  server_name: \u0026quot;_\u0026quot;\n  root: /var/www/html\n  index: index.html\n  enabled: false\nEOF\n\n# Templates\ncat \u0026gt; roles/nginx/templates/nginx.conf.j2 \u0026lt;\u0026lt;EOF\nuser {{ nginx_user }};\nworker_processes {{ nginx_worker_processes }};\npid /var/run/nginx.pid;\n\nevents {\n    worker_connections {{ nginx_worker_connections }};\n    use epoll;\n    multi_accept on;\n}\n\nhttp {\n    # Basic settings\n    sendfile on;\n    tcp_nopush on;\n    tcp_nodelay on;\n    keepalive_timeout {{ nginx_keepalive_timeout }};\n    types_hash_max_size 2048;\n    server_tokens off;\n\n    include /etc/nginx/mime.types;\n    default_type application/octet-stream;\n\n    # SSL configuration\n{% if nginx_ssl_enabled %}\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_prefer_server_ciphers off;\n    ssl_dhparam /etc/ssl/certs/dhparam.pem;\n{% endif %}\n\n    # Gzip compression\n    gzip on;\n    gzip_vary on;\n    gzip_proxied any;\n    gzip_comp_level 6;\n    gzip_types\n        application/javascript\n        application/json\n        application/xml\n        text/css\n        text/javascript\n        text/xml\n        text/plain;\n\n    # Security headers\n{% for header in nginx_security_headers %}\n    {{ header }}\n{% endfor %}\n\n    # Logging\n    log_format main \u0026#039;\\$remote_addr - \\$remote_user [\\$time_local] \u0026quot;\\$request\u0026quot; \u0026#039;\n                    \u0026#039;\\$status \\$body_bytes_sent \u0026quot;\\$http_referer\u0026quot; \u0026#039;\n                    \u0026#039;\u0026quot;\\$http_user_agent\u0026quot; \u0026quot;\\$http_x_forwarded_for\u0026quot;\u0026#039;;\n\n    access_log /var/log/nginx/access.log main;\n    error_log /var/log/nginx/error.log;\n\n    # Rate limiting\n    limit_req_zone \\$binary_remote_addr zone=login:10m rate=10r/m;\n    limit_conn_zone \\$binary_remote_addr zone=addr:10m;\n\n    # Include configurations\n    include /etc/nginx/conf.d/*.conf;\n    include /etc/nginx/sites-enabled/*;\n}\nEOF\n\n# Handlers\ncat \u0026gt; roles/nginx/handlers/main.yml \u0026lt;\u0026lt;EOF\n---\n- name: restart nginx\n  service:\n    name: nginx\n    state: restarted\n\n- name: reload nginx\n  service:\n    name: nginx\n    state: reloaded\n\n- name: validate nginx config\n  command: nginx -t\n  changed_when: false\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"security-and-compliance\" class=\"mobile-header\"\u003eSecurity and Compliance\u003c/h2\u003e\n\u003ch3 id=\"ansible-security-scanner-integration\" class=\"mobile-header\"\u003eAnsible Security Scanner Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create security scanning playbook\ncat \u0026gt; playbooks/security-scan.yml \u0026lt;\u0026lt;EOF\n---\n- name: Security Compliance Scanning\n  hosts: all\n  become: yes\n  gather_facts: yes\n  vars:\n    scan_results_dir: \u0026quot;/tmp/security-scans\u0026quot;\n    \n  tasks:\n    - name: Create scan results directory\n      file:\n        path: \u0026quot;{{ scan_results_dir }}\u0026quot;\n        state: directory\n        mode: \u0026#039;0755\u0026#039;\n\n    # CIS benchmark scanning\n    - name: Download CIS benchmark script\n      get_url:\n        url: \u0026quot;https://github.com/dev-sec/cis-dil-benchmark/archive/master.zip\u0026quot;\n        dest: \u0026quot;/tmp/cis-benchmark.zip\u0026quot;\n        mode: \u0026#039;0644\u0026#039;\n\n    - name: Run CIS benchmark scan\n      shell: |\n        cd /tmp\n        unzip -o cis-benchmark.zip\n        cd cis-dil-benchmark-master\n        bash cis_ubuntu2204.sh \u0026gt; {{ scan_results_dir }}/cis-scan-{{ inventory_hostname }}.txt\n      args:\n        creates: \u0026quot;{{ scan_results_dir }}/cis-scan-{{ inventory_hostname }}.txt\u0026quot;\n\n    # Lynis security audit\n    - name: Install Lynis\n      package:\n        name: lynis\n        state: present\n\n    - name: Run Lynis security audit\n      command: lynis audit system --quiet --cronjob\n      register: lynis_result\n      changed_when: false\n\n    - name: Save Lynis results\n      copy:\n        content: \u0026quot;{{ lynis_result.stdout }}\u0026quot;\n        dest: \u0026quot;{{ scan_results_dir }}/lynis-scan-{{ inventory_hostname }}.txt\u0026quot;\n        mode: \u0026#039;0644\u0026#039;\n\n    # OpenSCAP compliance scanning\n    - name: Install OpenSCAP (RHEL/CentOS)\n      package:\n        name:\n          - openscap-scanner\n          - scap-security-guide\n        state: present\n      when: ansible_os_family == \u0026quot;RedHat\u0026quot;\n\n    - name: Install OpenSCAP (Debian/Ubuntu)\n      package:\n        name:\n          - libopenscap8\n          - ssg-debian\n        state: present\n      when: ansible_os_family == \u0026quot;Debian\u0026quot;\n\n    - name: Run OpenSCAP scan\n      shell: |\n        oscap xccdf eval --profile xccdf_org.ssgproject.content_profile_standard \\\n          --results {{ scan_results_dir }}/oscap-results-{{ inventory_hostname }}.xml \\\n          --report {{ scan_results_dir }}/oscap-report-{{ inventory_hostname }}.html \\\n          /usr/share/xml/scap/ssg/content/ssg-{{ ansible_distribution | lower }}{{ ansible_distribution_major_version }}-xccdf.xml\n      ignore_errors: yes\n      when: ansible_os_family in [\u0026quot;RedHat\u0026quot;, \u0026quot;Debian\u0026quot;]\n\n    # Vulnerability scanning with Trivy\n    - name: Install Trivy vulnerability scanner\n      shell: |\n        curl -sfL https://raw.githubusercontent.com/aquasecurity/trivy/main/contrib/install.sh | sh -s -- -b /usr/local/bin\n      args:\n        creates: /usr/local/bin/trivy\n\n    - name: Run Trivy filesystem scan\n      shell: |\n        trivy fs --format json --output {{ scan_results_dir }}/trivy-scan-{{ inventory_hostname }}.json /\n      ignore_errors: yes\n\n    # Collect scan results\n    - name: Fetch scan results to control machine\n      fetch:\n        src: \u0026quot;{{ item }}\u0026quot;\n        dest: \u0026quot;./security-reports/{{ inventory_hostname }}/\u0026quot;\n        flat: yes\n      loop:\n        - \u0026quot;{{ scan_results_dir }}/cis-scan-{{ inventory_hostname }}.txt\u0026quot;\n        - \u0026quot;{{ scan_results_dir }}/lynis-scan-{{ inventory_hostname }}.txt\u0026quot;\n        - \u0026quot;{{ scan_results_dir }}/oscap-report-{{ inventory_hostname }}.html\u0026quot;\n        - \u0026quot;{{ scan_results_dir }}/trivy-scan-{{ inventory_hostname }}.json\u0026quot;\n      ignore_errors: yes\n      delegate_to: localhost\n\n  post_tasks:\n    - name: Generate compliance summary\n      template:\n        src: templates/compliance-summary.j2\n        dest: \u0026quot;{{ scan_results_dir }}/compliance-summary-{{ inventory_hostname }}.txt\u0026quot;\n        mode: \u0026#039;0644\u0026#039;\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"ansible-awxtower-integration\" class=\"mobile-header\"\u003eAnsible AWX/Tower Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Ansible AWX (open source)\ncat \u0026gt; playbooks/install-awx.yml \u0026lt;\u0026lt;EOF\n---\n- name: Install Ansible AWX\n  hosts: localhost\n  connection: local\n  become: yes\n  vars:\n    awx_namespace: awx\n    awx_admin_user: admin\n    awx_admin_password: \u0026quot;{{ vault_awx_admin_password }}\u0026quot;\n\n  tasks:\n    - name: Install prerequisite packages\n      package:\n        name:\n          - git\n          - curl\n          - docker.io\n          - docker-compose\n        state: present\n\n    - name: Clone AWX repository\n      git:\n        repo: https://github.com/ansible/awx.git\n        dest: /opt/awx\n        version: devel\n\n    - name: Create AWX Docker inventory\n      template:\n        src: templates/awx-docker-inventory.j2\n        dest: /opt/awx/installer/inventory\n        mode: \u0026#039;0644\u0026#039;\n\n    - name: Install AWX using Ansible\n      shell: ansible-playbook -i inventory install.yml\n      args:\n        chdir: /opt/awx/installer\n      environment:\n        ANSIBLE_HOST_KEY_CHECKING: False\n\n    - name: Wait for AWX to be ready\n      uri:\n        url: \u0026quot;http://localhost:80/api/v2/ping/\u0026quot;\n        method: GET\n      retries: 30\n      delay: 10\n\n    - name: Configure AWX organizations and projects\n      uri:\n        url: \u0026quot;http://localhost:80/api/v2/organizations/\u0026quot;\n        method: POST\n        user: \u0026quot;{{ awx_admin_user }}\u0026quot;\n        password: \u0026quot;{{ awx_admin_password }}\u0026quot;\n        force_basic_auth: yes\n        body_format: json\n        body:\n          name: \u0026quot;Production\u0026quot;\n          description: \u0026quot;Production environment organization\u0026quot;\n        status_code: [200, 201, 409]\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"multi-cloud-automation\" class=\"mobile-header\"\u003eMulti-Cloud Automation\u003c/h2\u003e\n\u003ch3 id=\"aws-infrastructure-automation\" class=\"mobile-header\"\u003eAWS Infrastructure Automation\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; playbooks/aws-infrastructure.yml \u0026lt;\u0026lt;EOF\n---\n- name: AWS Infrastructure Automation\n  hosts: localhost\n  connection: local\n  gather_facts: no\n  vars:\n    aws_region: \u0026quot;{{ aws_region | default(\u0026#039;us-west-2\u0026#039;) }}\u0026quot;\n    vpc_cidr: \u0026quot;{{ vpc_cidr | default(\u0026#039;10.0.0.0/16\u0026#039;) }}\u0026quot;\n    environment: \u0026quot;{{ environment | default(\u0026#039;production\u0026#039;) }}\u0026quot;\n\n  tasks:\n    # VPC Creation\n    - name: Create VPC\n      amazon.aws.ec2_vpc_info:\n        filters:\n          \u0026quot;tag:Name\u0026quot;: \u0026quot;{{ environment }}-vpc\u0026quot;\n        region: \u0026quot;{{ aws_region }}\u0026quot;\n      register: existing_vpc\n\n    - name: Create new VPC if not exists\n      amazon.aws.ec2_vpc_net:\n        name: \u0026quot;{{ environment }}-vpc\u0026quot;\n        cidr_block: \u0026quot;{{ vpc_cidr }}\u0026quot;\n        region: \u0026quot;{{ aws_region }}\u0026quot;\n        state: present\n        dns_hostnames: yes\n        dns_support: yes\n        tags:\n          Environment: \u0026quot;{{ environment }}\u0026quot;\n          ManagedBy: ansible\n      register: vpc\n      when: existing_vpc.vpcs | length == 0\n\n    # Security Groups\n    - name: Create web security group\n      amazon.aws.ec2_group:\n        name: \u0026quot;{{ environment }}-web-sg\u0026quot;\n        description: \u0026quot;Security group for web servers\u0026quot;\n        vpc_id: \u0026quot;{{ vpc.vpc.id if vpc.vpc is defined else existing_vpc.vpcs[0].vpc_id }}\u0026quot;\n        region: \u0026quot;{{ aws_region }}\u0026quot;\n        rules:\n          - proto: tcp\n            ports:\n              - 80\n              - 443\n            cidr_ip: 0.0.0.0/0\n            rule_desc: \u0026quot;HTTP and HTTPS access\u0026quot;\n          - proto: tcp\n            ports:\n              - 22\n            group_id: \u0026quot;{{ environment }}-bastion-sg\u0026quot;\n            rule_desc: \u0026quot;SSH from bastion\u0026quot;\n        tags:\n          Environment: \u0026quot;{{ environment }}\u0026quot;\n\n    # Launch EC2 instances\n    - name: Launch web servers\n      amazon.aws.ec2_instance:\n        name: \u0026quot;{{ environment }}-web-{{ item }}\u0026quot;\n        instance_type: t3.medium\n        image_id: ami-0c02fb55956c7d316  # Amazon Linux 2\n        key_name: \u0026quot;{{ ec2_key_name }}\u0026quot;\n        vpc_subnet_id: \u0026quot;{{ web_subnet_id }}\u0026quot;\n        security_groups:\n          - \u0026quot;{{ environment }}-web-sg\u0026quot;\n        region: \u0026quot;{{ aws_region }}\u0026quot;\n        state: running\n        wait: yes\n        wait_timeout: 300\n        user_data: |\n          #!/bin/bash\n          yum update -y\n          yum install -y python3\n        tags:\n          Environment: \u0026quot;{{ environment }}\u0026quot;\n          Role: webserver\n          Ansible: managed\n      loop: \u0026quot;{{ range(1, web_server_count + 1) | list }}\u0026quot;\n      register: web_instances\n\n    # Add instances to inventory\n    - name: Add web servers to inventory\n      add_host:\n        name: \u0026quot;{{ item.instances[0].tags.Name }}\u0026quot;\n        hostname: \u0026quot;{{ item.instances[0].public_ip_address }}\u0026quot;\n        groups: webservers\n        ansible_ssh_private_key_file: \u0026quot;~/.ssh/{{ ec2_key_name }}.pem\u0026quot;\n        ansible_user: ec2-user\n      loop: \u0026quot;{{ web_instances.results }}\u0026quot;\n      changed_when: false\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"kubernetes-cluster-management\" class=\"mobile-header\"\u003eKubernetes Cluster Management\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; playbooks/k8s-cluster-management.yml \u0026lt;\u0026lt;EOF\n---\n- name: Kubernetes Cluster Management with Ansible\n  hosts: k8s_masters\n  become: yes\n  serial: 1\n  vars:\n    k8s_version: \u0026quot;1.28.2\u0026quot;\n    containerd_version: \u0026quot;1.6.24\u0026quot;\n    cni_version: \u0026quot;1.3.0\u0026quot;\n\n  tasks:\n    # Pre-flight checks\n    - name: Check system requirements\n      assert:\n        that:\n          - ansible_memtotal_mb \u0026gt;= 1700\n          - ansible_processor_cores \u0026gt;= 2\n        fail_msg: \u0026quot;System doesn\u0026#039;t meet minimum requirements\u0026quot;\n\n    - name: Verify connectivity to all nodes\n      ping:\n      delegate_to: \u0026quot;{{ item }}\u0026quot;\n      loop: \u0026quot;{{ groups[\u0026#039;k8s_all\u0026#039;] }}\u0026quot;\n\n    # Container runtime setup\n    - name: Install containerd\n      include_role:\n        name: containerd\n      vars:\n        containerd_version: \u0026quot;{{ containerd_version }}\u0026quot;\n\n    # Kubernetes installation\n    - name: Install Kubernetes components\n      include_role:\n        name: kubernetes\n      vars:\n        kubernetes_version: \u0026quot;{{ k8s_version }}\u0026quot;\n\n    # Cluster initialization\n    - name: Initialize Kubernetes cluster\n      shell: |\n        kubeadm init \\\n          --pod-network-cidr=10.244.0.0/16 \\\n          --service-cidr=10.96.0.0/12 \\\n          --apiserver-advertise-address={{ ansible_default_ipv4.address }} \\\n          --node-name={{ inventory_hostname }}\n      args:\n        creates: /etc/kubernetes/admin.conf\n      register: kubeadm_init\n\n    - name: Create .kube directory\n      file:\n        path: \u0026quot;{{ ansible_env.HOME }}/.kube\u0026quot;\n        state: directory\n        mode: \u0026#039;0755\u0026#039;\n\n    - name: Copy admin.conf to user\u0026#039;s kube config\n      copy:\n        src: /etc/kubernetes/admin.conf\n        dest: \u0026quot;{{ ansible_env.HOME }}/.kube/config\u0026quot;\n        owner: \u0026quot;{{ ansible_user }}\u0026quot;\n        group: \u0026quot;{{ ansible_user }}\u0026quot;\n        mode: \u0026#039;0644\u0026#039;\n        remote_src: yes\n\n    # Network plugin installation\n    - name: Install Flannel CNI\n      shell: kubectl apply -f https://github.com/flannel-io/flannel/releases/latest/download/kube-flannel.yml\n      environment:\n        KUBECONFIG: \u0026quot;{{ ansible_env.HOME }}/.kube/config\u0026quot;\n\n    # Join worker nodes\n    - name: Get join command\n      shell: kubeadm token create --print-join-command\n      register: join_command\n      when: inventory_hostname in groups[\u0026#039;k8s_masters\u0026#039;][0]\n\n    - name: Join worker nodes to cluster\n      shell: \u0026quot;{{ hostvars[groups[\u0026#039;k8s_masters\u0026#039;][0]][\u0026#039;join_command\u0026#039;].stdout }}\u0026quot;\n      when: inventory_hostname in groups[\u0026#039;k8s_workers\u0026#039;]\n\n  post_tasks:\n    - name: Verify cluster status\n      shell: kubectl get nodes\n      environment:\n        KUBECONFIG: \u0026quot;{{ ansible_env.HOME }}/.kube/config\u0026quot;\n      register: cluster_status\n      when: inventory_hostname in groups[\u0026#039;k8s_masters\u0026#039;][0]\n\n    - name: Display cluster status\n      debug:\n        var: cluster_status.stdout_lines\n      when: inventory_hostname in groups[\u0026#039;k8s_masters\u0026#039;][0]\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"performance-optimization-and-scaling\" class=\"mobile-header\"\u003ePerformance Optimization and Scaling\u003c/h2\u003e\n\u003ch3 id=\"parallel-execution-strategies\" class=\"mobile-header\"\u003eParallel Execution Strategies\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create high-performance playbook configuration\ncat \u0026gt; playbooks/high-performance-deployment.yml \u0026lt;\u0026lt;EOF\n---\n- name: High-Performance Deployment\n  hosts: all\n  become: yes\n  strategy: free  # Parallel execution\n  serial: \u0026quot;30%\u0026quot;   # Process 30% of hosts at a time\n  max_fail_percentage: 10\n  gather_facts: yes\n  fact_caching: smart\n  vars:\n    deployment_batch_size: 10\n    max_concurrent_tasks: 50\n\n  pre_tasks:\n    - name: Check system load\n      shell: uptime | awk \u0026#039;{print $(NF-2)}\u0026#039; | sed \u0026#039;s/,//\u0026#039;\n      register: system_load\n      changed_when: false\n\n    - name: Skip high-load systems\n      meta: end_host\n      when: system_load.stdout | float \u0026gt; 5.0\n\n  tasks:\n    - name: Update packages with retries\n      package:\n        name: \u0026quot;*\u0026quot;\n        state: latest\n      retries: 3\n      delay: 30\n      async: 300\n      poll: 10\n\n    - name: Deploy configuration files in parallel\n      template:\n        src: \u0026quot;{{ item.src }}\u0026quot;\n        dest: \u0026quot;{{ item.dest }}\u0026quot;\n        mode: \u0026quot;{{ item.mode | default(\u0026#039;0644\u0026#039;) }}\u0026quot;\n        backup: yes\n      loop:\n        - { src: \u0026quot;nginx.conf.j2\u0026quot;, dest: \u0026quot;/etc/nginx/nginx.conf\u0026quot; }\n        - { src: \u0026quot;mysql.cnf.j2\u0026quot;, dest: \u0026quot;/etc/mysql/my.cnf\u0026quot; }\n        - { src: \u0026quot;redis.conf.j2\u0026quot;, dest: \u0026quot;/etc/redis/redis.conf\u0026quot; }\n      async: 120\n      poll: 5\n      register: config_deployment\n\n    - name: Wait for all configuration deployments\n      async_status:\n        jid: \u0026quot;{{ item.ansible_job_id }}\u0026quot;\n      loop: \u0026quot;{{ config_deployment.results }}\u0026quot;\n      when: item.ansible_job_id is defined\n\n  handlers:\n    - name: restart services\n      service:\n        name: \u0026quot;{{ item }}\u0026quot;\n        state: restarted\n      loop:\n        - nginx\n        - mysql\n        - redis\n      listen: \u0026quot;restart all services\u0026quot;\nEOF\n\n# Performance monitoring playbook\ncat \u0026gt; playbooks/performance-monitoring.yml \u0026lt;\u0026lt;EOF\n---\n- name: Performance Monitoring Setup\n  hosts: all\n  become: yes\n  vars:\n    monitoring_tools:\n      - htop\n      - iotop\n      - nethogs\n      - dstat\n      - sysstat\n      - perf\n\n  tasks:\n    - name: Install performance monitoring tools\n      package:\n        name: \u0026quot;{{ monitoring_tools }}\u0026quot;\n        state: present\n\n    - name: Configure system monitoring\n      template:\n        src: templates/sysstat.j2\n        dest: /etc/default/sysstat\n        backup: yes\n      when: ansible_os_family == \u0026quot;Debian\u0026quot;\n\n    - name: Enable system statistics collection\n      service:\n        name: \u0026quot;{{ \u0026#039;sysstat\u0026#039; if ansible_os_family == \u0026#039;Debian\u0026#039; else \u0026#039;sysstat\u0026#039; }}\u0026quot;\n        enabled: yes\n        state: started\n\n    - name: Create performance monitoring script\n      template:\n        src: templates/performance-monitor.sh.j2\n        dest: /usr/local/bin/performance-monitor.sh\n        mode: \u0026#039;0755\u0026#039;\n\n    - name: Schedule performance monitoring\n      cron:\n        name: \u0026quot;Performance monitoring\u0026quot;\n        minute: \u0026quot;*/5\u0026quot;\n        job: \u0026quot;/usr/local/bin/performance-monitor.sh\u0026quot;\n        user: root\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"testing-and-validation\" class=\"mobile-header\"\u003eTesting and Validation\u003c/h2\u003e\n\u003ch3 id=\"molecule-testing-framework\" class=\"mobile-header\"\u003eMolecule Testing Framework\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Molecule for role testing\npip install molecule[docker] molecule[vagrant] molecule[libvirt]\n\n# Initialize Molecule in role directory\ncd roles/nginx\nmolecule init scenario --driver-name docker\n\n# Create molecule configuration\ncat \u0026gt; molecule/default/molecule.yml \u0026lt;\u0026lt;EOF\n---\ndependency:\n  name: galaxy\ndriver:\n  name: docker\nplatforms:\n  - name: nginx-ubuntu\n    image: ubuntu:22.04\n    pre_build_image: true\n    privileged: true\n    volumes:\n      - /sys/fs/cgroup:/sys/fs/cgroup:ro\n    command: /lib/systemd/systemd\n    networks:\n      - name: molecule\n  - name: nginx-centos\n    image: centos:8\n    pre_build_image: true\n    privileged: true\n    volumes:\n      - /sys/fs/cgroup:/sys/fs/cgroup:ro\n    command: /usr/sbin/init\n    networks:\n      - name: molecule\nprovisioner:\n  name: ansible\n  config_options:\n    defaults:\n      callbacks_enabled: profile_tasks,timer,yaml\n  inventory:\n    host_vars:\n      nginx-ubuntu:\n        ansible_python_interpreter: /usr/bin/python3\n      nginx-centos:\n        ansible_python_interpreter: /usr/bin/python3\nverifier:\n  name: ansible\nlint: |\n  set -e\n  yamllint .\n  ansible-lint\n  flake8\nEOF\n\n# Create test playbook\ncat \u0026gt; molecule/default/converge.yml \u0026lt;\u0026lt;EOF\n---\n- name: Converge\n  hosts: all\n  become: true\n  tasks:\n    - name: \u0026quot;Include nginx role\u0026quot;\n      include_role:\n        name: nginx\n      vars:\n        nginx_vhosts:\n          - name: default\n            server_name: localhost\n            listen: 80\n            root: /var/www/html\n            enabled: true\nEOF\n\n# Create test verification\ncat \u0026gt; molecule/default/verify.yml \u0026lt;\u0026lt;EOF\n---\n- name: Verify\n  hosts: all\n  gather_facts: false\n  tasks:\n    - name: Check if NGINX is running\n      uri:\n        url: http://localhost\n        method: GET\n      register: nginx_check\n\n    - name: Verify NGINX is responding\n      assert:\n        that:\n          - nginx_check.status == 200\n        fail_msg: \u0026quot;NGINX is not responding correctly\u0026quot;\n\n    - name: Check NGINX configuration\n      shell: nginx -t\n      changed_when: false\n\n    - name: Verify NGINX process\n      shell: pgrep nginx\n      changed_when: false\nEOF\n\n# Run tests\nmolecule test\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"ansible-lint-and-security-scanning\" class=\"mobile-header\"\u003eAnsible Lint and Security Scanning\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Ansible Lint\npip install ansible-lint\n\n# Create .ansible-lint configuration\ncat \u0026gt; .ansible-lint \u0026lt;\u0026lt;EOF\n---\nprofile: production\n\nexclude_paths:\n  - .cache/\n  - .github/\n  - molecule/\n  - .venv/\n\nskip_list:\n  - yaml[line-length]  # Allow longer lines for readability\n\nwarn_list:\n  - experimental  # Warn about experimental features\n\n# Custom rules\nrules:\n  braces:\n    min-spaces-inside: 0\n    max-spaces-inside: 1\n  brackets:\n    min-spaces-inside: 0\n    max-spaces-inside: 0\n  colons:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  commas:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  comments:\n    min-spaces-from-content: 1\n  document-start: disable\n  empty-lines:\n    max: 2\n    max-start: 0\n    max-end: 1\n  hyphens:\n    max-spaces-after: 1\n  indentation:\n    spaces: 2\n    indent-sequences: true\n  line-length:\n    max: 120\n  new-line-at-end-of-file: enable\n  trailing-spaces: enable\n  truthy:\n    allowed-values: [\u0026#039;true\u0026#039;, \u0026#039;false\u0026#039;, \u0026#039;yes\u0026#039;, \u0026#039;no\u0026#039;]\nEOF\n\n# Create security-focused playbook linting\ncat \u0026gt; .yamllint \u0026lt;\u0026lt;EOF\n---\nextends: default\n\nrules:\n  braces:\n    min-spaces-inside: 0\n    max-spaces-inside: 1\n  brackets:\n    min-spaces-inside: 0\n    max-spaces-inside: 0\n  colons:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  commas:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  comments: disable\n  comments-indentation: disable\n  document-start: disable\n  empty-lines:\n    max: 2\n    max-start: 0\n    max-end: 1\n  hyphens:\n    max-spaces-after: 1\n  indentation:\n    spaces: 2\n    indent-sequences: true\n    check-multi-line-strings: false\n  key-duplicates: enable\n  line-length:\n    max: 120\n  new-line-at-end-of-file: enable\n  octal-values:\n    forbid-implicit-octal: true\n  trailing-spaces: enable\n  truthy: disable\nEOF\n\n# Run linting\nansible-lint playbooks/\nyamllint .\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"backup-and-disaster-recovery\" class=\"mobile-header\"\u003eBackup and Disaster Recovery\u003c/h2\u003e\n\u003ch3 id=\"comprehensive-backup-automation\" class=\"mobile-header\"\u003eComprehensive Backup Automation\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; playbooks/backup-automation.yml \u0026lt;\u0026lt;EOF\n---\n- name: Automated Backup System\n  hosts: all\n  become: yes\n  vars:\n    backup_root: /backup\n    backup_retention_days: 30\n    backup_schedule:\n      databases: \u0026quot;0 2 * * *\u0026quot;\n      files: \u0026quot;0 3 * * *\u0026quot;\n      configs: \u0026quot;0 4 * * *\u0026quot;\n\n  tasks:\n    - name: Create backup directories\n      file:\n        path: \u0026quot;{{ backup_root }}/{{ item }}\u0026quot;\n        state: directory\n        mode: \u0026#039;0755\u0026#039;\n        owner: root\n        group: root\n      loop:\n        - databases\n        - files\n        - configs\n        - logs\n\n    # Database backups\n    - name: Create database backup script\n      template:\n        src: templates/mysql-backup.sh.j2\n        dest: /usr/local/bin/mysql-backup.sh\n        mode: \u0026#039;0755\u0026#039;\n      when: \u0026quot;\u0026#039;dbservers\u0026#039; in group_names\u0026quot;\n\n    - name: Schedule database backups\n      cron:\n        name: \u0026quot;MySQL backup\u0026quot;\n        minute: \u0026quot;0\u0026quot;\n        hour: \u0026quot;2\u0026quot;\n        job: \u0026quot;/usr/local/bin/mysql-backup.sh\u0026quot;\n        user: root\n      when: \u0026quot;\u0026#039;dbservers\u0026#039; in group_names\u0026quot;\n\n    # File system backups\n    - name: Create file backup script\n      template:\n        src: templates/file-backup.sh.j2\n        dest: /usr/local/bin/file-backup.sh\n        mode: \u0026#039;0755\u0026#039;\n\n    - name: Schedule file backups\n      cron:\n        name: \u0026quot;File system backup\u0026quot;\n        minute: \u0026quot;0\u0026quot;\n        hour: \u0026quot;3\u0026quot;\n        job: \u0026quot;/usr/local/bin/file-backup.sh\u0026quot;\n        user: root\n\n    # Configuration backups\n    - name: Backup system configurations\n      archive:\n        path:\n          - /etc/nginx\n          - /etc/mysql\n          - /etc/systemd/system\n          - /etc/crontab\n          - /etc/hosts\n          - /etc/fstab\n        dest: \u0026quot;{{ backup_root }}/configs/system-config-{{ ansible_date_time.epoch }}.tar.gz\u0026quot;\n        mode: \u0026#039;0600\u0026#039;\n\n    # Remote backup synchronization\n    - name: Synchronize backups to remote storage\n      synchronize:\n        src: \u0026quot;{{ backup_root }}/\u0026quot;\n        dest: \u0026quot;backup-server.example.com:{{ backup_root }}/{{ inventory_hostname }}/\u0026quot;\n        delete: yes\n        rsync_opts:\n          - \u0026quot;--exclude=*.tmp\u0026quot;\n          - \u0026quot;--compress\u0026quot;\n          - \u0026quot;--archive\u0026quot;\n      when: backup_remote_sync | default(true)\n\n    # Cleanup old backups\n    - name: Clean up old backup files\n      find:\n        paths: \u0026quot;{{ backup_root }}\u0026quot;\n        age: \u0026quot;{{ backup_retention_days }}d\u0026quot;\n        file_type: file\n      register: old_backups\n\n    - name: Remove old backup files\n      file:\n        path: \u0026quot;{{ item.path }}\u0026quot;\n        state: absent\n      loop: \u0026quot;{{ old_backups.files }}\u0026quot;\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"verification-and-monitoring\" class=\"mobile-header\"\u003eVerification and Monitoring\u003c/h2\u003e\n\u003ch3 id=\"cross-platform-system-verification\" class=\"mobile-header\"\u003eCross-Platform System Verification\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create comprehensive verification playbook\ncat \u0026gt; playbooks/system-verification.yml \u0026lt;\u0026lt;EOF\n---\n- name: System Verification and Health Check\n  hosts: all\n  become: yes\n  gather_facts: yes\n  vars:\n    health_checks:\n      - service: nginx\n        port: 80\n        process: nginx\n      - service: mysql\n        port: 3306\n        process: mysqld\n      - service: redis\n        port: 6379\n        process: redis-server\n\n  tasks:\n    # System information gathering\n    - name: Gather system information\n      setup:\n        gather_subset:\n          - all\n          - !facter\n          - !ohai\n\n    # Service verification\n    - name: Check critical services status\n      service_facts:\n\n    - name: Verify services are running\n      assert:\n        that:\n          - \u0026quot;ansible_facts.services[item.service + \u0026#039;.service\u0026#039;].state == \u0026#039;running\u0026#039;\u0026quot;\n        fail_msg: \u0026quot;Service {{ item.service }} is not running\u0026quot;\n        success_msg: \u0026quot;Service {{ item.service }} is healthy\u0026quot;\n      loop: \u0026quot;{{ health_checks }}\u0026quot;\n      when: \u0026quot;item.service + \u0026#039;.service\u0026#039; in ansible_facts.services\u0026quot;\n\n    # Network connectivity tests\n    - name: Test network connectivity\n      wait_for:\n        host: \u0026quot;{{ item.host }}\u0026quot;\n        port: \u0026quot;{{ item.port }}\u0026quot;\n        timeout: 5\n      loop:\n        - { host: \u0026quot;8.8.8.8\u0026quot;, port: 53 }\n        - { host: \u0026quot;1.1.1.1\u0026quot;, port: 53 }\n      ignore_errors: yes\n\n    # Disk space monitoring\n    - name: Check disk space usage\n      shell: df -h | awk \u0026#039;$5 \u0026gt; \u0026quot;85%\u0026quot; {print $0}\u0026#039;\n      register: disk_usage\n      changed_when: false\n      failed_when: disk_usage.stdout != \u0026quot;\u0026quot;\n\n    # Memory usage check\n    - name: Check memory usage\n      shell: free | grep Mem | awk \u0026#039;{printf \u0026quot;%.0f\u0026quot;, $3/$2 * 100.0}\u0026#039;\n      register: memory_usage\n      changed_when: false\n\n    - name: Alert on high memory usage\n      debug:\n        msg: \u0026quot;WARNING: Memory usage is {{ memory_usage.stdout }}%\u0026quot;\n      when: memory_usage.stdout | int \u0026gt; 85\n\n    # Security verification\n    - name: Check for failed login attempts\n      shell: grep \u0026quot;Failed password\u0026quot; /var/log/auth.log | tail -10\n      register: failed_logins\n      changed_when: false\n      ignore_errors: yes\n      when: ansible_os_family == \u0026quot;Debian\u0026quot;\n\n    - name: Check firewall status\n      shell: |\n        if command -v ufw \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n          ufw status\n        elif command -v firewall-cmd \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n          firewall-cmd --state\n        else\n          echo \u0026quot;No supported firewall found\u0026quot;\n        fi\n      register: firewall_status\n      changed_when: false\n\n  post_tasks:\n    - name: Generate system health report\n      template:\n        src: templates/health-report.j2\n        dest: \u0026quot;/tmp/health-report-{{ inventory_hostname }}-{{ ansible_date_time.epoch }}.txt\u0026quot;\n        mode: \u0026#039;0644\u0026#039;\n\n    - name: Fetch health reports\n      fetch:\n        src: \u0026quot;/tmp/health-report-{{ inventory_hostname }}-{{ ansible_date_time.epoch }}.txt\u0026quot;\n        dest: \u0026quot;./reports/\u0026quot;\n        flat: yes\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"continuous-compliance-monitoring\" class=\"mobile-header\"\u003eContinuous Compliance Monitoring\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; playbooks/compliance-monitoring.yml \u0026lt;\u0026lt;EOF\n---\n- name: Continuous Compliance Monitoring\n  hosts: all\n  become: yes\n  vars:\n    compliance_standards:\n      - cis\n      - pci_dss\n      - soc2\n      - hipaa\n    \n    audit_log_paths:\n      - /var/log/auth.log\n      - /var/log/syslog\n      - /var/log/audit/audit.log\n\n  tasks:\n    # Install audit tools\n    - name: Install audit daemon\n      package:\n        name: \u0026quot;{{ \u0026#039;auditd\u0026#039; if ansible_os_family == \u0026#039;RedHat\u0026#039; else \u0026#039;auditd\u0026#039; }}\u0026quot;\n        state: present\n\n    - name: Configure audit rules\n      template:\n        src: templates/audit.rules.j2\n        dest: /etc/audit/rules.d/audit.rules\n        backup: yes\n      notify: restart auditd\n\n    # CIS compliance checks\n    - name: Run CIS benchmark checks\n      shell: |\n        if [ -f /opt/cis-cat/CIS-CAT.sh ]; then\n          /opt/cis-cat/CIS-CAT.sh -b /opt/cis-cat/benchmarks/\n        else\n          echo \u0026quot;CIS-CAT not installed, skipping\u0026quot;\n        fi\n      register: cis_results\n      ignore_errors: yes\n\n    # File integrity monitoring\n    - name: Install AIDE\n      package:\n        name: aide\n        state: present\n\n    - name: Initialize AIDE database\n      shell: |\n        aide --init\n        mv /var/lib/aide/aide.db.new /var/lib/aide/aide.db\n      args:\n        creates: /var/lib/aide/aide.db\n\n    - name: Schedule AIDE integrity checks\n      cron:\n        name: \u0026quot;AIDE integrity check\u0026quot;\n        minute: \u0026quot;0\u0026quot;\n        hour: \u0026quot;3\u0026quot;\n        job: \u0026quot;/usr/bin/aide --check | mail -s \u0026#039;AIDE Report\u0026#039; security@example.com\u0026quot;\n        user: root\n\n    # Log monitoring\n    - name: Install log monitoring tools\n      package:\n        name:\n          - logwatch\n          - rsyslog\n        state: present\n\n    - name: Configure centralized logging\n      template:\n        src: templates/rsyslog.conf.j2\n        dest: /etc/rsyslog.conf\n        backup: yes\n      notify: restart rsyslog\n\n  handlers:\n    - name: restart auditd\n      service:\n        name: auditd\n        state: restarted\n\n    - name: restart rsyslog\n      service:\n        name: rsyslog\n        state: restarted\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"cicd-integration\" class=\"mobile-header\"\u003eCI/CD Integration\u003c/h2\u003e\n\u003ch3 id=\"jenkins-pipeline-integration\" class=\"mobile-header\"\u003eJenkins Pipeline Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create Jenkinsfile for Ansible automation\ncat \u0026gt; Jenkinsfile \u0026lt;\u0026lt;EOF\npipeline {\n    agent any\n    \n    environment {\n        ANSIBLE_CONFIG = \u0026#039;ansible.cfg\u0026#039;\n        ANSIBLE_HOST_KEY_CHECKING = \u0026#039;False\u0026#039;\n    }\n    \n    stages {\n        stage(\u0026#039;Lint\u0026#039;) {\n            steps {\n                sh \u0026#039;ansible-lint playbooks/\u0026#039;\n                sh \u0026#039;yamllint .\u0026#039;\n            }\n        }\n        \n        stage(\u0026#039;Syntax Check\u0026#039;) {\n            steps {\n                sh \u0026#039;ansible-playbook playbooks/site.yml --syntax-check\u0026#039;\n            }\n        }\n        \n        stage(\u0026#039;Dry Run\u0026#039;) {\n            steps {\n                sh \u0026#039;ansible-playbook playbooks/site.yml --check --diff\u0026#039;\n            }\n        }\n        \n        stage(\u0026#039;Deploy to Staging\u0026#039;) {\n            when {\n                branch \u0026#039;develop\u0026#039;\n            }\n            steps {\n                sh \u0026#039;ansible-playbook -i inventories/staging playbooks/site.yml\u0026#039;\n            }\n        }\n        \n        stage(\u0026#039;Deploy to Production\u0026#039;) {\n            when {\n                branch \u0026#039;main\u0026#039;\n            }\n            steps {\n                input \u0026#039;Deploy to Production?\u0026#039;\n                sh \u0026#039;ansible-playbook -i inventories/production playbooks/site.yml\u0026#039;\n            }\n        }\n        \n        stage(\u0026#039;Verify Deployment\u0026#039;) {\n            steps {\n                sh \u0026#039;ansible-playbook playbooks/system-verification.yml\u0026#039;\n            }\n        }\n    }\n    \n    post {\n        always {\n            archiveArtifacts artifacts: \u0026#039;logs/*.log\u0026#039;, allowEmptyArchive: true\n            publishHTML([\n                allowMissing: false,\n                alwaysLinkToLastBuild: true,\n                keepAll: true,\n                reportDir: \u0026#039;reports\u0026#039;,\n                reportFiles: \u0026#039;*.html\u0026#039;,\n                reportName: \u0026#039;Ansible Report\u0026#039;\n            ])\n        }\n        failure {\n            emailext (\n                subject: \u0026quot;Failed Pipeline: ${env.JOB_NAME} - ${env.BUILD_NUMBER}\u0026quot;,\n                body: \u0026quot;Something is wrong with ${env.BUILD_URL}\u0026quot;,\n                to: \u0026quot;${env.DEFAULT_RECIPIENTS}\u0026quot;\n            )\n        }\n    }\n}\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"gitlab-ci-integration\" class=\"mobile-header\"\u003eGitLab CI Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; .gitlab-ci.yml \u0026lt;\u0026lt;EOF\nstages:\n  - lint\n  - test\n  - deploy-staging\n  - deploy-production\n\nvariables:\n  ANSIBLE_CONFIG: ansible.cfg\n  ANSIBLE_HOST_KEY_CHECKING: \u0026quot;False\u0026quot;\n\nbefore_script:\n  - pip install ansible ansible-lint yamllint\n  - ansible-galaxy install -r requirements.yml\n\nlint:\n  stage: lint\n  script:\n    - ansible-lint playbooks/\n    - yamllint .\n  rules:\n    - if: \u0026#039;$CI_MERGE_REQUEST_IID\u0026#039;\n    - if: \u0026#039;$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH\u0026#039;\n\nsyntax-check:\n  stage: test\n  script:\n    - ansible-playbook playbooks/site.yml --syntax-check\n    - ansible-playbook playbooks/site.yml --check --diff -i inventories/staging\n  rules:\n    - if: \u0026#039;$CI_MERGE_REQUEST_IID\u0026#039;\n    - if: \u0026#039;$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH\u0026#039;\n\ndeploy-staging:\n  stage: deploy-staging\n  script:\n    - ansible-playbook -i inventories/staging playbooks/site.yml\n  rules:\n    - if: \u0026#039;$CI_COMMIT_BRANCH == \u0026quot;develop\u0026quot;\u0026#039;\n\ndeploy-production:\n  stage: deploy-production\n  script:\n    - ansible-playbook -i inventories/production playbooks/site.yml\n  rules:\n    - if: \u0026#039;$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH\u0026#039;\n      when: manual\n  environment:\n    name: production\n    url: https://production.example.com\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"troubleshooting-cross-platform\" class=\"mobile-header\"\u003eTroubleshooting (Cross-Platform)\u003c/h2\u003e\n\u003ch3 id=\"common-issues-and-solutions\" class=\"mobile-header\"\u003eCommon Issues and Solutions\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Debug connection issues\nansible all -m ping -vvv\n\n# Check SSH connectivity\nansible all -m setup --ask-pass --ask-become-pass\n\n# Verify inventory\nansible-inventory --list\nansible-inventory --graph\n\n# Test specific host\nansible target-host -m command -a \u0026quot;uptime\u0026quot;\n\n# Check syntax without execution\nansible-playbook playbooks/site.yml --syntax-check\n\n# Dry run with verbose output\nansible-playbook playbooks/site.yml --check --diff -vvv\n\n# Debug variable resolution\nansible-playbook playbooks/site.yml --extra-vars=\u0026quot;debug=true\u0026quot; --tags debug\n\n# Check facts\nansible all -m setup | grep ansible_os_family\n\n# Connection troubleshooting\nssh -vvv user@target-host\n\n# Permission issues\nansible all -m file -a \u0026quot;path=/tmp/test state=touch\u0026quot; --become\n\n# Vault issues\nansible-vault view group_vars/all/vault.yml\n\n# Performance debugging\nansible-playbook playbooks/site.yml --start-at-task=\u0026quot;specific task name\u0026quot;\nansible-playbook playbooks/site.yml --step\n\n# Module testing\nansible localhost -m debug -a \u0026quot;var=hostvars\u0026quot;\nansible localhost -m setup\n\n# Check for syntax errors in roles\nfind roles/ -name \u0026quot;*.yml\u0026quot; -exec ansible-playbook {} --syntax-check \\;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"advanced-debugging\" class=\"mobile-header\"\u003eAdvanced Debugging\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable comprehensive logging\nexport ANSIBLE_DEBUG=1\nexport ANSIBLE_VERBOSITY=4\nansible-playbook playbooks/site.yml\n\n# Profile playbook execution\nansible-playbook playbooks/site.yml --extra-vars=\u0026quot;profile_tasks_sort_order=none\u0026quot;\n\n# Memory usage analysis\nansible-playbook playbooks/site.yml --extra-vars=\u0026quot;ansible_python_interpreter=/usr/bin/python3\u0026quot;\n\n# Network debugging\nansible all -m command -a \u0026quot;ss -tulpn\u0026quot;\nansible all -m command -a \u0026quot;netstat -rn\u0026quot;\n\n# Process debugging\nansible all -m command -a \u0026quot;ps aux --sort=-%mem | head -10\u0026quot;\n\n# Disk usage analysis\nansible all -m command -a \u0026quot;df -h\u0026quot;\nansible all -m command -a \u0026quot;du -sh /var/log/*\u0026quot;\n\n# Service debugging\nansible all -m systemd -a \u0026quot;name=nginx\u0026quot; --become\nansible all -m command -a \u0026quot;systemctl status nginx\u0026quot; --become\n\n# Variable debugging\nansible-playbook playbooks/site.yml --extra-vars=\u0026quot;debug_vars=true\u0026quot; --tags debug_vars\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"additional-resources\" class=\"mobile-header\"\u003eAdditional Resources\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.ansible.com/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eOfficial Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://galaxy.ansible.com/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eAnsible Galaxy\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.ansible.com/ansible/latest/user_guide/playbooks_best_practices.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eBest Practices Guide\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.ansible.com/ansible/latest/user_guide/become.html#security-best-practices\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eSecurity Best Practices\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://molecule.readthedocs.io/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eAnsible Molecule Testing\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.ansible.com/ansible/latest/collections/index.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eCommunity Collections\u003c/a\u003e\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e---\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This guide is part of the \u003ca href=\"https://howtomgr.github.io\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eHowToMgr\u003c/a\u003e collection.\u003c/p\u003e","readTime":"31 min","wordCount":6191,"lastBuilt":"2025-09-14T06:13:09.503Z"},{"name":"certbot","displayName":"Certbot","slug":"certbot","description":"Repo for certbot","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/certbot","updatedAt":"2025-09-08T03:05:44Z","createdAt":"2025-09-08T03:05:34Z","readmeRaw":"## 👋 Welcome to certbot 🚀  \n\nDescription  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-certbot\" class=\"mobile-header\"\u003e👋 Welcome to certbot 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eDescription  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":14,"lastBuilt":"2025-09-14T06:13:23.708Z"},{"name":"code-server","displayName":"Code Server","slug":"code-server","description":"Repo for code-server","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/code-server","updatedAt":"2025-09-08T03:06:11Z","createdAt":"2025-09-08T03:06:01Z","readmeRaw":"## 👋 Welcome to code-server 🚀  \n\ncode-server README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-code-server\" class=\"mobile-header\"\u003e👋 Welcome to code-server 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003ecode-server README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T06:13:23.436Z"},{"name":"discourse","displayName":"Discourse","slug":"discourse","description":"Repo for discourse","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/discourse","updatedAt":"2025-09-08T03:06:31Z","createdAt":"2025-09-08T03:06:20Z","readmeRaw":"## 👋 Welcome to discourse 🚀  \n\ndiscourse README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-discourse\" class=\"mobile-header\"\u003e👋 Welcome to discourse 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003ediscourse README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T06:13:23.152Z"},{"name":"drupal","displayName":"Drupal","slug":"drupal","description":"Repo for drupal","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/drupal","updatedAt":"2025-09-08T03:06:48Z","createdAt":"2025-09-08T03:06:38Z","readmeRaw":"## 👋 Welcome to drupal 🚀  \n\ndrupal README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-drupal\" class=\"mobile-header\"\u003e👋 Welcome to drupal 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003edrupal README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T06:13:22.824Z"},{"name":"elasticsearch","displayName":"Elasticsearch","slug":"elasticsearch","description":"Repo for elasticsearch","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/elasticsearch","updatedAt":"2025-09-14T03:45:07Z","createdAt":"2025-09-08T03:06:51Z","readmeRaw":"# Elasticsearch Installation Guide\n\nElasticsearch is a free and open-source distributed, RESTful search and analytics engine. Originally developed by Shay Banon and now maintained by Elastic N.V., Elasticsearch is built on Apache Lucene and designed for horizontal scalability, reliability, and real-time search. It serves as a FOSS alternative to commercial search solutions like Amazon CloudSearch, Azure Cognitive Search, or Splunk Enterprise, offering enterprise-grade features including full-text search, aggregations, and analytics without licensing costs, with features like distributed architecture, RESTful API, and multi-tenancy.\n\n## Prerequisites\n\n- **Hardware Requirements**:\n  - CPU: 2 cores minimum (4+ cores recommended for production)\n  - RAM: 4GB minimum (16GB+ recommended for production)\n  - Storage: 20GB minimum (SSD strongly recommended for performance)\n  - Network: Stable connectivity for cluster communication\n- **Operating System**: \n  - Linux: Any modern distribution with kernel 3.2+\n  - macOS: 10.13+ (High Sierra or newer)\n  - Windows: Windows Server 2016+ or Windows 10\n  - FreeBSD: 11.0+\n- **Network Requirements**:\n  - Port 9200 (HTTP/REST API)\n  - Port 9300 (Node communication)\n  - Additional ports for cluster discovery\n- **Dependencies**:\n  - Java 11 or Java 17 (OpenJDK recommended)\n  - systemd or compatible init system (Linux)\n  - Root or administrative access for installation\n- **System Access**: root or sudo privileges required\n\n## Installation\n\n### RHEL/CentOS/Rocky Linux/AlmaLinux\n\n```bash\n# Install Java (OpenJDK)\nsudo yum install -y java-11-openjdk java-11-openjdk-devel\n\n# Import Elasticsearch GPG key\nsudo rpm --import https://artifacts.elastic.co/GPG-KEY-elasticsearch\n\n# Create Elasticsearch repository\nsudo tee /etc/yum.repos.d/elasticsearch.repo \u003c\u003cEOF\n[elasticsearch]\nname=Elasticsearch repository for 8.x packages\nbaseurl=https://artifacts.elastic.co/packages/8.x/yum\ngpgcheck=1\ngpgkey=https://artifacts.elastic.co/GPG-KEY-elasticsearch\nenabled=0\nautorefresh=1\ntype=rpm-md\nEOF\n\n# Install Elasticsearch\nsudo yum install -y --enablerepo=elasticsearch elasticsearch\n\n# Enable and start service\nsudo systemctl enable --now elasticsearch\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=9200/tcp\nsudo firewall-cmd --permanent --add-port=9300/tcp\nsudo firewall-cmd --reload\n\n# Verify installation\ncurl -X GET \"localhost:9200/\"\n```\n\n### Debian/Ubuntu\n\n```bash\n# Update package index\nsudo apt update\n\n# Install Java (OpenJDK)\nsudo apt install -y openjdk-11-jdk\n\n# Install prerequisite packages\nsudo apt install -y wget gnupg apt-transport-https\n\n# Import Elasticsearch GPG key\nwget -qO - https://artifacts.elastic.co/GPG-KEY-elasticsearch | sudo gpg --dearmor -o /etc/apt/trusted.gpg.d/elasticsearch.gpg\n\n# Add Elasticsearch repository\necho \"deb https://artifacts.elastic.co/packages/8.x/apt stable main\" | sudo tee /etc/apt/sources.list.d/elastic-8.x.list\n\n# Update package index\nsudo apt update\n\n# Install Elasticsearch\nsudo apt install -y elasticsearch\n\n# Enable and start service\nsudo systemctl enable --now elasticsearch\n\n# Configure firewall\nsudo ufw allow 9200\nsudo ufw allow 9300\n```\n\n### Arch Linux\n\n```bash\n# Install Java\nsudo pacman -S jdk11-openjdk\n\n# Elasticsearch is available in AUR\nyay -S elasticsearch\n\n# Alternative: Install from AUR with makepkg\ngit clone https://aur.archlinux.org/elasticsearch.git\ncd elasticsearch\nmakepkg -si\n\n# Create elasticsearch user and group\nsudo useradd -r -s /sbin/nologin elasticsearch\n\n# Create necessary directories\nsudo mkdir -p /var/lib/elasticsearch /var/log/elasticsearch\nsudo chown elasticsearch:elasticsearch /var/lib/elasticsearch /var/log/elasticsearch\n\n# Enable and start service\nsudo systemctl enable --now elasticsearch\n\n# Configuration location: /etc/elasticsearch/\n```\n\n### Alpine Linux\n\n```bash\n# Install Java\napk add --no-cache openjdk11\n\n# Elasticsearch is not officially packaged for Alpine\n# Use Docker for Elasticsearch on Alpine:\n\n# Install Docker\napk add --no-cache docker docker-compose\n\n# Enable and start Docker\nrc-update add docker default\nrc-service docker start\n\n# Run Elasticsearch container\ndocker run -d \\\n  --name elasticsearch \\\n  --restart unless-stopped \\\n  -p 9200:9200 -p 9300:9300 \\\n  -e \"discovery.type=single-node\" \\\n  -e \"xpack.security.enabled=false\" \\\n  -v /var/lib/elasticsearch:/usr/share/elasticsearch/data \\\n  elasticsearch:8.11.3\n\n# Verify installation\ncurl -X GET \"localhost:9200/\"\n```\n\n### openSUSE/SLES\n\n```bash\n# Install Java\nsudo zypper install -y java-11-openjdk java-11-openjdk-devel\n\n# Elasticsearch is not officially packaged for openSUSE/SLES\n# Use Docker or manual installation:\n\n# Method 1: Docker installation\nsudo zypper install -y docker docker-compose\nsudo systemctl enable --now docker\n\ndocker run -d \\\n  --name elasticsearch \\\n  --restart unless-stopped \\\n  -p 9200:9200 -p 9300:9300 \\\n  -e \"discovery.type=single-node\" \\\n  -e \"xpack.security.enabled=false\" \\\n  -v /var/lib/elasticsearch:/usr/share/elasticsearch/data \\\n  elasticsearch:8.11.3\n\n# Method 2: Manual installation from tarball\nwget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-8.11.3-linux-x86_64.tar.gz\ntar -xzf elasticsearch-8.11.3-linux-x86_64.tar.gz\nsudo mv elasticsearch-8.11.3 /usr/local/elasticsearch\n\n# Create elasticsearch user and directories\nsudo useradd -r elasticsearch\nsudo mkdir -p /var/lib/elasticsearch /var/log/elasticsearch\nsudo chown elasticsearch:elasticsearch /var/lib/elasticsearch /var/log/elasticsearch\n```\n\n### macOS\n\n```bash\n# Using Homebrew\nbrew tap elastic/tap\nbrew install elastic/tap/elasticsearch-full\n\n# Start Elasticsearch service\nbrew services start elastic/tap/elasticsearch-full\n\n# Or run manually\nelasticsearch\n\n# Configuration location: /usr/local/etc/elasticsearch/\n# Alternative: /opt/homebrew/etc/elasticsearch/ (Apple Silicon)\n```\n\n### FreeBSD\n\n```bash\n# Install Java\npkg install openjdk11\n\n# Install Elasticsearch from ports\ncd /usr/ports/textproc/elasticsearch8\nmake install clean\n\n# Enable Elasticsearch\necho 'elasticsearch_enable=\"YES\"' \u003e\u003e /etc/rc.conf\n\n# Start service\nservice elasticsearch start\n\n# Configuration location: /usr/local/etc/elasticsearch/\n```\n\n### Windows\n\n```powershell\n# Method 1: Using Chocolatey\nchoco install elasticsearch\n\n# Method 2: Using Scoop\nscoop bucket add java\nscoop install openjdk11\nscoop bucket add extras\nscoop install elasticsearch\n\n# Method 3: Manual installation\n# Download from https://www.elastic.co/downloads/elasticsearch\n# Extract to C:\\elasticsearch\n\n# Install as Windows service\n\"C:\\elasticsearch\\bin\\elasticsearch-service.bat\" install\n\n# Start service\nnet start Elasticsearch\n\n# Configuration location: C:\\elasticsearch\\config\\elasticsearch.yml\n```\n\n## Initial Configuration\n\n### First-Run Setup\n\n1. **Create elasticsearch user** (if not created by package):\n```bash\n# Linux systems\nsudo useradd -r -d /var/lib/elasticsearch -s /sbin/nologin -c \"Elasticsearch\" elasticsearch\n```\n\n2. **Default configuration locations**:\n- RHEL/CentOS/Rocky/AlmaLinux: `/etc/elasticsearch/elasticsearch.yml`\n- Debian/Ubuntu: `/etc/elasticsearch/elasticsearch.yml`\n- Arch Linux: `/etc/elasticsearch/elasticsearch.yml`\n- Alpine Linux: Docker container configuration\n- openSUSE/SLES: `/etc/elasticsearch/elasticsearch.yml` (manual installation)\n- macOS: `/usr/local/etc/elasticsearch/elasticsearch.yml`\n- FreeBSD: `/usr/local/etc/elasticsearch/elasticsearch.yml`\n- Windows: `C:\\elasticsearch\\config\\elasticsearch.yml`\n\n3. **Essential settings to change**:\n\n```yaml\n# /etc/elasticsearch/elasticsearch.yml\ncluster.name: my-application\nnode.name: node-1\n\npath.data: /var/lib/elasticsearch\npath.logs: /var/log/elasticsearch\n\nnetwork.host: 127.0.0.1\nhttp.port: 9200\n\ndiscovery.type: single-node\n\n# Security (disable for initial setup, enable for production)\nxpack.security.enabled: true\nxpack.security.enrollment.enabled: true\n\n# Memory settings\nbootstrap.memory_lock: true\n\n# Index settings\naction.auto_create_index: .monitoring*,.watches,.triggered_watches,.watcher-history*,.ml*\n```\n\n### Testing Initial Setup\n\n```bash\n# Check if Elasticsearch is running\nsudo systemctl status elasticsearch\n\n# Test REST API\ncurl -X GET \"localhost:9200/\"\n\n# Check cluster health\ncurl -X GET \"localhost:9200/_cluster/health?pretty\"\n\n# Check nodes\ncurl -X GET \"localhost:9200/_cat/nodes?v\"\n\n# Test indexing and searching\ncurl -X PUT \"localhost:9200/test_index/_doc/1\" -H 'Content-Type: application/json' -d '{\"message\": \"Hello Elasticsearch\"}'\ncurl -X GET \"localhost:9200/test_index/_search?pretty\"\n```\n\n**WARNING:** Enable X-Pack security for production deployments!\n\n## Service Management\n\n### systemd (RHEL, Debian, Ubuntu, Arch, openSUSE)\n\n```bash\n# Enable Elasticsearch to start on boot\nsudo systemctl enable elasticsearch\n\n# Start Elasticsearch\nsudo systemctl start elasticsearch\n\n# Stop Elasticsearch\nsudo systemctl stop elasticsearch\n\n# Restart Elasticsearch\nsudo systemctl restart elasticsearch\n\n# Reload configuration (not supported, requires restart)\nsudo systemctl restart elasticsearch\n\n# Check status\nsudo systemctl status elasticsearch\n\n# View logs\nsudo journalctl -u elasticsearch -f\n```\n\n### OpenRC (Alpine Linux)\n\n```bash\n# Elasticsearch runs in Docker container on Alpine\ndocker start elasticsearch\ndocker stop elasticsearch\ndocker restart elasticsearch\n\n# Check status\ndocker ps | grep elasticsearch\n\n# View logs\ndocker logs -f elasticsearch\n```\n\n### rc.d (FreeBSD)\n\n```bash\n# Enable in /etc/rc.conf\necho 'elasticsearch_enable=\"YES\"' \u003e\u003e /etc/rc.conf\n\n# Start Elasticsearch\nservice elasticsearch start\n\n# Stop Elasticsearch\nservice elasticsearch stop\n\n# Restart Elasticsearch\nservice elasticsearch restart\n\n# Check status\nservice elasticsearch status\n```\n\n### launchd (macOS)\n\n```bash\n# Using Homebrew services\nbrew services start elastic/tap/elasticsearch-full\nbrew services stop elastic/tap/elasticsearch-full\nbrew services restart elastic/tap/elasticsearch-full\n\n# Check status\nbrew services list | grep elasticsearch\n\n# Manual control\nelasticsearch\n```\n\n### Windows Service Manager\n\n```powershell\n# Start Elasticsearch service\nnet start Elasticsearch\n\n# Stop Elasticsearch service\nnet stop Elasticsearch\n\n# Using PowerShell\nStart-Service Elasticsearch\nStop-Service Elasticsearch\nRestart-Service Elasticsearch\n\n# Check status\nGet-Service Elasticsearch\n\n# View logs\nGet-EventLog -LogName Application -Source Elasticsearch\n```\n\n## Advanced Configuration\n\n### Cluster Configuration\n\n```yaml\n# Multi-node cluster configuration\ncluster.name: production-cluster\nnode.name: node-1\nnode.roles: [master, data, ingest]\n\nnetwork.host: 0.0.0.0\nhttp.port: 9200\ntransport.port: 9300\n\ndiscovery.seed_hosts: [\"node1.example.com\", \"node2.example.com\", \"node3.example.com\"]\ncluster.initial_master_nodes: [\"node-1\", \"node-2\", \"node-3\"]\n\n# Node-specific roles\n# Master-eligible node\nnode.roles: [master]\n\n# Data node\nnode.roles: [data]\n\n# Ingest node\nnode.roles: [ingest]\n\n# Coordinating only node\nnode.roles: []\n```\n\n### Memory and Performance Configuration\n\n```yaml\n# JVM heap settings (in elasticsearch.yml or jvm.options)\n# Set via environment variables:\nES_JAVA_OPTS: \"-Xms4g -Xmx4g\"\n\n# Thread pool settings\nthread_pool:\n  write:\n    size: 8\n    queue_size: 200\n  search:\n    size: 13\n    queue_size: 1000\n\n# Index settings\nindices.memory.index_buffer_size: 20%\nindices.breaker.total.use_real_memory: true\n```\n\n### Advanced Security Settings\n\n```yaml\n# X-Pack Security configuration\nxpack.security.enabled: true\nxpack.security.enrollment.enabled: true\n\n# SSL/TLS configuration\nxpack.security.http.ssl.enabled: true\nxpack.security.http.ssl.keystore.path: certs/http.p12\nxpack.security.transport.ssl.enabled: true\nxpack.security.transport.ssl.verification_mode: certificate\nxpack.security.transport.ssl.keystore.path: certs/transport.p12\nxpack.security.transport.ssl.truststore.path: certs/transport.p12\n\n# Authentication realms\nxpack.security.authc.realms:\n  native:\n    native1:\n      order: 0\n```\n\n## Reverse Proxy Setup\n\n### nginx Configuration\n\n```nginx\n# /etc/nginx/sites-available/elasticsearch\nupstream elasticsearch_backend {\n    server 127.0.0.1:9200 max_fails=3 fail_timeout=30s;\n    server 127.0.0.1:9201 max_fails=3 fail_timeout=30s backup;\n}\n\nserver {\n    listen 80;\n    server_name elasticsearch.example.com;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name elasticsearch.example.com;\n\n    ssl_certificate /etc/letsencrypt/live/elasticsearch.example.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/elasticsearch.example.com/privkey.pem;\n\n    # Security headers\n    add_header Strict-Transport-Security \"max-age=63072000\" always;\n\n    location / {\n        proxy_pass http://elasticsearch_backend;\n        proxy_http_version 1.1;\n        proxy_set_header Host $http_host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        proxy_connect_timeout 60s;\n        proxy_send_timeout 60s;\n        proxy_read_timeout 60s;\n    }\n}\n```\n\n### Apache Configuration\n\n```apache\n# /etc/apache2/sites-available/elasticsearch.conf\n\u003cVirtualHost *:443\u003e\n    ServerName elasticsearch.example.com\n    \n    SSLEngine on\n    SSLCertificateFile /etc/letsencrypt/live/elasticsearch.example.com/fullchain.pem\n    SSLCertificateKeyFile /etc/letsencrypt/live/elasticsearch.example.com/privkey.pem\n    \n    ProxyPreserveHost On\n    ProxyPass / http://localhost:9200/\n    ProxyPassReverse / http://localhost:9200/\n    \n    Header always set Strict-Transport-Security \"max-age=63072000\"\n\u003c/VirtualHost\u003e\n```\n\n### HAProxy Configuration\n\n```haproxy\n# /etc/haproxy/haproxy.cfg\nfrontend elasticsearch_frontend\n    bind *:9200 ssl crt /etc/haproxy/certs/elasticsearch.pem\n    mode http\n    option httplog\n    default_backend elasticsearch_backend\n\nbackend elasticsearch_backend\n    mode http\n    balance roundrobin\n    option httpchk GET /_cluster/health\n    server elasticsearch1 127.0.0.1:9200 check\n    server elasticsearch2 127.0.0.1:9201 check backup\n```\n\n## Security Configuration\n\n### SSL/TLS Setup\n\n```bash\n# Generate certificates using Elasticsearch's certificate tool\ncd /usr/share/elasticsearch\nsudo bin/elasticsearch-certutil ca --pem --out /tmp/ca.zip\nsudo unzip /tmp/ca.zip -d /tmp/ca\nsudo bin/elasticsearch-certutil cert --ca-cert /tmp/ca/ca.crt --ca-key /tmp/ca/ca.key --pem --out /tmp/certs.zip\nsudo unzip /tmp/certs.zip -d /tmp/certs\n\n# Create certificates directory\nsudo mkdir -p /etc/elasticsearch/certs\nsudo cp /tmp/ca/ca.crt /etc/elasticsearch/certs/\nsudo cp /tmp/certs/instance/instance.crt /etc/elasticsearch/certs/\nsudo cp /tmp/certs/instance/instance.key /etc/elasticsearch/certs/\n\n# Create keystore\nsudo bin/elasticsearch-keystore create\nsudo bin/elasticsearch-keystore add xpack.security.http.ssl.keystore.secure_password\nsudo bin/elasticsearch-keystore add xpack.security.transport.ssl.keystore.secure_password\n\n# Set permissions\nsudo chown -R elasticsearch:elasticsearch /etc/elasticsearch/certs\nsudo chmod 600 /etc/elasticsearch/certs/*\n```\n\n### User Management and Authentication\n\n```bash\n# Set passwords for built-in users (run after enabling security)\nsudo /usr/share/elasticsearch/bin/elasticsearch-setup-passwords auto\n\n# Create custom users\ncurl -X POST \"localhost:9200/_security/user/appuser\" -H 'Content-Type: application/json' -u elastic:password -d'\n{\n  \"password\" : \"SecurePassword123!\",\n  \"roles\" : [ \"kibana_admin\", \"monitoring_user\" ],\n  \"full_name\" : \"Application User\",\n  \"email\" : \"appuser@example.com\"\n}'\n\n# Create custom roles\ncurl -X POST \"localhost:9200/_security/role/log_reader\" -H 'Content-Type: application/json' -u elastic:password -d'\n{\n  \"cluster\": [\"monitor\"],\n  \"indices\": [\n    {\n      \"names\": [\"logs-*\"],\n      \"privileges\": [\"read\", \"view_index_metadata\"]\n    }\n  ]\n}'\n```\n\n### Firewall Rules\n\n```bash\n# UFW (Ubuntu/Debian)\nsudo ufw allow from 192.168.1.0/24 to any port 9200\nsudo ufw allow from 192.168.1.0/24 to any port 9300\nsudo ufw reload\n\n# firewalld (RHEL/CentOS/openSUSE)\nsudo firewall-cmd --permanent --new-zone=elasticsearch\nsudo firewall-cmd --permanent --zone=elasticsearch --add-source=192.168.1.0/24\nsudo firewall-cmd --permanent --zone=elasticsearch --add-port=9200/tcp\nsudo firewall-cmd --permanent --zone=elasticsearch --add-port=9300/tcp\nsudo firewall-cmd --reload\n\n# iptables\nsudo iptables -A INPUT -s 192.168.1.0/24 -p tcp --dport 9200 -j ACCEPT\nsudo iptables -A INPUT -s 192.168.1.0/24 -p tcp --dport 9300 -j ACCEPT\nsudo iptables-save \u003e /etc/iptables/rules.v4\n\n# pf (FreeBSD)\n# Add to /etc/pf.conf\npass in on $ext_if proto tcp from 192.168.1.0/24 to any port { 9200, 9300 }\n\n# Windows Firewall\nNew-NetFirewallRule -DisplayName \"Elasticsearch HTTP\" -Direction Inbound -Protocol TCP -LocalPort 9200 -RemoteAddress 192.168.1.0/24 -Action Allow\nNew-NetFirewallRule -DisplayName \"Elasticsearch Transport\" -Direction Inbound -Protocol TCP -LocalPort 9300 -RemoteAddress 192.168.1.0/24 -Action Allow\n```\n\n## Database Setup\n\n### Index Templates and Mappings\n\n```bash\n# Create index template\ncurl -X PUT \"localhost:9200/_index_template/logs_template\" -H 'Content-Type: application/json' -d'\n{\n  \"index_patterns\": [\"logs-*\"],\n  \"template\": {\n    \"settings\": {\n      \"number_of_shards\": 1,\n      \"number_of_replicas\": 1,\n      \"index.refresh_interval\": \"30s\"\n    },\n    \"mappings\": {\n      \"properties\": {\n        \"timestamp\": {\n          \"type\": \"date\"\n        },\n        \"level\": {\n          \"type\": \"keyword\"\n        },\n        \"message\": {\n          \"type\": \"text\",\n          \"analyzer\": \"standard\"\n        },\n        \"host\": {\n          \"type\": \"keyword\"\n        }\n      }\n    }\n  }\n}'\n\n# Create index with custom settings\ncurl -X PUT \"localhost:9200/my_index\" -H 'Content-Type: application/json' -d'\n{\n  \"settings\": {\n    \"number_of_shards\": 3,\n    \"number_of_replicas\": 2,\n    \"analysis\": {\n      \"analyzer\": {\n        \"custom_analyzer\": {\n          \"type\": \"custom\",\n          \"tokenizer\": \"standard\",\n          \"filter\": [\"lowercase\", \"asciifolding\"]\n        }\n      }\n    }\n  },\n  \"mappings\": {\n    \"properties\": {\n      \"title\": {\n        \"type\": \"text\",\n        \"analyzer\": \"custom_analyzer\"\n      },\n      \"content\": {\n        \"type\": \"text\"\n      },\n      \"tags\": {\n        \"type\": \"keyword\"\n      },\n      \"created_at\": {\n        \"type\": \"date\"\n      }\n    }\n  }\n}'\n```\n\n### Index Lifecycle Management\n\n```bash\n# Create ILM policy\ncurl -X PUT \"localhost:9200/_ilm/policy/logs_policy\" -H 'Content-Type: application/json' -d'\n{\n  \"policy\": {\n    \"phases\": {\n      \"hot\": {\n        \"actions\": {\n          \"rollover\": {\n            \"max_size\": \"10gb\",\n            \"max_age\": \"7d\"\n          }\n        }\n      },\n      \"warm\": {\n        \"min_age\": \"7d\",\n        \"actions\": {\n          \"allocate\": {\n            \"number_of_replicas\": 0\n          }\n        }\n      },\n      \"cold\": {\n        \"min_age\": \"30d\",\n        \"actions\": {\n          \"allocate\": {\n            \"number_of_replicas\": 0\n          }\n        }\n      },\n      \"delete\": {\n        \"min_age\": \"90d\"\n      }\n    }\n  }\n}'\n```\n\n## Performance Optimization\n\n### System Tuning\n\n```bash\n# Elasticsearch-specific system optimizations\nsudo tee -a /etc/sysctl.conf \u003c\u003cEOF\n# Elasticsearch optimizations\nvm.max_map_count = 262144\nvm.swappiness = 1\nfs.file-max = 65535\nnet.core.somaxconn = 32768\nnet.ipv4.tcp_max_syn_backlog = 8192\nEOF\n\nsudo sysctl -p\n\n# Disable swap\nsudo swapoff -a\necho 'vm.swappiness=1' | sudo tee -a /etc/sysctl.conf\n\n# Set file descriptor limits\nsudo tee -a /etc/security/limits.conf \u003c\u003cEOF\nelasticsearch soft nofile 65535\nelasticsearch hard nofile 65535\nelasticsearch soft memlock unlimited\nelasticsearch hard memlock unlimited\nEOF\n```\n\n### JVM and Memory Tuning\n\n```bash\n# JVM options (/etc/elasticsearch/jvm.options)\n# Set heap size (50% of available RAM, max 32GB)\n-Xms8g\n-Xmx8g\n\n# GC settings\n-XX:+UseG1GC\n-XX:G1HeapRegionSize=16m\n-XX:+UnlockExperimentalVMOptions\n-XX:+UnlockDiagnosticVMOptions\n-XX:+G1PrintRegionRememberedSetInfo\n\n# Memory lock\n-XX:+AlwaysPreTouch\n```\n\n### Index and Query Optimization\n\n```bash\n# Index optimization settings\ncurl -X PUT \"localhost:9200/my_index/_settings\" -H 'Content-Type: application/json' -d'\n{\n  \"index\": {\n    \"refresh_interval\": \"30s\",\n    \"number_of_replicas\": 1,\n    \"routing.allocation.total_shards_per_node\": 3,\n    \"translog.flush_threshold_size\": \"1gb\",\n    \"translog.sync_interval\": \"30s\"\n  }\n}'\n\n# Force merge indices\ncurl -X POST \"localhost:9200/my_index/_forcemerge?max_num_segments=1\"\n\n# Clear cache\ncurl -X POST \"localhost:9200/_cache/clear\"\n```\n\n## Monitoring\n\n### Built-in Monitoring\n\n```bash\n# Cluster health\ncurl -X GET \"localhost:9200/_cluster/health?pretty\"\n\n# Node statistics\ncurl -X GET \"localhost:9200/_nodes/stats?pretty\"\n\n# Index statistics\ncurl -X GET \"localhost:9200/_stats?pretty\"\n\n# Hot threads\ncurl -X GET \"localhost:9200/_nodes/hot_threads\"\n\n# Task management\ncurl -X GET \"localhost:9200/_tasks?detailed=true\u0026actions=*search\"\n\n# Pending cluster tasks\ncurl -X GET \"localhost:9200/_cluster/pending_tasks\"\n```\n\n### External Monitoring Setup\n\n```bash\n# Install Metricbeat for monitoring\ncurl -L -O https://artifacts.elastic.co/downloads/beats/metricbeat/metricbeat-8.11.3-linux-x86_64.tar.gz\ntar xzvf metricbeat-8.11.3-linux-x86_64.tar.gz\nsudo mv metricbeat-8.11.3-linux-x86_64 /usr/local/metricbeat\n\n# Configure Metricbeat for Elasticsearch monitoring\nsudo tee /usr/local/metricbeat/metricbeat.yml \u003c\u003cEOF\nmetricbeat.modules:\n- module: elasticsearch\n  metricsets:\n    - node\n    - node_stats\n    - cluster_stats\n  period: 10s\n  hosts: [\"localhost:9200\"]\n\noutput.elasticsearch:\n  hosts: [\"localhost:9200\"]\n\nsetup.kibana:\n  host: \"localhost:5601\"\nEOF\n\n# Create systemd service for Metricbeat\nsudo tee /etc/systemd/system/metricbeat.service \u003c\u003cEOF\n[Unit]\nDescription=Metricbeat\nAfter=network.target\n\n[Service]\nType=simple\nUser=elasticsearch\nWorkingDirectory=/usr/local/metricbeat\nExecStart=/usr/local/metricbeat/metricbeat -c /usr/local/metricbeat/metricbeat.yml\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsudo systemctl enable --now metricbeat\n```\n\n### Health Check Scripts\n\n```bash\n#!/bin/bash\n# elasticsearch-health-check.sh\n\n# Check Elasticsearch service\nif ! systemctl is-active elasticsearch \u003e/dev/null 2\u003e\u00261; then\n    echo \"CRITICAL: Elasticsearch service is not running\"\n    exit 2\nfi\n\n# Check HTTP API\nif ! curl -s http://localhost:9200/ \u003e/dev/null; then\n    echo \"CRITICAL: Cannot connect to Elasticsearch HTTP API\"\n    exit 2\nfi\n\n# Check cluster health\nCLUSTER_STATUS=$(curl -s http://localhost:9200/_cluster/health | jq -r '.status')\ncase $CLUSTER_STATUS in\n    \"green\")\n        echo \"OK: Cluster health is green\"\n        exit 0\n        ;;\n    \"yellow\")\n        echo \"WARNING: Cluster health is yellow\"\n        exit 1\n        ;;\n    \"red\")\n        echo \"CRITICAL: Cluster health is red\"\n        exit 2\n        ;;\n    *)\n        echo \"UNKNOWN: Cannot determine cluster health\"\n        exit 3\n        ;;\nesac\n```\n\n## Backup and Restore\n\n### Snapshot Repository Setup\n\n```bash\n# Create snapshot repository\ncurl -X PUT \"localhost:9200/_snapshot/backup_repo\" -H 'Content-Type: application/json' -d'\n{\n  \"type\": \"fs\",\n  \"settings\": {\n    \"location\": \"/backup/elasticsearch\",\n    \"compress\": true,\n    \"max_snapshot_bytes_per_sec\": \"50mb\",\n    \"max_restore_bytes_per_sec\": \"50mb\"\n  }\n}'\n\n# Create backup directory\nsudo mkdir -p /backup/elasticsearch\nsudo chown elasticsearch:elasticsearch /backup/elasticsearch\n\n# Add repository path to elasticsearch.yml\necho 'path.repo: [\"/backup/elasticsearch\"]' | sudo tee -a /etc/elasticsearch/elasticsearch.yml\nsudo systemctl restart elasticsearch\n```\n\n### Backup Procedures\n\n```bash\n#!/bin/bash\n# elasticsearch-backup.sh\n\nSNAPSHOT_NAME=\"snapshot-$(date +%Y%m%d_%H%M%S)\"\n\n# Create snapshot\ncurl -X PUT \"localhost:9200/_snapshot/backup_repo/$SNAPSHOT_NAME?wait_for_completion=true\" -H 'Content-Type: application/json' -d'\n{\n  \"indices\": \"*\",\n  \"ignore_unavailable\": true,\n  \"include_global_state\": true,\n  \"metadata\": {\n    \"taken_by\": \"elasticsearch-backup-script\",\n    \"taken_because\": \"scheduled backup\"\n  }\n}'\n\n# Verify snapshot\nSNAPSHOT_STATUS=$(curl -s \"localhost:9200/_snapshot/backup_repo/$SNAPSHOT_NAME\" | jq -r '.snapshots[0].state')\n\nif [ \"$SNAPSHOT_STATUS\" = \"SUCCESS\" ]; then\n    echo \"Backup completed successfully: $SNAPSHOT_NAME\"\nelse\n    echo \"Backup failed: $SNAPSHOT_NAME\"\n    exit 1\nfi\n\n# Clean up old snapshots (keep last 7 days)\ncurl -s \"localhost:9200/_snapshot/backup_repo/_all\" | jq -r '.snapshots[] | select(.end_time_in_millis \u003c '$(date -d '7 days ago' +%s000)') | .snapshot' | while read snapshot; do\n    curl -X DELETE \"localhost:9200/_snapshot/backup_repo/$snapshot\"\n    echo \"Deleted old snapshot: $snapshot\"\ndone\n\necho \"Elasticsearch backup completed: $SNAPSHOT_NAME\"\n```\n\n### Restore Procedures\n\n```bash\n#!/bin/bash\n# elasticsearch-restore.sh\n\nSNAPSHOT_NAME=\"$1\"\nif [ -z \"$SNAPSHOT_NAME\" ]; then\n    echo \"Usage: $0 \u003csnapshot-name\u003e\"\n    echo \"Available snapshots:\"\n    curl -s \"localhost:9200/_snapshot/backup_repo/_all\" | jq -r '.snapshots[].snapshot'\n    exit 1\nfi\n\n# Close indices before restore\ncurl -X POST \"localhost:9200/_all/_close\"\n\n# Restore snapshot\ncurl -X POST \"localhost:9200/_snapshot/backup_repo/$SNAPSHOT_NAME/_restore?wait_for_completion=true\" -H 'Content-Type: application/json' -d'\n{\n  \"indices\": \"*\",\n  \"ignore_unavailable\": true,\n  \"include_global_state\": true\n}'\n\necho \"Restore completed from snapshot: $SNAPSHOT_NAME\"\n```\n\n### Automated Backup\n\n```bash\n# Create cron job for daily backups\necho \"0 2 * * * /usr/local/bin/elasticsearch-backup.sh\" | sudo crontab -\n```\n\n## Troubleshooting\n\n### Common Issues\n\n1. **Elasticsearch won't start**:\n```bash\n# Check logs\nsudo journalctl -u elasticsearch -f\nsudo tail -f /var/log/elasticsearch/elasticsearch.log\n\n# Check Java version\njava -version\n\n# Check memory settings\ngrep -E \"Xms|Xmx\" /etc/elasticsearch/jvm.options\n\n# Check disk space\ndf -h /var/lib/elasticsearch\n```\n\n2. **Out of memory errors**:\n```bash\n# Check heap usage\ncurl -X GET \"localhost:9200/_nodes/stats/jvm?pretty\"\n\n# Check field data cache\ncurl -X GET \"localhost:9200/_nodes/stats/indices/fielddata?pretty\"\n\n# Clear field data cache\ncurl -X POST \"localhost:9200/_cache/clear?fielddata=true\"\n```\n\n3. **Slow queries**:\n```bash\n# Enable slow log\ncurl -X PUT \"localhost:9200/_all/_settings\" -H 'Content-Type: application/json' -d'\n{\n  \"index.search.slowlog.threshold.query.warn\": \"10s\",\n  \"index.search.slowlog.threshold.query.info\": \"5s\",\n  \"index.search.slowlog.threshold.query.debug\": \"2s\",\n  \"index.search.slowlog.threshold.query.trace\": \"500ms\"\n}'\n\n# Check slow queries\nsudo tail -f /var/log/elasticsearch/*_index_search_slowlog.log\n```\n\n### Debug Mode\n\n```bash\n# Enable debug logging\ncurl -X PUT \"localhost:9200/_cluster/settings\" -H 'Content-Type: application/json' -d'\n{\n  \"transient\": {\n    \"logger.org.elasticsearch\": \"DEBUG\"\n  }\n}'\n\n# Check cluster state\ncurl -X GET \"localhost:9200/_cluster/state?pretty\"\n\n# Explain API for query analysis\ncurl -X GET \"localhost:9200/my_index/_search\" -H 'Content-Type: application/json' -d'\n{\n  \"explain\": true,\n  \"query\": {\n    \"match\": {\n      \"title\": \"search term\"\n    }\n  }\n}'\n```\n\n## Maintenance\n\n### Update Procedures\n\n```bash\n# RHEL/CentOS/Rocky/AlmaLinux\nsudo yum check-update elasticsearch\nsudo yum update elasticsearch\n\n# Debian/Ubuntu\nsudo apt update\nsudo apt upgrade elasticsearch\n\n# Arch Linux\nyay -Syu elasticsearch\n\n# macOS\nbrew upgrade elastic/tap/elasticsearch-full\n\n# Docker (Alpine/openSUSE)\ndocker pull elasticsearch:8.11.3\ndocker stop elasticsearch\ndocker rm elasticsearch\n# Re-run docker run command with new image\n\n# Always backup before updates\n./elasticsearch-backup.sh\n\n# Restart after updates\nsudo systemctl restart elasticsearch\n```\n\n### Maintenance Tasks\n\n```bash\n# Weekly maintenance script\n#!/bin/bash\n# elasticsearch-maintenance.sh\n\n# Force merge old indices\ncurl -X POST \"localhost:9200/logs-$(date -d '1 week ago' +%Y.%m.%d)/_forcemerge?max_num_segments=1\"\n\n# Clear caches\ncurl -X POST \"localhost:9200/_cache/clear\"\n\n# Optimize indices\ncurl -X POST \"localhost:9200/_optimize\"\n\n# Update index settings for better performance\ncurl -X PUT \"localhost:9200/_all/_settings\" -H 'Content-Type: application/json' -d'\n{\n  \"index\": {\n    \"refresh_interval\": \"30s\"\n  }\n}'\n\necho \"Elasticsearch maintenance completed\"\n```\n\n### Health Monitoring\n\n```bash\n# Create monitoring cron job\necho \"*/5 * * * * /usr/local/bin/elasticsearch-health-check.sh\" | sudo crontab -\n\n# Log rotation\nsudo tee /etc/logrotate.d/elasticsearch \u003c\u003cEOF\n/var/log/elasticsearch/*.log {\n    daily\n    rotate 7\n    compress\n    delaycompress\n    missingok\n    notifempty\n    create 640 elasticsearch elasticsearch\n    postrotate\n        systemctl restart elasticsearch \u003e /dev/null 2\u003e\u00261 || true\n    endscript\n}\nEOF\n```\n\n## Integration Examples\n\n### Python Integration\n\n```python\n# Using elasticsearch-py\nfrom elasticsearch import Elasticsearch\n\n# Connect to Elasticsearch\nes = Elasticsearch(\n    hosts=[{'host': 'localhost', 'port': 9200}],\n    http_auth=('elastic', 'password'),\n    use_ssl=True,\n    verify_certs=True,\n    ca_certs='/etc/elasticsearch/certs/ca.crt',\n)\n\n# Index a document\ndoc = {\n    'title': 'Sample Document',\n    'content': 'This is a sample document for testing',\n    'timestamp': '2024-01-15T10:30:00'\n}\nes.index(index='my_index', id=1, body=doc)\n\n# Search documents\nresponse = es.search(\n    index='my_index',\n    body={\n        'query': {\n            'match': {\n                'content': 'sample'\n            }\n        }\n    }\n)\nprint(response['hits'])\n```\n\n### Node.js Integration\n\n```javascript\n// Using @elastic/elasticsearch\nconst { Client } = require('@elastic/elasticsearch');\n\nconst client = new Client({\n  node: 'https://localhost:9200',\n  auth: {\n    username: 'elastic',\n    password: 'password'\n  },\n  tls: {\n    ca: fs.readFileSync('/etc/elasticsearch/certs/ca.crt'),\n    rejectUnauthorized: true\n  }\n});\n\n// Index a document\nasync function indexDocument() {\n  const response = await client.index({\n    index: 'my_index',\n    id: 1,\n    body: {\n      title: 'Sample Document',\n      content: 'This is a sample document for testing',\n      timestamp: new Date()\n    }\n  });\n  console.log(response);\n}\n\n// Search documents\nasync function searchDocuments() {\n  const response = await client.search({\n    index: 'my_index',\n    body: {\n      query: {\n        match: {\n          content: 'sample'\n        }\n      }\n    }\n  });\n  console.log(response.body.hits);\n}\n```\n\n### Java Integration\n\n```java\n// Using Elasticsearch Java client\nimport org.elasticsearch.client.RestClient;\nimport org.elasticsearch.client.RestHighLevelClient;\nimport org.elasticsearch.action.index.IndexRequest;\nimport org.elasticsearch.action.search.SearchRequest;\nimport org.elasticsearch.common.xcontent.XContentType;\n\nRestHighLevelClient client = new RestHighLevelClient(\n    RestClient.builder(new HttpHost(\"localhost\", 9200, \"https\"))\n        .setHttpClientConfigCallback(httpClientBuilder -\u003e \n            httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider)\n                .setSSLContext(sslContext))\n);\n\n// Index a document\nIndexRequest indexRequest = new IndexRequest(\"my_index\")\n    .id(\"1\")\n    .source(\"{\\n\" +\n        \"\\\"title\\\":\\\"Sample Document\\\",\\n\" +\n        \"\\\"content\\\":\\\"This is a sample document for testing\\\",\\n\" +\n        \"\\\"timestamp\\\":\\\"2024-01-15T10:30:00\\\"\\n\" +\n        \"}\", XContentType.JSON);\n\nclient.index(indexRequest, RequestOptions.DEFAULT);\n```\n\n### Logstash Integration\n\n```ruby\n# logstash.conf\ninput {\n  beats {\n    port =\u003e 5044\n  }\n}\n\nfilter {\n  if [fields][log_type] == \"apache\" {\n    grok {\n      match =\u003e { \"message\" =\u003e \"%{COMBINEDAPACHELOG}\" }\n    }\n    date {\n      match =\u003e [ \"timestamp\", \"dd/MMM/yyyy:HH:mm:ss Z\" ]\n    }\n  }\n}\n\noutput {\n  elasticsearch {\n    hosts =\u003e [\"localhost:9200\"]\n    user =\u003e \"logstash_user\"\n    password =\u003e \"logstash_password\"\n    index =\u003e \"logs-%{+YYYY.MM.dd}\"\n  }\n}\n```\n\n## Additional Resources\n\n- [Official Elasticsearch Documentation](https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html)\n- [Elasticsearch Security Guide](https://www.elastic.co/guide/en/elasticsearch/reference/current/security-minimal-setup.html)\n- [Performance Tuning Guide](https://www.elastic.co/guide/en/elasticsearch/reference/current/tune-for-search-speed.html)\n- [Index Lifecycle Management](https://www.elastic.co/guide/en/elasticsearch/reference/current/index-lifecycle-management.html)\n- [Elasticsearch Cluster Setup](https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-discovery-bootstrap-cluster.html)\n- [Elastic Stack Community](https://discuss.elastic.co/)\n- [Elasticsearch Blog](https://www.elastic.co/blog/category/elasticsearch)\n- [Best Practices Guide](https://www.elastic.co/guide/en/elasticsearch/guide/current/index.html)\n\n---\n\n**Note:** This guide is part of the [HowToMgr](https://howtomgr.github.io) collection. Always refer to official documentation for the most up-to-date information.","readmeHtml":"\u003ch1 id=\"elasticsearch-installation-guide\" class=\"mobile-header\"\u003eElasticsearch Installation Guide\u003c/h1\u003e\n\u003cp class=\"mobile-paragraph\"\u003eElasticsearch is a free and open-source distributed, RESTful search and analytics engine. Originally developed by Shay Banon and now maintained by Elastic N.V., Elasticsearch is built on Apache Lucene and designed for horizontal scalability, reliability, and real-time search. It serves as a FOSS alternative to commercial search solutions like Amazon CloudSearch, Azure Cognitive Search, or Splunk Enterprise, offering enterprise-grade features including full-text search, aggregations, and analytics without licensing costs, with features like distributed architecture, RESTful API, and multi-tenancy.\u003c/p\u003e\n\u003ch2 id=\"prerequisites\" class=\"mobile-header\"\u003ePrerequisites\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eHardware Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eCPU: 2 cores minimum (4+ cores recommended for production)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eRAM: 4GB minimum (16GB+ recommended for production)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eStorage: 20GB minimum (SSD strongly recommended for performance)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eNetwork: Stable connectivity for cluster communication\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eOperating System\u003c/strong\u003e: \u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eLinux: Any modern distribution with kernel 3.2+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003emacOS: 10.13+ (High Sierra or newer)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWindows: Windows Server 2016+ or Windows 10\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eFreeBSD: 11.0+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eNetwork Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 9200 (HTTP/REST API)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 9300 (Node communication)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eAdditional ports for cluster discovery\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eDependencies\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eJava 11 or Java 17 (OpenJDK recommended)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003esystemd or compatible init system (Linux)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eRoot or administrative access for installation\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eSystem Access\u003c/strong\u003e: root or sudo privileges required\u003c/li\u003e\n\u003ch2 id=\"installation\" class=\"mobile-header\"\u003eInstallation\u003c/h2\u003e\n\u003ch3 id=\"rhelcentosrocky-linuxalmalinux\" class=\"mobile-header\"\u003eRHEL/CentOS/Rocky Linux/AlmaLinux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Java (OpenJDK)\nsudo yum install -y java-11-openjdk java-11-openjdk-devel\n\n# Import Elasticsearch GPG key\nsudo rpm --import https://artifacts.elastic.co/GPG-KEY-elasticsearch\n\n# Create Elasticsearch repository\nsudo tee /etc/yum.repos.d/elasticsearch.repo \u0026lt;\u0026lt;EOF\n[elasticsearch]\nname=Elasticsearch repository for 8.x packages\nbaseurl=https://artifacts.elastic.co/packages/8.x/yum\ngpgcheck=1\ngpgkey=https://artifacts.elastic.co/GPG-KEY-elasticsearch\nenabled=0\nautorefresh=1\ntype=rpm-md\nEOF\n\n# Install Elasticsearch\nsudo yum install -y --enablerepo=elasticsearch elasticsearch\n\n# Enable and start service\nsudo systemctl enable --now elasticsearch\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=9200/tcp\nsudo firewall-cmd --permanent --add-port=9300/tcp\nsudo firewall-cmd --reload\n\n# Verify installation\ncurl -X GET \u0026quot;localhost:9200/\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"debianubuntu\" class=\"mobile-header\"\u003eDebian/Ubuntu\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Update package index\nsudo apt update\n\n# Install Java (OpenJDK)\nsudo apt install -y openjdk-11-jdk\n\n# Install prerequisite packages\nsudo apt install -y wget gnupg apt-transport-https\n\n# Import Elasticsearch GPG key\nwget -qO - https://artifacts.elastic.co/GPG-KEY-elasticsearch | sudo gpg --dearmor -o /etc/apt/trusted.gpg.d/elasticsearch.gpg\n\n# Add Elasticsearch repository\necho \u0026quot;deb https://artifacts.elastic.co/packages/8.x/apt stable main\u0026quot; | sudo tee /etc/apt/sources.list.d/elastic-8.x.list\n\n# Update package index\nsudo apt update\n\n# Install Elasticsearch\nsudo apt install -y elasticsearch\n\n# Enable and start service\nsudo systemctl enable --now elasticsearch\n\n# Configure firewall\nsudo ufw allow 9200\nsudo ufw allow 9300\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"arch-linux\" class=\"mobile-header\"\u003eArch Linux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Java\nsudo pacman -S jdk11-openjdk\n\n# Elasticsearch is available in AUR\nyay -S elasticsearch\n\n# Alternative: Install from AUR with makepkg\ngit clone https://aur.archlinux.org/elasticsearch.git\ncd elasticsearch\nmakepkg -si\n\n# Create elasticsearch user and group\nsudo useradd -r -s /sbin/nologin elasticsearch\n\n# Create necessary directories\nsudo mkdir -p /var/lib/elasticsearch /var/log/elasticsearch\nsudo chown elasticsearch:elasticsearch /var/lib/elasticsearch /var/log/elasticsearch\n\n# Enable and start service\nsudo systemctl enable --now elasticsearch\n\n# Configuration location: /etc/elasticsearch/\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"alpine-linux\" class=\"mobile-header\"\u003eAlpine Linux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Java\napk add --no-cache openjdk11\n\n# Elasticsearch is not officially packaged for Alpine\n# Use Docker for Elasticsearch on Alpine:\n\n# Install Docker\napk add --no-cache docker docker-compose\n\n# Enable and start Docker\nrc-update add docker default\nrc-service docker start\n\n# Run Elasticsearch container\ndocker run -d \\\n  --name elasticsearch \\\n  --restart unless-stopped \\\n  -p 9200:9200 -p 9300:9300 \\\n  -e \u0026quot;discovery.type=single-node\u0026quot; \\\n  -e \u0026quot;xpack.security.enabled=false\u0026quot; \\\n  -v /var/lib/elasticsearch:/usr/share/elasticsearch/data \\\n  elasticsearch:8.11.3\n\n# Verify installation\ncurl -X GET \u0026quot;localhost:9200/\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"opensusesles\" class=\"mobile-header\"\u003eopenSUSE/SLES\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Java\nsudo zypper install -y java-11-openjdk java-11-openjdk-devel\n\n# Elasticsearch is not officially packaged for openSUSE/SLES\n# Use Docker or manual installation:\n\n# Method 1: Docker installation\nsudo zypper install -y docker docker-compose\nsudo systemctl enable --now docker\n\ndocker run -d \\\n  --name elasticsearch \\\n  --restart unless-stopped \\\n  -p 9200:9200 -p 9300:9300 \\\n  -e \u0026quot;discovery.type=single-node\u0026quot; \\\n  -e \u0026quot;xpack.security.enabled=false\u0026quot; \\\n  -v /var/lib/elasticsearch:/usr/share/elasticsearch/data \\\n  elasticsearch:8.11.3\n\n# Method 2: Manual installation from tarball\nwget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-8.11.3-linux-x86_64.tar.gz\ntar -xzf elasticsearch-8.11.3-linux-x86_64.tar.gz\nsudo mv elasticsearch-8.11.3 /usr/local/elasticsearch\n\n# Create elasticsearch user and directories\nsudo useradd -r elasticsearch\nsudo mkdir -p /var/lib/elasticsearch /var/log/elasticsearch\nsudo chown elasticsearch:elasticsearch /var/lib/elasticsearch /var/log/elasticsearch\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"macos\" class=\"mobile-header\"\u003emacOS\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using Homebrew\nbrew tap elastic/tap\nbrew install elastic/tap/elasticsearch-full\n\n# Start Elasticsearch service\nbrew services start elastic/tap/elasticsearch-full\n\n# Or run manually\nelasticsearch\n\n# Configuration location: /usr/local/etc/elasticsearch/\n# Alternative: /opt/homebrew/etc/elasticsearch/ (Apple Silicon)\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"freebsd\" class=\"mobile-header\"\u003eFreeBSD\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Java\npkg install openjdk11\n\n# Install Elasticsearch from ports\ncd /usr/ports/textproc/elasticsearch8\nmake install clean\n\n# Enable Elasticsearch\necho \u0026#039;elasticsearch_enable=\u0026quot;YES\u0026quot;\u0026#039; \u0026gt;\u0026gt; /etc/rc.conf\n\n# Start service\nservice elasticsearch start\n\n# Configuration location: /usr/local/etc/elasticsearch/\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"windows\" class=\"mobile-header\"\u003eWindows\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"powershell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epowershell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-powershell\"\u003e# Method 1: Using Chocolatey\nchoco install elasticsearch\n\n# Method 2: Using Scoop\nscoop bucket add java\nscoop install openjdk11\nscoop bucket add extras\nscoop install elasticsearch\n\n# Method 3: Manual installation\n# Download from https://www.elastic.co/downloads/elasticsearch\n# Extract to C:\\elasticsearch\n\n# Install as Windows service\n\u0026quot;C:\\elasticsearch\\bin\\elasticsearch-service.bat\u0026quot; install\n\n# Start service\nnet start Elasticsearch\n\n# Configuration location: C:\\elasticsearch\\config\\elasticsearch.yml\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"initial-configuration\" class=\"mobile-header\"\u003eInitial Configuration\u003c/h2\u003e\n\u003ch3 id=\"first-run-setup\" class=\"mobile-header\"\u003eFirst-Run Setup\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e1. \u003cstrong\u003eCreate elasticsearch user\u003c/strong\u003e (if not created by package):\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Linux systems\nsudo useradd -r -d /var/lib/elasticsearch -s /sbin/nologin -c \u0026quot;Elasticsearch\u0026quot; elasticsearch\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e2. \u003cstrong\u003eDefault configuration locations\u003c/strong\u003e:\u003c/p\u003e\n\u003cli class=\"mobile-list-item\"\u003eRHEL/CentOS/Rocky/AlmaLinux: \u003ccode class=\"mobile-inline-code\"\u003e/etc/elasticsearch/elasticsearch.yml\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eDebian/Ubuntu: \u003ccode class=\"mobile-inline-code\"\u003e/etc/elasticsearch/elasticsearch.yml\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eArch Linux: \u003ccode class=\"mobile-inline-code\"\u003e/etc/elasticsearch/elasticsearch.yml\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eAlpine Linux: Docker container configuration\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eopenSUSE/SLES: \u003ccode class=\"mobile-inline-code\"\u003e/etc/elasticsearch/elasticsearch.yml\u003c/code\u003e (manual installation)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003emacOS: \u003ccode class=\"mobile-inline-code\"\u003e/usr/local/etc/elasticsearch/elasticsearch.yml\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eFreeBSD: \u003ccode class=\"mobile-inline-code\"\u003e/usr/local/etc/elasticsearch/elasticsearch.yml\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWindows: \u003ccode class=\"mobile-inline-code\"\u003eC:\\elasticsearch\\config\\elasticsearch.yml\u003c/code\u003e\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e3. \u003cstrong\u003eEssential settings to change\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"yaml\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eyaml\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e# /etc/elasticsearch/elasticsearch.yml\ncluster.name: my-application\nnode.name: node-1\n\npath.data: /var/lib/elasticsearch\npath.logs: /var/log/elasticsearch\n\nnetwork.host: 127.0.0.1\nhttp.port: 9200\n\ndiscovery.type: single-node\n\n# Security (disable for initial setup, enable for production)\nxpack.security.enabled: true\nxpack.security.enrollment.enabled: true\n\n# Memory settings\nbootstrap.memory_lock: true\n\n# Index settings\naction.auto_create_index: .monitoring*,.watches,.triggered_watches,.watcher-history*,.ml*\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"testing-initial-setup\" class=\"mobile-header\"\u003eTesting Initial Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check if Elasticsearch is running\nsudo systemctl status elasticsearch\n\n# Test REST API\ncurl -X GET \u0026quot;localhost:9200/\u0026quot;\n\n# Check cluster health\ncurl -X GET \u0026quot;localhost:9200/_cluster/health?pretty\u0026quot;\n\n# Check nodes\ncurl -X GET \u0026quot;localhost:9200/_cat/nodes?v\u0026quot;\n\n# Test indexing and searching\ncurl -X PUT \u0026quot;localhost:9200/test_index/_doc/1\u0026quot; -H \u0026#039;Content-Type: application/json\u0026#039; -d \u0026#039;{\u0026quot;message\u0026quot;: \u0026quot;Hello Elasticsearch\u0026quot;}\u0026#039;\ncurl -X GET \u0026quot;localhost:9200/test_index/_search?pretty\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eWARNING:\u003c/strong\u003e Enable X-Pack security for production deployments!\u003c/p\u003e\n\u003ch2 id=\"service-management\" class=\"mobile-header\"\u003eService Management\u003c/h2\u003e\n\u003ch3 id=\"systemd-rhel-debian-ubuntu-arch-opensuse\" class=\"mobile-header\"\u003esystemd (RHEL, Debian, Ubuntu, Arch, openSUSE)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable Elasticsearch to start on boot\nsudo systemctl enable elasticsearch\n\n# Start Elasticsearch\nsudo systemctl start elasticsearch\n\n# Stop Elasticsearch\nsudo systemctl stop elasticsearch\n\n# Restart Elasticsearch\nsudo systemctl restart elasticsearch\n\n# Reload configuration (not supported, requires restart)\nsudo systemctl restart elasticsearch\n\n# Check status\nsudo systemctl status elasticsearch\n\n# View logs\nsudo journalctl -u elasticsearch -f\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"openrc-alpine-linux\" class=\"mobile-header\"\u003eOpenRC (Alpine Linux)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Elasticsearch runs in Docker container on Alpine\ndocker start elasticsearch\ndocker stop elasticsearch\ndocker restart elasticsearch\n\n# Check status\ndocker ps | grep elasticsearch\n\n# View logs\ndocker logs -f elasticsearch\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"rcd-freebsd\" class=\"mobile-header\"\u003erc.d (FreeBSD)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable in /etc/rc.conf\necho \u0026#039;elasticsearch_enable=\u0026quot;YES\u0026quot;\u0026#039; \u0026gt;\u0026gt; /etc/rc.conf\n\n# Start Elasticsearch\nservice elasticsearch start\n\n# Stop Elasticsearch\nservice elasticsearch stop\n\n# Restart Elasticsearch\nservice elasticsearch restart\n\n# Check status\nservice elasticsearch status\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"launchd-macos\" class=\"mobile-header\"\u003elaunchd (macOS)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using Homebrew services\nbrew services start elastic/tap/elasticsearch-full\nbrew services stop elastic/tap/elasticsearch-full\nbrew services restart elastic/tap/elasticsearch-full\n\n# Check status\nbrew services list | grep elasticsearch\n\n# Manual control\nelasticsearch\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"windows-service-manager\" class=\"mobile-header\"\u003eWindows Service Manager\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"powershell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epowershell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-powershell\"\u003e# Start Elasticsearch service\nnet start Elasticsearch\n\n# Stop Elasticsearch service\nnet stop Elasticsearch\n\n# Using PowerShell\nStart-Service Elasticsearch\nStop-Service Elasticsearch\nRestart-Service Elasticsearch\n\n# Check status\nGet-Service Elasticsearch\n\n# View logs\nGet-EventLog -LogName Application -Source Elasticsearch\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"advanced-configuration\" class=\"mobile-header\"\u003eAdvanced Configuration\u003c/h2\u003e\n\u003ch3 id=\"cluster-configuration\" class=\"mobile-header\"\u003eCluster Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"yaml\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eyaml\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e# Multi-node cluster configuration\ncluster.name: production-cluster\nnode.name: node-1\nnode.roles: [master, data, ingest]\n\nnetwork.host: 0.0.0.0\nhttp.port: 9200\ntransport.port: 9300\n\ndiscovery.seed_hosts: [\u0026quot;node1.example.com\u0026quot;, \u0026quot;node2.example.com\u0026quot;, \u0026quot;node3.example.com\u0026quot;]\ncluster.initial_master_nodes: [\u0026quot;node-1\u0026quot;, \u0026quot;node-2\u0026quot;, \u0026quot;node-3\u0026quot;]\n\n# Node-specific roles\n# Master-eligible node\nnode.roles: [master]\n\n# Data node\nnode.roles: [data]\n\n# Ingest node\nnode.roles: [ingest]\n\n# Coordinating only node\nnode.roles: []\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"memory-and-performance-configuration\" class=\"mobile-header\"\u003eMemory and Performance Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"yaml\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eyaml\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e# JVM heap settings (in elasticsearch.yml or jvm.options)\n# Set via environment variables:\nES_JAVA_OPTS: \u0026quot;-Xms4g -Xmx4g\u0026quot;\n\n# Thread pool settings\nthread_pool:\n  write:\n    size: 8\n    queue_size: 200\n  search:\n    size: 13\n    queue_size: 1000\n\n# Index settings\nindices.memory.index_buffer_size: 20%\nindices.breaker.total.use_real_memory: true\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"advanced-security-settings\" class=\"mobile-header\"\u003eAdvanced Security Settings\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"yaml\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eyaml\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e# X-Pack Security configuration\nxpack.security.enabled: true\nxpack.security.enrollment.enabled: true\n\n# SSL/TLS configuration\nxpack.security.http.ssl.enabled: true\nxpack.security.http.ssl.keystore.path: certs/http.p12\nxpack.security.transport.ssl.enabled: true\nxpack.security.transport.ssl.verification_mode: certificate\nxpack.security.transport.ssl.keystore.path: certs/transport.p12\nxpack.security.transport.ssl.truststore.path: certs/transport.p12\n\n# Authentication realms\nxpack.security.authc.realms:\n  native:\n    native1:\n      order: 0\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"reverse-proxy-setup\" class=\"mobile-header\"\u003eReverse Proxy Setup\u003c/h2\u003e\n\u003ch3 id=\"nginx-configuration\" class=\"mobile-header\"\u003enginx Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"nginx\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003enginx\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-nginx\"\u003e# /etc/nginx/sites-available/elasticsearch\nupstream elasticsearch_backend {\n    server 127.0.0.1:9200 max_fails=3 fail_timeout=30s;\n    server 127.0.0.1:9201 max_fails=3 fail_timeout=30s backup;\n}\n\nserver {\n    listen 80;\n    server_name elasticsearch.example.com;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name elasticsearch.example.com;\n\n    ssl_certificate /etc/letsencrypt/live/elasticsearch.example.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/elasticsearch.example.com/privkey.pem;\n\n    # Security headers\n    add_header Strict-Transport-Security \u0026quot;max-age=63072000\u0026quot; always;\n\n    location / {\n        proxy_pass http://elasticsearch_backend;\n        proxy_http_version 1.1;\n        proxy_set_header Host $http_host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        proxy_connect_timeout 60s;\n        proxy_send_timeout 60s;\n        proxy_read_timeout 60s;\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"apache-configuration\" class=\"mobile-header\"\u003eApache Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"apache\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eapache\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-apache\"\u003e# /etc/apache2/sites-available/elasticsearch.conf\n\u0026lt;VirtualHost *:443\u0026gt;\n    ServerName elasticsearch.example.com\n    \n    SSLEngine on\n    SSLCertificateFile /etc/letsencrypt/live/elasticsearch.example.com/fullchain.pem\n    SSLCertificateKeyFile /etc/letsencrypt/live/elasticsearch.example.com/privkey.pem\n    \n    ProxyPreserveHost On\n    ProxyPass / http://localhost:9200/\n    ProxyPassReverse / http://localhost:9200/\n    \n    Header always set Strict-Transport-Security \u0026quot;max-age=63072000\u0026quot;\n\u0026lt;/VirtualHost\u0026gt;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"haproxy-configuration\" class=\"mobile-header\"\u003eHAProxy Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"haproxy\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ehaproxy\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-haproxy\"\u003e# /etc/haproxy/haproxy.cfg\nfrontend elasticsearch_frontend\n    bind *:9200 ssl crt /etc/haproxy/certs/elasticsearch.pem\n    mode http\n    option httplog\n    default_backend elasticsearch_backend\n\nbackend elasticsearch_backend\n    mode http\n    balance roundrobin\n    option httpchk GET /_cluster/health\n    server elasticsearch1 127.0.0.1:9200 check\n    server elasticsearch2 127.0.0.1:9201 check backup\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"security-configuration\" class=\"mobile-header\"\u003eSecurity Configuration\u003c/h2\u003e\n\u003ch3 id=\"ssltls-setup\" class=\"mobile-header\"\u003eSSL/TLS Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Generate certificates using Elasticsearch\u0026#039;s certificate tool\ncd /usr/share/elasticsearch\nsudo bin/elasticsearch-certutil ca --pem --out /tmp/ca.zip\nsudo unzip /tmp/ca.zip -d /tmp/ca\nsudo bin/elasticsearch-certutil cert --ca-cert /tmp/ca/ca.crt --ca-key /tmp/ca/ca.key --pem --out /tmp/certs.zip\nsudo unzip /tmp/certs.zip -d /tmp/certs\n\n# Create certificates directory\nsudo mkdir -p /etc/elasticsearch/certs\nsudo cp /tmp/ca/ca.crt /etc/elasticsearch/certs/\nsudo cp /tmp/certs/instance/instance.crt /etc/elasticsearch/certs/\nsudo cp /tmp/certs/instance/instance.key /etc/elasticsearch/certs/\n\n# Create keystore\nsudo bin/elasticsearch-keystore create\nsudo bin/elasticsearch-keystore add xpack.security.http.ssl.keystore.secure_password\nsudo bin/elasticsearch-keystore add xpack.security.transport.ssl.keystore.secure_password\n\n# Set permissions\nsudo chown -R elasticsearch:elasticsearch /etc/elasticsearch/certs\nsudo chmod 600 /etc/elasticsearch/certs/*\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"user-management-and-authentication\" class=\"mobile-header\"\u003eUser Management and Authentication\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Set passwords for built-in users (run after enabling security)\nsudo /usr/share/elasticsearch/bin/elasticsearch-setup-passwords auto\n\n# Create custom users\ncurl -X POST \u0026quot;localhost:9200/_security/user/appuser\u0026quot; -H \u0026#039;Content-Type: application/json\u0026#039; -u elastic:password -d\u0026#039;\n{\n  \u0026quot;password\u0026quot; : \u0026quot;SecurePassword123!\u0026quot;,\n  \u0026quot;roles\u0026quot; : [ \u0026quot;kibana_admin\u0026quot;, \u0026quot;monitoring_user\u0026quot; ],\n  \u0026quot;full_name\u0026quot; : \u0026quot;Application User\u0026quot;,\n  \u0026quot;email\u0026quot; : \u0026quot;appuser@example.com\u0026quot;\n}\u0026#039;\n\n# Create custom roles\ncurl -X POST \u0026quot;localhost:9200/_security/role/log_reader\u0026quot; -H \u0026#039;Content-Type: application/json\u0026#039; -u elastic:password -d\u0026#039;\n{\n  \u0026quot;cluster\u0026quot;: [\u0026quot;monitor\u0026quot;],\n  \u0026quot;indices\u0026quot;: [\n    {\n      \u0026quot;names\u0026quot;: [\u0026quot;logs-*\u0026quot;],\n      \u0026quot;privileges\u0026quot;: [\u0026quot;read\u0026quot;, \u0026quot;view_index_metadata\u0026quot;]\n    }\n  ]\n}\u0026#039;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"firewall-rules\" class=\"mobile-header\"\u003eFirewall Rules\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# UFW (Ubuntu/Debian)\nsudo ufw allow from 192.168.1.0/24 to any port 9200\nsudo ufw allow from 192.168.1.0/24 to any port 9300\nsudo ufw reload\n\n# firewalld (RHEL/CentOS/openSUSE)\nsudo firewall-cmd --permanent --new-zone=elasticsearch\nsudo firewall-cmd --permanent --zone=elasticsearch --add-source=192.168.1.0/24\nsudo firewall-cmd --permanent --zone=elasticsearch --add-port=9200/tcp\nsudo firewall-cmd --permanent --zone=elasticsearch --add-port=9300/tcp\nsudo firewall-cmd --reload\n\n# iptables\nsudo iptables -A INPUT -s 192.168.1.0/24 -p tcp --dport 9200 -j ACCEPT\nsudo iptables -A INPUT -s 192.168.1.0/24 -p tcp --dport 9300 -j ACCEPT\nsudo iptables-save \u0026gt; /etc/iptables/rules.v4\n\n# pf (FreeBSD)\n# Add to /etc/pf.conf\npass in on $ext_if proto tcp from 192.168.1.0/24 to any port { 9200, 9300 }\n\n# Windows Firewall\nNew-NetFirewallRule -DisplayName \u0026quot;Elasticsearch HTTP\u0026quot; -Direction Inbound -Protocol TCP -LocalPort 9200 -RemoteAddress 192.168.1.0/24 -Action Allow\nNew-NetFirewallRule -DisplayName \u0026quot;Elasticsearch Transport\u0026quot; -Direction Inbound -Protocol TCP -LocalPort 9300 -RemoteAddress 192.168.1.0/24 -Action Allow\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"database-setup\" class=\"mobile-header\"\u003eDatabase Setup\u003c/h2\u003e\n\u003ch3 id=\"index-templates-and-mappings\" class=\"mobile-header\"\u003eIndex Templates and Mappings\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create index template\ncurl -X PUT \u0026quot;localhost:9200/_index_template/logs_template\u0026quot; -H \u0026#039;Content-Type: application/json\u0026#039; -d\u0026#039;\n{\n  \u0026quot;index_patterns\u0026quot;: [\u0026quot;logs-*\u0026quot;],\n  \u0026quot;template\u0026quot;: {\n    \u0026quot;settings\u0026quot;: {\n      \u0026quot;number_of_shards\u0026quot;: 1,\n      \u0026quot;number_of_replicas\u0026quot;: 1,\n      \u0026quot;index.refresh_interval\u0026quot;: \u0026quot;30s\u0026quot;\n    },\n    \u0026quot;mappings\u0026quot;: {\n      \u0026quot;properties\u0026quot;: {\n        \u0026quot;timestamp\u0026quot;: {\n          \u0026quot;type\u0026quot;: \u0026quot;date\u0026quot;\n        },\n        \u0026quot;level\u0026quot;: {\n          \u0026quot;type\u0026quot;: \u0026quot;keyword\u0026quot;\n        },\n        \u0026quot;message\u0026quot;: {\n          \u0026quot;type\u0026quot;: \u0026quot;text\u0026quot;,\n          \u0026quot;analyzer\u0026quot;: \u0026quot;standard\u0026quot;\n        },\n        \u0026quot;host\u0026quot;: {\n          \u0026quot;type\u0026quot;: \u0026quot;keyword\u0026quot;\n        }\n      }\n    }\n  }\n}\u0026#039;\n\n# Create index with custom settings\ncurl -X PUT \u0026quot;localhost:9200/my_index\u0026quot; -H \u0026#039;Content-Type: application/json\u0026#039; -d\u0026#039;\n{\n  \u0026quot;settings\u0026quot;: {\n    \u0026quot;number_of_shards\u0026quot;: 3,\n    \u0026quot;number_of_replicas\u0026quot;: 2,\n    \u0026quot;analysis\u0026quot;: {\n      \u0026quot;analyzer\u0026quot;: {\n        \u0026quot;custom_analyzer\u0026quot;: {\n          \u0026quot;type\u0026quot;: \u0026quot;custom\u0026quot;,\n          \u0026quot;tokenizer\u0026quot;: \u0026quot;standard\u0026quot;,\n          \u0026quot;filter\u0026quot;: [\u0026quot;lowercase\u0026quot;, \u0026quot;asciifolding\u0026quot;]\n        }\n      }\n    }\n  },\n  \u0026quot;mappings\u0026quot;: {\n    \u0026quot;properties\u0026quot;: {\n      \u0026quot;title\u0026quot;: {\n        \u0026quot;type\u0026quot;: \u0026quot;text\u0026quot;,\n        \u0026quot;analyzer\u0026quot;: \u0026quot;custom_analyzer\u0026quot;\n      },\n      \u0026quot;content\u0026quot;: {\n        \u0026quot;type\u0026quot;: \u0026quot;text\u0026quot;\n      },\n      \u0026quot;tags\u0026quot;: {\n        \u0026quot;type\u0026quot;: \u0026quot;keyword\u0026quot;\n      },\n      \u0026quot;created_at\u0026quot;: {\n        \u0026quot;type\u0026quot;: \u0026quot;date\u0026quot;\n      }\n    }\n  }\n}\u0026#039;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"index-lifecycle-management\" class=\"mobile-header\"\u003eIndex Lifecycle Management\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create ILM policy\ncurl -X PUT \u0026quot;localhost:9200/_ilm/policy/logs_policy\u0026quot; -H \u0026#039;Content-Type: application/json\u0026#039; -d\u0026#039;\n{\n  \u0026quot;policy\u0026quot;: {\n    \u0026quot;phases\u0026quot;: {\n      \u0026quot;hot\u0026quot;: {\n        \u0026quot;actions\u0026quot;: {\n          \u0026quot;rollover\u0026quot;: {\n            \u0026quot;max_size\u0026quot;: \u0026quot;10gb\u0026quot;,\n            \u0026quot;max_age\u0026quot;: \u0026quot;7d\u0026quot;\n          }\n        }\n      },\n      \u0026quot;warm\u0026quot;: {\n        \u0026quot;min_age\u0026quot;: \u0026quot;7d\u0026quot;,\n        \u0026quot;actions\u0026quot;: {\n          \u0026quot;allocate\u0026quot;: {\n            \u0026quot;number_of_replicas\u0026quot;: 0\n          }\n        }\n      },\n      \u0026quot;cold\u0026quot;: {\n        \u0026quot;min_age\u0026quot;: \u0026quot;30d\u0026quot;,\n        \u0026quot;actions\u0026quot;: {\n          \u0026quot;allocate\u0026quot;: {\n            \u0026quot;number_of_replicas\u0026quot;: 0\n          }\n        }\n      },\n      \u0026quot;delete\u0026quot;: {\n        \u0026quot;min_age\u0026quot;: \u0026quot;90d\u0026quot;\n      }\n    }\n  }\n}\u0026#039;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"performance-optimization\" class=\"mobile-header\"\u003ePerformance Optimization\u003c/h2\u003e\n\u003ch3 id=\"system-tuning\" class=\"mobile-header\"\u003eSystem Tuning\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Elasticsearch-specific system optimizations\nsudo tee -a /etc/sysctl.conf \u0026lt;\u0026lt;EOF\n# Elasticsearch optimizations\nvm.max_map_count = 262144\nvm.swappiness = 1\nfs.file-max = 65535\nnet.core.somaxconn = 32768\nnet.ipv4.tcp_max_syn_backlog = 8192\nEOF\n\nsudo sysctl -p\n\n# Disable swap\nsudo swapoff -a\necho \u0026#039;vm.swappiness=1\u0026#039; | sudo tee -a /etc/sysctl.conf\n\n# Set file descriptor limits\nsudo tee -a /etc/security/limits.conf \u0026lt;\u0026lt;EOF\nelasticsearch soft nofile 65535\nelasticsearch hard nofile 65535\nelasticsearch soft memlock unlimited\nelasticsearch hard memlock unlimited\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"jvm-and-memory-tuning\" class=\"mobile-header\"\u003eJVM and Memory Tuning\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# JVM options (/etc/elasticsearch/jvm.options)\n# Set heap size (50% of available RAM, max 32GB)\n-Xms8g\n-Xmx8g\n\n# GC settings\n-XX:+UseG1GC\n-XX:G1HeapRegionSize=16m\n-XX:+UnlockExperimentalVMOptions\n-XX:+UnlockDiagnosticVMOptions\n-XX:+G1PrintRegionRememberedSetInfo\n\n# Memory lock\n-XX:+AlwaysPreTouch\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"index-and-query-optimization\" class=\"mobile-header\"\u003eIndex and Query Optimization\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Index optimization settings\ncurl -X PUT \u0026quot;localhost:9200/my_index/_settings\u0026quot; -H \u0026#039;Content-Type: application/json\u0026#039; -d\u0026#039;\n{\n  \u0026quot;index\u0026quot;: {\n    \u0026quot;refresh_interval\u0026quot;: \u0026quot;30s\u0026quot;,\n    \u0026quot;number_of_replicas\u0026quot;: 1,\n    \u0026quot;routing.allocation.total_shards_per_node\u0026quot;: 3,\n    \u0026quot;translog.flush_threshold_size\u0026quot;: \u0026quot;1gb\u0026quot;,\n    \u0026quot;translog.sync_interval\u0026quot;: \u0026quot;30s\u0026quot;\n  }\n}\u0026#039;\n\n# Force merge indices\ncurl -X POST \u0026quot;localhost:9200/my_index/_forcemerge?max_num_segments=1\u0026quot;\n\n# Clear cache\ncurl -X POST \u0026quot;localhost:9200/_cache/clear\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"monitoring\" class=\"mobile-header\"\u003eMonitoring\u003c/h2\u003e\n\u003ch3 id=\"built-in-monitoring\" class=\"mobile-header\"\u003eBuilt-in Monitoring\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Cluster health\ncurl -X GET \u0026quot;localhost:9200/_cluster/health?pretty\u0026quot;\n\n# Node statistics\ncurl -X GET \u0026quot;localhost:9200/_nodes/stats?pretty\u0026quot;\n\n# Index statistics\ncurl -X GET \u0026quot;localhost:9200/_stats?pretty\u0026quot;\n\n# Hot threads\ncurl -X GET \u0026quot;localhost:9200/_nodes/hot_threads\u0026quot;\n\n# Task management\ncurl -X GET \u0026quot;localhost:9200/_tasks?detailed=true\u0026amp;actions=*search\u0026quot;\n\n# Pending cluster tasks\ncurl -X GET \u0026quot;localhost:9200/_cluster/pending_tasks\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"external-monitoring-setup\" class=\"mobile-header\"\u003eExternal Monitoring Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Metricbeat for monitoring\ncurl -L -O https://artifacts.elastic.co/downloads/beats/metricbeat/metricbeat-8.11.3-linux-x86_64.tar.gz\ntar xzvf metricbeat-8.11.3-linux-x86_64.tar.gz\nsudo mv metricbeat-8.11.3-linux-x86_64 /usr/local/metricbeat\n\n# Configure Metricbeat for Elasticsearch monitoring\nsudo tee /usr/local/metricbeat/metricbeat.yml \u0026lt;\u0026lt;EOF\nmetricbeat.modules:\n- module: elasticsearch\n  metricsets:\n    - node\n    - node_stats\n    - cluster_stats\n  period: 10s\n  hosts: [\u0026quot;localhost:9200\u0026quot;]\n\noutput.elasticsearch:\n  hosts: [\u0026quot;localhost:9200\u0026quot;]\n\nsetup.kibana:\n  host: \u0026quot;localhost:5601\u0026quot;\nEOF\n\n# Create systemd service for Metricbeat\nsudo tee /etc/systemd/system/metricbeat.service \u0026lt;\u0026lt;EOF\n[Unit]\nDescription=Metricbeat\nAfter=network.target\n\n[Service]\nType=simple\nUser=elasticsearch\nWorkingDirectory=/usr/local/metricbeat\nExecStart=/usr/local/metricbeat/metricbeat -c /usr/local/metricbeat/metricbeat.yml\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsudo systemctl enable --now metricbeat\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"health-check-scripts\" class=\"mobile-header\"\u003eHealth Check Scripts\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# elasticsearch-health-check.sh\n\n# Check Elasticsearch service\nif ! systemctl is-active elasticsearch \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    echo \u0026quot;CRITICAL: Elasticsearch service is not running\u0026quot;\n    exit 2\nfi\n\n# Check HTTP API\nif ! curl -s http://localhost:9200/ \u0026gt;/dev/null; then\n    echo \u0026quot;CRITICAL: Cannot connect to Elasticsearch HTTP API\u0026quot;\n    exit 2\nfi\n\n# Check cluster health\nCLUSTER_STATUS=$(curl -s http://localhost:9200/_cluster/health | jq -r \u0026#039;.status\u0026#039;)\ncase $CLUSTER_STATUS in\n    \u0026quot;green\u0026quot;)\n        echo \u0026quot;OK: Cluster health is green\u0026quot;\n        exit 0\n        ;;\n    \u0026quot;yellow\u0026quot;)\n        echo \u0026quot;WARNING: Cluster health is yellow\u0026quot;\n        exit 1\n        ;;\n    \u0026quot;red\u0026quot;)\n        echo \u0026quot;CRITICAL: Cluster health is red\u0026quot;\n        exit 2\n        ;;\n    *)\n        echo \u0026quot;UNKNOWN: Cannot determine cluster health\u0026quot;\n        exit 3\n        ;;\nesac\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"backup-and-restore\" class=\"mobile-header\"\u003eBackup and Restore\u003c/h2\u003e\n\u003ch3 id=\"snapshot-repository-setup\" class=\"mobile-header\"\u003eSnapshot Repository Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create snapshot repository\ncurl -X PUT \u0026quot;localhost:9200/_snapshot/backup_repo\u0026quot; -H \u0026#039;Content-Type: application/json\u0026#039; -d\u0026#039;\n{\n  \u0026quot;type\u0026quot;: \u0026quot;fs\u0026quot;,\n  \u0026quot;settings\u0026quot;: {\n    \u0026quot;location\u0026quot;: \u0026quot;/backup/elasticsearch\u0026quot;,\n    \u0026quot;compress\u0026quot;: true,\n    \u0026quot;max_snapshot_bytes_per_sec\u0026quot;: \u0026quot;50mb\u0026quot;,\n    \u0026quot;max_restore_bytes_per_sec\u0026quot;: \u0026quot;50mb\u0026quot;\n  }\n}\u0026#039;\n\n# Create backup directory\nsudo mkdir -p /backup/elasticsearch\nsudo chown elasticsearch:elasticsearch /backup/elasticsearch\n\n# Add repository path to elasticsearch.yml\necho \u0026#039;path.repo: [\u0026quot;/backup/elasticsearch\u0026quot;]\u0026#039; | sudo tee -a /etc/elasticsearch/elasticsearch.yml\nsudo systemctl restart elasticsearch\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"backup-procedures\" class=\"mobile-header\"\u003eBackup Procedures\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# elasticsearch-backup.sh\n\nSNAPSHOT_NAME=\u0026quot;snapshot-$(date +%Y%m%d_%H%M%S)\u0026quot;\n\n# Create snapshot\ncurl -X PUT \u0026quot;localhost:9200/_snapshot/backup_repo/$SNAPSHOT_NAME?wait_for_completion=true\u0026quot; -H \u0026#039;Content-Type: application/json\u0026#039; -d\u0026#039;\n{\n  \u0026quot;indices\u0026quot;: \u0026quot;*\u0026quot;,\n  \u0026quot;ignore_unavailable\u0026quot;: true,\n  \u0026quot;include_global_state\u0026quot;: true,\n  \u0026quot;metadata\u0026quot;: {\n    \u0026quot;taken_by\u0026quot;: \u0026quot;elasticsearch-backup-script\u0026quot;,\n    \u0026quot;taken_because\u0026quot;: \u0026quot;scheduled backup\u0026quot;\n  }\n}\u0026#039;\n\n# Verify snapshot\nSNAPSHOT_STATUS=$(curl -s \u0026quot;localhost:9200/_snapshot/backup_repo/$SNAPSHOT_NAME\u0026quot; | jq -r \u0026#039;.snapshots[0].state\u0026#039;)\n\nif [ \u0026quot;$SNAPSHOT_STATUS\u0026quot; = \u0026quot;SUCCESS\u0026quot; ]; then\n    echo \u0026quot;Backup completed successfully: $SNAPSHOT_NAME\u0026quot;\nelse\n    echo \u0026quot;Backup failed: $SNAPSHOT_NAME\u0026quot;\n    exit 1\nfi\n\n# Clean up old snapshots (keep last 7 days)\ncurl -s \u0026quot;localhost:9200/_snapshot/backup_repo/_all\u0026quot; | jq -r \u0026#039;.snapshots[] | select(.end_time_in_millis \u0026lt; \u0026#039;$(date -d \u0026#039;7 days ago\u0026#039; +%s000)\u0026#039;) | .snapshot\u0026#039; | while read snapshot; do\n    curl -X DELETE \u0026quot;localhost:9200/_snapshot/backup_repo/$snapshot\u0026quot;\n    echo \u0026quot;Deleted old snapshot: $snapshot\u0026quot;\ndone\n\necho \u0026quot;Elasticsearch backup completed: $SNAPSHOT_NAME\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"restore-procedures\" class=\"mobile-header\"\u003eRestore Procedures\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# elasticsearch-restore.sh\n\nSNAPSHOT_NAME=\u0026quot;$1\u0026quot;\nif [ -z \u0026quot;$SNAPSHOT_NAME\u0026quot; ]; then\n    echo \u0026quot;Usage: $0 \u0026lt;snapshot-name\u0026gt;\u0026quot;\n    echo \u0026quot;Available snapshots:\u0026quot;\n    curl -s \u0026quot;localhost:9200/_snapshot/backup_repo/_all\u0026quot; | jq -r \u0026#039;.snapshots[].snapshot\u0026#039;\n    exit 1\nfi\n\n# Close indices before restore\ncurl -X POST \u0026quot;localhost:9200/_all/_close\u0026quot;\n\n# Restore snapshot\ncurl -X POST \u0026quot;localhost:9200/_snapshot/backup_repo/$SNAPSHOT_NAME/_restore?wait_for_completion=true\u0026quot; -H \u0026#039;Content-Type: application/json\u0026#039; -d\u0026#039;\n{\n  \u0026quot;indices\u0026quot;: \u0026quot;*\u0026quot;,\n  \u0026quot;ignore_unavailable\u0026quot;: true,\n  \u0026quot;include_global_state\u0026quot;: true\n}\u0026#039;\n\necho \u0026quot;Restore completed from snapshot: $SNAPSHOT_NAME\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"automated-backup\" class=\"mobile-header\"\u003eAutomated Backup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create cron job for daily backups\necho \u0026quot;0 2 * * * /usr/local/bin/elasticsearch-backup.sh\u0026quot; | sudo crontab -\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"troubleshooting\" class=\"mobile-header\"\u003eTroubleshooting\u003c/h2\u003e\n\u003ch3 id=\"common-issues\" class=\"mobile-header\"\u003eCommon Issues\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e1. \u003cstrong\u003eElasticsearch won't start\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check logs\nsudo journalctl -u elasticsearch -f\nsudo tail -f /var/log/elasticsearch/elasticsearch.log\n\n# Check Java version\njava -version\n\n# Check memory settings\ngrep -E \u0026quot;Xms|Xmx\u0026quot; /etc/elasticsearch/jvm.options\n\n# Check disk space\ndf -h /var/lib/elasticsearch\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e2. \u003cstrong\u003eOut of memory errors\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check heap usage\ncurl -X GET \u0026quot;localhost:9200/_nodes/stats/jvm?pretty\u0026quot;\n\n# Check field data cache\ncurl -X GET \u0026quot;localhost:9200/_nodes/stats/indices/fielddata?pretty\u0026quot;\n\n# Clear field data cache\ncurl -X POST \u0026quot;localhost:9200/_cache/clear?fielddata=true\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e3. \u003cstrong\u003eSlow queries\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable slow log\ncurl -X PUT \u0026quot;localhost:9200/_all/_settings\u0026quot; -H \u0026#039;Content-Type: application/json\u0026#039; -d\u0026#039;\n{\n  \u0026quot;index.search.slowlog.threshold.query.warn\u0026quot;: \u0026quot;10s\u0026quot;,\n  \u0026quot;index.search.slowlog.threshold.query.info\u0026quot;: \u0026quot;5s\u0026quot;,\n  \u0026quot;index.search.slowlog.threshold.query.debug\u0026quot;: \u0026quot;2s\u0026quot;,\n  \u0026quot;index.search.slowlog.threshold.query.trace\u0026quot;: \u0026quot;500ms\u0026quot;\n}\u0026#039;\n\n# Check slow queries\nsudo tail -f /var/log/elasticsearch/*_index_search_slowlog.log\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"debug-mode\" class=\"mobile-header\"\u003eDebug Mode\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable debug logging\ncurl -X PUT \u0026quot;localhost:9200/_cluster/settings\u0026quot; -H \u0026#039;Content-Type: application/json\u0026#039; -d\u0026#039;\n{\n  \u0026quot;transient\u0026quot;: {\n    \u0026quot;logger.org.elasticsearch\u0026quot;: \u0026quot;DEBUG\u0026quot;\n  }\n}\u0026#039;\n\n# Check cluster state\ncurl -X GET \u0026quot;localhost:9200/_cluster/state?pretty\u0026quot;\n\n# Explain API for query analysis\ncurl -X GET \u0026quot;localhost:9200/my_index/_search\u0026quot; -H \u0026#039;Content-Type: application/json\u0026#039; -d\u0026#039;\n{\n  \u0026quot;explain\u0026quot;: true,\n  \u0026quot;query\u0026quot;: {\n    \u0026quot;match\u0026quot;: {\n      \u0026quot;title\u0026quot;: \u0026quot;search term\u0026quot;\n    }\n  }\n}\u0026#039;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"maintenance\" class=\"mobile-header\"\u003eMaintenance\u003c/h2\u003e\n\u003ch3 id=\"update-procedures\" class=\"mobile-header\"\u003eUpdate Procedures\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# RHEL/CentOS/Rocky/AlmaLinux\nsudo yum check-update elasticsearch\nsudo yum update elasticsearch\n\n# Debian/Ubuntu\nsudo apt update\nsudo apt upgrade elasticsearch\n\n# Arch Linux\nyay -Syu elasticsearch\n\n# macOS\nbrew upgrade elastic/tap/elasticsearch-full\n\n# Docker (Alpine/openSUSE)\ndocker pull elasticsearch:8.11.3\ndocker stop elasticsearch\ndocker rm elasticsearch\n# Re-run docker run command with new image\n\n# Always backup before updates\n./elasticsearch-backup.sh\n\n# Restart after updates\nsudo systemctl restart elasticsearch\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"maintenance-tasks\" class=\"mobile-header\"\u003eMaintenance Tasks\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Weekly maintenance script\n#!/bin/bash\n# elasticsearch-maintenance.sh\n\n# Force merge old indices\ncurl -X POST \u0026quot;localhost:9200/logs-$(date -d \u0026#039;1 week ago\u0026#039; +%Y.%m.%d)/_forcemerge?max_num_segments=1\u0026quot;\n\n# Clear caches\ncurl -X POST \u0026quot;localhost:9200/_cache/clear\u0026quot;\n\n# Optimize indices\ncurl -X POST \u0026quot;localhost:9200/_optimize\u0026quot;\n\n# Update index settings for better performance\ncurl -X PUT \u0026quot;localhost:9200/_all/_settings\u0026quot; -H \u0026#039;Content-Type: application/json\u0026#039; -d\u0026#039;\n{\n  \u0026quot;index\u0026quot;: {\n    \u0026quot;refresh_interval\u0026quot;: \u0026quot;30s\u0026quot;\n  }\n}\u0026#039;\n\necho \u0026quot;Elasticsearch maintenance completed\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"health-monitoring\" class=\"mobile-header\"\u003eHealth Monitoring\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create monitoring cron job\necho \u0026quot;*/5 * * * * /usr/local/bin/elasticsearch-health-check.sh\u0026quot; | sudo crontab -\n\n# Log rotation\nsudo tee /etc/logrotate.d/elasticsearch \u0026lt;\u0026lt;EOF\n/var/log/elasticsearch/*.log {\n    daily\n    rotate 7\n    compress\n    delaycompress\n    missingok\n    notifempty\n    create 640 elasticsearch elasticsearch\n    postrotate\n        systemctl restart elasticsearch \u0026gt; /dev/null 2\u0026gt;\u0026amp;1 || true\n    endscript\n}\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"integration-examples\" class=\"mobile-header\"\u003eIntegration Examples\u003c/h2\u003e\n\u003ch3 id=\"python-integration\" class=\"mobile-header\"\u003ePython Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"python\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epython\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-python\"\u003e# Using elasticsearch-py\nfrom elasticsearch import Elasticsearch\n\n# Connect to Elasticsearch\nes = Elasticsearch(\n    hosts=[{\u0026#039;host\u0026#039;: \u0026#039;localhost\u0026#039;, \u0026#039;port\u0026#039;: 9200}],\n    http_auth=(\u0026#039;elastic\u0026#039;, \u0026#039;password\u0026#039;),\n    use_ssl=True,\n    verify_certs=True,\n    ca_certs=\u0026#039;/etc/elasticsearch/certs/ca.crt\u0026#039;,\n)\n\n# Index a document\ndoc = {\n    \u0026#039;title\u0026#039;: \u0026#039;Sample Document\u0026#039;,\n    \u0026#039;content\u0026#039;: \u0026#039;This is a sample document for testing\u0026#039;,\n    \u0026#039;timestamp\u0026#039;: \u0026#039;2024-01-15T10:30:00\u0026#039;\n}\nes.index(index=\u0026#039;my_index\u0026#039;, id=1, body=doc)\n\n# Search documents\nresponse = es.search(\n    index=\u0026#039;my_index\u0026#039;,\n    body={\n        \u0026#039;query\u0026#039;: {\n            \u0026#039;match\u0026#039;: {\n                \u0026#039;content\u0026#039;: \u0026#039;sample\u0026#039;\n            }\n        }\n    }\n)\nprint(response[\u0026#039;hits\u0026#039;])\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"nodejs-integration\" class=\"mobile-header\"\u003eNode.js Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"javascript\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ejavascript\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e// Using @elastic/elasticsearch\nconst { Client } = require(\u0026#039;@elastic/elasticsearch\u0026#039;);\n\nconst client = new Client({\n  node: \u0026#039;https://localhost:9200\u0026#039;,\n  auth: {\n    username: \u0026#039;elastic\u0026#039;,\n    password: \u0026#039;password\u0026#039;\n  },\n  tls: {\n    ca: fs.readFileSync(\u0026#039;/etc/elasticsearch/certs/ca.crt\u0026#039;),\n    rejectUnauthorized: true\n  }\n});\n\n// Index a document\nasync function indexDocument() {\n  const response = await client.index({\n    index: \u0026#039;my_index\u0026#039;,\n    id: 1,\n    body: {\n      title: \u0026#039;Sample Document\u0026#039;,\n      content: \u0026#039;This is a sample document for testing\u0026#039;,\n      timestamp: new Date()\n    }\n  });\n  console.log(response);\n}\n\n// Search documents\nasync function searchDocuments() {\n  const response = await client.search({\n    index: \u0026#039;my_index\u0026#039;,\n    body: {\n      query: {\n        match: {\n          content: \u0026#039;sample\u0026#039;\n        }\n      }\n    }\n  });\n  console.log(response.body.hits);\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"java-integration\" class=\"mobile-header\"\u003eJava Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"java\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ejava\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-java\"\u003e// Using Elasticsearch Java client\nimport org.elasticsearch.client.RestClient;\nimport org.elasticsearch.client.RestHighLevelClient;\nimport org.elasticsearch.action.index.IndexRequest;\nimport org.elasticsearch.action.search.SearchRequest;\nimport org.elasticsearch.common.xcontent.XContentType;\n\nRestHighLevelClient client = new RestHighLevelClient(\n    RestClient.builder(new HttpHost(\u0026quot;localhost\u0026quot;, 9200, \u0026quot;https\u0026quot;))\n        .setHttpClientConfigCallback(httpClientBuilder -\u0026gt; \n            httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider)\n                .setSSLContext(sslContext))\n);\n\n// Index a document\nIndexRequest indexRequest = new IndexRequest(\u0026quot;my_index\u0026quot;)\n    .id(\u0026quot;1\u0026quot;)\n    .source(\u0026quot;{\\n\u0026quot; +\n        \u0026quot;\\\u0026quot;title\\\u0026quot;:\\\u0026quot;Sample Document\\\u0026quot;,\\n\u0026quot; +\n        \u0026quot;\\\u0026quot;content\\\u0026quot;:\\\u0026quot;This is a sample document for testing\\\u0026quot;,\\n\u0026quot; +\n        \u0026quot;\\\u0026quot;timestamp\\\u0026quot;:\\\u0026quot;2024-01-15T10:30:00\\\u0026quot;\\n\u0026quot; +\n        \u0026quot;}\u0026quot;, XContentType.JSON);\n\nclient.index(indexRequest, RequestOptions.DEFAULT);\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"logstash-integration\" class=\"mobile-header\"\u003eLogstash Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ruby\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eruby\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ruby\"\u003e# logstash.conf\ninput {\n  beats {\n    port =\u0026gt; 5044\n  }\n}\n\nfilter {\n  if [fields][log_type] == \u0026quot;apache\u0026quot; {\n    grok {\n      match =\u0026gt; { \u0026quot;message\u0026quot; =\u0026gt; \u0026quot;%{COMBINEDAPACHELOG}\u0026quot; }\n    }\n    date {\n      match =\u0026gt; [ \u0026quot;timestamp\u0026quot;, \u0026quot;dd/MMM/yyyy:HH:mm:ss Z\u0026quot; ]\n    }\n  }\n}\n\noutput {\n  elasticsearch {\n    hosts =\u0026gt; [\u0026quot;localhost:9200\u0026quot;]\n    user =\u0026gt; \u0026quot;logstash_user\u0026quot;\n    password =\u0026gt; \u0026quot;logstash_password\u0026quot;\n    index =\u0026gt; \u0026quot;logs-%{+YYYY.MM.dd}\u0026quot;\n  }\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"additional-resources\" class=\"mobile-header\"\u003eAdditional Resources\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eOfficial Elasticsearch Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/security-minimal-setup.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eElasticsearch Security Guide\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/tune-for-search-speed.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003ePerformance Tuning Guide\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/index-lifecycle-management.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eIndex Lifecycle Management\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-discovery-bootstrap-cluster.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eElasticsearch Cluster Setup\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://discuss.elastic.co/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eElastic Stack Community\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.elastic.co/blog/category/elasticsearch\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eElasticsearch Blog\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.elastic.co/guide/en/elasticsearch/guide/current/index.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eBest Practices Guide\u003c/a\u003e\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e---\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This guide is part of the \u003ca href=\"https://howtomgr.github.io\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eHowToMgr\u003c/a\u003e collection. Always refer to official documentation for the most up-to-date information.\u003c/p\u003e","readTime":"17 min","wordCount":3365,"lastBuilt":"2025-09-14T06:13:01.716Z"},{"name":"exchange","displayName":"Exchange","slug":"exchange","description":"Repo for exchange","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/exchange","updatedAt":"2025-09-08T03:07:21Z","createdAt":"2023-08-28T03:47:46Z","readmeRaw":"# Exchange 2016 on Server 2016\n\n```text\n\nInstall-WindowsFeature NET-Framework-45-Features, RPC-over-HTTP-proxy, RSAT-Clustering, RSAT-Clustering-CmdInterface, RSAT-Clustering-Mgmt, RSAT-Clustering-PowerShell, Web-Mgmt-Console, WAS-Process-Model, Web-Asp-Net45, Web-Basic-Auth, Web-Client-Auth, Web-Digest-Auth, Web-Dir-Browsing, Web-Dyn-Compression, Web-Http-Errors, Web-Http-Logging, Web-Http-Redirect, Web-Http-Tracing, Web-ISAPI-Ext, Web-ISAPI-Filter, Web-Lgcy-Mgmt-Console, Web-Metabase, Web-Mgmt-Console, Web-Mgmt-Service, Web-Net-Ext45, Web-Request-Monitor, Web-Server, Web-Stat-Compression, Web-Static-Content, Web-Windows-Auth, Web-WMI, Windows-Identity-Foundation, RSAT-ADDS, ADLDS, Server-Media-Foundation\n\nhttps://download.microsoft.com/download/2/C/4/2C47A5C1-A1F3-4843-B9FE-84C0032C61EC/UcmaRuntimeSetup.exe\nhttps://download.microsoft.com/download/2/E/6/2E61CFA4-993B-4DD4-91DA-3737CD5CD6E3/vcredist_x64.exe\n\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-ManagementScriptingTools,IIS-ManagementScriptingTools,IIS-IIS6ManagementCompatibility,IIS-LegacySnapIn,IIS-ManagementConsole,IIS-Metabase,IIS-WebServerManagementTools,IIS-WebServerRole\n\n```\n","readmeHtml":"\u003ch1 id=\"exchange-2016-on-server-2016\" class=\"mobile-header\"\u003eExchange 2016 on Server 2016\u003c/h1\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"text\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003etext\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-text\"\u003e\nInstall-WindowsFeature NET-Framework-45-Features, RPC-over-HTTP-proxy, RSAT-Clustering, RSAT-Clustering-CmdInterface, RSAT-Clustering-Mgmt, RSAT-Clustering-PowerShell, Web-Mgmt-Console, WAS-Process-Model, Web-Asp-Net45, Web-Basic-Auth, Web-Client-Auth, Web-Digest-Auth, Web-Dir-Browsing, Web-Dyn-Compression, Web-Http-Errors, Web-Http-Logging, Web-Http-Redirect, Web-Http-Tracing, Web-ISAPI-Ext, Web-ISAPI-Filter, Web-Lgcy-Mgmt-Console, Web-Metabase, Web-Mgmt-Console, Web-Mgmt-Service, Web-Net-Ext45, Web-Request-Monitor, Web-Server, Web-Stat-Compression, Web-Static-Content, Web-Windows-Auth, Web-WMI, Windows-Identity-Foundation, RSAT-ADDS, ADLDS, Server-Media-Foundation\n\nhttps://download.microsoft.com/download/2/C/4/2C47A5C1-A1F3-4843-B9FE-84C0032C61EC/UcmaRuntimeSetup.exe\nhttps://download.microsoft.com/download/2/E/6/2E61CFA4-993B-4DD4-91DA-3737CD5CD6E3/vcredist_x64.exe\n\nEnable-WindowsOptionalFeature -Online -FeatureName IIS-ManagementScriptingTools,IIS-ManagementScriptingTools,IIS-IIS6ManagementCompatibility,IIS-LegacySnapIn,IIS-ManagementConsole,IIS-Metabase,IIS-WebServerManagementTools,IIS-WebServerRole\n\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e","readTime":"1 min","wordCount":51,"lastBuilt":"2025-09-14T06:13:22.284Z"},{"name":"gitea","displayName":"Gitea","slug":"gitea","description":"Repo for gitea","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/gitea","updatedAt":"2025-09-08T03:07:55Z","createdAt":"2023-08-28T03:47:56Z","readmeRaw":"# Gitea Install\n\n```bash\necho \"\n###### Debian Main Repos\ndeb http://ftp.us.debian.org/debian/ stable main contrib non-free\ndeb http://ftp.us.debian.org/debian/ stable-updates main contrib non-free\ndeb http://security.debian.org/ stable/updates main contrib non-free\n\" \u003e /etc/apt/sources.list\n\napt update \u0026\u0026 apt upgrade -y\napt install -y curl wget apt-transport-https psmisc net-tools postfix dirmngr neovim git-core build-essential nginx-full nfs-common htop open-vm-tools\ndpkg-reconfigure postfix\ndpkg-reconfigure dash\n\nmkdir -p /mnt/backups /var/www/html/.well-known /etc/letsencrypt\necho \"\n10.0.254.1:/mnt/Volume_1/backups         /mnt/backups                 nfs defaults,rw 0 0\n10.0.254.1:/var/www/html/.well-known     /var/www/html/.well-known    nfs defaults,rw 0 0\n10.0.254.1:/etc/letsencrypt              /etc/letsencrypt             nfs defaults,rw 0 0\n\" \u003e\u003e /etc/fstab\nmount -a\n\nuseradd --system --shell /bin/bash --comment 'Git Version Control' --create-home --home-dir /home/git git\n\nmkdir -p /var/lib/gitea/{custom,data,indexers,public,log}\nchown git:git /var/lib/gitea/{data,indexers,log}\nchmod 750 /var/lib/gitea/{data,indexers,log}\nmkdir /etc/gitea\nchown root:git /etc/gitea\nchmod 770 /etc/gitea\nchmod 750 /etc/gitea\nchmod 644 /etc/gitea/app.ini\n```\n","readmeHtml":"\u003ch1 id=\"gitea-install\" class=\"mobile-header\"\u003eGitea Install\u003c/h1\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003eecho \u0026quot;\n###### Debian Main Repos\ndeb http://ftp.us.debian.org/debian/ stable main contrib non-free\ndeb http://ftp.us.debian.org/debian/ stable-updates main contrib non-free\ndeb http://security.debian.org/ stable/updates main contrib non-free\n\u0026quot; \u0026gt; /etc/apt/sources.list\n\napt update \u0026amp;\u0026amp; apt upgrade -y\napt install -y curl wget apt-transport-https psmisc net-tools postfix dirmngr neovim git-core build-essential nginx-full nfs-common htop open-vm-tools\ndpkg-reconfigure postfix\ndpkg-reconfigure dash\n\nmkdir -p /mnt/backups /var/www/html/.well-known /etc/letsencrypt\necho \u0026quot;\n10.0.254.1:/mnt/Volume_1/backups         /mnt/backups                 nfs defaults,rw 0 0\n10.0.254.1:/var/www/html/.well-known     /var/www/html/.well-known    nfs defaults,rw 0 0\n10.0.254.1:/etc/letsencrypt              /etc/letsencrypt             nfs defaults,rw 0 0\n\u0026quot; \u0026gt;\u0026gt; /etc/fstab\nmount -a\n\nuseradd --system --shell /bin/bash --comment \u0026#039;Git Version Control\u0026#039; --create-home --home-dir /home/git git\n\nmkdir -p /var/lib/gitea/{custom,data,indexers,public,log}\nchown git:git /var/lib/gitea/{data,indexers,log}\nchmod 750 /var/lib/gitea/{data,indexers,log}\nmkdir /etc/gitea\nchown root:git /etc/gitea\nchmod 770 /etc/gitea\nchmod 750 /etc/gitea\nchmod 644 /etc/gitea/app.ini\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e","readTime":"1 min","wordCount":125,"lastBuilt":"2025-09-14T06:13:21.679Z"},{"name":"gitlab","displayName":"Gitlab","slug":"gitlab","description":"Repo for gitlab","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/gitlab","updatedAt":"2025-09-14T01:30:01Z","createdAt":"2025-09-08T03:07:56Z","readmeRaw":"# GitLab Installation Guide\n\nComplete DevOps platform with Git repository management, CI/CD pipelines, issue tracking, and container registry. Enterprise-grade solution for modern software development lifecycle with advanced security features.\n\n## Prerequisites\n\n- Linux system (any modern distribution)\n- 8GB RAM minimum, 16GB+ recommended for production\n- 4 CPU cores minimum, 8+ recommended\n- 50GB+ available disk space, SSD recommended\n- Domain name for external access\n- SSL certificates for production deployment\n- SMTP server for email notifications\n\n## Installation\n\n### Using Omnibus Package (Recommended)\n\n#### Ubuntu/Debian\n```bash\n# Install dependencies\nsudo apt-get update\nsudo apt-get install -y curl openssh-server ca-certificates tzdata perl postfix\n\n# Configure Postfix for email\nsudo dpkg-reconfigure postfix\n\n# Add GitLab repository\ncurl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.deb.sh | sudo bash\n\n# Install GitLab Enterprise Edition\nsudo EXTERNAL_URL=\"https://gitlab.example.com\" apt-get install -y gitlab-ee\n\n# For GitLab Community Edition\nsudo EXTERNAL_URL=\"https://gitlab.example.com\" apt-get install -y gitlab-ce\n\n# Initial configuration\nsudo gitlab-ctl reconfigure\n\n# Check status\nsudo gitlab-ctl status\n```\n\n#### RHEL/CentOS/Rocky Linux/AlmaLinux\n```bash\n# Install dependencies\nsudo yum install -y curl policycoreutils-python-utils openssh-server perl postfix\n\n# For newer versions\nsudo dnf install -y curl policycoreutils-python-utils openssh-server perl postfix\n\n# Enable and start services\nsudo systemctl enable --now sshd postfix\n\n# Configure SELinux and firewall\nsudo setsebool -P httpd_can_network_connect 1\nsudo firewall-cmd --permanent --add-service=http\nsudo firewall-cmd --permanent --add-service=https\nsudo firewall-cmd --permanent --add-service=ssh\nsudo firewall-cmd --reload\n\n# Add GitLab repository\ncurl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash\n\n# Install GitLab\nsudo EXTERNAL_URL=\"https://gitlab.example.com\" yum install -y gitlab-ee\n\n# Configure and start\nsudo gitlab-ctl reconfigure\n```\n\n#### Fedora\n```bash\n# Install dependencies\nsudo dnf install -y curl policycoreutils-python-utils openssh-server perl postfix\n\n# Enable services\nsudo systemctl enable --now sshd postfix\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-service=http\nsudo firewall-cmd --permanent --add-service=https\nsudo firewall-cmd --reload\n\n# Add GitLab repository\ncurl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash\n\n# Install GitLab\nsudo EXTERNAL_URL=\"https://gitlab.example.com\" dnf install -y gitlab-ee\n\nsudo gitlab-ctl reconfigure\n```\n\n### Docker Installation (Single Container)\n```bash\n# Create GitLab directories\nsudo mkdir -p /srv/gitlab/{config,logs,data}\n\n# Set environment variables\nexport GITLAB_HOME=/srv/gitlab\n\n# Run GitLab container with comprehensive configuration\nsudo docker run --detach \\\n  --hostname gitlab.example.com \\\n  --env GITLAB_OMNIBUS_CONFIG=\"\n    external_url 'https://gitlab.example.com';\n    gitlab_rails['gitlab_shell_ssh_port'] = 2222;\n    \n    # SSL configuration\n    nginx['ssl_certificate'] = '/etc/gitlab/ssl/gitlab.crt';\n    nginx['ssl_certificate_key'] = '/etc/gitlab/ssl/gitlab.key';\n    nginx['ssl_protocols'] = 'TLSv1.2 TLSv1.3';\n    nginx['ssl_prefer_server_ciphers'] = 'off';\n    \n    # Security settings\n    gitlab_rails['rack_attack_git_basic_auth'] = {\n      'enabled' =\u003e true,\n      'ip_whitelist' =\u003e ['127.0.0.1', '192.168.1.0/24'],\n      'maxretry' =\u003e 10,\n      'findtime' =\u003e 60,\n      'bantime' =\u003e 3600\n    };\n    \n    # Performance settings\n    postgresql['shared_preload_libraries'] = 'pg_stat_statements';\n    postgresql['max_connections'] = 200;\n    postgresql['shared_buffers'] = '1GB';\n    postgresql['effective_cache_size'] = '4GB';\n    \n    # Container Registry\n    registry_external_url 'https://registry.example.com';\n    gitlab_rails['registry_enabled'] = true;\n    \n    # Monitoring\n    prometheus_monitoring['enable'] = true;\n    grafana['enable'] = true;\n    grafana['admin_password'] = 'secure_grafana_password';\n    \n    # Email configuration\n    gitlab_rails['smtp_enable'] = true;\n    gitlab_rails['smtp_address'] = 'smtp.example.com';\n    gitlab_rails['smtp_port'] = 587;\n    gitlab_rails['smtp_user_name'] = 'gitlab@example.com';\n    gitlab_rails['smtp_password'] = 'smtp_secure_password';\n    gitlab_rails['smtp_domain'] = 'example.com';\n    gitlab_rails['smtp_authentication'] = 'login';\n    gitlab_rails['smtp_enable_starttls_auto'] = true;\n    gitlab_rails['smtp_tls'] = false;\n    gitlab_rails['smtp_openssl_verify_mode'] = 'peer';\n    \n    # Email settings\n    gitlab_rails['gitlab_email_from'] = 'gitlab@example.com';\n    gitlab_rails['gitlab_email_display_name'] = 'GitLab';\n    \n    # Backup configuration\n    gitlab_rails['backup_keep_time'] = 604800;\n    gitlab_rails['backup_upload_connection'] = {\n      'provider' =\u003e 'AWS',\n      'region' =\u003e 'us-west-2',\n      'aws_access_key_id' =\u003e 'backup_access_key',\n      'aws_secret_access_key' =\u003e 'backup_secret_key'\n    };\n    gitlab_rails['backup_upload_remote_directory'] = 'gitlab-backups';\n    \" \\\n  --publish 443:443 --publish 80:80 --publish 2222:22 \\\n  --name gitlab \\\n  --restart unless-stopped \\\n  --volume $GITLAB_HOME/config:/etc/gitlab \\\n  --volume $GITLAB_HOME/logs:/var/log/gitlab \\\n  --volume $GITLAB_HOME/data:/var/opt/gitlab \\\n  --shm-size 256m \\\n  gitlab/gitlab-ee:latest\n```\n\n### Docker Compose (Production Setup)\n```bash\nmkdir -p ~/gitlab-stack\ncd ~/gitlab-stack\n\ncat \u003e docker-compose.yml \u003c\u003cEOF\nversion: '3.8'\n\nservices:\n  gitlab:\n    image: gitlab/gitlab-ee:latest\n    container_name: gitlab\n    restart: unless-stopped\n    hostname: gitlab.example.com\n    environment:\n      GITLAB_OMNIBUS_CONFIG: |\n        external_url 'https://gitlab.example.com'\n        \n        # Performance settings\n        postgresql['shared_buffers'] = \"2GB\"\n        postgresql['effective_cache_size'] = \"8GB\"\n        postgresql['max_connections'] = 300\n        \n        # Security settings\n        gitlab_rails['rack_attack_git_basic_auth'] = {\n          'enabled' =\u003e true,\n          'ip_whitelist' =\u003e ['127.0.0.1', '10.0.0.0/8', '172.16.0.0/12', '192.168.0.0/16'],\n          'maxretry' =\u003e 10,\n          'findtime' =\u003e 60,\n          'bantime' =\u003e 3600\n        }\n        \n        # Container Registry\n        registry_external_url 'https://registry.example.com'\n        gitlab_rails['registry_enabled'] = true\n        \n        # Monitoring\n        prometheus_monitoring['enable'] = true\n        grafana['enable'] = true\n        \n        # Let's Encrypt (disable for reverse proxy setup)\n        letsencrypt['enable'] = false\n        nginx['listen_port'] = 80\n        nginx['listen_https'] = false\n        \n        # GitLab Pages\n        pages_external_url \"https://pages.example.com\"\n        gitlab_pages['enable'] = true\n    ports:\n      - '80:80'\n      - '443:443'\n      - '2222:22'\n    volumes:\n      - './config:/etc/gitlab'\n      - './logs:/var/log/gitlab'\n      - './data:/var/opt/gitlab'\n    networks:\n      - gitlab\n    shm_size: '256m'\n    healthcheck:\n      test: [\"CMD-SHELL\", \"gitlab-healthcheck --fail --max-time 10\"]\n      interval: 60s\n      timeout: 30s\n      retries: 5\n      start_period: 200s\n\n  gitlab-runner:\n    image: gitlab/gitlab-runner:latest\n    container_name: gitlab-runner\n    restart: unless-stopped\n    volumes:\n      - './runner-config:/etc/gitlab-runner'\n      - '/var/run/docker.sock:/var/run/docker.sock'\n    networks:\n      - gitlab\n    depends_on:\n      - gitlab\n\n  redis:\n    image: redis:7-alpine\n    container_name: gitlab-redis\n    restart: unless-stopped\n    command: redis-server --appendonly yes --requirepass redis_secure_password\n    volumes:\n      - redis-data:/data\n    networks:\n      - gitlab\n\n  nginx:\n    image: nginx:alpine\n    container_name: gitlab-nginx\n    restart: unless-stopped\n    ports:\n      - '443:443'\n    volumes:\n      - './nginx/nginx.conf:/etc/nginx/nginx.conf:ro'\n      - './nginx/ssl:/etc/nginx/ssl:ro'\n    depends_on:\n      - gitlab\n    networks:\n      - gitlab\n\nnetworks:\n  gitlab:\n    driver: bridge\n\nvolumes:\n  redis-data:\nEOF\n\n# Create NGINX reverse proxy configuration\nmkdir -p nginx\ncat \u003e nginx/nginx.conf \u003c\u003cEOF\nevents {\n    worker_connections 1024;\n}\n\nhttp {\n    upstream gitlab {\n        server gitlab:80;\n    }\n    \n    upstream registry {\n        server gitlab:5000;\n    }\n\n    server {\n        listen 443 ssl http2;\n        server_name gitlab.example.com;\n\n        ssl_certificate /etc/nginx/ssl/gitlab.crt;\n        ssl_certificate_key /etc/nginx/ssl/gitlab.key;\n        ssl_protocols TLSv1.2 TLSv1.3;\n        ssl_ciphers ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512;\n\n        client_max_body_size 0;\n        gzip off;\n\n        location / {\n            proxy_pass http://gitlab;\n            proxy_set_header Host \\$host;\n            proxy_set_header X-Real-IP \\$remote_addr;\n            proxy_set_header X-Forwarded-For \\$proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto \\$scheme;\n        }\n    }\n\n    server {\n        listen 443 ssl http2;\n        server_name registry.example.com;\n\n        ssl_certificate /etc/nginx/ssl/registry.crt;\n        ssl_certificate_key /etc/nginx/ssl/registry.key;\n\n        client_max_body_size 0;\n\n        location /v2/ {\n            proxy_pass http://registry;\n            proxy_set_header Host \\$host;\n            proxy_set_header X-Real-IP \\$remote_addr;\n            proxy_set_header X-Forwarded-For \\$proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto \\$scheme;\n        }\n    }\n}\nEOF\n\ndocker-compose up -d\n```\n\n## Enterprise Configuration\n\n### Production Configuration (/etc/gitlab/gitlab.rb)\n```bash\nsudo tee /etc/gitlab/gitlab.rb \u003e /dev/null \u003c\u003cEOF\n# GitLab Enterprise Production Configuration\n\nexternal_url 'https://gitlab.example.com'\n\n# Performance and Resource Settings\nunicorn['worker_timeout'] = 60\nunicorn['worker_processes'] = 8\nsidekiq['max_concurrency'] = 25\nsidekiq['min_concurrency'] = 10\n\n# PostgreSQL configuration\npostgresql['enable'] = true\npostgresql['max_connections'] = 300\npostgresql['shared_buffers'] = \"2GB\"\npostgresql['effective_cache_size'] = \"8GB\"\npostgresql['work_mem'] = \"16MB\"\npostgresql['maintenance_work_mem'] = \"256MB\"\npostgresql['checkpoint_completion_target'] = 0.9\npostgresql['wal_buffers'] = \"16MB\"\npostgresql['default_statistics_target'] = 100\npostgresql['random_page_cost'] = 1.1\npostgresql['effective_io_concurrency'] = 200\n\n# Redis configuration\nredis['enable'] = true\nredis['maxmemory'] = \"1gb\"\nredis['maxmemory_policy'] = \"allkeys-lru\"\nredis['save'] = '900 1 300 10 60 10000'\nredis['password'] = 'redis_secure_password'\n\n# Gitaly configuration (Git RPC service)\ngitaly['enable'] = true\ngitaly['auth_token'] = 'secure_gitaly_token'\ngitaly['ruby_max_rss'] = 300000000  # 300MB\ngitaly['concurrency'] = [\n  {\n    'rpc' =\u003e \"/gitaly.SmartHTTPService/PostReceivePack\",\n    'max_per_repo' =\u003e 3\n  },\n  {\n    'rpc' =\u003e \"/gitaly.SSHService/SSHUploadPack\", \n    'max_per_repo' =\u003e 3\n  }\n]\n\n# NGINX configuration\nnginx['enable'] = true\nnginx['listen_port'] = 80\nnginx['listen_https'] = false\nnginx['redirect_http_to_https'] = false\nnginx['ssl_certificate'] = \"/etc/gitlab/ssl/gitlab.crt\"\nnginx['ssl_certificate_key'] = \"/etc/gitlab/ssl/gitlab.key\"\nnginx['ssl_protocols'] = \"TLSv1.2 TLSv1.3\"\nnginx['ssl_prefer_server_ciphers'] = \"off\"\nnginx['ssl_ciphers'] = \"ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384\"\n\n# Container Registry\nregistry_external_url 'https://registry.example.com'\ngitlab_rails['registry_enabled'] = true\nregistry['enable'] = true\nregistry['username'] = \"registry\"\nregistry['uid'] = 996\nregistry['gid'] = 996\nregistry['dir'] = \"/var/opt/gitlab/registry\"\nregistry['log_directory'] = \"/var/log/gitlab/registry\"\nregistry['log_level'] = \"info\"\nregistry['rootcertbundle'] = \"/opt/gitlab/embedded/ssl/certs/cacert.pem\"\n\n# GitLab Pages\npages_external_url \"https://pages.example.com\"\ngitlab_pages['enable'] = true\ngitlab_pages['dir'] = \"/var/opt/gitlab/gitlab-pages\"\ngitlab_pages['log_directory'] = \"/var/log/gitlab/gitlab-pages\"\ngitlab_pages['access_control'] = true\ngitlab_pages['use_legacy_storage'] = false\n\n# Email configuration\ngitlab_rails['smtp_enable'] = true\ngitlab_rails['smtp_address'] = \"smtp.example.com\"\ngitlab_rails['smtp_port'] = 587\ngitlab_rails['smtp_user_name'] = \"gitlab@example.com\"\ngitlab_rails['smtp_password'] = \"smtp_secure_password\"\ngitlab_rails['smtp_domain'] = \"example.com\"\ngitlab_rails['smtp_authentication'] = \"login\"\ngitlab_rails['smtp_enable_starttls_auto'] = true\ngitlab_rails['smtp_tls'] = false\ngitlab_rails['smtp_openssl_verify_mode'] = 'peer'\n\ngitlab_rails['gitlab_email_enabled'] = true\ngitlab_rails['gitlab_email_from'] = 'gitlab@example.com'\ngitlab_rails['gitlab_email_display_name'] = 'GitLab'\ngitlab_rails['gitlab_email_reply_to'] = 'noreply@example.com'\n\n# Security settings\ngitlab_rails['rack_attack_git_basic_auth'] = {\n  'enabled' =\u003e true,\n  'ip_whitelist' =\u003e %w{127.0.0.1 192.168.1.0/24 10.0.0.0/8},\n  'maxretry' =\u003e 10,\n  'findtime' =\u003e 60,\n  'bantime' =\u003e 3600\n}\n\n# Two-factor authentication\ngitlab_rails['require_two_factor_authentication'] = false\ngitlab_rails['two_factor_grace_period'] = 8  # 8 hours instead of default 48\n\n# Session settings\ngitlab_rails['session_expire_delay'] = 10080  # 1 week\ngitlab_rails['session_store_enabled'] = true\n\n# Backup configuration\ngitlab_rails['backup_keep_time'] = 604800  # 7 days\ngitlab_rails['backup_upload_connection'] = {\n  'provider' =\u003e 'AWS',\n  'region' =\u003e 'us-west-2',\n  'aws_access_key_id' =\u003e 'backup_access_key',\n  'aws_secret_access_key' =\u003e 'backup_secret_key'\n}\ngitlab_rails['backup_upload_remote_directory'] = 'gitlab-backups'\ngitlab_rails['backup_multipart_chunk_size'] = 104857600  # 100MB\n\n# Monitoring\nprometheus_monitoring['enable'] = true\nprometheus['enable'] = true\nprometheus['listen_address'] = 'localhost:9090'\nprometheus['scrape_configs'] = [\n  {\n    'job_name' =\u003e 'gitlab-workhorse',\n    'static_configs' =\u003e [\n      { 'targets' =\u003e ['localhost:9229'] }\n    ]\n  },\n  {\n    'job_name' =\u003e 'gitlab-unicorn',\n    'static_configs' =\u003e [\n      { 'targets' =\u003e ['localhost:8080'] }\n    ]\n  },\n  {\n    'job_name' =\u003e 'gitlab-sidekiq',\n    'static_configs' =\u003e [\n      { 'targets' =\u003e ['localhost:8082'] }\n    ]\n  }\n]\n\ngrafana['enable'] = true\ngrafana['admin_password'] = 'secure_grafana_password'\ngrafana['disable_login_form'] = false\n\n# Logging\nlogging['svlogd_size'] = 200 * 1024 * 1024  # 200MB\nlogging['svlogd_num'] = 30\nlogging['svlogd_timeout'] = 24 * 60 * 60    # rotate after 24 hours\nlogging['logrotate_frequency'] = \"daily\"\nlogging['logrotate_rotate'] = 30\nlogging['logrotate_compress'] = \"compress\"\n\n# Git settings\ngitlab_rails['gitlab_default_branch'] = 'main'\ngitlab_rails['max_request_duration_seconds'] = 60\n\n# Rate limiting\ngitlab_rails['rate_limit_requests_per_period'] = 300\ngitlab_rails['rate_limit_period'] = 60\n\n# Enterprise features (if using GitLab EE)\n# gitlab_rails['ee_license'] = File.read('/etc/gitlab/GitLab.gitlab-license')\n\n# Security scanning\ngitlab_rails['dependency_scanning_enabled'] = true\ngitlab_rails['container_scanning_enabled'] = true\ngitlab_rails['sast_enabled'] = true\ngitlab_rails['secret_detection_enabled'] = true\n\n# LDAP configuration (Enterprise)\ngitlab_rails['ldap_enabled'] = false\ngitlab_rails['prevent_ldap_sign_in'] = false\ngitlab_rails['ldap_servers'] = {\n  'main' =\u003e {\n    'label' =\u003e 'LDAP',\n    'host' =\u003e 'ldap.example.com',\n    'port' =\u003e 636,\n    'uid' =\u003e 'sAMAccountName',\n    'bind_dn' =\u003e 'CN=gitlab,OU=Service Accounts,DC=example,DC=com',\n    'password' =\u003e 'ldap_service_password',\n    'encryption' =\u003e 'ssl',\n    'verify_certificates' =\u003e true,\n    'ca_file' =\u003e '/etc/gitlab/ssl/ldap-ca.crt',\n    'base' =\u003e 'DC=example,DC=com',\n    'user_filter' =\u003e '',\n    'attributes' =\u003e {\n      'username' =\u003e ['uid', 'userid', 'sAMAccountName'],\n      'email' =\u003e ['mail', 'email', 'userPrincipalName'],\n      'name' =\u003e 'cn',\n      'first_name' =\u003e 'givenName',\n      'last_name' =\u003e 'sn'\n    },\n    'group_base' =\u003e 'OU=Groups,DC=example,DC=com',\n    'admin_group' =\u003e 'GitLab Administrators'\n  }\n}\nEOF\n\nsudo gitlab-ctl reconfigure\n```\n\n## Security Hardening (2024 Best Practices)\n\n### SSL/TLS Configuration\n```bash\n# Generate SSL certificates\nsudo mkdir -p /etc/gitlab/ssl\n\n# Self-signed certificate for testing\nsudo openssl req -x509 -nodes -days 365 -newkey rsa:4096 \\\n  -keyout /etc/gitlab/ssl/gitlab.key \\\n  -out /etc/gitlab/ssl/gitlab.crt \\\n  -subj \"/C=US/ST=State/L=City/O=Organization/CN=gitlab.example.com\"\n\n# Production: Let's Encrypt integration\nsudo tee -a /etc/gitlab/gitlab.rb \u003e /dev/null \u003c\u003cEOF\n\n# Let's Encrypt configuration\nletsencrypt['enable'] = true\nletsencrypt['contact_emails'] = ['admin@example.com']\nletsencrypt['auto_renew'] = true\nletsencrypt['auto_renew_hour'] = 0\nletsencrypt['auto_renew_minute'] = 0\nletsencrypt['auto_renew_day_of_month'] = \"*/4\"\n\n# Force HTTPS\nnginx['redirect_http_to_https'] = true\nnginx['ssl_protocols'] = \"TLSv1.2 TLSv1.3\"\nnginx['ssl_prefer_server_ciphers'] = \"off\"\nnginx['ssl_ciphers'] = \"ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384\"\n\n# HSTS\nnginx['hsts_max_age'] = 31536000\nnginx['hsts_include_subdomains'] = true\nEOF\n\nsudo gitlab-ctl reconfigure\n```\n\n### Advanced Security Configuration\n```bash\n# Configure security settings\nsudo tee -a /etc/gitlab/gitlab.rb \u003e /dev/null \u003c\u003cEOF\n\n# Security hardening\ngitlab_rails['webhook_timeout'] = 10\ngitlab_rails['webhook_max_redirects'] = 3\n\n# Disable password authentication (use SSO/LDAP)\ngitlab_rails['omniauth_allow_single_sign_on'] = ['saml', 'ldapmain']\ngitlab_rails['omniauth_block_auto_created_users'] = false\ngitlab_rails['omniauth_auto_sign_in_with_provider'] = 'saml'\n\n# API rate limiting\ngitlab_rails['rate_limit_requests_per_period'] = 1000\ngitlab_rails['rate_limit_period'] = 60\n\n# Git over HTTP rate limiting\ngitlab_rails['rack_attack_git_basic_auth'] = {\n  'enabled' =\u003e true,\n  'ip_whitelist' =\u003e %w{127.0.0.1 192.168.1.0/24},\n  'maxretry' =\u003e 20,\n  'findtime' =\u003e 60,\n  'bantime' =\u003e 3600\n}\n\n# Protected paths\ngitlab_rails['rack_attack_protected_paths'] = [\n  '/users/password',\n  '/users/sign_in',\n  '/api/v4/session.json',\n  '/api/v4/session',\n  '/users/confirmation',\n  '/unsubscribes/',\n  '/import/github/personal_access_token',\n  '/admin/session'\n]\n\n# SSH security\ngitlab_rails['gitlab_shell_ssh_port'] = 2222\ngitlab_shell['auth_file'] = \"/var/opt/gitlab/.ssh/authorized_keys\"\n\n# Container Registry security\nregistry['notifications'] = [\n  {\n    'name' =\u003e 'security_scan',\n    'url' =\u003e 'https://security-scanner.example.com/webhook',\n    'timeout' =\u003e '2000ms',\n    'threshold' =\u003e 3,\n    'backoff' =\u003e '1000ms'\n  }\n]\n\n# Secrets management\ngitlab_rails['db_password'] = File.read('/etc/gitlab/secrets/db_password').strip\ngitlab_rails['secret_key_base'] = File.read('/etc/gitlab/secrets/secret_key_base').strip\ngitlab_rails['otp_key_base'] = File.read('/etc/gitlab/secrets/otp_key_base').strip\ngitlab_rails['encrypted_settings_key_base'] = File.read('/etc/gitlab/secrets/encrypted_settings_key_base').strip\n\n# Audit logging\ngitlab_rails['audit_events_enabled'] = true\n\n# Disable features that increase attack surface\ngitlab_rails['usage_ping_enabled'] = false\ngitlab_rails['sentry_enabled'] = false\nEOF\n\n# Create secrets directory and files\nsudo mkdir -p /etc/gitlab/secrets\nsudo openssl rand -base64 64 | sudo tee /etc/gitlab/secrets/db_password\nsudo openssl rand -base64 64 | sudo tee /etc/gitlab/secrets/secret_key_base\nsudo openssl rand -base64 64 | sudo tee /etc/gitlab/secrets/otp_key_base\nsudo openssl rand -base64 64 | sudo tee /etc/gitlab/secrets/encrypted_settings_key_base\n\n# Secure permissions\nsudo chmod 600 /etc/gitlab/secrets/*\nsudo chown git:git /etc/gitlab/secrets/*\n\nsudo gitlab-ctl reconfigure\n```\n\n### GitLab Runner Security Configuration\n```bash\n# Create secure runner configuration\nsudo mkdir -p /etc/gitlab-runner\n\nsudo tee /etc/gitlab-runner/config.toml \u003e /dev/null \u003c\u003cEOF\nconcurrent = 4\ncheck_interval = 0\nshutdown_timeout = 0\n\n[session_server]\n  session_timeout = 1800\n\n[[runners]]\n  name = \"docker-runner-secure\"\n  url = \"https://gitlab.example.com/\"\n  token = \"runner_registration_token\"\n  executor = \"docker\"\n  \n  # Security settings\n  pre_clone_script = \"echo 'Starting secure build'\"\n  pre_build_script = \"echo 'Preparing secure environment'\"\n  post_build_script = \"echo 'Cleaning up secure environment'\"\n  \n  [runners.docker]\n    tls_verify = false\n    image = \"alpine:latest\"\n    privileged = false  # Critical: Never use privileged mode\n    disable_entrypoint_overwrite = false\n    oom_kill_disable = false\n    disable_cache = false\n    volumes = [\"/cache\", \"/certs/client\"]\n    shm_size = 0\n    network_mode = \"bridge\"\n    \n    # Security restrictions\n    cap_drop = [\"ALL\"]\n    cap_add = [\"CHOWN\", \"SETGID\", \"SETUID\"]\n    security_opt = [\"no-new-privileges:true\"]\n    \n    # Resource limits\n    memory = \"2g\"\n    memory_swap = \"2g\"\n    memory_reservation = \"1g\"\n    cpus = \"1.5\"\n    \n    # Network security\n    dns = [\"8.8.8.8\", \"8.8.4.4\"]\n    extra_hosts = [\"gitlab.example.com:192.168.1.100\"]\n    \n    # Image scanning\n    pull_policy = [\"if-not-present\"]\n    \n  [runners.docker.tmpfs]\n    \"/tmp\" = \"rw,noexec,nosuid,size=100m\"\n    \"/var/tmp\" = \"rw,noexec,nosuid,size=100m\"\n\n# Kubernetes executor (more secure)\n[[runners]]\n  name = \"k8s-runner-secure\"\n  url = \"https://gitlab.example.com/\"\n  token = \"k8s_runner_token\"\n  executor = \"kubernetes\"\n  \n  [runners.kubernetes]\n    host = \"https://k8s.example.com:6443\"\n    namespace = \"gitlab-runner\"\n    privileged = false  # Never use privileged\n    image = \"alpine:latest\"\n    \n    # Security context\n    run_as_user = 1000\n    run_as_group = 1000\n    fs_group = 1000\n    \n    # Resource limits\n    memory_limit = \"2Gi\"\n    memory_request = \"1Gi\"\n    cpu_limit = \"1000m\"\n    cpu_request = \"500m\"\n    \n    # Security policies\n    [runners.kubernetes.pod_security_context]\n      run_as_non_root = true\n      run_as_user = 1000\n      run_as_group = 1000\n      fs_group = 1000\n      \n    [[runners.kubernetes.volumes.empty_dir]]\n      name = \"tmp\"\n      mount_path = \"/tmp\"\n      medium = \"Memory\"\nEOF\n\n# Register runner with security tags\nsudo gitlab-runner register \\\n  --url \"https://gitlab.example.com/\" \\\n  --registration-token \"RUNNER_TOKEN\" \\\n  --description \"secure-docker-runner\" \\\n  --tag-list \"docker,secure,production\" \\\n  --run-untagged=\"false\" \\\n  --locked=\"true\" \\\n  --access-level=\"ref_protected\" \\\n  --executor \"docker\" \\\n  --docker-image alpine:latest \\\n  --docker-privileged=\"false\" \\\n  --docker-volumes \"/certs/client\"\n\nsudo systemctl enable --now gitlab-runner\n```\n\n## CI/CD Pipeline Security\n\n### Secure Pipeline Configuration\n```bash\n# Create .gitlab-ci.yml with security best practices\ncat \u003e .gitlab-ci.yml \u003c\u003cEOF\n# GitLab CI/CD Security Best Practices - 2024\n\nstages:\n  - security-scan\n  - test\n  - build\n  - security-test\n  - deploy\n\nvariables:\n  # Security variables\n  DOCKER_DRIVER: overlay2\n  DOCKER_TLS_CERTDIR: \"/certs\"\n  SECURE_LOG_LEVEL: info\n  \n  # Use protected variables for sensitive data\n  # DEPLOY_TOKEN: (set in GitLab UI as protected variable)\n  # AWS_ACCESS_KEY: (set in GitLab UI as protected variable)\n\n# Security scanning stage\nsecret-detection:\n  stage: security-scan\n  image: registry.gitlab.com/gitlab-org/security-products/analyzers/secrets:latest\n  script:\n    - echo \"Scanning for secrets in code...\"\n    - /analyzer run\n  artifacts:\n    reports:\n      secret_detection: gl-secret-detection-report.json\n  rules:\n    - if: '\\$CI_COMMIT_BRANCH'\n  tags:\n    - secure\n\ndependency-scanning:\n  stage: security-scan  \n  image: registry.gitlab.com/gitlab-org/security-products/analyzers/gemnasium:latest\n  script:\n    - echo \"Scanning dependencies for vulnerabilities...\"\n    - /analyzer run\n  artifacts:\n    reports:\n      dependency_scanning: gl-dependency-scanning-report.json\n  rules:\n    - if: '\\$CI_COMMIT_BRANCH'\n  tags:\n    - secure\n\nsast:\n  stage: security-scan\n  image: registry.gitlab.com/gitlab-org/security-products/analyzers/sobelow:latest\n  script:\n    - echo \"Static application security testing...\"\n    - /analyzer run\n  artifacts:\n    reports:\n      sast: gl-sast-report.json\n  rules:\n    - if: '\\$CI_COMMIT_BRANCH'\n  tags:\n    - secure\n\n# Container scanning\ncontainer-scanning:\n  stage: security-test\n  image: registry.gitlab.com/gitlab-org/security-products/analyzers/klar:latest\n  script:\n    - echo \"Scanning container image for vulnerabilities...\"\n    - /analyzer run\n  artifacts:\n    reports:\n      container_scanning: gl-container-scanning-report.json\n  dependencies:\n    - build\n  rules:\n    - if: '\\$CI_COMMIT_BRANCH'\n  tags:\n    - secure\n\n# Secure build stage\nbuild:\n  stage: build\n  image: docker:latest\n  services:\n    - docker:dind\n  before_script:\n    # Verify image signatures\n    - echo \"Verifying base image integrity...\"\n    - docker trust inspect alpine:latest\n  script:\n    - echo \"Building application with security scanning...\"\n    - docker build -t \\$CI_REGISTRY_IMAGE:\\$CI_COMMIT_SHA .\n    - docker run --rm -v /var/run/docker.sock:/var/run/docker.sock aquasec/trivy image \\$CI_REGISTRY_IMAGE:\\$CI_COMMIT_SHA\n    - docker login -u \\$CI_REGISTRY_USER -p \\$CI_REGISTRY_PASSWORD \\$CI_REGISTRY\n    - docker push \\$CI_REGISTRY_IMAGE:\\$CI_COMMIT_SHA\n  rules:\n    - if: '\\$CI_COMMIT_BRANCH == \"main\"'\n  tags:\n    - secure\n\n# Secure deployment\ndeploy-production:\n  stage: deploy\n  image: alpine:latest\n  before_script:\n    # Install kubectl and verify cluster connectivity\n    - apk add --no-cache curl\n    - curl -LO \"https://dl.k8s.io/release/v1.28.0/bin/linux/amd64/kubectl\"\n    - chmod +x kubectl \u0026\u0026 mv kubectl /usr/local/bin/\n    - kubectl config use-context production-cluster\n    - kubectl auth can-i create deployments --namespace=production\n  script:\n    - echo \"Deploying to production with security validations...\"\n    - kubectl apply -f k8s/production/ --namespace=production\n    - kubectl rollout status deployment/app --namespace=production --timeout=300s\n  environment:\n    name: production\n    url: https://app.example.com\n  rules:\n    - if: '\\$CI_COMMIT_BRANCH == \"main\"'\n      when: manual\n  only:\n    variables:\n      - \\$CI_COMMIT_REF_PROTECTED == \"true\"\n  tags:\n    - secure\n    - production\n\n# Security compliance check\ncompliance-check:\n  stage: security-test\n  image: alpine:latest\n  script:\n    - echo \"Running compliance checks...\"\n    - apk add --no-cache curl jq\n    - |\n      # Check for required security labels in Docker images\n      if ! docker inspect \\$CI_REGISTRY_IMAGE:\\$CI_COMMIT_SHA | jq -r '.[].Config.Labels[\"security.scan\"]' | grep -q \"passed\"; then\n        echo \"ERROR: Image failed security scan\"\n        exit 1\n      fi\n    - echo \"Compliance check passed\"\n  dependencies:\n    - container-scanning\n  rules:\n    - if: '\\$CI_COMMIT_BRANCH == \"main\"'\n  tags:\n    - secure\n\n# Infrastructure as Code scanning\niac-scanning:\n  stage: security-scan\n  image: bridgecrew/checkov:latest\n  script:\n    - checkov --framework terraform --framework kubernetes --framework dockerfile\n  artifacts:\n    reports:\n      junit: checkov-report.xml\n  rules:\n    - if: '\\$CI_COMMIT_BRANCH'\n      changes:\n        - \"**/*.tf\"\n        - \"**/*.yml\"\n        - \"**/*.yaml\"\n        - \"**/Dockerfile*\"\n  tags:\n    - secure\nEOF\n```\n\n### RBAC and Access Control\n```bash\n# Configure GitLab RBAC via API\nGITLAB_URL=\"https://gitlab.example.com\"\nADMIN_TOKEN=\"your_admin_token\"\n\n# Create groups with specific permissions\ncurl --request POST --header \"PRIVATE-TOKEN: ${ADMIN_TOKEN}\" \\\n  --data \"name=developers\u0026path=developers\u0026description=Development team\u0026visibility=private\" \\\n  \"${GITLAB_URL}/api/v4/groups\"\n\ncurl --request POST --header \"PRIVATE-TOKEN: ${ADMIN_TOKEN}\" \\\n  --data \"name=security-team\u0026path=security-team\u0026description=Security team\u0026visibility=private\" \\\n  \"${GITLAB_URL}/api/v4/groups\"\n\n# Create projects with security templates\ncurl --request POST --header \"PRIVATE-TOKEN: ${ADMIN_TOKEN}\" \\\n  --data \"name=secure-app\u0026description=Secure application\u0026visibility=private\u0026issues_enabled=true\u0026merge_requests_enabled=true\u0026wiki_enabled=false\u0026builds_enabled=true\u0026snippets_enabled=false\u0026container_registry_enabled=true\u0026shared_runners_enabled=false\" \\\n  \"${GITLAB_URL}/api/v4/projects\"\n\n# Configure branch protection\nPROJECT_ID=\"1\"  # Replace with actual project ID\ncurl --request POST --header \"PRIVATE-TOKEN: ${ADMIN_TOKEN}\" \\\n  --data \"name=main\u0026code_owner_approval_required=true\u0026push_access_level=40\u0026merge_access_level=40\u0026unprotect_access_level=40\" \\\n  \"${GITLAB_URL}/api/v4/projects/${PROJECT_ID}/protected_branches\"\n\n# Configure push rules (Premium/Ultimate)\ncurl --request POST --header \"PRIVATE-TOKEN: ${ADMIN_TOKEN}\" \\\n  --data \"deny_delete_tag=true\u0026member_check=true\u0026prevent_secrets=true\u0026author_email_regex=.*@example.com\u0026file_extension_restriction=jar,exe\u0026max_file_size=100\" \\\n  \"${GITLAB_URL}/api/v4/projects/${PROJECT_ID}/push_rule\"\n```\n\n### Vulnerability Scanning Integration\n```bash\n# Configure dependency proxy for secure image caching\nsudo tee -a /etc/gitlab/gitlab.rb \u003e /dev/null \u003c\u003cEOF\n\n# Dependency Proxy for secure image caching\ngitlab_rails['dependency_proxy_enabled'] = true\ngitlab_rails['dependency_proxy_storage_path'] = \"/var/opt/gitlab/gitlab-rails/shared/dependency_proxy\"\n\n# Security scanning\ngitlab_rails['sast_enabled'] = true\ngitlab_rails['dependency_scanning_enabled'] = true\ngitlab_rails['container_scanning_enabled'] = true\ngitlab_rails['secret_detection_enabled'] = true\ngitlab_rails['license_scanning_enabled'] = true\n\n# Secure package registry\ngitlab_rails['packages_enabled'] = true\ngitlab_rails['packages_storage_path'] = \"/var/opt/gitlab/gitlab-rails/shared/packages\"\nEOF\n\n# Create custom security scanning templates\nmkdir -p .gitlab/ci-templates\n\ncat \u003e .gitlab/ci-templates/Security-Scanning.gitlab-ci.yml \u003c\u003cEOF\n# Custom Security Scanning Template\n\n.security-scan-template:\n  stage: security-scan\n  variables:\n    SECURE_LOG_LEVEL: info\n  before_script:\n    - echo \"Preparing security scan environment...\"\n    - apk add --no-cache curl jq\n  tags:\n    - secure\n\ncustom-sast:\n  extends: .security-scan-template\n  image: registry.gitlab.com/gitlab-org/security-products/analyzers/semgrep:latest\n  script:\n    - echo \"Running custom SAST analysis...\"\n    - /analyzer run\n  artifacts:\n    reports:\n      sast: gl-sast-report.json\n    expire_in: 1 week\n\ncustom-secrets-scan:\n  extends: .security-scan-template\n  image: trufflesecurity/trufflehog:latest\n  script:\n    - echo \"Scanning for secrets with TruffleHog...\"\n    - trufflehog git file://. --json \u003e trufflehog-report.json\n    - |\n      if [ -s trufflehog-report.json ]; then\n        echo \"Secrets detected!\"\n        cat trufflehog-report.json\n        exit 1\n      fi\n  artifacts:\n    reports:\n      secret_detection: trufflehog-report.json\n    expire_in: 1 week\n\nimage-vulnerability-scan:\n  extends: .security-scan-template\n  image: aquasec/trivy:latest\n  script:\n    - echo \"Scanning Docker images for vulnerabilities...\"\n    - trivy image --format template --template \"@contrib/gitlab.tpl\" \\$CI_REGISTRY_IMAGE:\\$CI_COMMIT_SHA\n  artifacts:\n    reports:\n      container_scanning: gl-container-scanning-report.json\n    expire_in: 1 week\nEOF\n\nsudo gitlab-ctl reconfigure\n```\n\n## Backup and Disaster Recovery\n\n### Enterprise Backup Strategy\n```bash\nsudo tee /usr/local/bin/gitlab-backup.sh \u003e /dev/null \u003c\u003c'EOF'\n#!/bin/bash\nBACKUP_DIR=\"/backup/gitlab\"\nDATE=$(date +%Y%m%d_%H%M%S)\n\nmkdir -p ${BACKUP_DIR}/{omnibus,secrets,ssl,logs}\n\n# Create GitLab backup\ngitlab-backup create STRATEGY=copy SKIP=uploads,builds,artifacts,lfs,registry,pages\n\n# Backup configuration files\ntar -czf ${BACKUP_DIR}/omnibus/gitlab-config-${DATE}.tar.gz \\\n    /etc/gitlab/gitlab.rb \\\n    /etc/gitlab/gitlab-secrets.json\n\n# Backup SSL certificates\ntar -czf ${BACKUP_DIR}/ssl/gitlab-ssl-${DATE}.tar.gz \\\n    /etc/gitlab/ssl/ \\\n    /etc/letsencrypt/\n\n# Backup secrets\ntar -czf ${BACKUP_DIR}/secrets/gitlab-secrets-${DATE}.tar.gz \\\n    /etc/gitlab/secrets/\n\n# Upload to multiple cloud storage backends\naws s3 cp ${BACKUP_DIR}/ s3://gitlab-backups/ --recursive\naz storage blob upload-batch --source ${BACKUP_DIR} --destination gitlab-backups\ngsutil cp -r ${BACKUP_DIR}/* gs://gitlab-backups/\n\n# Geo-replication backup (Enterprise)\nif command -v gitlab-rake \u003e/dev/null 2\u003e\u00261; then\n    gitlab-rake gitlab:geo:check\n    gitlab-rake geo:status\nfi\n\n# Test backup integrity\nLATEST_BACKUP=$(ls -t /var/opt/gitlab/backups/*_gitlab_backup.tar | head -1)\nif [ -n \"$LATEST_BACKUP\" ]; then\n    echo \"Latest backup: $LATEST_BACKUP\"\n    tar -tf \"$LATEST_BACKUP\" \u003e /tmp/backup-contents.txt\n    if [ $? -eq 0 ]; then\n        echo \"✓ Backup integrity verified\"\n    else\n        echo \"✗ Backup integrity check failed\"\n    fi\nfi\n\n# Keep only last 7 backups locally\nfind /var/opt/gitlab/backups/ -name \"*_gitlab_backup.tar\" -mtime +7 -delete\nfind ${BACKUP_DIR} -name \"gitlab-*\" -type f -mtime +7 -delete\n\necho \"GitLab backup completed: ${DATE}\"\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-backup.sh\n\n# Schedule daily backups\necho \"0 2 * * * root /usr/local/bin/gitlab-backup.sh\" | sudo tee -a /etc/crontab\n\n# Create disaster recovery script\nsudo tee /usr/local/bin/gitlab-restore.sh \u003e /dev/null \u003c\u003c'EOF'\n#!/bin/bash\nBACKUP_FILE=\"${1}\"\n\nif [ -z \"$BACKUP_FILE\" ]; then\n    echo \"Usage: $0 \u003cbackup_file\u003e\"\n    echo \"Available backups:\"\n    ls -la /var/opt/gitlab/backups/*_gitlab_backup.tar\n    exit 1\nfi\n\n# Stop GitLab services\ngitlab-ctl stop unicorn\ngitlab-ctl stop puma\ngitlab-ctl stop sidekiq\n\n# Restore from backup\ngitlab-backup restore BACKUP=$(basename $BACKUP_FILE _gitlab_backup.tar) force=yes\n\n# Restore configuration\nif [ -f \"/backup/gitlab/omnibus/gitlab-config-latest.tar.gz\" ]; then\n    cd /\n    tar -xzf /backup/gitlab/omnibus/gitlab-config-latest.tar.gz\nfi\n\n# Reconfigure and restart\ngitlab-ctl reconfigure\ngitlab-ctl restart\n\n# Verify installation\ngitlab-rake gitlab:check SANITIZE=true\n\necho \"GitLab restore completed\"\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-restore.sh\n```\n\n### High Availability Setup\n```bash\n# Configure GitLab for HA with external services\nsudo tee /etc/gitlab/gitlab.rb \u003e /dev/null \u003c\u003cEOF\n# GitLab High Availability Configuration\n\nexternal_url 'https://gitlab.example.com'\n\n# Disable built-in services (use external)\npostgresql['enable'] = false\nredis['enable'] = false\nnginx['enable'] = true\nunicorn['enable'] = true\nsidekiq['enable'] = true\ngitlab_workhorse['enable'] = true\ngitaly['enable'] = true\n\n# External PostgreSQL\ngitlab_rails['db_adapter'] = 'postgresql'\ngitlab_rails['db_encoding'] = 'unicode'\ngitlab_rails['db_host'] = 'postgres-master.example.com'\ngitlab_rails['db_port'] = 5432\ngitlab_rails['db_database'] = 'gitlabhq_production'\ngitlab_rails['db_username'] = 'gitlab'\ngitlab_rails['db_password'] = 'secure_db_password'\ngitlab_rails['db_load_balancing'] = {\n  'hosts' =\u003e ['postgres-slave1.example.com', 'postgres-slave2.example.com']\n}\n\n# External Redis\ngitlab_rails['redis_host'] = 'redis-master.example.com'\ngitlab_rails['redis_port'] = 6379\ngitlab_rails['redis_password'] = 'redis_secure_password'\ngitlab_rails['redis_sentinels'] = [\n  {'host' =\u003e 'redis-sentinel1.example.com', 'port' =\u003e 26379},\n  {'host' =\u003e 'redis-sentinel2.example.com', 'port' =\u003e 26379},\n  {'host' =\u003e 'redis-sentinel3.example.com', 'port' =\u003e 26379}\n]\n\n# Load balancing\nnginx['listen_addresses'] = ['0.0.0.0']\nnginx['real_ip_header'] = 'X-Forwarded-For'\nnginx['real_ip_recursive'] = 'on'\nnginx['real_ip_trusted_addresses'] = ['10.0.0.0/8', '172.16.0.0/12', '192.168.0.0/16']\n\n# Gitaly cluster (Enterprise)\ngit_data_dirs({\n  'default' =\u003e {\n    'gitaly_address' =\u003e 'tcp://gitaly1.example.com:8075',\n    'gitaly_token' =\u003e 'gitaly_secure_token'\n  },\n  'storage1' =\u003e {\n    'gitaly_address' =\u003e 'tcp://gitaly2.example.com:8075',\n    'gitaly_token' =\u003e 'gitaly_secure_token'\n  }\n})\n\n# Object storage (S3-compatible)\ngitlab_rails['object_store']['enabled'] = true\ngitlab_rails['object_store']['proxy_download'] = true\ngitlab_rails['object_store']['connection'] = {\n  'provider' =\u003e 'AWS',\n  'region' =\u003e 'us-west-2',\n  'aws_access_key_id' =\u003e 'object_store_access_key',\n  'aws_secret_access_key' =\u003e 'object_store_secret_key'\n}\ngitlab_rails['object_store']['objects']['artifacts']['bucket'] = 'gitlab-artifacts'\ngitlab_rails['object_store']['objects']['lfs']['bucket'] = 'gitlab-lfs'\ngitlab_rails['object_store']['objects']['uploads']['bucket'] = 'gitlab-uploads'\ngitlab_rails['object_store']['objects']['packages']['bucket'] = 'gitlab-packages'\n\n# Geo replication (Enterprise Premium)\ngitlab_rails['geo_primary_role'] = true  # Set to false for secondary\ngitlab_rails['geo_node_name'] = 'primary-site'\ngitlab_rails['geo_registry_replication_enabled'] = true\nEOF\n\nsudo gitlab-ctl reconfigure\n```\n\n## Container Registry and Package Management\n\n### Secure Container Registry Setup\n```bash\n# Configure container registry with security scanning\nsudo tee -a /etc/gitlab/gitlab.rb \u003e /dev/null \u003c\u003cEOF\n\n# Container Registry configuration\nregistry_external_url 'https://registry.example.com'\ngitlab_rails['registry_enabled'] = true\nregistry['enable'] = true\n\n# Registry storage\nregistry['storage'] = {\n  's3' =\u003e {\n    'accesskey' =\u003e 'registry_s3_access_key',\n    'secretkey' =\u003e 'registry_s3_secret_key',\n    'bucket' =\u003e 'gitlab-registry',\n    'region' =\u003e 'us-west-2',\n    'encrypt' =\u003e true\n  }\n}\n\n# Registry security\nregistry['auth_token_realm'] = \"https://gitlab.example.com/jwt/auth\"\nregistry['auth_token_service'] = \"container_registry\"\nregistry['auth_token_issuer'] = \"gitlab-issuer\"\nregistry['auth_token_autoredirect'] = false\n\n# Health checks\nregistry['health_storagedriver_enabled'] = true\nregistry['health_storagedriver_interval'] = '10s'\nregistry['health_storagedriver_threshold'] = 3\n\n# Container scanning\ngitlab_rails['container_registry_token_expire_delay'] = 300\ngitlab_rails['container_registry_cleanup_enabled'] = true\n\n# Image retention policies\nregistry['middleware'] = {\n  'repository' =\u003e [\n    {\n      'name' =\u003e 'cloudfront',\n      'disabled' =\u003e false,\n      'options' =\u003e {\n        'baseurl' =\u003e 'https://registry-cdn.example.com',\n        'privatekey' =\u003e '/etc/gitlab/registry-cdn-private-key.pem',\n        'keypairid' =\u003e 'CLOUDFRONT_KEY_PAIR_ID',\n        'duration' =\u003e '3600s'\n      }\n    }\n  ]\n}\n\n# Package registry\ngitlab_rails['packages_enabled'] = true\ngitlab_rails['packages_storage_path'] = \"/var/opt/gitlab/gitlab-rails/shared/packages\"\nEOF\n\n# Create container registry cleanup policy\ncat \u003e registry-cleanup-policy.json \u003c\u003cEOF\n{\n  \"name_regex\": \".*\",\n  \"name_regex_keep\": \"v\\\\d+\\\\.\\\\d+\\\\.\\\\d+\",\n  \"cadence\": \"7d\",\n  \"older_than\": \"30d\",\n  \"keep_n\": 10\n}\nEOF\n\n# Apply cleanup policy via API\ncurl --request PUT --header \"PRIVATE-TOKEN: ${ADMIN_TOKEN}\" \\\n  --header \"Content-Type: application/json\" \\\n  --data @registry-cleanup-policy.json \\\n  \"${GITLAB_URL}/api/v4/projects/${PROJECT_ID}/registry/repositories/1\"\n\nsudo gitlab-ctl reconfigure\n```\n\n## Monitoring and Observability\n\n### Comprehensive Monitoring Setup\n```bash\n# Enable built-in monitoring stack\nsudo tee -a /etc/gitlab/gitlab.rb \u003e /dev/null \u003c\u003cEOF\n\n# Prometheus monitoring\nprometheus_monitoring['enable'] = true\nprometheus['enable'] = true\nprometheus['monitor_kubernetes'] = true\nprometheus['scrape_configs'] = [\n  {\n    'job_name' =\u003e 'gitlab-workhorse',\n    'static_configs' =\u003e [\n      { 'targets' =\u003e ['localhost:9229'] }\n    ]\n  },\n  {\n    'job_name' =\u003e 'gitlab-unicorn',  \n    'static_configs' =\u003e [\n      { 'targets' =\u003e ['localhost:8080'] }\n    ]\n  },\n  {\n    'job_name' =\u003e 'gitlab-sidekiq',\n    'static_configs' =\u003e [\n      { 'targets' =\u003e ['localhost:8082'] }\n    ]\n  },\n  {\n    'job_name' =\u003e 'gitlab-pages',\n    'static_configs' =\u003e [\n      { 'targets' =\u003e ['localhost:8090'] }\n    ]\n  },\n  {\n    'job_name' =\u003e 'docker-registry',\n    'static_configs' =\u003e [\n      { 'targets' =\u003e ['localhost:5001'] }\n    ]\n  }\n]\n\n# Grafana configuration\ngrafana['enable'] = true\ngrafana['admin_password'] = 'secure_grafana_password'\ngrafana['disable_login_form'] = false\ngrafana['allow_user_sign_up'] = false\n\n# Grafana LDAP integration\ngrafana['ldap_enabled'] = true\ngrafana['ldap_allow_sign_up'] = false\ngrafana['ldap_servers'] = [{\n  'host' =\u003e 'ldap.example.com',\n  'port' =\u003e 636,\n  'uid' =\u003e 'sAMAccountName',\n  'bind_dn' =\u003e 'CN=grafana,OU=Service Accounts,DC=example,DC=com',\n  'password' =\u003e 'ldap_service_password',\n  'encryption' =\u003e 'ssl',\n  'base' =\u003e 'DC=example,DC=com',\n  'user_filter' =\u003e '',\n  'group_base' =\u003e 'OU=Groups,DC=example,DC=com',\n  'admin_group' =\u003e 'GitLab Administrators'\n}]\n\n# Node Exporter\nnode_exporter['enable'] = true\nnode_exporter['listen_address'] = 'localhost:9100'\n\n# Alert Manager\nalertmanager['enable'] = true\nalertmanager['admin_email'] = 'alerts@example.com'\nalertmanager['flags'] = {\n  'storage.path' =\u003e '/var/opt/gitlab/alertmanager/data',\n  'config.file' =\u003e '/var/opt/gitlab/alertmanager/alertmanager.yml'\n}\n\n# Log forwarding\nlogging['logrotate_frequency'] = \"daily\"\nlogging['logrotate_rotate'] = 30\nlogging['logrotate_compress'] = \"compress\"\nlogging['svlogd_size'] = 200 * 1024 * 1024  # 200MB\nlogging['svlogd_num'] = 30\nEOF\n\n# Create custom alerting rules\nsudo mkdir -p /var/opt/gitlab/alertmanager\n\nsudo tee /var/opt/gitlab/alertmanager/alertmanager.yml \u003e /dev/null \u003c\u003cEOF\nglobal:\n  smtp_smarthost: 'smtp.example.com:587'\n  smtp_from: 'gitlab-alerts@example.com'\n  smtp_auth_username: 'gitlab-alerts@example.com'\n  smtp_auth_password: 'smtp_password'\n\nroute:\n  group_by: ['alertname', 'cluster', 'service']\n  group_wait: 30s\n  group_interval: 5m\n  repeat_interval: 12h\n  receiver: 'gitlab-alerts'\n  routes:\n  - match:\n      severity: critical\n    receiver: 'critical-alerts'\n    group_wait: 10s\n    repeat_interval: 5m\n\nreceivers:\n- name: 'gitlab-alerts'\n  email_configs:\n  - to: 'gitlab-admin@example.com'\n    subject: 'GitLab Alert: {{ .GroupLabels.alertname }}'\n    body: |\n      {{ range .Alerts }}\n      Alert: {{ .Annotations.summary }}\n      Description: {{ .Annotations.description }}\n      Instance: {{ .Labels.instance }}\n      {{ end }}\n\n- name: 'critical-alerts'\n  email_configs:\n  - to: 'oncall@example.com'\n    subject: 'CRITICAL GitLab Alert: {{ .GroupLabels.alertname }}'\n  slack_configs:\n  - api_url: 'https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK'\n    channel: '#critical-alerts'\n    title: 'Critical GitLab Alert'\nEOF\n\nsudo gitlab-ctl reconfigure\n```\n\n### Performance Monitoring\n```bash\n# Create GitLab performance monitoring script\nsudo tee /usr/local/bin/gitlab-performance-monitor.sh \u003e /dev/null \u003c\u003c'EOF'\n#!/bin/bash\nMONITOR_LOG=\"/var/log/gitlab-performance.log\"\n\nlog_message() {\n    echo \"$(date '+%Y-%m-%d %H:%M:%S') - $1\" | tee -a ${MONITOR_LOG}\n}\n\n# Check GitLab service health\nfor service in unicorn sidekiq workhorse gitaly; do\n    if gitlab-ctl status $service | grep -q \"run:\"; then\n        log_message \"✓ $service is running\"\n    else\n        log_message \"✗ $service is not running\"\n    fi\ndone\n\n# Check database performance\nDB_CONNECTIONS=$(gitlab-psql -c \"SELECT count(*) FROM pg_stat_activity;\" -t)\nlog_message \"ℹ Database connections: ${DB_CONNECTIONS}\"\n\n# Check Redis performance  \nREDIS_MEMORY=$(redis-cli info memory | grep used_memory_human: | cut -d: -f2)\nlog_message \"ℹ Redis memory usage: ${REDIS_MEMORY}\"\n\n# Check Git repository storage\nREPO_SIZE=$(du -sh /var/opt/gitlab/git-data/repositories | cut -f1)\nlog_message \"ℹ Repository storage usage: ${REPO_SIZE}\"\n\n# Check background job queue\nSIDEKIQ_QUEUE=$(gitlab-rails runner \"puts Sidekiq::Queue.new.size\")\nlog_message \"ℹ Sidekiq queue size: ${SIDEKIQ_QUEUE}\"\n\n# Check GitLab metrics\nGITLAB_VERSION=$(gitlab-rake gitlab:env:info | grep \"GitLab information\" -A 10 | grep \"Version:\" | awk '{print $2}')\nlog_message \"ℹ GitLab version: ${GITLAB_VERSION}\"\n\n# Performance metrics via API\nAPI_RESPONSE_TIME=$(curl -w \"%{time_total}\" -s -o /dev/null https://gitlab.example.com/api/v4/projects)\nlog_message \"ℹ API response time: ${API_RESPONSE_TIME}s\"\n\n# Check disk I/O\nDISK_USAGE=$(df /var/opt/gitlab | awk 'NR==2 {print $5}' | sed 's/%//')\nlog_message \"ℹ Disk usage: ${DISK_USAGE}%\"\n\nif [ ${DISK_USAGE} -gt 85 ]; then\n    log_message \"⚠ High disk usage detected\"\nfi\n\nlog_message \"Performance monitoring completed\"\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-performance-monitor.sh\n\n# Schedule performance monitoring\necho \"*/15 * * * * root /usr/local/bin/gitlab-performance-monitor.sh\" | sudo tee -a /etc/crontab\n```\n\n## GitLab Runner Advanced Configuration\n\n### Secure Multi-Platform Runner Setup\n```bash\n# Create advanced runner configuration with security\nsudo tee /etc/gitlab-runner/config.toml \u003e /dev/null \u003c\u003cEOF\nconcurrent = 10\ncheck_interval = 0\nlog_level = \"info\"\nlog_format = \"runner\"\nshutdown_timeout = 30\n\n[session_server]\n  session_timeout = 1800\n\n# Docker executor with security hardening\n[[runners]]\n  name = \"docker-secure-runner\"\n  url = \"https://gitlab.example.com/\"\n  token = \"secure_runner_token\"\n  executor = \"docker\"\n  output_limit = 4096\n  \n  # Security scripts\n  pre_clone_script = \"\"\"\n    echo 'Security scan initiated'\n    id\n    pwd\n    env | grep -E '^(CI_|GITLAB_)' | sort\n  \"\"\"\n  \n  pre_build_script = \"\"\"\n    echo 'Preparing secure build environment'\n    # Verify no sensitive data in environment\n    if env | grep -i -E '(password|secret|key|token)' | grep -v -E '^(CI_JOB_TOKEN|GITLAB_CI|CI_SERVER)'; then\n      echo 'ERROR: Sensitive data detected in environment'\n      exit 1\n    fi\n  \"\"\"\n  \n  post_build_script = \"\"\"\n    echo 'Cleaning up build artifacts'\n    rm -rf /tmp/* 2\u003e/dev/null || true\n  \"\"\"\n  \n  [runners.docker]\n    tls_verify = false\n    image = \"alpine:latest\"\n    privileged = false\n    disable_entrypoint_overwrite = false\n    oom_kill_disable = false\n    disable_cache = false\n    volumes = [\"/cache\", \"/certs/client\"]\n    shm_size = 268435456  # 256MB\n    \n    # Security restrictions\n    cap_drop = [\"ALL\"]\n    cap_add = [\"CHOWN\", \"SETGID\", \"SETUID\"]\n    security_opt = [\"no-new-privileges:true\", \"apparmor:unconfined\"]\n    \n    # Resource limits\n    memory = \"2g\"\n    memory_swap = \"2g\"\n    memory_reservation = \"1g\"\n    cpus = \"2\"\n    \n    # Network security\n    network_mode = \"bridge\"\n    dns = [\"8.8.8.8\", \"8.8.4.4\"]\n    \n    # Disable dangerous features\n    disable_entrypoint_overwrite = true\n    \n    # Image pull policy\n    pull_policy = [\"if-not-present\"]\n    \n  [runners.docker.tmpfs]\n    \"/tmp\" = \"rw,noexec,nosuid,size=100m\"\n    \"/var/tmp\" = \"rw,noexec,nosuid,size=100m\"\n\n# Kubernetes executor (Enterprise recommended)\n[[runners]]\n  name = \"k8s-secure-runner\"\n  url = \"https://gitlab.example.com/\"\n  token = \"k8s_runner_token\"\n  executor = \"kubernetes\"\n  \n  [runners.kubernetes]\n    host = \"https://k8s.example.com:6443\"\n    namespace = \"gitlab-runner\"\n    privileged = false\n    image = \"alpine:latest\"\n    \n    # Security context\n    run_as_user = 1000\n    run_as_group = 1000\n    fs_group = 1000\n    \n    # Resource limits\n    memory_limit = \"4Gi\"\n    memory_request = \"2Gi\"\n    cpu_limit = \"2000m\"\n    cpu_request = \"1000m\"\n    \n    # Security policies\n    [runners.kubernetes.pod_security_context]\n      run_as_non_root = true\n      run_as_user = 1000\n      run_as_group = 1000\n      fs_group = 1000\n      seccomp_profile_type = \"RuntimeDefault\"\n      \n    [runners.kubernetes.container_security_context]\n      allow_privilege_escalation = false\n      read_only_root_filesystem = true\n      capabilities = { drop = [\"ALL\"] }\n      \n    # Volume mounts for security\n    [[runners.kubernetes.volumes.empty_dir]]\n      name = \"tmp\"\n      mount_path = \"/tmp\"\n      medium = \"Memory\"\n      \n    [[runners.kubernetes.volumes.empty_dir]]\n      name = \"var-tmp\"\n      mount_path = \"/var/tmp\"\n      medium = \"Memory\"\n\n# Shell executor for specific tasks (limited use)\n[[runners]]\n  name = \"shell-restricted-runner\"\n  url = \"https://gitlab.example.com/\"\n  token = \"shell_runner_token\"\n  executor = \"shell\"\n  shell = \"bash\"\n  \n  # Restricted tags only\n  tag_list = [\"shell\", \"restricted\"]\n  run_untagged = false\n  locked = true\n  \n  # Security environment\n  environment = [\n    \"PATH=/usr/local/bin:/usr/bin:/bin\",\n    \"HOME=/home/gitlab-runner\",\n    \"SHELL=/bin/bash\"\n  ]\n  \n  # Cleanup\n  builds_dir = \"/home/gitlab-runner/builds\"\n  cache_dir = \"/home/gitlab-runner/cache\"\n  \n  [runners.cache]\n    Type = \"s3\"\n    [runners.cache.s3]\n      ServerAddress = \"s3.amazonaws.com\"\n      BucketName = \"gitlab-runner-cache\"\n      BucketLocation = \"us-west-2\"\n      Insecure = false\nEOF\n\nsudo systemctl restart gitlab-runner\n```\n\n### GitLab Runner Auto-scaling (Cloud)\n```bash\n# Configure GitLab Runner with Docker Machine for auto-scaling\nsudo tee /etc/gitlab-runner/autoscale-config.toml \u003e /dev/null \u003c\u003cEOF\nconcurrent = 50\ncheck_interval = 0\n\n[[runners]]\n  name = \"autoscale-runner\"\n  url = \"https://gitlab.example.com/\"\n  token = \"autoscale_runner_token\"\n  executor = \"docker+machine\"\n  \n  [runners.docker]\n    image = \"alpine:latest\"\n    privileged = false\n    disable_cache = false\n    volumes = [\"/cache\"]\n    \n    # Security\n    cap_drop = [\"ALL\"]\n    security_opt = [\"no-new-privileges:true\"]\n    \n  [runners.machine]\n    IdleCount = 2\n    IdleTime = 1800\n    MaxBuilds = 20\n    MachineName = \"gitlab-runner-%s\"\n    MachineDriver = \"amazonec2\"\n    \n    # AWS EC2 configuration\n    [runners.machine.autoscaling]\n      Periods = [\"* * 9-17 * * mon-fri *\", \"* * 18-8 * * * *\"]\n      IdleCount = [5, 1]\n      IdleTime = [1800, 3600]\n      Timezone = \"UTC\"\n    \n    # Machine options for security\n    [runners.machine.machineoptions]\n      amazonec2-access-key = \"aws_access_key\"\n      amazonec2-secret-key = \"aws_secret_key\"\n      amazonec2-region = \"us-west-2\"\n      amazonec2-vpc-id = \"vpc-12345678\"\n      amazonec2-subnet-id = \"subnet-87654321\"\n      amazonec2-security-group = \"gitlab-runner-sg\"\n      amazonec2-instance-type = \"t3.medium\"\n      amazonec2-ami = \"ami-0c02fb55956c7d316\"  # Amazon Linux 2\n      amazonec2-iam-instance-profile = \"GitLabRunnerInstanceProfile\"\n      amazonec2-use-private-address = \"true\"\n      amazonec2-tags = \"Name,gitlab-runner,Environment,production\"\n      amazonec2-root-size = \"20\"\n      amazonec2-volume-type = \"gp3\"\n      amazonec2-use-ebs-optimized = \"true\"\n      \n  [runners.cache]\n    Type = \"s3\"\n    Shared = true\n    [runners.cache.s3]\n      ServerAddress = \"s3.amazonaws.com\"\n      AccessKey = \"cache_access_key\"\n      SecretKey = \"cache_secret_key\"  \n      BucketName = \"gitlab-runner-cache\"\n      BucketLocation = \"us-west-2\"\n      Insecure = false\nEOF\n```\n\n## Verification and Health Checks\n\n### Comprehensive Health Monitoring\n```bash\nsudo tee /usr/local/bin/gitlab-health-check.sh \u003e /dev/null \u003c\u003c'EOF'\n#!/bin/bash\nHEALTH_LOG=\"/var/log/gitlab-health.log\"\n\nlog_message() {\n    echo \"$(date '+%Y-%m-%d %H:%M:%S') - $1\" | tee -a ${HEALTH_LOG}\n}\n\n# Check GitLab service status\nif gitlab-ctl status | grep -q \"down:\"; then\n    log_message \"⚠ Some GitLab services are down:\"\n    gitlab-ctl status | grep \"down:\" | while read line; do\n        log_message \"  - $line\"\n    done\nelse\n    log_message \"✓ All GitLab services are running\"\nfi\n\n# Check GitLab application health\nif gitlab-rake gitlab:check \u003e/dev/null 2\u003e\u00261; then\n    log_message \"✓ GitLab application health check passed\"\nelse\n    log_message \"✗ GitLab application health check failed\"\n    gitlab-rake gitlab:check | tail -10 \u003e\u003e ${HEALTH_LOG}\nfi\n\n# Check GitLab Runner connectivity\nRUNNERS_ONLINE=$(curl -s --header \"PRIVATE-TOKEN: admin_token\" https://gitlab.example.com/api/v4/runners | jq '[.[] | select(.status==\"online\")] | length')\nTOTAL_RUNNERS=$(curl -s --header \"PRIVATE-TOKEN: admin_token\" https://gitlab.example.com/api/v4/runners | jq '. | length')\nlog_message \"ℹ GitLab Runners: ${RUNNERS_ONLINE}/${TOTAL_RUNNERS} online\"\n\n# Check database connectivity\nif gitlab-psql -c \"SELECT version();\" \u003e/dev/null 2\u003e\u00261; then\n    log_message \"✓ Database connection is healthy\"\nelse\n    log_message \"✗ Database connection issues\"\nfi\n\n# Check Redis connectivity\nif redis-cli ping | grep -q \"PONG\"; then\n    log_message \"✓ Redis connection is healthy\"\nelse\n    log_message \"✗ Redis connection issues\"\nfi\n\n# Check container registry\nREGISTRY_STATUS=$(curl -s https://registry.example.com/v2/ | jq -r .message 2\u003e/dev/null)\nif [ \"$REGISTRY_STATUS\" = \"authentication required\" ] || [ \"$REGISTRY_STATUS\" = \"null\" ]; then\n    log_message \"✓ Container registry is responding\"\nelse\n    log_message \"⚠ Container registry issues\"\nfi\n\n# Check backup status\nLAST_BACKUP=$(ls -t /var/opt/gitlab/backups/*_gitlab_backup.tar 2\u003e/dev/null | head -1)\nif [ -n \"$LAST_BACKUP\" ]; then\n    BACKUP_AGE=$(stat -c %Y \"$LAST_BACKUP\")\n    CURRENT_TIME=$(date +%s)\n    HOURS_SINCE_BACKUP=$(( (CURRENT_TIME - BACKUP_AGE) / 3600 ))\n    \n    if [ $HOURS_SINCE_BACKUP -lt 48 ]; then\n        log_message \"✓ Recent backup available (${HOURS_SINCE_BACKUP} hours old)\"\n    else\n        log_message \"⚠ Last backup is ${HOURS_SINCE_BACKUP} hours old\"\n    fi\nelse\n    log_message \"✗ No backup files found\"\nfi\n\n# Check SSL certificate expiry\nSSL_EXPIRY=$(echo | openssl s_client -servername gitlab.example.com -connect gitlab.example.com:443 2\u003e/dev/null | openssl x509 -noout -dates | grep notAfter | cut -d= -f2)\nSSL_EXPIRY_EPOCH=$(date -d \"$SSL_EXPIRY\" +%s)\nCURRENT_EPOCH=$(date +%s)\nDAYS_TO_EXPIRY=$(( (SSL_EXPIRY_EPOCH - CURRENT_EPOCH) / 86400 ))\n\nif [ $DAYS_TO_EXPIRY -lt 30 ]; then\n    log_message \"⚠ SSL certificate expires in ${DAYS_TO_EXPIRY} days\"\nelse\n    log_message \"✓ SSL certificate expires in ${DAYS_TO_EXPIRY} days\"\nfi\n\n# Check system resources\nCPU_USAGE=$(top -bn1 | grep \"Cpu(s)\" | awk '{print $2}' | cut -d'%' -f1)\nMEMORY_USAGE=$(free | grep Mem | awk '{printf \"%.0f\", $3/$2 * 100.0}')\nlog_message \"ℹ System usage - CPU: ${CPU_USAGE}%, Memory: ${MEMORY_USAGE}%\"\n\nlog_message \"GitLab health check completed\"\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-health-check.sh\n\n# Schedule health checks every 15 minutes\necho \"*/15 * * * * root /usr/local/bin/gitlab-health-check.sh\" | sudo tee -a /etc/crontab\n```\n\n### Security Audit and Compliance\n```bash\nsudo tee /usr/local/bin/gitlab-security-audit.sh \u003e /dev/null \u003c\u003c'EOF'\n#!/bin/bash\nAUDIT_LOG=\"/var/log/gitlab-security-audit.log\"\nDATE=$(date +%Y%m%d_%H%M%S)\n\nlog_message() {\n    echo \"$(date '+%Y-%m-%d %H:%M:%S') - $1\" | tee -a ${AUDIT_LOG}\n}\n\nlog_message \"Starting GitLab security audit...\"\n\n# Check user accounts with admin privileges\nADMIN_USERS=$(gitlab-rails runner \"puts User.admins.count\")\nlog_message \"ℹ ${ADMIN_USERS} users with admin privileges\"\n\n# Check for users without 2FA\nUSERS_WITHOUT_2FA=$(gitlab-rails runner \"puts User.where(two_factor_enabled: false).count\")\nlog_message \"ℹ ${USERS_WITHOUT_2FA} users without 2FA enabled\"\n\n# Check SSH key security\nWEAK_SSH_KEYS=$(gitlab-rails runner \"puts Key.where('LENGTH(key) \u003c ?', 2048).count\")\nlog_message \"ℹ ${WEAK_SSH_KEYS} SSH keys shorter than 2048 bits\"\n\n# Check project visibility\nPUBLIC_PROJECTS=$(gitlab-rails runner \"puts Project.where(visibility_level: 20).count\")\nINTERNAL_PROJECTS=$(gitlab-rails runner \"puts Project.where(visibility_level: 10).count\")\nPRIVATE_PROJECTS=$(gitlab-rails runner \"puts Project.where(visibility_level: 0).count\")\nlog_message \"ℹ Projects - Public: ${PUBLIC_PROJECTS}, Internal: ${INTERNAL_PROJECTS}, Private: ${PRIVATE_PROJECTS}\"\n\n# Check for projects without security scanning\nPROJECTS_WITHOUT_SAST=$(gitlab-rails runner \"\nputs Project.joins(:ci_pipelines)\n  .where('ci_pipelines.created_at \u003e ?', 30.days.ago)\n  .where.not(id: Ci::Build.joins(:pipeline).where('ci_builds.name ILIKE ?', '%sast%').select(:project_id))\n  .distinct.count\n\")\nlog_message \"ℹ ${PROJECTS_WITHOUT_SAST} active projects without SAST scanning\"\n\n# Check external integrations\nWEBHOOK_COUNT=$(gitlab-rails runner \"puts ProjectHook.count + SystemHook.count\")\nlog_message \"ℹ ${WEBHOOK_COUNT} webhooks configured\"\n\n# Check audit events (Enterprise)\nif gitlab-rails runner \"puts defined?(AuditEvent)\" | grep -q \"constant\"; then\n    RECENT_AUDIT_EVENTS=$(gitlab-rails runner \"puts AuditEvent.where('created_at \u003e ?', 24.hours.ago).count\")\n    log_message \"ℹ ${RECENT_AUDIT_EVENTS} audit events in last 24 hours\"\nfi\n\n# Check for suspicious activity\nFAILED_LOGINS=$(grep \"Failed Login\" /var/log/gitlab/gitlab-rails/production.log | grep \"$(date +'%Y-%m-%d')\" | wc -l)\nif [ ${FAILED_LOGINS} -gt 20 ]; then\n    log_message \"⚠ ${FAILED_LOGINS} failed login attempts today\"\nelse\n    log_message \"✓ ${FAILED_LOGINS} failed login attempts today (normal)\"\nfi\n\n# Check for large file uploads\nLARGE_UPLOADS=$(find /var/opt/gitlab/git-data/repositories -type f -size +100M -mtime -7 | wc -l)\nif [ ${LARGE_UPLOADS} -gt 0 ]; then\n    log_message \"ℹ ${LARGE_UPLOADS} large files (\u003e100MB) uploaded in last week\"\nfi\n\nlog_message \"Security audit completed\"\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-security-audit.sh\n\n# Schedule daily security audits\necho \"0 8 * * * root /usr/local/bin/gitlab-security-audit.sh\" | sudo tee -a /etc/crontab\n```\n\n## Troubleshooting (Cross-Platform)\n\n### Common Issues and Solutions\n```bash\n# Check GitLab status\nsudo gitlab-ctl status\nsudo gitlab-ctl tail\n\n# Check configuration\nsudo gitlab-ctl show-config\nsudo gitlab-rake gitlab:check SANITIZE=true\n\n# Reconfigure GitLab\nsudo gitlab-ctl reconfigure\nsudo gitlab-ctl restart\n\n# Database issues\nsudo gitlab-psql -d gitlabhq_production\nsudo gitlab-rake db:migrate:status\n\n# Redis issues\nredis-cli ping\nredis-cli info\n\n# Check logs for errors\nsudo gitlab-ctl tail gitlab-workhorse\nsudo gitlab-ctl tail unicorn\nsudo gitlab-ctl tail sidekiq\n\n# Performance issues\nsudo gitlab-rake gitlab:env:info\nsudo gitlab-ctl status | grep memory\n\n# SSL/TLS issues\nsudo gitlab-rake gitlab:check\nopenssl s_client -connect gitlab.example.com:443\n\n# Container registry issues\nsudo gitlab-ctl registry-garbage-collect\ndocker login registry.example.com\n\n# Runner connectivity issues\nsudo gitlab-runner verify\nsudo gitlab-runner list\n\n# Backup issues\ngitlab-backup create STRATEGY=copy\ngitlab-backup restore BACKUP=timestamp\n\n# Reset admin password\nsudo gitlab-rake \"gitlab:password:reset[root]\"\n\n# Check disk usage\ndf -h /var/opt/gitlab/\nsudo du -sh /var/opt/gitlab/git-data/\n\n# Memory usage analysis\nps aux --sort=-%mem | grep gitlab\ngitlab-ctl status | grep memory\n\n# Network connectivity\ncurl -I https://gitlab.example.com\ntelnet gitlab.example.com 443\n\n# Service restart order (if needed)\nsudo gitlab-ctl stop\nsudo gitlab-ctl start postgresql\nsudo gitlab-ctl start redis\nsudo gitlab-ctl start\n```\n\n### Advanced Debugging\n```bash\n# Enable debug logging\nsudo gitlab-ctl edit-config\n# Add: gitlab_rails['log_level'] = 'DEBUG'\n\nsudo gitlab-ctl reconfigure\n\n# Debug specific services\nsudo gitlab-ctl tail gitlab-workhorse\nsudo gitlab-ctl tail unicorn\nsudo gitlab-ctl tail sidekiq\nsudo gitlab-ctl tail gitaly\n\n# Database debugging\nsudo gitlab-psql -d gitlabhq_production -c \"\\l\"\nsudo gitlab-rake db:migrate:status\n\n# Git debugging\nsudo -u git gitaly-debug\nsudo gitlab-rake gitlab:gitaly:check\n\n# Performance profiling\nsudo gitlab-rake gitlab:setup\nsudo gitlab-rake gitlab:check:repos\nsudo gitlab-rake gitlab:cleanup:sessions\n\n# Container registry debugging\nsudo gitlab-ctl registry-garbage-collect -m\ndocker system df\n\n# Runner debugging\nsudo gitlab-runner --debug run\nsudo gitlab-runner exec docker test-job\n\n# Network debugging for distributed setup\nping -c 4 postgres-master.example.com\nping -c 4 redis-master.example.com\ntelnet postgres-master.example.com 5432\ntelnet redis-master.example.com 6379\n\n# Memory leak detection\npmap -x $(pgrep gitlab-workhorse)\nvalgrind --tool=memcheck --leak-check=full gitlab-workhorse\n\n# Strace for syscall analysis\nstrace -p $(pgrep gitlab-workhorse) -e trace=network,file\n```\n\n## Additional Resources\n\n- [Official Documentation](https://docs.gitlab.com/)\n- [GitLab Admin Documentation](https://docs.gitlab.com/ee/administration/)\n- [Security Hardening Guide](https://docs.gitlab.com/security/hardening/)\n- [GitLab Runner Documentation](https://docs.gitlab.com/runner/)\n- [Container Registry Guide](https://docs.gitlab.com/ee/administration/packages/container_registry.html)\n- [GitLab API Documentation](https://docs.gitlab.com/ee/api/)\n\n---\n\n**Note:** This guide is part of the [HowToMgr](https://howtomgr.github.io) collection.","readmeHtml":"\u003ch1 id=\"gitlab-installation-guide\" class=\"mobile-header\"\u003eGitLab Installation Guide\u003c/h1\u003e\n\u003cp class=\"mobile-paragraph\"\u003eComplete DevOps platform with Git repository management, CI/CD pipelines, issue tracking, and container registry. Enterprise-grade solution for modern software development lifecycle with advanced security features.\u003c/p\u003e\n\u003ch2 id=\"prerequisites\" class=\"mobile-header\"\u003ePrerequisites\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003eLinux system (any modern distribution)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e8GB RAM minimum, 16GB+ recommended for production\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e4 CPU cores minimum, 8+ recommended\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e50GB+ available disk space, SSD recommended\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eDomain name for external access\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eSSL certificates for production deployment\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eSMTP server for email notifications\u003c/li\u003e\n\u003ch2 id=\"installation\" class=\"mobile-header\"\u003eInstallation\u003c/h2\u003e\n\u003ch3 id=\"using-omnibus-package-recommended\" class=\"mobile-header\"\u003eUsing Omnibus Package (Recommended)\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Ubuntu/Debian\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install dependencies\nsudo apt-get update\nsudo apt-get install -y curl openssh-server ca-certificates tzdata perl postfix\n\n# Configure Postfix for email\nsudo dpkg-reconfigure postfix\n\n# Add GitLab repository\ncurl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.deb.sh | sudo bash\n\n# Install GitLab Enterprise Edition\nsudo EXTERNAL_URL=\u0026quot;https://gitlab.example.com\u0026quot; apt-get install -y gitlab-ee\n\n# For GitLab Community Edition\nsudo EXTERNAL_URL=\u0026quot;https://gitlab.example.com\u0026quot; apt-get install -y gitlab-ce\n\n# Initial configuration\nsudo gitlab-ctl reconfigure\n\n# Check status\nsudo gitlab-ctl status\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### RHEL/CentOS/Rocky Linux/AlmaLinux\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install dependencies\nsudo yum install -y curl policycoreutils-python-utils openssh-server perl postfix\n\n# For newer versions\nsudo dnf install -y curl policycoreutils-python-utils openssh-server perl postfix\n\n# Enable and start services\nsudo systemctl enable --now sshd postfix\n\n# Configure SELinux and firewall\nsudo setsebool -P httpd_can_network_connect 1\nsudo firewall-cmd --permanent --add-service=http\nsudo firewall-cmd --permanent --add-service=https\nsudo firewall-cmd --permanent --add-service=ssh\nsudo firewall-cmd --reload\n\n# Add GitLab repository\ncurl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash\n\n# Install GitLab\nsudo EXTERNAL_URL=\u0026quot;https://gitlab.example.com\u0026quot; yum install -y gitlab-ee\n\n# Configure and start\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Fedora\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install dependencies\nsudo dnf install -y curl policycoreutils-python-utils openssh-server perl postfix\n\n# Enable services\nsudo systemctl enable --now sshd postfix\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-service=http\nsudo firewall-cmd --permanent --add-service=https\nsudo firewall-cmd --reload\n\n# Add GitLab repository\ncurl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash\n\n# Install GitLab\nsudo EXTERNAL_URL=\u0026quot;https://gitlab.example.com\u0026quot; dnf install -y gitlab-ee\n\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"docker-installation-single-container\" class=\"mobile-header\"\u003eDocker Installation (Single Container)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create GitLab directories\nsudo mkdir -p /srv/gitlab/{config,logs,data}\n\n# Set environment variables\nexport GITLAB_HOME=/srv/gitlab\n\n# Run GitLab container with comprehensive configuration\nsudo docker run --detach \\\n  --hostname gitlab.example.com \\\n  --env GITLAB_OMNIBUS_CONFIG=\u0026quot;\n    external_url \u0026#039;https://gitlab.example.com\u0026#039;;\n    gitlab_rails[\u0026#039;gitlab_shell_ssh_port\u0026#039;] = 2222;\n    \n    # SSL configuration\n    nginx[\u0026#039;ssl_certificate\u0026#039;] = \u0026#039;/etc/gitlab/ssl/gitlab.crt\u0026#039;;\n    nginx[\u0026#039;ssl_certificate_key\u0026#039;] = \u0026#039;/etc/gitlab/ssl/gitlab.key\u0026#039;;\n    nginx[\u0026#039;ssl_protocols\u0026#039;] = \u0026#039;TLSv1.2 TLSv1.3\u0026#039;;\n    nginx[\u0026#039;ssl_prefer_server_ciphers\u0026#039;] = \u0026#039;off\u0026#039;;\n    \n    # Security settings\n    gitlab_rails[\u0026#039;rack_attack_git_basic_auth\u0026#039;] = {\n      \u0026#039;enabled\u0026#039; =\u0026gt; true,\n      \u0026#039;ip_whitelist\u0026#039; =\u0026gt; [\u0026#039;127.0.0.1\u0026#039;, \u0026#039;192.168.1.0/24\u0026#039;],\n      \u0026#039;maxretry\u0026#039; =\u0026gt; 10,\n      \u0026#039;findtime\u0026#039; =\u0026gt; 60,\n      \u0026#039;bantime\u0026#039; =\u0026gt; 3600\n    };\n    \n    # Performance settings\n    postgresql[\u0026#039;shared_preload_libraries\u0026#039;] = \u0026#039;pg_stat_statements\u0026#039;;\n    postgresql[\u0026#039;max_connections\u0026#039;] = 200;\n    postgresql[\u0026#039;shared_buffers\u0026#039;] = \u0026#039;1GB\u0026#039;;\n    postgresql[\u0026#039;effective_cache_size\u0026#039;] = \u0026#039;4GB\u0026#039;;\n    \n    # Container Registry\n    registry_external_url \u0026#039;https://registry.example.com\u0026#039;;\n    gitlab_rails[\u0026#039;registry_enabled\u0026#039;] = true;\n    \n    # Monitoring\n    prometheus_monitoring[\u0026#039;enable\u0026#039;] = true;\n    grafana[\u0026#039;enable\u0026#039;] = true;\n    grafana[\u0026#039;admin_password\u0026#039;] = \u0026#039;secure_grafana_password\u0026#039;;\n    \n    # Email configuration\n    gitlab_rails[\u0026#039;smtp_enable\u0026#039;] = true;\n    gitlab_rails[\u0026#039;smtp_address\u0026#039;] = \u0026#039;smtp.example.com\u0026#039;;\n    gitlab_rails[\u0026#039;smtp_port\u0026#039;] = 587;\n    gitlab_rails[\u0026#039;smtp_user_name\u0026#039;] = \u0026#039;gitlab@example.com\u0026#039;;\n    gitlab_rails[\u0026#039;smtp_password\u0026#039;] = \u0026#039;smtp_secure_password\u0026#039;;\n    gitlab_rails[\u0026#039;smtp_domain\u0026#039;] = \u0026#039;example.com\u0026#039;;\n    gitlab_rails[\u0026#039;smtp_authentication\u0026#039;] = \u0026#039;login\u0026#039;;\n    gitlab_rails[\u0026#039;smtp_enable_starttls_auto\u0026#039;] = true;\n    gitlab_rails[\u0026#039;smtp_tls\u0026#039;] = false;\n    gitlab_rails[\u0026#039;smtp_openssl_verify_mode\u0026#039;] = \u0026#039;peer\u0026#039;;\n    \n    # Email settings\n    gitlab_rails[\u0026#039;gitlab_email_from\u0026#039;] = \u0026#039;gitlab@example.com\u0026#039;;\n    gitlab_rails[\u0026#039;gitlab_email_display_name\u0026#039;] = \u0026#039;GitLab\u0026#039;;\n    \n    # Backup configuration\n    gitlab_rails[\u0026#039;backup_keep_time\u0026#039;] = 604800;\n    gitlab_rails[\u0026#039;backup_upload_connection\u0026#039;] = {\n      \u0026#039;provider\u0026#039; =\u0026gt; \u0026#039;AWS\u0026#039;,\n      \u0026#039;region\u0026#039; =\u0026gt; \u0026#039;us-west-2\u0026#039;,\n      \u0026#039;aws_access_key_id\u0026#039; =\u0026gt; \u0026#039;backup_access_key\u0026#039;,\n      \u0026#039;aws_secret_access_key\u0026#039; =\u0026gt; \u0026#039;backup_secret_key\u0026#039;\n    };\n    gitlab_rails[\u0026#039;backup_upload_remote_directory\u0026#039;] = \u0026#039;gitlab-backups\u0026#039;;\n    \u0026quot; \\\n  --publish 443:443 --publish 80:80 --publish 2222:22 \\\n  --name gitlab \\\n  --restart unless-stopped \\\n  --volume $GITLAB_HOME/config:/etc/gitlab \\\n  --volume $GITLAB_HOME/logs:/var/log/gitlab \\\n  --volume $GITLAB_HOME/data:/var/opt/gitlab \\\n  --shm-size 256m \\\n  gitlab/gitlab-ee:latest\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"docker-compose-production-setup\" class=\"mobile-header\"\u003eDocker Compose (Production Setup)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003emkdir -p ~/gitlab-stack\ncd ~/gitlab-stack\n\ncat \u0026gt; docker-compose.yml \u0026lt;\u0026lt;EOF\nversion: \u0026#039;3.8\u0026#039;\n\nservices:\n  gitlab:\n    image: gitlab/gitlab-ee:latest\n    container_name: gitlab\n    restart: unless-stopped\n    hostname: gitlab.example.com\n    environment:\n      GITLAB_OMNIBUS_CONFIG: |\n        external_url \u0026#039;https://gitlab.example.com\u0026#039;\n        \n        # Performance settings\n        postgresql[\u0026#039;shared_buffers\u0026#039;] = \u0026quot;2GB\u0026quot;\n        postgresql[\u0026#039;effective_cache_size\u0026#039;] = \u0026quot;8GB\u0026quot;\n        postgresql[\u0026#039;max_connections\u0026#039;] = 300\n        \n        # Security settings\n        gitlab_rails[\u0026#039;rack_attack_git_basic_auth\u0026#039;] = {\n          \u0026#039;enabled\u0026#039; =\u0026gt; true,\n          \u0026#039;ip_whitelist\u0026#039; =\u0026gt; [\u0026#039;127.0.0.1\u0026#039;, \u0026#039;10.0.0.0/8\u0026#039;, \u0026#039;172.16.0.0/12\u0026#039;, \u0026#039;192.168.0.0/16\u0026#039;],\n          \u0026#039;maxretry\u0026#039; =\u0026gt; 10,\n          \u0026#039;findtime\u0026#039; =\u0026gt; 60,\n          \u0026#039;bantime\u0026#039; =\u0026gt; 3600\n        }\n        \n        # Container Registry\n        registry_external_url \u0026#039;https://registry.example.com\u0026#039;\n        gitlab_rails[\u0026#039;registry_enabled\u0026#039;] = true\n        \n        # Monitoring\n        prometheus_monitoring[\u0026#039;enable\u0026#039;] = true\n        grafana[\u0026#039;enable\u0026#039;] = true\n        \n        # Let\u0026#039;s Encrypt (disable for reverse proxy setup)\n        letsencrypt[\u0026#039;enable\u0026#039;] = false\n        nginx[\u0026#039;listen_port\u0026#039;] = 80\n        nginx[\u0026#039;listen_https\u0026#039;] = false\n        \n        # GitLab Pages\n        pages_external_url \u0026quot;https://pages.example.com\u0026quot;\n        gitlab_pages[\u0026#039;enable\u0026#039;] = true\n    ports:\n      - \u0026#039;80:80\u0026#039;\n      - \u0026#039;443:443\u0026#039;\n      - \u0026#039;2222:22\u0026#039;\n    volumes:\n      - \u0026#039;./config:/etc/gitlab\u0026#039;\n      - \u0026#039;./logs:/var/log/gitlab\u0026#039;\n      - \u0026#039;./data:/var/opt/gitlab\u0026#039;\n    networks:\n      - gitlab\n    shm_size: \u0026#039;256m\u0026#039;\n    healthcheck:\n      test: [\u0026quot;CMD-SHELL\u0026quot;, \u0026quot;gitlab-healthcheck --fail --max-time 10\u0026quot;]\n      interval: 60s\n      timeout: 30s\n      retries: 5\n      start_period: 200s\n\n  gitlab-runner:\n    image: gitlab/gitlab-runner:latest\n    container_name: gitlab-runner\n    restart: unless-stopped\n    volumes:\n      - \u0026#039;./runner-config:/etc/gitlab-runner\u0026#039;\n      - \u0026#039;/var/run/docker.sock:/var/run/docker.sock\u0026#039;\n    networks:\n      - gitlab\n    depends_on:\n      - gitlab\n\n  redis:\n    image: redis:7-alpine\n    container_name: gitlab-redis\n    restart: unless-stopped\n    command: redis-server --appendonly yes --requirepass redis_secure_password\n    volumes:\n      - redis-data:/data\n    networks:\n      - gitlab\n\n  nginx:\n    image: nginx:alpine\n    container_name: gitlab-nginx\n    restart: unless-stopped\n    ports:\n      - \u0026#039;443:443\u0026#039;\n    volumes:\n      - \u0026#039;./nginx/nginx.conf:/etc/nginx/nginx.conf:ro\u0026#039;\n      - \u0026#039;./nginx/ssl:/etc/nginx/ssl:ro\u0026#039;\n    depends_on:\n      - gitlab\n    networks:\n      - gitlab\n\nnetworks:\n  gitlab:\n    driver: bridge\n\nvolumes:\n  redis-data:\nEOF\n\n# Create NGINX reverse proxy configuration\nmkdir -p nginx\ncat \u0026gt; nginx/nginx.conf \u0026lt;\u0026lt;EOF\nevents {\n    worker_connections 1024;\n}\n\nhttp {\n    upstream gitlab {\n        server gitlab:80;\n    }\n    \n    upstream registry {\n        server gitlab:5000;\n    }\n\n    server {\n        listen 443 ssl http2;\n        server_name gitlab.example.com;\n\n        ssl_certificate /etc/nginx/ssl/gitlab.crt;\n        ssl_certificate_key /etc/nginx/ssl/gitlab.key;\n        ssl_protocols TLSv1.2 TLSv1.3;\n        ssl_ciphers ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512;\n\n        client_max_body_size 0;\n        gzip off;\n\n        location / {\n            proxy_pass http://gitlab;\n            proxy_set_header Host \\$host;\n            proxy_set_header X-Real-IP \\$remote_addr;\n            proxy_set_header X-Forwarded-For \\$proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto \\$scheme;\n        }\n    }\n\n    server {\n        listen 443 ssl http2;\n        server_name registry.example.com;\n\n        ssl_certificate /etc/nginx/ssl/registry.crt;\n        ssl_certificate_key /etc/nginx/ssl/registry.key;\n\n        client_max_body_size 0;\n\n        location /v2/ {\n            proxy_pass http://registry;\n            proxy_set_header Host \\$host;\n            proxy_set_header X-Real-IP \\$remote_addr;\n            proxy_set_header X-Forwarded-For \\$proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto \\$scheme;\n        }\n    }\n}\nEOF\n\ndocker-compose up -d\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"enterprise-configuration\" class=\"mobile-header\"\u003eEnterprise Configuration\u003c/h2\u003e\n\u003ch3 id=\"production-configuration-etcgitlabgitlabrb\" class=\"mobile-header\"\u003eProduction Configuration (/etc/gitlab/gitlab.rb)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003esudo tee /etc/gitlab/gitlab.rb \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n# GitLab Enterprise Production Configuration\n\nexternal_url \u0026#039;https://gitlab.example.com\u0026#039;\n\n# Performance and Resource Settings\nunicorn[\u0026#039;worker_timeout\u0026#039;] = 60\nunicorn[\u0026#039;worker_processes\u0026#039;] = 8\nsidekiq[\u0026#039;max_concurrency\u0026#039;] = 25\nsidekiq[\u0026#039;min_concurrency\u0026#039;] = 10\n\n# PostgreSQL configuration\npostgresql[\u0026#039;enable\u0026#039;] = true\npostgresql[\u0026#039;max_connections\u0026#039;] = 300\npostgresql[\u0026#039;shared_buffers\u0026#039;] = \u0026quot;2GB\u0026quot;\npostgresql[\u0026#039;effective_cache_size\u0026#039;] = \u0026quot;8GB\u0026quot;\npostgresql[\u0026#039;work_mem\u0026#039;] = \u0026quot;16MB\u0026quot;\npostgresql[\u0026#039;maintenance_work_mem\u0026#039;] = \u0026quot;256MB\u0026quot;\npostgresql[\u0026#039;checkpoint_completion_target\u0026#039;] = 0.9\npostgresql[\u0026#039;wal_buffers\u0026#039;] = \u0026quot;16MB\u0026quot;\npostgresql[\u0026#039;default_statistics_target\u0026#039;] = 100\npostgresql[\u0026#039;random_page_cost\u0026#039;] = 1.1\npostgresql[\u0026#039;effective_io_concurrency\u0026#039;] = 200\n\n# Redis configuration\nredis[\u0026#039;enable\u0026#039;] = true\nredis[\u0026#039;maxmemory\u0026#039;] = \u0026quot;1gb\u0026quot;\nredis[\u0026#039;maxmemory_policy\u0026#039;] = \u0026quot;allkeys-lru\u0026quot;\nredis[\u0026#039;save\u0026#039;] = \u0026#039;900 1 300 10 60 10000\u0026#039;\nredis[\u0026#039;password\u0026#039;] = \u0026#039;redis_secure_password\u0026#039;\n\n# Gitaly configuration (Git RPC service)\ngitaly[\u0026#039;enable\u0026#039;] = true\ngitaly[\u0026#039;auth_token\u0026#039;] = \u0026#039;secure_gitaly_token\u0026#039;\ngitaly[\u0026#039;ruby_max_rss\u0026#039;] = 300000000  # 300MB\ngitaly[\u0026#039;concurrency\u0026#039;] = [\n  {\n    \u0026#039;rpc\u0026#039; =\u0026gt; \u0026quot;/gitaly.SmartHTTPService/PostReceivePack\u0026quot;,\n    \u0026#039;max_per_repo\u0026#039; =\u0026gt; 3\n  },\n  {\n    \u0026#039;rpc\u0026#039; =\u0026gt; \u0026quot;/gitaly.SSHService/SSHUploadPack\u0026quot;, \n    \u0026#039;max_per_repo\u0026#039; =\u0026gt; 3\n  }\n]\n\n# NGINX configuration\nnginx[\u0026#039;enable\u0026#039;] = true\nnginx[\u0026#039;listen_port\u0026#039;] = 80\nnginx[\u0026#039;listen_https\u0026#039;] = false\nnginx[\u0026#039;redirect_http_to_https\u0026#039;] = false\nnginx[\u0026#039;ssl_certificate\u0026#039;] = \u0026quot;/etc/gitlab/ssl/gitlab.crt\u0026quot;\nnginx[\u0026#039;ssl_certificate_key\u0026#039;] = \u0026quot;/etc/gitlab/ssl/gitlab.key\u0026quot;\nnginx[\u0026#039;ssl_protocols\u0026#039;] = \u0026quot;TLSv1.2 TLSv1.3\u0026quot;\nnginx[\u0026#039;ssl_prefer_server_ciphers\u0026#039;] = \u0026quot;off\u0026quot;\nnginx[\u0026#039;ssl_ciphers\u0026#039;] = \u0026quot;ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384\u0026quot;\n\n# Container Registry\nregistry_external_url \u0026#039;https://registry.example.com\u0026#039;\ngitlab_rails[\u0026#039;registry_enabled\u0026#039;] = true\nregistry[\u0026#039;enable\u0026#039;] = true\nregistry[\u0026#039;username\u0026#039;] = \u0026quot;registry\u0026quot;\nregistry[\u0026#039;uid\u0026#039;] = 996\nregistry[\u0026#039;gid\u0026#039;] = 996\nregistry[\u0026#039;dir\u0026#039;] = \u0026quot;/var/opt/gitlab/registry\u0026quot;\nregistry[\u0026#039;log_directory\u0026#039;] = \u0026quot;/var/log/gitlab/registry\u0026quot;\nregistry[\u0026#039;log_level\u0026#039;] = \u0026quot;info\u0026quot;\nregistry[\u0026#039;rootcertbundle\u0026#039;] = \u0026quot;/opt/gitlab/embedded/ssl/certs/cacert.pem\u0026quot;\n\n# GitLab Pages\npages_external_url \u0026quot;https://pages.example.com\u0026quot;\ngitlab_pages[\u0026#039;enable\u0026#039;] = true\ngitlab_pages[\u0026#039;dir\u0026#039;] = \u0026quot;/var/opt/gitlab/gitlab-pages\u0026quot;\ngitlab_pages[\u0026#039;log_directory\u0026#039;] = \u0026quot;/var/log/gitlab/gitlab-pages\u0026quot;\ngitlab_pages[\u0026#039;access_control\u0026#039;] = true\ngitlab_pages[\u0026#039;use_legacy_storage\u0026#039;] = false\n\n# Email configuration\ngitlab_rails[\u0026#039;smtp_enable\u0026#039;] = true\ngitlab_rails[\u0026#039;smtp_address\u0026#039;] = \u0026quot;smtp.example.com\u0026quot;\ngitlab_rails[\u0026#039;smtp_port\u0026#039;] = 587\ngitlab_rails[\u0026#039;smtp_user_name\u0026#039;] = \u0026quot;gitlab@example.com\u0026quot;\ngitlab_rails[\u0026#039;smtp_password\u0026#039;] = \u0026quot;smtp_secure_password\u0026quot;\ngitlab_rails[\u0026#039;smtp_domain\u0026#039;] = \u0026quot;example.com\u0026quot;\ngitlab_rails[\u0026#039;smtp_authentication\u0026#039;] = \u0026quot;login\u0026quot;\ngitlab_rails[\u0026#039;smtp_enable_starttls_auto\u0026#039;] = true\ngitlab_rails[\u0026#039;smtp_tls\u0026#039;] = false\ngitlab_rails[\u0026#039;smtp_openssl_verify_mode\u0026#039;] = \u0026#039;peer\u0026#039;\n\ngitlab_rails[\u0026#039;gitlab_email_enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;gitlab_email_from\u0026#039;] = \u0026#039;gitlab@example.com\u0026#039;\ngitlab_rails[\u0026#039;gitlab_email_display_name\u0026#039;] = \u0026#039;GitLab\u0026#039;\ngitlab_rails[\u0026#039;gitlab_email_reply_to\u0026#039;] = \u0026#039;noreply@example.com\u0026#039;\n\n# Security settings\ngitlab_rails[\u0026#039;rack_attack_git_basic_auth\u0026#039;] = {\n  \u0026#039;enabled\u0026#039; =\u0026gt; true,\n  \u0026#039;ip_whitelist\u0026#039; =\u0026gt; %w{127.0.0.1 192.168.1.0/24 10.0.0.0/8},\n  \u0026#039;maxretry\u0026#039; =\u0026gt; 10,\n  \u0026#039;findtime\u0026#039; =\u0026gt; 60,\n  \u0026#039;bantime\u0026#039; =\u0026gt; 3600\n}\n\n# Two-factor authentication\ngitlab_rails[\u0026#039;require_two_factor_authentication\u0026#039;] = false\ngitlab_rails[\u0026#039;two_factor_grace_period\u0026#039;] = 8  # 8 hours instead of default 48\n\n# Session settings\ngitlab_rails[\u0026#039;session_expire_delay\u0026#039;] = 10080  # 1 week\ngitlab_rails[\u0026#039;session_store_enabled\u0026#039;] = true\n\n# Backup configuration\ngitlab_rails[\u0026#039;backup_keep_time\u0026#039;] = 604800  # 7 days\ngitlab_rails[\u0026#039;backup_upload_connection\u0026#039;] = {\n  \u0026#039;provider\u0026#039; =\u0026gt; \u0026#039;AWS\u0026#039;,\n  \u0026#039;region\u0026#039; =\u0026gt; \u0026#039;us-west-2\u0026#039;,\n  \u0026#039;aws_access_key_id\u0026#039; =\u0026gt; \u0026#039;backup_access_key\u0026#039;,\n  \u0026#039;aws_secret_access_key\u0026#039; =\u0026gt; \u0026#039;backup_secret_key\u0026#039;\n}\ngitlab_rails[\u0026#039;backup_upload_remote_directory\u0026#039;] = \u0026#039;gitlab-backups\u0026#039;\ngitlab_rails[\u0026#039;backup_multipart_chunk_size\u0026#039;] = 104857600  # 100MB\n\n# Monitoring\nprometheus_monitoring[\u0026#039;enable\u0026#039;] = true\nprometheus[\u0026#039;enable\u0026#039;] = true\nprometheus[\u0026#039;listen_address\u0026#039;] = \u0026#039;localhost:9090\u0026#039;\nprometheus[\u0026#039;scrape_configs\u0026#039;] = [\n  {\n    \u0026#039;job_name\u0026#039; =\u0026gt; \u0026#039;gitlab-workhorse\u0026#039;,\n    \u0026#039;static_configs\u0026#039; =\u0026gt; [\n      { \u0026#039;targets\u0026#039; =\u0026gt; [\u0026#039;localhost:9229\u0026#039;] }\n    ]\n  },\n  {\n    \u0026#039;job_name\u0026#039; =\u0026gt; \u0026#039;gitlab-unicorn\u0026#039;,\n    \u0026#039;static_configs\u0026#039; =\u0026gt; [\n      { \u0026#039;targets\u0026#039; =\u0026gt; [\u0026#039;localhost:8080\u0026#039;] }\n    ]\n  },\n  {\n    \u0026#039;job_name\u0026#039; =\u0026gt; \u0026#039;gitlab-sidekiq\u0026#039;,\n    \u0026#039;static_configs\u0026#039; =\u0026gt; [\n      { \u0026#039;targets\u0026#039; =\u0026gt; [\u0026#039;localhost:8082\u0026#039;] }\n    ]\n  }\n]\n\ngrafana[\u0026#039;enable\u0026#039;] = true\ngrafana[\u0026#039;admin_password\u0026#039;] = \u0026#039;secure_grafana_password\u0026#039;\ngrafana[\u0026#039;disable_login_form\u0026#039;] = false\n\n# Logging\nlogging[\u0026#039;svlogd_size\u0026#039;] = 200 * 1024 * 1024  # 200MB\nlogging[\u0026#039;svlogd_num\u0026#039;] = 30\nlogging[\u0026#039;svlogd_timeout\u0026#039;] = 24 * 60 * 60    # rotate after 24 hours\nlogging[\u0026#039;logrotate_frequency\u0026#039;] = \u0026quot;daily\u0026quot;\nlogging[\u0026#039;logrotate_rotate\u0026#039;] = 30\nlogging[\u0026#039;logrotate_compress\u0026#039;] = \u0026quot;compress\u0026quot;\n\n# Git settings\ngitlab_rails[\u0026#039;gitlab_default_branch\u0026#039;] = \u0026#039;main\u0026#039;\ngitlab_rails[\u0026#039;max_request_duration_seconds\u0026#039;] = 60\n\n# Rate limiting\ngitlab_rails[\u0026#039;rate_limit_requests_per_period\u0026#039;] = 300\ngitlab_rails[\u0026#039;rate_limit_period\u0026#039;] = 60\n\n# Enterprise features (if using GitLab EE)\n# gitlab_rails[\u0026#039;ee_license\u0026#039;] = File.read(\u0026#039;/etc/gitlab/GitLab.gitlab-license\u0026#039;)\n\n# Security scanning\ngitlab_rails[\u0026#039;dependency_scanning_enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;container_scanning_enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;sast_enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;secret_detection_enabled\u0026#039;] = true\n\n# LDAP configuration (Enterprise)\ngitlab_rails[\u0026#039;ldap_enabled\u0026#039;] = false\ngitlab_rails[\u0026#039;prevent_ldap_sign_in\u0026#039;] = false\ngitlab_rails[\u0026#039;ldap_servers\u0026#039;] = {\n  \u0026#039;main\u0026#039; =\u0026gt; {\n    \u0026#039;label\u0026#039; =\u0026gt; \u0026#039;LDAP\u0026#039;,\n    \u0026#039;host\u0026#039; =\u0026gt; \u0026#039;ldap.example.com\u0026#039;,\n    \u0026#039;port\u0026#039; =\u0026gt; 636,\n    \u0026#039;uid\u0026#039; =\u0026gt; \u0026#039;sAMAccountName\u0026#039;,\n    \u0026#039;bind_dn\u0026#039; =\u0026gt; \u0026#039;CN=gitlab,OU=Service Accounts,DC=example,DC=com\u0026#039;,\n    \u0026#039;password\u0026#039; =\u0026gt; \u0026#039;ldap_service_password\u0026#039;,\n    \u0026#039;encryption\u0026#039; =\u0026gt; \u0026#039;ssl\u0026#039;,\n    \u0026#039;verify_certificates\u0026#039; =\u0026gt; true,\n    \u0026#039;ca_file\u0026#039; =\u0026gt; \u0026#039;/etc/gitlab/ssl/ldap-ca.crt\u0026#039;,\n    \u0026#039;base\u0026#039; =\u0026gt; \u0026#039;DC=example,DC=com\u0026#039;,\n    \u0026#039;user_filter\u0026#039; =\u0026gt; \u0026#039;\u0026#039;,\n    \u0026#039;attributes\u0026#039; =\u0026gt; {\n      \u0026#039;username\u0026#039; =\u0026gt; [\u0026#039;uid\u0026#039;, \u0026#039;userid\u0026#039;, \u0026#039;sAMAccountName\u0026#039;],\n      \u0026#039;email\u0026#039; =\u0026gt; [\u0026#039;mail\u0026#039;, \u0026#039;email\u0026#039;, \u0026#039;userPrincipalName\u0026#039;],\n      \u0026#039;name\u0026#039; =\u0026gt; \u0026#039;cn\u0026#039;,\n      \u0026#039;first_name\u0026#039; =\u0026gt; \u0026#039;givenName\u0026#039;,\n      \u0026#039;last_name\u0026#039; =\u0026gt; \u0026#039;sn\u0026#039;\n    },\n    \u0026#039;group_base\u0026#039; =\u0026gt; \u0026#039;OU=Groups,DC=example,DC=com\u0026#039;,\n    \u0026#039;admin_group\u0026#039; =\u0026gt; \u0026#039;GitLab Administrators\u0026#039;\n  }\n}\nEOF\n\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"security-hardening-2024-best-practices\" class=\"mobile-header\"\u003eSecurity Hardening (2024 Best Practices)\u003c/h2\u003e\n\u003ch3 id=\"ssltls-configuration\" class=\"mobile-header\"\u003eSSL/TLS Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Generate SSL certificates\nsudo mkdir -p /etc/gitlab/ssl\n\n# Self-signed certificate for testing\nsudo openssl req -x509 -nodes -days 365 -newkey rsa:4096 \\\n  -keyout /etc/gitlab/ssl/gitlab.key \\\n  -out /etc/gitlab/ssl/gitlab.crt \\\n  -subj \u0026quot;/C=US/ST=State/L=City/O=Organization/CN=gitlab.example.com\u0026quot;\n\n# Production: Let\u0026#039;s Encrypt integration\nsudo tee -a /etc/gitlab/gitlab.rb \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n\n# Let\u0026#039;s Encrypt configuration\nletsencrypt[\u0026#039;enable\u0026#039;] = true\nletsencrypt[\u0026#039;contact_emails\u0026#039;] = [\u0026#039;admin@example.com\u0026#039;]\nletsencrypt[\u0026#039;auto_renew\u0026#039;] = true\nletsencrypt[\u0026#039;auto_renew_hour\u0026#039;] = 0\nletsencrypt[\u0026#039;auto_renew_minute\u0026#039;] = 0\nletsencrypt[\u0026#039;auto_renew_day_of_month\u0026#039;] = \u0026quot;*/4\u0026quot;\n\n# Force HTTPS\nnginx[\u0026#039;redirect_http_to_https\u0026#039;] = true\nnginx[\u0026#039;ssl_protocols\u0026#039;] = \u0026quot;TLSv1.2 TLSv1.3\u0026quot;\nnginx[\u0026#039;ssl_prefer_server_ciphers\u0026#039;] = \u0026quot;off\u0026quot;\nnginx[\u0026#039;ssl_ciphers\u0026#039;] = \u0026quot;ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384\u0026quot;\n\n# HSTS\nnginx[\u0026#039;hsts_max_age\u0026#039;] = 31536000\nnginx[\u0026#039;hsts_include_subdomains\u0026#039;] = true\nEOF\n\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"advanced-security-configuration\" class=\"mobile-header\"\u003eAdvanced Security Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure security settings\nsudo tee -a /etc/gitlab/gitlab.rb \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n\n# Security hardening\ngitlab_rails[\u0026#039;webhook_timeout\u0026#039;] = 10\ngitlab_rails[\u0026#039;webhook_max_redirects\u0026#039;] = 3\n\n# Disable password authentication (use SSO/LDAP)\ngitlab_rails[\u0026#039;omniauth_allow_single_sign_on\u0026#039;] = [\u0026#039;saml\u0026#039;, \u0026#039;ldapmain\u0026#039;]\ngitlab_rails[\u0026#039;omniauth_block_auto_created_users\u0026#039;] = false\ngitlab_rails[\u0026#039;omniauth_auto_sign_in_with_provider\u0026#039;] = \u0026#039;saml\u0026#039;\n\n# API rate limiting\ngitlab_rails[\u0026#039;rate_limit_requests_per_period\u0026#039;] = 1000\ngitlab_rails[\u0026#039;rate_limit_period\u0026#039;] = 60\n\n# Git over HTTP rate limiting\ngitlab_rails[\u0026#039;rack_attack_git_basic_auth\u0026#039;] = {\n  \u0026#039;enabled\u0026#039; =\u0026gt; true,\n  \u0026#039;ip_whitelist\u0026#039; =\u0026gt; %w{127.0.0.1 192.168.1.0/24},\n  \u0026#039;maxretry\u0026#039; =\u0026gt; 20,\n  \u0026#039;findtime\u0026#039; =\u0026gt; 60,\n  \u0026#039;bantime\u0026#039; =\u0026gt; 3600\n}\n\n# Protected paths\ngitlab_rails[\u0026#039;rack_attack_protected_paths\u0026#039;] = [\n  \u0026#039;/users/password\u0026#039;,\n  \u0026#039;/users/sign_in\u0026#039;,\n  \u0026#039;/api/v4/session.json\u0026#039;,\n  \u0026#039;/api/v4/session\u0026#039;,\n  \u0026#039;/users/confirmation\u0026#039;,\n  \u0026#039;/unsubscribes/\u0026#039;,\n  \u0026#039;/import/github/personal_access_token\u0026#039;,\n  \u0026#039;/admin/session\u0026#039;\n]\n\n# SSH security\ngitlab_rails[\u0026#039;gitlab_shell_ssh_port\u0026#039;] = 2222\ngitlab_shell[\u0026#039;auth_file\u0026#039;] = \u0026quot;/var/opt/gitlab/.ssh/authorized_keys\u0026quot;\n\n# Container Registry security\nregistry[\u0026#039;notifications\u0026#039;] = [\n  {\n    \u0026#039;name\u0026#039; =\u0026gt; \u0026#039;security_scan\u0026#039;,\n    \u0026#039;url\u0026#039; =\u0026gt; \u0026#039;https://security-scanner.example.com/webhook\u0026#039;,\n    \u0026#039;timeout\u0026#039; =\u0026gt; \u0026#039;2000ms\u0026#039;,\n    \u0026#039;threshold\u0026#039; =\u0026gt; 3,\n    \u0026#039;backoff\u0026#039; =\u0026gt; \u0026#039;1000ms\u0026#039;\n  }\n]\n\n# Secrets management\ngitlab_rails[\u0026#039;db_password\u0026#039;] = File.read(\u0026#039;/etc/gitlab/secrets/db_password\u0026#039;).strip\ngitlab_rails[\u0026#039;secret_key_base\u0026#039;] = File.read(\u0026#039;/etc/gitlab/secrets/secret_key_base\u0026#039;).strip\ngitlab_rails[\u0026#039;otp_key_base\u0026#039;] = File.read(\u0026#039;/etc/gitlab/secrets/otp_key_base\u0026#039;).strip\ngitlab_rails[\u0026#039;encrypted_settings_key_base\u0026#039;] = File.read(\u0026#039;/etc/gitlab/secrets/encrypted_settings_key_base\u0026#039;).strip\n\n# Audit logging\ngitlab_rails[\u0026#039;audit_events_enabled\u0026#039;] = true\n\n# Disable features that increase attack surface\ngitlab_rails[\u0026#039;usage_ping_enabled\u0026#039;] = false\ngitlab_rails[\u0026#039;sentry_enabled\u0026#039;] = false\nEOF\n\n# Create secrets directory and files\nsudo mkdir -p /etc/gitlab/secrets\nsudo openssl rand -base64 64 | sudo tee /etc/gitlab/secrets/db_password\nsudo openssl rand -base64 64 | sudo tee /etc/gitlab/secrets/secret_key_base\nsudo openssl rand -base64 64 | sudo tee /etc/gitlab/secrets/otp_key_base\nsudo openssl rand -base64 64 | sudo tee /etc/gitlab/secrets/encrypted_settings_key_base\n\n# Secure permissions\nsudo chmod 600 /etc/gitlab/secrets/*\nsudo chown git:git /etc/gitlab/secrets/*\n\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"gitlab-runner-security-configuration\" class=\"mobile-header\"\u003eGitLab Runner Security Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create secure runner configuration\nsudo mkdir -p /etc/gitlab-runner\n\nsudo tee /etc/gitlab-runner/config.toml \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\nconcurrent = 4\ncheck_interval = 0\nshutdown_timeout = 0\n\n[session_server]\n  session_timeout = 1800\n\n[[runners]]\n  name = \u0026quot;docker-runner-secure\u0026quot;\n  url = \u0026quot;https://gitlab.example.com/\u0026quot;\n  token = \u0026quot;runner_registration_token\u0026quot;\n  executor = \u0026quot;docker\u0026quot;\n  \n  # Security settings\n  pre_clone_script = \u0026quot;echo \u0026#039;Starting secure build\u0026#039;\u0026quot;\n  pre_build_script = \u0026quot;echo \u0026#039;Preparing secure environment\u0026#039;\u0026quot;\n  post_build_script = \u0026quot;echo \u0026#039;Cleaning up secure environment\u0026#039;\u0026quot;\n  \n  [runners.docker]\n    tls_verify = false\n    image = \u0026quot;alpine:latest\u0026quot;\n    privileged = false  # Critical: Never use privileged mode\n    disable_entrypoint_overwrite = false\n    oom_kill_disable = false\n    disable_cache = false\n    volumes = [\u0026quot;/cache\u0026quot;, \u0026quot;/certs/client\u0026quot;]\n    shm_size = 0\n    network_mode = \u0026quot;bridge\u0026quot;\n    \n    # Security restrictions\n    cap_drop = [\u0026quot;ALL\u0026quot;]\n    cap_add = [\u0026quot;CHOWN\u0026quot;, \u0026quot;SETGID\u0026quot;, \u0026quot;SETUID\u0026quot;]\n    security_opt = [\u0026quot;no-new-privileges:true\u0026quot;]\n    \n    # Resource limits\n    memory = \u0026quot;2g\u0026quot;\n    memory_swap = \u0026quot;2g\u0026quot;\n    memory_reservation = \u0026quot;1g\u0026quot;\n    cpus = \u0026quot;1.5\u0026quot;\n    \n    # Network security\n    dns = [\u0026quot;8.8.8.8\u0026quot;, \u0026quot;8.8.4.4\u0026quot;]\n    extra_hosts = [\u0026quot;gitlab.example.com:192.168.1.100\u0026quot;]\n    \n    # Image scanning\n    pull_policy = [\u0026quot;if-not-present\u0026quot;]\n    \n  [runners.docker.tmpfs]\n    \u0026quot;/tmp\u0026quot; = \u0026quot;rw,noexec,nosuid,size=100m\u0026quot;\n    \u0026quot;/var/tmp\u0026quot; = \u0026quot;rw,noexec,nosuid,size=100m\u0026quot;\n\n# Kubernetes executor (more secure)\n[[runners]]\n  name = \u0026quot;k8s-runner-secure\u0026quot;\n  url = \u0026quot;https://gitlab.example.com/\u0026quot;\n  token = \u0026quot;k8s_runner_token\u0026quot;\n  executor = \u0026quot;kubernetes\u0026quot;\n  \n  [runners.kubernetes]\n    host = \u0026quot;https://k8s.example.com:6443\u0026quot;\n    namespace = \u0026quot;gitlab-runner\u0026quot;\n    privileged = false  # Never use privileged\n    image = \u0026quot;alpine:latest\u0026quot;\n    \n    # Security context\n    run_as_user = 1000\n    run_as_group = 1000\n    fs_group = 1000\n    \n    # Resource limits\n    memory_limit = \u0026quot;2Gi\u0026quot;\n    memory_request = \u0026quot;1Gi\u0026quot;\n    cpu_limit = \u0026quot;1000m\u0026quot;\n    cpu_request = \u0026quot;500m\u0026quot;\n    \n    # Security policies\n    [runners.kubernetes.pod_security_context]\n      run_as_non_root = true\n      run_as_user = 1000\n      run_as_group = 1000\n      fs_group = 1000\n      \n    [[runners.kubernetes.volumes.empty_dir]]\n      name = \u0026quot;tmp\u0026quot;\n      mount_path = \u0026quot;/tmp\u0026quot;\n      medium = \u0026quot;Memory\u0026quot;\nEOF\n\n# Register runner with security tags\nsudo gitlab-runner register \\\n  --url \u0026quot;https://gitlab.example.com/\u0026quot; \\\n  --registration-token \u0026quot;RUNNER_TOKEN\u0026quot; \\\n  --description \u0026quot;secure-docker-runner\u0026quot; \\\n  --tag-list \u0026quot;docker,secure,production\u0026quot; \\\n  --run-untagged=\u0026quot;false\u0026quot; \\\n  --locked=\u0026quot;true\u0026quot; \\\n  --access-level=\u0026quot;ref_protected\u0026quot; \\\n  --executor \u0026quot;docker\u0026quot; \\\n  --docker-image alpine:latest \\\n  --docker-privileged=\u0026quot;false\u0026quot; \\\n  --docker-volumes \u0026quot;/certs/client\u0026quot;\n\nsudo systemctl enable --now gitlab-runner\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"cicd-pipeline-security\" class=\"mobile-header\"\u003eCI/CD Pipeline Security\u003c/h2\u003e\n\u003ch3 id=\"secure-pipeline-configuration\" class=\"mobile-header\"\u003eSecure Pipeline Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create .gitlab-ci.yml with security best practices\ncat \u0026gt; .gitlab-ci.yml \u0026lt;\u0026lt;EOF\n# GitLab CI/CD Security Best Practices - 2024\n\nstages:\n  - security-scan\n  - test\n  - build\n  - security-test\n  - deploy\n\nvariables:\n  # Security variables\n  DOCKER_DRIVER: overlay2\n  DOCKER_TLS_CERTDIR: \u0026quot;/certs\u0026quot;\n  SECURE_LOG_LEVEL: info\n  \n  # Use protected variables for sensitive data\n  # DEPLOY_TOKEN: (set in GitLab UI as protected variable)\n  # AWS_ACCESS_KEY: (set in GitLab UI as protected variable)\n\n# Security scanning stage\nsecret-detection:\n  stage: security-scan\n  image: registry.gitlab.com/gitlab-org/security-products/analyzers/secrets:latest\n  script:\n    - echo \u0026quot;Scanning for secrets in code...\u0026quot;\n    - /analyzer run\n  artifacts:\n    reports:\n      secret_detection: gl-secret-detection-report.json\n  rules:\n    - if: \u0026#039;\\$CI_COMMIT_BRANCH\u0026#039;\n  tags:\n    - secure\n\ndependency-scanning:\n  stage: security-scan  \n  image: registry.gitlab.com/gitlab-org/security-products/analyzers/gemnasium:latest\n  script:\n    - echo \u0026quot;Scanning dependencies for vulnerabilities...\u0026quot;\n    - /analyzer run\n  artifacts:\n    reports:\n      dependency_scanning: gl-dependency-scanning-report.json\n  rules:\n    - if: \u0026#039;\\$CI_COMMIT_BRANCH\u0026#039;\n  tags:\n    - secure\n\nsast:\n  stage: security-scan\n  image: registry.gitlab.com/gitlab-org/security-products/analyzers/sobelow:latest\n  script:\n    - echo \u0026quot;Static application security testing...\u0026quot;\n    - /analyzer run\n  artifacts:\n    reports:\n      sast: gl-sast-report.json\n  rules:\n    - if: \u0026#039;\\$CI_COMMIT_BRANCH\u0026#039;\n  tags:\n    - secure\n\n# Container scanning\ncontainer-scanning:\n  stage: security-test\n  image: registry.gitlab.com/gitlab-org/security-products/analyzers/klar:latest\n  script:\n    - echo \u0026quot;Scanning container image for vulnerabilities...\u0026quot;\n    - /analyzer run\n  artifacts:\n    reports:\n      container_scanning: gl-container-scanning-report.json\n  dependencies:\n    - build\n  rules:\n    - if: \u0026#039;\\$CI_COMMIT_BRANCH\u0026#039;\n  tags:\n    - secure\n\n# Secure build stage\nbuild:\n  stage: build\n  image: docker:latest\n  services:\n    - docker:dind\n  before_script:\n    # Verify image signatures\n    - echo \u0026quot;Verifying base image integrity...\u0026quot;\n    - docker trust inspect alpine:latest\n  script:\n    - echo \u0026quot;Building application with security scanning...\u0026quot;\n    - docker build -t \\$CI_REGISTRY_IMAGE:\\$CI_COMMIT_SHA .\n    - docker run --rm -v /var/run/docker.sock:/var/run/docker.sock aquasec/trivy image \\$CI_REGISTRY_IMAGE:\\$CI_COMMIT_SHA\n    - docker login -u \\$CI_REGISTRY_USER -p \\$CI_REGISTRY_PASSWORD \\$CI_REGISTRY\n    - docker push \\$CI_REGISTRY_IMAGE:\\$CI_COMMIT_SHA\n  rules:\n    - if: \u0026#039;\\$CI_COMMIT_BRANCH == \u0026quot;main\u0026quot;\u0026#039;\n  tags:\n    - secure\n\n# Secure deployment\ndeploy-production:\n  stage: deploy\n  image: alpine:latest\n  before_script:\n    # Install kubectl and verify cluster connectivity\n    - apk add --no-cache curl\n    - curl -LO \u0026quot;https://dl.k8s.io/release/v1.28.0/bin/linux/amd64/kubectl\u0026quot;\n    - chmod +x kubectl \u0026amp;\u0026amp; mv kubectl /usr/local/bin/\n    - kubectl config use-context production-cluster\n    - kubectl auth can-i create deployments --namespace=production\n  script:\n    - echo \u0026quot;Deploying to production with security validations...\u0026quot;\n    - kubectl apply -f k8s/production/ --namespace=production\n    - kubectl rollout status deployment/app --namespace=production --timeout=300s\n  environment:\n    name: production\n    url: https://app.example.com\n  rules:\n    - if: \u0026#039;\\$CI_COMMIT_BRANCH == \u0026quot;main\u0026quot;\u0026#039;\n      when: manual\n  only:\n    variables:\n      - \\$CI_COMMIT_REF_PROTECTED == \u0026quot;true\u0026quot;\n  tags:\n    - secure\n    - production\n\n# Security compliance check\ncompliance-check:\n  stage: security-test\n  image: alpine:latest\n  script:\n    - echo \u0026quot;Running compliance checks...\u0026quot;\n    - apk add --no-cache curl jq\n    - |\n      # Check for required security labels in Docker images\n      if ! docker inspect \\$CI_REGISTRY_IMAGE:\\$CI_COMMIT_SHA | jq -r \u0026#039;.[].Config.Labels[\u0026quot;security.scan\u0026quot;]\u0026#039; | grep -q \u0026quot;passed\u0026quot;; then\n        echo \u0026quot;ERROR: Image failed security scan\u0026quot;\n        exit 1\n      fi\n    - echo \u0026quot;Compliance check passed\u0026quot;\n  dependencies:\n    - container-scanning\n  rules:\n    - if: \u0026#039;\\$CI_COMMIT_BRANCH == \u0026quot;main\u0026quot;\u0026#039;\n  tags:\n    - secure\n\n# Infrastructure as Code scanning\niac-scanning:\n  stage: security-scan\n  image: bridgecrew/checkov:latest\n  script:\n    - checkov --framework terraform --framework kubernetes --framework dockerfile\n  artifacts:\n    reports:\n      junit: checkov-report.xml\n  rules:\n    - if: \u0026#039;\\$CI_COMMIT_BRANCH\u0026#039;\n      changes:\n        - \u0026quot;**/*.tf\u0026quot;\n        - \u0026quot;**/*.yml\u0026quot;\n        - \u0026quot;**/*.yaml\u0026quot;\n        - \u0026quot;**/Dockerfile*\u0026quot;\n  tags:\n    - secure\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"rbac-and-access-control\" class=\"mobile-header\"\u003eRBAC and Access Control\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure GitLab RBAC via API\nGITLAB_URL=\u0026quot;https://gitlab.example.com\u0026quot;\nADMIN_TOKEN=\u0026quot;your_admin_token\u0026quot;\n\n# Create groups with specific permissions\ncurl --request POST --header \u0026quot;PRIVATE-TOKEN: ${ADMIN_TOKEN}\u0026quot; \\\n  --data \u0026quot;name=developers\u0026amp;path=developers\u0026amp;description=Development team\u0026amp;visibility=private\u0026quot; \\\n  \u0026quot;${GITLAB_URL}/api/v4/groups\u0026quot;\n\ncurl --request POST --header \u0026quot;PRIVATE-TOKEN: ${ADMIN_TOKEN}\u0026quot; \\\n  --data \u0026quot;name=security-team\u0026amp;path=security-team\u0026amp;description=Security team\u0026amp;visibility=private\u0026quot; \\\n  \u0026quot;${GITLAB_URL}/api/v4/groups\u0026quot;\n\n# Create projects with security templates\ncurl --request POST --header \u0026quot;PRIVATE-TOKEN: ${ADMIN_TOKEN}\u0026quot; \\\n  --data \u0026quot;name=secure-app\u0026amp;description=Secure application\u0026amp;visibility=private\u0026amp;issues_enabled=true\u0026amp;merge_requests_enabled=true\u0026amp;wiki_enabled=false\u0026amp;builds_enabled=true\u0026amp;snippets_enabled=false\u0026amp;container_registry_enabled=true\u0026amp;shared_runners_enabled=false\u0026quot; \\\n  \u0026quot;${GITLAB_URL}/api/v4/projects\u0026quot;\n\n# Configure branch protection\nPROJECT_ID=\u0026quot;1\u0026quot;  # Replace with actual project ID\ncurl --request POST --header \u0026quot;PRIVATE-TOKEN: ${ADMIN_TOKEN}\u0026quot; \\\n  --data \u0026quot;name=main\u0026amp;code_owner_approval_required=true\u0026amp;push_access_level=40\u0026amp;merge_access_level=40\u0026amp;unprotect_access_level=40\u0026quot; \\\n  \u0026quot;${GITLAB_URL}/api/v4/projects/${PROJECT_ID}/protected_branches\u0026quot;\n\n# Configure push rules (Premium/Ultimate)\ncurl --request POST --header \u0026quot;PRIVATE-TOKEN: ${ADMIN_TOKEN}\u0026quot; \\\n  --data \u0026quot;deny_delete_tag=true\u0026amp;member_check=true\u0026amp;prevent_secrets=true\u0026amp;author_email_regex=.*@example.com\u0026amp;file_extension_restriction=jar,exe\u0026amp;max_file_size=100\u0026quot; \\\n  \u0026quot;${GITLAB_URL}/api/v4/projects/${PROJECT_ID}/push_rule\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"vulnerability-scanning-integration\" class=\"mobile-header\"\u003eVulnerability Scanning Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure dependency proxy for secure image caching\nsudo tee -a /etc/gitlab/gitlab.rb \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n\n# Dependency Proxy for secure image caching\ngitlab_rails[\u0026#039;dependency_proxy_enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;dependency_proxy_storage_path\u0026#039;] = \u0026quot;/var/opt/gitlab/gitlab-rails/shared/dependency_proxy\u0026quot;\n\n# Security scanning\ngitlab_rails[\u0026#039;sast_enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;dependency_scanning_enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;container_scanning_enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;secret_detection_enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;license_scanning_enabled\u0026#039;] = true\n\n# Secure package registry\ngitlab_rails[\u0026#039;packages_enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;packages_storage_path\u0026#039;] = \u0026quot;/var/opt/gitlab/gitlab-rails/shared/packages\u0026quot;\nEOF\n\n# Create custom security scanning templates\nmkdir -p .gitlab/ci-templates\n\ncat \u0026gt; .gitlab/ci-templates/Security-Scanning.gitlab-ci.yml \u0026lt;\u0026lt;EOF\n# Custom Security Scanning Template\n\n.security-scan-template:\n  stage: security-scan\n  variables:\n    SECURE_LOG_LEVEL: info\n  before_script:\n    - echo \u0026quot;Preparing security scan environment...\u0026quot;\n    - apk add --no-cache curl jq\n  tags:\n    - secure\n\ncustom-sast:\n  extends: .security-scan-template\n  image: registry.gitlab.com/gitlab-org/security-products/analyzers/semgrep:latest\n  script:\n    - echo \u0026quot;Running custom SAST analysis...\u0026quot;\n    - /analyzer run\n  artifacts:\n    reports:\n      sast: gl-sast-report.json\n    expire_in: 1 week\n\ncustom-secrets-scan:\n  extends: .security-scan-template\n  image: trufflesecurity/trufflehog:latest\n  script:\n    - echo \u0026quot;Scanning for secrets with TruffleHog...\u0026quot;\n    - trufflehog git file://. --json \u0026gt; trufflehog-report.json\n    - |\n      if [ -s trufflehog-report.json ]; then\n        echo \u0026quot;Secrets detected!\u0026quot;\n        cat trufflehog-report.json\n        exit 1\n      fi\n  artifacts:\n    reports:\n      secret_detection: trufflehog-report.json\n    expire_in: 1 week\n\nimage-vulnerability-scan:\n  extends: .security-scan-template\n  image: aquasec/trivy:latest\n  script:\n    - echo \u0026quot;Scanning Docker images for vulnerabilities...\u0026quot;\n    - trivy image --format template --template \u0026quot;@contrib/gitlab.tpl\u0026quot; \\$CI_REGISTRY_IMAGE:\\$CI_COMMIT_SHA\n  artifacts:\n    reports:\n      container_scanning: gl-container-scanning-report.json\n    expire_in: 1 week\nEOF\n\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"backup-and-disaster-recovery\" class=\"mobile-header\"\u003eBackup and Disaster Recovery\u003c/h2\u003e\n\u003ch3 id=\"enterprise-backup-strategy\" class=\"mobile-header\"\u003eEnterprise Backup Strategy\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003esudo tee /usr/local/bin/gitlab-backup.sh \u0026gt; /dev/null \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\nBACKUP_DIR=\u0026quot;/backup/gitlab\u0026quot;\nDATE=$(date +%Y%m%d_%H%M%S)\n\nmkdir -p ${BACKUP_DIR}/{omnibus,secrets,ssl,logs}\n\n# Create GitLab backup\ngitlab-backup create STRATEGY=copy SKIP=uploads,builds,artifacts,lfs,registry,pages\n\n# Backup configuration files\ntar -czf ${BACKUP_DIR}/omnibus/gitlab-config-${DATE}.tar.gz \\\n    /etc/gitlab/gitlab.rb \\\n    /etc/gitlab/gitlab-secrets.json\n\n# Backup SSL certificates\ntar -czf ${BACKUP_DIR}/ssl/gitlab-ssl-${DATE}.tar.gz \\\n    /etc/gitlab/ssl/ \\\n    /etc/letsencrypt/\n\n# Backup secrets\ntar -czf ${BACKUP_DIR}/secrets/gitlab-secrets-${DATE}.tar.gz \\\n    /etc/gitlab/secrets/\n\n# Upload to multiple cloud storage backends\naws s3 cp ${BACKUP_DIR}/ s3://gitlab-backups/ --recursive\naz storage blob upload-batch --source ${BACKUP_DIR} --destination gitlab-backups\ngsutil cp -r ${BACKUP_DIR}/* gs://gitlab-backups/\n\n# Geo-replication backup (Enterprise)\nif command -v gitlab-rake \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    gitlab-rake gitlab:geo:check\n    gitlab-rake geo:status\nfi\n\n# Test backup integrity\nLATEST_BACKUP=$(ls -t /var/opt/gitlab/backups/*_gitlab_backup.tar | head -1)\nif [ -n \u0026quot;$LATEST_BACKUP\u0026quot; ]; then\n    echo \u0026quot;Latest backup: $LATEST_BACKUP\u0026quot;\n    tar -tf \u0026quot;$LATEST_BACKUP\u0026quot; \u0026gt; /tmp/backup-contents.txt\n    if [ $? -eq 0 ]; then\n        echo \u0026quot;✓ Backup integrity verified\u0026quot;\n    else\n        echo \u0026quot;✗ Backup integrity check failed\u0026quot;\n    fi\nfi\n\n# Keep only last 7 backups locally\nfind /var/opt/gitlab/backups/ -name \u0026quot;*_gitlab_backup.tar\u0026quot; -mtime +7 -delete\nfind ${BACKUP_DIR} -name \u0026quot;gitlab-*\u0026quot; -type f -mtime +7 -delete\n\necho \u0026quot;GitLab backup completed: ${DATE}\u0026quot;\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-backup.sh\n\n# Schedule daily backups\necho \u0026quot;0 2 * * * root /usr/local/bin/gitlab-backup.sh\u0026quot; | sudo tee -a /etc/crontab\n\n# Create disaster recovery script\nsudo tee /usr/local/bin/gitlab-restore.sh \u0026gt; /dev/null \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\nBACKUP_FILE=\u0026quot;${1}\u0026quot;\n\nif [ -z \u0026quot;$BACKUP_FILE\u0026quot; ]; then\n    echo \u0026quot;Usage: $0 \u0026lt;backup_file\u0026gt;\u0026quot;\n    echo \u0026quot;Available backups:\u0026quot;\n    ls -la /var/opt/gitlab/backups/*_gitlab_backup.tar\n    exit 1\nfi\n\n# Stop GitLab services\ngitlab-ctl stop unicorn\ngitlab-ctl stop puma\ngitlab-ctl stop sidekiq\n\n# Restore from backup\ngitlab-backup restore BACKUP=$(basename $BACKUP_FILE _gitlab_backup.tar) force=yes\n\n# Restore configuration\nif [ -f \u0026quot;/backup/gitlab/omnibus/gitlab-config-latest.tar.gz\u0026quot; ]; then\n    cd /\n    tar -xzf /backup/gitlab/omnibus/gitlab-config-latest.tar.gz\nfi\n\n# Reconfigure and restart\ngitlab-ctl reconfigure\ngitlab-ctl restart\n\n# Verify installation\ngitlab-rake gitlab:check SANITIZE=true\n\necho \u0026quot;GitLab restore completed\u0026quot;\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-restore.sh\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"high-availability-setup\" class=\"mobile-header\"\u003eHigh Availability Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure GitLab for HA with external services\nsudo tee /etc/gitlab/gitlab.rb \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n# GitLab High Availability Configuration\n\nexternal_url \u0026#039;https://gitlab.example.com\u0026#039;\n\n# Disable built-in services (use external)\npostgresql[\u0026#039;enable\u0026#039;] = false\nredis[\u0026#039;enable\u0026#039;] = false\nnginx[\u0026#039;enable\u0026#039;] = true\nunicorn[\u0026#039;enable\u0026#039;] = true\nsidekiq[\u0026#039;enable\u0026#039;] = true\ngitlab_workhorse[\u0026#039;enable\u0026#039;] = true\ngitaly[\u0026#039;enable\u0026#039;] = true\n\n# External PostgreSQL\ngitlab_rails[\u0026#039;db_adapter\u0026#039;] = \u0026#039;postgresql\u0026#039;\ngitlab_rails[\u0026#039;db_encoding\u0026#039;] = \u0026#039;unicode\u0026#039;\ngitlab_rails[\u0026#039;db_host\u0026#039;] = \u0026#039;postgres-master.example.com\u0026#039;\ngitlab_rails[\u0026#039;db_port\u0026#039;] = 5432\ngitlab_rails[\u0026#039;db_database\u0026#039;] = \u0026#039;gitlabhq_production\u0026#039;\ngitlab_rails[\u0026#039;db_username\u0026#039;] = \u0026#039;gitlab\u0026#039;\ngitlab_rails[\u0026#039;db_password\u0026#039;] = \u0026#039;secure_db_password\u0026#039;\ngitlab_rails[\u0026#039;db_load_balancing\u0026#039;] = {\n  \u0026#039;hosts\u0026#039; =\u0026gt; [\u0026#039;postgres-slave1.example.com\u0026#039;, \u0026#039;postgres-slave2.example.com\u0026#039;]\n}\n\n# External Redis\ngitlab_rails[\u0026#039;redis_host\u0026#039;] = \u0026#039;redis-master.example.com\u0026#039;\ngitlab_rails[\u0026#039;redis_port\u0026#039;] = 6379\ngitlab_rails[\u0026#039;redis_password\u0026#039;] = \u0026#039;redis_secure_password\u0026#039;\ngitlab_rails[\u0026#039;redis_sentinels\u0026#039;] = [\n  {\u0026#039;host\u0026#039; =\u0026gt; \u0026#039;redis-sentinel1.example.com\u0026#039;, \u0026#039;port\u0026#039; =\u0026gt; 26379},\n  {\u0026#039;host\u0026#039; =\u0026gt; \u0026#039;redis-sentinel2.example.com\u0026#039;, \u0026#039;port\u0026#039; =\u0026gt; 26379},\n  {\u0026#039;host\u0026#039; =\u0026gt; \u0026#039;redis-sentinel3.example.com\u0026#039;, \u0026#039;port\u0026#039; =\u0026gt; 26379}\n]\n\n# Load balancing\nnginx[\u0026#039;listen_addresses\u0026#039;] = [\u0026#039;0.0.0.0\u0026#039;]\nnginx[\u0026#039;real_ip_header\u0026#039;] = \u0026#039;X-Forwarded-For\u0026#039;\nnginx[\u0026#039;real_ip_recursive\u0026#039;] = \u0026#039;on\u0026#039;\nnginx[\u0026#039;real_ip_trusted_addresses\u0026#039;] = [\u0026#039;10.0.0.0/8\u0026#039;, \u0026#039;172.16.0.0/12\u0026#039;, \u0026#039;192.168.0.0/16\u0026#039;]\n\n# Gitaly cluster (Enterprise)\ngit_data_dirs({\n  \u0026#039;default\u0026#039; =\u0026gt; {\n    \u0026#039;gitaly_address\u0026#039; =\u0026gt; \u0026#039;tcp://gitaly1.example.com:8075\u0026#039;,\n    \u0026#039;gitaly_token\u0026#039; =\u0026gt; \u0026#039;gitaly_secure_token\u0026#039;\n  },\n  \u0026#039;storage1\u0026#039; =\u0026gt; {\n    \u0026#039;gitaly_address\u0026#039; =\u0026gt; \u0026#039;tcp://gitaly2.example.com:8075\u0026#039;,\n    \u0026#039;gitaly_token\u0026#039; =\u0026gt; \u0026#039;gitaly_secure_token\u0026#039;\n  }\n})\n\n# Object storage (S3-compatible)\ngitlab_rails[\u0026#039;object_store\u0026#039;][\u0026#039;enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;object_store\u0026#039;][\u0026#039;proxy_download\u0026#039;] = true\ngitlab_rails[\u0026#039;object_store\u0026#039;][\u0026#039;connection\u0026#039;] = {\n  \u0026#039;provider\u0026#039; =\u0026gt; \u0026#039;AWS\u0026#039;,\n  \u0026#039;region\u0026#039; =\u0026gt; \u0026#039;us-west-2\u0026#039;,\n  \u0026#039;aws_access_key_id\u0026#039; =\u0026gt; \u0026#039;object_store_access_key\u0026#039;,\n  \u0026#039;aws_secret_access_key\u0026#039; =\u0026gt; \u0026#039;object_store_secret_key\u0026#039;\n}\ngitlab_rails[\u0026#039;object_store\u0026#039;][\u0026#039;objects\u0026#039;][\u0026#039;artifacts\u0026#039;][\u0026#039;bucket\u0026#039;] = \u0026#039;gitlab-artifacts\u0026#039;\ngitlab_rails[\u0026#039;object_store\u0026#039;][\u0026#039;objects\u0026#039;][\u0026#039;lfs\u0026#039;][\u0026#039;bucket\u0026#039;] = \u0026#039;gitlab-lfs\u0026#039;\ngitlab_rails[\u0026#039;object_store\u0026#039;][\u0026#039;objects\u0026#039;][\u0026#039;uploads\u0026#039;][\u0026#039;bucket\u0026#039;] = \u0026#039;gitlab-uploads\u0026#039;\ngitlab_rails[\u0026#039;object_store\u0026#039;][\u0026#039;objects\u0026#039;][\u0026#039;packages\u0026#039;][\u0026#039;bucket\u0026#039;] = \u0026#039;gitlab-packages\u0026#039;\n\n# Geo replication (Enterprise Premium)\ngitlab_rails[\u0026#039;geo_primary_role\u0026#039;] = true  # Set to false for secondary\ngitlab_rails[\u0026#039;geo_node_name\u0026#039;] = \u0026#039;primary-site\u0026#039;\ngitlab_rails[\u0026#039;geo_registry_replication_enabled\u0026#039;] = true\nEOF\n\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"container-registry-and-package-management\" class=\"mobile-header\"\u003eContainer Registry and Package Management\u003c/h2\u003e\n\u003ch3 id=\"secure-container-registry-setup\" class=\"mobile-header\"\u003eSecure Container Registry Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure container registry with security scanning\nsudo tee -a /etc/gitlab/gitlab.rb \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n\n# Container Registry configuration\nregistry_external_url \u0026#039;https://registry.example.com\u0026#039;\ngitlab_rails[\u0026#039;registry_enabled\u0026#039;] = true\nregistry[\u0026#039;enable\u0026#039;] = true\n\n# Registry storage\nregistry[\u0026#039;storage\u0026#039;] = {\n  \u0026#039;s3\u0026#039; =\u0026gt; {\n    \u0026#039;accesskey\u0026#039; =\u0026gt; \u0026#039;registry_s3_access_key\u0026#039;,\n    \u0026#039;secretkey\u0026#039; =\u0026gt; \u0026#039;registry_s3_secret_key\u0026#039;,\n    \u0026#039;bucket\u0026#039; =\u0026gt; \u0026#039;gitlab-registry\u0026#039;,\n    \u0026#039;region\u0026#039; =\u0026gt; \u0026#039;us-west-2\u0026#039;,\n    \u0026#039;encrypt\u0026#039; =\u0026gt; true\n  }\n}\n\n# Registry security\nregistry[\u0026#039;auth_token_realm\u0026#039;] = \u0026quot;https://gitlab.example.com/jwt/auth\u0026quot;\nregistry[\u0026#039;auth_token_service\u0026#039;] = \u0026quot;container_registry\u0026quot;\nregistry[\u0026#039;auth_token_issuer\u0026#039;] = \u0026quot;gitlab-issuer\u0026quot;\nregistry[\u0026#039;auth_token_autoredirect\u0026#039;] = false\n\n# Health checks\nregistry[\u0026#039;health_storagedriver_enabled\u0026#039;] = true\nregistry[\u0026#039;health_storagedriver_interval\u0026#039;] = \u0026#039;10s\u0026#039;\nregistry[\u0026#039;health_storagedriver_threshold\u0026#039;] = 3\n\n# Container scanning\ngitlab_rails[\u0026#039;container_registry_token_expire_delay\u0026#039;] = 300\ngitlab_rails[\u0026#039;container_registry_cleanup_enabled\u0026#039;] = true\n\n# Image retention policies\nregistry[\u0026#039;middleware\u0026#039;] = {\n  \u0026#039;repository\u0026#039; =\u0026gt; [\n    {\n      \u0026#039;name\u0026#039; =\u0026gt; \u0026#039;cloudfront\u0026#039;,\n      \u0026#039;disabled\u0026#039; =\u0026gt; false,\n      \u0026#039;options\u0026#039; =\u0026gt; {\n        \u0026#039;baseurl\u0026#039; =\u0026gt; \u0026#039;https://registry-cdn.example.com\u0026#039;,\n        \u0026#039;privatekey\u0026#039; =\u0026gt; \u0026#039;/etc/gitlab/registry-cdn-private-key.pem\u0026#039;,\n        \u0026#039;keypairid\u0026#039; =\u0026gt; \u0026#039;CLOUDFRONT_KEY_PAIR_ID\u0026#039;,\n        \u0026#039;duration\u0026#039; =\u0026gt; \u0026#039;3600s\u0026#039;\n      }\n    }\n  ]\n}\n\n# Package registry\ngitlab_rails[\u0026#039;packages_enabled\u0026#039;] = true\ngitlab_rails[\u0026#039;packages_storage_path\u0026#039;] = \u0026quot;/var/opt/gitlab/gitlab-rails/shared/packages\u0026quot;\nEOF\n\n# Create container registry cleanup policy\ncat \u0026gt; registry-cleanup-policy.json \u0026lt;\u0026lt;EOF\n{\n  \u0026quot;name_regex\u0026quot;: \u0026quot;.*\u0026quot;,\n  \u0026quot;name_regex_keep\u0026quot;: \u0026quot;v\\\\d+\\\\.\\\\d+\\\\.\\\\d+\u0026quot;,\n  \u0026quot;cadence\u0026quot;: \u0026quot;7d\u0026quot;,\n  \u0026quot;older_than\u0026quot;: \u0026quot;30d\u0026quot;,\n  \u0026quot;keep_n\u0026quot;: 10\n}\nEOF\n\n# Apply cleanup policy via API\ncurl --request PUT --header \u0026quot;PRIVATE-TOKEN: ${ADMIN_TOKEN}\u0026quot; \\\n  --header \u0026quot;Content-Type: application/json\u0026quot; \\\n  --data @registry-cleanup-policy.json \\\n  \u0026quot;${GITLAB_URL}/api/v4/projects/${PROJECT_ID}/registry/repositories/1\u0026quot;\n\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"monitoring-and-observability\" class=\"mobile-header\"\u003eMonitoring and Observability\u003c/h2\u003e\n\u003ch3 id=\"comprehensive-monitoring-setup\" class=\"mobile-header\"\u003eComprehensive Monitoring Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable built-in monitoring stack\nsudo tee -a /etc/gitlab/gitlab.rb \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n\n# Prometheus monitoring\nprometheus_monitoring[\u0026#039;enable\u0026#039;] = true\nprometheus[\u0026#039;enable\u0026#039;] = true\nprometheus[\u0026#039;monitor_kubernetes\u0026#039;] = true\nprometheus[\u0026#039;scrape_configs\u0026#039;] = [\n  {\n    \u0026#039;job_name\u0026#039; =\u0026gt; \u0026#039;gitlab-workhorse\u0026#039;,\n    \u0026#039;static_configs\u0026#039; =\u0026gt; [\n      { \u0026#039;targets\u0026#039; =\u0026gt; [\u0026#039;localhost:9229\u0026#039;] }\n    ]\n  },\n  {\n    \u0026#039;job_name\u0026#039; =\u0026gt; \u0026#039;gitlab-unicorn\u0026#039;,  \n    \u0026#039;static_configs\u0026#039; =\u0026gt; [\n      { \u0026#039;targets\u0026#039; =\u0026gt; [\u0026#039;localhost:8080\u0026#039;] }\n    ]\n  },\n  {\n    \u0026#039;job_name\u0026#039; =\u0026gt; \u0026#039;gitlab-sidekiq\u0026#039;,\n    \u0026#039;static_configs\u0026#039; =\u0026gt; [\n      { \u0026#039;targets\u0026#039; =\u0026gt; [\u0026#039;localhost:8082\u0026#039;] }\n    ]\n  },\n  {\n    \u0026#039;job_name\u0026#039; =\u0026gt; \u0026#039;gitlab-pages\u0026#039;,\n    \u0026#039;static_configs\u0026#039; =\u0026gt; [\n      { \u0026#039;targets\u0026#039; =\u0026gt; [\u0026#039;localhost:8090\u0026#039;] }\n    ]\n  },\n  {\n    \u0026#039;job_name\u0026#039; =\u0026gt; \u0026#039;docker-registry\u0026#039;,\n    \u0026#039;static_configs\u0026#039; =\u0026gt; [\n      { \u0026#039;targets\u0026#039; =\u0026gt; [\u0026#039;localhost:5001\u0026#039;] }\n    ]\n  }\n]\n\n# Grafana configuration\ngrafana[\u0026#039;enable\u0026#039;] = true\ngrafana[\u0026#039;admin_password\u0026#039;] = \u0026#039;secure_grafana_password\u0026#039;\ngrafana[\u0026#039;disable_login_form\u0026#039;] = false\ngrafana[\u0026#039;allow_user_sign_up\u0026#039;] = false\n\n# Grafana LDAP integration\ngrafana[\u0026#039;ldap_enabled\u0026#039;] = true\ngrafana[\u0026#039;ldap_allow_sign_up\u0026#039;] = false\ngrafana[\u0026#039;ldap_servers\u0026#039;] = [{\n  \u0026#039;host\u0026#039; =\u0026gt; \u0026#039;ldap.example.com\u0026#039;,\n  \u0026#039;port\u0026#039; =\u0026gt; 636,\n  \u0026#039;uid\u0026#039; =\u0026gt; \u0026#039;sAMAccountName\u0026#039;,\n  \u0026#039;bind_dn\u0026#039; =\u0026gt; \u0026#039;CN=grafana,OU=Service Accounts,DC=example,DC=com\u0026#039;,\n  \u0026#039;password\u0026#039; =\u0026gt; \u0026#039;ldap_service_password\u0026#039;,\n  \u0026#039;encryption\u0026#039; =\u0026gt; \u0026#039;ssl\u0026#039;,\n  \u0026#039;base\u0026#039; =\u0026gt; \u0026#039;DC=example,DC=com\u0026#039;,\n  \u0026#039;user_filter\u0026#039; =\u0026gt; \u0026#039;\u0026#039;,\n  \u0026#039;group_base\u0026#039; =\u0026gt; \u0026#039;OU=Groups,DC=example,DC=com\u0026#039;,\n  \u0026#039;admin_group\u0026#039; =\u0026gt; \u0026#039;GitLab Administrators\u0026#039;\n}]\n\n# Node Exporter\nnode_exporter[\u0026#039;enable\u0026#039;] = true\nnode_exporter[\u0026#039;listen_address\u0026#039;] = \u0026#039;localhost:9100\u0026#039;\n\n# Alert Manager\nalertmanager[\u0026#039;enable\u0026#039;] = true\nalertmanager[\u0026#039;admin_email\u0026#039;] = \u0026#039;alerts@example.com\u0026#039;\nalertmanager[\u0026#039;flags\u0026#039;] = {\n  \u0026#039;storage.path\u0026#039; =\u0026gt; \u0026#039;/var/opt/gitlab/alertmanager/data\u0026#039;,\n  \u0026#039;config.file\u0026#039; =\u0026gt; \u0026#039;/var/opt/gitlab/alertmanager/alertmanager.yml\u0026#039;\n}\n\n# Log forwarding\nlogging[\u0026#039;logrotate_frequency\u0026#039;] = \u0026quot;daily\u0026quot;\nlogging[\u0026#039;logrotate_rotate\u0026#039;] = 30\nlogging[\u0026#039;logrotate_compress\u0026#039;] = \u0026quot;compress\u0026quot;\nlogging[\u0026#039;svlogd_size\u0026#039;] = 200 * 1024 * 1024  # 200MB\nlogging[\u0026#039;svlogd_num\u0026#039;] = 30\nEOF\n\n# Create custom alerting rules\nsudo mkdir -p /var/opt/gitlab/alertmanager\n\nsudo tee /var/opt/gitlab/alertmanager/alertmanager.yml \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\nglobal:\n  smtp_smarthost: \u0026#039;smtp.example.com:587\u0026#039;\n  smtp_from: \u0026#039;gitlab-alerts@example.com\u0026#039;\n  smtp_auth_username: \u0026#039;gitlab-alerts@example.com\u0026#039;\n  smtp_auth_password: \u0026#039;smtp_password\u0026#039;\n\nroute:\n  group_by: [\u0026#039;alertname\u0026#039;, \u0026#039;cluster\u0026#039;, \u0026#039;service\u0026#039;]\n  group_wait: 30s\n  group_interval: 5m\n  repeat_interval: 12h\n  receiver: \u0026#039;gitlab-alerts\u0026#039;\n  routes:\n  - match:\n      severity: critical\n    receiver: \u0026#039;critical-alerts\u0026#039;\n    group_wait: 10s\n    repeat_interval: 5m\n\nreceivers:\n- name: \u0026#039;gitlab-alerts\u0026#039;\n  email_configs:\n  - to: \u0026#039;gitlab-admin@example.com\u0026#039;\n    subject: \u0026#039;GitLab Alert: {{ .GroupLabels.alertname }}\u0026#039;\n    body: |\n      {{ range .Alerts }}\n      Alert: {{ .Annotations.summary }}\n      Description: {{ .Annotations.description }}\n      Instance: {{ .Labels.instance }}\n      {{ end }}\n\n- name: \u0026#039;critical-alerts\u0026#039;\n  email_configs:\n  - to: \u0026#039;oncall@example.com\u0026#039;\n    subject: \u0026#039;CRITICAL GitLab Alert: {{ .GroupLabels.alertname }}\u0026#039;\n  slack_configs:\n  - api_url: \u0026#039;https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK\u0026#039;\n    channel: \u0026#039;#critical-alerts\u0026#039;\n    title: \u0026#039;Critical GitLab Alert\u0026#039;\nEOF\n\nsudo gitlab-ctl reconfigure\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"performance-monitoring\" class=\"mobile-header\"\u003ePerformance Monitoring\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create GitLab performance monitoring script\nsudo tee /usr/local/bin/gitlab-performance-monitor.sh \u0026gt; /dev/null \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\nMONITOR_LOG=\u0026quot;/var/log/gitlab-performance.log\u0026quot;\n\nlog_message() {\n    echo \u0026quot;$(date \u0026#039;+%Y-%m-%d %H:%M:%S\u0026#039;) - $1\u0026quot; | tee -a ${MONITOR_LOG}\n}\n\n# Check GitLab service health\nfor service in unicorn sidekiq workhorse gitaly; do\n    if gitlab-ctl status $service | grep -q \u0026quot;run:\u0026quot;; then\n        log_message \u0026quot;✓ $service is running\u0026quot;\n    else\n        log_message \u0026quot;✗ $service is not running\u0026quot;\n    fi\ndone\n\n# Check database performance\nDB_CONNECTIONS=$(gitlab-psql -c \u0026quot;SELECT count(*) FROM pg_stat_activity;\u0026quot; -t)\nlog_message \u0026quot;ℹ Database connections: ${DB_CONNECTIONS}\u0026quot;\n\n# Check Redis performance  \nREDIS_MEMORY=$(redis-cli info memory | grep used_memory_human: | cut -d: -f2)\nlog_message \u0026quot;ℹ Redis memory usage: ${REDIS_MEMORY}\u0026quot;\n\n# Check Git repository storage\nREPO_SIZE=$(du -sh /var/opt/gitlab/git-data/repositories | cut -f1)\nlog_message \u0026quot;ℹ Repository storage usage: ${REPO_SIZE}\u0026quot;\n\n# Check background job queue\nSIDEKIQ_QUEUE=$(gitlab-rails runner \u0026quot;puts Sidekiq::Queue.new.size\u0026quot;)\nlog_message \u0026quot;ℹ Sidekiq queue size: ${SIDEKIQ_QUEUE}\u0026quot;\n\n# Check GitLab metrics\nGITLAB_VERSION=$(gitlab-rake gitlab:env:info | grep \u0026quot;GitLab information\u0026quot; -A 10 | grep \u0026quot;Version:\u0026quot; | awk \u0026#039;{print $2}\u0026#039;)\nlog_message \u0026quot;ℹ GitLab version: ${GITLAB_VERSION}\u0026quot;\n\n# Performance metrics via API\nAPI_RESPONSE_TIME=$(curl -w \u0026quot;%{time_total}\u0026quot; -s -o /dev/null https://gitlab.example.com/api/v4/projects)\nlog_message \u0026quot;ℹ API response time: ${API_RESPONSE_TIME}s\u0026quot;\n\n# Check disk I/O\nDISK_USAGE=$(df /var/opt/gitlab | awk \u0026#039;NR==2 {print $5}\u0026#039; | sed \u0026#039;s/%//\u0026#039;)\nlog_message \u0026quot;ℹ Disk usage: ${DISK_USAGE}%\u0026quot;\n\nif [ ${DISK_USAGE} -gt 85 ]; then\n    log_message \u0026quot;⚠ High disk usage detected\u0026quot;\nfi\n\nlog_message \u0026quot;Performance monitoring completed\u0026quot;\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-performance-monitor.sh\n\n# Schedule performance monitoring\necho \u0026quot;*/15 * * * * root /usr/local/bin/gitlab-performance-monitor.sh\u0026quot; | sudo tee -a /etc/crontab\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"gitlab-runner-advanced-configuration\" class=\"mobile-header\"\u003eGitLab Runner Advanced Configuration\u003c/h2\u003e\n\u003ch3 id=\"secure-multi-platform-runner-setup\" class=\"mobile-header\"\u003eSecure Multi-Platform Runner Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create advanced runner configuration with security\nsudo tee /etc/gitlab-runner/config.toml \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\nconcurrent = 10\ncheck_interval = 0\nlog_level = \u0026quot;info\u0026quot;\nlog_format = \u0026quot;runner\u0026quot;\nshutdown_timeout = 30\n\n[session_server]\n  session_timeout = 1800\n\n# Docker executor with security hardening\n[[runners]]\n  name = \u0026quot;docker-secure-runner\u0026quot;\n  url = \u0026quot;https://gitlab.example.com/\u0026quot;\n  token = \u0026quot;secure_runner_token\u0026quot;\n  executor = \u0026quot;docker\u0026quot;\n  output_limit = 4096\n  \n  # Security scripts\n  pre_clone_script = \u0026quot;\u0026quot;\u0026quot;\n    echo \u0026#039;Security scan initiated\u0026#039;\n    id\n    pwd\n    env | grep -E \u0026#039;^(CI_|GITLAB_)\u0026#039; | sort\n  \u0026quot;\u0026quot;\u0026quot;\n  \n  pre_build_script = \u0026quot;\u0026quot;\u0026quot;\n    echo \u0026#039;Preparing secure build environment\u0026#039;\n    # Verify no sensitive data in environment\n    if env | grep -i -E \u0026#039;(password|secret|key|token)\u0026#039; | grep -v -E \u0026#039;^(CI_JOB_TOKEN|GITLAB_CI|CI_SERVER)\u0026#039;; then\n      echo \u0026#039;ERROR: Sensitive data detected in environment\u0026#039;\n      exit 1\n    fi\n  \u0026quot;\u0026quot;\u0026quot;\n  \n  post_build_script = \u0026quot;\u0026quot;\u0026quot;\n    echo \u0026#039;Cleaning up build artifacts\u0026#039;\n    rm -rf /tmp/* 2\u0026gt;/dev/null || true\n  \u0026quot;\u0026quot;\u0026quot;\n  \n  [runners.docker]\n    tls_verify = false\n    image = \u0026quot;alpine:latest\u0026quot;\n    privileged = false\n    disable_entrypoint_overwrite = false\n    oom_kill_disable = false\n    disable_cache = false\n    volumes = [\u0026quot;/cache\u0026quot;, \u0026quot;/certs/client\u0026quot;]\n    shm_size = 268435456  # 256MB\n    \n    # Security restrictions\n    cap_drop = [\u0026quot;ALL\u0026quot;]\n    cap_add = [\u0026quot;CHOWN\u0026quot;, \u0026quot;SETGID\u0026quot;, \u0026quot;SETUID\u0026quot;]\n    security_opt = [\u0026quot;no-new-privileges:true\u0026quot;, \u0026quot;apparmor:unconfined\u0026quot;]\n    \n    # Resource limits\n    memory = \u0026quot;2g\u0026quot;\n    memory_swap = \u0026quot;2g\u0026quot;\n    memory_reservation = \u0026quot;1g\u0026quot;\n    cpus = \u0026quot;2\u0026quot;\n    \n    # Network security\n    network_mode = \u0026quot;bridge\u0026quot;\n    dns = [\u0026quot;8.8.8.8\u0026quot;, \u0026quot;8.8.4.4\u0026quot;]\n    \n    # Disable dangerous features\n    disable_entrypoint_overwrite = true\n    \n    # Image pull policy\n    pull_policy = [\u0026quot;if-not-present\u0026quot;]\n    \n  [runners.docker.tmpfs]\n    \u0026quot;/tmp\u0026quot; = \u0026quot;rw,noexec,nosuid,size=100m\u0026quot;\n    \u0026quot;/var/tmp\u0026quot; = \u0026quot;rw,noexec,nosuid,size=100m\u0026quot;\n\n# Kubernetes executor (Enterprise recommended)\n[[runners]]\n  name = \u0026quot;k8s-secure-runner\u0026quot;\n  url = \u0026quot;https://gitlab.example.com/\u0026quot;\n  token = \u0026quot;k8s_runner_token\u0026quot;\n  executor = \u0026quot;kubernetes\u0026quot;\n  \n  [runners.kubernetes]\n    host = \u0026quot;https://k8s.example.com:6443\u0026quot;\n    namespace = \u0026quot;gitlab-runner\u0026quot;\n    privileged = false\n    image = \u0026quot;alpine:latest\u0026quot;\n    \n    # Security context\n    run_as_user = 1000\n    run_as_group = 1000\n    fs_group = 1000\n    \n    # Resource limits\n    memory_limit = \u0026quot;4Gi\u0026quot;\n    memory_request = \u0026quot;2Gi\u0026quot;\n    cpu_limit = \u0026quot;2000m\u0026quot;\n    cpu_request = \u0026quot;1000m\u0026quot;\n    \n    # Security policies\n    [runners.kubernetes.pod_security_context]\n      run_as_non_root = true\n      run_as_user = 1000\n      run_as_group = 1000\n      fs_group = 1000\n      seccomp_profile_type = \u0026quot;RuntimeDefault\u0026quot;\n      \n    [runners.kubernetes.container_security_context]\n      allow_privilege_escalation = false\n      read_only_root_filesystem = true\n      capabilities = { drop = [\u0026quot;ALL\u0026quot;] }\n      \n    # Volume mounts for security\n    [[runners.kubernetes.volumes.empty_dir]]\n      name = \u0026quot;tmp\u0026quot;\n      mount_path = \u0026quot;/tmp\u0026quot;\n      medium = \u0026quot;Memory\u0026quot;\n      \n    [[runners.kubernetes.volumes.empty_dir]]\n      name = \u0026quot;var-tmp\u0026quot;\n      mount_path = \u0026quot;/var/tmp\u0026quot;\n      medium = \u0026quot;Memory\u0026quot;\n\n# Shell executor for specific tasks (limited use)\n[[runners]]\n  name = \u0026quot;shell-restricted-runner\u0026quot;\n  url = \u0026quot;https://gitlab.example.com/\u0026quot;\n  token = \u0026quot;shell_runner_token\u0026quot;\n  executor = \u0026quot;shell\u0026quot;\n  shell = \u0026quot;bash\u0026quot;\n  \n  # Restricted tags only\n  tag_list = [\u0026quot;shell\u0026quot;, \u0026quot;restricted\u0026quot;]\n  run_untagged = false\n  locked = true\n  \n  # Security environment\n  environment = [\n    \u0026quot;PATH=/usr/local/bin:/usr/bin:/bin\u0026quot;,\n    \u0026quot;HOME=/home/gitlab-runner\u0026quot;,\n    \u0026quot;SHELL=/bin/bash\u0026quot;\n  ]\n  \n  # Cleanup\n  builds_dir = \u0026quot;/home/gitlab-runner/builds\u0026quot;\n  cache_dir = \u0026quot;/home/gitlab-runner/cache\u0026quot;\n  \n  [runners.cache]\n    Type = \u0026quot;s3\u0026quot;\n    [runners.cache.s3]\n      ServerAddress = \u0026quot;s3.amazonaws.com\u0026quot;\n      BucketName = \u0026quot;gitlab-runner-cache\u0026quot;\n      BucketLocation = \u0026quot;us-west-2\u0026quot;\n      Insecure = false\nEOF\n\nsudo systemctl restart gitlab-runner\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"gitlab-runner-auto-scaling-cloud\" class=\"mobile-header\"\u003eGitLab Runner Auto-scaling (Cloud)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure GitLab Runner with Docker Machine for auto-scaling\nsudo tee /etc/gitlab-runner/autoscale-config.toml \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\nconcurrent = 50\ncheck_interval = 0\n\n[[runners]]\n  name = \u0026quot;autoscale-runner\u0026quot;\n  url = \u0026quot;https://gitlab.example.com/\u0026quot;\n  token = \u0026quot;autoscale_runner_token\u0026quot;\n  executor = \u0026quot;docker+machine\u0026quot;\n  \n  [runners.docker]\n    image = \u0026quot;alpine:latest\u0026quot;\n    privileged = false\n    disable_cache = false\n    volumes = [\u0026quot;/cache\u0026quot;]\n    \n    # Security\n    cap_drop = [\u0026quot;ALL\u0026quot;]\n    security_opt = [\u0026quot;no-new-privileges:true\u0026quot;]\n    \n  [runners.machine]\n    IdleCount = 2\n    IdleTime = 1800\n    MaxBuilds = 20\n    MachineName = \u0026quot;gitlab-runner-%s\u0026quot;\n    MachineDriver = \u0026quot;amazonec2\u0026quot;\n    \n    # AWS EC2 configuration\n    [runners.machine.autoscaling]\n      Periods = [\u0026quot;* * 9-17 * * mon-fri *\u0026quot;, \u0026quot;* * 18-8 * * * *\u0026quot;]\n      IdleCount = [5, 1]\n      IdleTime = [1800, 3600]\n      Timezone = \u0026quot;UTC\u0026quot;\n    \n    # Machine options for security\n    [runners.machine.machineoptions]\n      amazonec2-access-key = \u0026quot;aws_access_key\u0026quot;\n      amazonec2-secret-key = \u0026quot;aws_secret_key\u0026quot;\n      amazonec2-region = \u0026quot;us-west-2\u0026quot;\n      amazonec2-vpc-id = \u0026quot;vpc-12345678\u0026quot;\n      amazonec2-subnet-id = \u0026quot;subnet-87654321\u0026quot;\n      amazonec2-security-group = \u0026quot;gitlab-runner-sg\u0026quot;\n      amazonec2-instance-type = \u0026quot;t3.medium\u0026quot;\n      amazonec2-ami = \u0026quot;ami-0c02fb55956c7d316\u0026quot;  # Amazon Linux 2\n      amazonec2-iam-instance-profile = \u0026quot;GitLabRunnerInstanceProfile\u0026quot;\n      amazonec2-use-private-address = \u0026quot;true\u0026quot;\n      amazonec2-tags = \u0026quot;Name,gitlab-runner,Environment,production\u0026quot;\n      amazonec2-root-size = \u0026quot;20\u0026quot;\n      amazonec2-volume-type = \u0026quot;gp3\u0026quot;\n      amazonec2-use-ebs-optimized = \u0026quot;true\u0026quot;\n      \n  [runners.cache]\n    Type = \u0026quot;s3\u0026quot;\n    Shared = true\n    [runners.cache.s3]\n      ServerAddress = \u0026quot;s3.amazonaws.com\u0026quot;\n      AccessKey = \u0026quot;cache_access_key\u0026quot;\n      SecretKey = \u0026quot;cache_secret_key\u0026quot;  \n      BucketName = \u0026quot;gitlab-runner-cache\u0026quot;\n      BucketLocation = \u0026quot;us-west-2\u0026quot;\n      Insecure = false\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"verification-and-health-checks\" class=\"mobile-header\"\u003eVerification and Health Checks\u003c/h2\u003e\n\u003ch3 id=\"comprehensive-health-monitoring\" class=\"mobile-header\"\u003eComprehensive Health Monitoring\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003esudo tee /usr/local/bin/gitlab-health-check.sh \u0026gt; /dev/null \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\nHEALTH_LOG=\u0026quot;/var/log/gitlab-health.log\u0026quot;\n\nlog_message() {\n    echo \u0026quot;$(date \u0026#039;+%Y-%m-%d %H:%M:%S\u0026#039;) - $1\u0026quot; | tee -a ${HEALTH_LOG}\n}\n\n# Check GitLab service status\nif gitlab-ctl status | grep -q \u0026quot;down:\u0026quot;; then\n    log_message \u0026quot;⚠ Some GitLab services are down:\u0026quot;\n    gitlab-ctl status | grep \u0026quot;down:\u0026quot; | while read line; do\n        log_message \u0026quot;  - $line\u0026quot;\n    done\nelse\n    log_message \u0026quot;✓ All GitLab services are running\u0026quot;\nfi\n\n# Check GitLab application health\nif gitlab-rake gitlab:check \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    log_message \u0026quot;✓ GitLab application health check passed\u0026quot;\nelse\n    log_message \u0026quot;✗ GitLab application health check failed\u0026quot;\n    gitlab-rake gitlab:check | tail -10 \u0026gt;\u0026gt; ${HEALTH_LOG}\nfi\n\n# Check GitLab Runner connectivity\nRUNNERS_ONLINE=$(curl -s --header \u0026quot;PRIVATE-TOKEN: admin_token\u0026quot; https://gitlab.example.com/api/v4/runners | jq \u0026#039;[.[] | select(.status==\u0026quot;online\u0026quot;)] | length\u0026#039;)\nTOTAL_RUNNERS=$(curl -s --header \u0026quot;PRIVATE-TOKEN: admin_token\u0026quot; https://gitlab.example.com/api/v4/runners | jq \u0026#039;. | length\u0026#039;)\nlog_message \u0026quot;ℹ GitLab Runners: ${RUNNERS_ONLINE}/${TOTAL_RUNNERS} online\u0026quot;\n\n# Check database connectivity\nif gitlab-psql -c \u0026quot;SELECT version();\u0026quot; \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    log_message \u0026quot;✓ Database connection is healthy\u0026quot;\nelse\n    log_message \u0026quot;✗ Database connection issues\u0026quot;\nfi\n\n# Check Redis connectivity\nif redis-cli ping | grep -q \u0026quot;PONG\u0026quot;; then\n    log_message \u0026quot;✓ Redis connection is healthy\u0026quot;\nelse\n    log_message \u0026quot;✗ Redis connection issues\u0026quot;\nfi\n\n# Check container registry\nREGISTRY_STATUS=$(curl -s https://registry.example.com/v2/ | jq -r .message 2\u0026gt;/dev/null)\nif [ \u0026quot;$REGISTRY_STATUS\u0026quot; = \u0026quot;authentication required\u0026quot; ] || [ \u0026quot;$REGISTRY_STATUS\u0026quot; = \u0026quot;null\u0026quot; ]; then\n    log_message \u0026quot;✓ Container registry is responding\u0026quot;\nelse\n    log_message \u0026quot;⚠ Container registry issues\u0026quot;\nfi\n\n# Check backup status\nLAST_BACKUP=$(ls -t /var/opt/gitlab/backups/*_gitlab_backup.tar 2\u0026gt;/dev/null | head -1)\nif [ -n \u0026quot;$LAST_BACKUP\u0026quot; ]; then\n    BACKUP_AGE=$(stat -c %Y \u0026quot;$LAST_BACKUP\u0026quot;)\n    CURRENT_TIME=$(date +%s)\n    HOURS_SINCE_BACKUP=$(( (CURRENT_TIME - BACKUP_AGE) / 3600 ))\n    \n    if [ $HOURS_SINCE_BACKUP -lt 48 ]; then\n        log_message \u0026quot;✓ Recent backup available (${HOURS_SINCE_BACKUP} hours old)\u0026quot;\n    else\n        log_message \u0026quot;⚠ Last backup is ${HOURS_SINCE_BACKUP} hours old\u0026quot;\n    fi\nelse\n    log_message \u0026quot;✗ No backup files found\u0026quot;\nfi\n\n# Check SSL certificate expiry\nSSL_EXPIRY=$(echo | openssl s_client -servername gitlab.example.com -connect gitlab.example.com:443 2\u0026gt;/dev/null | openssl x509 -noout -dates | grep notAfter | cut -d= -f2)\nSSL_EXPIRY_EPOCH=$(date -d \u0026quot;$SSL_EXPIRY\u0026quot; +%s)\nCURRENT_EPOCH=$(date +%s)\nDAYS_TO_EXPIRY=$(( (SSL_EXPIRY_EPOCH - CURRENT_EPOCH) / 86400 ))\n\nif [ $DAYS_TO_EXPIRY -lt 30 ]; then\n    log_message \u0026quot;⚠ SSL certificate expires in ${DAYS_TO_EXPIRY} days\u0026quot;\nelse\n    log_message \u0026quot;✓ SSL certificate expires in ${DAYS_TO_EXPIRY} days\u0026quot;\nfi\n\n# Check system resources\nCPU_USAGE=$(top -bn1 | grep \u0026quot;Cpu(s)\u0026quot; | awk \u0026#039;{print $2}\u0026#039; | cut -d\u0026#039;%\u0026#039; -f1)\nMEMORY_USAGE=$(free | grep Mem | awk \u0026#039;{printf \u0026quot;%.0f\u0026quot;, $3/$2 * 100.0}\u0026#039;)\nlog_message \u0026quot;ℹ System usage - CPU: ${CPU_USAGE}%, Memory: ${MEMORY_USAGE}%\u0026quot;\n\nlog_message \u0026quot;GitLab health check completed\u0026quot;\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-health-check.sh\n\n# Schedule health checks every 15 minutes\necho \u0026quot;*/15 * * * * root /usr/local/bin/gitlab-health-check.sh\u0026quot; | sudo tee -a /etc/crontab\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"security-audit-and-compliance\" class=\"mobile-header\"\u003eSecurity Audit and Compliance\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003esudo tee /usr/local/bin/gitlab-security-audit.sh \u0026gt; /dev/null \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\nAUDIT_LOG=\u0026quot;/var/log/gitlab-security-audit.log\u0026quot;\nDATE=$(date +%Y%m%d_%H%M%S)\n\nlog_message() {\n    echo \u0026quot;$(date \u0026#039;+%Y-%m-%d %H:%M:%S\u0026#039;) - $1\u0026quot; | tee -a ${AUDIT_LOG}\n}\n\nlog_message \u0026quot;Starting GitLab security audit...\u0026quot;\n\n# Check user accounts with admin privileges\nADMIN_USERS=$(gitlab-rails runner \u0026quot;puts User.admins.count\u0026quot;)\nlog_message \u0026quot;ℹ ${ADMIN_USERS} users with admin privileges\u0026quot;\n\n# Check for users without 2FA\nUSERS_WITHOUT_2FA=$(gitlab-rails runner \u0026quot;puts User.where(two_factor_enabled: false).count\u0026quot;)\nlog_message \u0026quot;ℹ ${USERS_WITHOUT_2FA} users without 2FA enabled\u0026quot;\n\n# Check SSH key security\nWEAK_SSH_KEYS=$(gitlab-rails runner \u0026quot;puts Key.where(\u0026#039;LENGTH(key) \u0026lt; ?\u0026#039;, 2048).count\u0026quot;)\nlog_message \u0026quot;ℹ ${WEAK_SSH_KEYS} SSH keys shorter than 2048 bits\u0026quot;\n\n# Check project visibility\nPUBLIC_PROJECTS=$(gitlab-rails runner \u0026quot;puts Project.where(visibility_level: 20).count\u0026quot;)\nINTERNAL_PROJECTS=$(gitlab-rails runner \u0026quot;puts Project.where(visibility_level: 10).count\u0026quot;)\nPRIVATE_PROJECTS=$(gitlab-rails runner \u0026quot;puts Project.where(visibility_level: 0).count\u0026quot;)\nlog_message \u0026quot;ℹ Projects - Public: ${PUBLIC_PROJECTS}, Internal: ${INTERNAL_PROJECTS}, Private: ${PRIVATE_PROJECTS}\u0026quot;\n\n# Check for projects without security scanning\nPROJECTS_WITHOUT_SAST=$(gitlab-rails runner \u0026quot;\nputs Project.joins(:ci_pipelines)\n  .where(\u0026#039;ci_pipelines.created_at \u0026gt; ?\u0026#039;, 30.days.ago)\n  .where.not(id: Ci::Build.joins(:pipeline).where(\u0026#039;ci_builds.name ILIKE ?\u0026#039;, \u0026#039;%sast%\u0026#039;).select(:project_id))\n  .distinct.count\n\u0026quot;)\nlog_message \u0026quot;ℹ ${PROJECTS_WITHOUT_SAST} active projects without SAST scanning\u0026quot;\n\n# Check external integrations\nWEBHOOK_COUNT=$(gitlab-rails runner \u0026quot;puts ProjectHook.count + SystemHook.count\u0026quot;)\nlog_message \u0026quot;ℹ ${WEBHOOK_COUNT} webhooks configured\u0026quot;\n\n# Check audit events (Enterprise)\nif gitlab-rails runner \u0026quot;puts defined?(AuditEvent)\u0026quot; | grep -q \u0026quot;constant\u0026quot;; then\n    RECENT_AUDIT_EVENTS=$(gitlab-rails runner \u0026quot;puts AuditEvent.where(\u0026#039;created_at \u0026gt; ?\u0026#039;, 24.hours.ago).count\u0026quot;)\n    log_message \u0026quot;ℹ ${RECENT_AUDIT_EVENTS} audit events in last 24 hours\u0026quot;\nfi\n\n# Check for suspicious activity\nFAILED_LOGINS=$(grep \u0026quot;Failed Login\u0026quot; /var/log/gitlab/gitlab-rails/production.log | grep \u0026quot;$(date +\u0026#039;%Y-%m-%d\u0026#039;)\u0026quot; | wc -l)\nif [ ${FAILED_LOGINS} -gt 20 ]; then\n    log_message \u0026quot;⚠ ${FAILED_LOGINS} failed login attempts today\u0026quot;\nelse\n    log_message \u0026quot;✓ ${FAILED_LOGINS} failed login attempts today (normal)\u0026quot;\nfi\n\n# Check for large file uploads\nLARGE_UPLOADS=$(find /var/opt/gitlab/git-data/repositories -type f -size +100M -mtime -7 | wc -l)\nif [ ${LARGE_UPLOADS} -gt 0 ]; then\n    log_message \u0026quot;ℹ ${LARGE_UPLOADS} large files (\u0026gt;100MB) uploaded in last week\u0026quot;\nfi\n\nlog_message \u0026quot;Security audit completed\u0026quot;\nEOF\n\nsudo chmod +x /usr/local/bin/gitlab-security-audit.sh\n\n# Schedule daily security audits\necho \u0026quot;0 8 * * * root /usr/local/bin/gitlab-security-audit.sh\u0026quot; | sudo tee -a /etc/crontab\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"troubleshooting-cross-platform\" class=\"mobile-header\"\u003eTroubleshooting (Cross-Platform)\u003c/h2\u003e\n\u003ch3 id=\"common-issues-and-solutions\" class=\"mobile-header\"\u003eCommon Issues and Solutions\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check GitLab status\nsudo gitlab-ctl status\nsudo gitlab-ctl tail\n\n# Check configuration\nsudo gitlab-ctl show-config\nsudo gitlab-rake gitlab:check SANITIZE=true\n\n# Reconfigure GitLab\nsudo gitlab-ctl reconfigure\nsudo gitlab-ctl restart\n\n# Database issues\nsudo gitlab-psql -d gitlabhq_production\nsudo gitlab-rake db:migrate:status\n\n# Redis issues\nredis-cli ping\nredis-cli info\n\n# Check logs for errors\nsudo gitlab-ctl tail gitlab-workhorse\nsudo gitlab-ctl tail unicorn\nsudo gitlab-ctl tail sidekiq\n\n# Performance issues\nsudo gitlab-rake gitlab:env:info\nsudo gitlab-ctl status | grep memory\n\n# SSL/TLS issues\nsudo gitlab-rake gitlab:check\nopenssl s_client -connect gitlab.example.com:443\n\n# Container registry issues\nsudo gitlab-ctl registry-garbage-collect\ndocker login registry.example.com\n\n# Runner connectivity issues\nsudo gitlab-runner verify\nsudo gitlab-runner list\n\n# Backup issues\ngitlab-backup create STRATEGY=copy\ngitlab-backup restore BACKUP=timestamp\n\n# Reset admin password\nsudo gitlab-rake \u0026quot;gitlab:password:reset[root]\u0026quot;\n\n# Check disk usage\ndf -h /var/opt/gitlab/\nsudo du -sh /var/opt/gitlab/git-data/\n\n# Memory usage analysis\nps aux --sort=-%mem | grep gitlab\ngitlab-ctl status | grep memory\n\n# Network connectivity\ncurl -I https://gitlab.example.com\ntelnet gitlab.example.com 443\n\n# Service restart order (if needed)\nsudo gitlab-ctl stop\nsudo gitlab-ctl start postgresql\nsudo gitlab-ctl start redis\nsudo gitlab-ctl start\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"advanced-debugging\" class=\"mobile-header\"\u003eAdvanced Debugging\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable debug logging\nsudo gitlab-ctl edit-config\n# Add: gitlab_rails[\u0026#039;log_level\u0026#039;] = \u0026#039;DEBUG\u0026#039;\n\nsudo gitlab-ctl reconfigure\n\n# Debug specific services\nsudo gitlab-ctl tail gitlab-workhorse\nsudo gitlab-ctl tail unicorn\nsudo gitlab-ctl tail sidekiq\nsudo gitlab-ctl tail gitaly\n\n# Database debugging\nsudo gitlab-psql -d gitlabhq_production -c \u0026quot;\\l\u0026quot;\nsudo gitlab-rake db:migrate:status\n\n# Git debugging\nsudo -u git gitaly-debug\nsudo gitlab-rake gitlab:gitaly:check\n\n# Performance profiling\nsudo gitlab-rake gitlab:setup\nsudo gitlab-rake gitlab:check:repos\nsudo gitlab-rake gitlab:cleanup:sessions\n\n# Container registry debugging\nsudo gitlab-ctl registry-garbage-collect -m\ndocker system df\n\n# Runner debugging\nsudo gitlab-runner --debug run\nsudo gitlab-runner exec docker test-job\n\n# Network debugging for distributed setup\nping -c 4 postgres-master.example.com\nping -c 4 redis-master.example.com\ntelnet postgres-master.example.com 5432\ntelnet redis-master.example.com 6379\n\n# Memory leak detection\npmap -x $(pgrep gitlab-workhorse)\nvalgrind --tool=memcheck --leak-check=full gitlab-workhorse\n\n# Strace for syscall analysis\nstrace -p $(pgrep gitlab-workhorse) -e trace=network,file\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"additional-resources\" class=\"mobile-header\"\u003eAdditional Resources\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.gitlab.com/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eOfficial Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.gitlab.com/ee/administration/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGitLab Admin Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.gitlab.com/security/hardening/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eSecurity Hardening Guide\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.gitlab.com/runner/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGitLab Runner Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.gitlab.com/ee/administration/packages/container_registry.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eContainer Registry Guide\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.gitlab.com/ee/api/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGitLab API Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e---\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This guide is part of the \u003ca href=\"https://howtomgr.github.io\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eHowToMgr\u003c/a\u003e collection.\u003c/p\u003e","readTime":"29 min","wordCount":5786,"lastBuilt":"2025-09-14T06:13:07.647Z"},{"name":"home-assistant","displayName":"Home Assistant","slug":"home-assistant","description":"Repo for home-assistant","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/home-assistant","updatedAt":"2025-09-08T03:08:39Z","createdAt":"2023-08-28T03:48:06Z","readmeRaw":"# Home-Assistant on CentOS 7\n\n```bash\n# Optionally add user\n#adduser --system --shell=/bin/bash --home=/var/lib/homeassistant  homeassistant\n\nwget https://github.com/casjay-base/howtos/raw/main/home-assistant/rpm-packages.txt -O /tmp/hass-rpms.txt\nwget https://github.com/casjay-base/howtos/raw/main/home-assistant/requirements-el7.txt -O /tmp/hass-pips.txt\n\nyum install -y $(cat /tmp/hass-rpms.txt)\n\n#Optional switch to user and clone repo\n#su - homeassistant\n#git clone https://github.com/casjay-devices/home-assistant /var/lib/homeassistant/.homeassistant\n\ncd /var/lib/homeassistant \u0026\u0026 python3 -m venv . \u0026\u0026 source ./bin/activate\n\n/var/lib/homeassistant/bin/python3 -m pip install --upgrade pip\n/var/lib/homeassistant/bin/python3 -m pip install wheel\n/var/lib/homeassistant/bin/python3 -m pip install python-openzwave\n/var/lib/homeassistant/bin/python3 -m pip install homeassistant \n/var/lib/homeassistant/bin/python3 -m pip install -r /tmp/hass-pips.txt\nsystemctl daemon-reload \u0026\u0026 systemctl enable hass.service\n\necho 'SUBSYSTEM==\"tty\", ATTRS{idVendor}==\"0658\", ATTRS{idProduct}==\"0200\", SYMLINK+=\"zwave\"' \u003e\u003e /etc/udev/rules.d/99-usb-serial.rules\necho 'SUBSYSTEM==\"tty\", ATTRS{idVendor}==\"067b\", ATTRS{idProduct}==\"2303\", SYMLINK+=\"gps\"' \u003e\u003e /etc/udev/rules.d/99-usb-serial.rules\n\ndeactivate\n```\n","readmeHtml":"\u003ch1 id=\"home-assistant-on-centos-7\" class=\"mobile-header\"\u003eHome-Assistant on CentOS 7\u003c/h1\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Optionally add user\n#adduser --system --shell=/bin/bash --home=/var/lib/homeassistant  homeassistant\n\nwget https://github.com/casjay-base/howtos/raw/main/home-assistant/rpm-packages.txt -O /tmp/hass-rpms.txt\nwget https://github.com/casjay-base/howtos/raw/main/home-assistant/requirements-el7.txt -O /tmp/hass-pips.txt\n\nyum install -y $(cat /tmp/hass-rpms.txt)\n\n#Optional switch to user and clone repo\n#su - homeassistant\n#git clone https://github.com/casjay-devices/home-assistant /var/lib/homeassistant/.homeassistant\n\ncd /var/lib/homeassistant \u0026amp;\u0026amp; python3 -m venv . \u0026amp;\u0026amp; source ./bin/activate\n\n/var/lib/homeassistant/bin/python3 -m pip install --upgrade pip\n/var/lib/homeassistant/bin/python3 -m pip install wheel\n/var/lib/homeassistant/bin/python3 -m pip install python-openzwave\n/var/lib/homeassistant/bin/python3 -m pip install homeassistant \n/var/lib/homeassistant/bin/python3 -m pip install -r /tmp/hass-pips.txt\nsystemctl daemon-reload \u0026amp;\u0026amp; systemctl enable hass.service\n\necho \u0026#039;SUBSYSTEM==\u0026quot;tty\u0026quot;, ATTRS{idVendor}==\u0026quot;0658\u0026quot;, ATTRS{idProduct}==\u0026quot;0200\u0026quot;, SYMLINK+=\u0026quot;zwave\u0026quot;\u0026#039; \u0026gt;\u0026gt; /etc/udev/rules.d/99-usb-serial.rules\necho \u0026#039;SUBSYSTEM==\u0026quot;tty\u0026quot;, ATTRS{idVendor}==\u0026quot;067b\u0026quot;, ATTRS{idProduct}==\u0026quot;2303\u0026quot;, SYMLINK+=\u0026quot;gps\u0026quot;\u0026#039; \u0026gt;\u0026gt; /etc/udev/rules.d/99-usb-serial.rules\n\ndeactivate\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e","readTime":"1 min","wordCount":102,"lastBuilt":"2025-09-14T06:13:21.360Z"},{"name":"influxdb","displayName":"Influxdb","slug":"influxdb","description":"Repo for influxdb","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/influxdb","updatedAt":"2025-09-08T03:08:55Z","createdAt":"2025-09-08T03:08:45Z","readmeRaw":"## 👋 Welcome to influxdb 🚀  \n\ninfluxdb README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-influxdb\" class=\"mobile-header\"\u003e👋 Welcome to influxdb 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003einfluxdb README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T06:13:21.107Z"},{"name":"jenkins","displayName":"Jenkins","slug":"jenkins","description":"Repo for jenkins","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/jenkins","updatedAt":"2025-09-14T03:45:21Z","createdAt":"2023-08-28T03:48:15Z","readmeRaw":"# Jenkins Installation Guide\n\nJenkins is a free and open-source automation server for building, testing, and deploying applications. Originally developed by Kohsuke Kawaguchi and now maintained by the Jenkins community, Jenkins is the industry-leading CI/CD platform with extensive plugin ecosystem and enterprise-grade features. It serves as a FOSS alternative to commercial CI/CD solutions like TeamCity, GitLab CI Premium, or Azure DevOps Server, offering unlimited build minutes, unlimited private repositories, and advanced pipeline capabilities without licensing costs, with features like distributed builds, Pipeline as Code, and extensive plugin ecosystem.\n\n## Prerequisites\n\n- **Hardware Requirements**:\n  - CPU: 2 cores minimum (4+ cores recommended for production)\n  - RAM: 2GB minimum (8GB+ recommended for production)\n  - Storage: 50GB minimum (SSD recommended for build performance)\n  - Network: Stable connectivity for agent communication and external integrations\n- **Operating System**: \n  - Linux: Any modern distribution with kernel 3.2+\n  - macOS: 10.13+ (High Sierra or newer)\n  - Windows: Windows Server 2016+ or Windows 10\n  - FreeBSD: 11.0+\n- **Network Requirements**:\n  - Port 8080 (default Jenkins HTTP)\n  - Port 50000 (default Jenkins agent communication)\n  - Additional ports for external integrations (webhooks, etc.)\n- **Dependencies**:\n  - Java 11 or 17 LTS (OpenJDK recommended)\n  - systemd or compatible init system (Linux)\n  - Root or administrative access for installation\n- **System Access**: root or sudo privileges required\n\n## Installation\n\n### RHEL/CentOS/Rocky Linux/AlmaLinux\n\n```bash\n# Install Java 17 LTS\nsudo dnf install -y java-17-openjdk java-17-openjdk-devel\n\n# Add Jenkins repository\ncurl -fsSL https://pkg.jenkins.io/redhat-stable/jenkins.io-2023.key | sudo tee /etc/yum.repos.d/jenkins.io.key\n\nsudo tee /etc/yum.repos.d/jenkins.repo \u003c\u003cEOF\n[jenkins]\nname=Jenkins-stable\nbaseurl=http://pkg.jenkins.io/redhat-stable\ngpgcheck=1\ngpgkey=file:///etc/yum.repos.d/jenkins.io.key\nenabled=1\nEOF\n\n# Install Jenkins\nsudo dnf install -y jenkins\n\n# Enable and start service\nsudo systemctl enable --now jenkins\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=8080/tcp\nsudo firewall-cmd --permanent --add-port=50000/tcp\nsudo firewall-cmd --reload\n\n# Get initial admin password\nsudo cat /var/lib/jenkins/secrets/initialAdminPassword\n```\n\n### Debian/Ubuntu\n\n```bash\n# Update system packages\nsudo apt update\n\n# Install Java 17 LTS\nsudo apt install -y openjdk-17-jdk openjdk-17-jre\n\n# Add Jenkins repository\nwget -O /tmp/jenkins-key.asc https://pkg.jenkins.io/debian-stable/jenkins.io-2023.key\nsudo mv /tmp/jenkins-key.asc /etc/apt/trusted.gpg.d/jenkins.asc\n\necho \"deb https://pkg.jenkins.io/debian-stable binary/\" | sudo tee /etc/apt/sources.list.d/jenkins.list\n\n# Update package index\nsudo apt update\n\n# Install Jenkins\nsudo apt install -y jenkins\n\n# Enable and start service\nsudo systemctl enable --now jenkins\n\n# Configure firewall\nsudo ufw allow 8080/tcp\nsudo ufw allow 50000/tcp\n\n# Get initial admin password\nsudo cat /var/lib/jenkins/secrets/initialAdminPassword\n```\n\n### Arch Linux\n\n```bash\n# Install Java 17 LTS\nsudo pacman -S jdk17-openjdk\n\n# Install Jenkins from AUR\nyay -S jenkins\n\n# Alternative: Install manually from AUR\ngit clone https://aur.archlinux.org/jenkins.git\ncd jenkins\nmakepkg -si\n\n# Create jenkins user if not created\nsudo useradd -r -d /var/lib/jenkins -s /sbin/nologin jenkins\n\n# Enable and start service\nsudo systemctl enable --now jenkins\n\n# Get initial admin password\nsudo cat /var/lib/jenkins/secrets/initialAdminPassword\n\n# Configuration location: /etc/jenkins/\n```\n\n### Alpine Linux\n\n```bash\n# Jenkins is not officially packaged for Alpine Linux\n# Use Docker or manual installation\n\n# Method 1: Docker installation\napk add --no-cache docker docker-compose\nrc-update add docker default\nrc-service docker start\n\n# Create Jenkins data directory\nmkdir -p /var/lib/jenkins\n\n# Run Jenkins container\ndocker run -d \\\n  --name jenkins \\\n  --restart unless-stopped \\\n  -p 8080:8080 \\\n  -p 50000:50000 \\\n  -v /var/lib/jenkins:/var/jenkins_home \\\n  -v /var/run/docker.sock:/var/run/docker.sock \\\n  --group-add $(getent group docker | cut -d: -f3) \\\n  jenkins/jenkins:lts-jdk17\n\n# Get initial admin password\ndocker exec jenkins cat /var/jenkins_home/secrets/initialAdminPassword\n\n# Method 2: Manual installation with OpenJDK\napk add --no-cache openjdk17-jre-headless\nwget https://get.jenkins.io/war-stable/latest/jenkins.war -O /opt/jenkins.war\n\n# Create jenkins user and directories\nadduser -D -s /sbin/nologin jenkins\nmkdir -p /var/lib/jenkins /var/log/jenkins\nchown -R jenkins:jenkins /var/lib/jenkins /var/log/jenkins\n\n# Create init script\ntee /etc/init.d/jenkins \u003c\u003c'EOF'\n#!/sbin/openrc-run\nname=\"Jenkins\"\ncommand=\"java\"\ncommand_args=\"-jar /opt/jenkins.war --httpPort=8080 --ajp13Port=-1\"\ncommand_user=\"jenkins\"\npidfile=\"/run/jenkins.pid\"\ncommand_background=\"yes\"\ndepend() {\n    need net\n}\nEOF\n\nchmod +x /etc/init.d/jenkins\nrc-update add jenkins default\nrc-service jenkins start\n```\n\n### openSUSE/SLES\n\n```bash\n# openSUSE Leap/Tumbleweed\nsudo zypper install -y java-17-openjdk java-17-openjdk-devel\n\n# Add Jenkins repository\nsudo zypper addrepo -G https://pkg.jenkins.io/opensuse-stable/ jenkins\nsudo zypper refresh\n\n# Install Jenkins\nsudo zypper install -y jenkins\n\n# SLES 15\nsudo SUSEConnect -p sle-module-development-tools/15.5/x86_64\nsudo zypper install -y java-17-openjdk jenkins\n\n# Enable and start service\nsudo systemctl enable --now jenkins\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=8080/tcp\nsudo firewall-cmd --permanent --add-port=50000/tcp\nsudo firewall-cmd --reload\n\n# Get initial admin password\nsudo cat /var/lib/jenkins/secrets/initialAdminPassword\n```\n\n### macOS\n\n```bash\n# Using Homebrew\nbrew install jenkins-lts\n\n# Start Jenkins service\nbrew services start jenkins-lts\n\n# Or run manually\njenkins-lts\n\n# Alternative: Install specific version\nbrew install jenkins-lts@2.414\n\n# Get initial admin password\ncat ~/.jenkins/secrets/initialAdminPassword\n\n# Configuration location: ~/.jenkins/\n# Alternative: /usr/local/var/jenkins_home/ (Intel Macs)\n# Alternative: /opt/homebrew/var/jenkins_home/ (Apple Silicon)\n```\n\n### FreeBSD\n\n```bash\n# Using pkg\npkg install jenkins openjdk17\n\n# Using ports\ncd /usr/ports/devel/jenkins\nmake install clean\n\n# Enable Jenkins\necho 'jenkins_enable=\"YES\"' \u003e\u003e /etc/rc.conf\necho 'jenkins_java_home=\"/usr/local/openjdk17\"' \u003e\u003e /etc/rc.conf\n\n# Create jenkins user and directories\npw useradd jenkins -d /usr/local/jenkins -s /sbin/nologin\nmkdir -p /usr/local/jenkins\nchown jenkins:jenkins /usr/local/jenkins\n\n# Start service\nservice jenkins start\n\n# Get initial admin password\ncat /usr/local/jenkins/secrets/initialAdminPassword\n\n# Configuration location: /usr/local/jenkins/\n```\n\n### Windows\n\n```powershell\n# Method 1: Using Chocolatey\nchoco install jenkins\n\n# Method 2: Using Scoop\nscoop install jenkins\n\n# Method 3: Manual installation\n# Download from https://www.jenkins.io/download/\n# Run jenkins.msi installer\n\n# Method 4: Windows service installation\n# Download jenkins.war\n# Install as Windows service\njava -jar jenkins.war --httpPort=8080 --install\n\n# Start service\nnet start Jenkins\n\n# Get initial admin password\nGet-Content \"C:\\Program Files\\Jenkins\\secrets\\initialAdminPassword\"\n\n# Configuration location: C:\\Program Files\\Jenkins\\\n# Or: %JENKINS_HOME% (if custom location)\n```\n\n## Initial Configuration\n\n### First-Run Setup\n\n1. **Java Environment Setup**:\n```bash\n# Set JAVA_HOME (Linux/macOS)\nexport JAVA_HOME=/usr/lib/jvm/java-17-openjdk\necho 'export JAVA_HOME=/usr/lib/jvm/java-17-openjdk' \u003e\u003e ~/.bashrc\n\n# Verify Java installation\njava -version\n```\n\n2. **Default configuration locations**:\n- RHEL/CentOS/Rocky/AlmaLinux: `/var/lib/jenkins/`, `/etc/sysconfig/jenkins`\n- Debian/Ubuntu: `/var/lib/jenkins/`, `/etc/default/jenkins`\n- Arch Linux: `/var/lib/jenkins/`, `/etc/jenkins/`\n- Alpine Linux: `/var/lib/jenkins/` (Docker) or `/var/lib/jenkins/` (manual)\n- openSUSE/SLES: `/var/lib/jenkins/`, `/etc/sysconfig/jenkins`\n- macOS: `~/.jenkins/` or `/usr/local/var/jenkins_home/`\n- FreeBSD: `/usr/local/jenkins/`\n- Windows: `C:\\Program Files\\Jenkins\\` or `%JENKINS_HOME%`\n\n3. **Essential initial configuration**:\n\n```bash\n# Initial web setup (after accessing http://your-server:8080)\n# 1. Enter admin password from: /var/lib/jenkins/secrets/initialAdminPassword\n# 2. Install suggested plugins or select specific plugins\n# 3. Create first admin user\n# 4. Configure Jenkins URL\n\n# Essential plugins to install:\n# - Pipeline plugins (Pipeline Suite)\n# - Git plugin\n# - Credentials Binding Plugin\n# - Build Timeout Plugin\n# - Timestamper Plugin\n# - Workspace Cleanup Plugin\n# - Blue Ocean (modern UI)\n# - Matrix Authorization Strategy Plugin\n```\n\n### Testing Initial Setup\n\n```bash\n# Check service status\nsudo systemctl status jenkins\n\n# Check web interface\ncurl -I http://localhost:8080\n\n# Test Java version\njava -version\n\n# Check Jenkins process\nps aux | grep jenkins\n\n# Verify Jenkins CLI\nwget http://localhost:8080/jnlpJars/jenkins-cli.jar\njava -jar jenkins-cli.jar -s http://localhost:8080 version\n\n# Check available plugins\njava -jar jenkins-cli.jar -s http://localhost:8080 list-plugins\n```\n\n**WARNING:** Change the default admin password immediately and configure proper authentication!\n\n## Service Management\n\n### systemd (RHEL, Debian, Ubuntu, Arch, openSUSE)\n\n```bash\n# Enable Jenkins to start on boot\nsudo systemctl enable jenkins\n\n# Start Jenkins\nsudo systemctl start jenkins\n\n# Stop Jenkins\nsudo systemctl stop jenkins\n\n# Restart Jenkins\nsudo systemctl restart jenkins\n\n# Graceful restart (wait for running builds)\nsudo systemctl reload jenkins\n\n# Check status\nsudo systemctl status jenkins\n\n# View logs\nsudo journalctl -u jenkins -f\n\n# Edit service configuration\nsudo systemctl edit jenkins\n# Add custom environment variables or JVM options\n```\n\n### OpenRC (Alpine Linux)\n\n```bash\n# Docker-based installation\ndocker start jenkins\ndocker stop jenkins\ndocker restart jenkins\n\n# Check container status\ndocker ps | grep jenkins\n\n# View logs\ndocker logs -f jenkins\n\n# Manual installation\nrc-update add jenkins default\nrc-service jenkins start\nrc-service jenkins stop\nrc-service jenkins restart\nrc-service jenkins status\n```\n\n### rc.d (FreeBSD)\n\n```bash\n# Enable in /etc/rc.conf\necho 'jenkins_enable=\"YES\"' \u003e\u003e /etc/rc.conf\n\n# Start Jenkins\nservice jenkins start\n\n# Stop Jenkins\nservice jenkins stop\n\n# Restart Jenkins\nservice jenkins restart\n\n# Check status\nservice jenkins status\n\n# View logs\ntail -f /var/log/jenkins/jenkins.log\n```\n\n### launchd (macOS)\n\n```bash\n# Using Homebrew services\nbrew services start jenkins-lts\nbrew services stop jenkins-lts\nbrew services restart jenkins-lts\n\n# Check status\nbrew services list | grep jenkins\n\n# Manual control\njenkins-lts --httpPort=8080\n\n# View logs\ntail -f /usr/local/var/log/jenkins/jenkins.log\n```\n\n### Windows Service Manager\n\n```powershell\n# Start Jenkins service\nnet start Jenkins\n\n# Stop Jenkins service\nnet stop Jenkins\n\n# Using PowerShell\nStart-Service Jenkins\nStop-Service Jenkins\nRestart-Service Jenkins\n\n# Check status\nGet-Service Jenkins\n\n# View logs (Windows Event Log)\nGet-EventLog -LogName Application -Source Jenkins\n\n# Or check Jenkins logs\nGet-Content \"C:\\Program Files\\Jenkins\\logs\\jenkins.log\" -Tail 50 -Wait\n```\n\n## Advanced Configuration\n\n### High Availability Configuration\n\n```bash\n# Multi-master setup with shared storage\n# Method 1: Shared filesystem (NFS, GlusterFS)\nsudo mkdir -p /shared/jenkins\nsudo mount -t nfs nfs-server:/jenkins /shared/jenkins\n\n# Update Jenkins home\nsudo systemctl edit jenkins\n# Add:\n[Service]\nEnvironment=\"JENKINS_HOME=/shared/jenkins\"\n\n# Method 2: Database-backed configuration\n# Install CloudBees Jenkins Enterprise plugins for HA\n# Configure external database (PostgreSQL recommended)\n\n# Agent configuration for load distribution\nsudo tee /var/lib/jenkins/casc_configs/agents.yaml \u003c\u003cEOF\njenkins:\n  nodes:\n    - permanent:\n        name: \"linux-agent-1\"\n        remoteFS: \"/var/lib/jenkins\"\n        numExecutors: 4\n        launcher:\n          ssh:\n            host: \"agent1.example.com\"\n            credentialsId: \"ssh-agent-key\"\n    - permanent:\n        name: \"windows-agent-1\"\n        remoteFS: \"C:\\\\Jenkins\"\n        numExecutors: 2\n        launcher:\n          command:\n            command: \"java -jar agent.jar\"\nEOF\n```\n\n### Advanced Security Settings\n\n```bash\n# Configure Jenkins Configuration as Code (JCasC) for security\nsudo tee /var/lib/jenkins/casc_configs/security.yaml \u003c\u003cEOF\njenkins:\n  securityRealm:\n    ldap:\n      configurations:\n        - server: \"ldaps://ldap.example.com:636\"\n          rootDN: \"DC=example,DC=com\"\n          userSearchBase: \"OU=Users\"\n          userSearch: \"(\u0026(objectCategory=Person)(objectClass=user)(sAMAccountName={0}))\"\n          groupSearchBase: \"OU=Groups\"\n          managerDN: \"CN=jenkins,OU=Service Accounts,DC=example,DC=com\"\n          managerPasswordSecret: \"ldap-password\"\n          \n  authorizationStrategy:\n    roleBased:\n      roles:\n        global:\n          - name: \"admin\"\n            permissions:\n              - \"Overall/Administer\"\n            assignments:\n              - \"jenkins-admins\"\n          - name: \"developer\"\n            permissions:\n              - \"Overall/Read\"\n              - \"Job/Build\"\n              - \"Job/Read\"\n            assignments:\n              - \"developers\"\n\nsecurity:\n  globalJobDslSecurityConfiguration:\n    useScriptSecurity: true\n  scriptApproval:\n    approvedSignatures:\n      - \"method java.lang.String trim\"\n      - \"staticMethod java.lang.System getProperty java.lang.String\"\n\nunclassified:\n  location:\n    adminAddress: \"jenkins@example.com\"\n    url: \"https://jenkins.example.com/\"\n    \n  mailer:\n    smtpHost: \"smtp.example.com\"\n    smtpPort: 587\n    charset: \"UTF-8\"\n    authentication:\n      username: \"jenkins@example.com\"\n      password: \"{AQAAABAAAAAQhudQr8JjwNNI9pj8oI3L2gE=}\"\n    useSsl: false\n    useTls: true\nEOF\n```\n\n## Reverse Proxy Setup\n\n### nginx Configuration\n\n```nginx\n# /etc/nginx/sites-available/jenkins\nupstream jenkins {\n    server 127.0.0.1:8080 fail_timeout=0;\n    keepalive 32;\n}\n\nserver {\n    listen 80;\n    server_name jenkins.example.com;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name jenkins.example.com;\n\n    ssl_certificate /etc/letsencrypt/live/jenkins.example.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/jenkins.example.com/privkey.pem;\n    \n    # Security headers\n    add_header Strict-Transport-Security \"max-age=31536000; includeSubDomains\" always;\n    add_header X-Content-Type-Options nosniff always;\n    add_header X-Frame-Options DENY always;\n    add_header X-XSS-Protection \"1; mode=block\" always;\n    add_header Referrer-Policy \"strict-origin-when-cross-origin\" always;\n\n    client_max_body_size 100M;\n    \n    location / {\n        proxy_pass http://jenkins;\n        proxy_redirect default;\n        proxy_http_version 1.1;\n        \n        # Required headers for Jenkins\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        proxy_set_header X-Forwarded-Port $server_port;\n        \n        # WebSocket support for Jenkins\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n        \n        # Timeout settings\n        proxy_connect_timeout 90;\n        proxy_send_timeout 90;\n        proxy_read_timeout 90;\n        \n        proxy_buffering off;\n        proxy_request_buffering off;\n        proxy_max_temp_file_size 0;\n    }\n}\n```\n\n### HAProxy Configuration\n\n```haproxy\n# /etc/haproxy/haproxy.cfg\nfrontend jenkins_frontend\n    bind *:80\n    bind *:443 ssl crt /etc/ssl/certs/jenkins.pem\n    redirect scheme https if !{ ssl_fc }\n    default_backend jenkins_servers\n\nbackend jenkins_servers\n    mode http\n    balance roundrobin\n    option httpchk GET /login\n    http-check expect status 200\n    server jenkins1 127.0.0.1:8080 check inter 30s rise 2 fall 3\n    server jenkins2 127.0.0.1:8081 check inter 30s rise 2 fall 3 backup\n\n    # Headers for Jenkins\n    http-request set-header X-Forwarded-Proto https\n    http-request set-header X-Forwarded-Port %[dst_port]\n    http-response set-header Strict-Transport-Security \"max-age=31536000; includeSubDomains\"\n```\n\n### Apache HTTP Server Configuration\n\n```apache\n# /etc/apache2/sites-available/jenkins.conf\n\u003cVirtualHost *:80\u003e\n    ServerName jenkins.example.com\n    Redirect permanent / https://jenkins.example.com/\n\u003c/VirtualHost\u003e\n\n\u003cVirtualHost *:443\u003e\n    ServerName jenkins.example.com\n    \n    SSLEngine on\n    SSLCertificateFile /etc/letsencrypt/live/jenkins.example.com/fullchain.pem\n    SSLCertificateKeyFile /etc/letsencrypt/live/jenkins.example.com/privkey.pem\n    \n    # Security headers\n    Header always set Strict-Transport-Security \"max-age=31536000; includeSubDomains\"\n    Header always set X-Content-Type-Options nosniff\n    Header always set X-Frame-Options DENY\n    Header always set X-XSS-Protection \"1; mode=block\"\n    \n    ProxyPreserveHost On\n    ProxyRequests Off\n    \n    ProxyPass / http://127.0.0.1:8080/ nocanon\n    ProxyPassReverse / http://127.0.0.1:8080/\n    ProxyPassReverse  /  http://jenkins.example.com/\n    \n    # WebSocket support\n    RewriteEngine on\n    RewriteCond %{HTTP:Upgrade} websocket [NC]\n    RewriteCond %{HTTP:Connection} upgrade [NC]\n    RewriteRule ^/?(.*) \"ws://127.0.0.1:8080/$1\" [P,L]\n    \n    AllowEncodedSlashes NoDecode\n\u003c/VirtualHost\u003e\n```\n\n## Security Configuration\n\n### SSL/TLS Setup\n\n```bash\n# Generate self-signed certificate (development only)\nsudo mkdir -p /etc/jenkins/ssl\nsudo openssl req -x509 -newkey rsa:4096 -keyout /etc/jenkins/ssl/jenkins.key -out /etc/jenkins/ssl/jenkins.crt -days 365 -nodes -subj \"/C=US/ST=State/L=City/O=Organization/CN=jenkins.example.com\"\n\n# Create Java keystore\nsudo keytool -genkey -alias jenkins -keyalg RSA -keystore /etc/jenkins/ssl/jenkins.jks -keysize 2048 -dname \"CN=jenkins.example.com,OU=IT,O=Organization,L=City,ST=State,C=US\" -storepass changeit -keypass changeit\n\n# Configure Jenkins to use HTTPS\nsudo systemctl edit jenkins\n# Add:\n[Service]\nEnvironment=\"JENKINS_OPTS=--httpPort=-1 --httpsPort=8443 --httpsKeyStore=/etc/jenkins/ssl/jenkins.jks --httpsKeyStorePassword=changeit\"\n\nsudo systemctl restart jenkins\n\n# Or use Let's Encrypt with reverse proxy (recommended)\nsudo certbot --nginx -d jenkins.example.com\n```\n\n### Authentication and Authorization\n\n```bash\n# Configure LDAP authentication via JCasC\nsudo tee /var/lib/jenkins/casc_configs/auth.yaml \u003c\u003cEOF\njenkins:\n  securityRealm:\n    ldap:\n      configurations:\n        - server: \"ldaps://ldap.example.com:636\"\n          rootDN: \"DC=example,DC=com\"\n          inhibitInferRootDN: false\n          userSearchBase: \"OU=Users\"\n          userSearch: \"(\u0026(objectCategory=Person)(objectClass=user)(sAMAccountName={0}))\"\n          groupSearchBase: \"OU=Groups\"\n          groupSearchFilter: \"(\u0026(objectClass=group)(cn={0}))\"\n          managerDN: \"CN=jenkins,OU=Service Accounts,DC=example,DC=com\"\n          managerPasswordSecret: \"ldap-password\"\n          displayNameAttributeName: \"displayName\"\n          mailAddressAttributeName: \"mail\"\n\n  authorizationStrategy:\n    roleBased:\n      roles:\n        global:\n          - name: \"jenkins-admins\"\n            permissions:\n              - \"Overall/Administer\"\n            assignments:\n              - \"Domain Admins\"\n              - \"jenkins-admins\"\n          - name: \"developers\"\n            permissions:\n              - \"Overall/Read\"\n              - \"Job/Build\"\n              - \"Job/Cancel\"\n              - \"Job/Read\"\n              - \"Job/Workspace\"\n              - \"Run/Replay\"\n              - \"Run/Update\"\n            assignments:\n              - \"developers\"\n              - \"authenticated\"\n          - name: \"viewers\"\n            permissions:\n              - \"Overall/Read\"\n              - \"Job/Read\"\n            assignments:\n              - \"viewers\"\n              \ncredentials:\n  system:\n    domainCredentials:\n      - credentials:\n          - usernamePassword:\n              scope: GLOBAL\n              id: \"ldap-password\"\n              username: \"CN=jenkins,OU=Service Accounts,DC=example,DC=com\"\n              password: \"{AQAAABAAAAAQSecureEncryptedPassword=}\"\n              description: \"LDAP Service Account\"\n          - basicSSHUserPrivateKey:\n              scope: GLOBAL\n              id: \"ssh-agent-key\"\n              username: \"jenkins\"\n              description: \"SSH key for Jenkins agents\"\n              privateKeySource:\n                directEntry:\n                  privateKey: |\n                    -----BEGIN OPENSSH PRIVATE KEY-----\n                    EncryptedPrivateKeyContentHere\n                    -----END OPENSSH PRIVATE KEY-----\nEOF\n```\n\n### Firewall Rules\n\n```bash\n# UFW (Ubuntu/Debian)\nsudo ufw allow from 192.168.1.0/24 to any port 8080\nsudo ufw allow from 192.168.1.0/24 to any port 50000\nsudo ufw reload\n\n# firewalld (RHEL/CentOS/openSUSE)\nsudo firewall-cmd --permanent --new-zone=jenkins\nsudo firewall-cmd --permanent --zone=jenkins --add-source=192.168.1.0/24\nsudo firewall-cmd --permanent --zone=jenkins --add-port=8080/tcp\nsudo firewall-cmd --permanent --zone=jenkins --add-port=50000/tcp\nsudo firewall-cmd --reload\n\n# iptables\nsudo iptables -A INPUT -s 192.168.1.0/24 -p tcp --dport 8080 -j ACCEPT\nsudo iptables -A INPUT -s 192.168.1.0/24 -p tcp --dport 50000 -j ACCEPT\nsudo iptables-save \u003e /etc/iptables/rules.v4\n\n# pf (FreeBSD)\n# Add to /etc/pf.conf\npass in on $ext_if proto tcp from 192.168.1.0/24 to any port {8080, 50000}\n\n# Windows Firewall\nNew-NetFirewallRule -DisplayName \"Jenkins HTTP\" -Direction Inbound -Protocol TCP -LocalPort 8080 -RemoteAddress 192.168.1.0/24 -Action Allow\nNew-NetFirewallRule -DisplayName \"Jenkins Agent\" -Direction Inbound -Protocol TCP -LocalPort 50000 -RemoteAddress 192.168.1.0/24 -Action Allow\n```\n\n## Database Setup\n\n### External Database Configuration (PostgreSQL)\n\n```bash\n# Install PostgreSQL\nsudo apt install -y postgresql postgresql-contrib\n\n# Create Jenkins database\nsudo -u postgres createdb jenkinsdb\nsudo -u postgres createuser jenkinsuser\nsudo -u postgres psql -c \"ALTER USER jenkinsuser WITH PASSWORD 'SecureJenkinsPassword123!';\"\nsudo -u postgres psql -c \"GRANT ALL PRIVILEGES ON DATABASE jenkinsdb TO jenkinsuser;\"\n\n# Download PostgreSQL driver\nwget https://jdbc.postgresql.org/download/postgresql-42.6.0.jar -O /var/lib/jenkins/postgresql-connector.jar\n\n# Configure Jenkins to use PostgreSQL\nsudo tee -a /etc/default/jenkins \u003c\u003cEOF\n# PostgreSQL database configuration\nJENKINS_JAVA_OPTIONS=\"-Djenkins.install.runSetupWizard=false -Dhudson.model.DirectoryBrowserSupport.CSP=\\\"sandbox allow-scripts; default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline';\\\"\"\nEOF\n\n# Create database configuration\nsudo tee /var/lib/jenkins/database-config.xml \u003c\u003cEOF\n\u003cdatabaseConfiguration\u003e\n  \u003cdatabase class=\"org.jenkinsci.plugins.database.postgresql.PostgreSQLDatabase\"\u003e\n    \u003chostname\u003elocalhost\u003c/hostname\u003e\n    \u003cport\u003e5432\u003c/port\u003e\n    \u003cdatabase\u003ejenkinsdb\u003c/database\u003e\n    \u003cusername\u003ejenkinsuser\u003c/username\u003e\n    \u003cpassword\u003e{AQAAABAAAAAQEncryptedPasswordHere=}\u003c/password\u003e\n    \u003cproperties\u003esslmode=require\u003c/properties\u003e\n  \u003c/database\u003e\n\u003c/databaseConfiguration\u003e\nEOF\n```\n\n### Backup Database Schema\n\n```bash\n# Create database schema backup\nsudo -u postgres pg_dump jenkinsdb \u003e /backup/jenkins/jenkinsdb-schema-$(date +%Y%m%d).sql\n\n# Create Jenkins jobs and configuration backup\nsudo tee /usr/local/bin/jenkins-db-backup.sh \u003c\u003c'EOF'\n#!/bin/bash\nBACKUP_DIR=\"/backup/jenkins/$(date +%Y%m%d_%H%M%S)\"\nmkdir -p \"$BACKUP_DIR\"\n\n# PostgreSQL backup\nsudo -u postgres pg_dump jenkinsdb | gzip \u003e \"$BACKUP_DIR/jenkinsdb.sql.gz\"\n\n# Jenkins configuration backup\ntar -czf \"$BACKUP_DIR/jenkins-config.tar.gz\" \\\n  --exclude=\"/var/lib/jenkins/workspace/*\" \\\n  --exclude=\"/var/lib/jenkins/builds/*/archive\" \\\n  --exclude=\"/var/lib/jenkins/logs/*\" \\\n  /var/lib/jenkins/\n\necho \"Database backup completed: $BACKUP_DIR\"\nEOF\n\nchmod +x /usr/local/bin/jenkins-db-backup.sh\n```\n\n## Performance Optimization\n\n### System Tuning\n\n```bash\n# Jenkins-specific system optimizations\nsudo tee -a /etc/sysctl.conf \u003c\u003cEOF\n# Jenkins optimizations\nvm.swappiness = 1\nfs.file-max = 65535\nnet.core.somaxconn = 32768\nnet.ipv4.tcp_max_syn_backlog = 8192\nnet.ipv4.ip_local_port_range = 1024 65535\nEOF\n\nsudo sysctl -p\n\n# Increase file descriptor limits\nsudo tee -a /etc/security/limits.conf \u003c\u003cEOF\njenkins soft nofile 65535\njenkins hard nofile 65535\njenkins soft nproc 32768\njenkins hard nproc 32768\nEOF\n\n# Optimize Jenkins JVM settings\nsudo systemctl edit jenkins\n# Add:\n[Service]\nEnvironment=\"JAVA_OPTS=-Xmx8g -Xms4g -XX:+UseG1GC -XX:+UseStringDeduplication -XX:+DisableExplicitGC -XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap\"\nEnvironment=\"JENKINS_OPTS=--sessionTimeout=1440 --sessionEviction=86400\"\n\nsudo systemctl daemon-reload\nsudo systemctl restart jenkins\n```\n\n### Jenkins Performance Configuration\n\n```bash\n# Configure Jenkins for high performance\nsudo tee /var/lib/jenkins/casc_configs/performance.yaml \u003c\u003cEOF\njenkins:\n  systemMessage: \"High-Performance Jenkins Instance\"\n  numExecutors: 0  # Don't run builds on controller\n  mode: EXCLUSIVE\n  quietPeriod: 5\n  scmCheckoutRetryCount: 3\n  \n  # Global pipeline libraries for shared code\n  globalLibraries:\n    libraries:\n      - name: \"shared-pipeline-library\"\n        defaultVersion: \"main\"\n        implicit: true\n        retriever:\n          modernSCM:\n            scm:\n              git:\n                remote: \"https://github.com/example/jenkins-shared-library.git\"\n                credentialsId: \"github-token\"\n\n  # Configure build discarders globally\n  buildDiscarders:\n    configuredBuildDiscarders:\n      - \"logRotator\":\n          artifactDaysToKeepStr: \"30\"\n          artifactNumToKeepStr: \"10\"\n          daysToKeepStr: \"30\"\n          numToKeepStr: \"100\"\n\nunclassified:\n  # Configure global timeout\n  buildTimeout:\n    operations:\n      - timeoutMinutes: 60\n      - failBuild: true\n      - writingDescription: true\n      \n  # Workspace cleanup configuration  \n  wsCleanup:\n    deleteDirs: true\n    cleanupMatrixParent: true\n    skipWhenFailed: false\n    \ntool:\n  # Configure tools for performance\n  git:\n    installations:\n      - name: \"Default\"\n        home: \"/usr/bin/git\"\n        \n  maven:\n    installations:\n      - name: \"Maven 3.9\"\n        properties:\n          - installSource:\n              installers:\n                - maven:\n                    id: \"3.9.6\"\n                    \n  gradle:\n    installations:\n      - name: \"Gradle 8\"\n        properties:\n          - installSource:\n              installers:\n                - gradleInstaller:\n                    id: \"8.4\"\n\n  nodejs:\n    installations:\n      - name: \"NodeJS 18\"\n        properties:\n          - installSource:\n              installers:\n                - nodeJSInstaller:\n                    id: \"18.18.2\"\n                    \n  dockerTool:\n    installations:\n      - name: \"Docker\"\n        properties:\n          - installSource:\n              installers:\n                - dockerInstaller:\n                    version: \"latest\"\nEOF\n\n# Configure agent templates for auto-scaling\nsudo tee /var/lib/jenkins/casc_configs/agents.yaml \u003c\u003cEOF\njenkins:\n  clouds:\n    - kubernetes:\n        name: \"kubernetes\"\n        serverUrl: \"https://kubernetes.default.svc.cluster.local\"\n        namespace: \"jenkins\"\n        credentialsId: \"kubernetes-token\"\n        jenkinsUrl: \"http://jenkins.jenkins.svc.cluster.local:8080\"\n        jenkinsTunnel: \"jenkins-agent.jenkins.svc.cluster.local:50000\"\n        connectTimeout: 300\n        readTimeout: 300\n        containerCapStr: 100\n        templates:\n          - name: \"jenkins-agent\"\n            namespace: \"jenkins\"\n            label: \"kubernetes docker\"\n            nodeUsageMode: EXCLUSIVE\n            containers:\n              - name: \"jnlp\"\n                image: \"jenkins/inbound-agent:latest\"\n                alwaysPullImage: true\n                workingDir: \"/home/jenkins/agent\"\n                command: \"\"\n                args: \"\"\n                resourceRequestCpu: \"500m\"\n                resourceRequestMemory: \"1Gi\"\n                resourceLimitCpu: \"2\"\n                resourceLimitMemory: \"4Gi\"\n            volumes:\n              - hostPathVolume:\n                  hostPath: \"/var/run/docker.sock\"\n                  mountPath: \"/var/run/docker.sock\"\nEOF\n```\n\n### Pipeline Optimization\n\n```groovy\n// Optimized Jenkins Pipeline Template\n// /var/lib/jenkins/pipeline-templates/optimized-pipeline.groovy\n@Library('shared-pipeline-library') _\n\npipeline {\n    agent {\n        label 'docker \u0026\u0026 linux'\n    }\n    \n    options {\n        buildDiscarder(logRotator(numToKeepStr: '50', artifactNumToKeepStr: '10'))\n        timeout(time: 120, unit: 'MINUTES')\n        timestamps()\n        skipDefaultCheckout(true)\n        disableConcurrentBuilds()\n        ansiColor('xterm')\n        parallelsAlwaysFailFast()\n        copyArtifactPermission('*')\n    }\n    \n    environment {\n        DOCKER_REGISTRY = credentials('docker-registry-url')\n        MAVEN_OPTS = '-Xmx2g -XX:+UseG1GC'\n        GRADLE_OPTS = '-Xmx2g -Dorg.gradle.daemon=false'\n        CI = 'true'\n    }\n    \n    stages {\n        stage('Checkout') {\n            steps {\n                checkout scm\n                script {\n                    env.GIT_COMMIT_SHORT = env.GIT_COMMIT.take(8)\n                    env.BUILD_VERSION = \"${env.BUILD_NUMBER}-${env.GIT_COMMIT_SHORT}\"\n                }\n            }\n        }\n        \n        stage('Parallel Analysis') {\n            parallel {\n                stage('Code Quality') {\n                    steps {\n                        script {\n                            // SonarQube analysis\n                            withSonarQubeEnv('SonarQube') {\n                                sh '''\n                                    mvn sonar:sonar \\\n                                        -Dsonar.projectKey=${JOB_NAME} \\\n                                        -Dsonar.projectVersion=${BUILD_VERSION} \\\n                                        -Dsonar.sources=src/main \\\n                                        -Dsonar.tests=src/test \\\n                                        -Dsonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml\n                                '''\n                            }\n                            \n                            timeout(time: 10, unit: 'MINUTES') {\n                                waitForQualityGate abortPipeline: true\n                            }\n                        }\n                    }\n                }\n                \n                stage('Security Scan') {\n                    steps {\n                        // OWASP Dependency Check\n                        dependencyCheck additionalArguments: '''\n                            --enableRetired\n                            --enableExperimental  \n                            --scan ./\n                            --format JSON\n                            --format HTML\n                            --suppression dependency-check-suppressions.xml\n                        ''', odcInstallation: 'dependency-check-8.4.0'\n                        \n                        dependencyCheckPublisher pattern: '**/dependency-check-report.xml'\n                        \n                        // Secret scanning\n                        sh '''\n                            docker run --rm -v $(pwd):/repo \\\n                                trufflesecurity/trufflehog:latest \\\n                                git file:///repo \\\n                                --json \\\n                                --fail \u003e trufflehog-results.json || true\n                        '''\n                    }\n                }\n                \n                stage('Test') {\n                    steps {\n                        sh '''\n                            # Parallel test execution\n                            mvn clean test \\\n                                -Dmaven.test.failure.ignore=true \\\n                                -Dspring.profiles.active=test \\\n                                -Djunit.jupiter.execution.parallel.enabled=true \\\n                                -Djunit.jupiter.execution.parallel.mode.default=concurrent\n                        '''\n                        \n                        publishTestResults testResultsPattern: 'target/surefire-reports/*.xml'\n                        publishCoverage adapters: [jacocoAdapter('target/site/jacoco/jacoco.xml')], \n                                       sourceFileResolver: sourceFiles('STORE_LAST_BUILD')\n                    }\n                    post {\n                        always {\n                            archiveArtifacts artifacts: 'target/surefire-reports/**', allowEmptyArchive: true\n                        }\n                    }\n                }\n            }\n        }\n        \n        stage('Build \u0026 Package') {\n            steps {\n                sh '''\n                    # Optimized build with parallel processing\n                    mvn clean package \\\n                        -DskipTests \\\n                        -T 2C \\\n                        -Dspring.profiles.active=production \\\n                        -Dmaven.javadoc.skip=true\n                '''\n                \n                // Docker build with BuildKit\n                script {\n                    def image = docker.build(\"${env.DOCKER_REGISTRY}/${env.JOB_NAME}:${env.BUILD_VERSION}\", \n                                           \"--build-arg BUILD_VERSION=${env.BUILD_VERSION} .\")\n                    \n                    // Security scanning with Trivy\n                    sh \"\"\"\n                        docker run --rm -v /var/run/docker.sock:/var/run/docker.sock \\\n                            aquasec/trivy:latest image \\\n                            --format table \\\n                            --severity HIGH,CRITICAL \\\n                            --exit-code 1 \\\n                            ${env.DOCKER_REGISTRY}/${env.JOB_NAME}:${env.BUILD_VERSION}\n                    \"\"\"\n                    \n                    image.push()\n                    image.push(\"latest\")\n                }\n            }\n        }\n        \n        stage('Deploy') {\n            when {\n                anyOf {\n                    branch 'main'\n                    branch 'develop'\n                    branch 'release/*'\n                }\n            }\n            parallel {\n                stage('Staging') {\n                    when { branch 'develop' }\n                    steps {\n                        script {\n                            // Deploy to staging environment\n                            sh '''\n                                kubectl set image deployment/myapp-staging \\\n                                    myapp=${DOCKER_REGISTRY}/${JOB_NAME}:${BUILD_VERSION} \\\n                                    --namespace=staging\n                                \n                                kubectl rollout status deployment/myapp-staging \\\n                                    --namespace=staging --timeout=300s\n                            '''\n                            \n                            // Run smoke tests\n                            sh '''\n                                curl -f http://myapp-staging.example.com/health || exit 1\n                                npm run test:e2e -- --base-url http://myapp-staging.example.com\n                            '''\n                        }\n                    }\n                }\n                \n                stage('Production') {\n                    when { \n                        anyOf {\n                            branch 'main'\n                            branch 'release/*'\n                        }\n                    }\n                    steps {\n                        // Manual approval for production\n                        timeout(time: 60, unit: 'MINUTES') {\n                            input message: 'Deploy to production?', \n                                  ok: 'Deploy',\n                                  submitterParameter: 'APPROVER'\n                        }\n                        \n                        script {\n                            sh '''\n                                # Blue-green deployment\n                                kubectl set image deployment/myapp-production \\\n                                    myapp=${DOCKER_REGISTRY}/${JOB_NAME}:${BUILD_VERSION} \\\n                                    --namespace=production\n                                \n                                kubectl rollout status deployment/myapp-production \\\n                                    --namespace=production --timeout=600s\n                            '''\n                        }\n                    }\n                }\n            }\n        }\n    }\n    \n    post {\n        always {\n            // Cleanup workspace\n            cleanWs()\n            \n            // Archive artifacts\n            archiveArtifacts artifacts: 'target/*.jar,docker-compose.yml', \n                           allowEmptyArchive: true, \n                           fingerprint: true\n                           \n            // Collect build metrics\n            script {\n                def buildDuration = currentBuild.duration / 1000\n                echo \"Build completed in ${buildDuration} seconds\"\n                \n                // Custom metrics collection\n                sh \"\"\"\n                    echo \"build_duration_seconds{job=\\\"${env.JOB_NAME}\\\",build=\\\"${env.BUILD_NUMBER}\\\"} ${buildDuration}\" \u003e build-metrics.txt\n                \"\"\"\n                \n                archiveArtifacts artifacts: 'build-metrics.txt', allowEmptyArchive: true\n            }\n        }\n        \n        success {\n            // Success notifications\n            emailext(\n                subject: \"✅ Build Success: ${env.JOB_NAME} - ${env.BUILD_NUMBER}\",\n                body: \"\"\"Build successful for ${env.JOB_NAME} build ${env.BUILD_NUMBER}\n                         \n                Build URL: ${env.BUILD_URL}\n                Git Commit: ${env.GIT_COMMIT}\n                Duration: ${currentBuild.durationString}\n                Approver: ${env.APPROVER ?: 'Automatic'}\"\"\",\n                to: \"${env.CHANGE_AUTHOR_EMAIL ?: 'jenkins@example.com'}\"\n            )\n            \n            slackSend(\n                channel: '#deployments',\n                color: 'good',\n                message: \"✅ Deployment Success: ${env.JOB_NAME} - ${env.BUILD_NUMBER} by ${env.APPROVER ?: 'System'}\"\n            )\n        }\n        \n        failure {\n            emailext(\n                subject: \"❌ Build Failed: ${env.JOB_NAME} - ${env.BUILD_NUMBER}\",\n                body: \"Build failed for ${env.JOB_NAME} build ${env.BUILD_NUMBER}\\n\\nBuild URL: ${env.BUILD_URL}\",\n                to: \"${env.CHANGE_AUTHOR_EMAIL ?: 'jenkins@example.com'}\"\n            )\n            \n            slackSend(\n                channel: '#ci-cd-alerts',\n                color: 'danger',\n                message: \"❌ Build Failed: ${env.JOB_NAME} - ${env.BUILD_NUMBER} (\u003c${env.BUILD_URL}|View Details\u003e)\"\n            )\n        }\n        \n        unstable {\n            emailext(\n                subject: \"⚠️  Build Unstable: ${env.JOB_NAME} - ${env.BUILD_NUMBER}\",\n                body: \"Build unstable for ${env.JOB_NAME} build ${env.BUILD_NUMBER}\\n\\nBuild URL: ${env.BUILD_URL}\",\n                to: \"${env.CHANGE_AUTHOR_EMAIL ?: 'jenkins@example.com'}\"\n            )\n        }\n    }\n}\n```\n\n## Monitoring\n\n### Built-in Monitoring\n\n```bash\n# Jenkins CLI monitoring commands\njava -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password version\njava -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password list-jobs\njava -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password list-builds job-name\njava -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password get-build job-name 1\n\n# System information\ncurl -u admin:password http://localhost:8080/systemInfo\n\n# Build queue status\ncurl -u admin:password http://localhost:8080/queue/api/json\n\n# Node status\ncurl -u admin:password http://localhost:8080/computer/api/json\n\n# Plugin information\ncurl -u admin:password http://localhost:8080/pluginManager/api/json?depth=1\n```\n\n### External Monitoring Setup\n\n```bash\n# Install Jenkins Prometheus Plugin and configure metrics\n# Via Jenkins UI: Manage Jenkins \u003e Manage Plugins \u003e Available \u003e Prometheus metrics plugin\n\n# Configure Prometheus to scrape Jenkins metrics\nsudo tee /etc/prometheus/jenkins.yml \u003c\u003cEOF\nglobal:\n  scrape_interval: 15s\n\nscrape_configs:\n  - job_name: 'jenkins'\n    static_configs:\n      - targets: ['localhost:8080']\n    metrics_path: /prometheus/\n    scrape_interval: 30s\n    scrape_timeout: 10s\nEOF\n\n# Install Jenkins Exporter (alternative)\nwget https://github.com/lovoo/jenkins_exporter/releases/download/v1.0.0/jenkins_exporter-1.0.0.linux-amd64.tar.gz\ntar xzf jenkins_exporter-*.tar.gz\nsudo cp jenkins_exporter /usr/local/bin/\n\n# Create systemd service\nsudo tee /etc/systemd/system/jenkins_exporter.service \u003c\u003cEOF\n[Unit]\nDescription=Jenkins Exporter\nAfter=network.target\n\n[Service]\nType=simple\nUser=jenkins\nExecStart=/usr/local/bin/jenkins_exporter \\\n    --jenkins.address=http://localhost:8080 \\\n    --jenkins.username=monitoring \\\n    --jenkins.password=MonitoringPassword123! \\\n    --web.listen-address=:9118\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsudo systemctl enable --now jenkins_exporter\n```\n\n### Health Check Scripts\n\n```bash\n#!/bin/bash\n# jenkins-health-check.sh\n\nJENKINS_URL=\"http://localhost:8080\"\nHEALTH_LOG=\"/var/log/jenkins-health.log\"\n\nlog_message() {\n    echo \"$(date '+%Y-%m-%d %H:%M:%S') - $1\" | tee -a ${HEALTH_LOG}\n}\n\n# Check service status\nif systemctl is-active jenkins \u003e/dev/null 2\u003e\u00261; then\n    log_message \"✅ Jenkins service is running\"\nelse\n    log_message \"❌ Jenkins service is not running\"\n    exit 2\nfi\n\n# Check web interface\nHTTP_STATUS=$(curl -s -o /dev/null -w \"%{http_code}\" ${JENKINS_URL}/login)\nif [ \"${HTTP_STATUS}\" = \"200\" ]; then\n    log_message \"✅ Jenkins web interface responding (HTTP ${HTTP_STATUS})\"\nelse\n    log_message \"❌ Jenkins web interface issues (HTTP ${HTTP_STATUS})\"\n    exit 2\nfi\n\n# Check disk space\nJENKINS_HOME_USAGE=$(df /var/lib/jenkins | awk 'NR==2 {print $5}' | sed 's/%//')\nif [ ${JENKINS_HOME_USAGE} -gt 85 ]; then\n    log_message \"⚠️  High disk usage: ${JENKINS_HOME_USAGE}%\"\n    exit 1\nelse\n    log_message \"✅ Jenkins home disk usage: ${JENKINS_HOME_USAGE}%\"\nfi\n\n# Check memory usage\nJAVA_MEMORY=$(ps -o pid,vsz,rss,comm -C java | grep jenkins | awk '{rss+=$3} END {print rss/1024}')\nif (( $(echo \"${JAVA_MEMORY} \u003e 6144\" | bc -l) )); then\n    log_message \"⚠️  High memory usage: ${JAVA_MEMORY}MB\"\n    exit 1\nelse\n    log_message \"✅ Jenkins memory usage: ${JAVA_MEMORY}MB\"\nfi\n\n# Check running builds (if Jenkins CLI is available)\nif [ -f /var/lib/jenkins/jenkins-cli.jar ]; then\n    RUNNING_BUILDS=$(java -jar /var/lib/jenkins/jenkins-cli.jar -s ${JENKINS_URL} -auth monitoring:MonitoringPassword123! list-builds 2\u003e/dev/null | grep -c \"RUNNING\" || echo \"0\")\n    log_message \"ℹ️  Running builds: ${RUNNING_BUILDS}\"\n    \n    # Check for failed builds in last 24 hours\n    FAILED_BUILDS=$(java -jar /var/lib/jenkins/jenkins-cli.jar -s ${JENKINS_URL} -auth monitoring:MonitoringPassword123! list-builds 2\u003e/dev/null | grep -c \"FAILURE\" || echo \"0\")\n    if [ ${FAILED_BUILDS} -gt 5 ]; then\n        log_message \"⚠️  High number of failed builds: ${FAILED_BUILDS}\"\n        exit 1\n    fi\nfi\n\n# Check plugin health\nPLUGIN_ERRORS=$(curl -s ${JENKINS_URL}/pluginManager/api/json?depth=1 | jq '.plugins[] | select(.hasUpdate==true or .enabled==false) | .shortName' | wc -l)\nif [ ${PLUGIN_ERRORS} -gt 0 ]; then\n    log_message \"⚠️  Plugins need attention: ${PLUGIN_ERRORS}\"\nfi\n\nlog_message \"✅ Jenkins health check completed\"\nexit 0\n```\n\n## Backup and Restore\n\n### Comprehensive Backup Strategy\n\n```bash\n#!/bin/bash\n# jenkins-backup.sh\n\nBACKUP_DIR=\"/backup/jenkins\"\nDATE=$(date +%Y%m%d_%H%M%S)\nJENKINS_HOME=\"/var/lib/jenkins\"\nRETENTION_DAYS=14\n\nmkdir -p ${BACKUP_DIR}/{config,jobs,plugins,secrets,workspace}\n\necho \"Starting Jenkins comprehensive backup...\"\n\n# Function to gracefully shutdown Jenkins\ngraceful_shutdown() {\n    echo \"Putting Jenkins in quiet mode...\"\n    java -jar ${JENKINS_HOME}/jenkins-cli.jar -s http://localhost:8080 -auth admin:SecureAdminPassword123! quiet-down\n    \n    # Wait for running builds to complete (max 20 minutes)\n    for i in {1..120}; do\n        RUNNING_BUILDS=$(java -jar ${JENKINS_HOME}/jenkins-cli.jar -s http://localhost:8080 -auth admin:SecureAdminPassword123! list-builds | grep -c \"RUNNING\" || echo \"0\")\n        if [ \"$RUNNING_BUILDS\" -eq 0 ]; then\n            echo \"All builds completed, stopping Jenkins...\"\n            systemctl stop jenkins\n            break\n        fi\n        echo \"Waiting for $RUNNING_BUILDS running builds to complete... (${i}/120)\"\n        sleep 10\n    done\n    \n    if [ \"$RUNNING_BUILDS\" -gt 0 ]; then\n        echo \"Warning: Stopping Jenkins with $RUNNING_BUILDS builds still running\"\n        systemctl stop jenkins\n    fi\n}\n\n# Function to start Jenkins\nstart_jenkins() {\n    echo \"Starting Jenkins...\"\n    systemctl start jenkins\n    \n    # Wait for Jenkins to be ready\n    for i in {1..60}; do\n        if curl -f http://localhost:8080/login \u003e/dev/null 2\u003e\u00261; then\n            echo \"Jenkins is ready, canceling quiet mode...\"\n            java -jar ${JENKINS_HOME}/jenkins-cli.jar -s http://localhost:8080 -auth admin:SecureAdminPassword123! cancel-quiet-down\n            break\n        fi\n        echo \"Waiting for Jenkins to start... (${i}/60)\"\n        sleep 10\n    done\n}\n\n# Gracefully shutdown Jenkins\ngraceful_shutdown\n\n# Full Jenkins home backup (excluding large/temporary directories)\necho \"Creating full Jenkins home backup...\"\ntar --exclude=\"${JENKINS_HOME}/workspace/*\" \\\n    --exclude=\"${JENKINS_HOME}/builds/*/archive\" \\\n    --exclude=\"${JENKINS_HOME}/logs/*\" \\\n    --exclude=\"${JENKINS_HOME}/.m2/repository\" \\\n    --exclude=\"${JENKINS_HOME}/caches\" \\\n    --exclude=\"${JENKINS_HOME}/war\" \\\n    -czf ${BACKUP_DIR}/config/jenkins-home-${DATE}.tar.gz \\\n    -C ${JENKINS_HOME} .\n\n# Job configurations backup\necho \"Backing up job configurations...\"\nmkdir -p ${BACKUP_DIR}/jobs\nfind ${JENKINS_HOME}/jobs -name \"config.xml\" -exec cp {} ${BACKUP_DIR}/jobs/ \\;\ntar -czf ${BACKUP_DIR}/jobs/job-configs-${DATE}.tar.gz -C ${BACKUP_DIR}/jobs .\nrm ${BACKUP_DIR}/jobs/config.xml 2\u003e/dev/null\n\n# Plugins backup\necho \"Backing up installed plugins...\"\njava -jar ${JENKINS_HOME}/jenkins-cli.jar -s http://localhost:8080 -auth admin:SecureAdminPassword123! list-plugins \u003e ${BACKUP_DIR}/plugins/plugin-list-${DATE}.txt\ncp -r ${JENKINS_HOME}/plugins ${BACKUP_DIR}/plugins/plugins-${DATE}/ 2\u003e/dev/null\n\n# Secrets and credentials backup\necho \"Backing up secrets and credentials...\"\nif [ -d \"${JENKINS_HOME}/secrets\" ]; then\n    tar -czf ${BACKUP_DIR}/secrets/jenkins-secrets-${DATE}.tar.gz -C ${JENKINS_HOME} secrets/\nfi\n\n# System configuration backup\necho \"Backing up system configuration...\"\ntar -czf ${BACKUP_DIR}/config/system-config-${DATE}.tar.gz \\\n    /etc/default/jenkins \\\n    /etc/sysconfig/jenkins \\\n    /etc/systemd/system/jenkins.service.d/ 2\u003e/dev/null\n\n# Database backup (if using external database)\nif [ -f \"${JENKINS_HOME}/database-config.xml\" ]; then\n    echo \"Backing up external database...\"\n    sudo -u postgres pg_dump jenkinsdb | gzip \u003e ${BACKUP_DIR}/config/jenkinsdb-${DATE}.sql.gz\nfi\n\n# Start Jenkins\nstart_jenkins\n\n# Cloud backup (uncomment and configure as needed)\n# aws s3 cp ${BACKUP_DIR}/ s3://jenkins-backups/${DATE}/ --recursive --sse AES256\n# az storage blob upload-batch --source ${BACKUP_DIR} --destination jenkins-backups --destination-path ${DATE}\n# gsutil cp -r ${BACKUP_DIR}/* gs://jenkins-backups/${DATE}/\n\n# Verify backup integrity\necho \"Verifying backup integrity...\"\nLATEST_BACKUP=$(ls -t ${BACKUP_DIR}/config/jenkins-home-*.tar.gz | head -1)\nif tar -tzf \"$LATEST_BACKUP\" \u003e/dev/null 2\u003e\u00261; then\n    echo \"✅ Backup integrity verified\"\n    BACKUP_SIZE=$(du -h \"$LATEST_BACKUP\" | cut -f1)\n    echo \"Backup size: $BACKUP_SIZE\"\nelse\n    echo \"❌ Backup integrity check failed\"\n    exit 1\nfi\n\n# Cleanup old backups\necho \"Cleaning up old backups (keeping last $RETENTION_DAYS days)...\"\nfind ${BACKUP_DIR} -name \"jenkins-*\" -type f -mtime +${RETENTION_DAYS} -delete\nfind ${BACKUP_DIR} -name \"plugin-list-*\" -type f -mtime +${RETENTION_DAYS} -delete\nfind ${BACKUP_DIR} -name \"*-${DATE}*\" -type d -mtime +${RETENTION_DAYS} -exec rm -rf {} \\;\n\n# Generate backup report\necho \"Generating backup report...\"\ncat \u003e ${BACKUP_DIR}/backup-report-${DATE}.txt \u003c\u003cEOF\nJenkins Backup Report - ${DATE}\n================================\n\nBackup Location: ${BACKUP_DIR}\nJenkins Home: ${JENKINS_HOME}\nBackup Date: $(date)\nServer: $(hostname)\n\nFiles backed up:\n- Jenkins Home: $(ls -lh ${BACKUP_DIR}/config/jenkins-home-${DATE}.tar.gz)\n- Job Configs: $(ls -lh ${BACKUP_DIR}/jobs/job-configs-${DATE}.tar.gz)\n- Plugins: $(ls -lh ${BACKUP_DIR}/plugins/plugin-list-${DATE}.txt)\n- Secrets: $(ls -lh ${BACKUP_DIR}/secrets/jenkins-secrets-${DATE}.tar.gz 2\u003e/dev/null || echo \"No secrets backup\")\n- System Config: $(ls -lh ${BACKUP_DIR}/config/system-config-${DATE}.tar.gz 2\u003e/dev/null || echo \"No system config backup\")\n\nTotal Backup Size: $(du -h ${BACKUP_DIR} | tail -1 | cut -f1)\n\nVerification: ✅ Passed\nEOF\n\necho \"✅ Jenkins backup completed: ${DATE}\"\necho \"📊 Backup report: ${BACKUP_DIR}/backup-report-${DATE}.txt\"\n```\n\n### Restore Procedures\n\n```bash\n#!/bin/bash\n# jenkins-restore.sh\n\nBACKUP_FILE=\"${1}\"\nRESTORE_TYPE=\"${2:-full}\"  # full, config-only, jobs-only\n\nusage() {\n    echo \"Usage: $0 \u003cbackup_file\u003e [restore_type]\"\n    echo \"Restore types: full (default), config-only, jobs-only\"\n    echo \"\"\n    echo \"Available backups:\"\n    ls -la /backup/jenkins/config/jenkins-home-*.tar.gz | head -10\n    exit 1\n}\n\nif [ -z \"$BACKUP_FILE\" ]; then\n    usage\nfi\n\nif [ ! -f \"$BACKUP_FILE\" ]; then\n    echo \"❌ Backup file not found: $BACKUP_FILE\"\n    exit 1\nfi\n\necho \"🔄 Starting Jenkins restore from: $BACKUP_FILE\"\necho \"Restore type: $RESTORE_TYPE\"\n\n# Pre-restore backup of current state\nif [ -d \"/var/lib/jenkins\" ]; then\n    echo \"📦 Creating backup of current installation...\"\n    CURRENT_BACKUP=\"/backup/jenkins/pre-restore-$(date +%s)\"\n    mkdir -p \"$CURRENT_BACKUP\"\n    mv /var/lib/jenkins \"$CURRENT_BACKUP/jenkins-$(date +%Y%m%d_%H%M%S)\"\n    echo \"Current installation backed up to: $CURRENT_BACKUP\"\nfi\n\n# Stop Jenkins\necho \"⏹️  Stopping Jenkins...\"\nsystemctl stop jenkins\n\ncase \"$RESTORE_TYPE\" in\n    \"full\")\n        echo \"🔄 Performing full restore...\"\n        \n        # Create new Jenkins directory\n        mkdir -p /var/lib/jenkins\n        \n        # Restore from backup\n        echo \"📂 Extracting backup archive...\"\n        tar -xzf \"$BACKUP_FILE\" -C /var/lib/jenkins\n        \n        # Set proper ownership\n        chown -R jenkins:jenkins /var/lib/jenkins\n        chmod -R 755 /var/lib/jenkins\n        \n        # Special permissions for secrets\n        if [ -d \"/var/lib/jenkins/secrets\" ]; then\n            chmod 700 /var/lib/jenkins/secrets\n            chmod 600 /var/lib/jenkins/secrets/*\n        fi\n        ;;\n        \n    \"config-only\")\n        echo \"🔄 Performing configuration-only restore...\"\n        \n        # Create minimal Jenkins directory\n        mkdir -p /var/lib/jenkins\n        \n        # Extract only configuration files\n        tar -xzf \"$BACKUP_FILE\" -C /var/lib/jenkins \\\n            --include=\"*/config.xml\" \\\n            --include=\"*/secrets/*\" \\\n            --include=\"*/users/*\" \\\n            --include=\"*/plugins/*\" \\\n            --exclude=\"*/workspace/*\" \\\n            --exclude=\"*/builds/*\"\n            \n        chown -R jenkins:jenkins /var/lib/jenkins\n        ;;\n        \n    \"jobs-only\")\n        echo \"🔄 Performing jobs-only restore...\"\n        \n        if [ ! -d \"/var/lib/jenkins\" ]; then\n            echo \"❌ Jenkins directory not found. Cannot restore jobs only.\"\n            exit 1\n        fi\n        \n        # Backup current jobs\n        if [ -d \"/var/lib/jenkins/jobs\" ]; then\n            mv /var/lib/jenkins/jobs \"/var/lib/jenkins/jobs.backup.$(date +%s)\"\n        fi\n        \n        # Extract only jobs\n        tar -xzf \"$BACKUP_FILE\" -C /var/lib/jenkins jobs/\n        chown -R jenkins:jenkins /var/lib/jenkins/jobs\n        ;;\n        \n    *)\n        echo \"❌ Unknown restore type: $RESTORE_TYPE\"\n        usage\n        ;;\nesac\n\n# Restore system configuration if available\nBACKUP_DIR=$(dirname \"$BACKUP_FILE\")\nBACKUP_DATE=$(basename \"$BACKUP_FILE\" .tar.gz | sed 's/jenkins-home-//')\nSYSTEM_CONFIG=\"${BACKUP_DIR}/../config/system-config-${BACKUP_DATE}.tar.gz\"\n\nif [ -f \"$SYSTEM_CONFIG\" ]; then\n    echo \"🔧 Restoring system configuration...\"\n    tar -xzf \"$SYSTEM_CONFIG\" -C / 2\u003e/dev/null\n    systemctl daemon-reload\nfi\n\n# Restore database if available\nDB_BACKUP=\"${BACKUP_DIR}/jenkinsdb-${BACKUP_DATE}.sql.gz\"\nif [ -f \"$DB_BACKUP\" ]; then\n    echo \"🗄️  Restoring database...\"\n    zcat \"$DB_BACKUP\" | sudo -u postgres psql jenkinsdb\nfi\n\n# Start Jenkins\necho \"▶️  Starting Jenkins...\"\nsystemctl start jenkins\n\n# Wait for Jenkins to start and verify\necho \"⏳ Waiting for Jenkins to start...\"\nfor i in {1..120}; do\n    if curl -f http://localhost:8080/login \u003e/dev/null 2\u003e\u00261; then\n        echo \"✅ Jenkins started successfully\"\n        break\n    fi\n    echo \"Waiting for Jenkins to start... (${i}/120)\"\n    sleep 10\ndone\n\n# Verify restoration\necho \"🔍 Verifying restoration...\"\nif curl -f http://localhost:8080/login \u003e/dev/null 2\u003e\u00261; then\n    echo \"✅ Jenkins is responding\"\n    \n    # Check if jobs were restored\n    if [ -d \"/var/lib/jenkins/jobs\" ]; then\n        JOB_COUNT=$(ls -1 /var/lib/jenkins/jobs | wc -l)\n        echo \"📋 Jobs restored: $JOB_COUNT\"\n    fi\n    \n    # Check if plugins were restored\n    if [ -d \"/var/lib/jenkins/plugins\" ]; then\n        PLUGIN_COUNT=$(ls -1 /var/lib/jenkins/plugins | wc -l)\n        echo \"🔌 Plugins restored: $PLUGIN_COUNT\"\n    fi\n    \n    echo \"✅ Jenkins restoration completed successfully\"\n    echo \"\"\n    echo \"📝 Next steps:\"\n    echo \"1. Verify Jenkins configuration via web interface\"\n    echo \"2. Check plugin compatibility and update if needed\"\n    echo \"3. Verify job configurations and test builds\"\n    echo \"4. Update any environment-specific settings\"\n    \nelse\n    echo \"❌ Jenkins restoration failed - service not responding\"\n    echo \"Check logs: journalctl -u jenkins -n 50\"\n    exit 1\nfi\n```\n\n### Disaster Recovery\n\n```bash\n#!/bin/bash\n# jenkins-disaster-recovery.sh\n\necho \"🚨 Jenkins Disaster Recovery Procedure\"\necho \"======================================\"\n\n# Check if Jenkins is running\nif systemctl is-active jenkins \u003e/dev/null 2\u003e\u00261; then\n    echo \"⚠️  Jenkins is running. This procedure should be run on a failed system.\"\n    read -p \"Continue anyway? (y/N): \" -n 1 -r\n    echo\n    if [[ ! $REPLY =~ ^[Yy]$ ]]; then\n        exit 1\n    fi\nfi\n\n# Find latest backup\nBACKUP_DIR=\"/backup/jenkins\"\nLATEST_BACKUP=$(ls -t ${BACKUP_DIR}/config/jenkins-home-*.tar.gz 2\u003e/dev/null | head -1)\n\nif [ -z \"$LATEST_BACKUP\" ]; then\n    echo \"❌ No backups found in ${BACKUP_DIR}\"\n    echo \"Please restore from cloud backup or external storage\"\n    exit 1\nfi\n\necho \"📦 Latest backup found: $LATEST_BACKUP\"\necho \"📅 Backup date: $(basename \"$LATEST_BACKUP\" .tar.gz | sed 's/jenkins-home-//')\"\n\n# Verify backup integrity\necho \"🔍 Verifying backup integrity...\"\nif tar -tzf \"$LATEST_BACKUP\" \u003e/dev/null 2\u003e\u00261; then\n    echo \"✅ Backup integrity verified\"\nelse\n    echo \"❌ Backup is corrupted. Cannot proceed with recovery.\"\n    exit 1\nfi\n\n# Create disaster recovery log\nDR_LOG=\"/var/log/jenkins-disaster-recovery-$(date +%Y%m%d_%H%M%S).log\"\nexec \u003e \u003e(tee -a \"$DR_LOG\")\nexec 2\u003e\u00261\n\necho \"📝 Disaster recovery log: $DR_LOG\"\n\n# System preparation\necho \"🔧 Preparing system for recovery...\"\n\n# Install Jenkins if not present\nif ! command -v jenkins \u003e/dev/null 2\u003e\u00261; then\n    echo \"📦 Installing Jenkins...\"\n    # Add Jenkins repository and install (distribution-specific commands)\n    if [ -f /etc/debian_version ]; then\n        wget -q -O - https://pkg.jenkins.io/debian-stable/jenkins.io.key | apt-key add -\n        echo \"deb https://pkg.jenkins.io/debian-stable binary/\" \u003e /etc/apt/sources.list.d/jenkins.list\n        apt-get update\n        apt-get install -y openjdk-17-jdk jenkins\n    elif [ -f /etc/redhat-release ]; then\n        yum install -y java-17-openjdk jenkins\n    fi\nfi\n\n# Stop Jenkins service\nsystemctl stop jenkins\n\n# Clear existing Jenkins data\nif [ -d \"/var/lib/jenkins\" ]; then\n    echo \"🗑️  Removing existing Jenkins data...\"\n    rm -rf /var/lib/jenkins.disaster-backup-$(date +%s)\n    mv /var/lib/jenkins /var/lib/jenkins.disaster-backup-$(date +%s)\nfi\n\n# Create new Jenkins directory\nmkdir -p /var/lib/jenkins\n\n# Restore from backup\necho \"🔄 Restoring Jenkins from backup...\"\ntar -xzf \"$LATEST_BACKUP\" -C /var/lib/jenkins\n\n# Set proper permissions\nchown -R jenkins:jenkins /var/lib/jenkins\nchmod -R 755 /var/lib/jenkins\n\n# Special permissions for sensitive files\nif [ -d \"/var/lib/jenkins/secrets\" ]; then\n    chmod 700 /var/lib/jenkins/secrets\n    chmod 600 /var/lib/jenkins/secrets/*\nfi\n\nif [ -d \"/var/lib/jenkins/users\" ]; then\n    chmod 700 /var/lib/jenkins/users\nfi\n\n# Restore system configuration\nBACKUP_DATE=$(basename \"$LATEST_BACKUP\" .tar.gz | sed 's/jenkins-home-//')\nSYSTEM_CONFIG=\"${BACKUP_DIR}/config/system-config-${BACKUP_DATE}.tar.gz\"\n\nif [ -f \"$SYSTEM_CONFIG\" ]; then\n    echo \"🔧 Restoring system configuration...\"\n    tar -xzf \"$SYSTEM_CONFIG\" -C / 2\u003e/dev/null\n    systemctl daemon-reload\nfi\n\n# Restore database if available\nDB_BACKUP=\"${BACKUP_DIR}/config/jenkinsdb-${BACKUP_DATE}.sql.gz\"\nif [ -f \"$DB_BACKUP\" ]; then\n    echo \"🗄️  Restoring database...\"\n    # Ensure PostgreSQL is running\n    systemctl start postgresql\n    \n    # Drop and recreate database\n    sudo -u postgres psql -c \"DROP DATABASE IF EXISTS jenkinsdb;\"\n    sudo -u postgres psql -c \"CREATE DATABASE jenkinsdb;\"\n    sudo -u postgres psql -c \"GRANT ALL PRIVILEGES ON DATABASE jenkinsdb TO jenkinsuser;\"\n    \n    # Restore database\n    zcat \"$DB_BACKUP\" | sudo -u postgres psql jenkinsdb\nfi\n\n# Configure firewall\necho \"🔥 Configuring firewall...\"\nif command -v ufw \u003e/dev/null 2\u003e\u00261; then\n    ufw allow 8080/tcp\n    ufw allow 50000/tcp\nelif command -v firewall-cmd \u003e/dev/null 2\u003e\u00261; then\n    firewall-cmd --permanent --add-port=8080/tcp\n    firewall-cmd --permanent --add-port=50000/tcp\n    firewall-cmd --reload\nfi\n\n# Start Jenkins\necho \"▶️  Starting Jenkins...\"\nsystemctl enable jenkins\nsystemctl start jenkins\n\n# Wait for Jenkins to start\necho \"⏳ Waiting for Jenkins to initialize...\"\nfor i in {1..300}; do\n    if curl -f http://localhost:8080/login \u003e/dev/null 2\u003e\u00261; then\n        echo \"✅ Jenkins is responding\"\n        break\n    fi\n    echo \"Waiting for Jenkins... (${i}/300)\"\n    sleep 10\ndone\n\n# Verify recovery\necho \"🔍 Verifying disaster recovery...\"\n\n# Check Jenkins status\nif systemctl is-active jenkins \u003e/dev/null 2\u003e\u00261; then\n    echo \"✅ Jenkins service is running\"\nelse\n    echo \"❌ Jenkins service failed to start\"\n    echo \"Check logs: journalctl -u jenkins -n 50\"\n    exit 1\nfi\n\n# Check web interface\nif curl -f http://localhost:8080/login \u003e/dev/null 2\u003e\u00261; then\n    echo \"✅ Jenkins web interface is accessible\"\nelse\n    echo \"❌ Jenkins web interface is not responding\"\n    exit 1\nfi\n\n# Check jobs restoration\nif [ -d \"/var/lib/jenkins/jobs\" ]; then\n    JOB_COUNT=$(ls -1 /var/lib/jenkins/jobs 2\u003e/dev/null | wc -l)\n    echo \"📋 Jobs recovered: $JOB_COUNT\"\nelse\n    echo \"⚠️  No jobs directory found\"\nfi\n\n# Check plugins restoration\nif [ -d \"/var/lib/jenkins/plugins\" ]; then\n    PLUGIN_COUNT=$(ls -1 /var/lib/jenkins/plugins 2\u003e/dev/null | wc -l)\n    echo \"🔌 Plugins recovered: $PLUGIN_COUNT\"\nelse\n    echo \"⚠️  No plugins directory found\"\nfi\n\n# Generate recovery report\necho \"📊 Generating disaster recovery report...\"\ncat \u003e \"/var/log/jenkins-recovery-report-$(date +%Y%m%d_%H%M%S).txt\" \u003c\u003cEOF\nJenkins Disaster Recovery Report\n===============================\nRecovery Date: $(date)\nServer: $(hostname)\nBackup Used: $LATEST_BACKUP\nRecovery Log: $DR_LOG\n\nRecovery Summary:\n- Jenkins Service: $(systemctl is-active jenkins)\n- Web Interface: $(curl -s -o /dev/null -w \"%{http_code}\" http://localhost:8080/login)\n- Jobs Recovered: $JOB_COUNT\n- Plugins Recovered: $PLUGIN_COUNT\n- Database Restored: $([ -f \"$DB_BACKUP\" ] \u0026\u0026 echo \"Yes\" || echo \"No\")\n\nNext Steps:\n1. Verify Jenkins configuration via web interface: http://$(hostname):8080\n2. Test critical job configurations\n3. Update any environment-specific settings\n4. Verify agent connections\n5. Test integrations (SCM, notifications, etc.)\n6. Update DNS/load balancer configurations if needed\n7. Notify team of recovery completion\n\nRecovery Status: ✅ COMPLETED\nEOF\n\necho \"\"\necho \"🎉 Jenkins disaster recovery completed successfully!\"\necho \"📝 Recovery report saved to: /var/log/jenkins-recovery-report-$(date +%Y%m%d_%H%M%S).txt\"\necho \"\"\necho \"🔗 Access Jenkins: http://$(hostname):8080\"\necho \"\"\necho \"⚠️  Important post-recovery tasks:\"\necho \"1. Verify all job configurations\"\necho \"2. Test agent connections\"\necho \"3. Verify integrations (GitHub, LDAP, etc.)\"\necho \"4. Update any environment-specific configurations\"\necho \"5. Perform a backup of the recovered system\"\n```\n\n## Troubleshooting\n\n### Common Issues\n\n1. **Jenkins won't start**:\n```bash\n# Check service status and logs\nsudo systemctl status jenkins\nsudo journalctl -u jenkins -f\n\n# Check Java version and JAVA_HOME\njava -version\necho $JAVA_HOME\n\n# Check disk space\ndf -h /var/lib/jenkins\n\n# Check permissions\nls -la /var/lib/jenkins\nsudo chown -R jenkins:jenkins /var/lib/jenkins\n\n# Check memory allocation\nfree -h\nps aux | grep jenkins\n\n# Clear Jenkins cache\nsudo systemctl stop jenkins\nsudo rm -rf /var/lib/jenkins/war\nsudo systemctl start jenkins\n```\n\n2. **Memory issues**:\n```bash\n# Increase JVM memory\nsudo systemctl edit jenkins\n# Add:\n[Service]\nEnvironment=\"JAVA_OPTS=-Xmx8g -Xms4g -XX:+UseG1GC\"\n\nsudo systemctl daemon-reload\nsudo systemctl restart jenkins\n\n# Monitor memory usage\ntop -p $(pgrep java)\njstat -gc $(pgrep java) 5s\n```\n\n3. **Plugin issues**:\n```bash\n# Safe start (disable all plugins)\nsudo systemctl stop jenkins\necho 'jenkins.install.runSetupWizard=false' \u003e /var/lib/jenkins/jenkins.install.runSetupWizard\nsudo systemctl start jenkins\n\n# Clear plugin cache\nsudo rm -rf /var/lib/jenkins/plugins/*.bak\nsudo rm -rf /var/lib/jenkins/plugins/*.hpi.pinned\n\n# Update plugins via CLI\njava -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password list-plugins | grep -E \"\\)$\" | awk '{print $1}' | xargs java -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password install-plugin\n\n# Check plugin dependencies\njava -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password list-plugins | grep -v \"^$\"\n```\n\n4. **Build failures**:\n```bash\n# Check workspace permissions\nsudo chown -R jenkins:jenkins /var/lib/jenkins/workspace\n\n# Clear old builds\njava -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password delete-builds job-name 1-100\n\n# Check agent connectivity\njava -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password list-computers\njava -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password connect-node agent-name\n\n# Monitor build resources\nhtop\niostat -x 1\n```\n\n### Debug Mode\n\n```bash\n# Enable debug logging for Jenkins\nsudo systemctl edit jenkins\n# Add:\n[Service]\nEnvironment=\"JAVA_OPTS=-Xmx4g -Djava.util.logging.config.file=/var/lib/jenkins/logging.properties\"\n\n# Create detailed logging configuration\nsudo tee /var/lib/jenkins/logging.properties \u003c\u003cEOF\n.level = INFO\n\n# Root logger\nhandlers = java.util.logging.ConsoleHandler, java.util.logging.FileHandler\n\n# Console logging\njava.util.logging.ConsoleHandler.level = INFO\njava.util.logging.ConsoleHandler.formatter = java.util.logging.SimpleFormatter\n\n# File logging\njava.util.logging.FileHandler.pattern = /var/log/jenkins/jenkins-debug.log\njava.util.logging.FileHandler.limit = 50000000\njava.util.logging.FileHandler.count = 5\njava.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter\n\n# Component-specific logging\nhudson.level = FINE\njenkins.level = FINE\nhudson.security.level = FINE\nhudson.plugins.level = FINE\nhudson.model.level = FINE\n\n# Plugin debugging\nhudson.plugins.git.level = FINE\norg.jenkinsci.plugins.workflow.level = FINE\nEOF\n\nsudo systemctl restart jenkins\n\n# View debug logs\nsudo tail -f /var/log/jenkins/jenkins-debug.log\n\n# Enable specific plugin debugging via Jenkins CLI\njava -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password groovy = \u003c\u003cEOF\nimport java.util.logging.Logger\nimport java.util.logging.Level\n\n// Enable debug logging for specific components\nLogger.getLogger(\"hudson.security\").setLevel(Level.FINE)\nLogger.getLogger(\"hudson.plugins.git\").setLevel(Level.FINE)\nLogger.getLogger(\"org.jenkinsci.plugins.workflow\").setLevel(Level.FINE)\n\nprintln \"Debug logging enabled\"\nEOF\n```\n\n## Maintenance\n\n### Update Procedures\n\n```bash\n# RHEL/CentOS/Rocky/AlmaLinux\nsudo dnf check-update jenkins\nsudo dnf update jenkins\n\n# Debian/Ubuntu\nsudo apt update\nsudo apt upgrade jenkins\n\n# Arch Linux\nyay -Syu jenkins\n\n# Alpine Linux (Docker)\ndocker pull jenkins/jenkins:lts-jdk17\ndocker stop jenkins\ndocker rm jenkins\n# Re-run docker run command with new image\n\n# openSUSE\nsudo zypper update jenkins\n\n# FreeBSD\npkg update\npkg upgrade jenkins\n\n# macOS\nbrew upgrade jenkins-lts\n\n# Always backup before updates\nsudo /usr/local/bin/jenkins-backup.sh\n\n# Update plugins after Jenkins update\njava -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password list-plugins | grep -E \"\\)$\" | awk '{print $1}' | xargs java -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password install-plugin\n\n# Restart after updates\nsudo systemctl restart jenkins\n```\n\n### Maintenance Tasks\n\n```bash\n#!/bin/bash\n# jenkins-maintenance.sh\n\nJENKINS_HOME=\"/var/lib/jenkins\"\nJENKINS_URL=\"http://localhost:8080\"\nADMIN_CREDENTIALS=\"admin:SecureAdminPassword123!\"\n\necho \"🔧 Starting Jenkins maintenance tasks...\"\n\n# Clean up old builds\necho \"🗑️  Cleaning up old builds...\"\njava -jar ${JENKINS_HOME}/jenkins-cli.jar -s ${JENKINS_URL} -auth ${ADMIN_CREDENTIALS} groovy = \u003c\u003cEOF\nimport jenkins.model.Jenkins\nimport hudson.model.*\n\nJenkins.instance.getAllItems(Job.class).each { job -\u003e\n    if (job.getBuilds().size() \u003e 50) {\n        def buildsToDelete = job.getBuilds().drop(50)\n        println \"Deleting \\${buildsToDelete.size()} old builds for job: \\${job.name}\"\n        buildsToDelete.each { build -\u003e\n            build.delete()\n        }\n    }\n}\nEOF\n\n# Clean up workspace\necho \"🧹 Cleaning up workspaces...\"\njava -jar ${JENKINS_HOME}/jenkins-cli.jar -s ${JENKINS_URL} -auth ${ADMIN_CREDENTIALS} groovy = \u003c\u003cEOF\nimport hudson.model.*\nimport hudson.FilePath\nimport jenkins.model.Jenkins\n\nJenkins.instance.getAllItems(AbstractProject.class).each { job -\u003e\n    def workspace = job.getWorkspace()\n    if (workspace != null \u0026\u0026 workspace.exists()) {\n        def size = workspace.length()\n        if (size \u003e 1024 * 1024 * 100) { // \u003e 100MB\n            println \"Workspace for \\${job.name} is \\${size / (1024*1024)} MB\"\n            workspace.deleteRecursive()\n            println \"Cleaned workspace for job: \\${job.name}\"\n        }\n    }\n}\nEOF\n\n# Update plugins\necho \"🔌 Checking for plugin updates...\"\njava -jar ${JENKINS_HOME}/jenkins-cli.jar -s ${JENKINS_URL} -auth ${ADMIN_CREDENTIALS} list-plugins | grep -E \"\\)$\" \u003e /tmp/outdated-plugins.txt\n\nif [ -s /tmp/outdated-plugins.txt ]; then\n    echo \"📦 Updating outdated plugins:\"\n    cat /tmp/outdated-plugins.txt\n    \n    # Update plugins\n    awk '{print $1}' /tmp/outdated-plugins.txt | xargs java -jar ${JENKINS_HOME}/jenkins-cli.jar -s ${JENKINS_URL} -auth ${ADMIN_CREDENTIALS} install-plugin\n    \n    echo \"🔄 Restarting Jenkins to apply plugin updates...\"\n    java -jar ${JENKINS_HOME}/jenkins-cli.jar -s ${JENKINS_URL} -auth ${ADMIN_CREDENTIALS} safe-restart\nfi\n\n# Clean up logs\necho \"📋 Rotating and cleaning logs...\"\nfind ${JENKINS_HOME}/logs -name \"*.log\" -mtime +7 -delete\nfind /var/log/jenkins -name \"*.log.*\" -mtime +7 -delete\n\n# Disk usage check\necho \"💾 Checking disk usage...\"\nDISK_USAGE=$(df ${JENKINS_HOME} | awk 'NR==2 {print $5}' | sed 's/%//')\nif [ ${DISK_USAGE} -gt 80 ]; then\n    echo \"⚠️  High disk usage: ${DISK_USAGE}%\"\n    \n    # Clean up large files\n    find ${JENKINS_HOME}/jobs -name \"*.log\" -size +100M -mtime +3 -delete\n    find ${JENKINS_HOME}/workspace -name \"*\" -size +500M -mtime +1 -delete\nfi\n\n# Backup verification\necho \"🔍 Verifying recent backups...\"\nLATEST_BACKUP=$(ls -t /backup/jenkins/config/jenkins-home-*.tar.gz 2\u003e/dev/null | head -1)\nif [ -n \"$LATEST_BACKUP\" ]; then\n    BACKUP_AGE=$(($(date +%s) - $(stat -c %Y \"$LATEST_BACKUP\")))\n    if [ $BACKUP_AGE -gt 172800 ]; then  # 2 days\n        echo \"⚠️  Latest backup is older than 2 days: $LATEST_BACKUP\"\n        echo \"💾 Running backup now...\"\n        /usr/local/bin/jenkins-backup.sh\n    else\n        echo \"✅ Recent backup found: $LATEST_BACKUP\"\n    fi\nelse\n    echo \"❌ No backups found. Running backup...\"\n    /usr/local/bin/jenkins-backup.sh\nfi\n\n# Security check\necho \"🔒 Running security checks...\"\njava -jar ${JENKINS_HOME}/jenkins-cli.jar -s ${JENKINS_URL} -auth ${ADMIN_CREDENTIALS} groovy = \u003c\u003cEOF\nimport jenkins.security.ApiTokenProperty\nimport hudson.security.SecurityRealm\nimport jenkins.model.Jenkins\n\ndef instance = Jenkins.getInstance()\n\n// Check for default passwords\ndef realm = instance.getSecurityRealm()\nif (realm instanceof hudson.security.HudsonPrivateSecurityRealm) {\n    def users = realm.getAllUsers()\n    users.each { user -\u003e\n        if (user.getId() == \"admin\") {\n            println \"⚠️  Default admin user found. Consider renaming or removing.\"\n        }\n    }\n}\n\n// Check for anonymous access\ndef authStrategy = instance.getAuthorizationStrategy()\nif (authStrategy.hasPermission(org.acegisecurity.Authentication.ANONYMOUS_USER, Jenkins.READ)) {\n    println \"⚠️  Anonymous read access is enabled\"\n}\n\nprintln \"Security check completed\"\nEOF\n\n# Performance check\necho \"📊 Checking performance metrics...\"\nJAVA_PID=$(pgrep java)\nif [ -n \"$JAVA_PID\" ]; then\n    MEMORY_USAGE=$(ps -o pid,vsz,rss,comm -p $JAVA_PID | awk 'NR==2 {print $3/1024}')\n    CPU_USAGE=$(ps -o pid,pcpu,comm -p $JAVA_PID | awk 'NR==2 {print $2}')\n    \n    echo \"Memory usage: ${MEMORY_USAGE}MB\"\n    echo \"CPU usage: ${CPU_USAGE}%\"\n    \n    if (( $(echo \"${MEMORY_USAGE} \u003e 6144\" | bc -l) )); then\n        echo \"⚠️  High memory usage detected\"\n    fi\nfi\n\necho \"✅ Jenkins maintenance completed\"\n\n# Generate maintenance report\ncat \u003e /var/log/jenkins-maintenance-$(date +%Y%m%d).log \u003c\u003cEOF\nJenkins Maintenance Report - $(date)\n===================================\n\nTasks Completed:\n- Old builds cleanup: ✅\n- Workspace cleanup: ✅\n- Plugin updates: $([ -s /tmp/outdated-plugins.txt ] \u0026\u0026 echo \"✅ Updated\" || echo \"✅ Up to date\")\n- Log rotation: ✅\n- Disk usage check: ✅ (${DISK_USAGE}%)\n- Backup verification: ✅\n- Security check: ✅\n- Performance check: ✅\n\nSystem Status:\n- Memory usage: ${MEMORY_USAGE}MB\n- CPU usage: ${CPU_USAGE}%\n- Disk usage: ${DISK_USAGE}%\n\nNext maintenance: $(date -d \"next week\" +%Y-%m-%d)\nEOF\n\necho \"📊 Maintenance report: /var/log/jenkins-maintenance-$(date +%Y%m%d).log\"\n```\n\n### Health Monitoring\n\n```bash\n# Create monitoring cron job\necho \"0 2 * * * root /usr/local/bin/jenkins-maintenance.sh\" | sudo tee -a /etc/crontab\necho \"*/15 * * * * root /usr/local/bin/jenkins-health-check.sh\" | sudo tee -a /etc/crontab\n\n# Log rotation configuration\nsudo tee /etc/logrotate.d/jenkins \u003c\u003cEOF\n/var/log/jenkins/*.log {\n    daily\n    rotate 30\n    compress\n    delaycompress\n    missingok\n    notifempty\n    create 640 jenkins adm\n    postrotate\n        systemctl reload jenkins \u003e /dev/null 2\u003e\u00261 || true\n    endscript\n}\n\n/var/lib/jenkins/logs/*.log {\n    daily\n    rotate 7\n    compress\n    delaycompress\n    missingok\n    notifempty\n    create 640 jenkins jenkins\n}\nEOF\n```\n\n## Integration Examples\n\n### Git Integration with Webhooks\n\n```bash\n# Configure Git webhook for automatic builds\nsudo tee /var/lib/jenkins/casc_configs/git-integration.yaml \u003c\u003cEOF\nunclassified:\n  gitHubPluginConfig:\n    hookUrl: \"https://jenkins.example.com/github-webhook/\"\n    \n  gitLabConnectionConfig:\n    connections:\n      - name: \"GitLab\"\n        url: \"https://gitlab.example.com\"\n        apiTokenId: \"gitlab-api-token\"\n        clientBuilderId: \"autodetect\"\n        connectionTimeout: 10\n        readTimeout: 10\n\njobs:\n  - script: |\n      multibranchPipelineJob('example-app') {\n        branchSources {\n          git {\n            id('github-example')\n            remote('https://github.com/example/app.git')\n            credentialsId('github-credentials')\n            includes('main develop feature/* release/*')\n          }\n        }\n        \n        factory {\n          workflowBranchProjectFactory {\n            scriptPath('Jenkinsfile')\n          }\n        }\n        \n        triggers {\n          periodicFolderTrigger {\n            interval('1d')\n          }\n        }\n        \n        orphanedItemStrategy {\n          discardOldItems {\n            daysToKeep(7)\n            numToKeep(10)\n          }\n        }\n      }\nEOF\n```\n\n### Docker Integration\n\n```groovy\n// Docker pipeline example\npipeline {\n    agent any\n    \n    environment {\n        DOCKER_REGISTRY = credentials('docker-registry')\n        DOCKER_IMAGE = \"${env.JOB_NAME}:${env.BUILD_NUMBER}\"\n    }\n    \n    stages {\n        stage('Build Docker Image') {\n            steps {\n                script {\n                    def image = docker.build(\"${DOCKER_REGISTRY}/${DOCKER_IMAGE}\")\n                    \n                    // Security scan\n                    sh \"\"\"\n                        docker run --rm -v /var/run/docker.sock:/var/run/docker.sock \\\n                            aquasec/trivy:latest image \\\n                            --severity HIGH,CRITICAL \\\n                            --exit-code 1 \\\n                            ${DOCKER_REGISTRY}/${DOCKER_IMAGE}\n                    \"\"\"\n                    \n                    // Push to registry\n                    docker.withRegistry(\"https://${DOCKER_REGISTRY}\", 'docker-registry-credentials') {\n                        image.push()\n                        image.push(\"latest\")\n                    }\n                }\n            }\n        }\n        \n        stage('Deploy') {\n            steps {\n                script {\n                    // Deploy to Kubernetes\n                    sh \"\"\"\n                        kubectl set image deployment/myapp \\\n                            myapp=${DOCKER_REGISTRY}/${DOCKER_IMAGE} \\\n                            --namespace=production\n                        \n                        kubectl rollout status deployment/myapp \\\n                            --namespace=production --timeout=300s\n                    \"\"\"\n                }\n            }\n        }\n    }\n}\n```\n\n### Kubernetes Integration\n\n```yaml\n# Jenkins agent in Kubernetes\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: jenkins\n  namespace: jenkins\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: jenkins\nrules:\n- apiGroups: [\"\"]\n  resources: [\"pods\",\"pods/exec\"]\n  verbs: [\"create\",\"delete\",\"get\",\"list\",\"patch\",\"update\",\"watch\"]\n- apiGroups: [\"\"]\n  resources: [\"pods/log\"]\n  verbs: [\"get\",\"list\",\"watch\"]\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: jenkins\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: jenkins\nsubjects:\n- kind: ServiceAccount\n  name: jenkins\n  namespace: jenkins\n---\n# Jenkins Configuration as Code for Kubernetes\njenkins:\n  clouds:\n    - kubernetes:\n        name: \"kubernetes\"\n        serverUrl: \"https://kubernetes.default\"\n        namespace: \"jenkins\"\n        credentialsId: \"kubernetes-token\"\n        jenkinsUrl: \"http://jenkins.jenkins.svc.cluster.local:8080\"\n        containerCapStr: \"10\"\n        templates:\n          - name: \"jenkins-agent\"\n            namespace: \"jenkins\"\n            label: \"kubernetes\"\n            containers:\n              - name: \"jnlp\"\n                image: \"jenkins/inbound-agent:latest\"\n                workingDir: \"/home/jenkins/agent\"\n                resourceRequestCpu: \"100m\"\n                resourceRequestMemory: \"256Mi\"\n                resourceLimitCpu: \"500m\"\n                resourceLimitMemory: \"1Gi\"\n```\n\n### LDAP/Active Directory Integration\n\n```yaml\njenkins:\n  securityRealm:\n    ldap:\n      configurations:\n        - server: \"ldaps://ad.example.com:636\"\n          rootDN: \"DC=example,DC=com\"\n          inhibitInferRootDN: false\n          userSearchBase: \"OU=Users,OU=Company\"\n          userSearch: \"(\u0026(objectCategory=Person)(objectClass=user)(sAMAccountName={0}))\"\n          groupSearchBase: \"OU=Groups,OU=Company\"\n          groupSearchFilter: \"(\u0026(objectClass=group)(cn={0}))\"\n          managerDN: \"CN=jenkins,OU=Service Accounts,DC=example,DC=com\"\n          managerPasswordSecret: \"ldap-service-password\"\n          displayNameAttributeName: \"displayName\"\n          mailAddressAttributeName: \"mail\"\n          \n  authorizationStrategy:\n    roleBased:\n      roles:\n        global:\n          - name: \"administrators\"\n            permissions:\n              - \"Overall/Administer\"\n            assignments:\n              - \"Domain Admins\"\n              - \"Jenkins Admins\"\n        items:\n          - name: \"developers\"\n            pattern: \".*\"\n            permissions:\n              - \"Job/Build\"\n              - \"Job/Cancel\"\n              - \"Job/Read\"\n            assignments:\n              - \"Development Team\"\n```\n\n## Additional Resources\n\n- [Official Jenkins Documentation](https://www.jenkins.io/doc/)\n- [Jenkins Configuration as Code](https://jenkins.io/projects/jcasc/)\n- [Jenkins Pipeline Documentation](https://www.jenkins.io/doc/book/pipeline/)\n- [Jenkins Security Guide](https://www.jenkins.io/doc/book/security/)\n- [Jenkins Plugin Index](https://plugins.jenkins.io/)\n- [Jenkins Community](https://www.jenkins.io/community/)\n- [Jenkins Best Practices](https://www.jenkins.io/doc/book/pipeline/pipeline-best-practices/)\n- [Jenkins GitHub Repository](https://github.com/jenkinsci/jenkins)\n\n---\n\n**Note:** This guide is part of the [HowToMgr](https://howtomgr.github.io) collection. Always refer to official documentation for the most up-to-date information.","readmeHtml":"\u003ch1 id=\"jenkins-installation-guide\" class=\"mobile-header\"\u003eJenkins Installation Guide\u003c/h1\u003e\n\u003cp class=\"mobile-paragraph\"\u003eJenkins is a free and open-source automation server for building, testing, and deploying applications. Originally developed by Kohsuke Kawaguchi and now maintained by the Jenkins community, Jenkins is the industry-leading CI/CD platform with extensive plugin ecosystem and enterprise-grade features. It serves as a FOSS alternative to commercial CI/CD solutions like TeamCity, GitLab CI Premium, or Azure DevOps Server, offering unlimited build minutes, unlimited private repositories, and advanced pipeline capabilities without licensing costs, with features like distributed builds, Pipeline as Code, and extensive plugin ecosystem.\u003c/p\u003e\n\u003ch2 id=\"prerequisites\" class=\"mobile-header\"\u003ePrerequisites\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eHardware Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eCPU: 2 cores minimum (4+ cores recommended for production)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eRAM: 2GB minimum (8GB+ recommended for production)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eStorage: 50GB minimum (SSD recommended for build performance)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eNetwork: Stable connectivity for agent communication and external integrations\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eOperating System\u003c/strong\u003e: \u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eLinux: Any modern distribution with kernel 3.2+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003emacOS: 10.13+ (High Sierra or newer)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWindows: Windows Server 2016+ or Windows 10\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eFreeBSD: 11.0+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eNetwork Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 8080 (default Jenkins HTTP)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 50000 (default Jenkins agent communication)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eAdditional ports for external integrations (webhooks, etc.)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eDependencies\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eJava 11 or 17 LTS (OpenJDK recommended)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003esystemd or compatible init system (Linux)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eRoot or administrative access for installation\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eSystem Access\u003c/strong\u003e: root or sudo privileges required\u003c/li\u003e\n\u003ch2 id=\"installation\" class=\"mobile-header\"\u003eInstallation\u003c/h2\u003e\n\u003ch3 id=\"rhelcentosrocky-linuxalmalinux\" class=\"mobile-header\"\u003eRHEL/CentOS/Rocky Linux/AlmaLinux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Java 17 LTS\nsudo dnf install -y java-17-openjdk java-17-openjdk-devel\n\n# Add Jenkins repository\ncurl -fsSL https://pkg.jenkins.io/redhat-stable/jenkins.io-2023.key | sudo tee /etc/yum.repos.d/jenkins.io.key\n\nsudo tee /etc/yum.repos.d/jenkins.repo \u0026lt;\u0026lt;EOF\n[jenkins]\nname=Jenkins-stable\nbaseurl=http://pkg.jenkins.io/redhat-stable\ngpgcheck=1\ngpgkey=file:///etc/yum.repos.d/jenkins.io.key\nenabled=1\nEOF\n\n# Install Jenkins\nsudo dnf install -y jenkins\n\n# Enable and start service\nsudo systemctl enable --now jenkins\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=8080/tcp\nsudo firewall-cmd --permanent --add-port=50000/tcp\nsudo firewall-cmd --reload\n\n# Get initial admin password\nsudo cat /var/lib/jenkins/secrets/initialAdminPassword\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"debianubuntu\" class=\"mobile-header\"\u003eDebian/Ubuntu\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Update system packages\nsudo apt update\n\n# Install Java 17 LTS\nsudo apt install -y openjdk-17-jdk openjdk-17-jre\n\n# Add Jenkins repository\nwget -O /tmp/jenkins-key.asc https://pkg.jenkins.io/debian-stable/jenkins.io-2023.key\nsudo mv /tmp/jenkins-key.asc /etc/apt/trusted.gpg.d/jenkins.asc\n\necho \u0026quot;deb https://pkg.jenkins.io/debian-stable binary/\u0026quot; | sudo tee /etc/apt/sources.list.d/jenkins.list\n\n# Update package index\nsudo apt update\n\n# Install Jenkins\nsudo apt install -y jenkins\n\n# Enable and start service\nsudo systemctl enable --now jenkins\n\n# Configure firewall\nsudo ufw allow 8080/tcp\nsudo ufw allow 50000/tcp\n\n# Get initial admin password\nsudo cat /var/lib/jenkins/secrets/initialAdminPassword\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"arch-linux\" class=\"mobile-header\"\u003eArch Linux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Java 17 LTS\nsudo pacman -S jdk17-openjdk\n\n# Install Jenkins from AUR\nyay -S jenkins\n\n# Alternative: Install manually from AUR\ngit clone https://aur.archlinux.org/jenkins.git\ncd jenkins\nmakepkg -si\n\n# Create jenkins user if not created\nsudo useradd -r -d /var/lib/jenkins -s /sbin/nologin jenkins\n\n# Enable and start service\nsudo systemctl enable --now jenkins\n\n# Get initial admin password\nsudo cat /var/lib/jenkins/secrets/initialAdminPassword\n\n# Configuration location: /etc/jenkins/\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"alpine-linux\" class=\"mobile-header\"\u003eAlpine Linux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Jenkins is not officially packaged for Alpine Linux\n# Use Docker or manual installation\n\n# Method 1: Docker installation\napk add --no-cache docker docker-compose\nrc-update add docker default\nrc-service docker start\n\n# Create Jenkins data directory\nmkdir -p /var/lib/jenkins\n\n# Run Jenkins container\ndocker run -d \\\n  --name jenkins \\\n  --restart unless-stopped \\\n  -p 8080:8080 \\\n  -p 50000:50000 \\\n  -v /var/lib/jenkins:/var/jenkins_home \\\n  -v /var/run/docker.sock:/var/run/docker.sock \\\n  --group-add $(getent group docker | cut -d: -f3) \\\n  jenkins/jenkins:lts-jdk17\n\n# Get initial admin password\ndocker exec jenkins cat /var/jenkins_home/secrets/initialAdminPassword\n\n# Method 2: Manual installation with OpenJDK\napk add --no-cache openjdk17-jre-headless\nwget https://get.jenkins.io/war-stable/latest/jenkins.war -O /opt/jenkins.war\n\n# Create jenkins user and directories\nadduser -D -s /sbin/nologin jenkins\nmkdir -p /var/lib/jenkins /var/log/jenkins\nchown -R jenkins:jenkins /var/lib/jenkins /var/log/jenkins\n\n# Create init script\ntee /etc/init.d/jenkins \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/sbin/openrc-run\nname=\u0026quot;Jenkins\u0026quot;\ncommand=\u0026quot;java\u0026quot;\ncommand_args=\u0026quot;-jar /opt/jenkins.war --httpPort=8080 --ajp13Port=-1\u0026quot;\ncommand_user=\u0026quot;jenkins\u0026quot;\npidfile=\u0026quot;/run/jenkins.pid\u0026quot;\ncommand_background=\u0026quot;yes\u0026quot;\ndepend() {\n    need net\n}\nEOF\n\nchmod +x /etc/init.d/jenkins\nrc-update add jenkins default\nrc-service jenkins start\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"opensusesles\" class=\"mobile-header\"\u003eopenSUSE/SLES\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# openSUSE Leap/Tumbleweed\nsudo zypper install -y java-17-openjdk java-17-openjdk-devel\n\n# Add Jenkins repository\nsudo zypper addrepo -G https://pkg.jenkins.io/opensuse-stable/ jenkins\nsudo zypper refresh\n\n# Install Jenkins\nsudo zypper install -y jenkins\n\n# SLES 15\nsudo SUSEConnect -p sle-module-development-tools/15.5/x86_64\nsudo zypper install -y java-17-openjdk jenkins\n\n# Enable and start service\nsudo systemctl enable --now jenkins\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=8080/tcp\nsudo firewall-cmd --permanent --add-port=50000/tcp\nsudo firewall-cmd --reload\n\n# Get initial admin password\nsudo cat /var/lib/jenkins/secrets/initialAdminPassword\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"macos\" class=\"mobile-header\"\u003emacOS\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using Homebrew\nbrew install jenkins-lts\n\n# Start Jenkins service\nbrew services start jenkins-lts\n\n# Or run manually\njenkins-lts\n\n# Alternative: Install specific version\nbrew install jenkins-lts@2.414\n\n# Get initial admin password\ncat ~/.jenkins/secrets/initialAdminPassword\n\n# Configuration location: ~/.jenkins/\n# Alternative: /usr/local/var/jenkins_home/ (Intel Macs)\n# Alternative: /opt/homebrew/var/jenkins_home/ (Apple Silicon)\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"freebsd\" class=\"mobile-header\"\u003eFreeBSD\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using pkg\npkg install jenkins openjdk17\n\n# Using ports\ncd /usr/ports/devel/jenkins\nmake install clean\n\n# Enable Jenkins\necho \u0026#039;jenkins_enable=\u0026quot;YES\u0026quot;\u0026#039; \u0026gt;\u0026gt; /etc/rc.conf\necho \u0026#039;jenkins_java_home=\u0026quot;/usr/local/openjdk17\u0026quot;\u0026#039; \u0026gt;\u0026gt; /etc/rc.conf\n\n# Create jenkins user and directories\npw useradd jenkins -d /usr/local/jenkins -s /sbin/nologin\nmkdir -p /usr/local/jenkins\nchown jenkins:jenkins /usr/local/jenkins\n\n# Start service\nservice jenkins start\n\n# Get initial admin password\ncat /usr/local/jenkins/secrets/initialAdminPassword\n\n# Configuration location: /usr/local/jenkins/\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"windows\" class=\"mobile-header\"\u003eWindows\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"powershell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epowershell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-powershell\"\u003e# Method 1: Using Chocolatey\nchoco install jenkins\n\n# Method 2: Using Scoop\nscoop install jenkins\n\n# Method 3: Manual installation\n# Download from https://www.jenkins.io/download/\n# Run jenkins.msi installer\n\n# Method 4: Windows service installation\n# Download jenkins.war\n# Install as Windows service\njava -jar jenkins.war --httpPort=8080 --install\n\n# Start service\nnet start Jenkins\n\n# Get initial admin password\nGet-Content \u0026quot;C:\\Program Files\\Jenkins\\secrets\\initialAdminPassword\u0026quot;\n\n# Configuration location: C:\\Program Files\\Jenkins\\\n# Or: %JENKINS_HOME% (if custom location)\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"initial-configuration\" class=\"mobile-header\"\u003eInitial Configuration\u003c/h2\u003e\n\u003ch3 id=\"first-run-setup\" class=\"mobile-header\"\u003eFirst-Run Setup\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e1. \u003cstrong\u003eJava Environment Setup\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Set JAVA_HOME (Linux/macOS)\nexport JAVA_HOME=/usr/lib/jvm/java-17-openjdk\necho \u0026#039;export JAVA_HOME=/usr/lib/jvm/java-17-openjdk\u0026#039; \u0026gt;\u0026gt; ~/.bashrc\n\n# Verify Java installation\njava -version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e2. \u003cstrong\u003eDefault configuration locations\u003c/strong\u003e:\u003c/p\u003e\n\u003cli class=\"mobile-list-item\"\u003eRHEL/CentOS/Rocky/AlmaLinux: \u003ccode class=\"mobile-inline-code\"\u003e/var/lib/jenkins/\u003c/code\u003e, \u003ccode class=\"mobile-inline-code\"\u003e/etc/sysconfig/jenkins\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eDebian/Ubuntu: \u003ccode class=\"mobile-inline-code\"\u003e/var/lib/jenkins/\u003c/code\u003e, \u003ccode class=\"mobile-inline-code\"\u003e/etc/default/jenkins\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eArch Linux: \u003ccode class=\"mobile-inline-code\"\u003e/var/lib/jenkins/\u003c/code\u003e, \u003ccode class=\"mobile-inline-code\"\u003e/etc/jenkins/\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eAlpine Linux: \u003ccode class=\"mobile-inline-code\"\u003e/var/lib/jenkins/\u003c/code\u003e (Docker) or \u003ccode class=\"mobile-inline-code\"\u003e/var/lib/jenkins/\u003c/code\u003e (manual)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eopenSUSE/SLES: \u003ccode class=\"mobile-inline-code\"\u003e/var/lib/jenkins/\u003c/code\u003e, \u003ccode class=\"mobile-inline-code\"\u003e/etc/sysconfig/jenkins\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003emacOS: \u003ccode class=\"mobile-inline-code\"\u003e~/.jenkins/\u003c/code\u003e or \u003ccode class=\"mobile-inline-code\"\u003e/usr/local/var/jenkins_home/\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eFreeBSD: \u003ccode class=\"mobile-inline-code\"\u003e/usr/local/jenkins/\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWindows: \u003ccode class=\"mobile-inline-code\"\u003eC:\\Program Files\\Jenkins\\\u003c/code\u003e or \u003ccode class=\"mobile-inline-code\"\u003e%JENKINS_HOME%\u003c/code\u003e\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e3. \u003cstrong\u003eEssential initial configuration\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Initial web setup (after accessing http://your-server:8080)\n# 1. Enter admin password from: /var/lib/jenkins/secrets/initialAdminPassword\n# 2. Install suggested plugins or select specific plugins\n# 3. Create first admin user\n# 4. Configure Jenkins URL\n\n# Essential plugins to install:\n# - Pipeline plugins (Pipeline Suite)\n# - Git plugin\n# - Credentials Binding Plugin\n# - Build Timeout Plugin\n# - Timestamper Plugin\n# - Workspace Cleanup Plugin\n# - Blue Ocean (modern UI)\n# - Matrix Authorization Strategy Plugin\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"testing-initial-setup\" class=\"mobile-header\"\u003eTesting Initial Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check service status\nsudo systemctl status jenkins\n\n# Check web interface\ncurl -I http://localhost:8080\n\n# Test Java version\njava -version\n\n# Check Jenkins process\nps aux | grep jenkins\n\n# Verify Jenkins CLI\nwget http://localhost:8080/jnlpJars/jenkins-cli.jar\njava -jar jenkins-cli.jar -s http://localhost:8080 version\n\n# Check available plugins\njava -jar jenkins-cli.jar -s http://localhost:8080 list-plugins\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eWARNING:\u003c/strong\u003e Change the default admin password immediately and configure proper authentication!\u003c/p\u003e\n\u003ch2 id=\"service-management\" class=\"mobile-header\"\u003eService Management\u003c/h2\u003e\n\u003ch3 id=\"systemd-rhel-debian-ubuntu-arch-opensuse\" class=\"mobile-header\"\u003esystemd (RHEL, Debian, Ubuntu, Arch, openSUSE)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable Jenkins to start on boot\nsudo systemctl enable jenkins\n\n# Start Jenkins\nsudo systemctl start jenkins\n\n# Stop Jenkins\nsudo systemctl stop jenkins\n\n# Restart Jenkins\nsudo systemctl restart jenkins\n\n# Graceful restart (wait for running builds)\nsudo systemctl reload jenkins\n\n# Check status\nsudo systemctl status jenkins\n\n# View logs\nsudo journalctl -u jenkins -f\n\n# Edit service configuration\nsudo systemctl edit jenkins\n# Add custom environment variables or JVM options\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"openrc-alpine-linux\" class=\"mobile-header\"\u003eOpenRC (Alpine Linux)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Docker-based installation\ndocker start jenkins\ndocker stop jenkins\ndocker restart jenkins\n\n# Check container status\ndocker ps | grep jenkins\n\n# View logs\ndocker logs -f jenkins\n\n# Manual installation\nrc-update add jenkins default\nrc-service jenkins start\nrc-service jenkins stop\nrc-service jenkins restart\nrc-service jenkins status\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"rcd-freebsd\" class=\"mobile-header\"\u003erc.d (FreeBSD)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable in /etc/rc.conf\necho \u0026#039;jenkins_enable=\u0026quot;YES\u0026quot;\u0026#039; \u0026gt;\u0026gt; /etc/rc.conf\n\n# Start Jenkins\nservice jenkins start\n\n# Stop Jenkins\nservice jenkins stop\n\n# Restart Jenkins\nservice jenkins restart\n\n# Check status\nservice jenkins status\n\n# View logs\ntail -f /var/log/jenkins/jenkins.log\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"launchd-macos\" class=\"mobile-header\"\u003elaunchd (macOS)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using Homebrew services\nbrew services start jenkins-lts\nbrew services stop jenkins-lts\nbrew services restart jenkins-lts\n\n# Check status\nbrew services list | grep jenkins\n\n# Manual control\njenkins-lts --httpPort=8080\n\n# View logs\ntail -f /usr/local/var/log/jenkins/jenkins.log\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"windows-service-manager\" class=\"mobile-header\"\u003eWindows Service Manager\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"powershell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epowershell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-powershell\"\u003e# Start Jenkins service\nnet start Jenkins\n\n# Stop Jenkins service\nnet stop Jenkins\n\n# Using PowerShell\nStart-Service Jenkins\nStop-Service Jenkins\nRestart-Service Jenkins\n\n# Check status\nGet-Service Jenkins\n\n# View logs (Windows Event Log)\nGet-EventLog -LogName Application -Source Jenkins\n\n# Or check Jenkins logs\nGet-Content \u0026quot;C:\\Program Files\\Jenkins\\logs\\jenkins.log\u0026quot; -Tail 50 -Wait\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"advanced-configuration\" class=\"mobile-header\"\u003eAdvanced Configuration\u003c/h2\u003e\n\u003ch3 id=\"high-availability-configuration\" class=\"mobile-header\"\u003eHigh Availability Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Multi-master setup with shared storage\n# Method 1: Shared filesystem (NFS, GlusterFS)\nsudo mkdir -p /shared/jenkins\nsudo mount -t nfs nfs-server:/jenkins /shared/jenkins\n\n# Update Jenkins home\nsudo systemctl edit jenkins\n# Add:\n[Service]\nEnvironment=\u0026quot;JENKINS_HOME=/shared/jenkins\u0026quot;\n\n# Method 2: Database-backed configuration\n# Install CloudBees Jenkins Enterprise plugins for HA\n# Configure external database (PostgreSQL recommended)\n\n# Agent configuration for load distribution\nsudo tee /var/lib/jenkins/casc_configs/agents.yaml \u0026lt;\u0026lt;EOF\njenkins:\n  nodes:\n    - permanent:\n        name: \u0026quot;linux-agent-1\u0026quot;\n        remoteFS: \u0026quot;/var/lib/jenkins\u0026quot;\n        numExecutors: 4\n        launcher:\n          ssh:\n            host: \u0026quot;agent1.example.com\u0026quot;\n            credentialsId: \u0026quot;ssh-agent-key\u0026quot;\n    - permanent:\n        name: \u0026quot;windows-agent-1\u0026quot;\n        remoteFS: \u0026quot;C:\\\\Jenkins\u0026quot;\n        numExecutors: 2\n        launcher:\n          command:\n            command: \u0026quot;java -jar agent.jar\u0026quot;\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"advanced-security-settings\" class=\"mobile-header\"\u003eAdvanced Security Settings\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure Jenkins Configuration as Code (JCasC) for security\nsudo tee /var/lib/jenkins/casc_configs/security.yaml \u0026lt;\u0026lt;EOF\njenkins:\n  securityRealm:\n    ldap:\n      configurations:\n        - server: \u0026quot;ldaps://ldap.example.com:636\u0026quot;\n          rootDN: \u0026quot;DC=example,DC=com\u0026quot;\n          userSearchBase: \u0026quot;OU=Users\u0026quot;\n          userSearch: \u0026quot;(\u0026amp;(objectCategory=Person)(objectClass=user)(sAMAccountName={0}))\u0026quot;\n          groupSearchBase: \u0026quot;OU=Groups\u0026quot;\n          managerDN: \u0026quot;CN=jenkins,OU=Service Accounts,DC=example,DC=com\u0026quot;\n          managerPasswordSecret: \u0026quot;ldap-password\u0026quot;\n          \n  authorizationStrategy:\n    roleBased:\n      roles:\n        global:\n          - name: \u0026quot;admin\u0026quot;\n            permissions:\n              - \u0026quot;Overall/Administer\u0026quot;\n            assignments:\n              - \u0026quot;jenkins-admins\u0026quot;\n          - name: \u0026quot;developer\u0026quot;\n            permissions:\n              - \u0026quot;Overall/Read\u0026quot;\n              - \u0026quot;Job/Build\u0026quot;\n              - \u0026quot;Job/Read\u0026quot;\n            assignments:\n              - \u0026quot;developers\u0026quot;\n\nsecurity:\n  globalJobDslSecurityConfiguration:\n    useScriptSecurity: true\n  scriptApproval:\n    approvedSignatures:\n      - \u0026quot;method java.lang.String trim\u0026quot;\n      - \u0026quot;staticMethod java.lang.System getProperty java.lang.String\u0026quot;\n\nunclassified:\n  location:\n    adminAddress: \u0026quot;jenkins@example.com\u0026quot;\n    url: \u0026quot;https://jenkins.example.com/\u0026quot;\n    \n  mailer:\n    smtpHost: \u0026quot;smtp.example.com\u0026quot;\n    smtpPort: 587\n    charset: \u0026quot;UTF-8\u0026quot;\n    authentication:\n      username: \u0026quot;jenkins@example.com\u0026quot;\n      password: \u0026quot;{AQAAABAAAAAQhudQr8JjwNNI9pj8oI3L2gE=}\u0026quot;\n    useSsl: false\n    useTls: true\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"reverse-proxy-setup\" class=\"mobile-header\"\u003eReverse Proxy Setup\u003c/h2\u003e\n\u003ch3 id=\"nginx-configuration\" class=\"mobile-header\"\u003enginx Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"nginx\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003enginx\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-nginx\"\u003e# /etc/nginx/sites-available/jenkins\nupstream jenkins {\n    server 127.0.0.1:8080 fail_timeout=0;\n    keepalive 32;\n}\n\nserver {\n    listen 80;\n    server_name jenkins.example.com;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name jenkins.example.com;\n\n    ssl_certificate /etc/letsencrypt/live/jenkins.example.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/jenkins.example.com/privkey.pem;\n    \n    # Security headers\n    add_header Strict-Transport-Security \u0026quot;max-age=31536000; includeSubDomains\u0026quot; always;\n    add_header X-Content-Type-Options nosniff always;\n    add_header X-Frame-Options DENY always;\n    add_header X-XSS-Protection \u0026quot;1; mode=block\u0026quot; always;\n    add_header Referrer-Policy \u0026quot;strict-origin-when-cross-origin\u0026quot; always;\n\n    client_max_body_size 100M;\n    \n    location / {\n        proxy_pass http://jenkins;\n        proxy_redirect default;\n        proxy_http_version 1.1;\n        \n        # Required headers for Jenkins\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        proxy_set_header X-Forwarded-Port $server_port;\n        \n        # WebSocket support for Jenkins\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \u0026quot;upgrade\u0026quot;;\n        \n        # Timeout settings\n        proxy_connect_timeout 90;\n        proxy_send_timeout 90;\n        proxy_read_timeout 90;\n        \n        proxy_buffering off;\n        proxy_request_buffering off;\n        proxy_max_temp_file_size 0;\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"haproxy-configuration\" class=\"mobile-header\"\u003eHAProxy Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"haproxy\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ehaproxy\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-haproxy\"\u003e# /etc/haproxy/haproxy.cfg\nfrontend jenkins_frontend\n    bind *:80\n    bind *:443 ssl crt /etc/ssl/certs/jenkins.pem\n    redirect scheme https if !{ ssl_fc }\n    default_backend jenkins_servers\n\nbackend jenkins_servers\n    mode http\n    balance roundrobin\n    option httpchk GET /login\n    http-check expect status 200\n    server jenkins1 127.0.0.1:8080 check inter 30s rise 2 fall 3\n    server jenkins2 127.0.0.1:8081 check inter 30s rise 2 fall 3 backup\n\n    # Headers for Jenkins\n    http-request set-header X-Forwarded-Proto https\n    http-request set-header X-Forwarded-Port %[dst_port]\n    http-response set-header Strict-Transport-Security \u0026quot;max-age=31536000; includeSubDomains\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"apache-http-server-configuration\" class=\"mobile-header\"\u003eApache HTTP Server Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"apache\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eapache\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-apache\"\u003e# /etc/apache2/sites-available/jenkins.conf\n\u0026lt;VirtualHost *:80\u0026gt;\n    ServerName jenkins.example.com\n    Redirect permanent / https://jenkins.example.com/\n\u0026lt;/VirtualHost\u0026gt;\n\n\u0026lt;VirtualHost *:443\u0026gt;\n    ServerName jenkins.example.com\n    \n    SSLEngine on\n    SSLCertificateFile /etc/letsencrypt/live/jenkins.example.com/fullchain.pem\n    SSLCertificateKeyFile /etc/letsencrypt/live/jenkins.example.com/privkey.pem\n    \n    # Security headers\n    Header always set Strict-Transport-Security \u0026quot;max-age=31536000; includeSubDomains\u0026quot;\n    Header always set X-Content-Type-Options nosniff\n    Header always set X-Frame-Options DENY\n    Header always set X-XSS-Protection \u0026quot;1; mode=block\u0026quot;\n    \n    ProxyPreserveHost On\n    ProxyRequests Off\n    \n    ProxyPass / http://127.0.0.1:8080/ nocanon\n    ProxyPassReverse / http://127.0.0.1:8080/\n    ProxyPassReverse  /  http://jenkins.example.com/\n    \n    # WebSocket support\n    RewriteEngine on\n    RewriteCond %{HTTP:Upgrade} websocket [NC]\n    RewriteCond %{HTTP:Connection} upgrade [NC]\n    RewriteRule ^/?(.*) \u0026quot;ws://127.0.0.1:8080/$1\u0026quot; [P,L]\n    \n    AllowEncodedSlashes NoDecode\n\u0026lt;/VirtualHost\u0026gt;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"security-configuration\" class=\"mobile-header\"\u003eSecurity Configuration\u003c/h2\u003e\n\u003ch3 id=\"ssltls-setup\" class=\"mobile-header\"\u003eSSL/TLS Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Generate self-signed certificate (development only)\nsudo mkdir -p /etc/jenkins/ssl\nsudo openssl req -x509 -newkey rsa:4096 -keyout /etc/jenkins/ssl/jenkins.key -out /etc/jenkins/ssl/jenkins.crt -days 365 -nodes -subj \u0026quot;/C=US/ST=State/L=City/O=Organization/CN=jenkins.example.com\u0026quot;\n\n# Create Java keystore\nsudo keytool -genkey -alias jenkins -keyalg RSA -keystore /etc/jenkins/ssl/jenkins.jks -keysize 2048 -dname \u0026quot;CN=jenkins.example.com,OU=IT,O=Organization,L=City,ST=State,C=US\u0026quot; -storepass changeit -keypass changeit\n\n# Configure Jenkins to use HTTPS\nsudo systemctl edit jenkins\n# Add:\n[Service]\nEnvironment=\u0026quot;JENKINS_OPTS=--httpPort=-1 --httpsPort=8443 --httpsKeyStore=/etc/jenkins/ssl/jenkins.jks --httpsKeyStorePassword=changeit\u0026quot;\n\nsudo systemctl restart jenkins\n\n# Or use Let\u0026#039;s Encrypt with reverse proxy (recommended)\nsudo certbot --nginx -d jenkins.example.com\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"authentication-and-authorization\" class=\"mobile-header\"\u003eAuthentication and Authorization\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure LDAP authentication via JCasC\nsudo tee /var/lib/jenkins/casc_configs/auth.yaml \u0026lt;\u0026lt;EOF\njenkins:\n  securityRealm:\n    ldap:\n      configurations:\n        - server: \u0026quot;ldaps://ldap.example.com:636\u0026quot;\n          rootDN: \u0026quot;DC=example,DC=com\u0026quot;\n          inhibitInferRootDN: false\n          userSearchBase: \u0026quot;OU=Users\u0026quot;\n          userSearch: \u0026quot;(\u0026amp;(objectCategory=Person)(objectClass=user)(sAMAccountName={0}))\u0026quot;\n          groupSearchBase: \u0026quot;OU=Groups\u0026quot;\n          groupSearchFilter: \u0026quot;(\u0026amp;(objectClass=group)(cn={0}))\u0026quot;\n          managerDN: \u0026quot;CN=jenkins,OU=Service Accounts,DC=example,DC=com\u0026quot;\n          managerPasswordSecret: \u0026quot;ldap-password\u0026quot;\n          displayNameAttributeName: \u0026quot;displayName\u0026quot;\n          mailAddressAttributeName: \u0026quot;mail\u0026quot;\n\n  authorizationStrategy:\n    roleBased:\n      roles:\n        global:\n          - name: \u0026quot;jenkins-admins\u0026quot;\n            permissions:\n              - \u0026quot;Overall/Administer\u0026quot;\n            assignments:\n              - \u0026quot;Domain Admins\u0026quot;\n              - \u0026quot;jenkins-admins\u0026quot;\n          - name: \u0026quot;developers\u0026quot;\n            permissions:\n              - \u0026quot;Overall/Read\u0026quot;\n              - \u0026quot;Job/Build\u0026quot;\n              - \u0026quot;Job/Cancel\u0026quot;\n              - \u0026quot;Job/Read\u0026quot;\n              - \u0026quot;Job/Workspace\u0026quot;\n              - \u0026quot;Run/Replay\u0026quot;\n              - \u0026quot;Run/Update\u0026quot;\n            assignments:\n              - \u0026quot;developers\u0026quot;\n              - \u0026quot;authenticated\u0026quot;\n          - name: \u0026quot;viewers\u0026quot;\n            permissions:\n              - \u0026quot;Overall/Read\u0026quot;\n              - \u0026quot;Job/Read\u0026quot;\n            assignments:\n              - \u0026quot;viewers\u0026quot;\n              \ncredentials:\n  system:\n    domainCredentials:\n      - credentials:\n          - usernamePassword:\n              scope: GLOBAL\n              id: \u0026quot;ldap-password\u0026quot;\n              username: \u0026quot;CN=jenkins,OU=Service Accounts,DC=example,DC=com\u0026quot;\n              password: \u0026quot;{AQAAABAAAAAQSecureEncryptedPassword=}\u0026quot;\n              description: \u0026quot;LDAP Service Account\u0026quot;\n          - basicSSHUserPrivateKey:\n              scope: GLOBAL\n              id: \u0026quot;ssh-agent-key\u0026quot;\n              username: \u0026quot;jenkins\u0026quot;\n              description: \u0026quot;SSH key for Jenkins agents\u0026quot;\n              privateKeySource:\n                directEntry:\n                  privateKey: |\n                    -----BEGIN OPENSSH PRIVATE KEY-----\n                    EncryptedPrivateKeyContentHere\n                    -----END OPENSSH PRIVATE KEY-----\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"firewall-rules\" class=\"mobile-header\"\u003eFirewall Rules\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# UFW (Ubuntu/Debian)\nsudo ufw allow from 192.168.1.0/24 to any port 8080\nsudo ufw allow from 192.168.1.0/24 to any port 50000\nsudo ufw reload\n\n# firewalld (RHEL/CentOS/openSUSE)\nsudo firewall-cmd --permanent --new-zone=jenkins\nsudo firewall-cmd --permanent --zone=jenkins --add-source=192.168.1.0/24\nsudo firewall-cmd --permanent --zone=jenkins --add-port=8080/tcp\nsudo firewall-cmd --permanent --zone=jenkins --add-port=50000/tcp\nsudo firewall-cmd --reload\n\n# iptables\nsudo iptables -A INPUT -s 192.168.1.0/24 -p tcp --dport 8080 -j ACCEPT\nsudo iptables -A INPUT -s 192.168.1.0/24 -p tcp --dport 50000 -j ACCEPT\nsudo iptables-save \u0026gt; /etc/iptables/rules.v4\n\n# pf (FreeBSD)\n# Add to /etc/pf.conf\npass in on $ext_if proto tcp from 192.168.1.0/24 to any port {8080, 50000}\n\n# Windows Firewall\nNew-NetFirewallRule -DisplayName \u0026quot;Jenkins HTTP\u0026quot; -Direction Inbound -Protocol TCP -LocalPort 8080 -RemoteAddress 192.168.1.0/24 -Action Allow\nNew-NetFirewallRule -DisplayName \u0026quot;Jenkins Agent\u0026quot; -Direction Inbound -Protocol TCP -LocalPort 50000 -RemoteAddress 192.168.1.0/24 -Action Allow\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"database-setup\" class=\"mobile-header\"\u003eDatabase Setup\u003c/h2\u003e\n\u003ch3 id=\"external-database-configuration-postgresql\" class=\"mobile-header\"\u003eExternal Database Configuration (PostgreSQL)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install PostgreSQL\nsudo apt install -y postgresql postgresql-contrib\n\n# Create Jenkins database\nsudo -u postgres createdb jenkinsdb\nsudo -u postgres createuser jenkinsuser\nsudo -u postgres psql -c \u0026quot;ALTER USER jenkinsuser WITH PASSWORD \u0026#039;SecureJenkinsPassword123!\u0026#039;;\u0026quot;\nsudo -u postgres psql -c \u0026quot;GRANT ALL PRIVILEGES ON DATABASE jenkinsdb TO jenkinsuser;\u0026quot;\n\n# Download PostgreSQL driver\nwget https://jdbc.postgresql.org/download/postgresql-42.6.0.jar -O /var/lib/jenkins/postgresql-connector.jar\n\n# Configure Jenkins to use PostgreSQL\nsudo tee -a /etc/default/jenkins \u0026lt;\u0026lt;EOF\n# PostgreSQL database configuration\nJENKINS_JAVA_OPTIONS=\u0026quot;-Djenkins.install.runSetupWizard=false -Dhudson.model.DirectoryBrowserSupport.CSP=\\\u0026quot;sandbox allow-scripts; default-src \u0026#039;self\u0026#039;; script-src \u0026#039;self\u0026#039; \u0026#039;unsafe-inline\u0026#039;; style-src \u0026#039;self\u0026#039; \u0026#039;unsafe-inline\u0026#039;;\\\u0026quot;\u0026quot;\nEOF\n\n# Create database configuration\nsudo tee /var/lib/jenkins/database-config.xml \u0026lt;\u0026lt;EOF\n\u0026lt;databaseConfiguration\u0026gt;\n  \u0026lt;database class=\u0026quot;org.jenkinsci.plugins.database.postgresql.PostgreSQLDatabase\u0026quot;\u0026gt;\n    \u0026lt;hostname\u0026gt;localhost\u0026lt;/hostname\u0026gt;\n    \u0026lt;port\u0026gt;5432\u0026lt;/port\u0026gt;\n    \u0026lt;database\u0026gt;jenkinsdb\u0026lt;/database\u0026gt;\n    \u0026lt;username\u0026gt;jenkinsuser\u0026lt;/username\u0026gt;\n    \u0026lt;password\u0026gt;{AQAAABAAAAAQEncryptedPasswordHere=}\u0026lt;/password\u0026gt;\n    \u0026lt;properties\u0026gt;sslmode=require\u0026lt;/properties\u0026gt;\n  \u0026lt;/database\u0026gt;\n\u0026lt;/databaseConfiguration\u0026gt;\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"backup-database-schema\" class=\"mobile-header\"\u003eBackup Database Schema\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create database schema backup\nsudo -u postgres pg_dump jenkinsdb \u0026gt; /backup/jenkins/jenkinsdb-schema-$(date +%Y%m%d).sql\n\n# Create Jenkins jobs and configuration backup\nsudo tee /usr/local/bin/jenkins-db-backup.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\nBACKUP_DIR=\u0026quot;/backup/jenkins/$(date +%Y%m%d_%H%M%S)\u0026quot;\nmkdir -p \u0026quot;$BACKUP_DIR\u0026quot;\n\n# PostgreSQL backup\nsudo -u postgres pg_dump jenkinsdb | gzip \u0026gt; \u0026quot;$BACKUP_DIR/jenkinsdb.sql.gz\u0026quot;\n\n# Jenkins configuration backup\ntar -czf \u0026quot;$BACKUP_DIR/jenkins-config.tar.gz\u0026quot; \\\n  --exclude=\u0026quot;/var/lib/jenkins/workspace/*\u0026quot; \\\n  --exclude=\u0026quot;/var/lib/jenkins/builds/*/archive\u0026quot; \\\n  --exclude=\u0026quot;/var/lib/jenkins/logs/*\u0026quot; \\\n  /var/lib/jenkins/\n\necho \u0026quot;Database backup completed: $BACKUP_DIR\u0026quot;\nEOF\n\nchmod +x /usr/local/bin/jenkins-db-backup.sh\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"performance-optimization\" class=\"mobile-header\"\u003ePerformance Optimization\u003c/h2\u003e\n\u003ch3 id=\"system-tuning\" class=\"mobile-header\"\u003eSystem Tuning\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Jenkins-specific system optimizations\nsudo tee -a /etc/sysctl.conf \u0026lt;\u0026lt;EOF\n# Jenkins optimizations\nvm.swappiness = 1\nfs.file-max = 65535\nnet.core.somaxconn = 32768\nnet.ipv4.tcp_max_syn_backlog = 8192\nnet.ipv4.ip_local_port_range = 1024 65535\nEOF\n\nsudo sysctl -p\n\n# Increase file descriptor limits\nsudo tee -a /etc/security/limits.conf \u0026lt;\u0026lt;EOF\njenkins soft nofile 65535\njenkins hard nofile 65535\njenkins soft nproc 32768\njenkins hard nproc 32768\nEOF\n\n# Optimize Jenkins JVM settings\nsudo systemctl edit jenkins\n# Add:\n[Service]\nEnvironment=\u0026quot;JAVA_OPTS=-Xmx8g -Xms4g -XX:+UseG1GC -XX:+UseStringDeduplication -XX:+DisableExplicitGC -XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap\u0026quot;\nEnvironment=\u0026quot;JENKINS_OPTS=--sessionTimeout=1440 --sessionEviction=86400\u0026quot;\n\nsudo systemctl daemon-reload\nsudo systemctl restart jenkins\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"jenkins-performance-configuration\" class=\"mobile-header\"\u003eJenkins Performance Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure Jenkins for high performance\nsudo tee /var/lib/jenkins/casc_configs/performance.yaml \u0026lt;\u0026lt;EOF\njenkins:\n  systemMessage: \u0026quot;High-Performance Jenkins Instance\u0026quot;\n  numExecutors: 0  # Don\u0026#039;t run builds on controller\n  mode: EXCLUSIVE\n  quietPeriod: 5\n  scmCheckoutRetryCount: 3\n  \n  # Global pipeline libraries for shared code\n  globalLibraries:\n    libraries:\n      - name: \u0026quot;shared-pipeline-library\u0026quot;\n        defaultVersion: \u0026quot;main\u0026quot;\n        implicit: true\n        retriever:\n          modernSCM:\n            scm:\n              git:\n                remote: \u0026quot;https://github.com/example/jenkins-shared-library.git\u0026quot;\n                credentialsId: \u0026quot;github-token\u0026quot;\n\n  # Configure build discarders globally\n  buildDiscarders:\n    configuredBuildDiscarders:\n      - \u0026quot;logRotator\u0026quot;:\n          artifactDaysToKeepStr: \u0026quot;30\u0026quot;\n          artifactNumToKeepStr: \u0026quot;10\u0026quot;\n          daysToKeepStr: \u0026quot;30\u0026quot;\n          numToKeepStr: \u0026quot;100\u0026quot;\n\nunclassified:\n  # Configure global timeout\n  buildTimeout:\n    operations:\n      - timeoutMinutes: 60\n      - failBuild: true\n      - writingDescription: true\n      \n  # Workspace cleanup configuration  \n  wsCleanup:\n    deleteDirs: true\n    cleanupMatrixParent: true\n    skipWhenFailed: false\n    \ntool:\n  # Configure tools for performance\n  git:\n    installations:\n      - name: \u0026quot;Default\u0026quot;\n        home: \u0026quot;/usr/bin/git\u0026quot;\n        \n  maven:\n    installations:\n      - name: \u0026quot;Maven 3.9\u0026quot;\n        properties:\n          - installSource:\n              installers:\n                - maven:\n                    id: \u0026quot;3.9.6\u0026quot;\n                    \n  gradle:\n    installations:\n      - name: \u0026quot;Gradle 8\u0026quot;\n        properties:\n          - installSource:\n              installers:\n                - gradleInstaller:\n                    id: \u0026quot;8.4\u0026quot;\n\n  nodejs:\n    installations:\n      - name: \u0026quot;NodeJS 18\u0026quot;\n        properties:\n          - installSource:\n              installers:\n                - nodeJSInstaller:\n                    id: \u0026quot;18.18.2\u0026quot;\n                    \n  dockerTool:\n    installations:\n      - name: \u0026quot;Docker\u0026quot;\n        properties:\n          - installSource:\n              installers:\n                - dockerInstaller:\n                    version: \u0026quot;latest\u0026quot;\nEOF\n\n# Configure agent templates for auto-scaling\nsudo tee /var/lib/jenkins/casc_configs/agents.yaml \u0026lt;\u0026lt;EOF\njenkins:\n  clouds:\n    - kubernetes:\n        name: \u0026quot;kubernetes\u0026quot;\n        serverUrl: \u0026quot;https://kubernetes.default.svc.cluster.local\u0026quot;\n        namespace: \u0026quot;jenkins\u0026quot;\n        credentialsId: \u0026quot;kubernetes-token\u0026quot;\n        jenkinsUrl: \u0026quot;http://jenkins.jenkins.svc.cluster.local:8080\u0026quot;\n        jenkinsTunnel: \u0026quot;jenkins-agent.jenkins.svc.cluster.local:50000\u0026quot;\n        connectTimeout: 300\n        readTimeout: 300\n        containerCapStr: 100\n        templates:\n          - name: \u0026quot;jenkins-agent\u0026quot;\n            namespace: \u0026quot;jenkins\u0026quot;\n            label: \u0026quot;kubernetes docker\u0026quot;\n            nodeUsageMode: EXCLUSIVE\n            containers:\n              - name: \u0026quot;jnlp\u0026quot;\n                image: \u0026quot;jenkins/inbound-agent:latest\u0026quot;\n                alwaysPullImage: true\n                workingDir: \u0026quot;/home/jenkins/agent\u0026quot;\n                command: \u0026quot;\u0026quot;\n                args: \u0026quot;\u0026quot;\n                resourceRequestCpu: \u0026quot;500m\u0026quot;\n                resourceRequestMemory: \u0026quot;1Gi\u0026quot;\n                resourceLimitCpu: \u0026quot;2\u0026quot;\n                resourceLimitMemory: \u0026quot;4Gi\u0026quot;\n            volumes:\n              - hostPathVolume:\n                  hostPath: \u0026quot;/var/run/docker.sock\u0026quot;\n                  mountPath: \u0026quot;/var/run/docker.sock\u0026quot;\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"pipeline-optimization\" class=\"mobile-header\"\u003ePipeline Optimization\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"groovy\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003egroovy\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-groovy\"\u003e// Optimized Jenkins Pipeline Template\n// /var/lib/jenkins/pipeline-templates/optimized-pipeline.groovy\n@Library(\u0026#039;shared-pipeline-library\u0026#039;) _\n\npipeline {\n    agent {\n        label \u0026#039;docker \u0026amp;\u0026amp; linux\u0026#039;\n    }\n    \n    options {\n        buildDiscarder(logRotator(numToKeepStr: \u0026#039;50\u0026#039;, artifactNumToKeepStr: \u0026#039;10\u0026#039;))\n        timeout(time: 120, unit: \u0026#039;MINUTES\u0026#039;)\n        timestamps()\n        skipDefaultCheckout(true)\n        disableConcurrentBuilds()\n        ansiColor(\u0026#039;xterm\u0026#039;)\n        parallelsAlwaysFailFast()\n        copyArtifactPermission(\u0026#039;*\u0026#039;)\n    }\n    \n    environment {\n        DOCKER_REGISTRY = credentials(\u0026#039;docker-registry-url\u0026#039;)\n        MAVEN_OPTS = \u0026#039;-Xmx2g -XX:+UseG1GC\u0026#039;\n        GRADLE_OPTS = \u0026#039;-Xmx2g -Dorg.gradle.daemon=false\u0026#039;\n        CI = \u0026#039;true\u0026#039;\n    }\n    \n    stages {\n        stage(\u0026#039;Checkout\u0026#039;) {\n            steps {\n                checkout scm\n                script {\n                    env.GIT_COMMIT_SHORT = env.GIT_COMMIT.take(8)\n                    env.BUILD_VERSION = \u0026quot;${env.BUILD_NUMBER}-${env.GIT_COMMIT_SHORT}\u0026quot;\n                }\n            }\n        }\n        \n        stage(\u0026#039;Parallel Analysis\u0026#039;) {\n            parallel {\n                stage(\u0026#039;Code Quality\u0026#039;) {\n                    steps {\n                        script {\n                            // SonarQube analysis\n                            withSonarQubeEnv(\u0026#039;SonarQube\u0026#039;) {\n                                sh \u0026#039;\u0026#039;\u0026#039;\n                                    mvn sonar:sonar \\\n                                        -Dsonar.projectKey=${JOB_NAME} \\\n                                        -Dsonar.projectVersion=${BUILD_VERSION} \\\n                                        -Dsonar.sources=src/main \\\n                                        -Dsonar.tests=src/test \\\n                                        -Dsonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml\n                                \u0026#039;\u0026#039;\u0026#039;\n                            }\n                            \n                            timeout(time: 10, unit: \u0026#039;MINUTES\u0026#039;) {\n                                waitForQualityGate abortPipeline: true\n                            }\n                        }\n                    }\n                }\n                \n                stage(\u0026#039;Security Scan\u0026#039;) {\n                    steps {\n                        // OWASP Dependency Check\n                        dependencyCheck additionalArguments: \u0026#039;\u0026#039;\u0026#039;\n                            --enableRetired\n                            --enableExperimental  \n                            --scan ./\n                            --format JSON\n                            --format HTML\n                            --suppression dependency-check-suppressions.xml\n                        \u0026#039;\u0026#039;\u0026#039;, odcInstallation: \u0026#039;dependency-check-8.4.0\u0026#039;\n                        \n                        dependencyCheckPublisher pattern: \u0026#039;**/dependency-check-report.xml\u0026#039;\n                        \n                        // Secret scanning\n                        sh \u0026#039;\u0026#039;\u0026#039;\n                            docker run --rm -v $(pwd):/repo \\\n                                trufflesecurity/trufflehog:latest \\\n                                git file:///repo \\\n                                --json \\\n                                --fail \u0026gt; trufflehog-results.json || true\n                        \u0026#039;\u0026#039;\u0026#039;\n                    }\n                }\n                \n                stage(\u0026#039;Test\u0026#039;) {\n                    steps {\n                        sh \u0026#039;\u0026#039;\u0026#039;\n                            # Parallel test execution\n                            mvn clean test \\\n                                -Dmaven.test.failure.ignore=true \\\n                                -Dspring.profiles.active=test \\\n                                -Djunit.jupiter.execution.parallel.enabled=true \\\n                                -Djunit.jupiter.execution.parallel.mode.default=concurrent\n                        \u0026#039;\u0026#039;\u0026#039;\n                        \n                        publishTestResults testResultsPattern: \u0026#039;target/surefire-reports/*.xml\u0026#039;\n                        publishCoverage adapters: [jacocoAdapter(\u0026#039;target/site/jacoco/jacoco.xml\u0026#039;)], \n                                       sourceFileResolver: sourceFiles(\u0026#039;STORE_LAST_BUILD\u0026#039;)\n                    }\n                    post {\n                        always {\n                            archiveArtifacts artifacts: \u0026#039;target/surefire-reports/**\u0026#039;, allowEmptyArchive: true\n                        }\n                    }\n                }\n            }\n        }\n        \n        stage(\u0026#039;Build \u0026amp; Package\u0026#039;) {\n            steps {\n                sh \u0026#039;\u0026#039;\u0026#039;\n                    # Optimized build with parallel processing\n                    mvn clean package \\\n                        -DskipTests \\\n                        -T 2C \\\n                        -Dspring.profiles.active=production \\\n                        -Dmaven.javadoc.skip=true\n                \u0026#039;\u0026#039;\u0026#039;\n                \n                // Docker build with BuildKit\n                script {\n                    def image = docker.build(\u0026quot;${env.DOCKER_REGISTRY}/${env.JOB_NAME}:${env.BUILD_VERSION}\u0026quot;, \n                                           \u0026quot;--build-arg BUILD_VERSION=${env.BUILD_VERSION} .\u0026quot;)\n                    \n                    // Security scanning with Trivy\n                    sh \u0026quot;\u0026quot;\u0026quot;\n                        docker run --rm -v /var/run/docker.sock:/var/run/docker.sock \\\n                            aquasec/trivy:latest image \\\n                            --format table \\\n                            --severity HIGH,CRITICAL \\\n                            --exit-code 1 \\\n                            ${env.DOCKER_REGISTRY}/${env.JOB_NAME}:${env.BUILD_VERSION}\n                    \u0026quot;\u0026quot;\u0026quot;\n                    \n                    image.push()\n                    image.push(\u0026quot;latest\u0026quot;)\n                }\n            }\n        }\n        \n        stage(\u0026#039;Deploy\u0026#039;) {\n            when {\n                anyOf {\n                    branch \u0026#039;main\u0026#039;\n                    branch \u0026#039;develop\u0026#039;\n                    branch \u0026#039;release/*\u0026#039;\n                }\n            }\n            parallel {\n                stage(\u0026#039;Staging\u0026#039;) {\n                    when { branch \u0026#039;develop\u0026#039; }\n                    steps {\n                        script {\n                            // Deploy to staging environment\n                            sh \u0026#039;\u0026#039;\u0026#039;\n                                kubectl set image deployment/myapp-staging \\\n                                    myapp=${DOCKER_REGISTRY}/${JOB_NAME}:${BUILD_VERSION} \\\n                                    --namespace=staging\n                                \n                                kubectl rollout status deployment/myapp-staging \\\n                                    --namespace=staging --timeout=300s\n                            \u0026#039;\u0026#039;\u0026#039;\n                            \n                            // Run smoke tests\n                            sh \u0026#039;\u0026#039;\u0026#039;\n                                curl -f http://myapp-staging.example.com/health || exit 1\n                                npm run test:e2e -- --base-url http://myapp-staging.example.com\n                            \u0026#039;\u0026#039;\u0026#039;\n                        }\n                    }\n                }\n                \n                stage(\u0026#039;Production\u0026#039;) {\n                    when { \n                        anyOf {\n                            branch \u0026#039;main\u0026#039;\n                            branch \u0026#039;release/*\u0026#039;\n                        }\n                    }\n                    steps {\n                        // Manual approval for production\n                        timeout(time: 60, unit: \u0026#039;MINUTES\u0026#039;) {\n                            input message: \u0026#039;Deploy to production?\u0026#039;, \n                                  ok: \u0026#039;Deploy\u0026#039;,\n                                  submitterParameter: \u0026#039;APPROVER\u0026#039;\n                        }\n                        \n                        script {\n                            sh \u0026#039;\u0026#039;\u0026#039;\n                                # Blue-green deployment\n                                kubectl set image deployment/myapp-production \\\n                                    myapp=${DOCKER_REGISTRY}/${JOB_NAME}:${BUILD_VERSION} \\\n                                    --namespace=production\n                                \n                                kubectl rollout status deployment/myapp-production \\\n                                    --namespace=production --timeout=600s\n                            \u0026#039;\u0026#039;\u0026#039;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    \n    post {\n        always {\n            // Cleanup workspace\n            cleanWs()\n            \n            // Archive artifacts\n            archiveArtifacts artifacts: \u0026#039;target/*.jar,docker-compose.yml\u0026#039;, \n                           allowEmptyArchive: true, \n                           fingerprint: true\n                           \n            // Collect build metrics\n            script {\n                def buildDuration = currentBuild.duration / 1000\n                echo \u0026quot;Build completed in ${buildDuration} seconds\u0026quot;\n                \n                // Custom metrics collection\n                sh \u0026quot;\u0026quot;\u0026quot;\n                    echo \u0026quot;build_duration_seconds{job=\\\u0026quot;${env.JOB_NAME}\\\u0026quot;,build=\\\u0026quot;${env.BUILD_NUMBER}\\\u0026quot;} ${buildDuration}\u0026quot; \u0026gt; build-metrics.txt\n                \u0026quot;\u0026quot;\u0026quot;\n                \n                archiveArtifacts artifacts: \u0026#039;build-metrics.txt\u0026#039;, allowEmptyArchive: true\n            }\n        }\n        \n        success {\n            // Success notifications\n            emailext(\n                subject: \u0026quot;✅ Build Success: ${env.JOB_NAME} - ${env.BUILD_NUMBER}\u0026quot;,\n                body: \u0026quot;\u0026quot;\u0026quot;Build successful for ${env.JOB_NAME} build ${env.BUILD_NUMBER}\n                         \n                Build URL: ${env.BUILD_URL}\n                Git Commit: ${env.GIT_COMMIT}\n                Duration: ${currentBuild.durationString}\n                Approver: ${env.APPROVER ?: \u0026#039;Automatic\u0026#039;}\u0026quot;\u0026quot;\u0026quot;,\n                to: \u0026quot;${env.CHANGE_AUTHOR_EMAIL ?: \u0026#039;jenkins@example.com\u0026#039;}\u0026quot;\n            )\n            \n            slackSend(\n                channel: \u0026#039;#deployments\u0026#039;,\n                color: \u0026#039;good\u0026#039;,\n                message: \u0026quot;✅ Deployment Success: ${env.JOB_NAME} - ${env.BUILD_NUMBER} by ${env.APPROVER ?: \u0026#039;System\u0026#039;}\u0026quot;\n            )\n        }\n        \n        failure {\n            emailext(\n                subject: \u0026quot;❌ Build Failed: ${env.JOB_NAME} - ${env.BUILD_NUMBER}\u0026quot;,\n                body: \u0026quot;Build failed for ${env.JOB_NAME} build ${env.BUILD_NUMBER}\\n\\nBuild URL: ${env.BUILD_URL}\u0026quot;,\n                to: \u0026quot;${env.CHANGE_AUTHOR_EMAIL ?: \u0026#039;jenkins@example.com\u0026#039;}\u0026quot;\n            )\n            \n            slackSend(\n                channel: \u0026#039;#ci-cd-alerts\u0026#039;,\n                color: \u0026#039;danger\u0026#039;,\n                message: \u0026quot;❌ Build Failed: ${env.JOB_NAME} - ${env.BUILD_NUMBER} (\u0026lt;${env.BUILD_URL}|View Details\u0026gt;)\u0026quot;\n            )\n        }\n        \n        unstable {\n            emailext(\n                subject: \u0026quot;⚠️  Build Unstable: ${env.JOB_NAME} - ${env.BUILD_NUMBER}\u0026quot;,\n                body: \u0026quot;Build unstable for ${env.JOB_NAME} build ${env.BUILD_NUMBER}\\n\\nBuild URL: ${env.BUILD_URL}\u0026quot;,\n                to: \u0026quot;${env.CHANGE_AUTHOR_EMAIL ?: \u0026#039;jenkins@example.com\u0026#039;}\u0026quot;\n            )\n        }\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"monitoring\" class=\"mobile-header\"\u003eMonitoring\u003c/h2\u003e\n\u003ch3 id=\"built-in-monitoring\" class=\"mobile-header\"\u003eBuilt-in Monitoring\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Jenkins CLI monitoring commands\njava -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password version\njava -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password list-jobs\njava -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password list-builds job-name\njava -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password get-build job-name 1\n\n# System information\ncurl -u admin:password http://localhost:8080/systemInfo\n\n# Build queue status\ncurl -u admin:password http://localhost:8080/queue/api/json\n\n# Node status\ncurl -u admin:password http://localhost:8080/computer/api/json\n\n# Plugin information\ncurl -u admin:password http://localhost:8080/pluginManager/api/json?depth=1\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"external-monitoring-setup\" class=\"mobile-header\"\u003eExternal Monitoring Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Jenkins Prometheus Plugin and configure metrics\n# Via Jenkins UI: Manage Jenkins \u0026gt; Manage Plugins \u0026gt; Available \u0026gt; Prometheus metrics plugin\n\n# Configure Prometheus to scrape Jenkins metrics\nsudo tee /etc/prometheus/jenkins.yml \u0026lt;\u0026lt;EOF\nglobal:\n  scrape_interval: 15s\n\nscrape_configs:\n  - job_name: \u0026#039;jenkins\u0026#039;\n    static_configs:\n      - targets: [\u0026#039;localhost:8080\u0026#039;]\n    metrics_path: /prometheus/\n    scrape_interval: 30s\n    scrape_timeout: 10s\nEOF\n\n# Install Jenkins Exporter (alternative)\nwget https://github.com/lovoo/jenkins_exporter/releases/download/v1.0.0/jenkins_exporter-1.0.0.linux-amd64.tar.gz\ntar xzf jenkins_exporter-*.tar.gz\nsudo cp jenkins_exporter /usr/local/bin/\n\n# Create systemd service\nsudo tee /etc/systemd/system/jenkins_exporter.service \u0026lt;\u0026lt;EOF\n[Unit]\nDescription=Jenkins Exporter\nAfter=network.target\n\n[Service]\nType=simple\nUser=jenkins\nExecStart=/usr/local/bin/jenkins_exporter \\\n    --jenkins.address=http://localhost:8080 \\\n    --jenkins.username=monitoring \\\n    --jenkins.password=MonitoringPassword123! \\\n    --web.listen-address=:9118\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsudo systemctl enable --now jenkins_exporter\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"health-check-scripts\" class=\"mobile-header\"\u003eHealth Check Scripts\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# jenkins-health-check.sh\n\nJENKINS_URL=\u0026quot;http://localhost:8080\u0026quot;\nHEALTH_LOG=\u0026quot;/var/log/jenkins-health.log\u0026quot;\n\nlog_message() {\n    echo \u0026quot;$(date \u0026#039;+%Y-%m-%d %H:%M:%S\u0026#039;) - $1\u0026quot; | tee -a ${HEALTH_LOG}\n}\n\n# Check service status\nif systemctl is-active jenkins \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    log_message \u0026quot;✅ Jenkins service is running\u0026quot;\nelse\n    log_message \u0026quot;❌ Jenkins service is not running\u0026quot;\n    exit 2\nfi\n\n# Check web interface\nHTTP_STATUS=$(curl -s -o /dev/null -w \u0026quot;%{http_code}\u0026quot; ${JENKINS_URL}/login)\nif [ \u0026quot;${HTTP_STATUS}\u0026quot; = \u0026quot;200\u0026quot; ]; then\n    log_message \u0026quot;✅ Jenkins web interface responding (HTTP ${HTTP_STATUS})\u0026quot;\nelse\n    log_message \u0026quot;❌ Jenkins web interface issues (HTTP ${HTTP_STATUS})\u0026quot;\n    exit 2\nfi\n\n# Check disk space\nJENKINS_HOME_USAGE=$(df /var/lib/jenkins | awk \u0026#039;NR==2 {print $5}\u0026#039; | sed \u0026#039;s/%//\u0026#039;)\nif [ ${JENKINS_HOME_USAGE} -gt 85 ]; then\n    log_message \u0026quot;⚠️  High disk usage: ${JENKINS_HOME_USAGE}%\u0026quot;\n    exit 1\nelse\n    log_message \u0026quot;✅ Jenkins home disk usage: ${JENKINS_HOME_USAGE}%\u0026quot;\nfi\n\n# Check memory usage\nJAVA_MEMORY=$(ps -o pid,vsz,rss,comm -C java | grep jenkins | awk \u0026#039;{rss+=$3} END {print rss/1024}\u0026#039;)\nif (( $(echo \u0026quot;${JAVA_MEMORY} \u0026gt; 6144\u0026quot; | bc -l) )); then\n    log_message \u0026quot;⚠️  High memory usage: ${JAVA_MEMORY}MB\u0026quot;\n    exit 1\nelse\n    log_message \u0026quot;✅ Jenkins memory usage: ${JAVA_MEMORY}MB\u0026quot;\nfi\n\n# Check running builds (if Jenkins CLI is available)\nif [ -f /var/lib/jenkins/jenkins-cli.jar ]; then\n    RUNNING_BUILDS=$(java -jar /var/lib/jenkins/jenkins-cli.jar -s ${JENKINS_URL} -auth monitoring:MonitoringPassword123! list-builds 2\u0026gt;/dev/null | grep -c \u0026quot;RUNNING\u0026quot; || echo \u0026quot;0\u0026quot;)\n    log_message \u0026quot;ℹ️  Running builds: ${RUNNING_BUILDS}\u0026quot;\n    \n    # Check for failed builds in last 24 hours\n    FAILED_BUILDS=$(java -jar /var/lib/jenkins/jenkins-cli.jar -s ${JENKINS_URL} -auth monitoring:MonitoringPassword123! list-builds 2\u0026gt;/dev/null | grep -c \u0026quot;FAILURE\u0026quot; || echo \u0026quot;0\u0026quot;)\n    if [ ${FAILED_BUILDS} -gt 5 ]; then\n        log_message \u0026quot;⚠️  High number of failed builds: ${FAILED_BUILDS}\u0026quot;\n        exit 1\n    fi\nfi\n\n# Check plugin health\nPLUGIN_ERRORS=$(curl -s ${JENKINS_URL}/pluginManager/api/json?depth=1 | jq \u0026#039;.plugins[] | select(.hasUpdate==true or .enabled==false) | .shortName\u0026#039; | wc -l)\nif [ ${PLUGIN_ERRORS} -gt 0 ]; then\n    log_message \u0026quot;⚠️  Plugins need attention: ${PLUGIN_ERRORS}\u0026quot;\nfi\n\nlog_message \u0026quot;✅ Jenkins health check completed\u0026quot;\nexit 0\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"backup-and-restore\" class=\"mobile-header\"\u003eBackup and Restore\u003c/h2\u003e\n\u003ch3 id=\"comprehensive-backup-strategy\" class=\"mobile-header\"\u003eComprehensive Backup Strategy\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# jenkins-backup.sh\n\nBACKUP_DIR=\u0026quot;/backup/jenkins\u0026quot;\nDATE=$(date +%Y%m%d_%H%M%S)\nJENKINS_HOME=\u0026quot;/var/lib/jenkins\u0026quot;\nRETENTION_DAYS=14\n\nmkdir -p ${BACKUP_DIR}/{config,jobs,plugins,secrets,workspace}\n\necho \u0026quot;Starting Jenkins comprehensive backup...\u0026quot;\n\n# Function to gracefully shutdown Jenkins\ngraceful_shutdown() {\n    echo \u0026quot;Putting Jenkins in quiet mode...\u0026quot;\n    java -jar ${JENKINS_HOME}/jenkins-cli.jar -s http://localhost:8080 -auth admin:SecureAdminPassword123! quiet-down\n    \n    # Wait for running builds to complete (max 20 minutes)\n    for i in {1..120}; do\n        RUNNING_BUILDS=$(java -jar ${JENKINS_HOME}/jenkins-cli.jar -s http://localhost:8080 -auth admin:SecureAdminPassword123! list-builds | grep -c \u0026quot;RUNNING\u0026quot; || echo \u0026quot;0\u0026quot;)\n        if [ \u0026quot;$RUNNING_BUILDS\u0026quot; -eq 0 ]; then\n            echo \u0026quot;All builds completed, stopping Jenkins...\u0026quot;\n            systemctl stop jenkins\n            break\n        fi\n        echo \u0026quot;Waiting for $RUNNING_BUILDS running builds to complete... (${i}/120)\u0026quot;\n        sleep 10\n    done\n    \n    if [ \u0026quot;$RUNNING_BUILDS\u0026quot; -gt 0 ]; then\n        echo \u0026quot;Warning: Stopping Jenkins with $RUNNING_BUILDS builds still running\u0026quot;\n        systemctl stop jenkins\n    fi\n}\n\n# Function to start Jenkins\nstart_jenkins() {\n    echo \u0026quot;Starting Jenkins...\u0026quot;\n    systemctl start jenkins\n    \n    # Wait for Jenkins to be ready\n    for i in {1..60}; do\n        if curl -f http://localhost:8080/login \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n            echo \u0026quot;Jenkins is ready, canceling quiet mode...\u0026quot;\n            java -jar ${JENKINS_HOME}/jenkins-cli.jar -s http://localhost:8080 -auth admin:SecureAdminPassword123! cancel-quiet-down\n            break\n        fi\n        echo \u0026quot;Waiting for Jenkins to start... (${i}/60)\u0026quot;\n        sleep 10\n    done\n}\n\n# Gracefully shutdown Jenkins\ngraceful_shutdown\n\n# Full Jenkins home backup (excluding large/temporary directories)\necho \u0026quot;Creating full Jenkins home backup...\u0026quot;\ntar --exclude=\u0026quot;${JENKINS_HOME}/workspace/*\u0026quot; \\\n    --exclude=\u0026quot;${JENKINS_HOME}/builds/*/archive\u0026quot; \\\n    --exclude=\u0026quot;${JENKINS_HOME}/logs/*\u0026quot; \\\n    --exclude=\u0026quot;${JENKINS_HOME}/.m2/repository\u0026quot; \\\n    --exclude=\u0026quot;${JENKINS_HOME}/caches\u0026quot; \\\n    --exclude=\u0026quot;${JENKINS_HOME}/war\u0026quot; \\\n    -czf ${BACKUP_DIR}/config/jenkins-home-${DATE}.tar.gz \\\n    -C ${JENKINS_HOME} .\n\n# Job configurations backup\necho \u0026quot;Backing up job configurations...\u0026quot;\nmkdir -p ${BACKUP_DIR}/jobs\nfind ${JENKINS_HOME}/jobs -name \u0026quot;config.xml\u0026quot; -exec cp {} ${BACKUP_DIR}/jobs/ \\;\ntar -czf ${BACKUP_DIR}/jobs/job-configs-${DATE}.tar.gz -C ${BACKUP_DIR}/jobs .\nrm ${BACKUP_DIR}/jobs/config.xml 2\u0026gt;/dev/null\n\n# Plugins backup\necho \u0026quot;Backing up installed plugins...\u0026quot;\njava -jar ${JENKINS_HOME}/jenkins-cli.jar -s http://localhost:8080 -auth admin:SecureAdminPassword123! list-plugins \u0026gt; ${BACKUP_DIR}/plugins/plugin-list-${DATE}.txt\ncp -r ${JENKINS_HOME}/plugins ${BACKUP_DIR}/plugins/plugins-${DATE}/ 2\u0026gt;/dev/null\n\n# Secrets and credentials backup\necho \u0026quot;Backing up secrets and credentials...\u0026quot;\nif [ -d \u0026quot;${JENKINS_HOME}/secrets\u0026quot; ]; then\n    tar -czf ${BACKUP_DIR}/secrets/jenkins-secrets-${DATE}.tar.gz -C ${JENKINS_HOME} secrets/\nfi\n\n# System configuration backup\necho \u0026quot;Backing up system configuration...\u0026quot;\ntar -czf ${BACKUP_DIR}/config/system-config-${DATE}.tar.gz \\\n    /etc/default/jenkins \\\n    /etc/sysconfig/jenkins \\\n    /etc/systemd/system/jenkins.service.d/ 2\u0026gt;/dev/null\n\n# Database backup (if using external database)\nif [ -f \u0026quot;${JENKINS_HOME}/database-config.xml\u0026quot; ]; then\n    echo \u0026quot;Backing up external database...\u0026quot;\n    sudo -u postgres pg_dump jenkinsdb | gzip \u0026gt; ${BACKUP_DIR}/config/jenkinsdb-${DATE}.sql.gz\nfi\n\n# Start Jenkins\nstart_jenkins\n\n# Cloud backup (uncomment and configure as needed)\n# aws s3 cp ${BACKUP_DIR}/ s3://jenkins-backups/${DATE}/ --recursive --sse AES256\n# az storage blob upload-batch --source ${BACKUP_DIR} --destination jenkins-backups --destination-path ${DATE}\n# gsutil cp -r ${BACKUP_DIR}/* gs://jenkins-backups/${DATE}/\n\n# Verify backup integrity\necho \u0026quot;Verifying backup integrity...\u0026quot;\nLATEST_BACKUP=$(ls -t ${BACKUP_DIR}/config/jenkins-home-*.tar.gz | head -1)\nif tar -tzf \u0026quot;$LATEST_BACKUP\u0026quot; \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    echo \u0026quot;✅ Backup integrity verified\u0026quot;\n    BACKUP_SIZE=$(du -h \u0026quot;$LATEST_BACKUP\u0026quot; | cut -f1)\n    echo \u0026quot;Backup size: $BACKUP_SIZE\u0026quot;\nelse\n    echo \u0026quot;❌ Backup integrity check failed\u0026quot;\n    exit 1\nfi\n\n# Cleanup old backups\necho \u0026quot;Cleaning up old backups (keeping last $RETENTION_DAYS days)...\u0026quot;\nfind ${BACKUP_DIR} -name \u0026quot;jenkins-*\u0026quot; -type f -mtime +${RETENTION_DAYS} -delete\nfind ${BACKUP_DIR} -name \u0026quot;plugin-list-*\u0026quot; -type f -mtime +${RETENTION_DAYS} -delete\nfind ${BACKUP_DIR} -name \u0026quot;*-${DATE}*\u0026quot; -type d -mtime +${RETENTION_DAYS} -exec rm -rf {} \\;\n\n# Generate backup report\necho \u0026quot;Generating backup report...\u0026quot;\ncat \u0026gt; ${BACKUP_DIR}/backup-report-${DATE}.txt \u0026lt;\u0026lt;EOF\nJenkins Backup Report - ${DATE}\n================================\n\nBackup Location: ${BACKUP_DIR}\nJenkins Home: ${JENKINS_HOME}\nBackup Date: $(date)\nServer: $(hostname)\n\nFiles backed up:\n- Jenkins Home: $(ls -lh ${BACKUP_DIR}/config/jenkins-home-${DATE}.tar.gz)\n- Job Configs: $(ls -lh ${BACKUP_DIR}/jobs/job-configs-${DATE}.tar.gz)\n- Plugins: $(ls -lh ${BACKUP_DIR}/plugins/plugin-list-${DATE}.txt)\n- Secrets: $(ls -lh ${BACKUP_DIR}/secrets/jenkins-secrets-${DATE}.tar.gz 2\u0026gt;/dev/null || echo \u0026quot;No secrets backup\u0026quot;)\n- System Config: $(ls -lh ${BACKUP_DIR}/config/system-config-${DATE}.tar.gz 2\u0026gt;/dev/null || echo \u0026quot;No system config backup\u0026quot;)\n\nTotal Backup Size: $(du -h ${BACKUP_DIR} | tail -1 | cut -f1)\n\nVerification: ✅ Passed\nEOF\n\necho \u0026quot;✅ Jenkins backup completed: ${DATE}\u0026quot;\necho \u0026quot;📊 Backup report: ${BACKUP_DIR}/backup-report-${DATE}.txt\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"restore-procedures\" class=\"mobile-header\"\u003eRestore Procedures\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# jenkins-restore.sh\n\nBACKUP_FILE=\u0026quot;${1}\u0026quot;\nRESTORE_TYPE=\u0026quot;${2:-full}\u0026quot;  # full, config-only, jobs-only\n\nusage() {\n    echo \u0026quot;Usage: $0 \u0026lt;backup_file\u0026gt; [restore_type]\u0026quot;\n    echo \u0026quot;Restore types: full (default), config-only, jobs-only\u0026quot;\n    echo \u0026quot;\u0026quot;\n    echo \u0026quot;Available backups:\u0026quot;\n    ls -la /backup/jenkins/config/jenkins-home-*.tar.gz | head -10\n    exit 1\n}\n\nif [ -z \u0026quot;$BACKUP_FILE\u0026quot; ]; then\n    usage\nfi\n\nif [ ! -f \u0026quot;$BACKUP_FILE\u0026quot; ]; then\n    echo \u0026quot;❌ Backup file not found: $BACKUP_FILE\u0026quot;\n    exit 1\nfi\n\necho \u0026quot;🔄 Starting Jenkins restore from: $BACKUP_FILE\u0026quot;\necho \u0026quot;Restore type: $RESTORE_TYPE\u0026quot;\n\n# Pre-restore backup of current state\nif [ -d \u0026quot;/var/lib/jenkins\u0026quot; ]; then\n    echo \u0026quot;📦 Creating backup of current installation...\u0026quot;\n    CURRENT_BACKUP=\u0026quot;/backup/jenkins/pre-restore-$(date +%s)\u0026quot;\n    mkdir -p \u0026quot;$CURRENT_BACKUP\u0026quot;\n    mv /var/lib/jenkins \u0026quot;$CURRENT_BACKUP/jenkins-$(date +%Y%m%d_%H%M%S)\u0026quot;\n    echo \u0026quot;Current installation backed up to: $CURRENT_BACKUP\u0026quot;\nfi\n\n# Stop Jenkins\necho \u0026quot;⏹️  Stopping Jenkins...\u0026quot;\nsystemctl stop jenkins\n\ncase \u0026quot;$RESTORE_TYPE\u0026quot; in\n    \u0026quot;full\u0026quot;)\n        echo \u0026quot;🔄 Performing full restore...\u0026quot;\n        \n        # Create new Jenkins directory\n        mkdir -p /var/lib/jenkins\n        \n        # Restore from backup\n        echo \u0026quot;📂 Extracting backup archive...\u0026quot;\n        tar -xzf \u0026quot;$BACKUP_FILE\u0026quot; -C /var/lib/jenkins\n        \n        # Set proper ownership\n        chown -R jenkins:jenkins /var/lib/jenkins\n        chmod -R 755 /var/lib/jenkins\n        \n        # Special permissions for secrets\n        if [ -d \u0026quot;/var/lib/jenkins/secrets\u0026quot; ]; then\n            chmod 700 /var/lib/jenkins/secrets\n            chmod 600 /var/lib/jenkins/secrets/*\n        fi\n        ;;\n        \n    \u0026quot;config-only\u0026quot;)\n        echo \u0026quot;🔄 Performing configuration-only restore...\u0026quot;\n        \n        # Create minimal Jenkins directory\n        mkdir -p /var/lib/jenkins\n        \n        # Extract only configuration files\n        tar -xzf \u0026quot;$BACKUP_FILE\u0026quot; -C /var/lib/jenkins \\\n            --include=\u0026quot;*/config.xml\u0026quot; \\\n            --include=\u0026quot;*/secrets/*\u0026quot; \\\n            --include=\u0026quot;*/users/*\u0026quot; \\\n            --include=\u0026quot;*/plugins/*\u0026quot; \\\n            --exclude=\u0026quot;*/workspace/*\u0026quot; \\\n            --exclude=\u0026quot;*/builds/*\u0026quot;\n            \n        chown -R jenkins:jenkins /var/lib/jenkins\n        ;;\n        \n    \u0026quot;jobs-only\u0026quot;)\n        echo \u0026quot;🔄 Performing jobs-only restore...\u0026quot;\n        \n        if [ ! -d \u0026quot;/var/lib/jenkins\u0026quot; ]; then\n            echo \u0026quot;❌ Jenkins directory not found. Cannot restore jobs only.\u0026quot;\n            exit 1\n        fi\n        \n        # Backup current jobs\n        if [ -d \u0026quot;/var/lib/jenkins/jobs\u0026quot; ]; then\n            mv /var/lib/jenkins/jobs \u0026quot;/var/lib/jenkins/jobs.backup.$(date +%s)\u0026quot;\n        fi\n        \n        # Extract only jobs\n        tar -xzf \u0026quot;$BACKUP_FILE\u0026quot; -C /var/lib/jenkins jobs/\n        chown -R jenkins:jenkins /var/lib/jenkins/jobs\n        ;;\n        \n    *)\n        echo \u0026quot;❌ Unknown restore type: $RESTORE_TYPE\u0026quot;\n        usage\n        ;;\nesac\n\n# Restore system configuration if available\nBACKUP_DIR=$(dirname \u0026quot;$BACKUP_FILE\u0026quot;)\nBACKUP_DATE=$(basename \u0026quot;$BACKUP_FILE\u0026quot; .tar.gz | sed \u0026#039;s/jenkins-home-//\u0026#039;)\nSYSTEM_CONFIG=\u0026quot;${BACKUP_DIR}/../config/system-config-${BACKUP_DATE}.tar.gz\u0026quot;\n\nif [ -f \u0026quot;$SYSTEM_CONFIG\u0026quot; ]; then\n    echo \u0026quot;🔧 Restoring system configuration...\u0026quot;\n    tar -xzf \u0026quot;$SYSTEM_CONFIG\u0026quot; -C / 2\u0026gt;/dev/null\n    systemctl daemon-reload\nfi\n\n# Restore database if available\nDB_BACKUP=\u0026quot;${BACKUP_DIR}/jenkinsdb-${BACKUP_DATE}.sql.gz\u0026quot;\nif [ -f \u0026quot;$DB_BACKUP\u0026quot; ]; then\n    echo \u0026quot;🗄️  Restoring database...\u0026quot;\n    zcat \u0026quot;$DB_BACKUP\u0026quot; | sudo -u postgres psql jenkinsdb\nfi\n\n# Start Jenkins\necho \u0026quot;▶️  Starting Jenkins...\u0026quot;\nsystemctl start jenkins\n\n# Wait for Jenkins to start and verify\necho \u0026quot;⏳ Waiting for Jenkins to start...\u0026quot;\nfor i in {1..120}; do\n    if curl -f http://localhost:8080/login \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n        echo \u0026quot;✅ Jenkins started successfully\u0026quot;\n        break\n    fi\n    echo \u0026quot;Waiting for Jenkins to start... (${i}/120)\u0026quot;\n    sleep 10\ndone\n\n# Verify restoration\necho \u0026quot;🔍 Verifying restoration...\u0026quot;\nif curl -f http://localhost:8080/login \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    echo \u0026quot;✅ Jenkins is responding\u0026quot;\n    \n    # Check if jobs were restored\n    if [ -d \u0026quot;/var/lib/jenkins/jobs\u0026quot; ]; then\n        JOB_COUNT=$(ls -1 /var/lib/jenkins/jobs | wc -l)\n        echo \u0026quot;📋 Jobs restored: $JOB_COUNT\u0026quot;\n    fi\n    \n    # Check if plugins were restored\n    if [ -d \u0026quot;/var/lib/jenkins/plugins\u0026quot; ]; then\n        PLUGIN_COUNT=$(ls -1 /var/lib/jenkins/plugins | wc -l)\n        echo \u0026quot;🔌 Plugins restored: $PLUGIN_COUNT\u0026quot;\n    fi\n    \n    echo \u0026quot;✅ Jenkins restoration completed successfully\u0026quot;\n    echo \u0026quot;\u0026quot;\n    echo \u0026quot;📝 Next steps:\u0026quot;\n    echo \u0026quot;1. Verify Jenkins configuration via web interface\u0026quot;\n    echo \u0026quot;2. Check plugin compatibility and update if needed\u0026quot;\n    echo \u0026quot;3. Verify job configurations and test builds\u0026quot;\n    echo \u0026quot;4. Update any environment-specific settings\u0026quot;\n    \nelse\n    echo \u0026quot;❌ Jenkins restoration failed - service not responding\u0026quot;\n    echo \u0026quot;Check logs: journalctl -u jenkins -n 50\u0026quot;\n    exit 1\nfi\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"disaster-recovery\" class=\"mobile-header\"\u003eDisaster Recovery\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# jenkins-disaster-recovery.sh\n\necho \u0026quot;🚨 Jenkins Disaster Recovery Procedure\u0026quot;\necho \u0026quot;======================================\u0026quot;\n\n# Check if Jenkins is running\nif systemctl is-active jenkins \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    echo \u0026quot;⚠️  Jenkins is running. This procedure should be run on a failed system.\u0026quot;\n    read -p \u0026quot;Continue anyway? (y/N): \u0026quot; -n 1 -r\n    echo\n    if [[ ! $REPLY =~ ^[Yy]$ ]]; then\n        exit 1\n    fi\nfi\n\n# Find latest backup\nBACKUP_DIR=\u0026quot;/backup/jenkins\u0026quot;\nLATEST_BACKUP=$(ls -t ${BACKUP_DIR}/config/jenkins-home-*.tar.gz 2\u0026gt;/dev/null | head -1)\n\nif [ -z \u0026quot;$LATEST_BACKUP\u0026quot; ]; then\n    echo \u0026quot;❌ No backups found in ${BACKUP_DIR}\u0026quot;\n    echo \u0026quot;Please restore from cloud backup or external storage\u0026quot;\n    exit 1\nfi\n\necho \u0026quot;📦 Latest backup found: $LATEST_BACKUP\u0026quot;\necho \u0026quot;📅 Backup date: $(basename \u0026quot;$LATEST_BACKUP\u0026quot; .tar.gz | sed \u0026#039;s/jenkins-home-//\u0026#039;)\u0026quot;\n\n# Verify backup integrity\necho \u0026quot;🔍 Verifying backup integrity...\u0026quot;\nif tar -tzf \u0026quot;$LATEST_BACKUP\u0026quot; \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    echo \u0026quot;✅ Backup integrity verified\u0026quot;\nelse\n    echo \u0026quot;❌ Backup is corrupted. Cannot proceed with recovery.\u0026quot;\n    exit 1\nfi\n\n# Create disaster recovery log\nDR_LOG=\u0026quot;/var/log/jenkins-disaster-recovery-$(date +%Y%m%d_%H%M%S).log\u0026quot;\nexec \u0026gt; \u0026gt;(tee -a \u0026quot;$DR_LOG\u0026quot;)\nexec 2\u0026gt;\u0026amp;1\n\necho \u0026quot;📝 Disaster recovery log: $DR_LOG\u0026quot;\n\n# System preparation\necho \u0026quot;🔧 Preparing system for recovery...\u0026quot;\n\n# Install Jenkins if not present\nif ! command -v jenkins \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    echo \u0026quot;📦 Installing Jenkins...\u0026quot;\n    # Add Jenkins repository and install (distribution-specific commands)\n    if [ -f /etc/debian_version ]; then\n        wget -q -O - https://pkg.jenkins.io/debian-stable/jenkins.io.key | apt-key add -\n        echo \u0026quot;deb https://pkg.jenkins.io/debian-stable binary/\u0026quot; \u0026gt; /etc/apt/sources.list.d/jenkins.list\n        apt-get update\n        apt-get install -y openjdk-17-jdk jenkins\n    elif [ -f /etc/redhat-release ]; then\n        yum install -y java-17-openjdk jenkins\n    fi\nfi\n\n# Stop Jenkins service\nsystemctl stop jenkins\n\n# Clear existing Jenkins data\nif [ -d \u0026quot;/var/lib/jenkins\u0026quot; ]; then\n    echo \u0026quot;🗑️  Removing existing Jenkins data...\u0026quot;\n    rm -rf /var/lib/jenkins.disaster-backup-$(date +%s)\n    mv /var/lib/jenkins /var/lib/jenkins.disaster-backup-$(date +%s)\nfi\n\n# Create new Jenkins directory\nmkdir -p /var/lib/jenkins\n\n# Restore from backup\necho \u0026quot;🔄 Restoring Jenkins from backup...\u0026quot;\ntar -xzf \u0026quot;$LATEST_BACKUP\u0026quot; -C /var/lib/jenkins\n\n# Set proper permissions\nchown -R jenkins:jenkins /var/lib/jenkins\nchmod -R 755 /var/lib/jenkins\n\n# Special permissions for sensitive files\nif [ -d \u0026quot;/var/lib/jenkins/secrets\u0026quot; ]; then\n    chmod 700 /var/lib/jenkins/secrets\n    chmod 600 /var/lib/jenkins/secrets/*\nfi\n\nif [ -d \u0026quot;/var/lib/jenkins/users\u0026quot; ]; then\n    chmod 700 /var/lib/jenkins/users\nfi\n\n# Restore system configuration\nBACKUP_DATE=$(basename \u0026quot;$LATEST_BACKUP\u0026quot; .tar.gz | sed \u0026#039;s/jenkins-home-//\u0026#039;)\nSYSTEM_CONFIG=\u0026quot;${BACKUP_DIR}/config/system-config-${BACKUP_DATE}.tar.gz\u0026quot;\n\nif [ -f \u0026quot;$SYSTEM_CONFIG\u0026quot; ]; then\n    echo \u0026quot;🔧 Restoring system configuration...\u0026quot;\n    tar -xzf \u0026quot;$SYSTEM_CONFIG\u0026quot; -C / 2\u0026gt;/dev/null\n    systemctl daemon-reload\nfi\n\n# Restore database if available\nDB_BACKUP=\u0026quot;${BACKUP_DIR}/config/jenkinsdb-${BACKUP_DATE}.sql.gz\u0026quot;\nif [ -f \u0026quot;$DB_BACKUP\u0026quot; ]; then\n    echo \u0026quot;🗄️  Restoring database...\u0026quot;\n    # Ensure PostgreSQL is running\n    systemctl start postgresql\n    \n    # Drop and recreate database\n    sudo -u postgres psql -c \u0026quot;DROP DATABASE IF EXISTS jenkinsdb;\u0026quot;\n    sudo -u postgres psql -c \u0026quot;CREATE DATABASE jenkinsdb;\u0026quot;\n    sudo -u postgres psql -c \u0026quot;GRANT ALL PRIVILEGES ON DATABASE jenkinsdb TO jenkinsuser;\u0026quot;\n    \n    # Restore database\n    zcat \u0026quot;$DB_BACKUP\u0026quot; | sudo -u postgres psql jenkinsdb\nfi\n\n# Configure firewall\necho \u0026quot;🔥 Configuring firewall...\u0026quot;\nif command -v ufw \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    ufw allow 8080/tcp\n    ufw allow 50000/tcp\nelif command -v firewall-cmd \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    firewall-cmd --permanent --add-port=8080/tcp\n    firewall-cmd --permanent --add-port=50000/tcp\n    firewall-cmd --reload\nfi\n\n# Start Jenkins\necho \u0026quot;▶️  Starting Jenkins...\u0026quot;\nsystemctl enable jenkins\nsystemctl start jenkins\n\n# Wait for Jenkins to start\necho \u0026quot;⏳ Waiting for Jenkins to initialize...\u0026quot;\nfor i in {1..300}; do\n    if curl -f http://localhost:8080/login \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n        echo \u0026quot;✅ Jenkins is responding\u0026quot;\n        break\n    fi\n    echo \u0026quot;Waiting for Jenkins... (${i}/300)\u0026quot;\n    sleep 10\ndone\n\n# Verify recovery\necho \u0026quot;🔍 Verifying disaster recovery...\u0026quot;\n\n# Check Jenkins status\nif systemctl is-active jenkins \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    echo \u0026quot;✅ Jenkins service is running\u0026quot;\nelse\n    echo \u0026quot;❌ Jenkins service failed to start\u0026quot;\n    echo \u0026quot;Check logs: journalctl -u jenkins -n 50\u0026quot;\n    exit 1\nfi\n\n# Check web interface\nif curl -f http://localhost:8080/login \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    echo \u0026quot;✅ Jenkins web interface is accessible\u0026quot;\nelse\n    echo \u0026quot;❌ Jenkins web interface is not responding\u0026quot;\n    exit 1\nfi\n\n# Check jobs restoration\nif [ -d \u0026quot;/var/lib/jenkins/jobs\u0026quot; ]; then\n    JOB_COUNT=$(ls -1 /var/lib/jenkins/jobs 2\u0026gt;/dev/null | wc -l)\n    echo \u0026quot;📋 Jobs recovered: $JOB_COUNT\u0026quot;\nelse\n    echo \u0026quot;⚠️  No jobs directory found\u0026quot;\nfi\n\n# Check plugins restoration\nif [ -d \u0026quot;/var/lib/jenkins/plugins\u0026quot; ]; then\n    PLUGIN_COUNT=$(ls -1 /var/lib/jenkins/plugins 2\u0026gt;/dev/null | wc -l)\n    echo \u0026quot;🔌 Plugins recovered: $PLUGIN_COUNT\u0026quot;\nelse\n    echo \u0026quot;⚠️  No plugins directory found\u0026quot;\nfi\n\n# Generate recovery report\necho \u0026quot;📊 Generating disaster recovery report...\u0026quot;\ncat \u0026gt; \u0026quot;/var/log/jenkins-recovery-report-$(date +%Y%m%d_%H%M%S).txt\u0026quot; \u0026lt;\u0026lt;EOF\nJenkins Disaster Recovery Report\n===============================\nRecovery Date: $(date)\nServer: $(hostname)\nBackup Used: $LATEST_BACKUP\nRecovery Log: $DR_LOG\n\nRecovery Summary:\n- Jenkins Service: $(systemctl is-active jenkins)\n- Web Interface: $(curl -s -o /dev/null -w \u0026quot;%{http_code}\u0026quot; http://localhost:8080/login)\n- Jobs Recovered: $JOB_COUNT\n- Plugins Recovered: $PLUGIN_COUNT\n- Database Restored: $([ -f \u0026quot;$DB_BACKUP\u0026quot; ] \u0026amp;\u0026amp; echo \u0026quot;Yes\u0026quot; || echo \u0026quot;No\u0026quot;)\n\nNext Steps:\n1. Verify Jenkins configuration via web interface: http://$(hostname):8080\n2. Test critical job configurations\n3. Update any environment-specific settings\n4. Verify agent connections\n5. Test integrations (SCM, notifications, etc.)\n6. Update DNS/load balancer configurations if needed\n7. Notify team of recovery completion\n\nRecovery Status: ✅ COMPLETED\nEOF\n\necho \u0026quot;\u0026quot;\necho \u0026quot;🎉 Jenkins disaster recovery completed successfully!\u0026quot;\necho \u0026quot;📝 Recovery report saved to: /var/log/jenkins-recovery-report-$(date +%Y%m%d_%H%M%S).txt\u0026quot;\necho \u0026quot;\u0026quot;\necho \u0026quot;🔗 Access Jenkins: http://$(hostname):8080\u0026quot;\necho \u0026quot;\u0026quot;\necho \u0026quot;⚠️  Important post-recovery tasks:\u0026quot;\necho \u0026quot;1. Verify all job configurations\u0026quot;\necho \u0026quot;2. Test agent connections\u0026quot;\necho \u0026quot;3. Verify integrations (GitHub, LDAP, etc.)\u0026quot;\necho \u0026quot;4. Update any environment-specific configurations\u0026quot;\necho \u0026quot;5. Perform a backup of the recovered system\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"troubleshooting\" class=\"mobile-header\"\u003eTroubleshooting\u003c/h2\u003e\n\u003ch3 id=\"common-issues\" class=\"mobile-header\"\u003eCommon Issues\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e1. \u003cstrong\u003eJenkins won't start\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check service status and logs\nsudo systemctl status jenkins\nsudo journalctl -u jenkins -f\n\n# Check Java version and JAVA_HOME\njava -version\necho $JAVA_HOME\n\n# Check disk space\ndf -h /var/lib/jenkins\n\n# Check permissions\nls -la /var/lib/jenkins\nsudo chown -R jenkins:jenkins /var/lib/jenkins\n\n# Check memory allocation\nfree -h\nps aux | grep jenkins\n\n# Clear Jenkins cache\nsudo systemctl stop jenkins\nsudo rm -rf /var/lib/jenkins/war\nsudo systemctl start jenkins\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e2. \u003cstrong\u003eMemory issues\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Increase JVM memory\nsudo systemctl edit jenkins\n# Add:\n[Service]\nEnvironment=\u0026quot;JAVA_OPTS=-Xmx8g -Xms4g -XX:+UseG1GC\u0026quot;\n\nsudo systemctl daemon-reload\nsudo systemctl restart jenkins\n\n# Monitor memory usage\ntop -p $(pgrep java)\njstat -gc $(pgrep java) 5s\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e3. \u003cstrong\u003ePlugin issues\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Safe start (disable all plugins)\nsudo systemctl stop jenkins\necho \u0026#039;jenkins.install.runSetupWizard=false\u0026#039; \u0026gt; /var/lib/jenkins/jenkins.install.runSetupWizard\nsudo systemctl start jenkins\n\n# Clear plugin cache\nsudo rm -rf /var/lib/jenkins/plugins/*.bak\nsudo rm -rf /var/lib/jenkins/plugins/*.hpi.pinned\n\n# Update plugins via CLI\njava -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password list-plugins | grep -E \u0026quot;\\)$\u0026quot; | awk \u0026#039;{print $1}\u0026#039; | xargs java -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password install-plugin\n\n# Check plugin dependencies\njava -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password list-plugins | grep -v \u0026quot;^$\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e4. \u003cstrong\u003eBuild failures\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check workspace permissions\nsudo chown -R jenkins:jenkins /var/lib/jenkins/workspace\n\n# Clear old builds\njava -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password delete-builds job-name 1-100\n\n# Check agent connectivity\njava -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password list-computers\njava -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password connect-node agent-name\n\n# Monitor build resources\nhtop\niostat -x 1\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"debug-mode\" class=\"mobile-header\"\u003eDebug Mode\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable debug logging for Jenkins\nsudo systemctl edit jenkins\n# Add:\n[Service]\nEnvironment=\u0026quot;JAVA_OPTS=-Xmx4g -Djava.util.logging.config.file=/var/lib/jenkins/logging.properties\u0026quot;\n\n# Create detailed logging configuration\nsudo tee /var/lib/jenkins/logging.properties \u0026lt;\u0026lt;EOF\n.level = INFO\n\n# Root logger\nhandlers = java.util.logging.ConsoleHandler, java.util.logging.FileHandler\n\n# Console logging\njava.util.logging.ConsoleHandler.level = INFO\njava.util.logging.ConsoleHandler.formatter = java.util.logging.SimpleFormatter\n\n# File logging\njava.util.logging.FileHandler.pattern = /var/log/jenkins/jenkins-debug.log\njava.util.logging.FileHandler.limit = 50000000\njava.util.logging.FileHandler.count = 5\njava.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter\n\n# Component-specific logging\nhudson.level = FINE\njenkins.level = FINE\nhudson.security.level = FINE\nhudson.plugins.level = FINE\nhudson.model.level = FINE\n\n# Plugin debugging\nhudson.plugins.git.level = FINE\norg.jenkinsci.plugins.workflow.level = FINE\nEOF\n\nsudo systemctl restart jenkins\n\n# View debug logs\nsudo tail -f /var/log/jenkins/jenkins-debug.log\n\n# Enable specific plugin debugging via Jenkins CLI\njava -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password groovy = \u0026lt;\u0026lt;EOF\nimport java.util.logging.Logger\nimport java.util.logging.Level\n\n// Enable debug logging for specific components\nLogger.getLogger(\u0026quot;hudson.security\u0026quot;).setLevel(Level.FINE)\nLogger.getLogger(\u0026quot;hudson.plugins.git\u0026quot;).setLevel(Level.FINE)\nLogger.getLogger(\u0026quot;org.jenkinsci.plugins.workflow\u0026quot;).setLevel(Level.FINE)\n\nprintln \u0026quot;Debug logging enabled\u0026quot;\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"maintenance\" class=\"mobile-header\"\u003eMaintenance\u003c/h2\u003e\n\u003ch3 id=\"update-procedures\" class=\"mobile-header\"\u003eUpdate Procedures\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# RHEL/CentOS/Rocky/AlmaLinux\nsudo dnf check-update jenkins\nsudo dnf update jenkins\n\n# Debian/Ubuntu\nsudo apt update\nsudo apt upgrade jenkins\n\n# Arch Linux\nyay -Syu jenkins\n\n# Alpine Linux (Docker)\ndocker pull jenkins/jenkins:lts-jdk17\ndocker stop jenkins\ndocker rm jenkins\n# Re-run docker run command with new image\n\n# openSUSE\nsudo zypper update jenkins\n\n# FreeBSD\npkg update\npkg upgrade jenkins\n\n# macOS\nbrew upgrade jenkins-lts\n\n# Always backup before updates\nsudo /usr/local/bin/jenkins-backup.sh\n\n# Update plugins after Jenkins update\njava -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password list-plugins | grep -E \u0026quot;\\)$\u0026quot; | awk \u0026#039;{print $1}\u0026#039; | xargs java -jar jenkins-cli.jar -s http://localhost:8080 -auth admin:password install-plugin\n\n# Restart after updates\nsudo systemctl restart jenkins\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"maintenance-tasks\" class=\"mobile-header\"\u003eMaintenance Tasks\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# jenkins-maintenance.sh\n\nJENKINS_HOME=\u0026quot;/var/lib/jenkins\u0026quot;\nJENKINS_URL=\u0026quot;http://localhost:8080\u0026quot;\nADMIN_CREDENTIALS=\u0026quot;admin:SecureAdminPassword123!\u0026quot;\n\necho \u0026quot;🔧 Starting Jenkins maintenance tasks...\u0026quot;\n\n# Clean up old builds\necho \u0026quot;🗑️  Cleaning up old builds...\u0026quot;\njava -jar ${JENKINS_HOME}/jenkins-cli.jar -s ${JENKINS_URL} -auth ${ADMIN_CREDENTIALS} groovy = \u0026lt;\u0026lt;EOF\nimport jenkins.model.Jenkins\nimport hudson.model.*\n\nJenkins.instance.getAllItems(Job.class).each { job -\u0026gt;\n    if (job.getBuilds().size() \u0026gt; 50) {\n        def buildsToDelete = job.getBuilds().drop(50)\n        println \u0026quot;Deleting \\${buildsToDelete.size()} old builds for job: \\${job.name}\u0026quot;\n        buildsToDelete.each { build -\u0026gt;\n            build.delete()\n        }\n    }\n}\nEOF\n\n# Clean up workspace\necho \u0026quot;🧹 Cleaning up workspaces...\u0026quot;\njava -jar ${JENKINS_HOME}/jenkins-cli.jar -s ${JENKINS_URL} -auth ${ADMIN_CREDENTIALS} groovy = \u0026lt;\u0026lt;EOF\nimport hudson.model.*\nimport hudson.FilePath\nimport jenkins.model.Jenkins\n\nJenkins.instance.getAllItems(AbstractProject.class).each { job -\u0026gt;\n    def workspace = job.getWorkspace()\n    if (workspace != null \u0026amp;\u0026amp; workspace.exists()) {\n        def size = workspace.length()\n        if (size \u0026gt; 1024 * 1024 * 100) { // \u0026gt; 100MB\n            println \u0026quot;Workspace for \\${job.name} is \\${size / (1024*1024)} MB\u0026quot;\n            workspace.deleteRecursive()\n            println \u0026quot;Cleaned workspace for job: \\${job.name}\u0026quot;\n        }\n    }\n}\nEOF\n\n# Update plugins\necho \u0026quot;🔌 Checking for plugin updates...\u0026quot;\njava -jar ${JENKINS_HOME}/jenkins-cli.jar -s ${JENKINS_URL} -auth ${ADMIN_CREDENTIALS} list-plugins | grep -E \u0026quot;\\)$\u0026quot; \u0026gt; /tmp/outdated-plugins.txt\n\nif [ -s /tmp/outdated-plugins.txt ]; then\n    echo \u0026quot;📦 Updating outdated plugins:\u0026quot;\n    cat /tmp/outdated-plugins.txt\n    \n    # Update plugins\n    awk \u0026#039;{print $1}\u0026#039; /tmp/outdated-plugins.txt | xargs java -jar ${JENKINS_HOME}/jenkins-cli.jar -s ${JENKINS_URL} -auth ${ADMIN_CREDENTIALS} install-plugin\n    \n    echo \u0026quot;🔄 Restarting Jenkins to apply plugin updates...\u0026quot;\n    java -jar ${JENKINS_HOME}/jenkins-cli.jar -s ${JENKINS_URL} -auth ${ADMIN_CREDENTIALS} safe-restart\nfi\n\n# Clean up logs\necho \u0026quot;📋 Rotating and cleaning logs...\u0026quot;\nfind ${JENKINS_HOME}/logs -name \u0026quot;*.log\u0026quot; -mtime +7 -delete\nfind /var/log/jenkins -name \u0026quot;*.log.*\u0026quot; -mtime +7 -delete\n\n# Disk usage check\necho \u0026quot;💾 Checking disk usage...\u0026quot;\nDISK_USAGE=$(df ${JENKINS_HOME} | awk \u0026#039;NR==2 {print $5}\u0026#039; | sed \u0026#039;s/%//\u0026#039;)\nif [ ${DISK_USAGE} -gt 80 ]; then\n    echo \u0026quot;⚠️  High disk usage: ${DISK_USAGE}%\u0026quot;\n    \n    # Clean up large files\n    find ${JENKINS_HOME}/jobs -name \u0026quot;*.log\u0026quot; -size +100M -mtime +3 -delete\n    find ${JENKINS_HOME}/workspace -name \u0026quot;*\u0026quot; -size +500M -mtime +1 -delete\nfi\n\n# Backup verification\necho \u0026quot;🔍 Verifying recent backups...\u0026quot;\nLATEST_BACKUP=$(ls -t /backup/jenkins/config/jenkins-home-*.tar.gz 2\u0026gt;/dev/null | head -1)\nif [ -n \u0026quot;$LATEST_BACKUP\u0026quot; ]; then\n    BACKUP_AGE=$(($(date +%s) - $(stat -c %Y \u0026quot;$LATEST_BACKUP\u0026quot;)))\n    if [ $BACKUP_AGE -gt 172800 ]; then  # 2 days\n        echo \u0026quot;⚠️  Latest backup is older than 2 days: $LATEST_BACKUP\u0026quot;\n        echo \u0026quot;💾 Running backup now...\u0026quot;\n        /usr/local/bin/jenkins-backup.sh\n    else\n        echo \u0026quot;✅ Recent backup found: $LATEST_BACKUP\u0026quot;\n    fi\nelse\n    echo \u0026quot;❌ No backups found. Running backup...\u0026quot;\n    /usr/local/bin/jenkins-backup.sh\nfi\n\n# Security check\necho \u0026quot;🔒 Running security checks...\u0026quot;\njava -jar ${JENKINS_HOME}/jenkins-cli.jar -s ${JENKINS_URL} -auth ${ADMIN_CREDENTIALS} groovy = \u0026lt;\u0026lt;EOF\nimport jenkins.security.ApiTokenProperty\nimport hudson.security.SecurityRealm\nimport jenkins.model.Jenkins\n\ndef instance = Jenkins.getInstance()\n\n// Check for default passwords\ndef realm = instance.getSecurityRealm()\nif (realm instanceof hudson.security.HudsonPrivateSecurityRealm) {\n    def users = realm.getAllUsers()\n    users.each { user -\u0026gt;\n        if (user.getId() == \u0026quot;admin\u0026quot;) {\n            println \u0026quot;⚠️  Default admin user found. Consider renaming or removing.\u0026quot;\n        }\n    }\n}\n\n// Check for anonymous access\ndef authStrategy = instance.getAuthorizationStrategy()\nif (authStrategy.hasPermission(org.acegisecurity.Authentication.ANONYMOUS_USER, Jenkins.READ)) {\n    println \u0026quot;⚠️  Anonymous read access is enabled\u0026quot;\n}\n\nprintln \u0026quot;Security check completed\u0026quot;\nEOF\n\n# Performance check\necho \u0026quot;📊 Checking performance metrics...\u0026quot;\nJAVA_PID=$(pgrep java)\nif [ -n \u0026quot;$JAVA_PID\u0026quot; ]; then\n    MEMORY_USAGE=$(ps -o pid,vsz,rss,comm -p $JAVA_PID | awk \u0026#039;NR==2 {print $3/1024}\u0026#039;)\n    CPU_USAGE=$(ps -o pid,pcpu,comm -p $JAVA_PID | awk \u0026#039;NR==2 {print $2}\u0026#039;)\n    \n    echo \u0026quot;Memory usage: ${MEMORY_USAGE}MB\u0026quot;\n    echo \u0026quot;CPU usage: ${CPU_USAGE}%\u0026quot;\n    \n    if (( $(echo \u0026quot;${MEMORY_USAGE} \u0026gt; 6144\u0026quot; | bc -l) )); then\n        echo \u0026quot;⚠️  High memory usage detected\u0026quot;\n    fi\nfi\n\necho \u0026quot;✅ Jenkins maintenance completed\u0026quot;\n\n# Generate maintenance report\ncat \u0026gt; /var/log/jenkins-maintenance-$(date +%Y%m%d).log \u0026lt;\u0026lt;EOF\nJenkins Maintenance Report - $(date)\n===================================\n\nTasks Completed:\n- Old builds cleanup: ✅\n- Workspace cleanup: ✅\n- Plugin updates: $([ -s /tmp/outdated-plugins.txt ] \u0026amp;\u0026amp; echo \u0026quot;✅ Updated\u0026quot; || echo \u0026quot;✅ Up to date\u0026quot;)\n- Log rotation: ✅\n- Disk usage check: ✅ (${DISK_USAGE}%)\n- Backup verification: ✅\n- Security check: ✅\n- Performance check: ✅\n\nSystem Status:\n- Memory usage: ${MEMORY_USAGE}MB\n- CPU usage: ${CPU_USAGE}%\n- Disk usage: ${DISK_USAGE}%\n\nNext maintenance: $(date -d \u0026quot;next week\u0026quot; +%Y-%m-%d)\nEOF\n\necho \u0026quot;📊 Maintenance report: /var/log/jenkins-maintenance-$(date +%Y%m%d).log\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"health-monitoring\" class=\"mobile-header\"\u003eHealth Monitoring\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create monitoring cron job\necho \u0026quot;0 2 * * * root /usr/local/bin/jenkins-maintenance.sh\u0026quot; | sudo tee -a /etc/crontab\necho \u0026quot;*/15 * * * * root /usr/local/bin/jenkins-health-check.sh\u0026quot; | sudo tee -a /etc/crontab\n\n# Log rotation configuration\nsudo tee /etc/logrotate.d/jenkins \u0026lt;\u0026lt;EOF\n/var/log/jenkins/*.log {\n    daily\n    rotate 30\n    compress\n    delaycompress\n    missingok\n    notifempty\n    create 640 jenkins adm\n    postrotate\n        systemctl reload jenkins \u0026gt; /dev/null 2\u0026gt;\u0026amp;1 || true\n    endscript\n}\n\n/var/lib/jenkins/logs/*.log {\n    daily\n    rotate 7\n    compress\n    delaycompress\n    missingok\n    notifempty\n    create 640 jenkins jenkins\n}\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"integration-examples\" class=\"mobile-header\"\u003eIntegration Examples\u003c/h2\u003e\n\u003ch3 id=\"git-integration-with-webhooks\" class=\"mobile-header\"\u003eGit Integration with Webhooks\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure Git webhook for automatic builds\nsudo tee /var/lib/jenkins/casc_configs/git-integration.yaml \u0026lt;\u0026lt;EOF\nunclassified:\n  gitHubPluginConfig:\n    hookUrl: \u0026quot;https://jenkins.example.com/github-webhook/\u0026quot;\n    \n  gitLabConnectionConfig:\n    connections:\n      - name: \u0026quot;GitLab\u0026quot;\n        url: \u0026quot;https://gitlab.example.com\u0026quot;\n        apiTokenId: \u0026quot;gitlab-api-token\u0026quot;\n        clientBuilderId: \u0026quot;autodetect\u0026quot;\n        connectionTimeout: 10\n        readTimeout: 10\n\njobs:\n  - script: |\n      multibranchPipelineJob(\u0026#039;example-app\u0026#039;) {\n        branchSources {\n          git {\n            id(\u0026#039;github-example\u0026#039;)\n            remote(\u0026#039;https://github.com/example/app.git\u0026#039;)\n            credentialsId(\u0026#039;github-credentials\u0026#039;)\n            includes(\u0026#039;main develop feature/* release/*\u0026#039;)\n          }\n        }\n        \n        factory {\n          workflowBranchProjectFactory {\n            scriptPath(\u0026#039;Jenkinsfile\u0026#039;)\n          }\n        }\n        \n        triggers {\n          periodicFolderTrigger {\n            interval(\u0026#039;1d\u0026#039;)\n          }\n        }\n        \n        orphanedItemStrategy {\n          discardOldItems {\n            daysToKeep(7)\n            numToKeep(10)\n          }\n        }\n      }\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"docker-integration\" class=\"mobile-header\"\u003eDocker Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"groovy\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003egroovy\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-groovy\"\u003e// Docker pipeline example\npipeline {\n    agent any\n    \n    environment {\n        DOCKER_REGISTRY = credentials(\u0026#039;docker-registry\u0026#039;)\n        DOCKER_IMAGE = \u0026quot;${env.JOB_NAME}:${env.BUILD_NUMBER}\u0026quot;\n    }\n    \n    stages {\n        stage(\u0026#039;Build Docker Image\u0026#039;) {\n            steps {\n                script {\n                    def image = docker.build(\u0026quot;${DOCKER_REGISTRY}/${DOCKER_IMAGE}\u0026quot;)\n                    \n                    // Security scan\n                    sh \u0026quot;\u0026quot;\u0026quot;\n                        docker run --rm -v /var/run/docker.sock:/var/run/docker.sock \\\n                            aquasec/trivy:latest image \\\n                            --severity HIGH,CRITICAL \\\n                            --exit-code 1 \\\n                            ${DOCKER_REGISTRY}/${DOCKER_IMAGE}\n                    \u0026quot;\u0026quot;\u0026quot;\n                    \n                    // Push to registry\n                    docker.withRegistry(\u0026quot;https://${DOCKER_REGISTRY}\u0026quot;, \u0026#039;docker-registry-credentials\u0026#039;) {\n                        image.push()\n                        image.push(\u0026quot;latest\u0026quot;)\n                    }\n                }\n            }\n        }\n        \n        stage(\u0026#039;Deploy\u0026#039;) {\n            steps {\n                script {\n                    // Deploy to Kubernetes\n                    sh \u0026quot;\u0026quot;\u0026quot;\n                        kubectl set image deployment/myapp \\\n                            myapp=${DOCKER_REGISTRY}/${DOCKER_IMAGE} \\\n                            --namespace=production\n                        \n                        kubectl rollout status deployment/myapp \\\n                            --namespace=production --timeout=300s\n                    \u0026quot;\u0026quot;\u0026quot;\n                }\n            }\n        }\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"kubernetes-integration\" class=\"mobile-header\"\u003eKubernetes Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"yaml\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eyaml\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e# Jenkins agent in Kubernetes\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: jenkins\n  namespace: jenkins\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: jenkins\nrules:\n- apiGroups: [\u0026quot;\u0026quot;]\n  resources: [\u0026quot;pods\u0026quot;,\u0026quot;pods/exec\u0026quot;]\n  verbs: [\u0026quot;create\u0026quot;,\u0026quot;delete\u0026quot;,\u0026quot;get\u0026quot;,\u0026quot;list\u0026quot;,\u0026quot;patch\u0026quot;,\u0026quot;update\u0026quot;,\u0026quot;watch\u0026quot;]\n- apiGroups: [\u0026quot;\u0026quot;]\n  resources: [\u0026quot;pods/log\u0026quot;]\n  verbs: [\u0026quot;get\u0026quot;,\u0026quot;list\u0026quot;,\u0026quot;watch\u0026quot;]\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: jenkins\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: jenkins\nsubjects:\n- kind: ServiceAccount\n  name: jenkins\n  namespace: jenkins\n---\n# Jenkins Configuration as Code for Kubernetes\njenkins:\n  clouds:\n    - kubernetes:\n        name: \u0026quot;kubernetes\u0026quot;\n        serverUrl: \u0026quot;https://kubernetes.default\u0026quot;\n        namespace: \u0026quot;jenkins\u0026quot;\n        credentialsId: \u0026quot;kubernetes-token\u0026quot;\n        jenkinsUrl: \u0026quot;http://jenkins.jenkins.svc.cluster.local:8080\u0026quot;\n        containerCapStr: \u0026quot;10\u0026quot;\n        templates:\n          - name: \u0026quot;jenkins-agent\u0026quot;\n            namespace: \u0026quot;jenkins\u0026quot;\n            label: \u0026quot;kubernetes\u0026quot;\n            containers:\n              - name: \u0026quot;jnlp\u0026quot;\n                image: \u0026quot;jenkins/inbound-agent:latest\u0026quot;\n                workingDir: \u0026quot;/home/jenkins/agent\u0026quot;\n                resourceRequestCpu: \u0026quot;100m\u0026quot;\n                resourceRequestMemory: \u0026quot;256Mi\u0026quot;\n                resourceLimitCpu: \u0026quot;500m\u0026quot;\n                resourceLimitMemory: \u0026quot;1Gi\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"ldapactive-directory-integration\" class=\"mobile-header\"\u003eLDAP/Active Directory Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"yaml\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eyaml\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-yaml\"\u003ejenkins:\n  securityRealm:\n    ldap:\n      configurations:\n        - server: \u0026quot;ldaps://ad.example.com:636\u0026quot;\n          rootDN: \u0026quot;DC=example,DC=com\u0026quot;\n          inhibitInferRootDN: false\n          userSearchBase: \u0026quot;OU=Users,OU=Company\u0026quot;\n          userSearch: \u0026quot;(\u0026amp;(objectCategory=Person)(objectClass=user)(sAMAccountName={0}))\u0026quot;\n          groupSearchBase: \u0026quot;OU=Groups,OU=Company\u0026quot;\n          groupSearchFilter: \u0026quot;(\u0026amp;(objectClass=group)(cn={0}))\u0026quot;\n          managerDN: \u0026quot;CN=jenkins,OU=Service Accounts,DC=example,DC=com\u0026quot;\n          managerPasswordSecret: \u0026quot;ldap-service-password\u0026quot;\n          displayNameAttributeName: \u0026quot;displayName\u0026quot;\n          mailAddressAttributeName: \u0026quot;mail\u0026quot;\n          \n  authorizationStrategy:\n    roleBased:\n      roles:\n        global:\n          - name: \u0026quot;administrators\u0026quot;\n            permissions:\n              - \u0026quot;Overall/Administer\u0026quot;\n            assignments:\n              - \u0026quot;Domain Admins\u0026quot;\n              - \u0026quot;Jenkins Admins\u0026quot;\n        items:\n          - name: \u0026quot;developers\u0026quot;\n            pattern: \u0026quot;.*\u0026quot;\n            permissions:\n              - \u0026quot;Job/Build\u0026quot;\n              - \u0026quot;Job/Cancel\u0026quot;\n              - \u0026quot;Job/Read\u0026quot;\n            assignments:\n              - \u0026quot;Development Team\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"additional-resources\" class=\"mobile-header\"\u003eAdditional Resources\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.jenkins.io/doc/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eOfficial Jenkins Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://jenkins.io/projects/jcasc/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eJenkins Configuration as Code\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.jenkins.io/doc/book/pipeline/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eJenkins Pipeline Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.jenkins.io/doc/book/security/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eJenkins Security Guide\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://plugins.jenkins.io/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eJenkins Plugin Index\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.jenkins.io/community/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eJenkins Community\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.jenkins.io/doc/book/pipeline/pipeline-best-practices/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eJenkins Best Practices\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://github.com/jenkinsci/jenkins\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eJenkins GitHub Repository\u003c/a\u003e\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e---\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This guide is part of the \u003ca href=\"https://howtomgr.github.io\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eHowToMgr\u003c/a\u003e collection. Always refer to official documentation for the most up-to-date information.\u003c/p\u003e","readTime":"38 min","wordCount":7477,"lastBuilt":"2025-09-14T06:13:01.301Z"},{"name":"jupyter","displayName":"Jupyter","slug":"jupyter","description":"Repo for jupyter","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/jupyter","updatedAt":"2025-09-08T03:09:39Z","createdAt":"2025-09-08T03:09:29Z","readmeRaw":"## 👋 Welcome to jupyter 🚀  \n\njupyter README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-jupyter\" class=\"mobile-header\"\u003e👋 Welcome to jupyter 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003ejupyter README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T06:13:20.503Z"},{"name":"libvirt","displayName":"Libvirt","slug":"libvirt","description":"Repo for libvirt","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/libvirt","updatedAt":"2025-09-08T03:10:30Z","createdAt":"2023-08-28T03:48:25Z","readmeRaw":"# libvirt setup\n\n## [Archlinux](./ArchLinux.md)  \n  \n","readmeHtml":"\u003ch1 id=\"libvirt-setup\" class=\"mobile-header\"\u003elibvirt setup\u003c/h1\u003e\n\u003ch2 id=\"archlinuxarchlinuxmd\" class=\"mobile-header\"\u003e[Archlinux](./ArchLinux.md)  \u003c/h2\u003e","readTime":"1 min","wordCount":6,"lastBuilt":"2025-09-14T06:13:19.605Z"},{"name":"mce","displayName":"Mce","slug":"mce","description":"Repo for mce","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/mce","updatedAt":"2025-09-08T03:10:56Z","createdAt":"2023-08-28T03:48:56Z","readmeRaw":"# CouchPotato/HeadPhones/SickRage/Plex/Emby install\n\n## CentOS/RedHat/SL 7\n\n```bash\nyum groupinstall -y \"Development Tools\"\nyum -y install curl gcc gettext git libmediainfo libzen mediainfo p7zip par2cmdline python-configobj sqlite tar unzip wget unrar\n\nmkdir -p /mnt/media /mnt/torrents\necho \"\n10.0.254.1:/mnt/Volume_1/media           /mnt/media                   nfs defaults,rw 0 0\n10.0.254.1:/mnt/Volume_1/torrents        /mnt/torrents                nfs defaults,rw 0 0\n\" \u003e\u003e /etc/fstab\nmount -a\n```\n\n### CouchPotato\n\n```bash\nyum install -y transmission-daemon\nrm -Rf /usr/src/python2 /usr/src/python3\ngit clone https://git.casjay.in/interpreters/python2.git /usr/src/python2\ncd /usr/src/python2 \u0026\u0026 ./build.sh \u0026\u0026 cd\n\ngit clone https://git.casjay.in/mirrors/couchpotato.git /var/lib/couchpotato\ngit clone https://git.casjay.in/systems/couchpotato.git /tmp/couchpotato\n\nmkdir -p /var/lib/couchpotato \u0026\u0026 cd /var/lib/couchpotato\n/usr/local/bin/python2.7 -m virtualenv .\nsource /var/lib/couchpotato/bin/activate\n/var/lib/couchpotato/bin/python -m pip install cheetah cryptography sabyenc --upgrade\n/var/lib/couchpotato/bin/python -m pip install -r /tmp/couchpotato/requirements.txt\ndeactivate\n\ncd ~\n\ncp -Rfv /tmp/couchpotato/{etc,root,var}* /\nsystemctl disable transmission-daemon --now\nsystemctl enable couchpotato couchpotato-bt httpd nginx smb nmb --now\n\nrm -Rf /usr/src/python2 /usr/src/python3 /tmp/couchpotato/ \n\nmunin-node-configure --remove-also --shell | sh\nsystemctl restart munin-node httpd nginx\nhistory -c \u0026\u0026 history -w \u0026\u0026 exit\n\n```\n\n### HeadPhones\n\n```bash\nyum install -y transmission-daemon\nrm -Rf /usr/src/python2 /usr/src/python3\ngit clone https://git.casjay.in/interpreters/python2.git /usr/src/python2\ncd /usr/src/python2 \u0026\u0026 ./build.sh \u0026\u0026 cd\n\ngit clone https://git.casjay.in/mirrors/headphones.git /var/lib/headphones\ngit clone https://git.casjay.in/systems/headphones.git /tmp/headphones\n\nmkdir -p /var/lib/headphones \u0026\u0026 cd /var/lib/headphones\n/usr/local/bin/python2.7 -m virtualenv .\nsource /var/lib/headphones/bin/activate\n/var/lib/headphones/bin/python -m pip install cheetah cryptography sabyenc --upgrade\n/var/lib/headphones/bin/python -m pip install -r /tmp/headphones/requirements.txt\ndeactivate\n\ncd ~\n\ncp -Rfv /tmp/headphones/{etc,root,var}* /\nsystemctl disable transmission-daemon --now\nsystemctl enable headphones headphones-bt httpd nginx smb nmb --now\n\nrm -Rf /usr/src/python2 /usr/src/python3 /tmp/headphones/ \n\nmunin-node-configure --remove-also --shell | sh\nsystemctl restart munin-node httpd nginx\nhistory -c \u0026\u0026 history -w \u0026\u0026 exit\n\n```\n\n### SickRage\n\n```bash\nyum install -y transmission-daemon\nrm -Rf /usr/src/python2 /usr/src/python3\ngit clone https://git.casjay.in/interpreters/python2.git /usr/src/python2\ncd /usr/src/python2 \u0026\u0026 ./build.sh \u0026\u0026 cd\n\ngit clone https://git.casjay.in/mirrors/sickrage.git /var/lib/sickrage\ngit clone https://git.casjay.in/systems/sickrage.git /tmp/sickrage\n\nmkdir -p /var/lib/sickrage \u0026\u0026 cd /var/lib/sickrage\n/usr/local/bin/python2.7 -m virtualenv .\nsource /var/lib/sickrage/bin/activate\n/var/lib/sickrage/bin/python -m pip install cheetah cryptography sabyenc --upgrade\n/var/lib/sickrage/bin/python -m pip install -r /tmp/sickrage/requirements.txt\ndeactivate\n\ncd ~\n\ncp -Rfv /tmp/sickrage/{etc,root,var}* /\nsystemctl disable transmission-daemon --now\nsystemctl enable sickrage sickrage-bt httpd nginx smb nmb --now\n\nrm -Rf /usr/src/python2 /usr/src/python3 /tmp/sickrage/ \n\nmunin-node-configure --remove-also --shell | sh\nsystemctl restart munin-node httpd nginx\nhistory -c \u0026\u0026 history -w \u0026\u0026 exit\n\n```\n\n### Plex\n\n```bash\nyum install ffmpeg\nyum install -y https://downloads.plex.tv/plex-media-server/1.14.0.5470-9d51fdfaa/plexmediaserver-1.14.0.5470-9d51fdfaa.x86_64.rpm \ngo to http://yourserverip:32400/ and configure it\n\nOptional stats for plex [Tautulli]\nrm -Rf /usr/src/python2 /usr/src/python3\ngit clone https://git.casjay.in/interpreters/python2.git /usr/src/python2\ncd /usr/src/python2 \u0026\u0026 ./build.sh \u0026\u0026 cd\ngit clone https://git.casjay.in/mirrors/Plex-Tautulli.git /var/lib/tautulli\ngit clone https://git.casjay.in/mirrors/plex.git /tmp/plex\ncp -Rf /tmp/plex/{etc,root,var}* /\n```\n\n### Emby\n\n```bash\nyum install ffmpeg\nyum install -y https://github.com/MediaBrowser/Emby.Releases/releases/download/3.5.3.0/emby-server-rpm_3.5.3.0_x86_64.rpm\ngo to http://yourserverip:8096/ and configure it\n\n```\n\n### Airsonic\n\n```bash\nmkdir -p /var/airsonic\nyum install java-1.8.0-openjdk-headless -y\nwget https://github.com/airsonic/airsonic/raw/main/contrib/airsonic.service -O /etc/systemd/system/airsonic.service\nwget https://github.com/airsonic/airsonic/releases/download/v10.1.2/airsonic.war -O /var/airsonic/airsonic.war\nmkdir -p /mnt/media\necho \" 10.0.254.1:/mnt/Volume_1/media           /mnt/media                   nfs defaults,rw 0 0\" \u003e\u003e /etc/fstab\nmount -a\n\n```\n","readmeHtml":"\u003ch1 id=\"couchpotatoheadphonessickrageplexemby-install\" class=\"mobile-header\"\u003eCouchPotato/HeadPhones/SickRage/Plex/Emby install\u003c/h1\u003e\n\u003ch2 id=\"centosredhatsl-7\" class=\"mobile-header\"\u003eCentOS/RedHat/SL 7\u003c/h2\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003eyum groupinstall -y \u0026quot;Development Tools\u0026quot;\nyum -y install curl gcc gettext git libmediainfo libzen mediainfo p7zip par2cmdline python-configobj sqlite tar unzip wget unrar\n\nmkdir -p /mnt/media /mnt/torrents\necho \u0026quot;\n10.0.254.1:/mnt/Volume_1/media           /mnt/media                   nfs defaults,rw 0 0\n10.0.254.1:/mnt/Volume_1/torrents        /mnt/torrents                nfs defaults,rw 0 0\n\u0026quot; \u0026gt;\u0026gt; /etc/fstab\nmount -a\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"couchpotato\" class=\"mobile-header\"\u003eCouchPotato\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003eyum install -y transmission-daemon\nrm -Rf /usr/src/python2 /usr/src/python3\ngit clone https://git.casjay.in/interpreters/python2.git /usr/src/python2\ncd /usr/src/python2 \u0026amp;\u0026amp; ./build.sh \u0026amp;\u0026amp; cd\n\ngit clone https://git.casjay.in/mirrors/couchpotato.git /var/lib/couchpotato\ngit clone https://git.casjay.in/systems/couchpotato.git /tmp/couchpotato\n\nmkdir -p /var/lib/couchpotato \u0026amp;\u0026amp; cd /var/lib/couchpotato\n/usr/local/bin/python2.7 -m virtualenv .\nsource /var/lib/couchpotato/bin/activate\n/var/lib/couchpotato/bin/python -m pip install cheetah cryptography sabyenc --upgrade\n/var/lib/couchpotato/bin/python -m pip install -r /tmp/couchpotato/requirements.txt\ndeactivate\n\ncd ~\n\ncp -Rfv /tmp/couchpotato/{etc,root,var}* /\nsystemctl disable transmission-daemon --now\nsystemctl enable couchpotato couchpotato-bt httpd nginx smb nmb --now\n\nrm -Rf /usr/src/python2 /usr/src/python3 /tmp/couchpotato/ \n\nmunin-node-configure --remove-also --shell | sh\nsystemctl restart munin-node httpd nginx\nhistory -c \u0026amp;\u0026amp; history -w \u0026amp;\u0026amp; exit\n\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"headphones\" class=\"mobile-header\"\u003eHeadPhones\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003eyum install -y transmission-daemon\nrm -Rf /usr/src/python2 /usr/src/python3\ngit clone https://git.casjay.in/interpreters/python2.git /usr/src/python2\ncd /usr/src/python2 \u0026amp;\u0026amp; ./build.sh \u0026amp;\u0026amp; cd\n\ngit clone https://git.casjay.in/mirrors/headphones.git /var/lib/headphones\ngit clone https://git.casjay.in/systems/headphones.git /tmp/headphones\n\nmkdir -p /var/lib/headphones \u0026amp;\u0026amp; cd /var/lib/headphones\n/usr/local/bin/python2.7 -m virtualenv .\nsource /var/lib/headphones/bin/activate\n/var/lib/headphones/bin/python -m pip install cheetah cryptography sabyenc --upgrade\n/var/lib/headphones/bin/python -m pip install -r /tmp/headphones/requirements.txt\ndeactivate\n\ncd ~\n\ncp -Rfv /tmp/headphones/{etc,root,var}* /\nsystemctl disable transmission-daemon --now\nsystemctl enable headphones headphones-bt httpd nginx smb nmb --now\n\nrm -Rf /usr/src/python2 /usr/src/python3 /tmp/headphones/ \n\nmunin-node-configure --remove-also --shell | sh\nsystemctl restart munin-node httpd nginx\nhistory -c \u0026amp;\u0026amp; history -w \u0026amp;\u0026amp; exit\n\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"sickrage\" class=\"mobile-header\"\u003eSickRage\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003eyum install -y transmission-daemon\nrm -Rf /usr/src/python2 /usr/src/python3\ngit clone https://git.casjay.in/interpreters/python2.git /usr/src/python2\ncd /usr/src/python2 \u0026amp;\u0026amp; ./build.sh \u0026amp;\u0026amp; cd\n\ngit clone https://git.casjay.in/mirrors/sickrage.git /var/lib/sickrage\ngit clone https://git.casjay.in/systems/sickrage.git /tmp/sickrage\n\nmkdir -p /var/lib/sickrage \u0026amp;\u0026amp; cd /var/lib/sickrage\n/usr/local/bin/python2.7 -m virtualenv .\nsource /var/lib/sickrage/bin/activate\n/var/lib/sickrage/bin/python -m pip install cheetah cryptography sabyenc --upgrade\n/var/lib/sickrage/bin/python -m pip install -r /tmp/sickrage/requirements.txt\ndeactivate\n\ncd ~\n\ncp -Rfv /tmp/sickrage/{etc,root,var}* /\nsystemctl disable transmission-daemon --now\nsystemctl enable sickrage sickrage-bt httpd nginx smb nmb --now\n\nrm -Rf /usr/src/python2 /usr/src/python3 /tmp/sickrage/ \n\nmunin-node-configure --remove-also --shell | sh\nsystemctl restart munin-node httpd nginx\nhistory -c \u0026amp;\u0026amp; history -w \u0026amp;\u0026amp; exit\n\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"plex\" class=\"mobile-header\"\u003ePlex\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003eyum install ffmpeg\nyum install -y https://downloads.plex.tv/plex-media-server/1.14.0.5470-9d51fdfaa/plexmediaserver-1.14.0.5470-9d51fdfaa.x86_64.rpm \ngo to http://yourserverip:32400/ and configure it\n\nOptional stats for plex [Tautulli]\nrm -Rf /usr/src/python2 /usr/src/python3\ngit clone https://git.casjay.in/interpreters/python2.git /usr/src/python2\ncd /usr/src/python2 \u0026amp;\u0026amp; ./build.sh \u0026amp;\u0026amp; cd\ngit clone https://git.casjay.in/mirrors/Plex-Tautulli.git /var/lib/tautulli\ngit clone https://git.casjay.in/mirrors/plex.git /tmp/plex\ncp -Rf /tmp/plex/{etc,root,var}* /\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"emby\" class=\"mobile-header\"\u003eEmby\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003eyum install ffmpeg\nyum install -y https://github.com/MediaBrowser/Emby.Releases/releases/download/3.5.3.0/emby-server-rpm_3.5.3.0_x86_64.rpm\ngo to http://yourserverip:8096/ and configure it\n\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"airsonic\" class=\"mobile-header\"\u003eAirsonic\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003emkdir -p /var/airsonic\nyum install java-1.8.0-openjdk-headless -y\nwget https://github.com/airsonic/airsonic/raw/main/contrib/airsonic.service -O /etc/systemd/system/airsonic.service\nwget https://github.com/airsonic/airsonic/releases/download/v10.1.2/airsonic.war -O /var/airsonic/airsonic.war\nmkdir -p /mnt/media\necho \u0026quot; 10.0.254.1:/mnt/Volume_1/media           /mnt/media                   nfs defaults,rw 0 0\u0026quot; \u0026gt;\u0026gt; /etc/fstab\nmount -a\n\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e","readTime":"3 min","wordCount":448,"lastBuilt":"2025-09-14T06:13:18.956Z"},{"name":"minecraft-server","displayName":"Minecraft Server","slug":"minecraft-server","description":"Repo for minecraft-server","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/minecraft-server","updatedAt":"2025-09-08T03:11:10Z","createdAt":"2025-09-08T03:10:59Z","readmeRaw":"## 👋 Welcome to minecraft-server 🚀  \n\nminecraft-server README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-minecraft-server\" class=\"mobile-header\"\u003e👋 Welcome to minecraft-server 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eminecraft-server README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T06:13:18.660Z"},{"name":"minio","displayName":"Minio","slug":"minio","description":"Repo for minio","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/minio","updatedAt":"2025-09-14T01:30:32Z","createdAt":"2025-09-08T03:11:29Z","readmeRaw":"# MinIO Installation Guide\n\nHigh-performance S3-compatible object storage server designed for cloud-native applications. Essential for modern data infrastructure with enterprise-grade security and multi-cloud compatibility.\n\n## Prerequisites\n\n- Linux system (any modern distribution)\n- Root or sudo access\n- 4GB RAM minimum, 8GB+ recommended for production\n- Multiple drives/volumes for distributed deployment\n- Network connectivity for cluster configuration\n\n## Installation\n\n### Single Node Deployment\n```bash\n# Create MinIO user\nsudo useradd --system --shell /bin/false minio\n\n# Create data directories\nsudo mkdir -p /opt/minio/{bin,data,certs}\nsudo chown -R minio:minio /opt/minio\n\n# Download MinIO server\ncd /tmp\nwget https://dl.min.io/server/minio/release/linux-amd64/minio\nchmod +x minio\nsudo mv minio /opt/minio/bin/\n\n# Create MinIO configuration\nsudo tee /etc/default/minio \u003e /dev/null \u003c\u003cEOF\n# MinIO Configuration\nMINIO_ROOT_USER=admin\nMINIO_ROOT_PASSWORD=MinIOSecurePassword2024!\nMINIO_VOLUMES=\"/opt/minio/data\"\nMINIO_OPTS=\"--certs-dir /opt/minio/certs --console-address :9001\"\nMINIO_SERVER_URL=\"https://minio.example.com:9000\"\nMINIO_BROWSER_REDIRECT_URL=\"https://minio.example.com:9001\"\nEOF\n\n# Create systemd service\nsudo tee /etc/systemd/system/minio.service \u003e /dev/null \u003c\u003cEOF\n[Unit]\nDescription=MinIO Object Storage Server\nDocumentation=https://docs.min.io\nWants=network-online.target\nAfter=network-online.target\nAssertFileIsExecutable=/opt/minio/bin/minio\n\n[Service]\nType=notify\nUser=minio\nGroup=minio\nEnvironmentFile=/etc/default/minio\nExecStart=/opt/minio/bin/minio server \\$MINIO_OPTS \\$MINIO_VOLUMES\nRestart=always\nLimitNOFILE=65536\nTasksMax=infinity\nTimeoutStopSec=infinity\nSendSIGKILL=no\n\n# Security settings\nNoNewPrivileges=true\nPrivateTmp=true\nProtectSystem=strict\nReadWritePaths=/opt/minio\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsudo systemctl daemon-reload\nsudo systemctl enable --now minio\n```\n\n### Distributed Deployment (4 Nodes)\n```bash\n# Configure for distributed deployment\n# Run on each node (adjust IP addresses):\n\nsudo tee /etc/default/minio \u003e /dev/null \u003c\u003cEOF\nMINIO_ROOT_USER=admin\nMINIO_ROOT_PASSWORD=MinIOSecurePassword2024!\nMINIO_VOLUMES=\"https://minio-{1...4}.example.com:9000/opt/minio/data{1...4}\"\nMINIO_OPTS=\"--certs-dir /opt/minio/certs --console-address :9001\"\nMINIO_SERVER_URL=\"https://minio.example.com:9000\"\nEOF\n\n# Create multiple data directories on each node\nsudo mkdir -p /opt/minio/data{1..4}\nsudo chown -R minio:minio /opt/minio/data*\n\nsudo systemctl restart minio\n```\n\n## Security Configuration\n\n### SSL/TLS Setup\n```bash\n# Generate SSL certificates\nsudo mkdir -p /opt/minio/certs\n\n# Self-signed certificate for testing\nsudo openssl req -new -newkey rsa:4096 -days 365 -nodes -x509 \\\n  -subj \"/C=US/ST=State/L=City/O=Organization/CN=minio.example.com\" \\\n  -keyout /opt/minio/certs/private.key \\\n  -out /opt/minio/certs/public.crt\n\n# Production: Use Let's Encrypt or proper CA certificates\nsudo cp /etc/letsencrypt/live/minio.example.com/fullchain.pem /opt/minio/certs/public.crt\nsudo cp /etc/letsencrypt/live/minio.example.com/privkey.pem /opt/minio/certs/private.key\n\nsudo chown -R minio:minio /opt/minio/certs\nsudo chmod 600 /opt/minio/certs/private.key\n```\n\n### Access Control and Policies\n```bash\n# Install MinIO Client (mc)\nwget https://dl.min.io/client/mc/release/linux-amd64/mc\nchmod +x mc\nsudo mv mc /usr/local/bin/\n\n# Configure MinIO client\nmc alias set local https://localhost:9000 admin MinIOSecurePassword2024!\n\n# Create users and policies\ncat \u003e /tmp/readonly-policy.json \u003c\u003cEOF\n{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:GetObject\",\n        \"s3:ListBucket\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::*/*\",\n        \"arn:aws:s3:::*\"\n      ]\n    }\n  ]\n}\nEOF\n\ncat \u003e /tmp/readwrite-policy.json \u003c\u003cEOF\n{\n  \"Version\": \"2012-10-17\", \n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:*\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::app-data/*\",\n        \"arn:aws:s3:::app-data\"\n      ]\n    }\n  ]\n}\nEOF\n\n# Create policies\nmc admin policy create local readonly /tmp/readonly-policy.json\nmc admin policy create local readwrite /tmp/readwrite-policy.json\n\n# Create users\nmc admin user add local appuser AppUserSecurePassword2024!\nmc admin policy attach local readwrite --user appuser\n\nmc admin user add local readonly ReadOnlyUserPassword2024!\nmc admin policy attach local readonly --user readonly\n```\n\n## Backup and Monitoring\n\n### Health Monitoring\n```bash\nsudo tee /usr/local/bin/minio-health.sh \u003e /dev/null \u003c\u003c'EOF'\n#!/bin/bash\nLOG=\"/var/log/minio-health.log\"\n\nlog_message() {\n    echo \"$(date '+%Y-%m-%d %H:%M:%S') - $1\" | tee -a ${LOG}\n}\n\n# Check service\nif systemctl is-active minio \u003e/dev/null; then\n    log_message \"✓ MinIO service running\"\nelse\n    log_message \"✗ MinIO service not running\"\nfi\n\n# Check API health\nif curl -f https://localhost:9000/minio/health/live \u003e/dev/null 2\u003e\u00261; then\n    log_message \"✓ MinIO API responding\"\nelse\n    log_message \"✗ MinIO API not responding\"\nfi\n\n# Check cluster status (if distributed)\nmc admin info local \u003e/dev/null 2\u003e\u00261\nif [ $? -eq 0 ]; then\n    log_message \"✓ MinIO cluster healthy\"\nelse\n    log_message \"⚠ MinIO cluster issues\"\nfi\n\nlog_message \"MinIO health check completed\"\nEOF\n\nsudo chmod +x /usr/local/bin/minio-health.sh\necho \"*/10 * * * * root /usr/local/bin/minio-health.sh\" | sudo tee -a /etc/crontab\n```\n\n## Additional Resources\n\n- [MinIO Documentation](https://docs.min.io/)\n- [MinIO Administration Guide](https://docs.min.io/minio/baremetal/)\n\n---\n\n**Note:** This guide is part of the [HowToMgr](https://howtomgr.github.io) collection.","readmeHtml":"\u003ch1 id=\"minio-installation-guide\" class=\"mobile-header\"\u003eMinIO Installation Guide\u003c/h1\u003e\n\u003cp class=\"mobile-paragraph\"\u003eHigh-performance S3-compatible object storage server designed for cloud-native applications. Essential for modern data infrastructure with enterprise-grade security and multi-cloud compatibility.\u003c/p\u003e\n\u003ch2 id=\"prerequisites\" class=\"mobile-header\"\u003ePrerequisites\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003eLinux system (any modern distribution)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eRoot or sudo access\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e4GB RAM minimum, 8GB+ recommended for production\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eMultiple drives/volumes for distributed deployment\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eNetwork connectivity for cluster configuration\u003c/li\u003e\n\u003ch2 id=\"installation\" class=\"mobile-header\"\u003eInstallation\u003c/h2\u003e\n\u003ch3 id=\"single-node-deployment\" class=\"mobile-header\"\u003eSingle Node Deployment\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create MinIO user\nsudo useradd --system --shell /bin/false minio\n\n# Create data directories\nsudo mkdir -p /opt/minio/{bin,data,certs}\nsudo chown -R minio:minio /opt/minio\n\n# Download MinIO server\ncd /tmp\nwget https://dl.min.io/server/minio/release/linux-amd64/minio\nchmod +x minio\nsudo mv minio /opt/minio/bin/\n\n# Create MinIO configuration\nsudo tee /etc/default/minio \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n# MinIO Configuration\nMINIO_ROOT_USER=admin\nMINIO_ROOT_PASSWORD=MinIOSecurePassword2024!\nMINIO_VOLUMES=\u0026quot;/opt/minio/data\u0026quot;\nMINIO_OPTS=\u0026quot;--certs-dir /opt/minio/certs --console-address :9001\u0026quot;\nMINIO_SERVER_URL=\u0026quot;https://minio.example.com:9000\u0026quot;\nMINIO_BROWSER_REDIRECT_URL=\u0026quot;https://minio.example.com:9001\u0026quot;\nEOF\n\n# Create systemd service\nsudo tee /etc/systemd/system/minio.service \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n[Unit]\nDescription=MinIO Object Storage Server\nDocumentation=https://docs.min.io\nWants=network-online.target\nAfter=network-online.target\nAssertFileIsExecutable=/opt/minio/bin/minio\n\n[Service]\nType=notify\nUser=minio\nGroup=minio\nEnvironmentFile=/etc/default/minio\nExecStart=/opt/minio/bin/minio server \\$MINIO_OPTS \\$MINIO_VOLUMES\nRestart=always\nLimitNOFILE=65536\nTasksMax=infinity\nTimeoutStopSec=infinity\nSendSIGKILL=no\n\n# Security settings\nNoNewPrivileges=true\nPrivateTmp=true\nProtectSystem=strict\nReadWritePaths=/opt/minio\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsudo systemctl daemon-reload\nsudo systemctl enable --now minio\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"distributed-deployment-4-nodes\" class=\"mobile-header\"\u003eDistributed Deployment (4 Nodes)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure for distributed deployment\n# Run on each node (adjust IP addresses):\n\nsudo tee /etc/default/minio \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\nMINIO_ROOT_USER=admin\nMINIO_ROOT_PASSWORD=MinIOSecurePassword2024!\nMINIO_VOLUMES=\u0026quot;https://minio-{1...4}.example.com:9000/opt/minio/data{1...4}\u0026quot;\nMINIO_OPTS=\u0026quot;--certs-dir /opt/minio/certs --console-address :9001\u0026quot;\nMINIO_SERVER_URL=\u0026quot;https://minio.example.com:9000\u0026quot;\nEOF\n\n# Create multiple data directories on each node\nsudo mkdir -p /opt/minio/data{1..4}\nsudo chown -R minio:minio /opt/minio/data*\n\nsudo systemctl restart minio\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"security-configuration\" class=\"mobile-header\"\u003eSecurity Configuration\u003c/h2\u003e\n\u003ch3 id=\"ssltls-setup\" class=\"mobile-header\"\u003eSSL/TLS Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Generate SSL certificates\nsudo mkdir -p /opt/minio/certs\n\n# Self-signed certificate for testing\nsudo openssl req -new -newkey rsa:4096 -days 365 -nodes -x509 \\\n  -subj \u0026quot;/C=US/ST=State/L=City/O=Organization/CN=minio.example.com\u0026quot; \\\n  -keyout /opt/minio/certs/private.key \\\n  -out /opt/minio/certs/public.crt\n\n# Production: Use Let\u0026#039;s Encrypt or proper CA certificates\nsudo cp /etc/letsencrypt/live/minio.example.com/fullchain.pem /opt/minio/certs/public.crt\nsudo cp /etc/letsencrypt/live/minio.example.com/privkey.pem /opt/minio/certs/private.key\n\nsudo chown -R minio:minio /opt/minio/certs\nsudo chmod 600 /opt/minio/certs/private.key\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"access-control-and-policies\" class=\"mobile-header\"\u003eAccess Control and Policies\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install MinIO Client (mc)\nwget https://dl.min.io/client/mc/release/linux-amd64/mc\nchmod +x mc\nsudo mv mc /usr/local/bin/\n\n# Configure MinIO client\nmc alias set local https://localhost:9000 admin MinIOSecurePassword2024!\n\n# Create users and policies\ncat \u0026gt; /tmp/readonly-policy.json \u0026lt;\u0026lt;EOF\n{\n  \u0026quot;Version\u0026quot;: \u0026quot;2012-10-17\u0026quot;,\n  \u0026quot;Statement\u0026quot;: [\n    {\n      \u0026quot;Effect\u0026quot;: \u0026quot;Allow\u0026quot;,\n      \u0026quot;Action\u0026quot;: [\n        \u0026quot;s3:GetObject\u0026quot;,\n        \u0026quot;s3:ListBucket\u0026quot;\n      ],\n      \u0026quot;Resource\u0026quot;: [\n        \u0026quot;arn:aws:s3:::*/*\u0026quot;,\n        \u0026quot;arn:aws:s3:::*\u0026quot;\n      ]\n    }\n  ]\n}\nEOF\n\ncat \u0026gt; /tmp/readwrite-policy.json \u0026lt;\u0026lt;EOF\n{\n  \u0026quot;Version\u0026quot;: \u0026quot;2012-10-17\u0026quot;, \n  \u0026quot;Statement\u0026quot;: [\n    {\n      \u0026quot;Effect\u0026quot;: \u0026quot;Allow\u0026quot;,\n      \u0026quot;Action\u0026quot;: [\n        \u0026quot;s3:*\u0026quot;\n      ],\n      \u0026quot;Resource\u0026quot;: [\n        \u0026quot;arn:aws:s3:::app-data/*\u0026quot;,\n        \u0026quot;arn:aws:s3:::app-data\u0026quot;\n      ]\n    }\n  ]\n}\nEOF\n\n# Create policies\nmc admin policy create local readonly /tmp/readonly-policy.json\nmc admin policy create local readwrite /tmp/readwrite-policy.json\n\n# Create users\nmc admin user add local appuser AppUserSecurePassword2024!\nmc admin policy attach local readwrite --user appuser\n\nmc admin user add local readonly ReadOnlyUserPassword2024!\nmc admin policy attach local readonly --user readonly\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"backup-and-monitoring\" class=\"mobile-header\"\u003eBackup and Monitoring\u003c/h2\u003e\n\u003ch3 id=\"health-monitoring\" class=\"mobile-header\"\u003eHealth Monitoring\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003esudo tee /usr/local/bin/minio-health.sh \u0026gt; /dev/null \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\nLOG=\u0026quot;/var/log/minio-health.log\u0026quot;\n\nlog_message() {\n    echo \u0026quot;$(date \u0026#039;+%Y-%m-%d %H:%M:%S\u0026#039;) - $1\u0026quot; | tee -a ${LOG}\n}\n\n# Check service\nif systemctl is-active minio \u0026gt;/dev/null; then\n    log_message \u0026quot;✓ MinIO service running\u0026quot;\nelse\n    log_message \u0026quot;✗ MinIO service not running\u0026quot;\nfi\n\n# Check API health\nif curl -f https://localhost:9000/minio/health/live \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    log_message \u0026quot;✓ MinIO API responding\u0026quot;\nelse\n    log_message \u0026quot;✗ MinIO API not responding\u0026quot;\nfi\n\n# Check cluster status (if distributed)\nmc admin info local \u0026gt;/dev/null 2\u0026gt;\u0026amp;1\nif [ $? -eq 0 ]; then\n    log_message \u0026quot;✓ MinIO cluster healthy\u0026quot;\nelse\n    log_message \u0026quot;⚠ MinIO cluster issues\u0026quot;\nfi\n\nlog_message \u0026quot;MinIO health check completed\u0026quot;\nEOF\n\nsudo chmod +x /usr/local/bin/minio-health.sh\necho \u0026quot;*/10 * * * * root /usr/local/bin/minio-health.sh\u0026quot; | sudo tee -a /etc/crontab\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"additional-resources\" class=\"mobile-header\"\u003eAdditional Resources\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.min.io/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eMinIO Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.min.io/minio/baremetal/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eMinIO Administration Guide\u003c/a\u003e\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e---\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This guide is part of the \u003ca href=\"https://howtomgr.github.io\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eHowToMgr\u003c/a\u003e collection.\u003c/p\u003e","readTime":"3 min","wordCount":587,"lastBuilt":"2025-09-14T06:13:05.681Z"},{"name":"nexus","displayName":"Nexus","slug":"nexus","description":"Repo for nexus","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/nexus","updatedAt":"2025-09-08T03:12:24Z","createdAt":"2025-09-08T03:12:14Z","readmeRaw":"## 👋 Welcome to nexus 🚀  \n\nnexus README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-nexus\" class=\"mobile-header\"\u003e👋 Welcome to nexus 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003enexus README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T06:13:17.457Z"},{"name":"nodejs","displayName":"Node.js","slug":"nodejs","description":"Repo for nodejs","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/nodejs","updatedAt":"2025-09-14T01:30:41Z","createdAt":"2023-08-28T03:49:17Z","readmeRaw":"# Node.js Installation Guide\n\nJavaScript runtime built on Chrome's V8 JavaScript engine. Essential platform for modern web applications, APIs, and microservices with enterprise-grade performance and security features.\n\n## Prerequisites\n\n- Linux system (any modern distribution)\n- Root or sudo access\n- 2GB RAM minimum, 4GB+ recommended for production\n- curl or wget for package downloads\n- Git for source code management\n\n## Installation\n\n### Using NVM (Recommended for Development)\n```bash\n# Download and install NVM (Node Version Manager)\ncurl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.5/install.sh | bash\n\n# Reload shell profile\nsource ~/.bashrc\n\n# Install latest LTS version (recommended for production)\nnvm install --lts\nnvm use --lts\n\n# Install specific version\nnvm install 20.10.0  # Latest LTS as of 2024\nnvm use 20.10.0\n\n# Set default version\nnvm alias default 20.10.0\n\n# Verify installation\nnode --version\nnpm --version\n\n# List available versions\nnvm list-remote --lts\nnvm list\n```\n\n### Ubuntu/Debian (Package Manager)\n```bash\n# Update system packages\nsudo apt update \u0026\u0026 sudo apt upgrade -y\n\n# Method 1: Install from Ubuntu repositories (older version)\nsudo apt install -y nodejs npm\n\n# Method 2: Install from NodeSource repository (latest LTS)\ncurl -fsSL https://deb.nodesource.com/setup_lts.x | sudo -E bash -\nsudo apt install -y nodejs\n\n# Install build tools for native modules\nsudo apt install -y build-essential python3-dev\n\n# Verify installation\nnode --version\nnpm --version\n\n# Update npm to latest version\nsudo npm install -g npm@latest\n```\n\n### RHEL/CentOS/Rocky Linux/AlmaLinux\n```bash\n# Enable EPEL repository\nsudo yum install -y epel-release\n\n# Method 1: Install from EPEL (may be older)\nsudo yum install -y nodejs npm\n\n# Method 2: Install from NodeSource (recommended)\ncurl -fsSL https://rpm.nodesource.com/setup_lts.x | sudo bash -\nsudo yum install -y nodejs\n\n# Install development tools\nsudo yum groupinstall -y \"Development Tools\"\nsudo yum install -y python3-devel\n\n# Verify installation\nnode --version\nnpm --version\n```\n\n### Fedora\n```bash\n# Install Node.js from official repositories\nsudo dnf install -y nodejs npm\n\n# Or install from NodeSource for latest LTS\ncurl -fsSL https://rpm.nodesource.com/setup_lts.x | sudo bash -\nsudo dnf install -y nodejs\n\n# Install development tools\nsudo dnf groupinstall -y \"Development Tools\"\nsudo dnf install -y python3-devel\n\n# Verify installation\nnode --version\nnpm --version\n```\n\n### Arch Linux\n```bash\n# Install Node.js and npm\nsudo pacman -Syu nodejs npm\n\n# Install base-devel for building native modules\nsudo pacman -S base-devel python\n\n# Verify installation\nnode --version\nnpm --version\n```\n\n### Docker Installation\n```bash\n# Create Node.js application structure\nmkdir -p ~/nodejs-app/{src,config,logs,node_modules}\ncd ~/nodejs-app\n\n# Create production Dockerfile\ncat \u003e Dockerfile \u003c\u003cEOF\n# Multi-stage build for production\nFROM node:20-alpine AS builder\n\n# Create app directory\nWORKDIR /usr/src/app\n\n# Copy package files\nCOPY package*.json ./\n\n# Install dependencies (including dev dependencies)\nRUN npm ci --only=production\n\n# Production stage\nFROM node:20-alpine AS production\n\n# Create non-root user\nRUN addgroup -g 1001 -S nodejs \u0026\u0026 \\\n    adduser -S nodejs -u 1001\n\n# Set working directory\nWORKDIR /usr/src/app\n\n# Copy node_modules from builder stage\nCOPY --from=builder /usr/src/app/node_modules ./node_modules\n\n# Copy application code\nCOPY --chown=nodejs:nodejs . .\n\n# Remove unnecessary files\nRUN rm -f .dockerignore Dockerfile* README.md\n\n# Security: Run as non-root user\nUSER nodejs\n\n# Expose port\nEXPOSE 3000\n\n# Health check\nHEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \\\n  CMD node healthcheck.js\n\n# Start application\nCMD [\"node\", \"server.js\"]\nEOF\n\n# Create .dockerignore\ncat \u003e .dockerignore \u003c\u003cEOF\nnode_modules\nnpm-debug.log\nDockerfile*\n.git\n.gitignore\nREADME.md\n.env\n.nyc_output\ncoverage\n.npm\n.coverage\n.jest\n.cache\nEOF\n\n# Create production docker-compose.yml\ncat \u003e docker-compose.prod.yml \u003c\u003cEOF\nversion: '3.8'\n\nservices:\n  app:\n    build:\n      context: .\n      target: production\n    restart: unless-stopped\n    ports:\n      - \"127.0.0.1:3000:3000\"\n    environment:\n      - NODE_ENV=production\n      - PORT=3000\n    volumes:\n      - ./logs:/usr/src/app/logs\n    networks:\n      - app-network\n    security_opt:\n      - no-new-privileges:true\n    read_only: true\n    tmpfs:\n      - /tmp\n    healthcheck:\n      test: [\"CMD\", \"node\", \"healthcheck.js\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n      start_period: 30s\n\n  nginx:\n    image: nginx:alpine\n    restart: unless-stopped\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n      - ./ssl:/etc/nginx/ssl:ro\n    depends_on:\n      - app\n    networks:\n      - app-network\n\nnetworks:\n  app-network:\n    driver: bridge\nEOF\n\ndocker-compose -f docker-compose.prod.yml up -d\n```\n\n## Production Configuration\n\n### PM2 Process Manager (Production Standard)\n```bash\n# Install PM2 globally\nsudo npm install -g pm2\n\n# Create PM2 ecosystem configuration\ncat \u003e ecosystem.config.js \u003c\u003cEOF\nmodule.exports = {\n  apps: [{\n    name: 'node-app',\n    script: './server.js',\n    instances: 'max',  // Use all CPU cores\n    exec_mode: 'cluster',\n    \n    // Performance settings\n    max_memory_restart: '1G',\n    node_args: '--max-old-space-size=1024',\n    \n    // Environment variables\n    env: {\n      NODE_ENV: 'development',\n      PORT: 3000\n    },\n    env_production: {\n      NODE_ENV: 'production',\n      PORT: 3000\n    },\n    \n    // Logging\n    log_file: './logs/app.log',\n    out_file: './logs/out.log',\n    error_file: './logs/error.log',\n    log_date_format: 'YYYY-MM-DD HH:mm:ss Z',\n    merge_logs: true,\n    \n    // Monitoring\n    monitoring: true,\n    pmx: true,\n    \n    // Auto-restart settings\n    autorestart: true,\n    watch: false,  // Disable in production\n    max_restarts: 10,\n    min_uptime: '10s',\n    \n    // Instance settings\n    instance_var: 'INSTANCE_ID',\n    \n    // Source map support\n    source_map_support: true,\n    \n    // Graceful shutdown\n    kill_timeout: 5000,\n    listen_timeout: 8000,\n    \n    // Health checking\n    health_check_grace_period: 3000\n  }],\n  \n  // Deployment configuration\n  deploy: {\n    production: {\n      user: 'nodejs',\n      host: ['app1.example.com', 'app2.example.com'],\n      ref: 'origin/main',\n      repo: 'git@github.com:username/repository.git',\n      path: '/var/www/production',\n      'post-deploy': 'npm install \u0026\u0026 pm2 reload ecosystem.config.js --env production',\n      'pre-setup': 'apt update -y; apt install git -y'\n    },\n    staging: {\n      user: 'nodejs',\n      host: 'staging.example.com',\n      ref: 'origin/develop',\n      repo: 'git@github.com:username/repository.git',\n      path: '/var/www/staging',\n      'post-deploy': 'npm install \u0026\u0026 pm2 reload ecosystem.config.js --env staging'\n    }\n  }\n};\nEOF\n\n# Start application with PM2\npm2 start ecosystem.config.js --env production\n\n# Save PM2 configuration\npm2 save\n\n# Generate startup script\npm2 startup\nsudo env PATH=$PATH:/usr/bin /usr/lib/node_modules/pm2/bin/pm2 startup systemd -u $USER --hp $HOME\n\n# Monitor application\npm2 status\npm2 logs\npm2 monit\n```\n\n### NGINX Reverse Proxy Configuration\n```bash\n# Create NGINX configuration for Node.js applications\nsudo tee /etc/nginx/sites-available/nodejs-app \u003e /dev/null \u003c\u003cEOF\n# Node.js Application NGINX Configuration\n\nupstream nodejs_backend {\n    least_conn;\n    server 127.0.0.1:3000 max_fails=3 fail_timeout=30s;\n    # Add more servers for load balancing:\n    # server 127.0.0.1:3001 max_fails=3 fail_timeout=30s;\n    # server 127.0.0.1:3002 max_fails=3 fail_timeout=30s;\n    keepalive 64;\n}\n\n# HTTP to HTTPS redirect\nserver {\n    listen 80;\n    server_name app.example.com;\n    return 301 https://\\$server_name\\$request_uri;\n}\n\n# HTTPS server\nserver {\n    listen 443 ssl http2;\n    server_name app.example.com;\n\n    # SSL configuration\n    ssl_certificate /etc/letsencrypt/live/app.example.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/app.example.com/privkey.pem;\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512;\n    ssl_prefer_server_ciphers off;\n    ssl_session_cache shared:SSL:10m;\n    ssl_session_timeout 10m;\n\n    # Security headers\n    add_header Strict-Transport-Security \"max-age=31536000; includeSubDomains\" always;\n    add_header X-Content-Type-Options nosniff always;\n    add_header X-Frame-Options DENY always;\n    add_header X-XSS-Protection \"1; mode=block\" always;\n    add_header Referrer-Policy \"strict-origin-when-cross-origin\" always;\n\n    # Rate limiting\n    limit_req_zone \\$binary_remote_addr zone=api_limit:10m rate=10r/s;\n    limit_req zone=api_limit burst=20 nodelay;\n\n    # Gzip compression\n    gzip on;\n    gzip_vary on;\n    gzip_min_length 1024;\n    gzip_proxied any;\n    gzip_comp_level 6;\n    gzip_types\n        text/plain\n        text/css\n        text/xml\n        text/javascript\n        application/json\n        application/javascript\n        application/xml+rss\n        application/atom+xml\n        image/svg+xml;\n\n    location / {\n        proxy_pass http://nodejs_backend;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade \\$http_upgrade;\n        proxy_set_header Connection 'upgrade';\n        proxy_set_header Host \\$host;\n        proxy_set_header X-Real-IP \\$remote_addr;\n        proxy_set_header X-Forwarded-For \\$proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto \\$scheme;\n        proxy_cache_bypass \\$http_upgrade;\n        \n        # Timeout settings\n        proxy_connect_timeout 60s;\n        proxy_send_timeout 60s;\n        proxy_read_timeout 60s;\n        \n        # Buffer settings\n        proxy_buffer_size 4k;\n        proxy_buffers 4 4k;\n    }\n\n    # Static assets caching\n    location ~* \\.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)\\$ {\n        expires 1y;\n        add_header Cache-Control \"public, immutable\";\n        access_log off;\n    }\n\n    # API rate limiting (stricter)\n    location /api/ {\n        limit_req zone=api_limit burst=10 nodelay;\n        proxy_pass http://nodejs_backend;\n        proxy_set_header Host \\$host;\n        proxy_set_header X-Real-IP \\$remote_addr;\n        proxy_set_header X-Forwarded-For \\$proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto \\$scheme;\n    }\n\n    # Health check endpoint\n    location /health {\n        access_log off;\n        proxy_pass http://nodejs_backend;\n        proxy_set_header Host \\$host;\n    }\n}\nEOF\n\nsudo ln -s /etc/nginx/sites-available/nodejs-app /etc/nginx/sites-enabled/\nsudo nginx -t \u0026\u0026 sudo systemctl reload nginx\n```\n\n### SystemD Service (Alternative to PM2)\n```bash\n# Create systemd service for Node.js application\nsudo tee /etc/systemd/system/nodejs-app.service \u003e /dev/null \u003c\u003cEOF\n[Unit]\nDescription=Node.js Application\nDocumentation=https://nodejs.org/\nAfter=network.target\n\n[Service]\nType=simple\nUser=nodejs\nGroup=nodejs\nWorkingDirectory=/var/www/nodejs-app\nExecStart=/usr/bin/node server.js\nExecReload=/bin/kill -SIGUSR2 \\$MAINPID\nRestart=always\nRestartSec=10\nStandardOutput=syslog\nStandardError=syslog\nSyslogIdentifier=nodejs-app\n\n# Environment variables\nEnvironment=NODE_ENV=production\nEnvironment=PORT=3000\n\n# Security settings\nNoNewPrivileges=true\nPrivateTmp=true\nPrivateDevices=true\nProtectHome=true\nProtectSystem=strict\nReadWritePaths=/var/www/nodejs-app/logs /var/www/nodejs-app/uploads\nProtectKernelTunables=true\nProtectKernelModules=true\nProtectControlGroups=true\n\n# Resource limits\nMemoryMax=2G\nCPUQuota=200%\nTasksMax=4096\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n# Create nodejs user\nsudo useradd --system --shell /bin/false --home /var/www/nodejs-app nodejs\n\n# Set up application directory\nsudo mkdir -p /var/www/nodejs-app/{logs,uploads}\nsudo chown -R nodejs:nodejs /var/www/nodejs-app\n\nsudo systemctl daemon-reload\nsudo systemctl enable --now nodejs-app\n```\n\n## Security Hardening\n\n### Application Security Best Practices\n```bash\n# Create secure application template\nmkdir -p ~/secure-nodejs-app\ncd ~/secure-nodejs-app\n\n# Create package.json with security-focused dependencies\ncat \u003e package.json \u003c\u003cEOF\n{\n  \"name\": \"secure-nodejs-app\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Secure Node.js application template\",\n  \"main\": \"server.js\",\n  \"scripts\": {\n    \"start\": \"node server.js\",\n    \"dev\": \"nodemon server.js\",\n    \"test\": \"jest\",\n    \"security:audit\": \"npm audit\",\n    \"security:check\": \"nsp check\",\n    \"lint\": \"eslint .\",\n    \"format\": \"prettier --write .\"\n  },\n  \"dependencies\": {\n    \"express\": \"^4.18.2\",\n    \"helmet\": \"^7.1.0\",\n    \"cors\": \"^2.8.5\",\n    \"express-rate-limit\": \"^7.1.5\",\n    \"express-validator\": \"^7.0.1\",\n    \"bcryptjs\": \"^2.4.3\",\n    \"jsonwebtoken\": \"^9.0.2\",\n    \"mongoose\": \"^8.0.3\",\n    \"dotenv\": \"^16.3.1\",\n    \"compression\": \"^1.7.4\",\n    \"morgan\": \"^1.10.0\",\n    \"winston\": \"^3.11.0\",\n    \"hpp\": \"^0.2.3\",\n    \"express-mongo-sanitize\": \"^2.2.0\",\n    \"xss\": \"^1.0.14\"\n  },\n  \"devDependencies\": {\n    \"nodemon\": \"^3.0.2\",\n    \"jest\": \"^29.7.0\",\n    \"eslint\": \"^8.55.0\",\n    \"prettier\": \"^3.1.0\",\n    \"nsp\": \"^3.2.1\"\n  },\n  \"engines\": {\n    \"node\": \"\u003e=20.0.0\",\n    \"npm\": \"\u003e=9.0.0\"\n  }\n}\nEOF\n\n# Create secure server template\ncat \u003e server.js \u003c\u003c'EOF'\n'use strict';\n\nconst express = require('express');\nconst helmet = require('helmet');\nconst cors = require('cors');\nconst rateLimit = require('express-rate-limit');\nconst { body, validationResult } = require('express-validator');\nconst mongoSanitize = require('express-mongo-sanitize');\nconst xss = require('xss');\nconst compression = require('compression');\nconst morgan = require('morgan');\nconst winston = require('winston');\nconst hpp = require('hpp');\nrequire('dotenv').config();\n\nconst app = express();\nconst PORT = process.env.PORT || 3000;\n\n// Security middleware\napp.use(helmet({\n  contentSecurityPolicy: {\n    directives: {\n      defaultSrc: [\"'self'\"],\n      styleSrc: [\"'self'\", \"'unsafe-inline'\"],\n      scriptSrc: [\"'self'\"],\n      imgSrc: [\"'self'\", \"data:\", \"https:\"]\n    }\n  },\n  hsts: {\n    maxAge: 31536000,\n    includeSubDomains: true,\n    preload: true\n  }\n}));\n\n// CORS configuration\napp.use(cors({\n  origin: process.env.ALLOWED_ORIGINS?.split(',') || ['https://example.com'],\n  methods: ['GET', 'POST', 'PUT', 'DELETE'],\n  allowedHeaders: ['Content-Type', 'Authorization'],\n  credentials: true\n}));\n\n// Rate limiting\nconst limiter = rateLimit({\n  windowMs: 15 * 60 * 1000, // 15 minutes\n  max: 100, // Limit each IP to 100 requests per windowMs\n  message: 'Too many requests from this IP, please try again later.',\n  standardHeaders: true,\n  legacyHeaders: false\n});\napp.use(limiter);\n\n// API rate limiting (stricter)\nconst apiLimiter = rateLimit({\n  windowMs: 15 * 60 * 1000,\n  max: 50,\n  message: 'Too many API requests from this IP'\n});\napp.use('/api/', apiLimiter);\n\n// Body parsing with size limits\napp.use(express.json({ limit: '10mb' }));\napp.use(express.urlencoded({ extended: true, limit: '10mb' }));\n\n// Security sanitization\napp.use(mongoSanitize());\napp.use(hpp()); // Prevent HTTP Parameter Pollution\n\n// Compression\napp.use(compression());\n\n// Logging\nconst logger = winston.createLogger({\n  level: 'info',\n  format: winston.format.combine(\n    winston.format.timestamp(),\n    winston.format.errors({ stack: true }),\n    winston.format.json()\n  ),\n  transports: [\n    new winston.transports.File({ filename: 'logs/error.log', level: 'error' }),\n    new winston.transports.File({ filename: 'logs/combined.log' })\n  ]\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  logger.add(new winston.transports.Console({\n    format: winston.format.simple()\n  }));\n}\n\n// Request logging\napp.use(morgan('combined', {\n  stream: { write: message =\u003e logger.info(message.trim()) }\n}));\n\n// Input validation middleware\nconst validateInput = (req, res, next) =\u003e {\n  const errors = validationResult(req);\n  if (!errors.isEmpty()) {\n    return res.status(400).json({\n      success: false,\n      errors: errors.array()\n    });\n  }\n  next();\n};\n\n// Health check endpoint\napp.get('/health', (req, res) =\u003e {\n  res.status(200).json({\n    status: 'healthy',\n    timestamp: new Date().toISOString(),\n    uptime: process.uptime(),\n    memory: process.memoryUsage(),\n    version: process.version\n  });\n});\n\n// API routes with validation\napp.post('/api/users', [\n  body('email').isEmail().normalizeEmail(),\n  body('name').trim().escape().isLength({ min: 2, max: 50 }),\n  body('password').isLength({ min: 12 }).matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?\u0026])/),\n  validateInput\n], (req, res) =\u003e {\n  try {\n    // Sanitize input\n    const sanitizedBody = {\n      email: xss(req.body.email),\n      name: xss(req.body.name),\n      password: req.body.password // Don't sanitize password, just validate\n    };\n    \n    // Process request\n    res.json({ success: true, message: 'User created successfully' });\n  } catch (error) {\n    logger.error('Error creating user:', error);\n    res.status(500).json({ success: false, message: 'Internal server error' });\n  }\n});\n\n// Error handling middleware\napp.use((error, req, res, next) =\u003e {\n  logger.error('Unhandled error:', error);\n  \n  res.status(error.status || 500).json({\n    success: false,\n    message: process.env.NODE_ENV === 'production' \n      ? 'Something went wrong!' \n      : error.message\n  });\n});\n\n// 404 handler\napp.use('*', (req, res) =\u003e {\n  res.status(404).json({\n    success: false,\n    message: 'Route not found'\n  });\n});\n\n// Graceful shutdown\nprocess.on('SIGTERM', () =\u003e {\n  logger.info('SIGTERM signal received: closing HTTP server');\n  server.close(() =\u003e {\n    logger.info('HTTP server closed');\n    process.exit(0);\n  });\n});\n\nprocess.on('SIGINT', () =\u003e {\n  logger.info('SIGINT signal received: closing HTTP server');\n  server.close(() =\u003e {\n    logger.info('HTTP server closed');\n    process.exit(0);\n  });\n});\n\n// Unhandled promise rejection handling\nprocess.on('unhandledRejection', (reason, promise) =\u003e {\n  logger.error('Unhandled Rejection at:', promise, 'reason:', reason);\n  process.exit(1);\n});\n\n// Uncaught exception handling\nprocess.on('uncaughtException', (error) =\u003e {\n  logger.error('Uncaught Exception thrown:', error);\n  process.exit(1);\n});\n\nconst server = app.listen(PORT, '127.0.0.1', () =\u003e {\n  logger.info(`Server running on port ${PORT} in ${process.env.NODE_ENV} mode`);\n});\n\nmodule.exports = app;\nEOF\n\n# Create healthcheck script for Docker\ncat \u003e healthcheck.js \u003c\u003cEOF\nconst http = require('http');\n\nconst options = {\n  hostname: 'localhost',\n  port: process.env.PORT || 3000,\n  path: '/health',\n  method: 'GET',\n  timeout: 2000\n};\n\nconst req = http.request(options, (res) =\u003e {\n  if (res.statusCode === 200) {\n    process.exit(0);\n  } else {\n    process.exit(1);\n  }\n});\n\nreq.on('error', () =\u003e {\n  process.exit(1);\n});\n\nreq.end();\nEOF\n\n# Install dependencies\nnpm install\n```\n\n### Environment Configuration\n```bash\n# Create secure environment configuration\ncat \u003e .env.example \u003c\u003cEOF\n# Node.js Application Environment Configuration\n\n# Application settings\nNODE_ENV=production\nPORT=3000\nHOST=127.0.0.1\n\n# Database connection\nDATABASE_URL=mongodb://username:password@localhost:27017/myapp?authSource=admin\n# Or PostgreSQL: postgresql://username:password@localhost:5432/myapp\n\n# Security keys (generate with: openssl rand -base64 32)\nJWT_SECRET=your_jwt_secret_here_32_characters_minimum\nSESSION_SECRET=your_session_secret_here_32_characters_minimum\nENCRYPTION_KEY=your_encryption_key_here_32_characters\n\n# CORS settings\nALLOWED_ORIGINS=https://example.com,https://app.example.com\n\n# Email configuration (for notifications)\nSMTP_HOST=smtp.example.com\nSMTP_PORT=587\nSMTP_USER=app@example.com\nSMTP_PASS=smtp_password\n\n# Rate limiting\nRATE_LIMIT_WINDOW_MS=900000\nRATE_LIMIT_MAX=100\n\n# File upload settings\nMAX_FILE_SIZE=10485760\nUPLOAD_PATH=/var/www/nodejs-app/uploads\n\n# Monitoring\nENABLE_MONITORING=true\nLOG_LEVEL=info\n\n# Security settings\nBCRYPT_ROUNDS=12\nJWT_EXPIRY=24h\nSESSION_TIMEOUT=3600000\n\n# External APIs\nEXTERNAL_API_KEY=your_api_key_here\nEXTERNAL_API_URL=https://api.external-service.com\n\n# Redis configuration (for sessions/caching)\nREDIS_URL=redis://localhost:6379\nREDIS_PASSWORD=redis_password\n\n# Health check settings\nHEALTH_CHECK_INTERVAL=30000\nEOF\n\n# Create production environment file\ncp .env.example .env\necho \".env\" \u003e\u003e .gitignore\n\n# Set secure permissions\nchmod 600 .env\n```\n\n## Performance Optimization\n\n### Node.js Performance Tuning\n```bash\n# Create performance optimization script\nsudo tee /usr/local/bin/nodejs-optimize.sh \u003e /dev/null \u003c\u003c'EOF'\n#!/bin/bash\n\necho \"Optimizing Node.js application performance...\"\n\n# System-level optimizations\n# Increase file descriptor limits\nsudo tee -a /etc/security/limits.conf \u003e /dev/null \u003c\u003cLIMITS\nnodejs soft nofile 65535\nnodejs hard nofile 65535\nnodejs soft nproc 65535\nnodejs hard nproc 65535\nLIMITS\n\n# Kernel optimizations for Node.js\nsudo tee -a /etc/sysctl.conf \u003e /dev/null \u003c\u003cSYSCTL\n# Node.js optimizations\nnet.core.somaxconn = 65535\nnet.core.netdev_max_backlog = 5000\nnet.ipv4.tcp_max_syn_backlog = 65535\nnet.ipv4.tcp_fin_timeout = 10\nnet.ipv4.tcp_tw_reuse = 1\nnet.ipv4.ip_local_port_range = 15000 65000\nfs.file-max = 100000\nvm.swappiness = 1\nSYSCTL\n\nsudo sysctl -p\n\n# PM2 optimization for clustering\nif command -v pm2 \u003e/dev/null 2\u003e\u00261; then\n    # Update PM2 configuration for performance\n    pm2 delete all 2\u003e/dev/null || true\n    \n    cat \u003e /tmp/ecosystem-optimized.config.js \u003c\u003cPM2CONFIG\nmodule.exports = {\n  apps: [{\n    name: 'nodejs-app-optimized',\n    script: './server.js',\n    instances: 'max',\n    exec_mode: 'cluster',\n    \n    // V8 optimizations\n    node_args: [\n      '--max-old-space-size=2048',\n      '--optimize-for-size',\n      '--gc-interval=100',\n      '--expose-gc'\n    ],\n    \n    // Performance settings\n    max_memory_restart: '2G',\n    min_uptime: '10s',\n    max_restarts: 5,\n    \n    // Environment\n    env_production: {\n      NODE_ENV: 'production',\n      UV_THREADPOOL_SIZE: 16\n    }\n  }]\n};\nPM2CONFIG\n    \n    pm2 start /tmp/ecosystem-optimized.config.js --env production\n    pm2 save\nfi\n\necho \"Node.js optimization completed\"\nEOF\n\nsudo chmod +x /usr/local/bin/nodejs-optimize.sh\n```\n\n### Monitoring and Logging\n```bash\n# Create Node.js monitoring script\nsudo tee /usr/local/bin/nodejs-monitor.sh \u003e /dev/null \u003c\u003c'EOF'\n#!/bin/bash\nMONITOR_LOG=\"/var/log/nodejs-monitor.log\"\n\nlog_message() {\n    echo \"$(date '+%Y-%m-%d %H:%M:%S') - $1\" | tee -a ${MONITOR_LOG}\n}\n\n# Check if PM2 is managing processes\nif command -v pm2 \u003e/dev/null 2\u003e\u00261; then\n    PM2_STATUS=$(pm2 jlist | jq -r '.[].pm2_env.status' 2\u003e/dev/null)\n    if echo \"$PM2_STATUS\" | grep -q \"online\"; then\n        log_message \"✓ PM2 processes are running\"\n        \n        # Check memory usage\n        PM2_MEMORY=$(pm2 jlist | jq -r '.[].monit.memory' 2\u003e/dev/null | awk '{sum += $1} END {print sum/1024/1024}')\n        log_message \"ℹ PM2 total memory usage: ${PM2_MEMORY}MB\"\n        \n        # Check CPU usage\n        PM2_CPU=$(pm2 jlist | jq -r '.[].monit.cpu' 2\u003e/dev/null | awk '{sum += $1} END {print sum}')\n        log_message \"ℹ PM2 total CPU usage: ${PM2_CPU}%\"\n    else\n        log_message \"⚠ PM2 processes not online\"\n    fi\nfi\n\n# Check systemd service (if not using PM2)\nif systemctl is-active nodejs-app \u003e/dev/null 2\u003e\u00261; then\n    log_message \"✓ Node.js systemd service is running\"\nelse\n    log_message \"ℹ Node.js systemd service not active (may be using PM2)\"\nfi\n\n# Check application health endpoint\nif curl -f http://localhost:3000/health \u003e/dev/null 2\u003e\u00261; then\n    log_message \"✓ Application health endpoint responding\"\n    \n    # Get detailed health info\n    HEALTH_DATA=$(curl -s http://localhost:3000/health)\n    UPTIME=$(echo \"$HEALTH_DATA\" | jq -r '.uptime' 2\u003e/dev/null)\n    MEMORY_USED=$(echo \"$HEALTH_DATA\" | jq -r '.memory.rss' 2\u003e/dev/null)\n    \n    if [ -n \"$UPTIME\" ]; then\n        log_message \"ℹ Application uptime: ${UPTIME}s\"\n    fi\n    if [ -n \"$MEMORY_USED\" ]; then\n        MEMORY_MB=$((MEMORY_USED / 1024 / 1024))\n        log_message \"ℹ Application memory: ${MEMORY_MB}MB\"\n    fi\nelse\n    log_message \"✗ Application health endpoint not responding\"\nfi\n\n# Check Node.js version\nNODE_VERSION=$(node --version 2\u003e/dev/null)\nif [ -n \"$NODE_VERSION\" ]; then\n    log_message \"ℹ Node.js version: ${NODE_VERSION}\"\nfi\n\n# Check npm security audit\nif [ -f \"package.json\" ]; then\n    AUDIT_RESULT=$(npm audit --audit-level high --json 2\u003e/dev/null)\n    VULNERABILITIES=$(echo \"$AUDIT_RESULT\" | jq -r '.metadata.vulnerabilities.total' 2\u003e/dev/null)\n    if [ -n \"$VULNERABILITIES\" ] \u0026\u0026 [ \"$VULNERABILITIES\" -gt 0 ]; then\n        log_message \"⚠ ${VULNERABILITIES} security vulnerabilities found\"\n    else\n        log_message \"✓ No high/critical security vulnerabilities\"\n    fi\nfi\n\nlog_message \"Node.js monitoring completed\"\nEOF\n\nsudo chmod +x /usr/local/bin/nodejs-monitor.sh\n\n# Schedule monitoring every 5 minutes\necho \"*/5 * * * * root /usr/local/bin/nodejs-monitor.sh\" | sudo tee -a /etc/crontab\n```\n\n## Backup and Deployment\n\n### Application Backup Strategy\n```bash\nsudo tee /usr/local/bin/nodejs-backup.sh \u003e /dev/null \u003c\u003c'EOF'\n#!/bin/bash\nBACKUP_DIR=\"/backup/nodejs\"\nDATE=$(date +%Y%m%d_%H%M%S)\n\nmkdir -p ${BACKUP_DIR}/{app,config,logs}\n\necho \"Starting Node.js application backup...\"\n\n# Backup application code and dependencies\ntar --exclude='node_modules' --exclude='logs/*' --exclude='.git' \\\n    -czf ${BACKUP_DIR}/app/nodejs-app-${DATE}.tar.gz \\\n    -C /var/www/nodejs-app .\n\n# Backup PM2 configuration and process list\nif command -v pm2 \u003e/dev/null 2\u003e\u00261; then\n    pm2 save\n    cp ~/.pm2/dump.pm2 ${BACKUP_DIR}/config/pm2-processes-${DATE}.json\n    cp ecosystem.config.js ${BACKUP_DIR}/config/ecosystem-${DATE}.js 2\u003e/dev/null || true\nfi\n\n# Backup environment configuration\ncp /var/www/nodejs-app/.env ${BACKUP_DIR}/config/env-${DATE}.backup 2\u003e/dev/null || true\n\n# Backup systemd service files\ncp /etc/systemd/system/nodejs-app.service ${BACKUP_DIR}/config/nodejs-app-${DATE}.service 2\u003e/dev/null || true\n\n# Backup logs\ntar -czf ${BACKUP_DIR}/logs/nodejs-logs-${DATE}.tar.gz \\\n    /var/www/nodejs-app/logs/ 2\u003e/dev/null || true\n\n# Backup NGINX configuration\ncp /etc/nginx/sites-available/nodejs-app ${BACKUP_DIR}/config/nginx-${DATE}.conf 2\u003e/dev/null || true\n\n# Upload to cloud storage\naws s3 cp ${BACKUP_DIR}/ s3://nodejs-backups/ --recursive\ngsutil cp -r ${BACKUP_DIR}/* gs://nodejs-backups/\n\n# Keep only last 14 backups\nfind ${BACKUP_DIR} -name \"nodejs-*\" -type f -mtime +14 -delete\n\necho \"Node.js backup completed: ${DATE}\"\nEOF\n\nsudo chmod +x /usr/local/bin/nodejs-backup.sh\n\n# Schedule daily backups\necho \"0 2 * * * root /usr/local/bin/nodejs-backup.sh\" | sudo tee -a /etc/crontab\n```\n\n### Zero-Downtime Deployment\n```bash\n# Create deployment script\nsudo tee /usr/local/bin/nodejs-deploy.sh \u003e /dev/null \u003c\u003c'EOF'\n#!/bin/bash\nVERSION=\"${1}\"\nREPO_URL=\"${2:-https://github.com/example/nodejs-app.git}\"\n\nif [ -z \"$VERSION\" ]; then\n    echo \"Usage: $0 \u003cversion\u003e [repo_url]\"\n    echo \"Example: $0 v1.2.3\"\n    exit 1\nfi\n\nDEPLOY_DIR=\"/var/www/nodejs-app\"\nRELEASES_DIR=\"${DEPLOY_DIR}/releases\"\nSHARED_DIR=\"${DEPLOY_DIR}/shared\"\nCURRENT_LINK=\"${DEPLOY_DIR}/current\"\nRELEASE_DIR=\"${RELEASES_DIR}/${VERSION}\"\n\necho \"Deploying Node.js application version: ${VERSION}\"\n\n# Create directory structure\nmkdir -p ${RELEASES_DIR} ${SHARED_DIR}/{logs,uploads,config}\n\n# Clone and checkout specific version\ngit clone ${REPO_URL} ${RELEASE_DIR}\ncd ${RELEASE_DIR}\ngit checkout ${VERSION}\n\n# Copy shared configuration\ncp ${SHARED_DIR}/config/.env . 2\u003e/dev/null || true\n\n# Install dependencies (production only)\nnpm ci --only=production\n\n# Run security audit\nnpm audit --audit-level high\n\n# Run tests\nnpm test\n\n# Create symbolic links for shared directories\nln -sfn ${SHARED_DIR}/logs logs\nln -sfn ${SHARED_DIR}/uploads uploads\n\n# Update current symlink (atomic operation)\nln -sfn ${RELEASE_DIR} ${CURRENT_LINK}\n\n# Reload PM2 or systemd service\nif command -v pm2 \u003e/dev/null 2\u003e\u00261 \u0026\u0026 pm2 list | grep -q \"nodejs-app\"; then\n    echo \"Reloading PM2 processes...\"\n    cd ${CURRENT_LINK}\n    pm2 reload ecosystem.config.js --env production\nelif systemctl is-active nodejs-app \u003e/dev/null 2\u003e\u00261; then\n    echo \"Restarting systemd service...\"\n    systemctl restart nodejs-app\nfi\n\n# Wait for application to be ready\necho \"Waiting for application to start...\"\nfor i in {1..30}; do\n    if curl -f http://localhost:3000/health \u003e/dev/null 2\u003e\u00261; then\n        echo \"✓ Application is healthy\"\n        break\n    fi\n    sleep 2\ndone\n\n# Keep only last 5 releases\ncd ${RELEASES_DIR}\nls -t | tail -n +6 | xargs rm -rf\n\n# Set proper ownership\nchown -R nodejs:nodejs ${DEPLOY_DIR}\n\necho \"Deployment completed successfully: ${VERSION}\"\necho \"Application is available at: http://localhost:3000\"\nEOF\n\nsudo chmod +x /usr/local/bin/nodejs-deploy.sh\n```\n\n## Troubleshooting\n\n### Common Issues and Solutions\n```bash\n# Check Node.js application status\n# PM2 processes\npm2 status\npm2 logs\npm2 monit\n\n# SystemD service\nsudo systemctl status nodejs-app\nsudo journalctl -u nodejs-app -f\n\n# Check application logs\ntail -f /var/www/nodejs-app/logs/combined.log\ntail -f /var/www/nodejs-app/logs/error.log\n\n# Test application health\ncurl -i http://localhost:3000/health\n\n# Check memory leaks\nnode --inspect server.js\n# Connect Chrome DevTools to memory tab\n\n# Performance profiling\nnode --prof server.js\n# Generate profile: node --prof-process isolate-*.log \u003e profile.txt\n\n# Check for security vulnerabilities\nnpm audit\nnpm audit fix\n\n# Update dependencies\nnpm outdated\nnpm update\n\n# Check package vulnerabilities\nnpx retire\n\n# Memory usage analysis\nps aux --sort=-%mem | grep node\npmap -x $(pgrep node)\n\n# Network connectivity\nss -tulpn | grep 3000\nnetstat -tulpn | grep node\n\n# Process monitoring\nhtop -p $(pgrep node)\ntop -p $(pgrep node)\n\n# Debug mode (development only)\nnode --inspect-brk server.js\n\n# Cluster mode debugging\npm2 logs --lines 1000\npm2 flush  # Clear all logs\n\n# Database connection issues\n# Check MongoDB connection\nmongosh --eval \"db.adminCommand('ping')\"\n\n# Check PostgreSQL connection\npsql -h localhost -U username -d dbname -c \"SELECT version();\"\n\n# SSL/HTTPS issues\nopenssl s_client -connect app.example.com:443\ncurl -I https://app.example.com\n\n# Environment issues\nprintenv | grep NODE\necho $NODE_ENV\n\n# Restart applications\npm2 restart all\n# Or\nsudo systemctl restart nodejs-app\n\n# Clean npm cache\nnpm cache clean --force\n\n# Rebuild native modules\nnpm rebuild\n```\n\n## Additional Resources\n\n- [Node.js Official Documentation](https://nodejs.org/docs/)\n- [Node.js Security Best Practices](https://nodejs.org/en/security/)\n- [PM2 Documentation](https://pm2.keymetrics.io/docs/)\n- [Express.js Security Guide](https://expressjs.com/en/advanced/best-practice-security.html)\n- [Node.js Best Practices](https://github.com/goldbergyoni/nodebestpractices)\n\n---\n\n**Note:** This guide is part of the [HowToMgr](https://howtomgr.github.io) collection.","readmeHtml":"\u003ch1 id=\"nodejs-installation-guide\" class=\"mobile-header\"\u003eNode.js Installation Guide\u003c/h1\u003e\n\u003cp class=\"mobile-paragraph\"\u003eJavaScript runtime built on Chrome's V8 JavaScript engine. Essential platform for modern web applications, APIs, and microservices with enterprise-grade performance and security features.\u003c/p\u003e\n\u003ch2 id=\"prerequisites\" class=\"mobile-header\"\u003ePrerequisites\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003eLinux system (any modern distribution)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eRoot or sudo access\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e2GB RAM minimum, 4GB+ recommended for production\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ecurl or wget for package downloads\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eGit for source code management\u003c/li\u003e\n\u003ch2 id=\"installation\" class=\"mobile-header\"\u003eInstallation\u003c/h2\u003e\n\u003ch3 id=\"using-nvm-recommended-for-development\" class=\"mobile-header\"\u003eUsing NVM (Recommended for Development)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Download and install NVM (Node Version Manager)\ncurl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.5/install.sh | bash\n\n# Reload shell profile\nsource ~/.bashrc\n\n# Install latest LTS version (recommended for production)\nnvm install --lts\nnvm use --lts\n\n# Install specific version\nnvm install 20.10.0  # Latest LTS as of 2024\nnvm use 20.10.0\n\n# Set default version\nnvm alias default 20.10.0\n\n# Verify installation\nnode --version\nnpm --version\n\n# List available versions\nnvm list-remote --lts\nnvm list\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"ubuntudebian-package-manager\" class=\"mobile-header\"\u003eUbuntu/Debian (Package Manager)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Update system packages\nsudo apt update \u0026amp;\u0026amp; sudo apt upgrade -y\n\n# Method 1: Install from Ubuntu repositories (older version)\nsudo apt install -y nodejs npm\n\n# Method 2: Install from NodeSource repository (latest LTS)\ncurl -fsSL https://deb.nodesource.com/setup_lts.x | sudo -E bash -\nsudo apt install -y nodejs\n\n# Install build tools for native modules\nsudo apt install -y build-essential python3-dev\n\n# Verify installation\nnode --version\nnpm --version\n\n# Update npm to latest version\nsudo npm install -g npm@latest\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"rhelcentosrocky-linuxalmalinux\" class=\"mobile-header\"\u003eRHEL/CentOS/Rocky Linux/AlmaLinux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable EPEL repository\nsudo yum install -y epel-release\n\n# Method 1: Install from EPEL (may be older)\nsudo yum install -y nodejs npm\n\n# Method 2: Install from NodeSource (recommended)\ncurl -fsSL https://rpm.nodesource.com/setup_lts.x | sudo bash -\nsudo yum install -y nodejs\n\n# Install development tools\nsudo yum groupinstall -y \u0026quot;Development Tools\u0026quot;\nsudo yum install -y python3-devel\n\n# Verify installation\nnode --version\nnpm --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"fedora\" class=\"mobile-header\"\u003eFedora\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Node.js from official repositories\nsudo dnf install -y nodejs npm\n\n# Or install from NodeSource for latest LTS\ncurl -fsSL https://rpm.nodesource.com/setup_lts.x | sudo bash -\nsudo dnf install -y nodejs\n\n# Install development tools\nsudo dnf groupinstall -y \u0026quot;Development Tools\u0026quot;\nsudo dnf install -y python3-devel\n\n# Verify installation\nnode --version\nnpm --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"arch-linux\" class=\"mobile-header\"\u003eArch Linux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Node.js and npm\nsudo pacman -Syu nodejs npm\n\n# Install base-devel for building native modules\nsudo pacman -S base-devel python\n\n# Verify installation\nnode --version\nnpm --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"docker-installation\" class=\"mobile-header\"\u003eDocker Installation\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create Node.js application structure\nmkdir -p ~/nodejs-app/{src,config,logs,node_modules}\ncd ~/nodejs-app\n\n# Create production Dockerfile\ncat \u0026gt; Dockerfile \u0026lt;\u0026lt;EOF\n# Multi-stage build for production\nFROM node:20-alpine AS builder\n\n# Create app directory\nWORKDIR /usr/src/app\n\n# Copy package files\nCOPY package*.json ./\n\n# Install dependencies (including dev dependencies)\nRUN npm ci --only=production\n\n# Production stage\nFROM node:20-alpine AS production\n\n# Create non-root user\nRUN addgroup -g 1001 -S nodejs \u0026amp;\u0026amp; \\\n    adduser -S nodejs -u 1001\n\n# Set working directory\nWORKDIR /usr/src/app\n\n# Copy node_modules from builder stage\nCOPY --from=builder /usr/src/app/node_modules ./node_modules\n\n# Copy application code\nCOPY --chown=nodejs:nodejs . .\n\n# Remove unnecessary files\nRUN rm -f .dockerignore Dockerfile* README.md\n\n# Security: Run as non-root user\nUSER nodejs\n\n# Expose port\nEXPOSE 3000\n\n# Health check\nHEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \\\n  CMD node healthcheck.js\n\n# Start application\nCMD [\u0026quot;node\u0026quot;, \u0026quot;server.js\u0026quot;]\nEOF\n\n# Create .dockerignore\ncat \u0026gt; .dockerignore \u0026lt;\u0026lt;EOF\nnode_modules\nnpm-debug.log\nDockerfile*\n.git\n.gitignore\nREADME.md\n.env\n.nyc_output\ncoverage\n.npm\n.coverage\n.jest\n.cache\nEOF\n\n# Create production docker-compose.yml\ncat \u0026gt; docker-compose.prod.yml \u0026lt;\u0026lt;EOF\nversion: \u0026#039;3.8\u0026#039;\n\nservices:\n  app:\n    build:\n      context: .\n      target: production\n    restart: unless-stopped\n    ports:\n      - \u0026quot;127.0.0.1:3000:3000\u0026quot;\n    environment:\n      - NODE_ENV=production\n      - PORT=3000\n    volumes:\n      - ./logs:/usr/src/app/logs\n    networks:\n      - app-network\n    security_opt:\n      - no-new-privileges:true\n    read_only: true\n    tmpfs:\n      - /tmp\n    healthcheck:\n      test: [\u0026quot;CMD\u0026quot;, \u0026quot;node\u0026quot;, \u0026quot;healthcheck.js\u0026quot;]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n      start_period: 30s\n\n  nginx:\n    image: nginx:alpine\n    restart: unless-stopped\n    ports:\n      - \u0026quot;80:80\u0026quot;\n      - \u0026quot;443:443\u0026quot;\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n      - ./ssl:/etc/nginx/ssl:ro\n    depends_on:\n      - app\n    networks:\n      - app-network\n\nnetworks:\n  app-network:\n    driver: bridge\nEOF\n\ndocker-compose -f docker-compose.prod.yml up -d\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"production-configuration\" class=\"mobile-header\"\u003eProduction Configuration\u003c/h2\u003e\n\u003ch3 id=\"pm2-process-manager-production-standard\" class=\"mobile-header\"\u003ePM2 Process Manager (Production Standard)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install PM2 globally\nsudo npm install -g pm2\n\n# Create PM2 ecosystem configuration\ncat \u0026gt; ecosystem.config.js \u0026lt;\u0026lt;EOF\nmodule.exports = {\n  apps: [{\n    name: \u0026#039;node-app\u0026#039;,\n    script: \u0026#039;./server.js\u0026#039;,\n    instances: \u0026#039;max\u0026#039;,  // Use all CPU cores\n    exec_mode: \u0026#039;cluster\u0026#039;,\n    \n    // Performance settings\n    max_memory_restart: \u0026#039;1G\u0026#039;,\n    node_args: \u0026#039;--max-old-space-size=1024\u0026#039;,\n    \n    // Environment variables\n    env: {\n      NODE_ENV: \u0026#039;development\u0026#039;,\n      PORT: 3000\n    },\n    env_production: {\n      NODE_ENV: \u0026#039;production\u0026#039;,\n      PORT: 3000\n    },\n    \n    // Logging\n    log_file: \u0026#039;./logs/app.log\u0026#039;,\n    out_file: \u0026#039;./logs/out.log\u0026#039;,\n    error_file: \u0026#039;./logs/error.log\u0026#039;,\n    log_date_format: \u0026#039;YYYY-MM-DD HH:mm:ss Z\u0026#039;,\n    merge_logs: true,\n    \n    // Monitoring\n    monitoring: true,\n    pmx: true,\n    \n    // Auto-restart settings\n    autorestart: true,\n    watch: false,  // Disable in production\n    max_restarts: 10,\n    min_uptime: \u0026#039;10s\u0026#039;,\n    \n    // Instance settings\n    instance_var: \u0026#039;INSTANCE_ID\u0026#039;,\n    \n    // Source map support\n    source_map_support: true,\n    \n    // Graceful shutdown\n    kill_timeout: 5000,\n    listen_timeout: 8000,\n    \n    // Health checking\n    health_check_grace_period: 3000\n  }],\n  \n  // Deployment configuration\n  deploy: {\n    production: {\n      user: \u0026#039;nodejs\u0026#039;,\n      host: [\u0026#039;app1.example.com\u0026#039;, \u0026#039;app2.example.com\u0026#039;],\n      ref: \u0026#039;origin/main\u0026#039;,\n      repo: \u0026#039;git@github.com:username/repository.git\u0026#039;,\n      path: \u0026#039;/var/www/production\u0026#039;,\n      \u0026#039;post-deploy\u0026#039;: \u0026#039;npm install \u0026amp;\u0026amp; pm2 reload ecosystem.config.js --env production\u0026#039;,\n      \u0026#039;pre-setup\u0026#039;: \u0026#039;apt update -y; apt install git -y\u0026#039;\n    },\n    staging: {\n      user: \u0026#039;nodejs\u0026#039;,\n      host: \u0026#039;staging.example.com\u0026#039;,\n      ref: \u0026#039;origin/develop\u0026#039;,\n      repo: \u0026#039;git@github.com:username/repository.git\u0026#039;,\n      path: \u0026#039;/var/www/staging\u0026#039;,\n      \u0026#039;post-deploy\u0026#039;: \u0026#039;npm install \u0026amp;\u0026amp; pm2 reload ecosystem.config.js --env staging\u0026#039;\n    }\n  }\n};\nEOF\n\n# Start application with PM2\npm2 start ecosystem.config.js --env production\n\n# Save PM2 configuration\npm2 save\n\n# Generate startup script\npm2 startup\nsudo env PATH=$PATH:/usr/bin /usr/lib/node_modules/pm2/bin/pm2 startup systemd -u $USER --hp $HOME\n\n# Monitor application\npm2 status\npm2 logs\npm2 monit\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"nginx-reverse-proxy-configuration\" class=\"mobile-header\"\u003eNGINX Reverse Proxy Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create NGINX configuration for Node.js applications\nsudo tee /etc/nginx/sites-available/nodejs-app \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n# Node.js Application NGINX Configuration\n\nupstream nodejs_backend {\n    least_conn;\n    server 127.0.0.1:3000 max_fails=3 fail_timeout=30s;\n    # Add more servers for load balancing:\n    # server 127.0.0.1:3001 max_fails=3 fail_timeout=30s;\n    # server 127.0.0.1:3002 max_fails=3 fail_timeout=30s;\n    keepalive 64;\n}\n\n# HTTP to HTTPS redirect\nserver {\n    listen 80;\n    server_name app.example.com;\n    return 301 https://\\$server_name\\$request_uri;\n}\n\n# HTTPS server\nserver {\n    listen 443 ssl http2;\n    server_name app.example.com;\n\n    # SSL configuration\n    ssl_certificate /etc/letsencrypt/live/app.example.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/app.example.com/privkey.pem;\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512;\n    ssl_prefer_server_ciphers off;\n    ssl_session_cache shared:SSL:10m;\n    ssl_session_timeout 10m;\n\n    # Security headers\n    add_header Strict-Transport-Security \u0026quot;max-age=31536000; includeSubDomains\u0026quot; always;\n    add_header X-Content-Type-Options nosniff always;\n    add_header X-Frame-Options DENY always;\n    add_header X-XSS-Protection \u0026quot;1; mode=block\u0026quot; always;\n    add_header Referrer-Policy \u0026quot;strict-origin-when-cross-origin\u0026quot; always;\n\n    # Rate limiting\n    limit_req_zone \\$binary_remote_addr zone=api_limit:10m rate=10r/s;\n    limit_req zone=api_limit burst=20 nodelay;\n\n    # Gzip compression\n    gzip on;\n    gzip_vary on;\n    gzip_min_length 1024;\n    gzip_proxied any;\n    gzip_comp_level 6;\n    gzip_types\n        text/plain\n        text/css\n        text/xml\n        text/javascript\n        application/json\n        application/javascript\n        application/xml+rss\n        application/atom+xml\n        image/svg+xml;\n\n    location / {\n        proxy_pass http://nodejs_backend;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade \\$http_upgrade;\n        proxy_set_header Connection \u0026#039;upgrade\u0026#039;;\n        proxy_set_header Host \\$host;\n        proxy_set_header X-Real-IP \\$remote_addr;\n        proxy_set_header X-Forwarded-For \\$proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto \\$scheme;\n        proxy_cache_bypass \\$http_upgrade;\n        \n        # Timeout settings\n        proxy_connect_timeout 60s;\n        proxy_send_timeout 60s;\n        proxy_read_timeout 60s;\n        \n        # Buffer settings\n        proxy_buffer_size 4k;\n        proxy_buffers 4 4k;\n    }\n\n    # Static assets caching\n    location ~* \\.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)\\$ {\n        expires 1y;\n        add_header Cache-Control \u0026quot;public, immutable\u0026quot;;\n        access_log off;\n    }\n\n    # API rate limiting (stricter)\n    location /api/ {\n        limit_req zone=api_limit burst=10 nodelay;\n        proxy_pass http://nodejs_backend;\n        proxy_set_header Host \\$host;\n        proxy_set_header X-Real-IP \\$remote_addr;\n        proxy_set_header X-Forwarded-For \\$proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto \\$scheme;\n    }\n\n    # Health check endpoint\n    location /health {\n        access_log off;\n        proxy_pass http://nodejs_backend;\n        proxy_set_header Host \\$host;\n    }\n}\nEOF\n\nsudo ln -s /etc/nginx/sites-available/nodejs-app /etc/nginx/sites-enabled/\nsudo nginx -t \u0026amp;\u0026amp; sudo systemctl reload nginx\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"systemd-service-alternative-to-pm2\" class=\"mobile-header\"\u003eSystemD Service (Alternative to PM2)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create systemd service for Node.js application\nsudo tee /etc/systemd/system/nodejs-app.service \u0026gt; /dev/null \u0026lt;\u0026lt;EOF\n[Unit]\nDescription=Node.js Application\nDocumentation=https://nodejs.org/\nAfter=network.target\n\n[Service]\nType=simple\nUser=nodejs\nGroup=nodejs\nWorkingDirectory=/var/www/nodejs-app\nExecStart=/usr/bin/node server.js\nExecReload=/bin/kill -SIGUSR2 \\$MAINPID\nRestart=always\nRestartSec=10\nStandardOutput=syslog\nStandardError=syslog\nSyslogIdentifier=nodejs-app\n\n# Environment variables\nEnvironment=NODE_ENV=production\nEnvironment=PORT=3000\n\n# Security settings\nNoNewPrivileges=true\nPrivateTmp=true\nPrivateDevices=true\nProtectHome=true\nProtectSystem=strict\nReadWritePaths=/var/www/nodejs-app/logs /var/www/nodejs-app/uploads\nProtectKernelTunables=true\nProtectKernelModules=true\nProtectControlGroups=true\n\n# Resource limits\nMemoryMax=2G\nCPUQuota=200%\nTasksMax=4096\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n# Create nodejs user\nsudo useradd --system --shell /bin/false --home /var/www/nodejs-app nodejs\n\n# Set up application directory\nsudo mkdir -p /var/www/nodejs-app/{logs,uploads}\nsudo chown -R nodejs:nodejs /var/www/nodejs-app\n\nsudo systemctl daemon-reload\nsudo systemctl enable --now nodejs-app\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"security-hardening\" class=\"mobile-header\"\u003eSecurity Hardening\u003c/h2\u003e\n\u003ch3 id=\"application-security-best-practices\" class=\"mobile-header\"\u003eApplication Security Best Practices\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create secure application template\nmkdir -p ~/secure-nodejs-app\ncd ~/secure-nodejs-app\n\n# Create package.json with security-focused dependencies\ncat \u0026gt; package.json \u0026lt;\u0026lt;EOF\n{\n  \u0026quot;name\u0026quot;: \u0026quot;secure-nodejs-app\u0026quot;,\n  \u0026quot;version\u0026quot;: \u0026quot;1.0.0\u0026quot;,\n  \u0026quot;description\u0026quot;: \u0026quot;Secure Node.js application template\u0026quot;,\n  \u0026quot;main\u0026quot;: \u0026quot;server.js\u0026quot;,\n  \u0026quot;scripts\u0026quot;: {\n    \u0026quot;start\u0026quot;: \u0026quot;node server.js\u0026quot;,\n    \u0026quot;dev\u0026quot;: \u0026quot;nodemon server.js\u0026quot;,\n    \u0026quot;test\u0026quot;: \u0026quot;jest\u0026quot;,\n    \u0026quot;security:audit\u0026quot;: \u0026quot;npm audit\u0026quot;,\n    \u0026quot;security:check\u0026quot;: \u0026quot;nsp check\u0026quot;,\n    \u0026quot;lint\u0026quot;: \u0026quot;eslint .\u0026quot;,\n    \u0026quot;format\u0026quot;: \u0026quot;prettier --write .\u0026quot;\n  },\n  \u0026quot;dependencies\u0026quot;: {\n    \u0026quot;express\u0026quot;: \u0026quot;^4.18.2\u0026quot;,\n    \u0026quot;helmet\u0026quot;: \u0026quot;^7.1.0\u0026quot;,\n    \u0026quot;cors\u0026quot;: \u0026quot;^2.8.5\u0026quot;,\n    \u0026quot;express-rate-limit\u0026quot;: \u0026quot;^7.1.5\u0026quot;,\n    \u0026quot;express-validator\u0026quot;: \u0026quot;^7.0.1\u0026quot;,\n    \u0026quot;bcryptjs\u0026quot;: \u0026quot;^2.4.3\u0026quot;,\n    \u0026quot;jsonwebtoken\u0026quot;: \u0026quot;^9.0.2\u0026quot;,\n    \u0026quot;mongoose\u0026quot;: \u0026quot;^8.0.3\u0026quot;,\n    \u0026quot;dotenv\u0026quot;: \u0026quot;^16.3.1\u0026quot;,\n    \u0026quot;compression\u0026quot;: \u0026quot;^1.7.4\u0026quot;,\n    \u0026quot;morgan\u0026quot;: \u0026quot;^1.10.0\u0026quot;,\n    \u0026quot;winston\u0026quot;: \u0026quot;^3.11.0\u0026quot;,\n    \u0026quot;hpp\u0026quot;: \u0026quot;^0.2.3\u0026quot;,\n    \u0026quot;express-mongo-sanitize\u0026quot;: \u0026quot;^2.2.0\u0026quot;,\n    \u0026quot;xss\u0026quot;: \u0026quot;^1.0.14\u0026quot;\n  },\n  \u0026quot;devDependencies\u0026quot;: {\n    \u0026quot;nodemon\u0026quot;: \u0026quot;^3.0.2\u0026quot;,\n    \u0026quot;jest\u0026quot;: \u0026quot;^29.7.0\u0026quot;,\n    \u0026quot;eslint\u0026quot;: \u0026quot;^8.55.0\u0026quot;,\n    \u0026quot;prettier\u0026quot;: \u0026quot;^3.1.0\u0026quot;,\n    \u0026quot;nsp\u0026quot;: \u0026quot;^3.2.1\u0026quot;\n  },\n  \u0026quot;engines\u0026quot;: {\n    \u0026quot;node\u0026quot;: \u0026quot;\u0026gt;=20.0.0\u0026quot;,\n    \u0026quot;npm\u0026quot;: \u0026quot;\u0026gt;=9.0.0\u0026quot;\n  }\n}\nEOF\n\n# Create secure server template\ncat \u0026gt; server.js \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n\u0026#039;use strict\u0026#039;;\n\nconst express = require(\u0026#039;express\u0026#039;);\nconst helmet = require(\u0026#039;helmet\u0026#039;);\nconst cors = require(\u0026#039;cors\u0026#039;);\nconst rateLimit = require(\u0026#039;express-rate-limit\u0026#039;);\nconst { body, validationResult } = require(\u0026#039;express-validator\u0026#039;);\nconst mongoSanitize = require(\u0026#039;express-mongo-sanitize\u0026#039;);\nconst xss = require(\u0026#039;xss\u0026#039;);\nconst compression = require(\u0026#039;compression\u0026#039;);\nconst morgan = require(\u0026#039;morgan\u0026#039;);\nconst winston = require(\u0026#039;winston\u0026#039;);\nconst hpp = require(\u0026#039;hpp\u0026#039;);\nrequire(\u0026#039;dotenv\u0026#039;).config();\n\nconst app = express();\nconst PORT = process.env.PORT || 3000;\n\n// Security middleware\napp.use(helmet({\n  contentSecurityPolicy: {\n    directives: {\n      defaultSrc: [\u0026quot;\u0026#039;self\u0026#039;\u0026quot;],\n      styleSrc: [\u0026quot;\u0026#039;self\u0026#039;\u0026quot;, \u0026quot;\u0026#039;unsafe-inline\u0026#039;\u0026quot;],\n      scriptSrc: [\u0026quot;\u0026#039;self\u0026#039;\u0026quot;],\n      imgSrc: [\u0026quot;\u0026#039;self\u0026#039;\u0026quot;, \u0026quot;data:\u0026quot;, \u0026quot;https:\u0026quot;]\n    }\n  },\n  hsts: {\n    maxAge: 31536000,\n    includeSubDomains: true,\n    preload: true\n  }\n}));\n\n// CORS configuration\napp.use(cors({\n  origin: process.env.ALLOWED_ORIGINS?.split(\u0026#039;,\u0026#039;) || [\u0026#039;https://example.com\u0026#039;],\n  methods: [\u0026#039;GET\u0026#039;, \u0026#039;POST\u0026#039;, \u0026#039;PUT\u0026#039;, \u0026#039;DELETE\u0026#039;],\n  allowedHeaders: [\u0026#039;Content-Type\u0026#039;, \u0026#039;Authorization\u0026#039;],\n  credentials: true\n}));\n\n// Rate limiting\nconst limiter = rateLimit({\n  windowMs: 15 * 60 * 1000, // 15 minutes\n  max: 100, // Limit each IP to 100 requests per windowMs\n  message: \u0026#039;Too many requests from this IP, please try again later.\u0026#039;,\n  standardHeaders: true,\n  legacyHeaders: false\n});\napp.use(limiter);\n\n// API rate limiting (stricter)\nconst apiLimiter = rateLimit({\n  windowMs: 15 * 60 * 1000,\n  max: 50,\n  message: \u0026#039;Too many API requests from this IP\u0026#039;\n});\napp.use(\u0026#039;/api/\u0026#039;, apiLimiter);\n\n// Body parsing with size limits\napp.use(express.json({ limit: \u0026#039;10mb\u0026#039; }));\napp.use(express.urlencoded({ extended: true, limit: \u0026#039;10mb\u0026#039; }));\n\n// Security sanitization\napp.use(mongoSanitize());\napp.use(hpp()); // Prevent HTTP Parameter Pollution\n\n// Compression\napp.use(compression());\n\n// Logging\nconst logger = winston.createLogger({\n  level: \u0026#039;info\u0026#039;,\n  format: winston.format.combine(\n    winston.format.timestamp(),\n    winston.format.errors({ stack: true }),\n    winston.format.json()\n  ),\n  transports: [\n    new winston.transports.File({ filename: \u0026#039;logs/error.log\u0026#039;, level: \u0026#039;error\u0026#039; }),\n    new winston.transports.File({ filename: \u0026#039;logs/combined.log\u0026#039; })\n  ]\n});\n\nif (process.env.NODE_ENV !== \u0026#039;production\u0026#039;) {\n  logger.add(new winston.transports.Console({\n    format: winston.format.simple()\n  }));\n}\n\n// Request logging\napp.use(morgan(\u0026#039;combined\u0026#039;, {\n  stream: { write: message =\u0026gt; logger.info(message.trim()) }\n}));\n\n// Input validation middleware\nconst validateInput = (req, res, next) =\u0026gt; {\n  const errors = validationResult(req);\n  if (!errors.isEmpty()) {\n    return res.status(400).json({\n      success: false,\n      errors: errors.array()\n    });\n  }\n  next();\n};\n\n// Health check endpoint\napp.get(\u0026#039;/health\u0026#039;, (req, res) =\u0026gt; {\n  res.status(200).json({\n    status: \u0026#039;healthy\u0026#039;,\n    timestamp: new Date().toISOString(),\n    uptime: process.uptime(),\n    memory: process.memoryUsage(),\n    version: process.version\n  });\n});\n\n// API routes with validation\napp.post(\u0026#039;/api/users\u0026#039;, [\n  body(\u0026#039;email\u0026#039;).isEmail().normalizeEmail(),\n  body(\u0026#039;name\u0026#039;).trim().escape().isLength({ min: 2, max: 50 }),\n  body(\u0026#039;password\u0026#039;).isLength({ min: 12 }).matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?\u0026amp;])/),\n  validateInput\n], (req, res) =\u0026gt; {\n  try {\n    // Sanitize input\n    const sanitizedBody = {\n      email: xss(req.body.email),\n      name: xss(req.body.name),\n      password: req.body.password // Don\u0026#039;t sanitize password, just validate\n    };\n    \n    // Process request\n    res.json({ success: true, message: \u0026#039;User created successfully\u0026#039; });\n  } catch (error) {\n    logger.error(\u0026#039;Error creating user:\u0026#039;, error);\n    res.status(500).json({ success: false, message: \u0026#039;Internal server error\u0026#039; });\n  }\n});\n\n// Error handling middleware\napp.use((error, req, res, next) =\u0026gt; {\n  logger.error(\u0026#039;Unhandled error:\u0026#039;, error);\n  \n  res.status(error.status || 500).json({\n    success: false,\n    message: process.env.NODE_ENV === \u0026#039;production\u0026#039; \n      ? \u0026#039;Something went wrong!\u0026#039; \n      : error.message\n  });\n});\n\n// 404 handler\napp.use(\u0026#039;*\u0026#039;, (req, res) =\u0026gt; {\n  res.status(404).json({\n    success: false,\n    message: \u0026#039;Route not found\u0026#039;\n  });\n});\n\n// Graceful shutdown\nprocess.on(\u0026#039;SIGTERM\u0026#039;, () =\u0026gt; {\n  logger.info(\u0026#039;SIGTERM signal received: closing HTTP server\u0026#039;);\n  server.close(() =\u0026gt; {\n    logger.info(\u0026#039;HTTP server closed\u0026#039;);\n    process.exit(0);\n  });\n});\n\nprocess.on(\u0026#039;SIGINT\u0026#039;, () =\u0026gt; {\n  logger.info(\u0026#039;SIGINT signal received: closing HTTP server\u0026#039;);\n  server.close(() =\u0026gt; {\n    logger.info(\u0026#039;HTTP server closed\u0026#039;);\n    process.exit(0);\n  });\n});\n\n// Unhandled promise rejection handling\nprocess.on(\u0026#039;unhandledRejection\u0026#039;, (reason, promise) =\u0026gt; {\n  logger.error(\u0026#039;Unhandled Rejection at:\u0026#039;, promise, \u0026#039;reason:\u0026#039;, reason);\n  process.exit(1);\n});\n\n// Uncaught exception handling\nprocess.on(\u0026#039;uncaughtException\u0026#039;, (error) =\u0026gt; {\n  logger.error(\u0026#039;Uncaught Exception thrown:\u0026#039;, error);\n  process.exit(1);\n});\n\nconst server = app.listen(PORT, \u0026#039;127.0.0.1\u0026#039;, () =\u0026gt; {\n  logger.info(`Server running on port ${PORT} in ${process.env.NODE_ENV} mode`);\n});\n\nmodule.exports = app;\nEOF\n\n# Create healthcheck script for Docker\ncat \u0026gt; healthcheck.js \u0026lt;\u0026lt;EOF\nconst http = require(\u0026#039;http\u0026#039;);\n\nconst options = {\n  hostname: \u0026#039;localhost\u0026#039;,\n  port: process.env.PORT || 3000,\n  path: \u0026#039;/health\u0026#039;,\n  method: \u0026#039;GET\u0026#039;,\n  timeout: 2000\n};\n\nconst req = http.request(options, (res) =\u0026gt; {\n  if (res.statusCode === 200) {\n    process.exit(0);\n  } else {\n    process.exit(1);\n  }\n});\n\nreq.on(\u0026#039;error\u0026#039;, () =\u0026gt; {\n  process.exit(1);\n});\n\nreq.end();\nEOF\n\n# Install dependencies\nnpm install\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"environment-configuration\" class=\"mobile-header\"\u003eEnvironment Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create secure environment configuration\ncat \u0026gt; .env.example \u0026lt;\u0026lt;EOF\n# Node.js Application Environment Configuration\n\n# Application settings\nNODE_ENV=production\nPORT=3000\nHOST=127.0.0.1\n\n# Database connection\nDATABASE_URL=mongodb://username:password@localhost:27017/myapp?authSource=admin\n# Or PostgreSQL: postgresql://username:password@localhost:5432/myapp\n\n# Security keys (generate with: openssl rand -base64 32)\nJWT_SECRET=your_jwt_secret_here_32_characters_minimum\nSESSION_SECRET=your_session_secret_here_32_characters_minimum\nENCRYPTION_KEY=your_encryption_key_here_32_characters\n\n# CORS settings\nALLOWED_ORIGINS=https://example.com,https://app.example.com\n\n# Email configuration (for notifications)\nSMTP_HOST=smtp.example.com\nSMTP_PORT=587\nSMTP_USER=app@example.com\nSMTP_PASS=smtp_password\n\n# Rate limiting\nRATE_LIMIT_WINDOW_MS=900000\nRATE_LIMIT_MAX=100\n\n# File upload settings\nMAX_FILE_SIZE=10485760\nUPLOAD_PATH=/var/www/nodejs-app/uploads\n\n# Monitoring\nENABLE_MONITORING=true\nLOG_LEVEL=info\n\n# Security settings\nBCRYPT_ROUNDS=12\nJWT_EXPIRY=24h\nSESSION_TIMEOUT=3600000\n\n# External APIs\nEXTERNAL_API_KEY=your_api_key_here\nEXTERNAL_API_URL=https://api.external-service.com\n\n# Redis configuration (for sessions/caching)\nREDIS_URL=redis://localhost:6379\nREDIS_PASSWORD=redis_password\n\n# Health check settings\nHEALTH_CHECK_INTERVAL=30000\nEOF\n\n# Create production environment file\ncp .env.example .env\necho \u0026quot;.env\u0026quot; \u0026gt;\u0026gt; .gitignore\n\n# Set secure permissions\nchmod 600 .env\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"performance-optimization\" class=\"mobile-header\"\u003ePerformance Optimization\u003c/h2\u003e\n\u003ch3 id=\"nodejs-performance-tuning\" class=\"mobile-header\"\u003eNode.js Performance Tuning\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create performance optimization script\nsudo tee /usr/local/bin/nodejs-optimize.sh \u0026gt; /dev/null \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\n\necho \u0026quot;Optimizing Node.js application performance...\u0026quot;\n\n# System-level optimizations\n# Increase file descriptor limits\nsudo tee -a /etc/security/limits.conf \u0026gt; /dev/null \u0026lt;\u0026lt;LIMITS\nnodejs soft nofile 65535\nnodejs hard nofile 65535\nnodejs soft nproc 65535\nnodejs hard nproc 65535\nLIMITS\n\n# Kernel optimizations for Node.js\nsudo tee -a /etc/sysctl.conf \u0026gt; /dev/null \u0026lt;\u0026lt;SYSCTL\n# Node.js optimizations\nnet.core.somaxconn = 65535\nnet.core.netdev_max_backlog = 5000\nnet.ipv4.tcp_max_syn_backlog = 65535\nnet.ipv4.tcp_fin_timeout = 10\nnet.ipv4.tcp_tw_reuse = 1\nnet.ipv4.ip_local_port_range = 15000 65000\nfs.file-max = 100000\nvm.swappiness = 1\nSYSCTL\n\nsudo sysctl -p\n\n# PM2 optimization for clustering\nif command -v pm2 \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    # Update PM2 configuration for performance\n    pm2 delete all 2\u0026gt;/dev/null || true\n    \n    cat \u0026gt; /tmp/ecosystem-optimized.config.js \u0026lt;\u0026lt;PM2CONFIG\nmodule.exports = {\n  apps: [{\n    name: \u0026#039;nodejs-app-optimized\u0026#039;,\n    script: \u0026#039;./server.js\u0026#039;,\n    instances: \u0026#039;max\u0026#039;,\n    exec_mode: \u0026#039;cluster\u0026#039;,\n    \n    // V8 optimizations\n    node_args: [\n      \u0026#039;--max-old-space-size=2048\u0026#039;,\n      \u0026#039;--optimize-for-size\u0026#039;,\n      \u0026#039;--gc-interval=100\u0026#039;,\n      \u0026#039;--expose-gc\u0026#039;\n    ],\n    \n    // Performance settings\n    max_memory_restart: \u0026#039;2G\u0026#039;,\n    min_uptime: \u0026#039;10s\u0026#039;,\n    max_restarts: 5,\n    \n    // Environment\n    env_production: {\n      NODE_ENV: \u0026#039;production\u0026#039;,\n      UV_THREADPOOL_SIZE: 16\n    }\n  }]\n};\nPM2CONFIG\n    \n    pm2 start /tmp/ecosystem-optimized.config.js --env production\n    pm2 save\nfi\n\necho \u0026quot;Node.js optimization completed\u0026quot;\nEOF\n\nsudo chmod +x /usr/local/bin/nodejs-optimize.sh\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"monitoring-and-logging\" class=\"mobile-header\"\u003eMonitoring and Logging\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create Node.js monitoring script\nsudo tee /usr/local/bin/nodejs-monitor.sh \u0026gt; /dev/null \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\nMONITOR_LOG=\u0026quot;/var/log/nodejs-monitor.log\u0026quot;\n\nlog_message() {\n    echo \u0026quot;$(date \u0026#039;+%Y-%m-%d %H:%M:%S\u0026#039;) - $1\u0026quot; | tee -a ${MONITOR_LOG}\n}\n\n# Check if PM2 is managing processes\nif command -v pm2 \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    PM2_STATUS=$(pm2 jlist | jq -r \u0026#039;.[].pm2_env.status\u0026#039; 2\u0026gt;/dev/null)\n    if echo \u0026quot;$PM2_STATUS\u0026quot; | grep -q \u0026quot;online\u0026quot;; then\n        log_message \u0026quot;✓ PM2 processes are running\u0026quot;\n        \n        # Check memory usage\n        PM2_MEMORY=$(pm2 jlist | jq -r \u0026#039;.[].monit.memory\u0026#039; 2\u0026gt;/dev/null | awk \u0026#039;{sum += $1} END {print sum/1024/1024}\u0026#039;)\n        log_message \u0026quot;ℹ PM2 total memory usage: ${PM2_MEMORY}MB\u0026quot;\n        \n        # Check CPU usage\n        PM2_CPU=$(pm2 jlist | jq -r \u0026#039;.[].monit.cpu\u0026#039; 2\u0026gt;/dev/null | awk \u0026#039;{sum += $1} END {print sum}\u0026#039;)\n        log_message \u0026quot;ℹ PM2 total CPU usage: ${PM2_CPU}%\u0026quot;\n    else\n        log_message \u0026quot;⚠ PM2 processes not online\u0026quot;\n    fi\nfi\n\n# Check systemd service (if not using PM2)\nif systemctl is-active nodejs-app \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    log_message \u0026quot;✓ Node.js systemd service is running\u0026quot;\nelse\n    log_message \u0026quot;ℹ Node.js systemd service not active (may be using PM2)\u0026quot;\nfi\n\n# Check application health endpoint\nif curl -f http://localhost:3000/health \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    log_message \u0026quot;✓ Application health endpoint responding\u0026quot;\n    \n    # Get detailed health info\n    HEALTH_DATA=$(curl -s http://localhost:3000/health)\n    UPTIME=$(echo \u0026quot;$HEALTH_DATA\u0026quot; | jq -r \u0026#039;.uptime\u0026#039; 2\u0026gt;/dev/null)\n    MEMORY_USED=$(echo \u0026quot;$HEALTH_DATA\u0026quot; | jq -r \u0026#039;.memory.rss\u0026#039; 2\u0026gt;/dev/null)\n    \n    if [ -n \u0026quot;$UPTIME\u0026quot; ]; then\n        log_message \u0026quot;ℹ Application uptime: ${UPTIME}s\u0026quot;\n    fi\n    if [ -n \u0026quot;$MEMORY_USED\u0026quot; ]; then\n        MEMORY_MB=$((MEMORY_USED / 1024 / 1024))\n        log_message \u0026quot;ℹ Application memory: ${MEMORY_MB}MB\u0026quot;\n    fi\nelse\n    log_message \u0026quot;✗ Application health endpoint not responding\u0026quot;\nfi\n\n# Check Node.js version\nNODE_VERSION=$(node --version 2\u0026gt;/dev/null)\nif [ -n \u0026quot;$NODE_VERSION\u0026quot; ]; then\n    log_message \u0026quot;ℹ Node.js version: ${NODE_VERSION}\u0026quot;\nfi\n\n# Check npm security audit\nif [ -f \u0026quot;package.json\u0026quot; ]; then\n    AUDIT_RESULT=$(npm audit --audit-level high --json 2\u0026gt;/dev/null)\n    VULNERABILITIES=$(echo \u0026quot;$AUDIT_RESULT\u0026quot; | jq -r \u0026#039;.metadata.vulnerabilities.total\u0026#039; 2\u0026gt;/dev/null)\n    if [ -n \u0026quot;$VULNERABILITIES\u0026quot; ] \u0026amp;\u0026amp; [ \u0026quot;$VULNERABILITIES\u0026quot; -gt 0 ]; then\n        log_message \u0026quot;⚠ ${VULNERABILITIES} security vulnerabilities found\u0026quot;\n    else\n        log_message \u0026quot;✓ No high/critical security vulnerabilities\u0026quot;\n    fi\nfi\n\nlog_message \u0026quot;Node.js monitoring completed\u0026quot;\nEOF\n\nsudo chmod +x /usr/local/bin/nodejs-monitor.sh\n\n# Schedule monitoring every 5 minutes\necho \u0026quot;*/5 * * * * root /usr/local/bin/nodejs-monitor.sh\u0026quot; | sudo tee -a /etc/crontab\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"backup-and-deployment\" class=\"mobile-header\"\u003eBackup and Deployment\u003c/h2\u003e\n\u003ch3 id=\"application-backup-strategy\" class=\"mobile-header\"\u003eApplication Backup Strategy\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003esudo tee /usr/local/bin/nodejs-backup.sh \u0026gt; /dev/null \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\nBACKUP_DIR=\u0026quot;/backup/nodejs\u0026quot;\nDATE=$(date +%Y%m%d_%H%M%S)\n\nmkdir -p ${BACKUP_DIR}/{app,config,logs}\n\necho \u0026quot;Starting Node.js application backup...\u0026quot;\n\n# Backup application code and dependencies\ntar --exclude=\u0026#039;node_modules\u0026#039; --exclude=\u0026#039;logs/*\u0026#039; --exclude=\u0026#039;.git\u0026#039; \\\n    -czf ${BACKUP_DIR}/app/nodejs-app-${DATE}.tar.gz \\\n    -C /var/www/nodejs-app .\n\n# Backup PM2 configuration and process list\nif command -v pm2 \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    pm2 save\n    cp ~/.pm2/dump.pm2 ${BACKUP_DIR}/config/pm2-processes-${DATE}.json\n    cp ecosystem.config.js ${BACKUP_DIR}/config/ecosystem-${DATE}.js 2\u0026gt;/dev/null || true\nfi\n\n# Backup environment configuration\ncp /var/www/nodejs-app/.env ${BACKUP_DIR}/config/env-${DATE}.backup 2\u0026gt;/dev/null || true\n\n# Backup systemd service files\ncp /etc/systemd/system/nodejs-app.service ${BACKUP_DIR}/config/nodejs-app-${DATE}.service 2\u0026gt;/dev/null || true\n\n# Backup logs\ntar -czf ${BACKUP_DIR}/logs/nodejs-logs-${DATE}.tar.gz \\\n    /var/www/nodejs-app/logs/ 2\u0026gt;/dev/null || true\n\n# Backup NGINX configuration\ncp /etc/nginx/sites-available/nodejs-app ${BACKUP_DIR}/config/nginx-${DATE}.conf 2\u0026gt;/dev/null || true\n\n# Upload to cloud storage\naws s3 cp ${BACKUP_DIR}/ s3://nodejs-backups/ --recursive\ngsutil cp -r ${BACKUP_DIR}/* gs://nodejs-backups/\n\n# Keep only last 14 backups\nfind ${BACKUP_DIR} -name \u0026quot;nodejs-*\u0026quot; -type f -mtime +14 -delete\n\necho \u0026quot;Node.js backup completed: ${DATE}\u0026quot;\nEOF\n\nsudo chmod +x /usr/local/bin/nodejs-backup.sh\n\n# Schedule daily backups\necho \u0026quot;0 2 * * * root /usr/local/bin/nodejs-backup.sh\u0026quot; | sudo tee -a /etc/crontab\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"zero-downtime-deployment\" class=\"mobile-header\"\u003eZero-Downtime Deployment\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create deployment script\nsudo tee /usr/local/bin/nodejs-deploy.sh \u0026gt; /dev/null \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\nVERSION=\u0026quot;${1}\u0026quot;\nREPO_URL=\u0026quot;${2:-https://github.com/example/nodejs-app.git}\u0026quot;\n\nif [ -z \u0026quot;$VERSION\u0026quot; ]; then\n    echo \u0026quot;Usage: $0 \u0026lt;version\u0026gt; [repo_url]\u0026quot;\n    echo \u0026quot;Example: $0 v1.2.3\u0026quot;\n    exit 1\nfi\n\nDEPLOY_DIR=\u0026quot;/var/www/nodejs-app\u0026quot;\nRELEASES_DIR=\u0026quot;${DEPLOY_DIR}/releases\u0026quot;\nSHARED_DIR=\u0026quot;${DEPLOY_DIR}/shared\u0026quot;\nCURRENT_LINK=\u0026quot;${DEPLOY_DIR}/current\u0026quot;\nRELEASE_DIR=\u0026quot;${RELEASES_DIR}/${VERSION}\u0026quot;\n\necho \u0026quot;Deploying Node.js application version: ${VERSION}\u0026quot;\n\n# Create directory structure\nmkdir -p ${RELEASES_DIR} ${SHARED_DIR}/{logs,uploads,config}\n\n# Clone and checkout specific version\ngit clone ${REPO_URL} ${RELEASE_DIR}\ncd ${RELEASE_DIR}\ngit checkout ${VERSION}\n\n# Copy shared configuration\ncp ${SHARED_DIR}/config/.env . 2\u0026gt;/dev/null || true\n\n# Install dependencies (production only)\nnpm ci --only=production\n\n# Run security audit\nnpm audit --audit-level high\n\n# Run tests\nnpm test\n\n# Create symbolic links for shared directories\nln -sfn ${SHARED_DIR}/logs logs\nln -sfn ${SHARED_DIR}/uploads uploads\n\n# Update current symlink (atomic operation)\nln -sfn ${RELEASE_DIR} ${CURRENT_LINK}\n\n# Reload PM2 or systemd service\nif command -v pm2 \u0026gt;/dev/null 2\u0026gt;\u0026amp;1 \u0026amp;\u0026amp; pm2 list | grep -q \u0026quot;nodejs-app\u0026quot;; then\n    echo \u0026quot;Reloading PM2 processes...\u0026quot;\n    cd ${CURRENT_LINK}\n    pm2 reload ecosystem.config.js --env production\nelif systemctl is-active nodejs-app \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    echo \u0026quot;Restarting systemd service...\u0026quot;\n    systemctl restart nodejs-app\nfi\n\n# Wait for application to be ready\necho \u0026quot;Waiting for application to start...\u0026quot;\nfor i in {1..30}; do\n    if curl -f http://localhost:3000/health \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n        echo \u0026quot;✓ Application is healthy\u0026quot;\n        break\n    fi\n    sleep 2\ndone\n\n# Keep only last 5 releases\ncd ${RELEASES_DIR}\nls -t | tail -n +6 | xargs rm -rf\n\n# Set proper ownership\nchown -R nodejs:nodejs ${DEPLOY_DIR}\n\necho \u0026quot;Deployment completed successfully: ${VERSION}\u0026quot;\necho \u0026quot;Application is available at: http://localhost:3000\u0026quot;\nEOF\n\nsudo chmod +x /usr/local/bin/nodejs-deploy.sh\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"troubleshooting\" class=\"mobile-header\"\u003eTroubleshooting\u003c/h2\u003e\n\u003ch3 id=\"common-issues-and-solutions\" class=\"mobile-header\"\u003eCommon Issues and Solutions\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check Node.js application status\n# PM2 processes\npm2 status\npm2 logs\npm2 monit\n\n# SystemD service\nsudo systemctl status nodejs-app\nsudo journalctl -u nodejs-app -f\n\n# Check application logs\ntail -f /var/www/nodejs-app/logs/combined.log\ntail -f /var/www/nodejs-app/logs/error.log\n\n# Test application health\ncurl -i http://localhost:3000/health\n\n# Check memory leaks\nnode --inspect server.js\n# Connect Chrome DevTools to memory tab\n\n# Performance profiling\nnode --prof server.js\n# Generate profile: node --prof-process isolate-*.log \u0026gt; profile.txt\n\n# Check for security vulnerabilities\nnpm audit\nnpm audit fix\n\n# Update dependencies\nnpm outdated\nnpm update\n\n# Check package vulnerabilities\nnpx retire\n\n# Memory usage analysis\nps aux --sort=-%mem | grep node\npmap -x $(pgrep node)\n\n# Network connectivity\nss -tulpn | grep 3000\nnetstat -tulpn | grep node\n\n# Process monitoring\nhtop -p $(pgrep node)\ntop -p $(pgrep node)\n\n# Debug mode (development only)\nnode --inspect-brk server.js\n\n# Cluster mode debugging\npm2 logs --lines 1000\npm2 flush  # Clear all logs\n\n# Database connection issues\n# Check MongoDB connection\nmongosh --eval \u0026quot;db.adminCommand(\u0026#039;ping\u0026#039;)\u0026quot;\n\n# Check PostgreSQL connection\npsql -h localhost -U username -d dbname -c \u0026quot;SELECT version();\u0026quot;\n\n# SSL/HTTPS issues\nopenssl s_client -connect app.example.com:443\ncurl -I https://app.example.com\n\n# Environment issues\nprintenv | grep NODE\necho $NODE_ENV\n\n# Restart applications\npm2 restart all\n# Or\nsudo systemctl restart nodejs-app\n\n# Clean npm cache\nnpm cache clean --force\n\n# Rebuild native modules\nnpm rebuild\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"additional-resources\" class=\"mobile-header\"\u003eAdditional Resources\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://nodejs.org/docs/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eNode.js Official Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://nodejs.org/en/security/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eNode.js Security Best Practices\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://pm2.keymetrics.io/docs/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003ePM2 Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://expressjs.com/en/advanced/best-practice-security.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eExpress.js Security Guide\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://github.com/goldbergyoni/nodebestpractices\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eNode.js Best Practices\u003c/a\u003e\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e---\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This guide is part of the \u003ca href=\"https://howtomgr.github.io\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eHowToMgr\u003c/a\u003e collection.\u003c/p\u003e","readTime":"17 min","wordCount":3313,"lastBuilt":"2025-09-14T06:13:04.710Z"},{"name":"odoo","displayName":"Odoo","slug":"odoo","description":"Repo for odoo","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/odoo","updatedAt":"2025-09-08T03:12:54Z","createdAt":"2025-09-08T03:12:44Z","readmeRaw":"## 👋 Welcome to odoo 🚀  \n\nodoo README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-odoo\" class=\"mobile-header\"\u003e👋 Welcome to odoo 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eodoo README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T06:13:17.177Z"},{"name":"opnsense","displayName":"Opnsense","slug":"opnsense","description":"Repo for opnsense","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/opnsense","updatedAt":"2025-09-08T03:13:18Z","createdAt":"2025-09-08T03:13:08Z","readmeRaw":"## 👋 Welcome to opnsense 🚀  \n\nopnsense README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-opnsense\" class=\"mobile-header\"\u003e👋 Welcome to opnsense 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eopnsense README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T06:13:16.512Z"},{"name":"owncloud","displayName":"Owncloud","slug":"owncloud","description":"Repo for owncloud","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/owncloud","updatedAt":"2025-09-08T03:13:30Z","createdAt":"2025-09-08T03:13:20Z","readmeRaw":"## 👋 Welcome to owncloud 🚀  \n\nowncloud README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-owncloud\" class=\"mobile-header\"\u003e👋 Welcome to owncloud 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eowncloud README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T06:13:16.212Z"},{"name":"pfsense","displayName":"Pfsense","slug":"pfsense","description":"Repo for pfsense","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/pfsense","updatedAt":"2025-09-08T03:13:43Z","createdAt":"2025-09-08T03:13:32Z","readmeRaw":"## 👋 Welcome to pfsense 🚀  \n\npfsense README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-pfsense\" class=\"mobile-header\"\u003e👋 Welcome to pfsense 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003epfsense README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T06:13:15.891Z"},{"name":"pgadmin","displayName":"Pgadmin","slug":"pgadmin","description":"Repo for pgadmin","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/pgadmin","updatedAt":"2025-09-08T03:13:54Z","createdAt":"2025-09-08T03:13:44Z","readmeRaw":"## 👋 Welcome to pgadmin 🚀  \n\npgadmin README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-pgadmin\" class=\"mobile-header\"\u003e👋 Welcome to pgadmin 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003epgadmin README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T06:13:15.550Z"},{"name":"phpmyadmin","displayName":"Phpmyadmin","slug":"phpmyadmin","description":"Repo for phpmyadmin","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/phpmyadmin","updatedAt":"2025-09-08T03:14:06Z","createdAt":"2025-09-08T03:13:56Z","readmeRaw":"## 👋 Welcome to phpmyadmin 🚀  \n\nphpmyadmin README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-phpmyadmin\" class=\"mobile-header\"\u003e👋 Welcome to phpmyadmin 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003ephpmyadmin README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T06:13:15.221Z"},{"name":"prosody","displayName":"Prosody","slug":"prosody","description":"Repo for prosody","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/prosody","updatedAt":"2025-09-08T03:14:59Z","createdAt":"2023-08-28T03:49:26Z","readmeRaw":"#### Prosody IM Server\n\n```shell\nmkdir -p /var/lib/docker/storage/prosody \u0026\u0026 chmod -Rf 777 /var/lib/docker/storage/prosody\ndocker run -d \\\n   -p 82:80\n   -p 5222:5222 \\\n   -p 5269:5269 \\\n   -p 5281:5281\n   -p 5347:5347 \\\n   -e LOCAL=admin \\\n   -e DOMAIN=MYDOMAIN \\\n   -e PASSWORD=juliet4ever \\\n   -v /var/lib/docker/storage/prosody/log:/var/log/prosody \\\n   -v /var/lib/docker/storage/prosody/configuration:/etc/prosody \\\n   -v /var/lib/docker/storage/prosody/modules:/usr/lib/prosody-modules \\\n   prosody/prosody\n```\n","readmeHtml":"\u003cp class=\"mobile-paragraph\"\u003e#### Prosody IM Server\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"shell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eshell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-shell\"\u003emkdir -p /var/lib/docker/storage/prosody \u0026amp;\u0026amp; chmod -Rf 777 /var/lib/docker/storage/prosody\ndocker run -d \\\n   -p 82:80\n   -p 5222:5222 \\\n   -p 5269:5269 \\\n   -p 5281:5281\n   -p 5347:5347 \\\n   -e LOCAL=admin \\\n   -e DOMAIN=MYDOMAIN \\\n   -e PASSWORD=juliet4ever \\\n   -v /var/lib/docker/storage/prosody/log:/var/log/prosody \\\n   -v /var/lib/docker/storage/prosody/configuration:/etc/prosody \\\n   -v /var/lib/docker/storage/prosody/modules:/usr/lib/prosody-modules \\\n   prosody/prosody\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e","readTime":"1 min","wordCount":51,"lastBuilt":"2025-09-14T06:13:14.914Z"},{"name":"proxmox","displayName":"Proxmox","slug":"proxmox","description":"Repo for proxmox","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/proxmox","updatedAt":"2025-09-08T03:15:04Z","createdAt":"2023-08-28T03:49:36Z","readmeRaw":"# Install docker\n\n### ZFS\n\n```shell\nzfs create -o mountpoint=/var/lib/docker rpool/docker\nmkdir /etc/systemd/system/docker.service.d\ncurl -q -LSs https://github.com/casjay-base/howtos/raw/main/proxmox/storage-driver.conf \u003e/etc/systemd/system/docker.service.d/storage-driver.conf\n```\n\n### Docker\n\n```shell\napt-get install -y apt-transport-https ca-certificates curl gnupg2 software-properties-common\ncurl -fsSL https://download.docker.com/linux/debian/gpg | apt-key add -\napt-key fingerprint 0EBFCD88\nadd-apt-repository \"deb [arch=amd64] https://download.docker.com/linux/debian $(lsb_release -cs) stable\"\napt-get update \u0026\u0026 apt-get install docker-ce -y\n```\n\n### Yacht\n\n```shell\nmkdir -p \"/root/.local/share/srv/docker/yacht/\"\nsudo docker run -d \\\n    --name=\"yacht\" \\\n    --hostname \"yacht\" \\\n    --restart=unless-stopped \\\n    --privileged \\\n    -e TZ=\"${TZ:-${TIMEZONE:-America/New_York}}\" \\\n    -v \"/root/.local/share/srv/docker/yacht/data\":/data \\\n    -v \"/root/.local/share/srv/docker/yacht/config\":/config \\\n    -p 8000:8000 \\\n    selfhostedpro/yacht 1\u003e/dev/null\n```\n\n### Portainer\n\n```shell\nmkdir -p /root/.local/share/srv/docker/portainer/data\ndocker run -d -p 9000:9000 \\\n    --name portainer \\\n    -v /root/.local/share/srv/docker/portainer/data:/data \\\n    -v /var/run/docker.sock:/var/run/docker.sock \\\n    portainer/portainer-ce\n```\n\n### nginx\n\n```shell\nmkdir -p /root/.local/share/srv/docker/nginx-manager/files/{data,config,letsencrypt}\nsudo docker run -d \\\n    --name=\"nginx-manager\" \\\n    --hostname \"$HOSTNAME\" \\\n    --restart=unless-stopped \\\n    --privileged \\\n    -e TZ=\"America/New_York\" \\\n    -e DISABLE_IPV6=true \\\n    -v \"/root/.local/share/srv/docker/nginx-manager/data\":/data \\\n    -v \"/root/.local/share/srv/docker/nginx-manager/config\":/app/config \\\n    -v \"/root/.local/share/srv/docker/nginx-manager/letsencrypt\":/etc/letsencrypt \\\n    -p 80:80 \\\n    -p 8888:81 \\\n    -p 443:443 \\\n    jc21/nginx-proxy-manager:2\n```\n","readmeHtml":"\u003ch1 id=\"install-docker\" class=\"mobile-header\"\u003eInstall docker\u003c/h1\u003e\n\u003ch3 id=\"zfs\" class=\"mobile-header\"\u003eZFS\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"shell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eshell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-shell\"\u003ezfs create -o mountpoint=/var/lib/docker rpool/docker\nmkdir /etc/systemd/system/docker.service.d\ncurl -q -LSs https://github.com/casjay-base/howtos/raw/main/proxmox/storage-driver.conf \u0026gt;/etc/systemd/system/docker.service.d/storage-driver.conf\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"docker\" class=\"mobile-header\"\u003eDocker\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"shell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eshell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-shell\"\u003eapt-get install -y apt-transport-https ca-certificates curl gnupg2 software-properties-common\ncurl -fsSL https://download.docker.com/linux/debian/gpg | apt-key add -\napt-key fingerprint 0EBFCD88\nadd-apt-repository \u0026quot;deb [arch=amd64] https://download.docker.com/linux/debian $(lsb_release -cs) stable\u0026quot;\napt-get update \u0026amp;\u0026amp; apt-get install docker-ce -y\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"yacht\" class=\"mobile-header\"\u003eYacht\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"shell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eshell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-shell\"\u003emkdir -p \u0026quot;/root/.local/share/srv/docker/yacht/\u0026quot;\nsudo docker run -d \\\n    --name=\u0026quot;yacht\u0026quot; \\\n    --hostname \u0026quot;yacht\u0026quot; \\\n    --restart=unless-stopped \\\n    --privileged \\\n    -e TZ=\u0026quot;${TZ:-${TIMEZONE:-America/New_York}}\u0026quot; \\\n    -v \u0026quot;/root/.local/share/srv/docker/yacht/data\u0026quot;:/data \\\n    -v \u0026quot;/root/.local/share/srv/docker/yacht/config\u0026quot;:/config \\\n    -p 8000:8000 \\\n    selfhostedpro/yacht 1\u0026gt;/dev/null\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"portainer\" class=\"mobile-header\"\u003ePortainer\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"shell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eshell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-shell\"\u003emkdir -p /root/.local/share/srv/docker/portainer/data\ndocker run -d -p 9000:9000 \\\n    --name portainer \\\n    -v /root/.local/share/srv/docker/portainer/data:/data \\\n    -v /var/run/docker.sock:/var/run/docker.sock \\\n    portainer/portainer-ce\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"nginx\" class=\"mobile-header\"\u003enginx\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"shell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eshell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-shell\"\u003emkdir -p /root/.local/share/srv/docker/nginx-manager/files/{data,config,letsencrypt}\nsudo docker run -d \\\n    --name=\u0026quot;nginx-manager\u0026quot; \\\n    --hostname \u0026quot;$HOSTNAME\u0026quot; \\\n    --restart=unless-stopped \\\n    --privileged \\\n    -e TZ=\u0026quot;America/New_York\u0026quot; \\\n    -e DISABLE_IPV6=true \\\n    -v \u0026quot;/root/.local/share/srv/docker/nginx-manager/data\u0026quot;:/data \\\n    -v \u0026quot;/root/.local/share/srv/docker/nginx-manager/config\u0026quot;:/app/config \\\n    -v \u0026quot;/root/.local/share/srv/docker/nginx-manager/letsencrypt\u0026quot;:/etc/letsencrypt \\\n    -p 80:80 \\\n    -p 8888:81 \\\n    -p 443:443 \\\n    jc21/nginx-proxy-manager:2\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e","readTime":"1 min","wordCount":160,"lastBuilt":"2025-09-14T06:13:14.589Z"},{"name":"rabbitmq","displayName":"Rabbitmq","slug":"rabbitmq","description":"Repo for rabbitmq","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/rabbitmq","updatedAt":"2025-09-14T03:45:47Z","createdAt":"2025-09-08T03:15:11Z","readmeRaw":"# RabbitMQ Installation Guide\n\nRabbitMQ is a free and open-source message-queueing software and broker written in Erlang. Originally developed by Rabbit Technologies and now owned by VMware, RabbitMQ implements the Advanced Message Queuing Protocol (AMQP) and provides message routing, queuing, and delivery guarantees. It serves as a FOSS alternative to commercial message brokers like IBM MQ, Oracle WebLogic Server, or Microsoft Azure Service Bus, offering enterprise-grade reliability, clustering, and high availability without licensing costs, with features like message persistence, flexible routing, and cross-language support.\n\n## Prerequisites\n\n- **Hardware Requirements**:\n  - CPU: 2 cores minimum (4+ cores recommended for production)\n  - RAM: 1GB minimum (4GB+ recommended for production)\n  - Storage: 10GB minimum (SSD recommended for message persistence)\n  - Network: Stable connectivity for clustering setups\n- **Operating System**: \n  - Linux: Any modern distribution with kernel 3.2+\n  - macOS: 10.13+ (High Sierra or newer)\n  - Windows: Windows Server 2016+ or Windows 10\n  - FreeBSD: 11.0+\n- **Network Requirements**:\n  - Port 5672 (AMQP 0-9-1 and 1.0)\n  - Port 15672 (HTTP Management API)\n  - Port 25672 (Erlang distribution for clustering)\n  - Port 4369 (EPMD - Erlang Port Mapper Daemon)\n  - Port 35672-35682 (CLI tools)\n- **Dependencies**:\n  - Erlang/OTP (version 23.2+ for RabbitMQ 3.9+)\n  - systemd or compatible init system (Linux)\n  - Root or administrative access for installation\n- **System Access**: root or sudo privileges required\n\n## Installation\n\n### RHEL/CentOS/Rocky Linux/AlmaLinux\n\n```bash\n# Add RabbitMQ repository\ncurl -s https://packagecloud.io/install/repositories/rabbitmq/rabbitmq-server/script.rpm.sh | sudo bash\n\n# Add Erlang repository\ncurl -s https://packagecloud.io/install/repositories/rabbitmq/erlang/script.rpm.sh | sudo bash\n\n# Install Erlang\nsudo yum install -y erlang\n\n# Install RabbitMQ server\nsudo yum install -y rabbitmq-server\n\n# Enable and start service\nsudo systemctl enable --now rabbitmq-server\n\n# Enable management plugin\nsudo rabbitmq-plugins enable rabbitmq_management\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=5672/tcp\nsudo firewall-cmd --permanent --add-port=15672/tcp\nsudo firewall-cmd --permanent --add-port=25672/tcp\nsudo firewall-cmd --reload\n\n# Create admin user\nsudo rabbitmqctl add_user admin SecureAdminPassword123!\nsudo rabbitmqctl set_user_tags admin administrator\nsudo rabbitmqctl set_permissions -p / admin \".*\" \".*\" \".*\"\n\n# Remove guest user (security)\nsudo rabbitmqctl delete_user guest\n```\n\n### Debian/Ubuntu\n\n```bash\n# Update package index\nsudo apt update\n\n# Install prerequisite packages\nsudo apt install -y curl gnupg apt-transport-https\n\n# Add RabbitMQ signing key\ncurl -fsSL https://keys.openpgp.org/vks/v1/by-fingerprint/0A9AF2115F4687BD29803A206B73A36E6026DFCA | sudo gpg --dearmor -o /usr/share/keyrings/com.rabbitmq.team.gpg\n\n# Add RabbitMQ repository\necho \"deb [signed-by=/usr/share/keyrings/com.rabbitmq.team.gpg] https://ppa1.novemberain.com/rabbitmq/rabbitmq-server/deb/ubuntu $(lsb_release -cs) main\" | sudo tee /etc/apt/sources.list.d/rabbitmq.list\n\n# Add Erlang repository\necho \"deb [signed-by=/usr/share/keyrings/com.rabbitmq.team.gpg] https://ppa1.novemberain.com/rabbitmq/rabbitmq-erlang/deb/ubuntu $(lsb_release -cs) main\" | sudo tee /etc/apt/sources.list.d/rabbitmq-erlang.list\n\n# Update package index\nsudo apt update\n\n# Install Erlang and RabbitMQ\nsudo apt install -y erlang-base erlang-asn1 erlang-crypto erlang-eldap erlang-ftp erlang-inets erlang-mnesia erlang-os-mon erlang-parsetools erlang-public-key erlang-runtime-tools erlang-snmp erlang-ssl erlang-syntax-tools erlang-tftp erlang-tools erlang-xmerl\nsudo apt install -y rabbitmq-server\n\n# Enable and start service\nsudo systemctl enable --now rabbitmq-server\n\n# Enable management plugin\nsudo rabbitmq-plugins enable rabbitmq_management\n\n# Configure firewall\nsudo ufw allow 5672\nsudo ufw allow 15672\n\n# Create admin user\nsudo rabbitmqctl add_user admin SecureAdminPassword123!\nsudo rabbitmqctl set_user_tags admin administrator\nsudo rabbitmqctl set_permissions -p / admin \".*\" \".*\" \".*\"\n\n# Remove guest user (security)\nsudo rabbitmqctl delete_user guest\n```\n\n### Arch Linux\n\n```bash\n# Install RabbitMQ from official repositories\nsudo pacman -S rabbitmq\n\n# Install Erlang (dependency)\nsudo pacman -S erlang-nox\n\n# Create rabbitmq user if not exists\nsudo useradd -r -s /sbin/nologin -d /var/lib/rabbitmq -c \"RabbitMQ messaging server\" rabbitmq\n\n# Enable and start service\nsudo systemctl enable --now rabbitmq\n\n# Enable management plugin\nsudo rabbitmq-plugins enable rabbitmq_management\n\n# Create admin user\nsudo rabbitmqctl add_user admin SecureAdminPassword123!\nsudo rabbitmqctl set_user_tags admin administrator\nsudo rabbitmqctl set_permissions -p / admin \".*\" \".*\" \".*\"\n\n# Remove guest user (security)\nsudo rabbitmqctl delete_user guest\n\n# Configuration location: /etc/rabbitmq/\n```\n\n### Alpine Linux\n\n```bash\n# Install RabbitMQ\napk add --no-cache rabbitmq-server rabbitmq-server-management\n\n# Install Erlang\napk add --no-cache erlang\n\n# Create rabbitmq user if not exists\nadduser -D -H -s /sbin/nologin -G rabbitmq rabbitmq\n\n# Set permissions\nchown -R rabbitmq:rabbitmq /var/lib/rabbitmq /var/log/rabbitmq\n\n# Enable and start service\nrc-update add rabbitmq default\nrc-service rabbitmq start\n\n# Enable management plugin\nrabbitmq-plugins enable rabbitmq_management\n\n# Create admin user\nrabbitmqctl add_user admin SecureAdminPassword123!\nrabbitmqctl set_user_tags admin administrator\nrabbitmqctl set_permissions -p / admin \".*\" \".*\" \".*\"\n\n# Remove guest user (security)\nrabbitmqctl delete_user guest\n```\n\n### openSUSE/SLES\n\n```bash\n# openSUSE Leap/Tumbleweed\nsudo zypper install -y rabbitmq-server erlang\n\n# SLES 15\nsudo SUSEConnect -p sle-module-server-applications/15.5/x86_64\nsudo zypper install -y rabbitmq-server erlang\n\n# Enable and start service\nsudo systemctl enable --now rabbitmq-server\n\n# Enable management plugin\nsudo rabbitmq-plugins enable rabbitmq_management\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=5672/tcp\nsudo firewall-cmd --permanent --add-port=15672/tcp\nsudo firewall-cmd --reload\n\n# Create admin user\nsudo rabbitmqctl add_user admin SecureAdminPassword123!\nsudo rabbitmqctl set_user_tags admin administrator\nsudo rabbitmqctl set_permissions -p / admin \".*\" \".*\" \".*\"\n\n# Remove guest user (security)\nsudo rabbitmqctl delete_user guest\n```\n\n### macOS\n\n```bash\n# Using Homebrew\nbrew install rabbitmq\n\n# Start RabbitMQ service\nbrew services start rabbitmq\n\n# Or run manually\nsudo rabbitmq-server\n\n# Enable management plugin\nsudo rabbitmq-plugins enable rabbitmq_management\n\n# Create admin user\nsudo rabbitmqctl add_user admin SecureAdminPassword123!\nsudo rabbitmqctl set_user_tags admin administrator\nsudo rabbitmqctl set_permissions -p / admin \".*\" \".*\" \".*\"\n\n# Remove guest user (security)\nsudo rabbitmqctl delete_user guest\n\n# Configuration location: /usr/local/etc/rabbitmq/\n# Alternative: /opt/homebrew/etc/rabbitmq/ (Apple Silicon)\n```\n\n### FreeBSD\n\n```bash\n# Using pkg\npkg install rabbitmq erlang\n\n# Using ports\ncd /usr/ports/net/rabbitmq\nmake install clean\n\n# Enable RabbitMQ\necho 'rabbitmq_enable=\"YES\"' \u003e\u003e /etc/rc.conf\n\n# Start service\nservice rabbitmq start\n\n# Enable management plugin\nrabbitmq-plugins enable rabbitmq_management\n\n# Create admin user\nrabbitmqctl add_user admin SecureAdminPassword123!\nrabbitmqctl set_user_tags admin administrator\nrabbitmqctl set_permissions -p / admin \".*\" \".*\" \".*\"\n\n# Remove guest user (security)\nrabbitmqctl delete_user guest\n\n# Configuration location: /usr/local/etc/rabbitmq/\n```\n\n### Windows\n\n```powershell\n# Method 1: Using Chocolatey\nchoco install rabbitmq\n\n# Method 2: Using Scoop\nscoop install rabbitmq\n\n# Method 3: Manual installation\n# Download from https://www.rabbitmq.com/download.html\n# Install Erlang first, then RabbitMQ\n\n# Install as Windows service (automatic with installer)\n# The service is named \"RabbitMQ\"\n\n# Enable management plugin\nrabbitmq-plugins.bat enable rabbitmq_management\n\n# Create admin user\nrabbitmqctl.bat add_user admin SecureAdminPassword123!\nrabbitmqctl.bat set_user_tags admin administrator\nrabbitmqctl.bat set_permissions -p / admin \".*\" \".*\" \".*\"\n\n# Remove guest user (security)\nrabbitmqctl.bat delete_user guest\n\n# Configuration location: %APPDATA%\\RabbitMQ\\\n```\n\n## Initial Configuration\n\n### First-Run Setup\n\n1. **Create rabbitmq user** (if not created by package):\n```bash\n# Linux systems\nsudo useradd -r -d /var/lib/rabbitmq -s /sbin/nologin -c \"RabbitMQ messaging server\" rabbitmq\n```\n\n2. **Default configuration locations**:\n- RHEL/CentOS/Rocky/AlmaLinux: `/etc/rabbitmq/rabbitmq.conf`\n- Debian/Ubuntu: `/etc/rabbitmq/rabbitmq.conf`\n- Arch Linux: `/etc/rabbitmq/rabbitmq.conf`\n- Alpine Linux: `/etc/rabbitmq/rabbitmq.conf`\n- openSUSE/SLES: `/etc/rabbitmq/rabbitmq.conf`\n- macOS: `/usr/local/etc/rabbitmq/rabbitmq.conf`\n- FreeBSD: `/usr/local/etc/rabbitmq/rabbitmq.conf`\n- Windows: `%APPDATA%\\RabbitMQ\\rabbitmq.conf`\n\n3. **Essential settings to change**:\n\n```ini\n# /etc/rabbitmq/rabbitmq.conf\n# Network and clustering\nlisteners.tcp.default = 5672\nmanagement.tcp.port = 15672\n\n# Security\nloopback_users.guest = false\ndefault_user = admin\ndefault_pass = SecureAdminPassword123!\n\n# Logging\nlog.file.level = info\nlog.file = /var/log/rabbitmq/rabbitmq.log\nlog.file.rotation.size = 10485760\n\n# Memory and disk limits\nvm_memory_high_watermark.relative = 0.6\ndisk_free_limit.absolute = 1GB\n\n# Message TTL and limits\ndefault_user_tags.administrator = true\nheartbeat = 60\n\n# Clustering (if multiple nodes)\ncluster_formation.peer_discovery_backend = rabbit_peer_discovery_classic_config\ncluster_formation.classic_config.nodes.1 = rabbit@node1\ncluster_formation.classic_config.nodes.2 = rabbit@node2\n```\n\n### Testing Initial Setup\n\n```bash\n# Check if RabbitMQ is running\nsudo systemctl status rabbitmq-server\n\n# Test connection\nrabbitmqctl status\n\n# Check cluster status\nrabbitmqctl cluster_status\n\n# List users\nrabbitmqctl list_users\n\n# List virtual hosts\nrabbitmqctl list_vhosts\n\n# Test management interface\ncurl -u admin:SecureAdminPassword123! http://localhost:15672/api/overview\n\n# Test AMQP connection\nrabbitmqctl eval 'rabbit_networking:tcp_listener_started(5672).'\n```\n\n**WARNING:** Remove or disable the default guest user and enable proper authentication!\n\n## Service Management\n\n### systemd (RHEL, Debian, Ubuntu, Arch, openSUSE)\n\n```bash\n# Enable RabbitMQ to start on boot\nsudo systemctl enable rabbitmq-server\n\n# Start RabbitMQ\nsudo systemctl start rabbitmq-server\n\n# Stop RabbitMQ\nsudo systemctl stop rabbitmq-server\n\n# Restart RabbitMQ\nsudo systemctl restart rabbitmq-server\n\n# Reload configuration (graceful)\nsudo rabbitmqctl eval 'application:stop(rabbitmq_management_agent), application:start(rabbitmq_management_agent).'\n\n# Check status\nsudo systemctl status rabbitmq-server\n\n# View logs\nsudo journalctl -u rabbitmq-server -f\n```\n\n### OpenRC (Alpine Linux)\n\n```bash\n# Enable RabbitMQ to start on boot\nrc-update add rabbitmq default\n\n# Start RabbitMQ\nrc-service rabbitmq start\n\n# Stop RabbitMQ\nrc-service rabbitmq stop\n\n# Restart RabbitMQ\nrc-service rabbitmq restart\n\n# Check status\nrc-service rabbitmq status\n\n# View logs\ntail -f /var/log/rabbitmq/rabbit@$(hostname).log\n```\n\n### rc.d (FreeBSD)\n\n```bash\n# Enable in /etc/rc.conf\necho 'rabbitmq_enable=\"YES\"' \u003e\u003e /etc/rc.conf\n\n# Start RabbitMQ\nservice rabbitmq start\n\n# Stop RabbitMQ\nservice rabbitmq stop\n\n# Restart RabbitMQ\nservice rabbitmq restart\n\n# Check status\nservice rabbitmq status\n```\n\n### launchd (macOS)\n\n```bash\n# Using Homebrew services\nbrew services start rabbitmq\nbrew services stop rabbitmq\nbrew services restart rabbitmq\n\n# Check status\nbrew services list | grep rabbitmq\n\n# Manual control\nsudo rabbitmq-server -detached\nsudo rabbitmqctl shutdown\n```\n\n### Windows Service Manager\n\n```powershell\n# Start RabbitMQ service\nnet start RabbitMQ\n\n# Stop RabbitMQ service\nnet stop RabbitMQ\n\n# Using PowerShell\nStart-Service RabbitMQ\nStop-Service RabbitMQ\nRestart-Service RabbitMQ\n\n# Check status\nGet-Service RabbitMQ\n\n# View logs\nGet-EventLog -LogName Application -Source RabbitMQ\n```\n\n## Advanced Configuration\n\n### High Availability Configuration\n\n```ini\n# Cluster configuration\ncluster_formation.peer_discovery_backend = rabbit_peer_discovery_classic_config\ncluster_formation.classic_config.nodes.1 = rabbit@rabbitmq-1\ncluster_formation.classic_config.nodes.2 = rabbit@rabbitmq-2\ncluster_formation.classic_config.nodes.3 = rabbit@rabbitmq-3\n\n# Enable quorum queues by default\ndefault_queue_type = quorum\n\n# HA policy for classic queues\nqueue_master_locator = min-masters\n```\n\n### Advanced Security Settings\n\n```ini\n# SSL/TLS configuration\nlisteners.ssl.default = 5671\nssl_options.cacertfile = /etc/rabbitmq/ssl/ca_certificate.pem\nssl_options.certfile = /etc/rabbitmq/ssl/server_certificate.pem\nssl_options.keyfile = /etc/rabbitmq/ssl/server_key.pem\nssl_options.verify = verify_peer\nssl_options.fail_if_no_peer_cert = true\n\n# Management over HTTPS\nmanagement.ssl.port = 15671\nmanagement.ssl.cacertfile = /etc/rabbitmq/ssl/ca_certificate.pem\nmanagement.ssl.certfile = /etc/rabbitmq/ssl/server_certificate.pem\nmanagement.ssl.keyfile = /etc/rabbitmq/ssl/server_key.pem\n\n# Authentication backends\nauth_backends.1 = rabbit_auth_backend_ldap\nauth_backends.2 = rabbit_auth_backend_internal\n\n# LDAP configuration\nauth_ldap.servers.1 = ldap.example.com\nauth_ldap.user_dn_pattern = cn=${username},ou=users,dc=example,dc=com\n```\n\n## Reverse Proxy Setup\n\n### nginx Configuration\n\n```nginx\n# /etc/nginx/sites-available/rabbitmq\nupstream rabbitmq_management {\n    server 127.0.0.1:15672 max_fails=3 fail_timeout=30s;\n    server 127.0.0.1:15673 max_fails=3 fail_timeout=30s backup;\n}\n\nserver {\n    listen 80;\n    server_name rabbitmq.example.com;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name rabbitmq.example.com;\n\n    ssl_certificate /etc/letsencrypt/live/rabbitmq.example.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/rabbitmq.example.com/privkey.pem;\n\n    location / {\n        proxy_pass http://rabbitmq_management;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        \n        # WebSocket support for management UI\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n    }\n}\n```\n\n### HAProxy Configuration\n\n```haproxy\n# /etc/haproxy/haproxy.cfg\nfrontend rabbitmq_management_frontend\n    bind *:80\n    bind *:443 ssl crt /etc/ssl/certs/rabbitmq.pem\n    redirect scheme https if !{ ssl_fc }\n    default_backend rabbitmq_management_servers\n\nbackend rabbitmq_management_servers\n    mode http\n    balance roundrobin\n    option httpchk GET /api/aliveness-test/%2F\n    server rabbitmq1 127.0.0.1:15672 check\n    server rabbitmq2 127.0.0.1:15673 check backup\n\nfrontend rabbitmq_amqp_frontend\n    bind *:5672\n    mode tcp\n    default_backend rabbitmq_amqp_servers\n\nbackend rabbitmq_amqp_servers\n    mode tcp\n    balance roundrobin\n    server rabbitmq1 127.0.0.1:5672 check\n    server rabbitmq2 127.0.0.1:5673 check backup\n```\n\n## Security Configuration\n\n### SSL/TLS Setup\n\n```bash\n# Generate SSL certificates for RabbitMQ\nsudo mkdir -p /etc/rabbitmq/ssl\n\n# Create CA certificate\nsudo openssl genrsa -out /etc/rabbitmq/ssl/ca_key.pem 4096\nsudo openssl req -new -x509 -days 3650 -key /etc/rabbitmq/ssl/ca_key.pem -out /etc/rabbitmq/ssl/ca_certificate.pem -subj \"/C=US/ST=State/L=City/O=Organization/CN=RabbitMQ-CA\"\n\n# Create server certificate\nsudo openssl genrsa -out /etc/rabbitmq/ssl/server_key.pem 4096\nsudo openssl req -new -key /etc/rabbitmq/ssl/server_key.pem -out /etc/rabbitmq/ssl/server_certificate_request.pem -subj \"/C=US/ST=State/L=City/O=Organization/CN=rabbitmq.example.com\"\nsudo openssl x509 -req -in /etc/rabbitmq/ssl/server_certificate_request.pem -CA /etc/rabbitmq/ssl/ca_certificate.pem -CAkey /etc/rabbitmq/ssl/ca_key.pem -CAcreateserial -out /etc/rabbitmq/ssl/server_certificate.pem -days 365\n\n# Create client certificate\nsudo openssl genrsa -out /etc/rabbitmq/ssl/client_key.pem 4096\nsudo openssl req -new -key /etc/rabbitmq/ssl/client_key.pem -out /etc/rabbitmq/ssl/client_certificate_request.pem -subj \"/C=US/ST=State/L=City/O=Organization/CN=rabbitmq-client\"\nsudo openssl x509 -req -in /etc/rabbitmq/ssl/client_certificate_request.pem -CA /etc/rabbitmq/ssl/ca_certificate.pem -CAkey /etc/rabbitmq/ssl/ca_key.pem -CAcreateserial -out /etc/rabbitmq/ssl/client_certificate.pem -days 365\n\n# Set permissions\nsudo chown -R rabbitmq:rabbitmq /etc/rabbitmq/ssl\nsudo chmod 600 /etc/rabbitmq/ssl/*_key.pem\nsudo chmod 644 /etc/rabbitmq/ssl/*_certificate.pem /etc/rabbitmq/ssl/ca_certificate.pem\n```\n\n### User Management and Access Control\n\n```bash\n# Create application user\nsudo rabbitmqctl add_user myapp SecureAppPassword123!\nsudo rabbitmqctl set_permissions -p / myapp \"myapp\\..*\" \"myapp\\..*\" \"myapp\\..*\"\n\n# Create monitoring user\nsudo rabbitmqctl add_user monitoring MonitorPassword123!\nsudo rabbitmqctl set_user_tags monitoring monitoring\nsudo rabbitmqctl set_permissions -p / monitoring \"\" \"\" \".*\"\n\n# Create backup user\nsudo rabbitmqctl add_user backup BackupPassword123!\nsudo rabbitmqctl set_user_tags backup management\nsudo rabbitmqctl set_permissions -p / backup \"\" \"\" \".*\"\n\n# Create virtual hosts\nsudo rabbitmqctl add_vhost production\nsudo rabbitmqctl add_vhost staging\n\n# Set permissions for virtual hosts\nsudo rabbitmqctl set_permissions -p production myapp \".*\" \".*\" \".*\"\nsudo rabbitmqctl set_permissions -p staging myapp \".*\" \".*\" \".*\"\n\n# Set resource limits\nsudo rabbitmqctl set_user_limits myapp '{\"max-connections\": 100, \"max-channels\": 1000}'\n```\n\n### Firewall Rules\n\n```bash\n# UFW (Ubuntu/Debian)\nsudo ufw allow from 192.168.1.0/24 to any port 5672\nsudo ufw allow from 192.168.1.0/24 to any port 15672\nsudo ufw reload\n\n# firewalld (RHEL/CentOS/openSUSE)\nsudo firewall-cmd --permanent --new-zone=rabbitmq\nsudo firewall-cmd --permanent --zone=rabbitmq --add-source=192.168.1.0/24\nsudo firewall-cmd --permanent --zone=rabbitmq --add-port=5672/tcp\nsudo firewall-cmd --permanent --zone=rabbitmq --add-port=15672/tcp\nsudo firewall-cmd --permanent --zone=rabbitmq --add-port=25672/tcp\nsudo firewall-cmd --reload\n\n# iptables\nsudo iptables -A INPUT -s 192.168.1.0/24 -p tcp --dport 5672 -j ACCEPT\nsudo iptables -A INPUT -s 192.168.1.0/24 -p tcp --dport 15672 -j ACCEPT\nsudo iptables -save \u003e /etc/iptables/rules.v4\n\n# pf (FreeBSD)\n# Add to /etc/pf.conf\npass in on $ext_if proto tcp from 192.168.1.0/24 to any port {5672, 15672, 25672}\n\n# Windows Firewall\nNew-NetFirewallRule -DisplayName \"RabbitMQ AMQP\" -Direction Inbound -Protocol TCP -LocalPort 5672 -RemoteAddress 192.168.1.0/24 -Action Allow\nNew-NetFirewallRule -DisplayName \"RabbitMQ Management\" -Direction Inbound -Protocol TCP -LocalPort 15672 -RemoteAddress 192.168.1.0/24 -Action Allow\n```\n\n## Database Setup\n\n### Queue and Exchange Configuration\n\n```bash\n# Create exchanges\nrabbitmqctl eval 'rabbit_exchange:declare({resource, \u003c\u003c\"/\"\u003e\u003e, exchange, \u003c\u003c\"logs\"\u003e\u003e}, topic, true, false, false, []).'\nrabbitmqctl eval 'rabbit_exchange:declare({resource, \u003c\u003c\"/\"\u003e\u003e, exchange, \u003c\u003c\"tasks\"\u003e\u003e}, direct, true, false, false, []).'\n\n# Create queues\nrabbitmqctl eval 'rabbit_amqqueue:declare({resource, \u003c\u003c\"/\"\u003e\u003e, queue, \u003c\u003c\"error_logs\"\u003e\u003e}, true, false, [], none, \u003c\u003c\"/\"\u003e\u003e).'\nrabbitmqctl eval 'rabbit_amqqueue:declare({resource, \u003c\u003c\"/\"\u003e\u003e, queue, \u003c\u003c\"task_queue\"\u003e\u003e}, true, false, [], none, \u003c\u003c\"/\"\u003e\u003e).'\n\n# Create bindings\nrabbitmqctl eval 'rabbit_binding:add({binding, {resource, \u003c\u003c\"/\"\u003e\u003e, exchange, \u003c\u003c\"logs\"\u003e\u003e}, \u003c\u003c\"error\"\u003e\u003e, {resource, \u003c\u003c\"/\"\u003e\u003e, queue, \u003c\u003c\"error_logs\"\u003e\u003e}, []}).'\n\n# Set queue policies for HA\nsudo rabbitmqctl set_policy ha-all \".*\" '{\"ha-mode\":\"all\",\"ha-sync-mode\":\"automatic\"}'\n\n# Set TTL policy\nsudo rabbitmqctl set_policy TTL \".*\" '{\"message-ttl\":3600000}' --apply-to queues\n\n# Set queue length limit\nsudo rabbitmqctl set_policy max-length \".*\" '{\"max-length\":10000}' --apply-to queues\n```\n\n### Shovel Configuration (Message Transfer)\n\n```bash\n# Install shovel plugin\nsudo rabbitmq-plugins enable rabbitmq_shovel\nsudo rabbitmq-plugins enable rabbitmq_shovel_management\n\n# Create shovel (via management API)\ncurl -u admin:SecureAdminPassword123! -X PUT \\\n  http://localhost:15672/api/parameters/shovel/%2F/my-shovel \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"value\": {\n      \"src-protocol\": \"amqp091\",\n      \"src-uri\": \"amqp://guest:guest@source-server:5672/%2F\",\n      \"src-queue\": \"source-queue\",\n      \"dest-protocol\": \"amqp091\",\n      \"dest-uri\": \"amqp://guest:guest@dest-server:5672/%2F\",\n      \"dest-queue\": \"dest-queue\"\n    }\n  }'\n```\n\n## Performance Optimization\n\n### System Tuning\n\n```bash\n# RabbitMQ-specific system optimizations\nsudo tee -a /etc/sysctl.conf \u003c\u003cEOF\n# RabbitMQ optimizations\nvm.swappiness = 1\nnet.core.somaxconn = 4096\nnet.ipv4.tcp_fin_timeout = 30\nnet.ipv4.tcp_tw_reuse = 1\nfs.file-max = 100000\nEOF\n\nsudo sysctl -p\n\n# Increase file descriptor limits\nsudo tee -a /etc/security/limits.conf \u003c\u003cEOF\nrabbitmq soft nofile 65536\nrabbitmq hard nofile 65536\nEOF\n\n# Set Erlang VM parameters\nsudo tee /etc/rabbitmq/rabbitmq-env.conf \u003c\u003cEOF\nRABBITMQ_SERVER_ERL_ARGS=\"+K true +A 128 +P 1048576\"\nRABBITMQ_CTL_ERL_ARGS=\"+K true\"\nEOF\n```\n\n### RabbitMQ Performance Configuration\n\n```ini\n# High-performance RabbitMQ configuration\n# /etc/rabbitmq/rabbitmq.conf\n\n# Memory and disk\nvm_memory_high_watermark.relative = 0.4\nvm_memory_high_watermark_paging_ratio = 0.3\ndisk_free_limit.absolute = 2GB\n\n# Clustering and replication\ncluster_partition_handling = pause_minority\ncluster_keepalive_interval = 10000\n\n# Connection and channel limits\nconnection_max = 65536\nchannel_max = 2047\n\n# Message store\nmsg_store_file_size_limit = 16777216\nqueue_index_embed_msgs_below = 4096\n\n# Lazy queues (for large queues)\nlazy_queue_explicit_gc_run_operation_threshold = 1000\n\n# Mnesia table loading\nmnesia_table_loading_retry_timeout = 30000\nmnesia_table_loading_retry_limit = 10\n```\n\n### Queue Optimization\n\n```bash\n# Enable lazy queues for large message backlogs\nrabbitmqctl set_policy lazy-queue \".*\" '{\"queue-mode\":\"lazy\"}' --apply-to queues\n\n# Configure quorum queues for better consistency\nrabbitmqctl set_policy quorum-queue \".*\" '{\"queue-type\":\"quorum\"}' --apply-to queues\n\n# Set delivery limits to prevent poison messages\nrabbitmqctl set_policy delivery-limit \".*\" '{\"delivery-limit\":10}' --apply-to queues\n\n# Configure stream queues for high throughput\nrabbitmqctl set_policy stream-queue \"stream.*\" '{\"queue-type\":\"stream\"}' --apply-to queues\n```\n\n## Monitoring\n\n### Built-in Monitoring\n\n```bash\n# Node status and statistics\nrabbitmqctl status\nrabbitmqctl node_health_check\nrabbitmqctl environment\n\n# Queue monitoring\nrabbitmqctl list_queues name messages consumers memory\nrabbitmqctl list_exchanges name type\nrabbitmqctl list_bindings\n\n# Connection monitoring\nrabbitmqctl list_connections peer_host peer_port state channels\nrabbitmqctl list_channels connection name consumer_count messages_unacknowledged\n\n# Cluster monitoring\nrabbitmqctl cluster_status\nrabbitmqctl list_cluster_nodes\n\n# Memory and disk usage\nrabbitmqctl eval 'rabbit_vm:memory().'\nrabbitmqctl eval 'rabbit_disk_monitor:get_disk_free().'\n```\n\n### External Monitoring Setup\n\n```bash\n# Install RabbitMQ Exporter for Prometheus\nwget https://github.com/kbudde/rabbitmq_exporter/releases/download/v1.0.0/rabbitmq_exporter-1.0.0.linux-amd64.tar.gz\ntar xzf rabbitmq_exporter-*.tar.gz\nsudo cp rabbitmq_exporter /usr/local/bin/\n\n# Create monitoring user in RabbitMQ\nsudo rabbitmqctl add_user prometheus PrometheusPassword123!\nsudo rabbitmqctl set_user_tags prometheus monitoring\n\n# Create systemd service\nsudo tee /etc/systemd/system/rabbitmq_exporter.service \u003c\u003cEOF\n[Unit]\nDescription=RabbitMQ Exporter\nAfter=network.target\n\n[Service]\nType=simple\nUser=rabbitmq\nEnvironment=RABBIT_URL=\"http://prometheus:PrometheusPassword123!@localhost:15672\"\nExecStart=/usr/local/bin/rabbitmq_exporter\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsudo systemctl enable --now rabbitmq_exporter\n```\n\n### Health Check Scripts\n\n```bash\n#!/bin/bash\n# rabbitmq-health-check.sh\n\n# Check RabbitMQ service\nif ! systemctl is-active rabbitmq-server \u003e/dev/null 2\u003e\u00261; then\n    echo \"CRITICAL: RabbitMQ service is not running\"\n    exit 2\nfi\n\n# Check node health\nif ! rabbitmqctl node_health_check \u003e/dev/null 2\u003e\u00261; then\n    echo \"CRITICAL: RabbitMQ node health check failed\"\n    exit 2\nfi\n\n# Check cluster status\nCLUSTER_STATUS=$(rabbitmqctl cluster_status --formatter json 2\u003e/dev/null | jq -r '.running_nodes | length')\nif [ \"$CLUSTER_STATUS\" -lt 2 ]; then\n    echo \"WARNING: Less than 2 nodes running in cluster\"\n    exit 1\nfi\n\n# Check memory usage\nMEMORY_ALARM=$(rabbitmqctl status --formatter json 2\u003e/dev/null | jq -r '.alarms | length')\nif [ \"$MEMORY_ALARM\" -gt 0 ]; then\n    echo \"WARNING: Memory alarms detected\"\n    exit 1\nfi\n\n# Check disk space\nDISK_ALARM=$(rabbitmqctl status --formatter json 2\u003e/dev/null | jq -r '.disk_free_alarm')\nif [ \"$DISK_ALARM\" = \"true\" ]; then\n    echo \"WARNING: Disk space alarm active\"\n    exit 1\nfi\n\n# Check queue lengths\nMAX_QUEUE_LENGTH=$(rabbitmqctl list_queues messages --formatter json 2\u003e/dev/null | jq -r 'max_by(.messages).messages')\nif [ \"$MAX_QUEUE_LENGTH\" -gt 100000 ]; then\n    echo \"WARNING: Queue length exceeds 100,000 messages\"\n    exit 1\nfi\n\necho \"OK: RabbitMQ is healthy\"\nexit 0\n```\n\n## Backup and Restore\n\n### Backup Procedures\n\n```bash\n#!/bin/bash\n# rabbitmq-backup.sh\n\nBACKUP_DIR=\"/backup/rabbitmq/$(date +%Y%m%d_%H%M%S)\"\nmkdir -p \"$BACKUP_DIR\"\n\n# Export definitions (exchanges, queues, users, policies)\ncurl -u admin:SecureAdminPassword123! \\\n    http://localhost:15672/api/definitions \\\n    -o \"$BACKUP_DIR/definitions.json\"\n\n# Export queue messages (if needed for small queues)\nrabbitmqctl eval \"\n    application:load(rabbitmq_management_agent),\n    rabbitmq_management_db:get_all_queues(all_vhosts).\n\" \u003e \"$BACKUP_DIR/queue_stats.txt\"\n\n# Backup configuration files\ntar czf \"$BACKUP_DIR/rabbitmq-config.tar.gz\" \\\n    /etc/rabbitmq/ \\\n    --exclude='*.log' \\\n    --exclude='*.pid'\n\n# Backup SSL certificates\nif [ -d /etc/rabbitmq/ssl ]; then\n    tar czf \"$BACKUP_DIR/rabbitmq-ssl.tar.gz\" /etc/rabbitmq/ssl/\nfi\n\n# Save cluster information\nrabbitmqctl cluster_status \u003e \"$BACKUP_DIR/cluster_status.txt\"\nrabbitmqctl status \u003e \"$BACKUP_DIR/node_status.txt\"\n\n# Create manifest\necho \"RabbitMQ Backup - $(date)\" \u003e \"$BACKUP_DIR/backup_manifest.txt\"\necho \"Node: $(hostname)\" \u003e\u003e \"$BACKUP_DIR/backup_manifest.txt\"\necho \"Version: $(rabbitmqctl version)\" \u003e\u003e \"$BACKUP_DIR/backup_manifest.txt\"\n\necho \"Backup completed: $BACKUP_DIR\"\n```\n\n### Restore Procedures\n\n```bash\n#!/bin/bash\n# rabbitmq-restore.sh\n\nBACKUP_DIR=\"$1\"\nif [ -z \"$BACKUP_DIR\" ]; then\n    echo \"Usage: $0 \u003cbackup-directory\u003e\"\n    exit 1\nfi\n\n# Stop RabbitMQ (ensure clean state)\nsudo systemctl stop rabbitmq-server\n\n# Restore configuration\nsudo tar xzf \"$BACKUP_DIR/rabbitmq-config.tar.gz\" -C /\n\n# Restore SSL certificates\nif [ -f \"$BACKUP_DIR/rabbitmq-ssl.tar.gz\" ]; then\n    sudo tar xzf \"$BACKUP_DIR/rabbitmq-ssl.tar.gz\" -C /\nfi\n\n# Start RabbitMQ\nsudo systemctl start rabbitmq-server\n\n# Wait for RabbitMQ to start\nsleep 10\n\n# Import definitions\ncurl -u admin:SecureAdminPassword123! \\\n    -X POST \\\n    -H \"Content-Type: application/json\" \\\n    -d @\"$BACKUP_DIR/definitions.json\" \\\n    http://localhost:15672/api/definitions\n\n# Verify restore\nrabbitmqctl list_queues\nrabbitmqctl list_users\n\necho \"Restore completed from $BACKUP_DIR\"\n```\n\n### Message-Level Backup (Advanced)\n\n```bash\n#!/bin/bash\n# rabbitmq-message-backup.sh\n\nBACKUP_DIR=\"/backup/rabbitmq-messages/$(date +%Y%m%d_%H%M%S)\"\nmkdir -p \"$BACKUP_DIR\"\n\n# Install shovel plugin for message transfer\nrabbitmq-plugins enable rabbitmq_shovel\nrabbitmq-plugins enable rabbitmq_shovel_management\n\n# Backup messages from all queues\nrabbitmqctl list_queues name --formatter json | jq -r '.[].name' | while read -r queue; do\n    if [ \"$queue\" != \"null\" ]; then\n        # Create shovel to backup queue\n        curl -u admin:SecureAdminPassword123! -X PUT \\\n            \"http://localhost:15672/api/parameters/shovel/%2F/backup-$queue\" \\\n            -H \"Content-Type: application/json\" \\\n            -d \"{\n                \\\"value\\\": {\n                    \\\"src-protocol\\\": \\\"amqp091\\\",\n                    \\\"src-uri\\\": \\\"amqp://admin:SecureAdminPassword123!@localhost:5672/%2F\\\",\n                    \\\"src-queue\\\": \\\"$queue\\\",\n                    \\\"dest-protocol\\\": \\\"amqp091\\\",\n                    \\\"dest-uri\\\": \\\"amqp://backup:BackupPassword123!@backup-server:5672/%2F\\\",\n                    \\\"dest-queue\\\": \\\"backup-$queue\\\"\n                }\n            }\"\n    fi\ndone\n\necho \"Message backup shovels created for all queues\"\n```\n\n## Troubleshooting\n\n### Common Issues\n\n1. **RabbitMQ won't start**:\n```bash\n# Check logs\nsudo journalctl -u rabbitmq-server -f\nsudo tail -f /var/log/rabbitmq/rabbit@$(hostname).log\n\n# Check Erlang installation\nerl -version\n\n# Check disk space\ndf -h /var/lib/rabbitmq\n\n# Check permissions\nls -la /var/lib/rabbitmq\nls -la /var/log/rabbitmq\n\n# Reset node (last resort)\nsudo rabbitmqctl stop_app\nsudo rabbitmqctl reset\nsudo rabbitmqctl start_app\n```\n\n2. **Cluster issues**:\n```bash\n# Check cluster status\nrabbitmqctl cluster_status\n\n# Check network connectivity between nodes\ntelnet rabbitmq-node-2 25672\n\n# Check Erlang cookie consistency\nsudo cat /var/lib/rabbitmq/.erlang.cookie\n\n# Force cluster join\nsudo rabbitmqctl stop_app\nsudo rabbitmqctl join_cluster rabbit@rabbitmq-node-1\nsudo rabbitmqctl start_app\n```\n\n3. **Memory/disk alarms**:\n```bash\n# Check alarms\nrabbitmqctl status | grep alarms\n\n# Check memory usage\nrabbitmqctl eval 'rabbit_vm:memory().'\n\n# Check disk usage\ndf -h /var/lib/rabbitmq\n\n# Clear memory alarm (after fixing issue)\nrabbitmqctl eval 'vm_memory_monitor:set_vm_memory_high_watermark(0.4).'\n```\n\n4. **Connection issues**:\n```bash\n# Check if RabbitMQ is listening\nsudo ss -tlnp | grep :5672\n\n# Test AMQP connection\nrabbitmqctl eval 'rabbit_networking:tcp_listener_started(5672).'\n\n# Check user permissions\nrabbitmqctl list_user_permissions admin\n\n# Test with management API\ncurl -u admin:SecureAdminPassword123! http://localhost:15672/api/overview\n```\n\n### Debug Mode\n\n```bash\n# Enable debug logging\necho 'log.file.level = debug' \u003e\u003e /etc/rabbitmq/rabbitmq.conf\n\n# Enable connection logging\necho 'log.connection.level = debug' \u003e\u003e /etc/rabbitmq/rabbitmq.conf\n\n# Enable channel logging  \necho 'log.channel.level = debug' \u003e\u003e /etc/rabbitmq/rabbitmq.conf\n\n# Restart to apply\nsudo systemctl restart rabbitmq-server\n\n# View debug logs\nsudo tail -f /var/log/rabbitmq/rabbit@$(hostname).log\n```\n\n## Maintenance\n\n### Update Procedures\n\n```bash\n# RHEL/CentOS/Rocky/AlmaLinux\nsudo yum check-update rabbitmq-server\nsudo yum update rabbitmq-server\n\n# Debian/Ubuntu\nsudo apt update\nsudo apt upgrade rabbitmq-server\n\n# Arch Linux\nsudo pacman -Syu rabbitmq\n\n# Alpine Linux\napk update\napk upgrade rabbitmq-server\n\n# openSUSE\nsudo zypper update rabbitmq-server\n\n# FreeBSD\npkg update\npkg upgrade rabbitmq\n\n# Always backup before updates\n./rabbitmq-backup.sh\n\n# Test after updates\nrabbitmqctl status\nsudo systemctl restart rabbitmq-server\n```\n\n### Maintenance Tasks\n\n```bash\n# Weekly maintenance script\n#!/bin/bash\n# rabbitmq-maintenance.sh\n\n# Rotate logs\nrabbitmqctl rotate_logs\n\n# Check node health\nrabbitmqctl node_health_check\n\n# Clean up old definitions backup\nfind /backup/rabbitmq -name \"*.json\" -mtime +30 -delete\n\n# Optimize memory usage\nrabbitmqctl eval 'erlang:garbage_collect().'\n\n# Check and clean old message store files\nrabbitmqctl eval 'rabbit_msg_store_gc:gc().'\n\n# Check queue statistics\nrabbitmqctl list_queues name messages consumers memory | \\\n    awk '$2 \u003e 1000 {print \"Queue \" $1 \" has \" $2 \" messages\"}'\n\necho \"RabbitMQ maintenance completed\"\n```\n\n### Health Monitoring\n\n```bash\n# Create monitoring cron job\necho \"*/5 * * * * /usr/local/bin/rabbitmq-health-check.sh\" | sudo crontab -\n\n# Log rotation\nsudo tee /etc/logrotate.d/rabbitmq \u003c\u003cEOF\n/var/log/rabbitmq/*.log {\n    daily\n    rotate 30\n    compress\n    delaycompress\n    missingok\n    notifempty\n    sharedscripts\n    postrotate\n        rabbitmqctl rotate_logs\n    endscript\n}\nEOF\n```\n\n## Integration Examples\n\n### Python (pika) Integration\n\n```python\nimport pika\nimport ssl\n\n# Basic connection\nconnection = pika.BlockingConnection(\n    pika.ConnectionParameters(host='localhost', port=5672,\n                            credentials=pika.PlainCredentials('myapp', 'SecureAppPassword123!'))\n)\nchannel = connection.channel()\n\n# SSL connection\nssl_context = ssl.create_default_context(cafile='/etc/rabbitmq/ssl/ca_certificate.pem')\nssl_context.check_hostname = False\n\nssl_connection = pika.BlockingConnection(\n    pika.ConnectionParameters(\n        host='localhost',\n        port=5671,\n        credentials=pika.PlainCredentials('myapp', 'SecureAppPassword123!'),\n        ssl_options=pika.SSLOptions(ssl_context)\n    )\n)\n\n# Declare queue and exchange\nchannel.exchange_declare(exchange='task_exchange', exchange_type='direct')\nchannel.queue_declare(queue='task_queue', durable=True)\nchannel.queue_bind(exchange='task_exchange', queue='task_queue', routing_key='task')\n\n# Publish message\nchannel.basic_publish(\n    exchange='task_exchange',\n    routing_key='task',\n    body='Hello, RabbitMQ!',\n    properties=pika.BasicProperties(delivery_mode=2)  # Make message persistent\n)\n\n# Consume messages\ndef callback(ch, method, properties, body):\n    print(f\"Received: {body}\")\n    ch.basic_ack(delivery_tag=method.delivery_tag)\n\nchannel.basic_qos(prefetch_count=1)\nchannel.basic_consume(queue='task_queue', on_message_callback=callback)\nchannel.start_consuming()\n```\n\n### Node.js (amqplib) Integration\n\n```javascript\nconst amqp = require('amqplib');\nconst fs = require('fs');\n\n// Basic connection\nasync function connectBasic() {\n    const connection = await amqp.connect('amqp://myapp:SecureAppPassword123!@localhost:5672');\n    return connection;\n}\n\n// SSL connection\nasync function connectSSL() {\n    const connection = await amqp.connect({\n        protocol: 'amqps',\n        hostname: 'localhost',\n        port: 5671,\n        username: 'myapp',\n        password: 'SecureAppPassword123!',\n        ca: [fs.readFileSync('/etc/rabbitmq/ssl/ca_certificate.pem')],\n        cert: fs.readFileSync('/etc/rabbitmq/ssl/client_certificate.pem'),\n        key: fs.readFileSync('/etc/rabbitmq/ssl/client_key.pem')\n    });\n    return connection;\n}\n\n// Publisher\nasync function publishMessage() {\n    const connection = await connectBasic();\n    const channel = await connection.createChannel();\n    \n    const exchange = 'task_exchange';\n    const routingKey = 'task';\n    const message = 'Hello from Node.js!';\n    \n    await channel.assertExchange(exchange, 'direct', { durable: true });\n    await channel.publish(exchange, routingKey, Buffer.from(message), { persistent: true });\n    \n    console.log('Message sent');\n    await channel.close();\n    await connection.close();\n}\n\n// Consumer\nasync function consumeMessages() {\n    const connection = await connectBasic();\n    const channel = await connection.createChannel();\n    \n    const queue = 'task_queue';\n    \n    await channel.assertQueue(queue, { durable: true });\n    await channel.prefetch(1);\n    \n    console.log('Waiting for messages...');\n    \n    channel.consume(queue, async (message) =\u003e {\n        if (message) {\n            console.log('Received:', message.content.toString());\n            // Process message\n            channel.ack(message);\n        }\n    });\n}\n```\n\n### Java (Spring AMQP) Integration\n\n```java\n// Configuration\n@Configuration\n@EnableRabbit\npublic class RabbitConfig {\n    \n    @Bean\n    public ConnectionFactory connectionFactory() {\n        CachingConnectionFactory factory = new CachingConnectionFactory(\"localhost\");\n        factory.setPort(5672);\n        factory.setUsername(\"myapp\");\n        factory.setPassword(\"SecureAppPassword123!\");\n        factory.setVirtualHost(\"/\");\n        return factory;\n    }\n    \n    @Bean\n    public RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory) {\n        RabbitTemplate template = new RabbitTemplate(connectionFactory);\n        template.setMandatory(true);\n        return template;\n    }\n    \n    @Bean\n    public DirectExchange taskExchange() {\n        return new DirectExchange(\"task_exchange\", true, false);\n    }\n    \n    @Bean\n    public Queue taskQueue() {\n        return QueueBuilder.durable(\"task_queue\").build();\n    }\n    \n    @Bean\n    public Binding taskBinding() {\n        return BindingBuilder.bind(taskQueue()).to(taskExchange()).with(\"task\");\n    }\n}\n\n// Producer\n@Service\npublic class MessageProducer {\n    \n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n    \n    public void sendMessage(String message) {\n        rabbitTemplate.convertAndSend(\"task_exchange\", \"task\", message);\n    }\n}\n\n// Consumer\n@Service\npublic class MessageConsumer {\n    \n    @RabbitListener(queues = \"task_queue\")\n    public void receiveMessage(String message) {\n        System.out.println(\"Received: \" + message);\n        // Process message\n    }\n}\n```\n\n### Go (amqp091-go) Integration\n\n```go\npackage main\n\nimport (\n    \"log\"\n    \"github.com/rabbitmq/amqp091-go\"\n)\n\nfunc connectRabbitMQ() (*amqp091.Connection, error) {\n    return amqp091.Dial(\"amqp://myapp:SecureAppPassword123!@localhost:5672/\")\n}\n\nfunc publishMessage(message string) error {\n    conn, err := connectRabbitMQ()\n    if err != nil {\n        return err\n    }\n    defer conn.Close()\n\n    ch, err := conn.Channel()\n    if err != nil {\n        return err\n    }\n    defer ch.Close()\n\n    // Declare exchange\n    err = ch.ExchangeDeclare(\n        \"task_exchange\",\n        \"direct\",\n        true,  // durable\n        false, // auto-deleted\n        false, // internal\n        false, // no-wait\n        nil,   // arguments\n    )\n    if err != nil {\n        return err\n    }\n\n    // Declare queue\n    _, err = ch.QueueDeclare(\n        \"task_queue\",\n        true,  // durable\n        false, // delete when unused\n        false, // exclusive\n        false, // no-wait\n        nil,   // arguments\n    )\n    if err != nil {\n        return err\n    }\n\n    // Publish message\n    return ch.Publish(\n        \"task_exchange\",\n        \"task\",\n        false, // mandatory\n        false, // immediate\n        amqp091.Publishing{\n            ContentType:  \"text/plain\",\n            Body:         []byte(message),\n            DeliveryMode: amqp091.Persistent,\n        },\n    )\n}\n\nfunc consumeMessages() error {\n    conn, err := connectRabbitMQ()\n    if err != nil {\n        return err\n    }\n    defer conn.Close()\n\n    ch, err := conn.Channel()\n    if err != nil {\n        return err\n    }\n    defer ch.Close()\n\n    msgs, err := ch.Consume(\n        \"task_queue\",\n        \"\",    // consumer\n        false, // auto-ack\n        false, // exclusive\n        false, // no-local\n        false, // no-wait\n        nil,   // args\n    )\n    if err != nil {\n        return err\n    }\n\n    forever := make(chan bool)\n\n    go func() {\n        for d := range msgs {\n            log.Printf(\"Received: %s\", d.Body)\n            // Process message\n            d.Ack(false)\n        }\n    }()\n\n    log.Printf(\"Waiting for messages...\")\n    \u003c-forever\n    return nil\n}\n```\n\n## Additional Resources\n\n- [Official RabbitMQ Documentation](https://www.rabbitmq.com/documentation.html)\n- [RabbitMQ Tutorials](https://www.rabbitmq.com/getstarted.html)\n- [RabbitMQ Management Plugin](https://www.rabbitmq.com/management.html)\n- [RabbitMQ Clustering Guide](https://www.rabbitmq.com/clustering.html)\n- [RabbitMQ High Availability](https://www.rabbitmq.com/ha.html)\n- [AMQP 0-9-1 Protocol Reference](https://www.rabbitmq.com/amqp-0-9-1-reference.html)\n- [RabbitMQ Community](https://www.rabbitmq.com/community.html)\n- [RabbitMQ GitHub Repository](https://github.com/rabbitmq/rabbitmq-server)\n\n---\n\n**Note:** This guide is part of the [HowToMgr](https://howtomgr.github.io) collection. Always refer to official documentation for the most up-to-date information.","readmeHtml":"\u003ch1 id=\"rabbitmq-installation-guide\" class=\"mobile-header\"\u003eRabbitMQ Installation Guide\u003c/h1\u003e\n\u003cp class=\"mobile-paragraph\"\u003eRabbitMQ is a free and open-source message-queueing software and broker written in Erlang. Originally developed by Rabbit Technologies and now owned by VMware, RabbitMQ implements the Advanced Message Queuing Protocol (AMQP) and provides message routing, queuing, and delivery guarantees. It serves as a FOSS alternative to commercial message brokers like IBM MQ, Oracle WebLogic Server, or Microsoft Azure Service Bus, offering enterprise-grade reliability, clustering, and high availability without licensing costs, with features like message persistence, flexible routing, and cross-language support.\u003c/p\u003e\n\u003ch2 id=\"prerequisites\" class=\"mobile-header\"\u003ePrerequisites\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eHardware Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eCPU: 2 cores minimum (4+ cores recommended for production)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eRAM: 1GB minimum (4GB+ recommended for production)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eStorage: 10GB minimum (SSD recommended for message persistence)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eNetwork: Stable connectivity for clustering setups\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eOperating System\u003c/strong\u003e: \u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eLinux: Any modern distribution with kernel 3.2+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003emacOS: 10.13+ (High Sierra or newer)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWindows: Windows Server 2016+ or Windows 10\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eFreeBSD: 11.0+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eNetwork Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 5672 (AMQP 0-9-1 and 1.0)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 15672 (HTTP Management API)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 25672 (Erlang distribution for clustering)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 4369 (EPMD - Erlang Port Mapper Daemon)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 35672-35682 (CLI tools)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eDependencies\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eErlang/OTP (version 23.2+ for RabbitMQ 3.9+)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003esystemd or compatible init system (Linux)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eRoot or administrative access for installation\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eSystem Access\u003c/strong\u003e: root or sudo privileges required\u003c/li\u003e\n\u003ch2 id=\"installation\" class=\"mobile-header\"\u003eInstallation\u003c/h2\u003e\n\u003ch3 id=\"rhelcentosrocky-linuxalmalinux\" class=\"mobile-header\"\u003eRHEL/CentOS/Rocky Linux/AlmaLinux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Add RabbitMQ repository\ncurl -s https://packagecloud.io/install/repositories/rabbitmq/rabbitmq-server/script.rpm.sh | sudo bash\n\n# Add Erlang repository\ncurl -s https://packagecloud.io/install/repositories/rabbitmq/erlang/script.rpm.sh | sudo bash\n\n# Install Erlang\nsudo yum install -y erlang\n\n# Install RabbitMQ server\nsudo yum install -y rabbitmq-server\n\n# Enable and start service\nsudo systemctl enable --now rabbitmq-server\n\n# Enable management plugin\nsudo rabbitmq-plugins enable rabbitmq_management\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=5672/tcp\nsudo firewall-cmd --permanent --add-port=15672/tcp\nsudo firewall-cmd --permanent --add-port=25672/tcp\nsudo firewall-cmd --reload\n\n# Create admin user\nsudo rabbitmqctl add_user admin SecureAdminPassword123!\nsudo rabbitmqctl set_user_tags admin administrator\nsudo rabbitmqctl set_permissions -p / admin \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot;\n\n# Remove guest user (security)\nsudo rabbitmqctl delete_user guest\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"debianubuntu\" class=\"mobile-header\"\u003eDebian/Ubuntu\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Update package index\nsudo apt update\n\n# Install prerequisite packages\nsudo apt install -y curl gnupg apt-transport-https\n\n# Add RabbitMQ signing key\ncurl -fsSL https://keys.openpgp.org/vks/v1/by-fingerprint/0A9AF2115F4687BD29803A206B73A36E6026DFCA | sudo gpg --dearmor -o /usr/share/keyrings/com.rabbitmq.team.gpg\n\n# Add RabbitMQ repository\necho \u0026quot;deb [signed-by=/usr/share/keyrings/com.rabbitmq.team.gpg] https://ppa1.novemberain.com/rabbitmq/rabbitmq-server/deb/ubuntu $(lsb_release -cs) main\u0026quot; | sudo tee /etc/apt/sources.list.d/rabbitmq.list\n\n# Add Erlang repository\necho \u0026quot;deb [signed-by=/usr/share/keyrings/com.rabbitmq.team.gpg] https://ppa1.novemberain.com/rabbitmq/rabbitmq-erlang/deb/ubuntu $(lsb_release -cs) main\u0026quot; | sudo tee /etc/apt/sources.list.d/rabbitmq-erlang.list\n\n# Update package index\nsudo apt update\n\n# Install Erlang and RabbitMQ\nsudo apt install -y erlang-base erlang-asn1 erlang-crypto erlang-eldap erlang-ftp erlang-inets erlang-mnesia erlang-os-mon erlang-parsetools erlang-public-key erlang-runtime-tools erlang-snmp erlang-ssl erlang-syntax-tools erlang-tftp erlang-tools erlang-xmerl\nsudo apt install -y rabbitmq-server\n\n# Enable and start service\nsudo systemctl enable --now rabbitmq-server\n\n# Enable management plugin\nsudo rabbitmq-plugins enable rabbitmq_management\n\n# Configure firewall\nsudo ufw allow 5672\nsudo ufw allow 15672\n\n# Create admin user\nsudo rabbitmqctl add_user admin SecureAdminPassword123!\nsudo rabbitmqctl set_user_tags admin administrator\nsudo rabbitmqctl set_permissions -p / admin \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot;\n\n# Remove guest user (security)\nsudo rabbitmqctl delete_user guest\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"arch-linux\" class=\"mobile-header\"\u003eArch Linux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install RabbitMQ from official repositories\nsudo pacman -S rabbitmq\n\n# Install Erlang (dependency)\nsudo pacman -S erlang-nox\n\n# Create rabbitmq user if not exists\nsudo useradd -r -s /sbin/nologin -d /var/lib/rabbitmq -c \u0026quot;RabbitMQ messaging server\u0026quot; rabbitmq\n\n# Enable and start service\nsudo systemctl enable --now rabbitmq\n\n# Enable management plugin\nsudo rabbitmq-plugins enable rabbitmq_management\n\n# Create admin user\nsudo rabbitmqctl add_user admin SecureAdminPassword123!\nsudo rabbitmqctl set_user_tags admin administrator\nsudo rabbitmqctl set_permissions -p / admin \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot;\n\n# Remove guest user (security)\nsudo rabbitmqctl delete_user guest\n\n# Configuration location: /etc/rabbitmq/\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"alpine-linux\" class=\"mobile-header\"\u003eAlpine Linux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install RabbitMQ\napk add --no-cache rabbitmq-server rabbitmq-server-management\n\n# Install Erlang\napk add --no-cache erlang\n\n# Create rabbitmq user if not exists\nadduser -D -H -s /sbin/nologin -G rabbitmq rabbitmq\n\n# Set permissions\nchown -R rabbitmq:rabbitmq /var/lib/rabbitmq /var/log/rabbitmq\n\n# Enable and start service\nrc-update add rabbitmq default\nrc-service rabbitmq start\n\n# Enable management plugin\nrabbitmq-plugins enable rabbitmq_management\n\n# Create admin user\nrabbitmqctl add_user admin SecureAdminPassword123!\nrabbitmqctl set_user_tags admin administrator\nrabbitmqctl set_permissions -p / admin \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot;\n\n# Remove guest user (security)\nrabbitmqctl delete_user guest\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"opensusesles\" class=\"mobile-header\"\u003eopenSUSE/SLES\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# openSUSE Leap/Tumbleweed\nsudo zypper install -y rabbitmq-server erlang\n\n# SLES 15\nsudo SUSEConnect -p sle-module-server-applications/15.5/x86_64\nsudo zypper install -y rabbitmq-server erlang\n\n# Enable and start service\nsudo systemctl enable --now rabbitmq-server\n\n# Enable management plugin\nsudo rabbitmq-plugins enable rabbitmq_management\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=5672/tcp\nsudo firewall-cmd --permanent --add-port=15672/tcp\nsudo firewall-cmd --reload\n\n# Create admin user\nsudo rabbitmqctl add_user admin SecureAdminPassword123!\nsudo rabbitmqctl set_user_tags admin administrator\nsudo rabbitmqctl set_permissions -p / admin \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot;\n\n# Remove guest user (security)\nsudo rabbitmqctl delete_user guest\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"macos\" class=\"mobile-header\"\u003emacOS\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using Homebrew\nbrew install rabbitmq\n\n# Start RabbitMQ service\nbrew services start rabbitmq\n\n# Or run manually\nsudo rabbitmq-server\n\n# Enable management plugin\nsudo rabbitmq-plugins enable rabbitmq_management\n\n# Create admin user\nsudo rabbitmqctl add_user admin SecureAdminPassword123!\nsudo rabbitmqctl set_user_tags admin administrator\nsudo rabbitmqctl set_permissions -p / admin \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot;\n\n# Remove guest user (security)\nsudo rabbitmqctl delete_user guest\n\n# Configuration location: /usr/local/etc/rabbitmq/\n# Alternative: /opt/homebrew/etc/rabbitmq/ (Apple Silicon)\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"freebsd\" class=\"mobile-header\"\u003eFreeBSD\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using pkg\npkg install rabbitmq erlang\n\n# Using ports\ncd /usr/ports/net/rabbitmq\nmake install clean\n\n# Enable RabbitMQ\necho \u0026#039;rabbitmq_enable=\u0026quot;YES\u0026quot;\u0026#039; \u0026gt;\u0026gt; /etc/rc.conf\n\n# Start service\nservice rabbitmq start\n\n# Enable management plugin\nrabbitmq-plugins enable rabbitmq_management\n\n# Create admin user\nrabbitmqctl add_user admin SecureAdminPassword123!\nrabbitmqctl set_user_tags admin administrator\nrabbitmqctl set_permissions -p / admin \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot;\n\n# Remove guest user (security)\nrabbitmqctl delete_user guest\n\n# Configuration location: /usr/local/etc/rabbitmq/\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"windows\" class=\"mobile-header\"\u003eWindows\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"powershell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epowershell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-powershell\"\u003e# Method 1: Using Chocolatey\nchoco install rabbitmq\n\n# Method 2: Using Scoop\nscoop install rabbitmq\n\n# Method 3: Manual installation\n# Download from https://www.rabbitmq.com/download.html\n# Install Erlang first, then RabbitMQ\n\n# Install as Windows service (automatic with installer)\n# The service is named \u0026quot;RabbitMQ\u0026quot;\n\n# Enable management plugin\nrabbitmq-plugins.bat enable rabbitmq_management\n\n# Create admin user\nrabbitmqctl.bat add_user admin SecureAdminPassword123!\nrabbitmqctl.bat set_user_tags admin administrator\nrabbitmqctl.bat set_permissions -p / admin \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot;\n\n# Remove guest user (security)\nrabbitmqctl.bat delete_user guest\n\n# Configuration location: %APPDATA%\\RabbitMQ\\\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"initial-configuration\" class=\"mobile-header\"\u003eInitial Configuration\u003c/h2\u003e\n\u003ch3 id=\"first-run-setup\" class=\"mobile-header\"\u003eFirst-Run Setup\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e1. \u003cstrong\u003eCreate rabbitmq user\u003c/strong\u003e (if not created by package):\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Linux systems\nsudo useradd -r -d /var/lib/rabbitmq -s /sbin/nologin -c \u0026quot;RabbitMQ messaging server\u0026quot; rabbitmq\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e2. \u003cstrong\u003eDefault configuration locations\u003c/strong\u003e:\u003c/p\u003e\n\u003cli class=\"mobile-list-item\"\u003eRHEL/CentOS/Rocky/AlmaLinux: \u003ccode class=\"mobile-inline-code\"\u003e/etc/rabbitmq/rabbitmq.conf\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eDebian/Ubuntu: \u003ccode class=\"mobile-inline-code\"\u003e/etc/rabbitmq/rabbitmq.conf\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eArch Linux: \u003ccode class=\"mobile-inline-code\"\u003e/etc/rabbitmq/rabbitmq.conf\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eAlpine Linux: \u003ccode class=\"mobile-inline-code\"\u003e/etc/rabbitmq/rabbitmq.conf\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eopenSUSE/SLES: \u003ccode class=\"mobile-inline-code\"\u003e/etc/rabbitmq/rabbitmq.conf\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003emacOS: \u003ccode class=\"mobile-inline-code\"\u003e/usr/local/etc/rabbitmq/rabbitmq.conf\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eFreeBSD: \u003ccode class=\"mobile-inline-code\"\u003e/usr/local/etc/rabbitmq/rabbitmq.conf\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWindows: \u003ccode class=\"mobile-inline-code\"\u003e%APPDATA%\\RabbitMQ\\rabbitmq.conf\u003c/code\u003e\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e3. \u003cstrong\u003eEssential settings to change\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ini\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eini\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ini\"\u003e# /etc/rabbitmq/rabbitmq.conf\n# Network and clustering\nlisteners.tcp.default = 5672\nmanagement.tcp.port = 15672\n\n# Security\nloopback_users.guest = false\ndefault_user = admin\ndefault_pass = SecureAdminPassword123!\n\n# Logging\nlog.file.level = info\nlog.file = /var/log/rabbitmq/rabbitmq.log\nlog.file.rotation.size = 10485760\n\n# Memory and disk limits\nvm_memory_high_watermark.relative = 0.6\ndisk_free_limit.absolute = 1GB\n\n# Message TTL and limits\ndefault_user_tags.administrator = true\nheartbeat = 60\n\n# Clustering (if multiple nodes)\ncluster_formation.peer_discovery_backend = rabbit_peer_discovery_classic_config\ncluster_formation.classic_config.nodes.1 = rabbit@node1\ncluster_formation.classic_config.nodes.2 = rabbit@node2\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"testing-initial-setup\" class=\"mobile-header\"\u003eTesting Initial Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check if RabbitMQ is running\nsudo systemctl status rabbitmq-server\n\n# Test connection\nrabbitmqctl status\n\n# Check cluster status\nrabbitmqctl cluster_status\n\n# List users\nrabbitmqctl list_users\n\n# List virtual hosts\nrabbitmqctl list_vhosts\n\n# Test management interface\ncurl -u admin:SecureAdminPassword123! http://localhost:15672/api/overview\n\n# Test AMQP connection\nrabbitmqctl eval \u0026#039;rabbit_networking:tcp_listener_started(5672).\u0026#039;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eWARNING:\u003c/strong\u003e Remove or disable the default guest user and enable proper authentication!\u003c/p\u003e\n\u003ch2 id=\"service-management\" class=\"mobile-header\"\u003eService Management\u003c/h2\u003e\n\u003ch3 id=\"systemd-rhel-debian-ubuntu-arch-opensuse\" class=\"mobile-header\"\u003esystemd (RHEL, Debian, Ubuntu, Arch, openSUSE)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable RabbitMQ to start on boot\nsudo systemctl enable rabbitmq-server\n\n# Start RabbitMQ\nsudo systemctl start rabbitmq-server\n\n# Stop RabbitMQ\nsudo systemctl stop rabbitmq-server\n\n# Restart RabbitMQ\nsudo systemctl restart rabbitmq-server\n\n# Reload configuration (graceful)\nsudo rabbitmqctl eval \u0026#039;application:stop(rabbitmq_management_agent), application:start(rabbitmq_management_agent).\u0026#039;\n\n# Check status\nsudo systemctl status rabbitmq-server\n\n# View logs\nsudo journalctl -u rabbitmq-server -f\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"openrc-alpine-linux\" class=\"mobile-header\"\u003eOpenRC (Alpine Linux)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable RabbitMQ to start on boot\nrc-update add rabbitmq default\n\n# Start RabbitMQ\nrc-service rabbitmq start\n\n# Stop RabbitMQ\nrc-service rabbitmq stop\n\n# Restart RabbitMQ\nrc-service rabbitmq restart\n\n# Check status\nrc-service rabbitmq status\n\n# View logs\ntail -f /var/log/rabbitmq/rabbit@$(hostname).log\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"rcd-freebsd\" class=\"mobile-header\"\u003erc.d (FreeBSD)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable in /etc/rc.conf\necho \u0026#039;rabbitmq_enable=\u0026quot;YES\u0026quot;\u0026#039; \u0026gt;\u0026gt; /etc/rc.conf\n\n# Start RabbitMQ\nservice rabbitmq start\n\n# Stop RabbitMQ\nservice rabbitmq stop\n\n# Restart RabbitMQ\nservice rabbitmq restart\n\n# Check status\nservice rabbitmq status\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"launchd-macos\" class=\"mobile-header\"\u003elaunchd (macOS)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using Homebrew services\nbrew services start rabbitmq\nbrew services stop rabbitmq\nbrew services restart rabbitmq\n\n# Check status\nbrew services list | grep rabbitmq\n\n# Manual control\nsudo rabbitmq-server -detached\nsudo rabbitmqctl shutdown\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"windows-service-manager\" class=\"mobile-header\"\u003eWindows Service Manager\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"powershell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epowershell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-powershell\"\u003e# Start RabbitMQ service\nnet start RabbitMQ\n\n# Stop RabbitMQ service\nnet stop RabbitMQ\n\n# Using PowerShell\nStart-Service RabbitMQ\nStop-Service RabbitMQ\nRestart-Service RabbitMQ\n\n# Check status\nGet-Service RabbitMQ\n\n# View logs\nGet-EventLog -LogName Application -Source RabbitMQ\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"advanced-configuration\" class=\"mobile-header\"\u003eAdvanced Configuration\u003c/h2\u003e\n\u003ch3 id=\"high-availability-configuration\" class=\"mobile-header\"\u003eHigh Availability Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ini\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eini\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ini\"\u003e# Cluster configuration\ncluster_formation.peer_discovery_backend = rabbit_peer_discovery_classic_config\ncluster_formation.classic_config.nodes.1 = rabbit@rabbitmq-1\ncluster_formation.classic_config.nodes.2 = rabbit@rabbitmq-2\ncluster_formation.classic_config.nodes.3 = rabbit@rabbitmq-3\n\n# Enable quorum queues by default\ndefault_queue_type = quorum\n\n# HA policy for classic queues\nqueue_master_locator = min-masters\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"advanced-security-settings\" class=\"mobile-header\"\u003eAdvanced Security Settings\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ini\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eini\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ini\"\u003e# SSL/TLS configuration\nlisteners.ssl.default = 5671\nssl_options.cacertfile = /etc/rabbitmq/ssl/ca_certificate.pem\nssl_options.certfile = /etc/rabbitmq/ssl/server_certificate.pem\nssl_options.keyfile = /etc/rabbitmq/ssl/server_key.pem\nssl_options.verify = verify_peer\nssl_options.fail_if_no_peer_cert = true\n\n# Management over HTTPS\nmanagement.ssl.port = 15671\nmanagement.ssl.cacertfile = /etc/rabbitmq/ssl/ca_certificate.pem\nmanagement.ssl.certfile = /etc/rabbitmq/ssl/server_certificate.pem\nmanagement.ssl.keyfile = /etc/rabbitmq/ssl/server_key.pem\n\n# Authentication backends\nauth_backends.1 = rabbit_auth_backend_ldap\nauth_backends.2 = rabbit_auth_backend_internal\n\n# LDAP configuration\nauth_ldap.servers.1 = ldap.example.com\nauth_ldap.user_dn_pattern = cn=${username},ou=users,dc=example,dc=com\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"reverse-proxy-setup\" class=\"mobile-header\"\u003eReverse Proxy Setup\u003c/h2\u003e\n\u003ch3 id=\"nginx-configuration\" class=\"mobile-header\"\u003enginx Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"nginx\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003enginx\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-nginx\"\u003e# /etc/nginx/sites-available/rabbitmq\nupstream rabbitmq_management {\n    server 127.0.0.1:15672 max_fails=3 fail_timeout=30s;\n    server 127.0.0.1:15673 max_fails=3 fail_timeout=30s backup;\n}\n\nserver {\n    listen 80;\n    server_name rabbitmq.example.com;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name rabbitmq.example.com;\n\n    ssl_certificate /etc/letsencrypt/live/rabbitmq.example.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/rabbitmq.example.com/privkey.pem;\n\n    location / {\n        proxy_pass http://rabbitmq_management;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        \n        # WebSocket support for management UI\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \u0026quot;upgrade\u0026quot;;\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"haproxy-configuration\" class=\"mobile-header\"\u003eHAProxy Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"haproxy\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ehaproxy\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-haproxy\"\u003e# /etc/haproxy/haproxy.cfg\nfrontend rabbitmq_management_frontend\n    bind *:80\n    bind *:443 ssl crt /etc/ssl/certs/rabbitmq.pem\n    redirect scheme https if !{ ssl_fc }\n    default_backend rabbitmq_management_servers\n\nbackend rabbitmq_management_servers\n    mode http\n    balance roundrobin\n    option httpchk GET /api/aliveness-test/%2F\n    server rabbitmq1 127.0.0.1:15672 check\n    server rabbitmq2 127.0.0.1:15673 check backup\n\nfrontend rabbitmq_amqp_frontend\n    bind *:5672\n    mode tcp\n    default_backend rabbitmq_amqp_servers\n\nbackend rabbitmq_amqp_servers\n    mode tcp\n    balance roundrobin\n    server rabbitmq1 127.0.0.1:5672 check\n    server rabbitmq2 127.0.0.1:5673 check backup\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"security-configuration\" class=\"mobile-header\"\u003eSecurity Configuration\u003c/h2\u003e\n\u003ch3 id=\"ssltls-setup\" class=\"mobile-header\"\u003eSSL/TLS Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Generate SSL certificates for RabbitMQ\nsudo mkdir -p /etc/rabbitmq/ssl\n\n# Create CA certificate\nsudo openssl genrsa -out /etc/rabbitmq/ssl/ca_key.pem 4096\nsudo openssl req -new -x509 -days 3650 -key /etc/rabbitmq/ssl/ca_key.pem -out /etc/rabbitmq/ssl/ca_certificate.pem -subj \u0026quot;/C=US/ST=State/L=City/O=Organization/CN=RabbitMQ-CA\u0026quot;\n\n# Create server certificate\nsudo openssl genrsa -out /etc/rabbitmq/ssl/server_key.pem 4096\nsudo openssl req -new -key /etc/rabbitmq/ssl/server_key.pem -out /etc/rabbitmq/ssl/server_certificate_request.pem -subj \u0026quot;/C=US/ST=State/L=City/O=Organization/CN=rabbitmq.example.com\u0026quot;\nsudo openssl x509 -req -in /etc/rabbitmq/ssl/server_certificate_request.pem -CA /etc/rabbitmq/ssl/ca_certificate.pem -CAkey /etc/rabbitmq/ssl/ca_key.pem -CAcreateserial -out /etc/rabbitmq/ssl/server_certificate.pem -days 365\n\n# Create client certificate\nsudo openssl genrsa -out /etc/rabbitmq/ssl/client_key.pem 4096\nsudo openssl req -new -key /etc/rabbitmq/ssl/client_key.pem -out /etc/rabbitmq/ssl/client_certificate_request.pem -subj \u0026quot;/C=US/ST=State/L=City/O=Organization/CN=rabbitmq-client\u0026quot;\nsudo openssl x509 -req -in /etc/rabbitmq/ssl/client_certificate_request.pem -CA /etc/rabbitmq/ssl/ca_certificate.pem -CAkey /etc/rabbitmq/ssl/ca_key.pem -CAcreateserial -out /etc/rabbitmq/ssl/client_certificate.pem -days 365\n\n# Set permissions\nsudo chown -R rabbitmq:rabbitmq /etc/rabbitmq/ssl\nsudo chmod 600 /etc/rabbitmq/ssl/*_key.pem\nsudo chmod 644 /etc/rabbitmq/ssl/*_certificate.pem /etc/rabbitmq/ssl/ca_certificate.pem\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"user-management-and-access-control\" class=\"mobile-header\"\u003eUser Management and Access Control\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create application user\nsudo rabbitmqctl add_user myapp SecureAppPassword123!\nsudo rabbitmqctl set_permissions -p / myapp \u0026quot;myapp\\..*\u0026quot; \u0026quot;myapp\\..*\u0026quot; \u0026quot;myapp\\..*\u0026quot;\n\n# Create monitoring user\nsudo rabbitmqctl add_user monitoring MonitorPassword123!\nsudo rabbitmqctl set_user_tags monitoring monitoring\nsudo rabbitmqctl set_permissions -p / monitoring \u0026quot;\u0026quot; \u0026quot;\u0026quot; \u0026quot;.*\u0026quot;\n\n# Create backup user\nsudo rabbitmqctl add_user backup BackupPassword123!\nsudo rabbitmqctl set_user_tags backup management\nsudo rabbitmqctl set_permissions -p / backup \u0026quot;\u0026quot; \u0026quot;\u0026quot; \u0026quot;.*\u0026quot;\n\n# Create virtual hosts\nsudo rabbitmqctl add_vhost production\nsudo rabbitmqctl add_vhost staging\n\n# Set permissions for virtual hosts\nsudo rabbitmqctl set_permissions -p production myapp \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot;\nsudo rabbitmqctl set_permissions -p staging myapp \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot;\n\n# Set resource limits\nsudo rabbitmqctl set_user_limits myapp \u0026#039;{\u0026quot;max-connections\u0026quot;: 100, \u0026quot;max-channels\u0026quot;: 1000}\u0026#039;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"firewall-rules\" class=\"mobile-header\"\u003eFirewall Rules\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# UFW (Ubuntu/Debian)\nsudo ufw allow from 192.168.1.0/24 to any port 5672\nsudo ufw allow from 192.168.1.0/24 to any port 15672\nsudo ufw reload\n\n# firewalld (RHEL/CentOS/openSUSE)\nsudo firewall-cmd --permanent --new-zone=rabbitmq\nsudo firewall-cmd --permanent --zone=rabbitmq --add-source=192.168.1.0/24\nsudo firewall-cmd --permanent --zone=rabbitmq --add-port=5672/tcp\nsudo firewall-cmd --permanent --zone=rabbitmq --add-port=15672/tcp\nsudo firewall-cmd --permanent --zone=rabbitmq --add-port=25672/tcp\nsudo firewall-cmd --reload\n\n# iptables\nsudo iptables -A INPUT -s 192.168.1.0/24 -p tcp --dport 5672 -j ACCEPT\nsudo iptables -A INPUT -s 192.168.1.0/24 -p tcp --dport 15672 -j ACCEPT\nsudo iptables -save \u0026gt; /etc/iptables/rules.v4\n\n# pf (FreeBSD)\n# Add to /etc/pf.conf\npass in on $ext_if proto tcp from 192.168.1.0/24 to any port {5672, 15672, 25672}\n\n# Windows Firewall\nNew-NetFirewallRule -DisplayName \u0026quot;RabbitMQ AMQP\u0026quot; -Direction Inbound -Protocol TCP -LocalPort 5672 -RemoteAddress 192.168.1.0/24 -Action Allow\nNew-NetFirewallRule -DisplayName \u0026quot;RabbitMQ Management\u0026quot; -Direction Inbound -Protocol TCP -LocalPort 15672 -RemoteAddress 192.168.1.0/24 -Action Allow\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"database-setup\" class=\"mobile-header\"\u003eDatabase Setup\u003c/h2\u003e\n\u003ch3 id=\"queue-and-exchange-configuration\" class=\"mobile-header\"\u003eQueue and Exchange Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create exchanges\nrabbitmqctl eval \u0026#039;rabbit_exchange:declare({resource, \u0026lt;\u0026lt;\u0026quot;/\u0026quot;\u0026gt;\u0026gt;, exchange, \u0026lt;\u0026lt;\u0026quot;logs\u0026quot;\u0026gt;\u0026gt;}, topic, true, false, false, []).\u0026#039;\nrabbitmqctl eval \u0026#039;rabbit_exchange:declare({resource, \u0026lt;\u0026lt;\u0026quot;/\u0026quot;\u0026gt;\u0026gt;, exchange, \u0026lt;\u0026lt;\u0026quot;tasks\u0026quot;\u0026gt;\u0026gt;}, direct, true, false, false, []).\u0026#039;\n\n# Create queues\nrabbitmqctl eval \u0026#039;rabbit_amqqueue:declare({resource, \u0026lt;\u0026lt;\u0026quot;/\u0026quot;\u0026gt;\u0026gt;, queue, \u0026lt;\u0026lt;\u0026quot;error_logs\u0026quot;\u0026gt;\u0026gt;}, true, false, [], none, \u0026lt;\u0026lt;\u0026quot;/\u0026quot;\u0026gt;\u0026gt;).\u0026#039;\nrabbitmqctl eval \u0026#039;rabbit_amqqueue:declare({resource, \u0026lt;\u0026lt;\u0026quot;/\u0026quot;\u0026gt;\u0026gt;, queue, \u0026lt;\u0026lt;\u0026quot;task_queue\u0026quot;\u0026gt;\u0026gt;}, true, false, [], none, \u0026lt;\u0026lt;\u0026quot;/\u0026quot;\u0026gt;\u0026gt;).\u0026#039;\n\n# Create bindings\nrabbitmqctl eval \u0026#039;rabbit_binding:add({binding, {resource, \u0026lt;\u0026lt;\u0026quot;/\u0026quot;\u0026gt;\u0026gt;, exchange, \u0026lt;\u0026lt;\u0026quot;logs\u0026quot;\u0026gt;\u0026gt;}, \u0026lt;\u0026lt;\u0026quot;error\u0026quot;\u0026gt;\u0026gt;, {resource, \u0026lt;\u0026lt;\u0026quot;/\u0026quot;\u0026gt;\u0026gt;, queue, \u0026lt;\u0026lt;\u0026quot;error_logs\u0026quot;\u0026gt;\u0026gt;}, []}).\u0026#039;\n\n# Set queue policies for HA\nsudo rabbitmqctl set_policy ha-all \u0026quot;.*\u0026quot; \u0026#039;{\u0026quot;ha-mode\u0026quot;:\u0026quot;all\u0026quot;,\u0026quot;ha-sync-mode\u0026quot;:\u0026quot;automatic\u0026quot;}\u0026#039;\n\n# Set TTL policy\nsudo rabbitmqctl set_policy TTL \u0026quot;.*\u0026quot; \u0026#039;{\u0026quot;message-ttl\u0026quot;:3600000}\u0026#039; --apply-to queues\n\n# Set queue length limit\nsudo rabbitmqctl set_policy max-length \u0026quot;.*\u0026quot; \u0026#039;{\u0026quot;max-length\u0026quot;:10000}\u0026#039; --apply-to queues\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"shovel-configuration-message-transfer\" class=\"mobile-header\"\u003eShovel Configuration (Message Transfer)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install shovel plugin\nsudo rabbitmq-plugins enable rabbitmq_shovel\nsudo rabbitmq-plugins enable rabbitmq_shovel_management\n\n# Create shovel (via management API)\ncurl -u admin:SecureAdminPassword123! -X PUT \\\n  http://localhost:15672/api/parameters/shovel/%2F/my-shovel \\\n  -H \u0026quot;Content-Type: application/json\u0026quot; \\\n  -d \u0026#039;{\n    \u0026quot;value\u0026quot;: {\n      \u0026quot;src-protocol\u0026quot;: \u0026quot;amqp091\u0026quot;,\n      \u0026quot;src-uri\u0026quot;: \u0026quot;amqp://guest:guest@source-server:5672/%2F\u0026quot;,\n      \u0026quot;src-queue\u0026quot;: \u0026quot;source-queue\u0026quot;,\n      \u0026quot;dest-protocol\u0026quot;: \u0026quot;amqp091\u0026quot;,\n      \u0026quot;dest-uri\u0026quot;: \u0026quot;amqp://guest:guest@dest-server:5672/%2F\u0026quot;,\n      \u0026quot;dest-queue\u0026quot;: \u0026quot;dest-queue\u0026quot;\n    }\n  }\u0026#039;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"performance-optimization\" class=\"mobile-header\"\u003ePerformance Optimization\u003c/h2\u003e\n\u003ch3 id=\"system-tuning\" class=\"mobile-header\"\u003eSystem Tuning\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# RabbitMQ-specific system optimizations\nsudo tee -a /etc/sysctl.conf \u0026lt;\u0026lt;EOF\n# RabbitMQ optimizations\nvm.swappiness = 1\nnet.core.somaxconn = 4096\nnet.ipv4.tcp_fin_timeout = 30\nnet.ipv4.tcp_tw_reuse = 1\nfs.file-max = 100000\nEOF\n\nsudo sysctl -p\n\n# Increase file descriptor limits\nsudo tee -a /etc/security/limits.conf \u0026lt;\u0026lt;EOF\nrabbitmq soft nofile 65536\nrabbitmq hard nofile 65536\nEOF\n\n# Set Erlang VM parameters\nsudo tee /etc/rabbitmq/rabbitmq-env.conf \u0026lt;\u0026lt;EOF\nRABBITMQ_SERVER_ERL_ARGS=\u0026quot;+K true +A 128 +P 1048576\u0026quot;\nRABBITMQ_CTL_ERL_ARGS=\u0026quot;+K true\u0026quot;\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"rabbitmq-performance-configuration\" class=\"mobile-header\"\u003eRabbitMQ Performance Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ini\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eini\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ini\"\u003e# High-performance RabbitMQ configuration\n# /etc/rabbitmq/rabbitmq.conf\n\n# Memory and disk\nvm_memory_high_watermark.relative = 0.4\nvm_memory_high_watermark_paging_ratio = 0.3\ndisk_free_limit.absolute = 2GB\n\n# Clustering and replication\ncluster_partition_handling = pause_minority\ncluster_keepalive_interval = 10000\n\n# Connection and channel limits\nconnection_max = 65536\nchannel_max = 2047\n\n# Message store\nmsg_store_file_size_limit = 16777216\nqueue_index_embed_msgs_below = 4096\n\n# Lazy queues (for large queues)\nlazy_queue_explicit_gc_run_operation_threshold = 1000\n\n# Mnesia table loading\nmnesia_table_loading_retry_timeout = 30000\nmnesia_table_loading_retry_limit = 10\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"queue-optimization\" class=\"mobile-header\"\u003eQueue Optimization\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable lazy queues for large message backlogs\nrabbitmqctl set_policy lazy-queue \u0026quot;.*\u0026quot; \u0026#039;{\u0026quot;queue-mode\u0026quot;:\u0026quot;lazy\u0026quot;}\u0026#039; --apply-to queues\n\n# Configure quorum queues for better consistency\nrabbitmqctl set_policy quorum-queue \u0026quot;.*\u0026quot; \u0026#039;{\u0026quot;queue-type\u0026quot;:\u0026quot;quorum\u0026quot;}\u0026#039; --apply-to queues\n\n# Set delivery limits to prevent poison messages\nrabbitmqctl set_policy delivery-limit \u0026quot;.*\u0026quot; \u0026#039;{\u0026quot;delivery-limit\u0026quot;:10}\u0026#039; --apply-to queues\n\n# Configure stream queues for high throughput\nrabbitmqctl set_policy stream-queue \u0026quot;stream.*\u0026quot; \u0026#039;{\u0026quot;queue-type\u0026quot;:\u0026quot;stream\u0026quot;}\u0026#039; --apply-to queues\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"monitoring\" class=\"mobile-header\"\u003eMonitoring\u003c/h2\u003e\n\u003ch3 id=\"built-in-monitoring\" class=\"mobile-header\"\u003eBuilt-in Monitoring\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Node status and statistics\nrabbitmqctl status\nrabbitmqctl node_health_check\nrabbitmqctl environment\n\n# Queue monitoring\nrabbitmqctl list_queues name messages consumers memory\nrabbitmqctl list_exchanges name type\nrabbitmqctl list_bindings\n\n# Connection monitoring\nrabbitmqctl list_connections peer_host peer_port state channels\nrabbitmqctl list_channels connection name consumer_count messages_unacknowledged\n\n# Cluster monitoring\nrabbitmqctl cluster_status\nrabbitmqctl list_cluster_nodes\n\n# Memory and disk usage\nrabbitmqctl eval \u0026#039;rabbit_vm:memory().\u0026#039;\nrabbitmqctl eval \u0026#039;rabbit_disk_monitor:get_disk_free().\u0026#039;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"external-monitoring-setup\" class=\"mobile-header\"\u003eExternal Monitoring Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install RabbitMQ Exporter for Prometheus\nwget https://github.com/kbudde/rabbitmq_exporter/releases/download/v1.0.0/rabbitmq_exporter-1.0.0.linux-amd64.tar.gz\ntar xzf rabbitmq_exporter-*.tar.gz\nsudo cp rabbitmq_exporter /usr/local/bin/\n\n# Create monitoring user in RabbitMQ\nsudo rabbitmqctl add_user prometheus PrometheusPassword123!\nsudo rabbitmqctl set_user_tags prometheus monitoring\n\n# Create systemd service\nsudo tee /etc/systemd/system/rabbitmq_exporter.service \u0026lt;\u0026lt;EOF\n[Unit]\nDescription=RabbitMQ Exporter\nAfter=network.target\n\n[Service]\nType=simple\nUser=rabbitmq\nEnvironment=RABBIT_URL=\u0026quot;http://prometheus:PrometheusPassword123!@localhost:15672\u0026quot;\nExecStart=/usr/local/bin/rabbitmq_exporter\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsudo systemctl enable --now rabbitmq_exporter\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"health-check-scripts\" class=\"mobile-header\"\u003eHealth Check Scripts\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# rabbitmq-health-check.sh\n\n# Check RabbitMQ service\nif ! systemctl is-active rabbitmq-server \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    echo \u0026quot;CRITICAL: RabbitMQ service is not running\u0026quot;\n    exit 2\nfi\n\n# Check node health\nif ! rabbitmqctl node_health_check \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    echo \u0026quot;CRITICAL: RabbitMQ node health check failed\u0026quot;\n    exit 2\nfi\n\n# Check cluster status\nCLUSTER_STATUS=$(rabbitmqctl cluster_status --formatter json 2\u0026gt;/dev/null | jq -r \u0026#039;.running_nodes | length\u0026#039;)\nif [ \u0026quot;$CLUSTER_STATUS\u0026quot; -lt 2 ]; then\n    echo \u0026quot;WARNING: Less than 2 nodes running in cluster\u0026quot;\n    exit 1\nfi\n\n# Check memory usage\nMEMORY_ALARM=$(rabbitmqctl status --formatter json 2\u0026gt;/dev/null | jq -r \u0026#039;.alarms | length\u0026#039;)\nif [ \u0026quot;$MEMORY_ALARM\u0026quot; -gt 0 ]; then\n    echo \u0026quot;WARNING: Memory alarms detected\u0026quot;\n    exit 1\nfi\n\n# Check disk space\nDISK_ALARM=$(rabbitmqctl status --formatter json 2\u0026gt;/dev/null | jq -r \u0026#039;.disk_free_alarm\u0026#039;)\nif [ \u0026quot;$DISK_ALARM\u0026quot; = \u0026quot;true\u0026quot; ]; then\n    echo \u0026quot;WARNING: Disk space alarm active\u0026quot;\n    exit 1\nfi\n\n# Check queue lengths\nMAX_QUEUE_LENGTH=$(rabbitmqctl list_queues messages --formatter json 2\u0026gt;/dev/null | jq -r \u0026#039;max_by(.messages).messages\u0026#039;)\nif [ \u0026quot;$MAX_QUEUE_LENGTH\u0026quot; -gt 100000 ]; then\n    echo \u0026quot;WARNING: Queue length exceeds 100,000 messages\u0026quot;\n    exit 1\nfi\n\necho \u0026quot;OK: RabbitMQ is healthy\u0026quot;\nexit 0\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"backup-and-restore\" class=\"mobile-header\"\u003eBackup and Restore\u003c/h2\u003e\n\u003ch3 id=\"backup-procedures\" class=\"mobile-header\"\u003eBackup Procedures\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# rabbitmq-backup.sh\n\nBACKUP_DIR=\u0026quot;/backup/rabbitmq/$(date +%Y%m%d_%H%M%S)\u0026quot;\nmkdir -p \u0026quot;$BACKUP_DIR\u0026quot;\n\n# Export definitions (exchanges, queues, users, policies)\ncurl -u admin:SecureAdminPassword123! \\\n    http://localhost:15672/api/definitions \\\n    -o \u0026quot;$BACKUP_DIR/definitions.json\u0026quot;\n\n# Export queue messages (if needed for small queues)\nrabbitmqctl eval \u0026quot;\n    application:load(rabbitmq_management_agent),\n    rabbitmq_management_db:get_all_queues(all_vhosts).\n\u0026quot; \u0026gt; \u0026quot;$BACKUP_DIR/queue_stats.txt\u0026quot;\n\n# Backup configuration files\ntar czf \u0026quot;$BACKUP_DIR/rabbitmq-config.tar.gz\u0026quot; \\\n    /etc/rabbitmq/ \\\n    --exclude=\u0026#039;*.log\u0026#039; \\\n    --exclude=\u0026#039;*.pid\u0026#039;\n\n# Backup SSL certificates\nif [ -d /etc/rabbitmq/ssl ]; then\n    tar czf \u0026quot;$BACKUP_DIR/rabbitmq-ssl.tar.gz\u0026quot; /etc/rabbitmq/ssl/\nfi\n\n# Save cluster information\nrabbitmqctl cluster_status \u0026gt; \u0026quot;$BACKUP_DIR/cluster_status.txt\u0026quot;\nrabbitmqctl status \u0026gt; \u0026quot;$BACKUP_DIR/node_status.txt\u0026quot;\n\n# Create manifest\necho \u0026quot;RabbitMQ Backup - $(date)\u0026quot; \u0026gt; \u0026quot;$BACKUP_DIR/backup_manifest.txt\u0026quot;\necho \u0026quot;Node: $(hostname)\u0026quot; \u0026gt;\u0026gt; \u0026quot;$BACKUP_DIR/backup_manifest.txt\u0026quot;\necho \u0026quot;Version: $(rabbitmqctl version)\u0026quot; \u0026gt;\u0026gt; \u0026quot;$BACKUP_DIR/backup_manifest.txt\u0026quot;\n\necho \u0026quot;Backup completed: $BACKUP_DIR\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"restore-procedures\" class=\"mobile-header\"\u003eRestore Procedures\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# rabbitmq-restore.sh\n\nBACKUP_DIR=\u0026quot;$1\u0026quot;\nif [ -z \u0026quot;$BACKUP_DIR\u0026quot; ]; then\n    echo \u0026quot;Usage: $0 \u0026lt;backup-directory\u0026gt;\u0026quot;\n    exit 1\nfi\n\n# Stop RabbitMQ (ensure clean state)\nsudo systemctl stop rabbitmq-server\n\n# Restore configuration\nsudo tar xzf \u0026quot;$BACKUP_DIR/rabbitmq-config.tar.gz\u0026quot; -C /\n\n# Restore SSL certificates\nif [ -f \u0026quot;$BACKUP_DIR/rabbitmq-ssl.tar.gz\u0026quot; ]; then\n    sudo tar xzf \u0026quot;$BACKUP_DIR/rabbitmq-ssl.tar.gz\u0026quot; -C /\nfi\n\n# Start RabbitMQ\nsudo systemctl start rabbitmq-server\n\n# Wait for RabbitMQ to start\nsleep 10\n\n# Import definitions\ncurl -u admin:SecureAdminPassword123! \\\n    -X POST \\\n    -H \u0026quot;Content-Type: application/json\u0026quot; \\\n    -d @\u0026quot;$BACKUP_DIR/definitions.json\u0026quot; \\\n    http://localhost:15672/api/definitions\n\n# Verify restore\nrabbitmqctl list_queues\nrabbitmqctl list_users\n\necho \u0026quot;Restore completed from $BACKUP_DIR\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"message-level-backup-advanced\" class=\"mobile-header\"\u003eMessage-Level Backup (Advanced)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# rabbitmq-message-backup.sh\n\nBACKUP_DIR=\u0026quot;/backup/rabbitmq-messages/$(date +%Y%m%d_%H%M%S)\u0026quot;\nmkdir -p \u0026quot;$BACKUP_DIR\u0026quot;\n\n# Install shovel plugin for message transfer\nrabbitmq-plugins enable rabbitmq_shovel\nrabbitmq-plugins enable rabbitmq_shovel_management\n\n# Backup messages from all queues\nrabbitmqctl list_queues name --formatter json | jq -r \u0026#039;.[].name\u0026#039; | while read -r queue; do\n    if [ \u0026quot;$queue\u0026quot; != \u0026quot;null\u0026quot; ]; then\n        # Create shovel to backup queue\n        curl -u admin:SecureAdminPassword123! -X PUT \\\n            \u0026quot;http://localhost:15672/api/parameters/shovel/%2F/backup-$queue\u0026quot; \\\n            -H \u0026quot;Content-Type: application/json\u0026quot; \\\n            -d \u0026quot;{\n                \\\u0026quot;value\\\u0026quot;: {\n                    \\\u0026quot;src-protocol\\\u0026quot;: \\\u0026quot;amqp091\\\u0026quot;,\n                    \\\u0026quot;src-uri\\\u0026quot;: \\\u0026quot;amqp://admin:SecureAdminPassword123!@localhost:5672/%2F\\\u0026quot;,\n                    \\\u0026quot;src-queue\\\u0026quot;: \\\u0026quot;$queue\\\u0026quot;,\n                    \\\u0026quot;dest-protocol\\\u0026quot;: \\\u0026quot;amqp091\\\u0026quot;,\n                    \\\u0026quot;dest-uri\\\u0026quot;: \\\u0026quot;amqp://backup:BackupPassword123!@backup-server:5672/%2F\\\u0026quot;,\n                    \\\u0026quot;dest-queue\\\u0026quot;: \\\u0026quot;backup-$queue\\\u0026quot;\n                }\n            }\u0026quot;\n    fi\ndone\n\necho \u0026quot;Message backup shovels created for all queues\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"troubleshooting\" class=\"mobile-header\"\u003eTroubleshooting\u003c/h2\u003e\n\u003ch3 id=\"common-issues\" class=\"mobile-header\"\u003eCommon Issues\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e1. \u003cstrong\u003eRabbitMQ won't start\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check logs\nsudo journalctl -u rabbitmq-server -f\nsudo tail -f /var/log/rabbitmq/rabbit@$(hostname).log\n\n# Check Erlang installation\nerl -version\n\n# Check disk space\ndf -h /var/lib/rabbitmq\n\n# Check permissions\nls -la /var/lib/rabbitmq\nls -la /var/log/rabbitmq\n\n# Reset node (last resort)\nsudo rabbitmqctl stop_app\nsudo rabbitmqctl reset\nsudo rabbitmqctl start_app\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e2. \u003cstrong\u003eCluster issues\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check cluster status\nrabbitmqctl cluster_status\n\n# Check network connectivity between nodes\ntelnet rabbitmq-node-2 25672\n\n# Check Erlang cookie consistency\nsudo cat /var/lib/rabbitmq/.erlang.cookie\n\n# Force cluster join\nsudo rabbitmqctl stop_app\nsudo rabbitmqctl join_cluster rabbit@rabbitmq-node-1\nsudo rabbitmqctl start_app\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e3. \u003cstrong\u003eMemory/disk alarms\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check alarms\nrabbitmqctl status | grep alarms\n\n# Check memory usage\nrabbitmqctl eval \u0026#039;rabbit_vm:memory().\u0026#039;\n\n# Check disk usage\ndf -h /var/lib/rabbitmq\n\n# Clear memory alarm (after fixing issue)\nrabbitmqctl eval \u0026#039;vm_memory_monitor:set_vm_memory_high_watermark(0.4).\u0026#039;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e4. \u003cstrong\u003eConnection issues\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check if RabbitMQ is listening\nsudo ss -tlnp | grep :5672\n\n# Test AMQP connection\nrabbitmqctl eval \u0026#039;rabbit_networking:tcp_listener_started(5672).\u0026#039;\n\n# Check user permissions\nrabbitmqctl list_user_permissions admin\n\n# Test with management API\ncurl -u admin:SecureAdminPassword123! http://localhost:15672/api/overview\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"debug-mode\" class=\"mobile-header\"\u003eDebug Mode\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable debug logging\necho \u0026#039;log.file.level = debug\u0026#039; \u0026gt;\u0026gt; /etc/rabbitmq/rabbitmq.conf\n\n# Enable connection logging\necho \u0026#039;log.connection.level = debug\u0026#039; \u0026gt;\u0026gt; /etc/rabbitmq/rabbitmq.conf\n\n# Enable channel logging  \necho \u0026#039;log.channel.level = debug\u0026#039; \u0026gt;\u0026gt; /etc/rabbitmq/rabbitmq.conf\n\n# Restart to apply\nsudo systemctl restart rabbitmq-server\n\n# View debug logs\nsudo tail -f /var/log/rabbitmq/rabbit@$(hostname).log\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"maintenance\" class=\"mobile-header\"\u003eMaintenance\u003c/h2\u003e\n\u003ch3 id=\"update-procedures\" class=\"mobile-header\"\u003eUpdate Procedures\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# RHEL/CentOS/Rocky/AlmaLinux\nsudo yum check-update rabbitmq-server\nsudo yum update rabbitmq-server\n\n# Debian/Ubuntu\nsudo apt update\nsudo apt upgrade rabbitmq-server\n\n# Arch Linux\nsudo pacman -Syu rabbitmq\n\n# Alpine Linux\napk update\napk upgrade rabbitmq-server\n\n# openSUSE\nsudo zypper update rabbitmq-server\n\n# FreeBSD\npkg update\npkg upgrade rabbitmq\n\n# Always backup before updates\n./rabbitmq-backup.sh\n\n# Test after updates\nrabbitmqctl status\nsudo systemctl restart rabbitmq-server\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"maintenance-tasks\" class=\"mobile-header\"\u003eMaintenance Tasks\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Weekly maintenance script\n#!/bin/bash\n# rabbitmq-maintenance.sh\n\n# Rotate logs\nrabbitmqctl rotate_logs\n\n# Check node health\nrabbitmqctl node_health_check\n\n# Clean up old definitions backup\nfind /backup/rabbitmq -name \u0026quot;*.json\u0026quot; -mtime +30 -delete\n\n# Optimize memory usage\nrabbitmqctl eval \u0026#039;erlang:garbage_collect().\u0026#039;\n\n# Check and clean old message store files\nrabbitmqctl eval \u0026#039;rabbit_msg_store_gc:gc().\u0026#039;\n\n# Check queue statistics\nrabbitmqctl list_queues name messages consumers memory | \\\n    awk \u0026#039;$2 \u0026gt; 1000 {print \u0026quot;Queue \u0026quot; $1 \u0026quot; has \u0026quot; $2 \u0026quot; messages\u0026quot;}\u0026#039;\n\necho \u0026quot;RabbitMQ maintenance completed\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"health-monitoring\" class=\"mobile-header\"\u003eHealth Monitoring\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create monitoring cron job\necho \u0026quot;*/5 * * * * /usr/local/bin/rabbitmq-health-check.sh\u0026quot; | sudo crontab -\n\n# Log rotation\nsudo tee /etc/logrotate.d/rabbitmq \u0026lt;\u0026lt;EOF\n/var/log/rabbitmq/*.log {\n    daily\n    rotate 30\n    compress\n    delaycompress\n    missingok\n    notifempty\n    sharedscripts\n    postrotate\n        rabbitmqctl rotate_logs\n    endscript\n}\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"integration-examples\" class=\"mobile-header\"\u003eIntegration Examples\u003c/h2\u003e\n\u003ch3 id=\"python-pika-integration\" class=\"mobile-header\"\u003ePython (pika) Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"python\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epython\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-python\"\u003eimport pika\nimport ssl\n\n# Basic connection\nconnection = pika.BlockingConnection(\n    pika.ConnectionParameters(host=\u0026#039;localhost\u0026#039;, port=5672,\n                            credentials=pika.PlainCredentials(\u0026#039;myapp\u0026#039;, \u0026#039;SecureAppPassword123!\u0026#039;))\n)\nchannel = connection.channel()\n\n# SSL connection\nssl_context = ssl.create_default_context(cafile=\u0026#039;/etc/rabbitmq/ssl/ca_certificate.pem\u0026#039;)\nssl_context.check_hostname = False\n\nssl_connection = pika.BlockingConnection(\n    pika.ConnectionParameters(\n        host=\u0026#039;localhost\u0026#039;,\n        port=5671,\n        credentials=pika.PlainCredentials(\u0026#039;myapp\u0026#039;, \u0026#039;SecureAppPassword123!\u0026#039;),\n        ssl_options=pika.SSLOptions(ssl_context)\n    )\n)\n\n# Declare queue and exchange\nchannel.exchange_declare(exchange=\u0026#039;task_exchange\u0026#039;, exchange_type=\u0026#039;direct\u0026#039;)\nchannel.queue_declare(queue=\u0026#039;task_queue\u0026#039;, durable=True)\nchannel.queue_bind(exchange=\u0026#039;task_exchange\u0026#039;, queue=\u0026#039;task_queue\u0026#039;, routing_key=\u0026#039;task\u0026#039;)\n\n# Publish message\nchannel.basic_publish(\n    exchange=\u0026#039;task_exchange\u0026#039;,\n    routing_key=\u0026#039;task\u0026#039;,\n    body=\u0026#039;Hello, RabbitMQ!\u0026#039;,\n    properties=pika.BasicProperties(delivery_mode=2)  # Make message persistent\n)\n\n# Consume messages\ndef callback(ch, method, properties, body):\n    print(f\u0026quot;Received: {body}\u0026quot;)\n    ch.basic_ack(delivery_tag=method.delivery_tag)\n\nchannel.basic_qos(prefetch_count=1)\nchannel.basic_consume(queue=\u0026#039;task_queue\u0026#039;, on_message_callback=callback)\nchannel.start_consuming()\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"nodejs-amqplib-integration\" class=\"mobile-header\"\u003eNode.js (amqplib) Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"javascript\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ejavascript\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-javascript\"\u003econst amqp = require(\u0026#039;amqplib\u0026#039;);\nconst fs = require(\u0026#039;fs\u0026#039;);\n\n// Basic connection\nasync function connectBasic() {\n    const connection = await amqp.connect(\u0026#039;amqp://myapp:SecureAppPassword123!@localhost:5672\u0026#039;);\n    return connection;\n}\n\n// SSL connection\nasync function connectSSL() {\n    const connection = await amqp.connect({\n        protocol: \u0026#039;amqps\u0026#039;,\n        hostname: \u0026#039;localhost\u0026#039;,\n        port: 5671,\n        username: \u0026#039;myapp\u0026#039;,\n        password: \u0026#039;SecureAppPassword123!\u0026#039;,\n        ca: [fs.readFileSync(\u0026#039;/etc/rabbitmq/ssl/ca_certificate.pem\u0026#039;)],\n        cert: fs.readFileSync(\u0026#039;/etc/rabbitmq/ssl/client_certificate.pem\u0026#039;),\n        key: fs.readFileSync(\u0026#039;/etc/rabbitmq/ssl/client_key.pem\u0026#039;)\n    });\n    return connection;\n}\n\n// Publisher\nasync function publishMessage() {\n    const connection = await connectBasic();\n    const channel = await connection.createChannel();\n    \n    const exchange = \u0026#039;task_exchange\u0026#039;;\n    const routingKey = \u0026#039;task\u0026#039;;\n    const message = \u0026#039;Hello from Node.js!\u0026#039;;\n    \n    await channel.assertExchange(exchange, \u0026#039;direct\u0026#039;, { durable: true });\n    await channel.publish(exchange, routingKey, Buffer.from(message), { persistent: true });\n    \n    console.log(\u0026#039;Message sent\u0026#039;);\n    await channel.close();\n    await connection.close();\n}\n\n// Consumer\nasync function consumeMessages() {\n    const connection = await connectBasic();\n    const channel = await connection.createChannel();\n    \n    const queue = \u0026#039;task_queue\u0026#039;;\n    \n    await channel.assertQueue(queue, { durable: true });\n    await channel.prefetch(1);\n    \n    console.log(\u0026#039;Waiting for messages...\u0026#039;);\n    \n    channel.consume(queue, async (message) =\u0026gt; {\n        if (message) {\n            console.log(\u0026#039;Received:\u0026#039;, message.content.toString());\n            // Process message\n            channel.ack(message);\n        }\n    });\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"java-spring-amqp-integration\" class=\"mobile-header\"\u003eJava (Spring AMQP) Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"java\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ejava\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-java\"\u003e// Configuration\n@Configuration\n@EnableRabbit\npublic class RabbitConfig {\n    \n    @Bean\n    public ConnectionFactory connectionFactory() {\n        CachingConnectionFactory factory = new CachingConnectionFactory(\u0026quot;localhost\u0026quot;);\n        factory.setPort(5672);\n        factory.setUsername(\u0026quot;myapp\u0026quot;);\n        factory.setPassword(\u0026quot;SecureAppPassword123!\u0026quot;);\n        factory.setVirtualHost(\u0026quot;/\u0026quot;);\n        return factory;\n    }\n    \n    @Bean\n    public RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory) {\n        RabbitTemplate template = new RabbitTemplate(connectionFactory);\n        template.setMandatory(true);\n        return template;\n    }\n    \n    @Bean\n    public DirectExchange taskExchange() {\n        return new DirectExchange(\u0026quot;task_exchange\u0026quot;, true, false);\n    }\n    \n    @Bean\n    public Queue taskQueue() {\n        return QueueBuilder.durable(\u0026quot;task_queue\u0026quot;).build();\n    }\n    \n    @Bean\n    public Binding taskBinding() {\n        return BindingBuilder.bind(taskQueue()).to(taskExchange()).with(\u0026quot;task\u0026quot;);\n    }\n}\n\n// Producer\n@Service\npublic class MessageProducer {\n    \n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n    \n    public void sendMessage(String message) {\n        rabbitTemplate.convertAndSend(\u0026quot;task_exchange\u0026quot;, \u0026quot;task\u0026quot;, message);\n    }\n}\n\n// Consumer\n@Service\npublic class MessageConsumer {\n    \n    @RabbitListener(queues = \u0026quot;task_queue\u0026quot;)\n    public void receiveMessage(String message) {\n        System.out.println(\u0026quot;Received: \u0026quot; + message);\n        // Process message\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"go-amqp091-go-integration\" class=\"mobile-header\"\u003eGo (amqp091-go) Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"go\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ego\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-go\"\u003epackage main\n\nimport (\n    \u0026quot;log\u0026quot;\n    \u0026quot;github.com/rabbitmq/amqp091-go\u0026quot;\n)\n\nfunc connectRabbitMQ() (*amqp091.Connection, error) {\n    return amqp091.Dial(\u0026quot;amqp://myapp:SecureAppPassword123!@localhost:5672/\u0026quot;)\n}\n\nfunc publishMessage(message string) error {\n    conn, err := connectRabbitMQ()\n    if err != nil {\n        return err\n    }\n    defer conn.Close()\n\n    ch, err := conn.Channel()\n    if err != nil {\n        return err\n    }\n    defer ch.Close()\n\n    // Declare exchange\n    err = ch.ExchangeDeclare(\n        \u0026quot;task_exchange\u0026quot;,\n        \u0026quot;direct\u0026quot;,\n        true,  // durable\n        false, // auto-deleted\n        false, // internal\n        false, // no-wait\n        nil,   // arguments\n    )\n    if err != nil {\n        return err\n    }\n\n    // Declare queue\n    _, err = ch.QueueDeclare(\n        \u0026quot;task_queue\u0026quot;,\n        true,  // durable\n        false, // delete when unused\n        false, // exclusive\n        false, // no-wait\n        nil,   // arguments\n    )\n    if err != nil {\n        return err\n    }\n\n    // Publish message\n    return ch.Publish(\n        \u0026quot;task_exchange\u0026quot;,\n        \u0026quot;task\u0026quot;,\n        false, // mandatory\n        false, // immediate\n        amqp091.Publishing{\n            ContentType:  \u0026quot;text/plain\u0026quot;,\n            Body:         []byte(message),\n            DeliveryMode: amqp091.Persistent,\n        },\n    )\n}\n\nfunc consumeMessages() error {\n    conn, err := connectRabbitMQ()\n    if err != nil {\n        return err\n    }\n    defer conn.Close()\n\n    ch, err := conn.Channel()\n    if err != nil {\n        return err\n    }\n    defer ch.Close()\n\n    msgs, err := ch.Consume(\n        \u0026quot;task_queue\u0026quot;,\n        \u0026quot;\u0026quot;,    // consumer\n        false, // auto-ack\n        false, // exclusive\n        false, // no-local\n        false, // no-wait\n        nil,   // args\n    )\n    if err != nil {\n        return err\n    }\n\n    forever := make(chan bool)\n\n    go func() {\n        for d := range msgs {\n            log.Printf(\u0026quot;Received: %s\u0026quot;, d.Body)\n            // Process message\n            d.Ack(false)\n        }\n    }()\n\n    log.Printf(\u0026quot;Waiting for messages...\u0026quot;)\n    \u0026lt;-forever\n    return nil\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"additional-resources\" class=\"mobile-header\"\u003eAdditional Resources\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.rabbitmq.com/documentation.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eOfficial RabbitMQ Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.rabbitmq.com/getstarted.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eRabbitMQ Tutorials\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.rabbitmq.com/management.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eRabbitMQ Management Plugin\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.rabbitmq.com/clustering.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eRabbitMQ Clustering Guide\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.rabbitmq.com/ha.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eRabbitMQ High Availability\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.rabbitmq.com/amqp-0-9-1-reference.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eAMQP 0-9-1 Protocol Reference\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.rabbitmq.com/community.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eRabbitMQ Community\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://github.com/rabbitmq/rabbitmq-server\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eRabbitMQ GitHub Repository\u003c/a\u003e\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e---\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This guide is part of the \u003ca href=\"https://howtomgr.github.io\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eHowToMgr\u003c/a\u003e collection. Always refer to official documentation for the most up-to-date information.\u003c/p\u003e","readTime":"21 min","wordCount":4178,"lastBuilt":"2025-09-14T06:13:00.425Z"},{"name":"raspbian","displayName":"Raspbian","slug":"raspbian","description":"Repo for raspbian","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/raspbian","updatedAt":"2025-09-08T03:15:35Z","createdAt":"2023-08-28T03:49:55Z","readmeRaw":"## My raspbian setup  \n  \nServers:  \n\n```shell\nsudo apt update \u0026\u0026 sudo apt dist-upgrade -yy -q \u0026\u0026 sudo reboot || echo \"Update has failed\"\nsudo apt install -yy git curl gnupg python3 vim-nox pass lynx net-tools ctags build-essential fim emacs-nox x11-xkb-utils x11-session-utils\nsudo GH=casjay bash -c \"$(curl -LsS https://github.com/casjay-base/raspbian/raw/main/install.sh)\"\nbash -c \"$(curl -LsS -H \"Authorization: token ${GITHUB_ACCESS_TOKEN}\" ${MYPRIVATEDOTFILES_SERVER}/raw/main/install.sh)\"\n```\n\nDesktops:  \n\n```shell\nsudo apt update \u0026\u0026 sudo apt dist-upgrade -yy -q \u0026\u0026 sudo reboot || echo \"Update has failed\"\nsudo apt install -yy git curl gnupg python3 python3-pil libjpeg-dev vim-nox neomutt isync msmtp pass lynx notmuch abook urlview newsboat mplayer mpc mpd pianobar net-tools mpv ctags build-essential fim emacs-nox x11-xkb-utils x11-session-utils\nsudo GH=casjay bash -c \"$(curl -LsS https://github.com/casjay-base/raspbian/raw/main/install.sh)\"\nbash -c \"$(curl -LsS -H \"Authorization: token ${GITHUB_ACCESS_TOKEN}\" ${MYPRIVATEDOTFILES_DESKTOP}/raw/main/install.sh)\"\n```\n  \n  \nResources:  \n\u003chttps://willemm.nl/track-aircraft-using-ads-b-groundstation-virtual-radar-server-vrs/\u003e  \n","readmeHtml":"\u003ch2 id=\"my-raspbian-setup\" class=\"mobile-header\"\u003eMy raspbian setup  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eServers:  \u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"shell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eshell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-shell\"\u003esudo apt update \u0026amp;\u0026amp; sudo apt dist-upgrade -yy -q \u0026amp;\u0026amp; sudo reboot || echo \u0026quot;Update has failed\u0026quot;\nsudo apt install -yy git curl gnupg python3 vim-nox pass lynx net-tools ctags build-essential fim emacs-nox x11-xkb-utils x11-session-utils\nsudo GH=casjay bash -c \u0026quot;$(curl -LsS https://github.com/casjay-base/raspbian/raw/main/install.sh)\u0026quot;\nbash -c \u0026quot;$(curl -LsS -H \u0026quot;Authorization: token ${GITHUB_ACCESS_TOKEN}\u0026quot; ${MYPRIVATEDOTFILES_SERVER}/raw/main/install.sh)\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003eDesktops:  \u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"shell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eshell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-shell\"\u003esudo apt update \u0026amp;\u0026amp; sudo apt dist-upgrade -yy -q \u0026amp;\u0026amp; sudo reboot || echo \u0026quot;Update has failed\u0026quot;\nsudo apt install -yy git curl gnupg python3 python3-pil libjpeg-dev vim-nox neomutt isync msmtp pass lynx notmuch abook urlview newsboat mplayer mpc mpd pianobar net-tools mpv ctags build-essential fim emacs-nox x11-xkb-utils x11-session-utils\nsudo GH=casjay bash -c \u0026quot;$(curl -LsS https://github.com/casjay-base/raspbian/raw/main/install.sh)\u0026quot;\nbash -c \u0026quot;$(curl -LsS -H \u0026quot;Authorization: token ${GITHUB_ACCESS_TOKEN}\u0026quot; ${MYPRIVATEDOTFILES_DESKTOP}/raw/main/install.sh)\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003eResources:  \u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003chttps://willemm.nl/track-aircraft-using-ads-b-groundstation-virtual-radar-server-vrs/\u003e  \u003c/p\u003e","readTime":"1 min","wordCount":129,"lastBuilt":"2025-09-14T06:13:14.031Z"},{"name":"shinobi","displayName":"Shinobi","slug":"shinobi","description":"Repo for shinobi","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/shinobi","updatedAt":"2025-09-08T03:16:18Z","createdAt":"2023-08-28T03:50:05Z","readmeRaw":"# CentOS\n\n```bash\nsudo yum install -y ffmpeg gstreamer1-libav x264 x265 git curl gnupg2\nsudo yum install -y nodejs\nln -s /usr/bin/nodejs /usr/bin/node\n\ngit clone https://gitlab.com/Shinobi-Systems/Shinobi.git /usr/local/share/shinobi\ncd /usr/local/share/shinobi\nchmod +x INSTALL/centos.sh \u0026\u0026 INSTALL/centos.sh\n\n```\n\n# Debian\n\n```bash\nsudo apt update\nsudo apt install ffmpeg libav-tools x264 x265 git curl gnupg2\ncurl -sL https://deb.nodesource.com/setup_8.x | sudo -E bash -\nsudo apt install nodejs -y\nln -s /usr/bin/nodejs /usr/bin/node\n\ngit clone https://gitlab.com/Shinobi-Systems/Shinobi.git /usr/local/share/shinobi\ncd /usr/local/share/shinobi\nchmod +x INSTALL/ubuntu.sh \u0026\u0026 INSTALL/ubuntu.sh\n```\n","readmeHtml":"\u003ch1 id=\"centos\" class=\"mobile-header\"\u003eCentOS\u003c/h1\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003esudo yum install -y ffmpeg gstreamer1-libav x264 x265 git curl gnupg2\nsudo yum install -y nodejs\nln -s /usr/bin/nodejs /usr/bin/node\n\ngit clone https://gitlab.com/Shinobi-Systems/Shinobi.git /usr/local/share/shinobi\ncd /usr/local/share/shinobi\nchmod +x INSTALL/centos.sh \u0026amp;\u0026amp; INSTALL/centos.sh\n\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch1 id=\"debian\" class=\"mobile-header\"\u003eDebian\u003c/h1\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003esudo apt update\nsudo apt install ffmpeg libav-tools x264 x265 git curl gnupg2\ncurl -sL https://deb.nodesource.com/setup_8.x | sudo -E bash -\nsudo apt install nodejs -y\nln -s /usr/bin/nodejs /usr/bin/node\n\ngit clone https://gitlab.com/Shinobi-Systems/Shinobi.git /usr/local/share/shinobi\ncd /usr/local/share/shinobi\nchmod +x INSTALL/ubuntu.sh \u0026amp;\u0026amp; INSTALL/ubuntu.sh\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e","readTime":"1 min","wordCount":81,"lastBuilt":"2025-09-14T06:13:13.330Z"},{"name":"sonarqube","displayName":"Sonarqube","slug":"sonarqube","description":"Repo for sonarqube","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/sonarqube","updatedAt":"2025-09-08T03:16:32Z","createdAt":"2025-09-08T03:16:21Z","readmeRaw":"## 👋 Welcome to sonarqube 🚀  \n\nsonarqube README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-sonarqube\" class=\"mobile-header\"\u003e👋 Welcome to sonarqube 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003esonarqube README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T06:13:13.021Z"},{"name":"strapi","displayName":"Strapi","slug":"strapi","description":"Repo for strapi","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/strapi","updatedAt":"2025-09-08T03:16:44Z","createdAt":"2025-09-08T03:16:33Z","readmeRaw":"## 👋 Welcome to strapi 🚀  \n\nstrapi README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-strapi\" class=\"mobile-header\"\u003e👋 Welcome to strapi 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003estrapi README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T06:13:12.715Z"},{"name":"terraform","displayName":"Terraform","slug":"terraform","description":"Repo for terraform","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/terraform","updatedAt":"2025-09-14T03:45:58Z","createdAt":"2025-09-08T03:16:51Z","readmeRaw":"# Terraform Installation Guide\n\nTerraform is a free and open-source Infrastructure as Code (IaC) tool developed by HashiCorp for building, changing, and versioning infrastructure safely and efficiently across multiple cloud providers. Originally created by Mitchell Hashimoto in 2014, Terraform uses declarative configuration files to manage infrastructure resources. It serves as a FOSS alternative to commercial IaC solutions like AWS CloudFormation, Azure Resource Manager, or proprietary enterprise tools, offering enterprise-grade features including multi-cloud management, state management, provider ecosystem, and team collaboration without licensing costs.\n\n## Prerequisites\n\n- **Hardware Requirements**:\n  - CPU: 1 core minimum (2+ cores recommended for large infrastructures)\n  - RAM: 2GB minimum (4GB+ recommended for production)\n  - Storage: 5GB minimum (more for state files and provider binaries)\n  - Network: Stable connectivity for cloud provider APIs\n- **Operating System**: \n  - Linux: Any modern distribution with kernel 3.2+\n  - macOS: 10.13+ (High Sierra or newer)\n  - Windows: Windows Server 2016+ or Windows 10\n  - FreeBSD: 12.0+\n- **Network Requirements**:\n  - HTTPS access to cloud provider APIs (port 443)\n  - Access to Terraform Registry (registry.terraform.io)\n  - Access to HashiCorp releases (releases.hashicorp.com)\n- **Dependencies**:\n  - Cloud provider CLI tools (aws-cli, azure-cli, gcloud)\n  - Git for configuration management\n  - Text editor or IDE\n  - Root or administrative access for installation\n- **System Access**: root or sudo privileges required for installation\n\n## Installation\n\n### RHEL/CentOS/Rocky Linux/AlmaLinux\n\n```bash\n# Add HashiCorp repository\nsudo yum install -y yum-utils\nsudo yum-config-manager --add-repo https://rpm.releases.hashicorp.com/RHEL/hashicorp.repo\n\n# Install Terraform\nsudo yum install -y terraform\n\n# Verify installation\nterraform version\n\n# Alternative: DNF for newer systems\nsudo dnf install -y yum-utils\nsudo dnf config-manager --add-repo https://rpm.releases.hashicorp.com/RHEL/hashicorp.repo\nsudo dnf install -y terraform\n```\n\n### Debian/Ubuntu\n\n```bash\n# Add HashiCorp GPG key\nwget -O- https://apt.releases.hashicorp.com/gpg | sudo gpg --dearmor -o /usr/share/keyrings/hashicorp-archive-keyring.gpg\n\n# Add HashiCorp repository\necho \"deb [signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(lsb_release -cs) main\" | sudo tee /etc/apt/sources.list.d/hashicorp.list\n\n# Update and install Terraform\nsudo apt update\nsudo apt install -y terraform\n\n# Verify installation\nterraform version\n```\n\n### Arch Linux\n\n```bash\n# Install from community repository\nsudo pacman -S terraform\n\n# Alternative: Install from AUR\nyay -S terraform\n\n# Install additional tools\nsudo pacman -S terraform-docs tflint\n\n# Verify installation\nterraform version\n```\n\n### Alpine Linux\n\n```bash\n# Install from Alpine repositories\nsudo apk update\nsudo apk add terraform\n\n# Install additional tools\nsudo apk add bash git curl\n\n# Verify installation\nterraform version\n```\n\n### openSUSE/SLES\n\n```bash\n# openSUSE Leap/Tumbleweed\nsudo zypper install -y terraform\n\n# SLES 15\nsudo SUSEConnect -p sle-module-development-tools/15.5/x86_64\nsudo zypper install -y terraform\n\n# Alternative: Add HashiCorp repository\nsudo zypper addrepo https://rpm.releases.hashicorp.com/SLES/hashicorp.repo\nsudo zypper refresh\nsudo zypper install terraform\n\n# Verify installation\nterraform version\n```\n\n### macOS\n\n```bash\n# Using Homebrew\nbrew tap hashicorp/tap\nbrew install hashicorp/tap/terraform\n\n# Alternative: Install specific version\nbrew install terraform@1.6\n\n# Verify installation\nterraform version\n\n# Using tfenv for version management\nbrew install tfenv\ntfenv install latest\ntfenv use latest\n```\n\n### FreeBSD\n\n```bash\n# Using pkg\npkg install terraform\n\n# Using ports\ncd /usr/ports/sysutils/terraform\nmake install clean\n\n# Verify installation\nterraform version\n```\n\n### Windows\n\n```powershell\n# Method 1: Using Chocolatey\nchoco install terraform\n\n# Method 2: Using Scoop\nscoop bucket add main\nscoop install terraform\n\n# Method 3: Manual installation\n# Download from https://releases.hashicorp.com/terraform/\n# Extract terraform.exe to C:\\terraform\n# Add C:\\terraform to PATH\n\n# Method 4: Using Winget\nwinget install HashiCorp.Terraform\n\n# Verify installation\nterraform version\n```\n\n## Initial Configuration\n\n### First-Run Setup\n\n1. **Create terraform user** (optional for dedicated service):\n```bash\n# Linux systems\nsudo useradd -r -d /opt/terraform -s /sbin/nologin -c \"Terraform Service\" terraform\n```\n\n2. **Default configuration locations**:\n- RHEL/CentOS/Rocky/AlmaLinux: `/etc/terraform/` (custom) or `/usr/local/bin/`\n- Debian/Ubuntu: `/etc/terraform/` (custom) or `/usr/local/bin/`\n- Arch Linux: `/etc/terraform/` (custom) or `/usr/bin/`\n- Alpine Linux: `/etc/terraform/` (custom) or `/usr/bin/`\n- openSUSE/SLES: `/etc/terraform/` (custom) or `/usr/local/bin/`\n- macOS: `/usr/local/etc/terraform/` or `/opt/homebrew/etc/terraform/`\n- FreeBSD: `/usr/local/etc/terraform/`\n- Windows: `C:\\terraform\\` or `%APPDATA%\\terraform\\`\n\n3. **Essential initial configuration**:\n\n```bash\n# Create workspace directory\nmkdir -p ~/terraform/projects\ncd ~/terraform/projects\n\n# Create first Terraform configuration\ncat \u003e main.tf \u003c\u003cEOF\nterraform {\n  required_version = \"\u003e= 1.6\"\n  required_providers {\n    local = {\n      source  = \"hashicorp/local\"\n      version = \"~\u003e 2.0\"\n    }\n  }\n}\n\nresource \"local_file\" \"hello_world\" {\n  content  = \"Hello, World from Terraform!\"\n  filename = \"hello.txt\"\n}\nEOF\n\n# Initialize Terraform\nterraform init\n\n# Validate configuration\nterraform validate\n\n# Plan deployment\nterraform plan\n\n# Apply configuration\nterraform apply\n```\n\n### Testing Initial Setup\n\n```bash\n# Check Terraform version\nterraform version\n\n# Validate configuration\nterraform validate\n\n# Format configuration files\nterraform fmt\n\n# Initialize and test basic functionality\nterraform init\nterraform plan\nterraform apply\n\n# List state\nterraform state list\n\n# Show state details\nterraform show\n\n# Clean up test resources\nterraform destroy\n```\n\n**WARNING:** Configure proper authentication for cloud providers before deploying real infrastructure!\n\n## Service Management\n\n### systemd (Linux Systems)\n\n```bash\n# Create systemd service for Terraform agent (if using)\nsudo tee /etc/systemd/system/terraform-agent.service \u003c\u003cEOF\n[Unit]\nDescription=Terraform Agent\nAfter=network.target\n\n[Service]\nType=simple\nUser=terraform\nWorkingDirectory=/opt/terraform\nExecStart=/usr/local/bin/terraform-agent\nRestart=always\nRestartSec=10\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsudo systemctl daemon-reload\nsudo systemctl enable terraform-agent\n```\n\n### OpenRC (Alpine Linux)\n\n```bash\n# Create OpenRC service script\nsudo tee /etc/init.d/terraform-agent \u003c\u003cEOF\n#!/sbin/openrc-run\n\nname=\"terraform-agent\"\ndescription=\"Terraform Agent\"\ncommand=\"/usr/bin/terraform-agent\"\ncommand_user=\"terraform\"\ncommand_background=true\npidfile=\"/var/run/terraform-agent.pid\"\n\ndepend() {\n    need net\n}\nEOF\n\nsudo chmod +x /etc/init.d/terraform-agent\nrc-update add terraform-agent default\n```\n\n### rc.d (FreeBSD)\n\n```bash\n# Create rc.d script\nsudo tee /usr/local/etc/rc.d/terraform_agent \u003c\u003cEOF\n#!/bin/sh\n. /etc/rc.subr\n\nname=terraform_agent\nrcvar=terraform_agent_enable\ncommand=\"/usr/local/bin/terraform-agent\"\npidfile=\"/var/run/terraform_agent.pid\"\nstart_cmd=\"terraform_agent_start\"\n\nterraform_agent_start() {\n    daemon -p \\${pidfile} \\${command}\n}\n\nload_rc_config \\$name\nrun_rc_command \"\\$1\"\nEOF\n\nsudo chmod +x /usr/local/etc/rc.d/terraform_agent\necho 'terraform_agent_enable=\"YES\"' \u003e\u003e /etc/rc.conf\n```\n\n### launchd (macOS)\n\n```bash\n# Create LaunchDaemon plist\nsudo tee /Library/LaunchDaemons/com.hashicorp.terraform.agent.plist \u003c\u003cEOF\n\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\n\u003c!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"\u003e\n\u003cplist version=\"1.0\"\u003e\n\u003cdict\u003e\n    \u003ckey\u003eLabel\u003c/key\u003e\n    \u003cstring\u003ecom.hashicorp.terraform.agent\u003c/string\u003e\n    \u003ckey\u003eProgramArguments\u003c/key\u003e\n    \u003carray\u003e\n        \u003cstring\u003e/usr/local/bin/terraform-agent\u003c/string\u003e\n    \u003c/array\u003e\n    \u003ckey\u003eRunAtLoad\u003c/key\u003e\n    \u003ctrue/\u003e\n    \u003ckey\u003eKeepAlive\u003c/key\u003e\n    \u003ctrue/\u003e\n\u003c/dict\u003e\n\u003c/plist\u003e\nEOF\n\nsudo launchctl load /Library/LaunchDaemons/com.hashicorp.terraform.agent.plist\n```\n\n### Windows Service Manager\n\n```powershell\n# Install Terraform as Windows service using NSSM\nnssm install TerraformAgent \"C:\\terraform\\terraform-agent.exe\"\nnssm set TerraformAgent AppDirectory \"C:\\terraform\"\nnssm set TerraformAgent DisplayName \"Terraform Agent\"\nnssm set TerraformAgent Description \"HashiCorp Terraform Agent\"\nnssm start TerraformAgent\n\n# Alternative: Using sc command\nsc create TerraformAgent binPath=\"C:\\terraform\\terraform-agent.exe\" start=auto\nsc start TerraformAgent\n```\n\n## Advanced Configuration\n\n### Multi-Cloud Provider Setup\n\n```bash\n# Create comprehensive multi-cloud configuration\ncat \u003e providers.tf \u003c\u003cEOF\nterraform {\n  required_version = \"\u003e= 1.6\"\n  required_providers {\n    aws = {\n      source  = \"hashicorp/aws\"\n      version = \"~\u003e 5.0\"\n    }\n    azurerm = {\n      source  = \"hashicorp/azurerm\"\n      version = \"~\u003e 3.0\"\n    }\n    google = {\n      source  = \"hashicorp/google\"\n      version = \"~\u003e 5.0\"\n    }\n    kubernetes = {\n      source  = \"hashicorp/kubernetes\"\n      version = \"~\u003e 2.0\"\n    }\n    helm = {\n      source  = \"hashicorp/helm\"\n      version = \"~\u003e 2.0\"\n    }\n  }\n  \n  # Remote state configuration\n  backend \"s3\" {\n    bucket = \"terraform-state-bucket\"\n    key    = \"infrastructure/terraform.tfstate\"\n    region = \"us-west-2\"\n    \n    # State locking with DynamoDB\n    dynamodb_table = \"terraform-state-lock\"\n    encrypt        = true\n  }\n}\n\n# AWS Provider\nprovider \"aws\" {\n  region = var.aws_region\n  \n  default_tags {\n    tags = {\n      Environment   = var.environment\n      ManagedBy     = \"terraform\"\n      Project       = var.project_name\n      Owner         = var.owner\n    }\n  }\n}\n\n# Azure Provider\nprovider \"azurerm\" {\n  features {\n    resource_group {\n      prevent_deletion_if_contains_resources = false\n    }\n    key_vault {\n      purge_soft_delete_on_destroy = true\n    }\n  }\n}\n\n# Google Cloud Provider\nprovider \"google\" {\n  project = var.gcp_project_id\n  region  = var.gcp_region\n  zone    = var.gcp_zone\n}\n\n# Kubernetes Provider\nprovider \"kubernetes\" {\n  config_path = \"~/.kube/config\"\n}\n\n# Helm Provider\nprovider \"helm\" {\n  kubernetes {\n    config_path = \"~/.kube/config\"\n  }\n}\nEOF\n```\n\n### Enterprise Features Configuration\n\n```bash\n# Terraform Cloud/Enterprise configuration\ncat \u003e cloud.tf \u003c\u003cEOF\nterraform {\n  cloud {\n    organization = \"your-organization\"\n    \n    workspaces {\n      name = \"production-infrastructure\"\n    }\n  }\n}\n\n# Remote execution configuration\nterraform {\n  cloud {\n    organization = \"your-organization\"\n    \n    workspaces {\n      tags = [\"production\", \"web-app\"]\n    }\n  }\n  \n  required_providers {\n    tfe = {\n      source  = \"hashicorp/tfe\"\n      version = \"~\u003e 0.48\"\n    }\n  }\n}\n\n# Terraform Enterprise configuration\nprovider \"tfe\" {\n  hostname = \"terraform.company.com\"\n  token    = var.tfe_token\n}\n\n# Workspace configuration\nresource \"tfe_workspace\" \"production\" {\n  name         = \"production-infrastructure\"\n  organization = var.tfe_organization\n  \n  auto_apply = false\n  queue_all_runs = false\n  \n  terraform_version = \"1.6.4\"\n  \n  vcs_repo {\n    identifier     = \"company/infrastructure\"\n    branch         = \"main\"\n    oauth_token_id = var.vcs_oauth_token_id\n  }\n  \n  working_directory = \"environments/production\"\n}\nEOF\n```\n\n### Advanced State Management\n\n```bash\n# Encrypted remote state with multiple backends\ncat \u003e backend-s3.tf \u003c\u003cEOF\n# S3 backend with encryption and locking\nterraform {\n  backend \"s3\" {\n    bucket         = \"terraform-state-bucket\"\n    key            = \"infrastructure/terraform.tfstate\"\n    region         = \"us-west-2\"\n    encrypt        = true\n    kms_key_id     = \"arn:aws:kms:us-west-2:ACCOUNT:key/KEY-ID\"\n    dynamodb_table = \"terraform-state-lock\"\n    \n    # Additional security\n    skip_region_validation      = false\n    skip_credentials_validation = false\n    skip_metadata_api_check     = false\n  }\n}\n\n# State bucket with versioning and lifecycle\nresource \"aws_s3_bucket\" \"terraform_state\" {\n  bucket = \"terraform-state-bucket\"\n  \n  tags = {\n    Name        = \"Terraform State Bucket\"\n    Environment = var.environment\n  }\n}\n\nresource \"aws_s3_bucket_versioning\" \"terraform_state_versioning\" {\n  bucket = aws_s3_bucket.terraform_state.id\n  versioning_configuration {\n    status = \"Enabled\"\n  }\n}\n\nresource \"aws_s3_bucket_server_side_encryption_configuration\" \"terraform_state_encryption\" {\n  bucket = aws_s3_bucket.terraform_state.id\n\n  rule {\n    apply_server_side_encryption_by_default {\n      kms_master_key_id = aws_kms_key.terraform_bucket_key.arn\n      sse_algorithm     = \"aws:kms\"\n    }\n  }\n}\n\nresource \"aws_s3_bucket_public_access_block\" \"terraform_state\" {\n  bucket = aws_s3_bucket.terraform_state.id\n\n  block_public_acls       = true\n  block_public_policy     = true\n  ignore_public_acls      = true\n  restrict_public_buckets = true\n}\n\n# KMS key for encryption\nresource \"aws_kms_key\" \"terraform_bucket_key\" {\n  description             = \"KMS key for Terraform state bucket encryption\"\n  deletion_window_in_days = 7\n\n  tags = {\n    Name        = \"Terraform State Bucket Key\"\n    Environment = var.environment\n  }\n}\n\n# DynamoDB table for state locking\nresource \"aws_dynamodb_table\" \"terraform_state_lock\" {\n  name           = \"terraform-state-lock\"\n  billing_mode   = \"PAY_PER_REQUEST\"\n  hash_key       = \"LockID\"\n\n  attribute {\n    name = \"LockID\"\n    type = \"S\"\n  }\n\n  server_side_encryption {\n    enabled = true\n  }\n\n  point_in_time_recovery {\n    enabled = true\n  }\n\n  tags = {\n    Name        = \"Terraform State Lock Table\"\n    Environment = var.environment\n  }\n}\nEOF\n```\n\n## Reverse Proxy Setup\n\nTerraform itself doesn't typically require reverse proxy setup, but when using Terraform Enterprise or Cloud, you might need to configure proxies for API access:\n\n### Corporate Proxy Configuration\n\n```bash\n# Configure Terraform to work through corporate proxy\nexport HTTP_PROXY=http://proxy.company.com:8080\nexport HTTPS_PROXY=http://proxy.company.com:8080\nexport NO_PROXY=localhost,127.0.0.1,.company.com\n\n# Add to ~/.bashrc or ~/.zshrc\ncat \u003e\u003e ~/.bashrc \u003c\u003cEOF\n# Terraform proxy settings\nexport HTTP_PROXY=http://proxy.company.com:8080\nexport HTTPS_PROXY=http://proxy.company.com:8080\nexport NO_PROXY=localhost,127.0.0.1,.company.com\nEOF\n\n# Configure Git for proxy (if needed for modules)\ngit config --global http.proxy http://proxy.company.com:8080\ngit config --global https.proxy http://proxy.company.com:8080\n```\n\n### nginx Configuration for Terraform Enterprise\n\n```nginx\n# /etc/nginx/sites-available/terraform-enterprise\nupstream terraform_enterprise {\n    server 127.0.0.1:8800;\n    server 127.0.0.1:8801 backup;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name terraform.company.com;\n\n    ssl_certificate /etc/ssl/certs/terraform.company.com.crt;\n    ssl_certificate_key /etc/ssl/private/terraform.company.com.key;\n\n    # Security headers\n    add_header Strict-Transport-Security \"max-age=31536000\" always;\n    add_header X-Frame-Options \"DENY\" always;\n    add_header X-Content-Type-Options \"nosniff\" always;\n\n    location / {\n        proxy_pass http://terraform_enterprise;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        \n        # WebSocket support for real-time updates\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n        \n        # Timeouts for long-running operations\n        proxy_connect_timeout 60s;\n        proxy_send_timeout 60s;\n        proxy_read_timeout 300s;\n    }\n}\n```\n\n## Security Configuration\n\n### Secure Credential Management\n\n```bash\n# Use environment variables for credentials\ncat \u003e .env.example \u003c\u003cEOF\n# AWS credentials\nAWS_ACCESS_KEY_ID=your_access_key\nAWS_SECRET_ACCESS_KEY=your_secret_key\nAWS_DEFAULT_REGION=us-west-2\n\n# Azure credentials\nARM_CLIENT_ID=your_client_id\nARM_CLIENT_SECRET=your_client_secret\nARM_SUBSCRIPTION_ID=your_subscription_id\nARM_TENANT_ID=your_tenant_id\n\n# GCP credentials\nGOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json\nGOOGLE_PROJECT=your_project_id\n\n# Terraform Cloud\nTF_CLOUD_TOKEN=your_terraform_cloud_token\nEOF\n\n# Use IAM roles for AWS (recommended)\ncat \u003e aws-iam-role.tf \u003c\u003cEOF\n# IAM role for Terraform execution\nresource \"aws_iam_role\" \"terraform_execution\" {\n  name = \"TerraformExecutionRole\"\n\n  assume_role_policy = jsonencode({\n    Version = \"2012-10-17\"\n    Statement = [\n      {\n        Action = \"sts:AssumeRole\"\n        Effect = \"Allow\"\n        Principal = {\n          Service = \"ec2.amazonaws.com\"\n        }\n      },\n    ]\n  })\n}\n\n# Attach managed policies with least privilege\nresource \"aws_iam_role_policy_attachment\" \"terraform_execution\" {\n  for_each = toset([\n    \"arn:aws:iam::aws:policy/PowerUserAccess\"\n  ])\n  \n  role       = aws_iam_role.terraform_execution.name\n  policy_arn = each.value\n}\n\n# Create instance profile\nresource \"aws_iam_instance_profile\" \"terraform_execution\" {\n  name = \"TerraformExecutionProfile\"\n  role = aws_iam_role.terraform_execution.name\n}\nEOF\n```\n\n### Security Scanning and Compliance\n\n```bash\n# Pre-commit hooks for security\ncat \u003e .pre-commit-config.yaml \u003c\u003cEOF\nrepos:\n- repo: https://github.com/antonbabenko/pre-commit-terraform\n  rev: v1.83.5\n  hooks:\n    - id: terraform_fmt\n    - id: terraform_validate\n    - id: terraform_docs\n    - id: terraform_tflint\n    - id: terraform_checkov\n    - id: terraform_trivy\n\n- repo: https://github.com/Yelp/detect-secrets\n  rev: v1.4.0\n  hooks:\n    - id: detect-secrets\n      args: ['--baseline', '.secrets.baseline']\nEOF\n\n# Checkov configuration for security scanning\ncat \u003e .checkov.yaml \u003c\u003cEOF\nframework:\n  - terraform\n  - secrets\n\ncheck:\n  - CKV_AWS_79  # Ensure Instance Metadata Service Version 1 is not enabled\n  - CKV_AWS_8   # Ensure Launch Configuration EBS encryption\n  - CKV_AZURE_1 # Ensure storage account encryption\n\nskip-check:\n  - CKV_AWS_23  # Skip S3 bucket public read check for specific use cases\n\noutput: cli\nquiet: false\ncompact: false\nEOF\n\n# TFLint configuration\ncat \u003e .tflint.hcl \u003c\u003cEOF\nplugin \"aws\" {\n    enabled = true\n    version = \"0.21.2\"\n    source  = \"github.com/terraform-linters/tflint-ruleset-aws\"\n}\n\nplugin \"azurerm\" {\n    enabled = true\n    version = \"0.21.0\"\n    source  = \"github.com/terraform-linters/tflint-ruleset-azurerm\"\n}\n\nrule \"terraform_unused_declarations\" {\n  enabled = true\n}\n\nrule \"terraform_naming_convention\" {\n  enabled = true\n  format  = \"snake_case\"\n}\nEOF\n```\n\n### Policy as Code with OPA\n\n```bash\n# OPA (Open Policy Agent) security policies\ncat \u003e policy/security.rego \u003c\u003cEOF\npackage terraform.security\n\n# Deny instances without encryption\ndeny[reason] {\n    resource := input.resource_changes[_]\n    resource.type == \"aws_instance\"\n    resource.change.after.root_block_device[_].encrypted == false\n    reason := \"AWS instances must have encrypted root volumes\"\n}\n\n# Deny public S3 buckets\ndeny[reason] {\n    resource := input.resource_changes[_]\n    resource.type == \"aws_s3_bucket_public_access_block\"\n    resource.change.after.block_public_acls == false\n    reason := \"S3 buckets must block public access\"\n}\n\n# Require specific instance types in production\ndeny[reason] {\n    resource := input.resource_changes[_]\n    resource.type == \"aws_instance\"\n    instance_type := resource.change.after.instance_type\n    not allowed_instance_type(instance_type)\n    workspace := input.terraform_version.workspace\n    workspace == \"production\"\n    reason := sprintf(\"Production instances must use approved instance types, got: %v\", [instance_type])\n}\n\nallowed_instance_type(instance_type) {\n    allowed_types := [\"t3.micro\", \"t3.small\", \"t3.medium\", \"m5.large\", \"m5.xlarge\"]\n    instance_type in allowed_types\n}\nEOF\n\n# Policy validation script\ncat \u003e scripts/validate-policy.sh \u003c\u003c'EOF'\n#!/bin/bash\n\n# Generate Terraform plan\nterraform plan -out=tfplan\nterraform show -json tfplan \u003e tfplan.json\n\n# Validate against policies\nconftest test tfplan.json --policy policy/\n\n# Cleanup\nrm tfplan tfplan.json\nEOF\n\nchmod +x scripts/validate-policy.sh\n```\n\n## Database Setup\n\nTerraform doesn't require a traditional database, but it does use state files and can integrate with various storage backends:\n\n### State Storage Backends\n\n```bash\n# PostgreSQL backend (for Terraform Enterprise)\ncat \u003e backend-postgres.tf \u003c\u003cEOF\nterraform {\n  backend \"pg\" {\n    conn_str = \"postgres://user:pass@localhost/terraform_backend?sslmode=require\"\n  }\n}\nEOF\n\n# Consul backend for distributed state\ncat \u003e backend-consul.tf \u003c\u003cEOF\nterraform {\n  backend \"consul\" {\n    address = \"consul.company.com:8500\"\n    scheme  = \"https\"\n    path    = \"terraform/infrastructure\"\n  }\n}\nEOF\n\n# etcd backend\ncat \u003e backend-etcd.tf \u003c\u003cEOF\nterraform {\n  backend \"etcdv3\" {\n    endpoints = [\"http://etcd1:2379\", \"http://etcd2:2379\", \"http://etcd3:2379\"]\n    lock      = true\n    prefix    = \"terraform-state/\"\n  }\n}\nEOF\n```\n\n### Database Infrastructure Management\n\n```bash\n# Database deployment with Terraform\ncat \u003e database.tf \u003c\u003cEOF\n# RDS instance with Multi-AZ\nresource \"aws_db_instance\" \"main\" {\n  identifier = \"${var.project_name}-db\"\n  \n  engine         = \"postgresql\"\n  engine_version = \"15.4\"\n  instance_class = \"db.t3.micro\"\n  \n  allocated_storage     = 20\n  max_allocated_storage = 100\n  storage_type         = \"gp3\"\n  storage_encrypted    = true\n  kms_key_id          = aws_kms_key.rds.arn\n  \n  db_name  = var.database_name\n  username = var.database_username\n  password = var.database_password\n  port     = 5432\n  \n  multi_az               = true\n  publicly_accessible    = false\n  backup_retention_period = 7\n  backup_window          = \"03:00-04:00\"\n  maintenance_window     = \"sun:04:00-sun:05:00\"\n  \n  skip_final_snapshot = false\n  final_snapshot_identifier = \"${var.project_name}-db-final-snapshot\"\n  \n  vpc_security_group_ids = [aws_security_group.rds.id]\n  db_subnet_group_name   = aws_db_subnet_group.main.name\n  \n  tags = var.common_tags\n}\n\n# Database subnet group\nresource \"aws_db_subnet_group\" \"main\" {\n  name       = \"${var.project_name}-db-subnet-group\"\n  subnet_ids = var.private_subnet_ids\n\n  tags = merge(var.common_tags, {\n    Name = \"${var.project_name}-db-subnet-group\"\n  })\n}\n\n# KMS key for RDS encryption\nresource \"aws_kms_key\" \"rds\" {\n  description             = \"KMS key for RDS encryption\"\n  deletion_window_in_days = 7\n\n  tags = merge(var.common_tags, {\n    Name = \"${var.project_name}-rds-kms-key\"\n  })\n}\nEOF\n```\n\n## Performance Optimization\n\n### Terraform Performance Tuning\n\n```bash\n# Optimize Terraform execution\ncat \u003e terraform.tfvars \u003c\u003cEOF\n# Performance settings\nterraform_parallelism = 10\nterraform_refresh = true\nterraform_upgrade = false\nEOF\n\n# Performance optimization script\ncat \u003e scripts/optimize-terraform.sh \u003c\u003c'EOF'\n#!/bin/bash\n\n# Increase parallelism for faster execution\nexport TF_CLI_ARGS_plan=\"-parallelism=10\"\nexport TF_CLI_ARGS_apply=\"-parallelism=10\"\n\n# Use faster JSON output for large states\nexport TF_CLI_ARGS_show=\"-json\"\n\n# Optimize provider caching\nexport TF_PLUGIN_CACHE_DIR=\"$HOME/.terraform.d/plugin-cache\"\nmkdir -p \"$TF_PLUGIN_CACHE_DIR\"\n\n# Performance monitoring\necho \"Starting Terraform operation at $(date)\"\ntime terraform \"$@\"\necho \"Completed Terraform operation at $(date)\"\nEOF\n\nchmod +x scripts/optimize-terraform.sh\n```\n\n### Large Infrastructure Management\n\n```bash\n# Workspace and module organization\ncat \u003e modules/infrastructure/main.tf \u003c\u003cEOF\n# Optimized module structure for large deployments\nterraform {\n  required_providers {\n    aws = {\n      source  = \"hashicorp/aws\"\n      version = \"~\u003e 5.0\"\n    }\n  }\n}\n\n# Use data sources efficiently\ndata \"aws_availability_zones\" \"available\" {\n  state = \"available\"\n  \n  # Cache this data to avoid repeated API calls\n  lifecycle {\n    postcondition {\n      condition     = length(self.names) \u003e= 2\n      error_message = \"At least 2 availability zones required.\"\n    }\n  }\n}\n\n# Optimize resource creation with for_each\nresource \"aws_subnet\" \"private\" {\n  for_each = toset(slice(data.aws_availability_zones.available.names, 0, var.subnet_count))\n  \n  vpc_id            = aws_vpc.main.id\n  cidr_block        = cidrsubnet(var.vpc_cidr, 8, index(data.aws_availability_zones.available.names, each.value) + 10)\n  availability_zone = each.value\n  \n  tags = merge(var.common_tags, {\n    Name = \"${var.name_prefix}-private-${each.value}\"\n    Type = \"private\"\n  })\n}\n\n# Use locals for complex computations\nlocals {\n  # Pre-compute values to avoid recalculation\n  availability_zones = slice(data.aws_availability_zones.available.names, 0, var.subnet_count)\n  \n  # Create maps for efficient lookups\n  subnet_map = {\n    for subnet in aws_subnet.private : \n    subnet.availability_zone =\u003e subnet.id\n  }\n}\nEOF\n```\n\n### State Optimization\n\n```bash\n# State file optimization script\ncat \u003e scripts/optimize-state.sh \u003c\u003c'EOF'\n#!/bin/bash\n\n# Pull current state for backup\nterraform state pull \u003e state-backup-$(date +%Y%m%d_%H%M%S).json\n\n# Remove unused resources from state\nterraform state list | while read resource; do\n    if terraform plan -target=\"$resource\" | grep -q \"No changes\"; then\n        echo \"Checking if $resource can be safely removed...\"\n        # Add logic to safely remove unused resources\n    fi\ndone\n\n# Refresh state to sync with real infrastructure\nterraform refresh\n\necho \"State optimization completed\"\nEOF\n\nchmod +x scripts/optimize-state.sh\n```\n\n## Monitoring\n\n### Terraform Operations Monitoring\n\n```bash\n# Terraform execution monitoring\ncat \u003e scripts/monitor-terraform.sh \u003c\u003c'EOF'\n#!/bin/bash\n\nLOG_FILE=\"/var/log/terraform/operations.log\"\nMETRICS_FILE=\"/var/log/terraform/metrics.log\"\n\n# Ensure log directory exists\nmkdir -p \"$(dirname \"$LOG_FILE\")\"\nmkdir -p \"$(dirname \"$METRICS_FILE\")\"\n\n# Function to log operations\nlog_operation() {\n    local operation=\"$1\"\n    local status=\"$2\"\n    local duration=\"$3\"\n    local timestamp=$(date '+%Y-%m-%d %H:%M:%S')\n    \n    echo \"[$timestamp] Operation: $operation, Status: $status, Duration: ${duration}s\" \u003e\u003e \"$LOG_FILE\"\n    echo \"terraform_operation_duration{operation=\\\"$operation\\\",status=\\\"$status\\\"} $duration\" \u003e\u003e \"$METRICS_FILE\"\n}\n\n# Wrapper function for terraform commands\nterraform_monitored() {\n    local operation=\"$1\"\n    shift\n    local start_time=$(date +%s)\n    local exit_code=0\n    \n    echo \"Starting Terraform $operation at $(date)\"\n    \n    if terraform \"$operation\" \"$@\"; then\n        local end_time=$(date +%s)\n        local duration=$((end_time - start_time))\n        log_operation \"$operation\" \"success\" \"$duration\"\n        echo \"Terraform $operation completed successfully in ${duration}s\"\n    else\n        exit_code=$?\n        local end_time=$(date +%s)\n        local duration=$((end_time - start_time))\n        log_operation \"$operation\" \"failure\" \"$duration\"\n        echo \"Terraform $operation failed after ${duration}s\"\n        return $exit_code\n    fi\n}\n\n# Usage: terraform_monitored plan, terraform_monitored apply, etc.\nterraform_monitored \"$@\"\nEOF\n\nchmod +x scripts/monitor-terraform.sh\n```\n\n### Infrastructure Monitoring with Terraform\n\n```bash\n# Deploy monitoring stack with Terraform\ncat \u003e monitoring.tf \u003c\u003cEOF\n# CloudWatch alarms for infrastructure\nresource \"aws_cloudwatch_metric_alarm\" \"high_cpu\" {\n  for_each = toset(module.compute.instance_ids)\n  \n  alarm_name          = \"high-cpu-${each.key}\"\n  comparison_operator = \"GreaterThanThreshold\"\n  evaluation_periods  = \"2\"\n  metric_name        = \"CPUUtilization\"\n  namespace          = \"AWS/EC2\"\n  period             = \"300\"\n  statistic          = \"Average\"\n  threshold          = \"80\"\n  alarm_description  = \"This metric monitors EC2 CPU utilization\"\n\n  dimensions = {\n    InstanceId = each.value\n  }\n\n  alarm_actions = [aws_sns_topic.alerts.arn]\n  \n  tags = var.common_tags\n}\n\n# SNS topic for alerts\nresource \"aws_sns_topic\" \"alerts\" {\n  name = \"${var.project_name}-infrastructure-alerts\"\n  \n  tags = var.common_tags\n}\n\nresource \"aws_sns_topic_subscription\" \"email_alerts\" {\n  topic_arn = aws_sns_topic.alerts.arn\n  protocol  = \"email\"\n  endpoint  = var.alert_email\n}\n\n# Log group for Terraform operations\nresource \"aws_cloudwatch_log_group\" \"terraform_ops\" {\n  name              = \"/terraform/operations\"\n  retention_in_days = 30\n  \n  tags = var.common_tags\n}\n\n# Dashboard for infrastructure monitoring\nresource \"aws_cloudwatch_dashboard\" \"main\" {\n  dashboard_name = \"${var.project_name}-infrastructure\"\n\n  dashboard_body = jsonencode({\n    widgets = [\n      {\n        type   = \"metric\"\n        x      = 0\n        y      = 0\n        width  = 12\n        height = 6\n\n        properties = {\n          metrics = [\n            [\"AWS/EC2\", \"CPUUtilization\", \"InstanceId\", module.compute.instance_ids[0]],\n          ]\n          view    = \"timeSeries\"\n          stacked = false\n          region  = var.aws_region\n          title   = \"EC2 Instance CPU\"\n          period  = 300\n        }\n      }\n    ]\n  })\n}\nEOF\n```\n\n### Terraform Cloud Monitoring\n\n```bash\n# Monitor Terraform Cloud workspaces\ncat \u003e scripts/monitor-tf-cloud.sh \u003c\u003c'EOF'\n#!/bin/bash\n\nTF_CLOUD_TOKEN=\"${TF_CLOUD_TOKEN}\"\nORGANIZATION=\"${TF_ORGANIZATION}\"\n\n# Function to get workspace status\nget_workspace_status() {\n    local workspace_name=\"$1\"\n    \n    curl -s \\\n        --header \"Authorization: Bearer $TF_CLOUD_TOKEN\" \\\n        --header \"Content-Type: application/vnd.api+json\" \\\n        \"https://app.terraform.io/api/v2/organizations/$ORGANIZATION/workspaces/$workspace_name/current-run\" \\\n        | jq -r '.data.attributes.status'\n}\n\n# Function to get workspace runs\nget_recent_runs() {\n    local workspace_id=\"$1\"\n    \n    curl -s \\\n        --header \"Authorization: Bearer $TF_CLOUD_TOKEN\" \\\n        --header \"Content-Type: application/vnd.api+json\" \\\n        \"https://app.terraform.io/api/v2/workspaces/$workspace_id/runs\" \\\n        | jq -r '.data[].attributes | \"\\(.status) - \\(.created_at)\"'\n}\n\n# Monitor critical workspaces\nWORKSPACES=(\"production-web\" \"production-database\" \"staging-environment\")\n\nfor workspace in \"${WORKSPACES[@]}\"; do\n    status=$(get_workspace_status \"$workspace\")\n    echo \"Workspace: $workspace, Status: $status\"\n    \n    if [[ \"$status\" == \"errored\" ]]; then\n        echo \"❌ ALERT: Workspace $workspace has errors!\"\n        # Send alert to monitoring system\n        curl -X POST \\\n            -H \"Content-Type: application/json\" \\\n            -d \"{\\\"text\\\": \\\"Terraform workspace $workspace has errors\\\"}\" \\\n            \"$SLACK_WEBHOOK_URL\"\n    elif [[ \"$status\" == \"planned_and_finished\" ]]; then\n        echo \"✅ Workspace $workspace is healthy\"\n    fi\ndone\nEOF\n\nchmod +x scripts/monitor-tf-cloud.sh\n```\n\n## Backup and Restore\n\n### State File Backup\n\n```bash\n# Comprehensive state backup script\ncat \u003e scripts/backup-terraform-state.sh \u003c\u003c'EOF'\n#!/bin/bash\n\nBACKUP_DIR=\"/backup/terraform\"\nDATE=$(date +%Y%m%d_%H%M%S)\nENVIRONMENTS=(\"development\" \"staging\" \"production\")\n\nmkdir -p \"$BACKUP_DIR\"\n\nbackup_state() {\n    local environment=\"$1\"\n    local backup_path=\"$BACKUP_DIR/$environment\"\n    \n    echo \"Backing up $environment state...\"\n    mkdir -p \"$backup_path\"\n    \n    # Change to environment directory\n    cd \"environments/$environment\" || return 1\n    \n    # Pull current state\n    terraform state pull \u003e \"$backup_path/terraform-state-$DATE.json\"\n    \n    # Backup configuration files\n    tar -czf \"$backup_path/terraform-config-$DATE.tar.gz\" \\\n        --exclude=\".terraform\" \\\n        --exclude=\"*.tfplan\" \\\n        .\n    \n    # Backup workspace info\n    terraform workspace show \u003e \"$backup_path/current-workspace-$DATE.txt\"\n    terraform workspace list \u003e \"$backup_path/all-workspaces-$DATE.txt\"\n    \n    # Backup provider versions\n    terraform version \u003e \"$backup_path/terraform-version-$DATE.txt\"\n    \n    cd - \u003e /dev/null\n    \n    echo \"✅ Backup completed for $environment\"\n}\n\n# Backup all environments\nfor env in \"${ENVIRONMENTS[@]}\"; do\n    if [[ -d \"environments/$env\" ]]; then\n        backup_state \"$env\"\n    else\n        echo \"⚠️  Environment directory not found: environments/$env\"\n    fi\ndone\n\n# Create consolidated backup\ncd \"$BACKUP_DIR\"\ntar -czf \"terraform-complete-backup-$DATE.tar.gz\" \\\n    --exclude=\"*.tar.gz\" \\\n    .\n\n# Upload to cloud storage\nif command -v aws \u0026\u003e /dev/null; then\n    aws s3 cp \"terraform-complete-backup-$DATE.tar.gz\" \\\n        s3://terraform-backups/\nfi\n\nif command -v az \u0026\u003e /dev/null; then\n    az storage blob upload \\\n        --file \"terraform-complete-backup-$DATE.tar.gz\" \\\n        --container-name terraform-backups \\\n        --name \"terraform-complete-backup-$DATE.tar.gz\"\nfi\n\nif command -v gsutil \u0026\u003e /dev/null; then\n    gsutil cp \"terraform-complete-backup-$DATE.tar.gz\" \\\n        gs://terraform-backups/\nfi\n\n# Cleanup old backups (keep last 30 days)\nfind \"$BACKUP_DIR\" -name \"terraform-complete-backup-*.tar.gz\" \\\n    -mtime +30 -delete\n\necho \"🎉 All backups completed successfully\"\nEOF\n\nchmod +x scripts/backup-terraform-state.sh\n```\n\n### Disaster Recovery Procedures\n\n```bash\n# Disaster recovery script\ncat \u003e scripts/disaster-recovery.sh \u003c\u003c'EOF'\n#!/bin/bash\n\nBACKUP_FILE=\"$1\"\nTARGET_ENVIRONMENT=\"$2\"\n\nif [[ -z \"$BACKUP_FILE\" || -z \"$TARGET_ENVIRONMENT\" ]]; then\n    echo \"Usage: $0 \u003cbackup-file.tar.gz\u003e \u003ctarget-environment\u003e\"\n    echo \"Example: $0 terraform-complete-backup-20240115_143000.tar.gz production\"\n    exit 1\nfi\n\n# Verify backup file exists\nif [[ ! -f \"$BACKUP_FILE\" ]]; then\n    echo \"❌ Backup file not found: $BACKUP_FILE\"\n    exit 1\nfi\n\n# Create recovery directory\nRECOVERY_DIR=\"/tmp/terraform-recovery-$(date +%s)\"\nmkdir -p \"$RECOVERY_DIR\"\n\n# Extract backup\necho \"📦 Extracting backup...\"\ntar -xzf \"$BACKUP_FILE\" -C \"$RECOVERY_DIR\"\n\n# Navigate to target environment\ncd \"environments/$TARGET_ENVIRONMENT\" || {\n    echo \"❌ Target environment directory not found: environments/$TARGET_ENVIRONMENT\"\n    exit 1\n}\n\n# Backup current state before recovery\necho \"💾 Backing up current state...\"\nterraform state pull \u003e \"current-state-backup-$(date +%Y%m%d_%H%M%S).json\"\n\n# Import recovered state\nRECOVERED_STATE=\"$RECOVERY_DIR/$TARGET_ENVIRONMENT/terraform-state-*.json\"\nif [[ -f $RECOVERED_STATE ]]; then\n    echo \"🔄 Restoring state from backup...\"\n    terraform state push \"$RECOVERED_STATE\"\nelse\n    echo \"❌ No state file found in backup for environment: $TARGET_ENVIRONMENT\"\n    exit 1\nfi\n\n# Verify state consistency\necho \"🔍 Verifying state consistency...\"\nif terraform plan -detailed-exitcode; then\n    echo \"✅ State restored successfully - no drift detected\"\nelif [[ $? -eq 2 ]]; then\n    echo \"⚠️  State restored but drift detected - manual review required\"\n    terraform plan\nelse\n    echo \"❌ State restoration failed - check error messages above\"\n    exit 1\nfi\n\n# Cleanup\nrm -rf \"$RECOVERY_DIR\"\n\necho \"🎉 Disaster recovery completed for environment: $TARGET_ENVIRONMENT\"\necho \"💡 Please review the plan output and apply changes if necessary\"\nEOF\n\nchmod +x scripts/disaster-recovery.sh\n```\n\n### State Migration and Refactoring\n\n```bash\n# State migration script for refactoring\ncat \u003e scripts/migrate-state.sh \u003c\u003c'EOF'\n#!/bin/bash\n\n# Function to safely move resources in state\nmove_resource() {\n    local old_address=\"$1\"\n    local new_address=\"$2\"\n    \n    echo \"Moving $old_address to $new_address\"\n    \n    # Check if source resource exists\n    if terraform state show \"$old_address\" \u0026\u003e/dev/null; then\n        terraform state mv \"$old_address\" \"$new_address\"\n        echo \"✅ Successfully moved $old_address to $new_address\"\n    else\n        echo \"⚠️  Resource not found: $old_address\"\n    fi\n}\n\n# Function to import existing resources\nimport_resource() {\n    local resource_address=\"$1\"\n    local resource_id=\"$2\"\n    \n    echo \"Importing $resource_id as $resource_address\"\n    \n    if terraform import \"$resource_address\" \"$resource_id\"; then\n        echo \"✅ Successfully imported $resource_id as $resource_address\"\n    else\n        echo \"❌ Failed to import $resource_id\"\n    fi\n}\n\n# Example migrations\necho \"🔄 Starting state migrations...\"\n\n# Move resources to modules\nmove_resource \"aws_instance.web\" \"module.web_servers.aws_instance.main[0]\"\nmove_resource \"aws_security_group.web\" \"module.web_servers.aws_security_group.main\"\n\n# Import existing resources\nimport_resource \"aws_s3_bucket.existing_bucket\" \"existing-bucket-name\"\n\n# Remove resources that are no longer managed\nterraform state rm aws_instance.deprecated\n\necho \"🎉 State migrations completed\"\necho \"💡 Run 'terraform plan' to verify changes\"\nEOF\n\nchmod +x scripts/migrate-state.sh\n```\n\n## Troubleshooting\n\n### Common Issues and Solutions\n\n```bash\n# Terraform troubleshooting script\ncat \u003e scripts/troubleshoot-terraform.sh \u003c\u003c'EOF'\n#!/bin/bash\n\necho \"🔧 Terraform Troubleshooting Tool\"\necho \"================================\"\n\n# Check Terraform installation\ncheck_installation() {\n    echo \"📋 Checking Terraform installation...\"\n    \n    if command -v terraform \u0026\u003e /dev/null; then\n        terraform version\n        echo \"✅ Terraform is installed\"\n    else\n        echo \"❌ Terraform is not installed or not in PATH\"\n        return 1\n    fi\n}\n\n# Check configuration syntax\ncheck_configuration() {\n    echo \"📋 Checking configuration syntax...\"\n    \n    if terraform fmt -check -diff; then\n        echo \"✅ Configuration is properly formatted\"\n    else\n        echo \"⚠️  Configuration formatting issues found\"\n        terraform fmt -diff\n    fi\n    \n    if terraform validate; then\n        echo \"✅ Configuration is valid\"\n    else\n        echo \"❌ Configuration validation failed\"\n        return 1\n    fi\n}\n\n# Check provider authentication\ncheck_providers() {\n    echo \"📋 Checking provider authentication...\"\n    \n    # AWS\n    if aws sts get-caller-identity \u0026\u003e/dev/null; then\n        echo \"✅ AWS credentials are valid\"\n    else\n        echo \"⚠️  AWS credentials may be invalid or not configured\"\n    fi\n    \n    # Azure\n    if az account show \u0026\u003e/dev/null; then\n        echo \"✅ Azure credentials are valid\"\n    else\n        echo \"⚠️  Azure credentials may be invalid or not configured\"\n    fi\n    \n    # GCP\n    if gcloud auth list --filter=status:ACTIVE --format=\"value(account)\" \u0026\u003e/dev/null; then\n        echo \"✅ GCP credentials are valid\"\n    else\n        echo \"⚠️  GCP credentials may be invalid or not configured\"\n    fi\n}\n\n# Check state file\ncheck_state() {\n    echo \"📋 Checking state file...\"\n    \n    if terraform state list \u0026\u003e/dev/null; then\n        resource_count=$(terraform state list | wc -l)\n        echo \"✅ State file is accessible with $resource_count resources\"\n    else\n        echo \"❌ Cannot access state file\"\n        return 1\n    fi\n}\n\n# Check for common issues\ncheck_common_issues() {\n    echo \"📋 Checking for common issues...\"\n    \n    # Check for lock file\n    if [[ -f \".terraform.lock.hcl\" ]]; then\n        echo \"✅ Lock file exists\"\n    else\n        echo \"⚠️  Lock file missing - run 'terraform init'\"\n    fi\n    \n    # Check for local state file in production\n    if [[ -f \"terraform.tfstate\" ]] \u0026\u0026 [[ $(terraform workspace show) == \"production\" ]]; then\n        echo \"⚠️  Local state file detected in production workspace\"\n        echo \"    Consider using remote state for production\"\n    fi\n    \n    # Check for hardcoded secrets\n    if grep -r \"password\\s*=\\s*\\\"\" . --include=\"*.tf\" --include=\"*.tfvars\" 2\u003e/dev/null; then\n        echo \"⚠️  Potential hardcoded passwords found\"\n    fi\n    \n    # Check for large state file\n    if [[ -f \"terraform.tfstate\" ]]; then\n        state_size=$(stat -f%z \"terraform.tfstate\" 2\u003e/dev/null || stat -c%s \"terraform.tfstate\" 2\u003e/dev/null)\n        if [[ $state_size -gt 10485760 ]]; then  # 10MB\n            echo \"⚠️  Large state file detected ($(($state_size / 1024 / 1024))MB)\"\n            echo \"    Consider splitting into smaller configurations\"\n        fi\n    fi\n}\n\n# Debug mode information\ndebug_info() {\n    echo \"📋 Debug information...\"\n    \n    echo \"Working directory: $(pwd)\"\n    echo \"Terraform workspace: $(terraform workspace show)\"\n    echo \"Environment variables:\"\n    env | grep -E \"^(TF_|AWS_|ARM_|GOOGLE_)\" | sed 's/=.*/=***/' | sort\n}\n\n# Run all checks\nrun_all_checks() {\n    check_installation || return 1\n    check_configuration || return 1\n    check_providers\n    check_state || return 1\n    check_common_issues\n    debug_info\n}\n\n# Main execution\ncase \"${1:-all}\" in\n    \"installation\")\n        check_installation\n        ;;\n    \"config\")\n        check_configuration\n        ;;\n    \"providers\")\n        check_providers\n        ;;\n    \"state\")\n        check_state\n        ;;\n    \"common\")\n        check_common_issues\n        ;;\n    \"debug\")\n        debug_info\n        ;;\n    \"all\")\n        run_all_checks\n        ;;\n    *)\n        echo \"Usage: $0 [installation|config|providers|state|common|debug|all]\"\n        exit 1\n        ;;\nesac\nEOF\n\nchmod +x scripts/troubleshoot-terraform.sh\n```\n\n### Advanced Debugging\n\n```bash\n# Advanced debugging techniques\ncat \u003e scripts/debug-terraform.sh \u003c\u003c'EOF'\n#!/bin/bash\n\n# Enable debug logging\nexport TF_LOG=DEBUG\nexport TF_LOG_PATH=\"terraform-debug-$(date +%Y%m%d_%H%M%S).log\"\n\n# Create debug session\ndebug_session() {\n    local operation=\"$1\"\n    shift\n    \n    echo \"🐛 Starting debug session for: $operation\"\n    echo \"Debug log: $TF_LOG_PATH\"\n    \n    # Capture detailed timing information\n    time terraform \"$operation\" \"$@\" 2\u003e\u00261 | tee -a \"$TF_LOG_PATH\"\n    \n    local exit_code=${PIPESTATUS[0]}\n    \n    if [[ $exit_code -ne 0 ]]; then\n        echo \"❌ Operation failed with exit code: $exit_code\"\n        echo \"📄 Last 50 lines of debug log:\"\n        tail -50 \"$TF_LOG_PATH\"\n    else\n        echo \"✅ Operation completed successfully\"\n    fi\n    \n    return $exit_code\n}\n\n# Analyze state file for issues\nanalyze_state() {\n    echo \"🔍 Analyzing state file...\"\n    \n    # Check for orphaned resources\n    echo \"Checking for potential orphaned resources...\"\n    terraform state list | while read resource; do\n        if ! terraform plan -target=\"$resource\" -detailed-exitcode \u003e/dev/null 2\u003e\u00261; then\n            echo \"⚠️  Potential issue with resource: $resource\"\n        fi\n    done\n    \n    # Check for large resources in state\n    echo \"Checking for large resources...\"\n    terraform state pull | jq -r '.resources[] | select(.instances[0].attributes | length \u003e 50) | .address' 2\u003e/dev/null | head -10\n}\n\n# Provider debug information\ndebug_providers() {\n    echo \"🔍 Debugging provider issues...\"\n    \n    # Show provider configuration\n    terraform providers\n    \n    # Check provider cache\n    if [[ -d \"$HOME/.terraform.d/plugin-cache\" ]]; then\n        echo \"Provider cache contents:\"\n        ls -la \"$HOME/.terraform.d/plugin-cache\"\n    fi\n    \n    # Check for provider version conflicts\n    terraform version -json | jq '.provider_selections' 2\u003e/dev/null\n}\n\n# Network and API debugging\ndebug_network() {\n    echo \"🌐 Debugging network connectivity...\"\n    \n    # Test connectivity to common endpoints\n    local endpoints=(\n        \"https://releases.hashicorp.com\"\n        \"https://registry.terraform.io\"\n        \"https://api.github.com\"\n        \"https://aws.amazon.com\"\n        \"https://management.azure.com\"\n        \"https://www.googleapis.com\"\n    )\n    \n    for endpoint in \"${endpoints[@]}\"; do\n        if curl -s --connect-timeout 5 \"$endpoint\" \u003e/dev/null; then\n            echo \"✅ $endpoint - OK\"\n        else\n            echo \"❌ $endpoint - FAILED\"\n        fi\n    done\n}\n\n# Performance analysis\nanalyze_performance() {\n    echo \"📊 Analyzing Terraform performance...\"\n    \n    # Generate and analyze dependency graph\n    terraform graph \u003e dependency-graph.dot\n    \n    # Count resources by type\n    echo \"Resource distribution:\"\n    terraform state list | cut -d. -f1 | sort | uniq -c | sort -nr | head -10\n    \n    # Estimate plan time based on resources\n    resource_count=$(terraform state list | wc -l)\n    estimated_time=$((resource_count * 2))  # Rough estimate: 2 seconds per resource\n    echo \"Estimated plan time: ${estimated_time} seconds for $resource_count resources\"\n}\n\n# Usage\ncase \"${1:-help}\" in\n    \"session\")\n        shift\n        debug_session \"$@\"\n        ;;\n    \"state\")\n        analyze_state\n        ;;\n    \"providers\")\n        debug_providers\n        ;;\n    \"network\")\n        debug_network\n        ;;\n    \"performance\")\n        analyze_performance\n        ;;\n    \"all\")\n        debug_providers\n        debug_network\n        analyze_state\n        analyze_performance\n        ;;\n    \"help\"|*)\n        echo \"Usage: $0 [session|state|providers|network|performance|all]\"\n        echo \"\"\n        echo \"  session \u003coperation\u003e [args]  - Debug specific Terraform operation\"\n        echo \"  state                       - Analyze state file for issues\"\n        echo \"  providers                   - Debug provider configuration\"\n        echo \"  network                     - Test network connectivity\"\n        echo \"  performance                 - Analyze performance characteristics\"\n        echo \"  all                         - Run all debug checks\"\n        ;;\nesac\nEOF\n\nchmod +x scripts/debug-terraform.sh\n```\n\n## Maintenance\n\n### Update Procedures\n\n```bash\n# Terraform update script\ncat \u003e scripts/update-terraform.sh \u003c\u003c'EOF'\n#!/bin/bash\n\nCURRENT_VERSION=$(terraform version -json | jq -r '.terraform_version')\necho \"Current Terraform version: $CURRENT_VERSION\"\n\n# Check for latest version\ncheck_latest_version() {\n    local latest_version\n    latest_version=$(curl -s https://api.github.com/repos/hashicorp/terraform/releases/latest | jq -r '.tag_name' | sed 's/v//')\n    echo \"Latest Terraform version: $latest_version\"\n    \n    if [[ \"$CURRENT_VERSION\" != \"$latest_version\" ]]; then\n        echo \"⚠️  Update available: $CURRENT_VERSION → $latest_version\"\n        return 1\n    else\n        echo \"✅ Terraform is up to date\"\n        return 0\n    fi\n}\n\n# Update using package manager\nupdate_terraform() {\n    echo \"🔄 Updating Terraform...\"\n    \n    if command -v apt \u0026\u003e/dev/null; then\n        sudo apt update \u0026\u0026 sudo apt upgrade terraform\n    elif command -v yum \u0026\u003e/dev/null; then\n        sudo yum update terraform\n    elif command -v dnf \u0026\u003e/dev/null; then\n        sudo dnf update terraform\n    elif command -v pacman \u0026\u003e/dev/null; then\n        sudo pacman -Syu terraform\n    elif command -v zypper \u0026\u003e/dev/null; then\n        sudo zypper update terraform\n    elif command -v brew \u0026\u003e/dev/null; then\n        brew upgrade terraform\n    else\n        echo \"❌ No supported package manager found\"\n        echo \"💡 Please update manually from: https://releases.hashicorp.com/terraform/\"\n        return 1\n    fi\n}\n\n# Update providers\nupdate_providers() {\n    echo \"🔄 Updating providers...\"\n    terraform init -upgrade\n}\n\n# Verify update\nverify_update() {\n    echo \"🔍 Verifying update...\"\n    \n    terraform version\n    \n    # Test basic functionality\n    if terraform validate; then\n        echo \"✅ Update verification successful\"\n    else\n        echo \"❌ Update verification failed\"\n        return 1\n    fi\n}\n\n# Main update process\nmain() {\n    if check_latest_version; then\n        exit 0\n    fi\n    \n    echo \"Proceed with update? (y/N)\"\n    read -r response\n    \n    if [[ \"$response\" =~ ^[Yy]$ ]]; then\n        update_terraform || exit 1\n        update_providers || exit 1\n        verify_update || exit 1\n        echo \"🎉 Terraform update completed successfully\"\n    else\n        echo \"Update cancelled\"\n    fi\n}\n\nmain \"$@\"\nEOF\n\nchmod +x scripts/update-terraform.sh\n```\n\n### Maintenance Tasks\n\n```bash\n# Comprehensive maintenance script\ncat \u003e scripts/terraform-maintenance.sh \u003c\u003c'EOF'\n#!/bin/bash\n\nMAINTENANCE_LOG=\"/var/log/terraform-maintenance-$(date +%Y%m%d_%H%M%S).log\"\n\nlog() {\n    echo \"$(date '+%Y-%m-%d %H:%M:%S') - $1\" | tee -a \"$MAINTENANCE_LOG\"\n}\n\n# Cleanup old plan files\ncleanup_plans() {\n    log \"🧹 Cleaning up old plan files...\"\n    find . -name \"*.tfplan\" -mtime +7 -delete\n    find . -name \"*.tfplan.json\" -mtime +7 -delete\n    log \"✅ Plan file cleanup completed\"\n}\n\n# Cleanup provider cache\ncleanup_provider_cache() {\n    log \"🧹 Cleaning up provider cache...\"\n    if [[ -d \"$HOME/.terraform.d/plugin-cache\" ]]; then\n        # Remove providers older than 30 days\n        find \"$HOME/.terraform.d/plugin-cache\" -type f -mtime +30 -delete\n        \n        # Remove empty directories\n        find \"$HOME/.terraform.d/plugin-cache\" -type d -empty -delete\n        \n        cache_size=$(du -sh \"$HOME/.terraform.d/plugin-cache\" 2\u003e/dev/null | cut -f1)\n        log \"✅ Provider cache cleanup completed - current size: $cache_size\"\n    fi\n}\n\n# Validate all configurations\nvalidate_configurations() {\n    log \"🔍 Validating all configurations...\"\n    \n    local validation_failed=false\n    \n    # Find all directories with Terraform files\n    find . -name \"*.tf\" -exec dirname {} \\; | sort -u | while read -r dir; do\n        log \"Validating: $dir\"\n        cd \"$dir\" || continue\n        \n        if terraform validate; then\n            log \"✅ $dir validation passed\"\n        else\n            log \"❌ $dir validation failed\"\n            validation_failed=true\n        fi\n        \n        cd - \u003e /dev/null\n    done\n    \n    if [[ \"$validation_failed\" == \"true\" ]]; then\n        log \"⚠️  Some validations failed - please review\"\n    else\n        log \"✅ All validations passed\"\n    fi\n}\n\n# Check for deprecated features\ncheck_deprecated() {\n    log \"🔍 Checking for deprecated features...\"\n    \n    # Check for deprecated syntax\n    local deprecated_patterns=(\n        \"provider\\s+\\\"[^\\\"]+\\\"\\s+{\" # Old provider syntax\n        \"terraform\\s+{[^}]*version\\s*=\" # Old terraform version constraints\n        \"ignore_changes\\s*=\" # Old ignore_changes syntax\n    )\n    \n    for pattern in \"${deprecated_patterns[@]}\"; do\n        if grep -r \"$pattern\" . --include=\"*.tf\" 2\u003e/dev/null; then\n            log \"⚠️  Deprecated pattern found: $pattern\"\n        fi\n    done\n    \n    log \"✅ Deprecation check completed\"\n}\n\n# Security audit\nsecurity_audit() {\n    log \"🔒 Performing security audit...\"\n    \n    # Check for potential security issues\n    local security_issues=()\n    \n    # Check for hardcoded secrets\n    if grep -r -i \"password\\s*=\\s*\\\"[^$]\" . --include=\"*.tf\" --include=\"*.tfvars\" 2\u003e/dev/null; then\n        security_issues+=(\"Potential hardcoded passwords\")\n    fi\n    \n    # Check for public access\n    if grep -r \"0.0.0.0/0\" . --include=\"*.tf\" 2\u003e/dev/null; then\n        security_issues+=(\"Public access (0.0.0.0/0) found\")\n    fi\n    \n    # Check for unencrypted resources\n    if grep -r \"encrypt.*=.*false\" . --include=\"*.tf\" 2\u003e/dev/null; then\n        security_issues+=(\"Unencrypted resources found\")\n    fi\n    \n    if [[ ${#security_issues[@]} -gt 0 ]]; then\n        log \"⚠️  Security issues found:\"\n        for issue in \"${security_issues[@]}\"; do\n            log \"  - $issue\"\n        done\n    else\n        log \"✅ No obvious security issues found\"\n    fi\n}\n\n# State health check\nstate_health_check() {\n    log \"🏥 Performing state health check...\"\n    \n    # Check state file size\n    if [[ -f \"terraform.tfstate\" ]]; then\n        state_size=$(stat -f%z \"terraform.tfstate\" 2\u003e/dev/null || stat -c%s \"terraform.tfstate\" 2\u003e/dev/null)\n        state_size_mb=$((state_size / 1024 / 1024))\n        \n        if [[ $state_size_mb -gt 50 ]]; then\n            log \"⚠️  Large state file detected: ${state_size_mb}MB\"\n        else\n            log \"✅ State file size OK: ${state_size_mb}MB\"\n        fi\n    fi\n    \n    # Check for drift\n    if terraform plan -detailed-exitcode \u003e /dev/null 2\u003e\u00261; then\n        log \"✅ No infrastructure drift detected\"\n    else\n        exit_code=$?\n        if [[ $exit_code -eq 2 ]]; then\n            log \"⚠️  Infrastructure drift detected\"\n        else\n            log \"❌ Error checking for drift\"\n        fi\n    fi\n}\n\n# Generate maintenance report\ngenerate_report() {\n    log \"📊 Generating maintenance report...\"\n    \n    local report_file=\"/tmp/terraform-maintenance-report-$(date +%Y%m%d_%H%M%S).md\"\n    \n    cat \u003e \"$report_file\" \u003c\u003cEOF\n# Terraform Maintenance Report\n\n**Date:** $(date)\n**Duration:** $((SECONDS / 60)) minutes\n\n## Summary\n\n- Configuration validation: $(grep \"validation\" \"$MAINTENANCE_LOG\" | grep -c \"passed\")\n- Security audit: Completed\n- State health check: Completed\n- Cleanup operations: Completed\n\n## Recommendations\n\n$(grep \"⚠️\" \"$MAINTENANCE_LOG\" | sed 's/.*⚠️  /- /')\n\n## Full Log\n\n\\`\\`\\`\n$(cat \"$MAINTENANCE_LOG\")\n\\`\\`\\`\nEOF\n    \n    log \"📄 Maintenance report generated: $report_file\"\n    \n    # Email report if configured\n    if [[ -n \"$MAINTENANCE_EMAIL\" ]]; then\n        mail -s \"Terraform Maintenance Report - $(date)\" \"$MAINTENANCE_EMAIL\" \u003c \"$report_file\"\n        log \"📧 Report emailed to: $MAINTENANCE_EMAIL\"\n    fi\n}\n\n# Main maintenance routine\nmain() {\n    log \"🚀 Starting Terraform maintenance...\"\n    \n    cleanup_plans\n    cleanup_provider_cache\n    validate_configurations\n    check_deprecated\n    security_audit\n    state_health_check\n    generate_report\n    \n    log \"🎉 Terraform maintenance completed\"\n    log \"📊 Total runtime: $((SECONDS / 60)) minutes\"\n}\n\n# Run maintenance\nmain \"$@\"\nEOF\n\nchmod +x scripts/terraform-maintenance.sh\n\n# Schedule maintenance with cron\ncat \u003e scripts/schedule-maintenance.sh \u003c\u003c'EOF'\n#!/bin/bash\n\n# Add to crontab for weekly maintenance\n(crontab -l 2\u003e/dev/null; echo \"0 2 * * 0 /path/to/terraform-maintenance.sh\") | crontab -\n\necho \"✅ Weekly maintenance scheduled for Sundays at 2 AM\"\nEOF\n\nchmod +x scripts/schedule-maintenance.sh\n```\n\n## Integration Examples\n\n### CI/CD Pipeline Integration\n\n```bash\n# GitHub Actions workflow\nmkdir -p .github/workflows\ncat \u003e .github/workflows/terraform.yml \u003c\u003cEOF\nname: Terraform Multi-Cloud Deployment\n\non:\n  push:\n    branches: [ main, develop ]\n  pull_request:\n    branches: [ main ]\n\nenv:\n  TF_VERSION: 1.6.4\n\njobs:\n  terraform:\n    runs-on: ubuntu-latest\n    strategy:\n      matrix:\n        environment: [development, staging, production]\n        \n    steps:\n    - name: Checkout code\n      uses: actions/checkout@v4\n    \n    - name: Setup Terraform\n      uses: hashicorp/setup-terraform@v3\n      with:\n        terraform_version: \\${{ env.TF_VERSION }}\n        cli_config_credentials_token: \\${{ secrets.TF_CLOUD_TOKEN }}\n    \n    - name: Configure AWS credentials\n      uses: aws-actions/configure-aws-credentials@v4\n      with:\n        aws-access-key-id: \\${{ secrets.AWS_ACCESS_KEY_ID }}\n        aws-secret-access-key: \\${{ secrets.AWS_SECRET_ACCESS_KEY }}\n        aws-region: us-west-2\n    \n    - name: Terraform Format Check\n      run: terraform fmt -check -recursive\n    \n    - name: Terraform Initialize\n      run: terraform init\n      working-directory: environments/\\${{ matrix.environment }}\n    \n    - name: Terraform Validate\n      run: terraform validate\n      working-directory: environments/\\${{ matrix.environment }}\n    \n    - name: Terraform Plan\n      run: terraform plan -var-file=\"\\${{ matrix.environment }}.tfvars\"\n      working-directory: environments/\\${{ matrix.environment }}\n    \n    - name: Security Scan with Checkov\n      uses: bridgecrewio/checkov-action@master\n      with:\n        directory: .\n        framework: terraform\n        output_format: sarif\n        output_file_path: checkov.sarif\n    \n    - name: Upload Checkov results\n      uses: github/codeql-action/upload-sarif@v2\n      if: always()\n      with:\n        sarif_file: checkov.sarif\n    \n    - name: Terraform Apply (Production)\n      if: github.ref == 'refs/heads/main' \u0026\u0026 matrix.environment == 'production'\n      run: terraform apply -auto-approve -var-file=\"production.tfvars\"\n      working-directory: environments/production\nEOF\n```\n\n### GitLab CI Integration\n\n```bash\ncat \u003e .gitlab-ci.yml \u003c\u003cEOF\nstages:\n  - validate\n  - plan\n  - apply\n  - destroy\n\nvariables:\n  TF_ROOT: \\${CI_PROJECT_DIR}\n  TF_VERSION: \"1.6.4\"\n  TF_IN_AUTOMATION: \"true\"\n\ncache:\n  key: \"\\${TF_ROOT}\"\n  paths:\n    - \\${TF_ROOT}/.terraform\n\nbefore_script:\n  - cd \\${TF_ROOT}\n  - terraform version\n  - terraform init\n\nvalidate:\n  stage: validate\n  script:\n    - terraform fmt -check -recursive\n    - terraform validate\n    - |\n      for dir in environments/*/; do\n        cd \"\\$dir\"\n        terraform validate\n        cd -\n      done\n  rules:\n    - if: '\\$CI_MERGE_REQUEST_IID'\n    - if: '\\$CI_COMMIT_BRANCH == \\$CI_DEFAULT_BRANCH'\n\nplan:production:\n  stage: plan\n  script:\n    - cd environments/production\n    - terraform plan -var-file=\"production.tfvars\" -out=\"production.tfplan\"\n  artifacts:\n    paths:\n      - environments/production/production.tfplan\n    expire_in: 1 week\n  rules:\n    - if: '\\$CI_COMMIT_BRANCH == \\$CI_DEFAULT_BRANCH'\n\napply:production:\n  stage: apply\n  script:\n    - cd environments/production\n    - terraform apply -input=false \"production.tfplan\"\n  dependencies:\n    - plan:production\n  rules:\n    - if: '\\$CI_COMMIT_BRANCH == \\$CI_DEFAULT_BRANCH'\n      when: manual\nEOF\n```\n\n### Jenkins Pipeline\n\n```groovy\n// Jenkinsfile\npipeline {\n    agent any\n    \n    environment {\n        TF_VERSION = '1.6.4'\n        AWS_DEFAULT_REGION = 'us-west-2'\n    }\n    \n    stages {\n        stage('Checkout') {\n            steps {\n                checkout scm\n            }\n        }\n        \n        stage('Setup') {\n            steps {\n                sh '''\n                    # Install Terraform if not present\n                    if ! command -v terraform \u0026\u003e /dev/null; then\n                        wget https://releases.hashicorp.com/terraform/${TF_VERSION}/terraform_${TF_VERSION}_linux_amd64.zip\n                        unzip terraform_${TF_VERSION}_linux_amd64.zip\n                        chmod +x terraform\n                        sudo mv terraform /usr/local/bin/\n                    fi\n                    \n                    terraform version\n                '''\n            }\n        }\n        \n        stage('Validate') {\n            parallel {\n                stage('Format Check') {\n                    steps {\n                        sh 'terraform fmt -check -recursive'\n                    }\n                }\n                stage('Configuration Validation') {\n                    steps {\n                        sh '''\n                            for dir in environments/*/; do\n                                cd \"$dir\"\n                                terraform init\n                                terraform validate\n                                cd -\n                            done\n                        '''\n                    }\n                }\n                stage('Security Scan') {\n                    steps {\n                        sh '''\n                            # Install and run Checkov\n                            pip3 install checkov\n                            checkov --framework terraform --directory .\n                        '''\n                    }\n                }\n            }\n        }\n        \n        stage('Plan') {\n            steps {\n                script {\n                    def environments = ['development', 'staging', 'production']\n                    def planResults = [:]\n                    \n                    environments.each { env -\u003e\n                        planResults[env] = {\n                            dir(\"environments/${env}\") {\n                                sh \"\"\"\n                                    terraform init\n                                    terraform plan -var-file=\"${env}.tfvars\" -out=\"${env}.tfplan\"\n                                \"\"\"\n                            }\n                        }\n                    }\n                    \n                    parallel planResults\n                }\n            }\n        }\n        \n        stage('Apply') {\n            when {\n                branch 'main'\n            }\n            steps {\n                script {\n                    input message: 'Apply Terraform changes?', ok: 'Apply'\n                    \n                    dir('environments/production') {\n                        sh 'terraform apply -input=false production.tfplan'\n                    }\n                }\n            }\n        }\n    }\n    \n    post {\n        always {\n            archiveArtifacts artifacts: 'environments/**/*.tfplan', fingerprint: true\n            publishHTML([\n                allowMissing: false,\n                alwaysLinkToLastBuild: true,\n                keepAll: true,\n                reportDir: 'checkov-report',\n                reportFiles: 'index.html',\n                reportName: 'Checkov Security Report'\n            ])\n        }\n        failure {\n            emailext (\n                subject: \"Terraform Pipeline Failed: ${env.JOB_NAME} - ${env.BUILD_NUMBER}\",\n                body: \"The Terraform pipeline has failed. Please check the build logs for details.\",\n                to: \"${env.CHANGE_AUTHOR_EMAIL}\"\n            )\n        }\n    }\n}\n```\n\n## Additional Resources\n\n- [Official Terraform Documentation](https://developer.hashicorp.com/terraform/docs)\n- [Terraform Registry](https://registry.terraform.io/)\n- [Terraform Best Practices](https://developer.hashicorp.com/terraform/cloud-docs/recommended-practices)\n- [Multi-Cloud Architecture Guide](https://developer.hashicorp.com/terraform/tutorials/aws-get-started)\n- [Security Best Practices](https://developer.hashicorp.com/terraform/language/values/sensitive)\n- [AWS Provider Documentation](https://registry.terraform.io/providers/hashicorp/aws/latest/docs)\n- [Azure Provider Documentation](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs)\n- [GCP Provider Documentation](https://registry.terraform.io/providers/hashicorp/google/latest/docs)\n- [Terraform Community Forum](https://discuss.hashicorp.com/c/terraform-core)\n- [HashiCorp Learn Terraform](https://learn.hashicorp.com/terraform)\n\n---\n\n**Note:** This guide is part of the [HowToMgr](https://howtomgr.github.io) collection. Always refer to official documentation for the most up-to-date information.","readmeHtml":"\u003ch1 id=\"terraform-installation-guide\" class=\"mobile-header\"\u003eTerraform Installation Guide\u003c/h1\u003e\n\u003cp class=\"mobile-paragraph\"\u003eTerraform is a free and open-source Infrastructure as Code (IaC) tool developed by HashiCorp for building, changing, and versioning infrastructure safely and efficiently across multiple cloud providers. Originally created by Mitchell Hashimoto in 2014, Terraform uses declarative configuration files to manage infrastructure resources. It serves as a FOSS alternative to commercial IaC solutions like AWS CloudFormation, Azure Resource Manager, or proprietary enterprise tools, offering enterprise-grade features including multi-cloud management, state management, provider ecosystem, and team collaboration without licensing costs.\u003c/p\u003e\n\u003ch2 id=\"prerequisites\" class=\"mobile-header\"\u003ePrerequisites\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eHardware Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eCPU: 1 core minimum (2+ cores recommended for large infrastructures)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eRAM: 2GB minimum (4GB+ recommended for production)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eStorage: 5GB minimum (more for state files and provider binaries)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eNetwork: Stable connectivity for cloud provider APIs\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eOperating System\u003c/strong\u003e: \u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eLinux: Any modern distribution with kernel 3.2+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003emacOS: 10.13+ (High Sierra or newer)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWindows: Windows Server 2016+ or Windows 10\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eFreeBSD: 12.0+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eNetwork Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eHTTPS access to cloud provider APIs (port 443)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eAccess to Terraform Registry (registry.terraform.io)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eAccess to HashiCorp releases (releases.hashicorp.com)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eDependencies\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eCloud provider CLI tools (aws-cli, azure-cli, gcloud)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eGit for configuration management\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eText editor or IDE\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eRoot or administrative access for installation\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eSystem Access\u003c/strong\u003e: root or sudo privileges required for installation\u003c/li\u003e\n\u003ch2 id=\"installation\" class=\"mobile-header\"\u003eInstallation\u003c/h2\u003e\n\u003ch3 id=\"rhelcentosrocky-linuxalmalinux\" class=\"mobile-header\"\u003eRHEL/CentOS/Rocky Linux/AlmaLinux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Add HashiCorp repository\nsudo yum install -y yum-utils\nsudo yum-config-manager --add-repo https://rpm.releases.hashicorp.com/RHEL/hashicorp.repo\n\n# Install Terraform\nsudo yum install -y terraform\n\n# Verify installation\nterraform version\n\n# Alternative: DNF for newer systems\nsudo dnf install -y yum-utils\nsudo dnf config-manager --add-repo https://rpm.releases.hashicorp.com/RHEL/hashicorp.repo\nsudo dnf install -y terraform\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"debianubuntu\" class=\"mobile-header\"\u003eDebian/Ubuntu\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Add HashiCorp GPG key\nwget -O- https://apt.releases.hashicorp.com/gpg | sudo gpg --dearmor -o /usr/share/keyrings/hashicorp-archive-keyring.gpg\n\n# Add HashiCorp repository\necho \u0026quot;deb [signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(lsb_release -cs) main\u0026quot; | sudo tee /etc/apt/sources.list.d/hashicorp.list\n\n# Update and install Terraform\nsudo apt update\nsudo apt install -y terraform\n\n# Verify installation\nterraform version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"arch-linux\" class=\"mobile-header\"\u003eArch Linux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install from community repository\nsudo pacman -S terraform\n\n# Alternative: Install from AUR\nyay -S terraform\n\n# Install additional tools\nsudo pacman -S terraform-docs tflint\n\n# Verify installation\nterraform version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"alpine-linux\" class=\"mobile-header\"\u003eAlpine Linux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install from Alpine repositories\nsudo apk update\nsudo apk add terraform\n\n# Install additional tools\nsudo apk add bash git curl\n\n# Verify installation\nterraform version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"opensusesles\" class=\"mobile-header\"\u003eopenSUSE/SLES\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# openSUSE Leap/Tumbleweed\nsudo zypper install -y terraform\n\n# SLES 15\nsudo SUSEConnect -p sle-module-development-tools/15.5/x86_64\nsudo zypper install -y terraform\n\n# Alternative: Add HashiCorp repository\nsudo zypper addrepo https://rpm.releases.hashicorp.com/SLES/hashicorp.repo\nsudo zypper refresh\nsudo zypper install terraform\n\n# Verify installation\nterraform version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"macos\" class=\"mobile-header\"\u003emacOS\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using Homebrew\nbrew tap hashicorp/tap\nbrew install hashicorp/tap/terraform\n\n# Alternative: Install specific version\nbrew install terraform@1.6\n\n# Verify installation\nterraform version\n\n# Using tfenv for version management\nbrew install tfenv\ntfenv install latest\ntfenv use latest\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"freebsd\" class=\"mobile-header\"\u003eFreeBSD\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using pkg\npkg install terraform\n\n# Using ports\ncd /usr/ports/sysutils/terraform\nmake install clean\n\n# Verify installation\nterraform version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"windows\" class=\"mobile-header\"\u003eWindows\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"powershell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epowershell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-powershell\"\u003e# Method 1: Using Chocolatey\nchoco install terraform\n\n# Method 2: Using Scoop\nscoop bucket add main\nscoop install terraform\n\n# Method 3: Manual installation\n# Download from https://releases.hashicorp.com/terraform/\n# Extract terraform.exe to C:\\terraform\n# Add C:\\terraform to PATH\n\n# Method 4: Using Winget\nwinget install HashiCorp.Terraform\n\n# Verify installation\nterraform version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"initial-configuration\" class=\"mobile-header\"\u003eInitial Configuration\u003c/h2\u003e\n\u003ch3 id=\"first-run-setup\" class=\"mobile-header\"\u003eFirst-Run Setup\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e1. \u003cstrong\u003eCreate terraform user\u003c/strong\u003e (optional for dedicated service):\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Linux systems\nsudo useradd -r -d /opt/terraform -s /sbin/nologin -c \u0026quot;Terraform Service\u0026quot; terraform\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e2. \u003cstrong\u003eDefault configuration locations\u003c/strong\u003e:\u003c/p\u003e\n\u003cli class=\"mobile-list-item\"\u003eRHEL/CentOS/Rocky/AlmaLinux: \u003ccode class=\"mobile-inline-code\"\u003e/etc/terraform/\u003c/code\u003e (custom) or \u003ccode class=\"mobile-inline-code\"\u003e/usr/local/bin/\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eDebian/Ubuntu: \u003ccode class=\"mobile-inline-code\"\u003e/etc/terraform/\u003c/code\u003e (custom) or \u003ccode class=\"mobile-inline-code\"\u003e/usr/local/bin/\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eArch Linux: \u003ccode class=\"mobile-inline-code\"\u003e/etc/terraform/\u003c/code\u003e (custom) or \u003ccode class=\"mobile-inline-code\"\u003e/usr/bin/\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eAlpine Linux: \u003ccode class=\"mobile-inline-code\"\u003e/etc/terraform/\u003c/code\u003e (custom) or \u003ccode class=\"mobile-inline-code\"\u003e/usr/bin/\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eopenSUSE/SLES: \u003ccode class=\"mobile-inline-code\"\u003e/etc/terraform/\u003c/code\u003e (custom) or \u003ccode class=\"mobile-inline-code\"\u003e/usr/local/bin/\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003emacOS: \u003ccode class=\"mobile-inline-code\"\u003e/usr/local/etc/terraform/\u003c/code\u003e or \u003ccode class=\"mobile-inline-code\"\u003e/opt/homebrew/etc/terraform/\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eFreeBSD: \u003ccode class=\"mobile-inline-code\"\u003e/usr/local/etc/terraform/\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWindows: \u003ccode class=\"mobile-inline-code\"\u003eC:\\terraform\\\u003c/code\u003e or \u003ccode class=\"mobile-inline-code\"\u003e%APPDATA%\\terraform\\\u003c/code\u003e\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e3. \u003cstrong\u003eEssential initial configuration\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create workspace directory\nmkdir -p ~/terraform/projects\ncd ~/terraform/projects\n\n# Create first Terraform configuration\ncat \u0026gt; main.tf \u0026lt;\u0026lt;EOF\nterraform {\n  required_version = \u0026quot;\u0026gt;= 1.6\u0026quot;\n  required_providers {\n    local = {\n      source  = \u0026quot;hashicorp/local\u0026quot;\n      version = \u0026quot;~\u0026gt; 2.0\u0026quot;\n    }\n  }\n}\n\nresource \u0026quot;local_file\u0026quot; \u0026quot;hello_world\u0026quot; {\n  content  = \u0026quot;Hello, World from Terraform!\u0026quot;\n  filename = \u0026quot;hello.txt\u0026quot;\n}\nEOF\n\n# Initialize Terraform\nterraform init\n\n# Validate configuration\nterraform validate\n\n# Plan deployment\nterraform plan\n\n# Apply configuration\nterraform apply\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"testing-initial-setup\" class=\"mobile-header\"\u003eTesting Initial Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check Terraform version\nterraform version\n\n# Validate configuration\nterraform validate\n\n# Format configuration files\nterraform fmt\n\n# Initialize and test basic functionality\nterraform init\nterraform plan\nterraform apply\n\n# List state\nterraform state list\n\n# Show state details\nterraform show\n\n# Clean up test resources\nterraform destroy\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eWARNING:\u003c/strong\u003e Configure proper authentication for cloud providers before deploying real infrastructure!\u003c/p\u003e\n\u003ch2 id=\"service-management\" class=\"mobile-header\"\u003eService Management\u003c/h2\u003e\n\u003ch3 id=\"systemd-linux-systems\" class=\"mobile-header\"\u003esystemd (Linux Systems)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create systemd service for Terraform agent (if using)\nsudo tee /etc/systemd/system/terraform-agent.service \u0026lt;\u0026lt;EOF\n[Unit]\nDescription=Terraform Agent\nAfter=network.target\n\n[Service]\nType=simple\nUser=terraform\nWorkingDirectory=/opt/terraform\nExecStart=/usr/local/bin/terraform-agent\nRestart=always\nRestartSec=10\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsudo systemctl daemon-reload\nsudo systemctl enable terraform-agent\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"openrc-alpine-linux\" class=\"mobile-header\"\u003eOpenRC (Alpine Linux)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create OpenRC service script\nsudo tee /etc/init.d/terraform-agent \u0026lt;\u0026lt;EOF\n#!/sbin/openrc-run\n\nname=\u0026quot;terraform-agent\u0026quot;\ndescription=\u0026quot;Terraform Agent\u0026quot;\ncommand=\u0026quot;/usr/bin/terraform-agent\u0026quot;\ncommand_user=\u0026quot;terraform\u0026quot;\ncommand_background=true\npidfile=\u0026quot;/var/run/terraform-agent.pid\u0026quot;\n\ndepend() {\n    need net\n}\nEOF\n\nsudo chmod +x /etc/init.d/terraform-agent\nrc-update add terraform-agent default\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"rcd-freebsd\" class=\"mobile-header\"\u003erc.d (FreeBSD)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create rc.d script\nsudo tee /usr/local/etc/rc.d/terraform_agent \u0026lt;\u0026lt;EOF\n#!/bin/sh\n. /etc/rc.subr\n\nname=terraform_agent\nrcvar=terraform_agent_enable\ncommand=\u0026quot;/usr/local/bin/terraform-agent\u0026quot;\npidfile=\u0026quot;/var/run/terraform_agent.pid\u0026quot;\nstart_cmd=\u0026quot;terraform_agent_start\u0026quot;\n\nterraform_agent_start() {\n    daemon -p \\${pidfile} \\${command}\n}\n\nload_rc_config \\$name\nrun_rc_command \u0026quot;\\$1\u0026quot;\nEOF\n\nsudo chmod +x /usr/local/etc/rc.d/terraform_agent\necho \u0026#039;terraform_agent_enable=\u0026quot;YES\u0026quot;\u0026#039; \u0026gt;\u0026gt; /etc/rc.conf\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"launchd-macos\" class=\"mobile-header\"\u003elaunchd (macOS)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create LaunchDaemon plist\nsudo tee /Library/LaunchDaemons/com.hashicorp.terraform.agent.plist \u0026lt;\u0026lt;EOF\n\u0026lt;?xml version=\u0026quot;1.0\u0026quot; encoding=\u0026quot;UTF-8\u0026quot;?\u0026gt;\n\u0026lt;!DOCTYPE plist PUBLIC \u0026quot;-//Apple//DTD PLIST 1.0//EN\u0026quot; \u0026quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd\u0026quot;\u0026gt;\n\u0026lt;plist version=\u0026quot;1.0\u0026quot;\u0026gt;\n\u0026lt;dict\u0026gt;\n    \u0026lt;key\u0026gt;Label\u0026lt;/key\u0026gt;\n    \u0026lt;string\u0026gt;com.hashicorp.terraform.agent\u0026lt;/string\u0026gt;\n    \u0026lt;key\u0026gt;ProgramArguments\u0026lt;/key\u0026gt;\n    \u0026lt;array\u0026gt;\n        \u0026lt;string\u0026gt;/usr/local/bin/terraform-agent\u0026lt;/string\u0026gt;\n    \u0026lt;/array\u0026gt;\n    \u0026lt;key\u0026gt;RunAtLoad\u0026lt;/key\u0026gt;\n    \u0026lt;true/\u0026gt;\n    \u0026lt;key\u0026gt;KeepAlive\u0026lt;/key\u0026gt;\n    \u0026lt;true/\u0026gt;\n\u0026lt;/dict\u0026gt;\n\u0026lt;/plist\u0026gt;\nEOF\n\nsudo launchctl load /Library/LaunchDaemons/com.hashicorp.terraform.agent.plist\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"windows-service-manager\" class=\"mobile-header\"\u003eWindows Service Manager\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"powershell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epowershell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-powershell\"\u003e# Install Terraform as Windows service using NSSM\nnssm install TerraformAgent \u0026quot;C:\\terraform\\terraform-agent.exe\u0026quot;\nnssm set TerraformAgent AppDirectory \u0026quot;C:\\terraform\u0026quot;\nnssm set TerraformAgent DisplayName \u0026quot;Terraform Agent\u0026quot;\nnssm set TerraformAgent Description \u0026quot;HashiCorp Terraform Agent\u0026quot;\nnssm start TerraformAgent\n\n# Alternative: Using sc command\nsc create TerraformAgent binPath=\u0026quot;C:\\terraform\\terraform-agent.exe\u0026quot; start=auto\nsc start TerraformAgent\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"advanced-configuration\" class=\"mobile-header\"\u003eAdvanced Configuration\u003c/h2\u003e\n\u003ch3 id=\"multi-cloud-provider-setup\" class=\"mobile-header\"\u003eMulti-Cloud Provider Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create comprehensive multi-cloud configuration\ncat \u0026gt; providers.tf \u0026lt;\u0026lt;EOF\nterraform {\n  required_version = \u0026quot;\u0026gt;= 1.6\u0026quot;\n  required_providers {\n    aws = {\n      source  = \u0026quot;hashicorp/aws\u0026quot;\n      version = \u0026quot;~\u0026gt; 5.0\u0026quot;\n    }\n    azurerm = {\n      source  = \u0026quot;hashicorp/azurerm\u0026quot;\n      version = \u0026quot;~\u0026gt; 3.0\u0026quot;\n    }\n    google = {\n      source  = \u0026quot;hashicorp/google\u0026quot;\n      version = \u0026quot;~\u0026gt; 5.0\u0026quot;\n    }\n    kubernetes = {\n      source  = \u0026quot;hashicorp/kubernetes\u0026quot;\n      version = \u0026quot;~\u0026gt; 2.0\u0026quot;\n    }\n    helm = {\n      source  = \u0026quot;hashicorp/helm\u0026quot;\n      version = \u0026quot;~\u0026gt; 2.0\u0026quot;\n    }\n  }\n  \n  # Remote state configuration\n  backend \u0026quot;s3\u0026quot; {\n    bucket = \u0026quot;terraform-state-bucket\u0026quot;\n    key    = \u0026quot;infrastructure/terraform.tfstate\u0026quot;\n    region = \u0026quot;us-west-2\u0026quot;\n    \n    # State locking with DynamoDB\n    dynamodb_table = \u0026quot;terraform-state-lock\u0026quot;\n    encrypt        = true\n  }\n}\n\n# AWS Provider\nprovider \u0026quot;aws\u0026quot; {\n  region = var.aws_region\n  \n  default_tags {\n    tags = {\n      Environment   = var.environment\n      ManagedBy     = \u0026quot;terraform\u0026quot;\n      Project       = var.project_name\n      Owner         = var.owner\n    }\n  }\n}\n\n# Azure Provider\nprovider \u0026quot;azurerm\u0026quot; {\n  features {\n    resource_group {\n      prevent_deletion_if_contains_resources = false\n    }\n    key_vault {\n      purge_soft_delete_on_destroy = true\n    }\n  }\n}\n\n# Google Cloud Provider\nprovider \u0026quot;google\u0026quot; {\n  project = var.gcp_project_id\n  region  = var.gcp_region\n  zone    = var.gcp_zone\n}\n\n# Kubernetes Provider\nprovider \u0026quot;kubernetes\u0026quot; {\n  config_path = \u0026quot;~/.kube/config\u0026quot;\n}\n\n# Helm Provider\nprovider \u0026quot;helm\u0026quot; {\n  kubernetes {\n    config_path = \u0026quot;~/.kube/config\u0026quot;\n  }\n}\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"enterprise-features-configuration\" class=\"mobile-header\"\u003eEnterprise Features Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Terraform Cloud/Enterprise configuration\ncat \u0026gt; cloud.tf \u0026lt;\u0026lt;EOF\nterraform {\n  cloud {\n    organization = \u0026quot;your-organization\u0026quot;\n    \n    workspaces {\n      name = \u0026quot;production-infrastructure\u0026quot;\n    }\n  }\n}\n\n# Remote execution configuration\nterraform {\n  cloud {\n    organization = \u0026quot;your-organization\u0026quot;\n    \n    workspaces {\n      tags = [\u0026quot;production\u0026quot;, \u0026quot;web-app\u0026quot;]\n    }\n  }\n  \n  required_providers {\n    tfe = {\n      source  = \u0026quot;hashicorp/tfe\u0026quot;\n      version = \u0026quot;~\u0026gt; 0.48\u0026quot;\n    }\n  }\n}\n\n# Terraform Enterprise configuration\nprovider \u0026quot;tfe\u0026quot; {\n  hostname = \u0026quot;terraform.company.com\u0026quot;\n  token    = var.tfe_token\n}\n\n# Workspace configuration\nresource \u0026quot;tfe_workspace\u0026quot; \u0026quot;production\u0026quot; {\n  name         = \u0026quot;production-infrastructure\u0026quot;\n  organization = var.tfe_organization\n  \n  auto_apply = false\n  queue_all_runs = false\n  \n  terraform_version = \u0026quot;1.6.4\u0026quot;\n  \n  vcs_repo {\n    identifier     = \u0026quot;company/infrastructure\u0026quot;\n    branch         = \u0026quot;main\u0026quot;\n    oauth_token_id = var.vcs_oauth_token_id\n  }\n  \n  working_directory = \u0026quot;environments/production\u0026quot;\n}\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"advanced-state-management\" class=\"mobile-header\"\u003eAdvanced State Management\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Encrypted remote state with multiple backends\ncat \u0026gt; backend-s3.tf \u0026lt;\u0026lt;EOF\n# S3 backend with encryption and locking\nterraform {\n  backend \u0026quot;s3\u0026quot; {\n    bucket         = \u0026quot;terraform-state-bucket\u0026quot;\n    key            = \u0026quot;infrastructure/terraform.tfstate\u0026quot;\n    region         = \u0026quot;us-west-2\u0026quot;\n    encrypt        = true\n    kms_key_id     = \u0026quot;arn:aws:kms:us-west-2:ACCOUNT:key/KEY-ID\u0026quot;\n    dynamodb_table = \u0026quot;terraform-state-lock\u0026quot;\n    \n    # Additional security\n    skip_region_validation      = false\n    skip_credentials_validation = false\n    skip_metadata_api_check     = false\n  }\n}\n\n# State bucket with versioning and lifecycle\nresource \u0026quot;aws_s3_bucket\u0026quot; \u0026quot;terraform_state\u0026quot; {\n  bucket = \u0026quot;terraform-state-bucket\u0026quot;\n  \n  tags = {\n    Name        = \u0026quot;Terraform State Bucket\u0026quot;\n    Environment = var.environment\n  }\n}\n\nresource \u0026quot;aws_s3_bucket_versioning\u0026quot; \u0026quot;terraform_state_versioning\u0026quot; {\n  bucket = aws_s3_bucket.terraform_state.id\n  versioning_configuration {\n    status = \u0026quot;Enabled\u0026quot;\n  }\n}\n\nresource \u0026quot;aws_s3_bucket_server_side_encryption_configuration\u0026quot; \u0026quot;terraform_state_encryption\u0026quot; {\n  bucket = aws_s3_bucket.terraform_state.id\n\n  rule {\n    apply_server_side_encryption_by_default {\n      kms_master_key_id = aws_kms_key.terraform_bucket_key.arn\n      sse_algorithm     = \u0026quot;aws:kms\u0026quot;\n    }\n  }\n}\n\nresource \u0026quot;aws_s3_bucket_public_access_block\u0026quot; \u0026quot;terraform_state\u0026quot; {\n  bucket = aws_s3_bucket.terraform_state.id\n\n  block_public_acls       = true\n  block_public_policy     = true\n  ignore_public_acls      = true\n  restrict_public_buckets = true\n}\n\n# KMS key for encryption\nresource \u0026quot;aws_kms_key\u0026quot; \u0026quot;terraform_bucket_key\u0026quot; {\n  description             = \u0026quot;KMS key for Terraform state bucket encryption\u0026quot;\n  deletion_window_in_days = 7\n\n  tags = {\n    Name        = \u0026quot;Terraform State Bucket Key\u0026quot;\n    Environment = var.environment\n  }\n}\n\n# DynamoDB table for state locking\nresource \u0026quot;aws_dynamodb_table\u0026quot; \u0026quot;terraform_state_lock\u0026quot; {\n  name           = \u0026quot;terraform-state-lock\u0026quot;\n  billing_mode   = \u0026quot;PAY_PER_REQUEST\u0026quot;\n  hash_key       = \u0026quot;LockID\u0026quot;\n\n  attribute {\n    name = \u0026quot;LockID\u0026quot;\n    type = \u0026quot;S\u0026quot;\n  }\n\n  server_side_encryption {\n    enabled = true\n  }\n\n  point_in_time_recovery {\n    enabled = true\n  }\n\n  tags = {\n    Name        = \u0026quot;Terraform State Lock Table\u0026quot;\n    Environment = var.environment\n  }\n}\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"reverse-proxy-setup\" class=\"mobile-header\"\u003eReverse Proxy Setup\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eTerraform itself doesn't typically require reverse proxy setup, but when using Terraform Enterprise or Cloud, you might need to configure proxies for API access:\u003c/p\u003e\n\u003ch3 id=\"corporate-proxy-configuration\" class=\"mobile-header\"\u003eCorporate Proxy Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Configure Terraform to work through corporate proxy\nexport HTTP_PROXY=http://proxy.company.com:8080\nexport HTTPS_PROXY=http://proxy.company.com:8080\nexport NO_PROXY=localhost,127.0.0.1,.company.com\n\n# Add to ~/.bashrc or ~/.zshrc\ncat \u0026gt;\u0026gt; ~/.bashrc \u0026lt;\u0026lt;EOF\n# Terraform proxy settings\nexport HTTP_PROXY=http://proxy.company.com:8080\nexport HTTPS_PROXY=http://proxy.company.com:8080\nexport NO_PROXY=localhost,127.0.0.1,.company.com\nEOF\n\n# Configure Git for proxy (if needed for modules)\ngit config --global http.proxy http://proxy.company.com:8080\ngit config --global https.proxy http://proxy.company.com:8080\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"nginx-configuration-for-terraform-enterprise\" class=\"mobile-header\"\u003enginx Configuration for Terraform Enterprise\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"nginx\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003enginx\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-nginx\"\u003e# /etc/nginx/sites-available/terraform-enterprise\nupstream terraform_enterprise {\n    server 127.0.0.1:8800;\n    server 127.0.0.1:8801 backup;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name terraform.company.com;\n\n    ssl_certificate /etc/ssl/certs/terraform.company.com.crt;\n    ssl_certificate_key /etc/ssl/private/terraform.company.com.key;\n\n    # Security headers\n    add_header Strict-Transport-Security \u0026quot;max-age=31536000\u0026quot; always;\n    add_header X-Frame-Options \u0026quot;DENY\u0026quot; always;\n    add_header X-Content-Type-Options \u0026quot;nosniff\u0026quot; always;\n\n    location / {\n        proxy_pass http://terraform_enterprise;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        \n        # WebSocket support for real-time updates\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \u0026quot;upgrade\u0026quot;;\n        \n        # Timeouts for long-running operations\n        proxy_connect_timeout 60s;\n        proxy_send_timeout 60s;\n        proxy_read_timeout 300s;\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"security-configuration\" class=\"mobile-header\"\u003eSecurity Configuration\u003c/h2\u003e\n\u003ch3 id=\"secure-credential-management\" class=\"mobile-header\"\u003eSecure Credential Management\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Use environment variables for credentials\ncat \u0026gt; .env.example \u0026lt;\u0026lt;EOF\n# AWS credentials\nAWS_ACCESS_KEY_ID=your_access_key\nAWS_SECRET_ACCESS_KEY=your_secret_key\nAWS_DEFAULT_REGION=us-west-2\n\n# Azure credentials\nARM_CLIENT_ID=your_client_id\nARM_CLIENT_SECRET=your_client_secret\nARM_SUBSCRIPTION_ID=your_subscription_id\nARM_TENANT_ID=your_tenant_id\n\n# GCP credentials\nGOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json\nGOOGLE_PROJECT=your_project_id\n\n# Terraform Cloud\nTF_CLOUD_TOKEN=your_terraform_cloud_token\nEOF\n\n# Use IAM roles for AWS (recommended)\ncat \u0026gt; aws-iam-role.tf \u0026lt;\u0026lt;EOF\n# IAM role for Terraform execution\nresource \u0026quot;aws_iam_role\u0026quot; \u0026quot;terraform_execution\u0026quot; {\n  name = \u0026quot;TerraformExecutionRole\u0026quot;\n\n  assume_role_policy = jsonencode({\n    Version = \u0026quot;2012-10-17\u0026quot;\n    Statement = [\n      {\n        Action = \u0026quot;sts:AssumeRole\u0026quot;\n        Effect = \u0026quot;Allow\u0026quot;\n        Principal = {\n          Service = \u0026quot;ec2.amazonaws.com\u0026quot;\n        }\n      },\n    ]\n  })\n}\n\n# Attach managed policies with least privilege\nresource \u0026quot;aws_iam_role_policy_attachment\u0026quot; \u0026quot;terraform_execution\u0026quot; {\n  for_each = toset([\n    \u0026quot;arn:aws:iam::aws:policy/PowerUserAccess\u0026quot;\n  ])\n  \n  role       = aws_iam_role.terraform_execution.name\n  policy_arn = each.value\n}\n\n# Create instance profile\nresource \u0026quot;aws_iam_instance_profile\u0026quot; \u0026quot;terraform_execution\u0026quot; {\n  name = \u0026quot;TerraformExecutionProfile\u0026quot;\n  role = aws_iam_role.terraform_execution.name\n}\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"security-scanning-and-compliance\" class=\"mobile-header\"\u003eSecurity Scanning and Compliance\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Pre-commit hooks for security\ncat \u0026gt; .pre-commit-config.yaml \u0026lt;\u0026lt;EOF\nrepos:\n- repo: https://github.com/antonbabenko/pre-commit-terraform\n  rev: v1.83.5\n  hooks:\n    - id: terraform_fmt\n    - id: terraform_validate\n    - id: terraform_docs\n    - id: terraform_tflint\n    - id: terraform_checkov\n    - id: terraform_trivy\n\n- repo: https://github.com/Yelp/detect-secrets\n  rev: v1.4.0\n  hooks:\n    - id: detect-secrets\n      args: [\u0026#039;--baseline\u0026#039;, \u0026#039;.secrets.baseline\u0026#039;]\nEOF\n\n# Checkov configuration for security scanning\ncat \u0026gt; .checkov.yaml \u0026lt;\u0026lt;EOF\nframework:\n  - terraform\n  - secrets\n\ncheck:\n  - CKV_AWS_79  # Ensure Instance Metadata Service Version 1 is not enabled\n  - CKV_AWS_8   # Ensure Launch Configuration EBS encryption\n  - CKV_AZURE_1 # Ensure storage account encryption\n\nskip-check:\n  - CKV_AWS_23  # Skip S3 bucket public read check for specific use cases\n\noutput: cli\nquiet: false\ncompact: false\nEOF\n\n# TFLint configuration\ncat \u0026gt; .tflint.hcl \u0026lt;\u0026lt;EOF\nplugin \u0026quot;aws\u0026quot; {\n    enabled = true\n    version = \u0026quot;0.21.2\u0026quot;\n    source  = \u0026quot;github.com/terraform-linters/tflint-ruleset-aws\u0026quot;\n}\n\nplugin \u0026quot;azurerm\u0026quot; {\n    enabled = true\n    version = \u0026quot;0.21.0\u0026quot;\n    source  = \u0026quot;github.com/terraform-linters/tflint-ruleset-azurerm\u0026quot;\n}\n\nrule \u0026quot;terraform_unused_declarations\u0026quot; {\n  enabled = true\n}\n\nrule \u0026quot;terraform_naming_convention\u0026quot; {\n  enabled = true\n  format  = \u0026quot;snake_case\u0026quot;\n}\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"policy-as-code-with-opa\" class=\"mobile-header\"\u003ePolicy as Code with OPA\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# OPA (Open Policy Agent) security policies\ncat \u0026gt; policy/security.rego \u0026lt;\u0026lt;EOF\npackage terraform.security\n\n# Deny instances without encryption\ndeny[reason] {\n    resource := input.resource_changes[_]\n    resource.type == \u0026quot;aws_instance\u0026quot;\n    resource.change.after.root_block_device[_].encrypted == false\n    reason := \u0026quot;AWS instances must have encrypted root volumes\u0026quot;\n}\n\n# Deny public S3 buckets\ndeny[reason] {\n    resource := input.resource_changes[_]\n    resource.type == \u0026quot;aws_s3_bucket_public_access_block\u0026quot;\n    resource.change.after.block_public_acls == false\n    reason := \u0026quot;S3 buckets must block public access\u0026quot;\n}\n\n# Require specific instance types in production\ndeny[reason] {\n    resource := input.resource_changes[_]\n    resource.type == \u0026quot;aws_instance\u0026quot;\n    instance_type := resource.change.after.instance_type\n    not allowed_instance_type(instance_type)\n    workspace := input.terraform_version.workspace\n    workspace == \u0026quot;production\u0026quot;\n    reason := sprintf(\u0026quot;Production instances must use approved instance types, got: %v\u0026quot;, [instance_type])\n}\n\nallowed_instance_type(instance_type) {\n    allowed_types := [\u0026quot;t3.micro\u0026quot;, \u0026quot;t3.small\u0026quot;, \u0026quot;t3.medium\u0026quot;, \u0026quot;m5.large\u0026quot;, \u0026quot;m5.xlarge\u0026quot;]\n    instance_type in allowed_types\n}\nEOF\n\n# Policy validation script\ncat \u0026gt; scripts/validate-policy.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\n\n# Generate Terraform plan\nterraform plan -out=tfplan\nterraform show -json tfplan \u0026gt; tfplan.json\n\n# Validate against policies\nconftest test tfplan.json --policy policy/\n\n# Cleanup\nrm tfplan tfplan.json\nEOF\n\nchmod +x scripts/validate-policy.sh\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"database-setup\" class=\"mobile-header\"\u003eDatabase Setup\u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eTerraform doesn't require a traditional database, but it does use state files and can integrate with various storage backends:\u003c/p\u003e\n\u003ch3 id=\"state-storage-backends\" class=\"mobile-header\"\u003eState Storage Backends\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# PostgreSQL backend (for Terraform Enterprise)\ncat \u0026gt; backend-postgres.tf \u0026lt;\u0026lt;EOF\nterraform {\n  backend \u0026quot;pg\u0026quot; {\n    conn_str = \u0026quot;postgres://user:pass@localhost/terraform_backend?sslmode=require\u0026quot;\n  }\n}\nEOF\n\n# Consul backend for distributed state\ncat \u0026gt; backend-consul.tf \u0026lt;\u0026lt;EOF\nterraform {\n  backend \u0026quot;consul\u0026quot; {\n    address = \u0026quot;consul.company.com:8500\u0026quot;\n    scheme  = \u0026quot;https\u0026quot;\n    path    = \u0026quot;terraform/infrastructure\u0026quot;\n  }\n}\nEOF\n\n# etcd backend\ncat \u0026gt; backend-etcd.tf \u0026lt;\u0026lt;EOF\nterraform {\n  backend \u0026quot;etcdv3\u0026quot; {\n    endpoints = [\u0026quot;http://etcd1:2379\u0026quot;, \u0026quot;http://etcd2:2379\u0026quot;, \u0026quot;http://etcd3:2379\u0026quot;]\n    lock      = true\n    prefix    = \u0026quot;terraform-state/\u0026quot;\n  }\n}\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"database-infrastructure-management\" class=\"mobile-header\"\u003eDatabase Infrastructure Management\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Database deployment with Terraform\ncat \u0026gt; database.tf \u0026lt;\u0026lt;EOF\n# RDS instance with Multi-AZ\nresource \u0026quot;aws_db_instance\u0026quot; \u0026quot;main\u0026quot; {\n  identifier = \u0026quot;${var.project_name}-db\u0026quot;\n  \n  engine         = \u0026quot;postgresql\u0026quot;\n  engine_version = \u0026quot;15.4\u0026quot;\n  instance_class = \u0026quot;db.t3.micro\u0026quot;\n  \n  allocated_storage     = 20\n  max_allocated_storage = 100\n  storage_type         = \u0026quot;gp3\u0026quot;\n  storage_encrypted    = true\n  kms_key_id          = aws_kms_key.rds.arn\n  \n  db_name  = var.database_name\n  username = var.database_username\n  password = var.database_password\n  port     = 5432\n  \n  multi_az               = true\n  publicly_accessible    = false\n  backup_retention_period = 7\n  backup_window          = \u0026quot;03:00-04:00\u0026quot;\n  maintenance_window     = \u0026quot;sun:04:00-sun:05:00\u0026quot;\n  \n  skip_final_snapshot = false\n  final_snapshot_identifier = \u0026quot;${var.project_name}-db-final-snapshot\u0026quot;\n  \n  vpc_security_group_ids = [aws_security_group.rds.id]\n  db_subnet_group_name   = aws_db_subnet_group.main.name\n  \n  tags = var.common_tags\n}\n\n# Database subnet group\nresource \u0026quot;aws_db_subnet_group\u0026quot; \u0026quot;main\u0026quot; {\n  name       = \u0026quot;${var.project_name}-db-subnet-group\u0026quot;\n  subnet_ids = var.private_subnet_ids\n\n  tags = merge(var.common_tags, {\n    Name = \u0026quot;${var.project_name}-db-subnet-group\u0026quot;\n  })\n}\n\n# KMS key for RDS encryption\nresource \u0026quot;aws_kms_key\u0026quot; \u0026quot;rds\u0026quot; {\n  description             = \u0026quot;KMS key for RDS encryption\u0026quot;\n  deletion_window_in_days = 7\n\n  tags = merge(var.common_tags, {\n    Name = \u0026quot;${var.project_name}-rds-kms-key\u0026quot;\n  })\n}\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"performance-optimization\" class=\"mobile-header\"\u003ePerformance Optimization\u003c/h2\u003e\n\u003ch3 id=\"terraform-performance-tuning\" class=\"mobile-header\"\u003eTerraform Performance Tuning\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Optimize Terraform execution\ncat \u0026gt; terraform.tfvars \u0026lt;\u0026lt;EOF\n# Performance settings\nterraform_parallelism = 10\nterraform_refresh = true\nterraform_upgrade = false\nEOF\n\n# Performance optimization script\ncat \u0026gt; scripts/optimize-terraform.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\n\n# Increase parallelism for faster execution\nexport TF_CLI_ARGS_plan=\u0026quot;-parallelism=10\u0026quot;\nexport TF_CLI_ARGS_apply=\u0026quot;-parallelism=10\u0026quot;\n\n# Use faster JSON output for large states\nexport TF_CLI_ARGS_show=\u0026quot;-json\u0026quot;\n\n# Optimize provider caching\nexport TF_PLUGIN_CACHE_DIR=\u0026quot;$HOME/.terraform.d/plugin-cache\u0026quot;\nmkdir -p \u0026quot;$TF_PLUGIN_CACHE_DIR\u0026quot;\n\n# Performance monitoring\necho \u0026quot;Starting Terraform operation at $(date)\u0026quot;\ntime terraform \u0026quot;$@\u0026quot;\necho \u0026quot;Completed Terraform operation at $(date)\u0026quot;\nEOF\n\nchmod +x scripts/optimize-terraform.sh\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"large-infrastructure-management\" class=\"mobile-header\"\u003eLarge Infrastructure Management\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Workspace and module organization\ncat \u0026gt; modules/infrastructure/main.tf \u0026lt;\u0026lt;EOF\n# Optimized module structure for large deployments\nterraform {\n  required_providers {\n    aws = {\n      source  = \u0026quot;hashicorp/aws\u0026quot;\n      version = \u0026quot;~\u0026gt; 5.0\u0026quot;\n    }\n  }\n}\n\n# Use data sources efficiently\ndata \u0026quot;aws_availability_zones\u0026quot; \u0026quot;available\u0026quot; {\n  state = \u0026quot;available\u0026quot;\n  \n  # Cache this data to avoid repeated API calls\n  lifecycle {\n    postcondition {\n      condition     = length(self.names) \u0026gt;= 2\n      error_message = \u0026quot;At least 2 availability zones required.\u0026quot;\n    }\n  }\n}\n\n# Optimize resource creation with for_each\nresource \u0026quot;aws_subnet\u0026quot; \u0026quot;private\u0026quot; {\n  for_each = toset(slice(data.aws_availability_zones.available.names, 0, var.subnet_count))\n  \n  vpc_id            = aws_vpc.main.id\n  cidr_block        = cidrsubnet(var.vpc_cidr, 8, index(data.aws_availability_zones.available.names, each.value) + 10)\n  availability_zone = each.value\n  \n  tags = merge(var.common_tags, {\n    Name = \u0026quot;${var.name_prefix}-private-${each.value}\u0026quot;\n    Type = \u0026quot;private\u0026quot;\n  })\n}\n\n# Use locals for complex computations\nlocals {\n  # Pre-compute values to avoid recalculation\n  availability_zones = slice(data.aws_availability_zones.available.names, 0, var.subnet_count)\n  \n  # Create maps for efficient lookups\n  subnet_map = {\n    for subnet in aws_subnet.private : \n    subnet.availability_zone =\u0026gt; subnet.id\n  }\n}\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"state-optimization\" class=\"mobile-header\"\u003eState Optimization\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# State file optimization script\ncat \u0026gt; scripts/optimize-state.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\n\n# Pull current state for backup\nterraform state pull \u0026gt; state-backup-$(date +%Y%m%d_%H%M%S).json\n\n# Remove unused resources from state\nterraform state list | while read resource; do\n    if terraform plan -target=\u0026quot;$resource\u0026quot; | grep -q \u0026quot;No changes\u0026quot;; then\n        echo \u0026quot;Checking if $resource can be safely removed...\u0026quot;\n        # Add logic to safely remove unused resources\n    fi\ndone\n\n# Refresh state to sync with real infrastructure\nterraform refresh\n\necho \u0026quot;State optimization completed\u0026quot;\nEOF\n\nchmod +x scripts/optimize-state.sh\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"monitoring\" class=\"mobile-header\"\u003eMonitoring\u003c/h2\u003e\n\u003ch3 id=\"terraform-operations-monitoring\" class=\"mobile-header\"\u003eTerraform Operations Monitoring\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Terraform execution monitoring\ncat \u0026gt; scripts/monitor-terraform.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\n\nLOG_FILE=\u0026quot;/var/log/terraform/operations.log\u0026quot;\nMETRICS_FILE=\u0026quot;/var/log/terraform/metrics.log\u0026quot;\n\n# Ensure log directory exists\nmkdir -p \u0026quot;$(dirname \u0026quot;$LOG_FILE\u0026quot;)\u0026quot;\nmkdir -p \u0026quot;$(dirname \u0026quot;$METRICS_FILE\u0026quot;)\u0026quot;\n\n# Function to log operations\nlog_operation() {\n    local operation=\u0026quot;$1\u0026quot;\n    local status=\u0026quot;$2\u0026quot;\n    local duration=\u0026quot;$3\u0026quot;\n    local timestamp=$(date \u0026#039;+%Y-%m-%d %H:%M:%S\u0026#039;)\n    \n    echo \u0026quot;[$timestamp] Operation: $operation, Status: $status, Duration: ${duration}s\u0026quot; \u0026gt;\u0026gt; \u0026quot;$LOG_FILE\u0026quot;\n    echo \u0026quot;terraform_operation_duration{operation=\\\u0026quot;$operation\\\u0026quot;,status=\\\u0026quot;$status\\\u0026quot;} $duration\u0026quot; \u0026gt;\u0026gt; \u0026quot;$METRICS_FILE\u0026quot;\n}\n\n# Wrapper function for terraform commands\nterraform_monitored() {\n    local operation=\u0026quot;$1\u0026quot;\n    shift\n    local start_time=$(date +%s)\n    local exit_code=0\n    \n    echo \u0026quot;Starting Terraform $operation at $(date)\u0026quot;\n    \n    if terraform \u0026quot;$operation\u0026quot; \u0026quot;$@\u0026quot;; then\n        local end_time=$(date +%s)\n        local duration=$((end_time - start_time))\n        log_operation \u0026quot;$operation\u0026quot; \u0026quot;success\u0026quot; \u0026quot;$duration\u0026quot;\n        echo \u0026quot;Terraform $operation completed successfully in ${duration}s\u0026quot;\n    else\n        exit_code=$?\n        local end_time=$(date +%s)\n        local duration=$((end_time - start_time))\n        log_operation \u0026quot;$operation\u0026quot; \u0026quot;failure\u0026quot; \u0026quot;$duration\u0026quot;\n        echo \u0026quot;Terraform $operation failed after ${duration}s\u0026quot;\n        return $exit_code\n    fi\n}\n\n# Usage: terraform_monitored plan, terraform_monitored apply, etc.\nterraform_monitored \u0026quot;$@\u0026quot;\nEOF\n\nchmod +x scripts/monitor-terraform.sh\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"infrastructure-monitoring-with-terraform\" class=\"mobile-header\"\u003eInfrastructure Monitoring with Terraform\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Deploy monitoring stack with Terraform\ncat \u0026gt; monitoring.tf \u0026lt;\u0026lt;EOF\n# CloudWatch alarms for infrastructure\nresource \u0026quot;aws_cloudwatch_metric_alarm\u0026quot; \u0026quot;high_cpu\u0026quot; {\n  for_each = toset(module.compute.instance_ids)\n  \n  alarm_name          = \u0026quot;high-cpu-${each.key}\u0026quot;\n  comparison_operator = \u0026quot;GreaterThanThreshold\u0026quot;\n  evaluation_periods  = \u0026quot;2\u0026quot;\n  metric_name        = \u0026quot;CPUUtilization\u0026quot;\n  namespace          = \u0026quot;AWS/EC2\u0026quot;\n  period             = \u0026quot;300\u0026quot;\n  statistic          = \u0026quot;Average\u0026quot;\n  threshold          = \u0026quot;80\u0026quot;\n  alarm_description  = \u0026quot;This metric monitors EC2 CPU utilization\u0026quot;\n\n  dimensions = {\n    InstanceId = each.value\n  }\n\n  alarm_actions = [aws_sns_topic.alerts.arn]\n  \n  tags = var.common_tags\n}\n\n# SNS topic for alerts\nresource \u0026quot;aws_sns_topic\u0026quot; \u0026quot;alerts\u0026quot; {\n  name = \u0026quot;${var.project_name}-infrastructure-alerts\u0026quot;\n  \n  tags = var.common_tags\n}\n\nresource \u0026quot;aws_sns_topic_subscription\u0026quot; \u0026quot;email_alerts\u0026quot; {\n  topic_arn = aws_sns_topic.alerts.arn\n  protocol  = \u0026quot;email\u0026quot;\n  endpoint  = var.alert_email\n}\n\n# Log group for Terraform operations\nresource \u0026quot;aws_cloudwatch_log_group\u0026quot; \u0026quot;terraform_ops\u0026quot; {\n  name              = \u0026quot;/terraform/operations\u0026quot;\n  retention_in_days = 30\n  \n  tags = var.common_tags\n}\n\n# Dashboard for infrastructure monitoring\nresource \u0026quot;aws_cloudwatch_dashboard\u0026quot; \u0026quot;main\u0026quot; {\n  dashboard_name = \u0026quot;${var.project_name}-infrastructure\u0026quot;\n\n  dashboard_body = jsonencode({\n    widgets = [\n      {\n        type   = \u0026quot;metric\u0026quot;\n        x      = 0\n        y      = 0\n        width  = 12\n        height = 6\n\n        properties = {\n          metrics = [\n            [\u0026quot;AWS/EC2\u0026quot;, \u0026quot;CPUUtilization\u0026quot;, \u0026quot;InstanceId\u0026quot;, module.compute.instance_ids[0]],\n          ]\n          view    = \u0026quot;timeSeries\u0026quot;\n          stacked = false\n          region  = var.aws_region\n          title   = \u0026quot;EC2 Instance CPU\u0026quot;\n          period  = 300\n        }\n      }\n    ]\n  })\n}\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"terraform-cloud-monitoring\" class=\"mobile-header\"\u003eTerraform Cloud Monitoring\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Monitor Terraform Cloud workspaces\ncat \u0026gt; scripts/monitor-tf-cloud.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\n\nTF_CLOUD_TOKEN=\u0026quot;${TF_CLOUD_TOKEN}\u0026quot;\nORGANIZATION=\u0026quot;${TF_ORGANIZATION}\u0026quot;\n\n# Function to get workspace status\nget_workspace_status() {\n    local workspace_name=\u0026quot;$1\u0026quot;\n    \n    curl -s \\\n        --header \u0026quot;Authorization: Bearer $TF_CLOUD_TOKEN\u0026quot; \\\n        --header \u0026quot;Content-Type: application/vnd.api+json\u0026quot; \\\n        \u0026quot;https://app.terraform.io/api/v2/organizations/$ORGANIZATION/workspaces/$workspace_name/current-run\u0026quot; \\\n        | jq -r \u0026#039;.data.attributes.status\u0026#039;\n}\n\n# Function to get workspace runs\nget_recent_runs() {\n    local workspace_id=\u0026quot;$1\u0026quot;\n    \n    curl -s \\\n        --header \u0026quot;Authorization: Bearer $TF_CLOUD_TOKEN\u0026quot; \\\n        --header \u0026quot;Content-Type: application/vnd.api+json\u0026quot; \\\n        \u0026quot;https://app.terraform.io/api/v2/workspaces/$workspace_id/runs\u0026quot; \\\n        | jq -r \u0026#039;.data[].attributes | \u0026quot;\\(.status) - \\(.created_at)\u0026quot;\u0026#039;\n}\n\n# Monitor critical workspaces\nWORKSPACES=(\u0026quot;production-web\u0026quot; \u0026quot;production-database\u0026quot; \u0026quot;staging-environment\u0026quot;)\n\nfor workspace in \u0026quot;${WORKSPACES[@]}\u0026quot;; do\n    status=$(get_workspace_status \u0026quot;$workspace\u0026quot;)\n    echo \u0026quot;Workspace: $workspace, Status: $status\u0026quot;\n    \n    if [[ \u0026quot;$status\u0026quot; == \u0026quot;errored\u0026quot; ]]; then\n        echo \u0026quot;❌ ALERT: Workspace $workspace has errors!\u0026quot;\n        # Send alert to monitoring system\n        curl -X POST \\\n            -H \u0026quot;Content-Type: application/json\u0026quot; \\\n            -d \u0026quot;{\\\u0026quot;text\\\u0026quot;: \\\u0026quot;Terraform workspace $workspace has errors\\\u0026quot;}\u0026quot; \\\n            \u0026quot;$SLACK_WEBHOOK_URL\u0026quot;\n    elif [[ \u0026quot;$status\u0026quot; == \u0026quot;planned_and_finished\u0026quot; ]]; then\n        echo \u0026quot;✅ Workspace $workspace is healthy\u0026quot;\n    fi\ndone\nEOF\n\nchmod +x scripts/monitor-tf-cloud.sh\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"backup-and-restore\" class=\"mobile-header\"\u003eBackup and Restore\u003c/h2\u003e\n\u003ch3 id=\"state-file-backup\" class=\"mobile-header\"\u003eState File Backup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Comprehensive state backup script\ncat \u0026gt; scripts/backup-terraform-state.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\n\nBACKUP_DIR=\u0026quot;/backup/terraform\u0026quot;\nDATE=$(date +%Y%m%d_%H%M%S)\nENVIRONMENTS=(\u0026quot;development\u0026quot; \u0026quot;staging\u0026quot; \u0026quot;production\u0026quot;)\n\nmkdir -p \u0026quot;$BACKUP_DIR\u0026quot;\n\nbackup_state() {\n    local environment=\u0026quot;$1\u0026quot;\n    local backup_path=\u0026quot;$BACKUP_DIR/$environment\u0026quot;\n    \n    echo \u0026quot;Backing up $environment state...\u0026quot;\n    mkdir -p \u0026quot;$backup_path\u0026quot;\n    \n    # Change to environment directory\n    cd \u0026quot;environments/$environment\u0026quot; || return 1\n    \n    # Pull current state\n    terraform state pull \u0026gt; \u0026quot;$backup_path/terraform-state-$DATE.json\u0026quot;\n    \n    # Backup configuration files\n    tar -czf \u0026quot;$backup_path/terraform-config-$DATE.tar.gz\u0026quot; \\\n        --exclude=\u0026quot;.terraform\u0026quot; \\\n        --exclude=\u0026quot;*.tfplan\u0026quot; \\\n        .\n    \n    # Backup workspace info\n    terraform workspace show \u0026gt; \u0026quot;$backup_path/current-workspace-$DATE.txt\u0026quot;\n    terraform workspace list \u0026gt; \u0026quot;$backup_path/all-workspaces-$DATE.txt\u0026quot;\n    \n    # Backup provider versions\n    terraform version \u0026gt; \u0026quot;$backup_path/terraform-version-$DATE.txt\u0026quot;\n    \n    cd - \u0026gt; /dev/null\n    \n    echo \u0026quot;✅ Backup completed for $environment\u0026quot;\n}\n\n# Backup all environments\nfor env in \u0026quot;${ENVIRONMENTS[@]}\u0026quot;; do\n    if [[ -d \u0026quot;environments/$env\u0026quot; ]]; then\n        backup_state \u0026quot;$env\u0026quot;\n    else\n        echo \u0026quot;⚠️  Environment directory not found: environments/$env\u0026quot;\n    fi\ndone\n\n# Create consolidated backup\ncd \u0026quot;$BACKUP_DIR\u0026quot;\ntar -czf \u0026quot;terraform-complete-backup-$DATE.tar.gz\u0026quot; \\\n    --exclude=\u0026quot;*.tar.gz\u0026quot; \\\n    .\n\n# Upload to cloud storage\nif command -v aws \u0026amp;\u0026gt; /dev/null; then\n    aws s3 cp \u0026quot;terraform-complete-backup-$DATE.tar.gz\u0026quot; \\\n        s3://terraform-backups/\nfi\n\nif command -v az \u0026amp;\u0026gt; /dev/null; then\n    az storage blob upload \\\n        --file \u0026quot;terraform-complete-backup-$DATE.tar.gz\u0026quot; \\\n        --container-name terraform-backups \\\n        --name \u0026quot;terraform-complete-backup-$DATE.tar.gz\u0026quot;\nfi\n\nif command -v gsutil \u0026amp;\u0026gt; /dev/null; then\n    gsutil cp \u0026quot;terraform-complete-backup-$DATE.tar.gz\u0026quot; \\\n        gs://terraform-backups/\nfi\n\n# Cleanup old backups (keep last 30 days)\nfind \u0026quot;$BACKUP_DIR\u0026quot; -name \u0026quot;terraform-complete-backup-*.tar.gz\u0026quot; \\\n    -mtime +30 -delete\n\necho \u0026quot;🎉 All backups completed successfully\u0026quot;\nEOF\n\nchmod +x scripts/backup-terraform-state.sh\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"disaster-recovery-procedures\" class=\"mobile-header\"\u003eDisaster Recovery Procedures\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Disaster recovery script\ncat \u0026gt; scripts/disaster-recovery.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\n\nBACKUP_FILE=\u0026quot;$1\u0026quot;\nTARGET_ENVIRONMENT=\u0026quot;$2\u0026quot;\n\nif [[ -z \u0026quot;$BACKUP_FILE\u0026quot; || -z \u0026quot;$TARGET_ENVIRONMENT\u0026quot; ]]; then\n    echo \u0026quot;Usage: $0 \u0026lt;backup-file.tar.gz\u0026gt; \u0026lt;target-environment\u0026gt;\u0026quot;\n    echo \u0026quot;Example: $0 terraform-complete-backup-20240115_143000.tar.gz production\u0026quot;\n    exit 1\nfi\n\n# Verify backup file exists\nif [[ ! -f \u0026quot;$BACKUP_FILE\u0026quot; ]]; then\n    echo \u0026quot;❌ Backup file not found: $BACKUP_FILE\u0026quot;\n    exit 1\nfi\n\n# Create recovery directory\nRECOVERY_DIR=\u0026quot;/tmp/terraform-recovery-$(date +%s)\u0026quot;\nmkdir -p \u0026quot;$RECOVERY_DIR\u0026quot;\n\n# Extract backup\necho \u0026quot;📦 Extracting backup...\u0026quot;\ntar -xzf \u0026quot;$BACKUP_FILE\u0026quot; -C \u0026quot;$RECOVERY_DIR\u0026quot;\n\n# Navigate to target environment\ncd \u0026quot;environments/$TARGET_ENVIRONMENT\u0026quot; || {\n    echo \u0026quot;❌ Target environment directory not found: environments/$TARGET_ENVIRONMENT\u0026quot;\n    exit 1\n}\n\n# Backup current state before recovery\necho \u0026quot;💾 Backing up current state...\u0026quot;\nterraform state pull \u0026gt; \u0026quot;current-state-backup-$(date +%Y%m%d_%H%M%S).json\u0026quot;\n\n# Import recovered state\nRECOVERED_STATE=\u0026quot;$RECOVERY_DIR/$TARGET_ENVIRONMENT/terraform-state-*.json\u0026quot;\nif [[ -f $RECOVERED_STATE ]]; then\n    echo \u0026quot;🔄 Restoring state from backup...\u0026quot;\n    terraform state push \u0026quot;$RECOVERED_STATE\u0026quot;\nelse\n    echo \u0026quot;❌ No state file found in backup for environment: $TARGET_ENVIRONMENT\u0026quot;\n    exit 1\nfi\n\n# Verify state consistency\necho \u0026quot;🔍 Verifying state consistency...\u0026quot;\nif terraform plan -detailed-exitcode; then\n    echo \u0026quot;✅ State restored successfully - no drift detected\u0026quot;\nelif [[ $? -eq 2 ]]; then\n    echo \u0026quot;⚠️  State restored but drift detected - manual review required\u0026quot;\n    terraform plan\nelse\n    echo \u0026quot;❌ State restoration failed - check error messages above\u0026quot;\n    exit 1\nfi\n\n# Cleanup\nrm -rf \u0026quot;$RECOVERY_DIR\u0026quot;\n\necho \u0026quot;🎉 Disaster recovery completed for environment: $TARGET_ENVIRONMENT\u0026quot;\necho \u0026quot;💡 Please review the plan output and apply changes if necessary\u0026quot;\nEOF\n\nchmod +x scripts/disaster-recovery.sh\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"state-migration-and-refactoring\" class=\"mobile-header\"\u003eState Migration and Refactoring\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# State migration script for refactoring\ncat \u0026gt; scripts/migrate-state.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\n\n# Function to safely move resources in state\nmove_resource() {\n    local old_address=\u0026quot;$1\u0026quot;\n    local new_address=\u0026quot;$2\u0026quot;\n    \n    echo \u0026quot;Moving $old_address to $new_address\u0026quot;\n    \n    # Check if source resource exists\n    if terraform state show \u0026quot;$old_address\u0026quot; \u0026amp;\u0026gt;/dev/null; then\n        terraform state mv \u0026quot;$old_address\u0026quot; \u0026quot;$new_address\u0026quot;\n        echo \u0026quot;✅ Successfully moved $old_address to $new_address\u0026quot;\n    else\n        echo \u0026quot;⚠️  Resource not found: $old_address\u0026quot;\n    fi\n}\n\n# Function to import existing resources\nimport_resource() {\n    local resource_address=\u0026quot;$1\u0026quot;\n    local resource_id=\u0026quot;$2\u0026quot;\n    \n    echo \u0026quot;Importing $resource_id as $resource_address\u0026quot;\n    \n    if terraform import \u0026quot;$resource_address\u0026quot; \u0026quot;$resource_id\u0026quot;; then\n        echo \u0026quot;✅ Successfully imported $resource_id as $resource_address\u0026quot;\n    else\n        echo \u0026quot;❌ Failed to import $resource_id\u0026quot;\n    fi\n}\n\n# Example migrations\necho \u0026quot;🔄 Starting state migrations...\u0026quot;\n\n# Move resources to modules\nmove_resource \u0026quot;aws_instance.web\u0026quot; \u0026quot;module.web_servers.aws_instance.main[0]\u0026quot;\nmove_resource \u0026quot;aws_security_group.web\u0026quot; \u0026quot;module.web_servers.aws_security_group.main\u0026quot;\n\n# Import existing resources\nimport_resource \u0026quot;aws_s3_bucket.existing_bucket\u0026quot; \u0026quot;existing-bucket-name\u0026quot;\n\n# Remove resources that are no longer managed\nterraform state rm aws_instance.deprecated\n\necho \u0026quot;🎉 State migrations completed\u0026quot;\necho \u0026quot;💡 Run \u0026#039;terraform plan\u0026#039; to verify changes\u0026quot;\nEOF\n\nchmod +x scripts/migrate-state.sh\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"troubleshooting\" class=\"mobile-header\"\u003eTroubleshooting\u003c/h2\u003e\n\u003ch3 id=\"common-issues-and-solutions\" class=\"mobile-header\"\u003eCommon Issues and Solutions\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Terraform troubleshooting script\ncat \u0026gt; scripts/troubleshoot-terraform.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\n\necho \u0026quot;🔧 Terraform Troubleshooting Tool\u0026quot;\necho \u0026quot;================================\u0026quot;\n\n# Check Terraform installation\ncheck_installation() {\n    echo \u0026quot;📋 Checking Terraform installation...\u0026quot;\n    \n    if command -v terraform \u0026amp;\u0026gt; /dev/null; then\n        terraform version\n        echo \u0026quot;✅ Terraform is installed\u0026quot;\n    else\n        echo \u0026quot;❌ Terraform is not installed or not in PATH\u0026quot;\n        return 1\n    fi\n}\n\n# Check configuration syntax\ncheck_configuration() {\n    echo \u0026quot;📋 Checking configuration syntax...\u0026quot;\n    \n    if terraform fmt -check -diff; then\n        echo \u0026quot;✅ Configuration is properly formatted\u0026quot;\n    else\n        echo \u0026quot;⚠️  Configuration formatting issues found\u0026quot;\n        terraform fmt -diff\n    fi\n    \n    if terraform validate; then\n        echo \u0026quot;✅ Configuration is valid\u0026quot;\n    else\n        echo \u0026quot;❌ Configuration validation failed\u0026quot;\n        return 1\n    fi\n}\n\n# Check provider authentication\ncheck_providers() {\n    echo \u0026quot;📋 Checking provider authentication...\u0026quot;\n    \n    # AWS\n    if aws sts get-caller-identity \u0026amp;\u0026gt;/dev/null; then\n        echo \u0026quot;✅ AWS credentials are valid\u0026quot;\n    else\n        echo \u0026quot;⚠️  AWS credentials may be invalid or not configured\u0026quot;\n    fi\n    \n    # Azure\n    if az account show \u0026amp;\u0026gt;/dev/null; then\n        echo \u0026quot;✅ Azure credentials are valid\u0026quot;\n    else\n        echo \u0026quot;⚠️  Azure credentials may be invalid or not configured\u0026quot;\n    fi\n    \n    # GCP\n    if gcloud auth list --filter=status:ACTIVE --format=\u0026quot;value(account)\u0026quot; \u0026amp;\u0026gt;/dev/null; then\n        echo \u0026quot;✅ GCP credentials are valid\u0026quot;\n    else\n        echo \u0026quot;⚠️  GCP credentials may be invalid or not configured\u0026quot;\n    fi\n}\n\n# Check state file\ncheck_state() {\n    echo \u0026quot;📋 Checking state file...\u0026quot;\n    \n    if terraform state list \u0026amp;\u0026gt;/dev/null; then\n        resource_count=$(terraform state list | wc -l)\n        echo \u0026quot;✅ State file is accessible with $resource_count resources\u0026quot;\n    else\n        echo \u0026quot;❌ Cannot access state file\u0026quot;\n        return 1\n    fi\n}\n\n# Check for common issues\ncheck_common_issues() {\n    echo \u0026quot;📋 Checking for common issues...\u0026quot;\n    \n    # Check for lock file\n    if [[ -f \u0026quot;.terraform.lock.hcl\u0026quot; ]]; then\n        echo \u0026quot;✅ Lock file exists\u0026quot;\n    else\n        echo \u0026quot;⚠️  Lock file missing - run \u0026#039;terraform init\u0026#039;\u0026quot;\n    fi\n    \n    # Check for local state file in production\n    if [[ -f \u0026quot;terraform.tfstate\u0026quot; ]] \u0026amp;\u0026amp; [[ $(terraform workspace show) == \u0026quot;production\u0026quot; ]]; then\n        echo \u0026quot;⚠️  Local state file detected in production workspace\u0026quot;\n        echo \u0026quot;    Consider using remote state for production\u0026quot;\n    fi\n    \n    # Check for hardcoded secrets\n    if grep -r \u0026quot;password\\s*=\\s*\\\u0026quot;\u0026quot; . --include=\u0026quot;*.tf\u0026quot; --include=\u0026quot;*.tfvars\u0026quot; 2\u0026gt;/dev/null; then\n        echo \u0026quot;⚠️  Potential hardcoded passwords found\u0026quot;\n    fi\n    \n    # Check for large state file\n    if [[ -f \u0026quot;terraform.tfstate\u0026quot; ]]; then\n        state_size=$(stat -f%z \u0026quot;terraform.tfstate\u0026quot; 2\u0026gt;/dev/null || stat -c%s \u0026quot;terraform.tfstate\u0026quot; 2\u0026gt;/dev/null)\n        if [[ $state_size -gt 10485760 ]]; then  # 10MB\n            echo \u0026quot;⚠️  Large state file detected ($(($state_size / 1024 / 1024))MB)\u0026quot;\n            echo \u0026quot;    Consider splitting into smaller configurations\u0026quot;\n        fi\n    fi\n}\n\n# Debug mode information\ndebug_info() {\n    echo \u0026quot;📋 Debug information...\u0026quot;\n    \n    echo \u0026quot;Working directory: $(pwd)\u0026quot;\n    echo \u0026quot;Terraform workspace: $(terraform workspace show)\u0026quot;\n    echo \u0026quot;Environment variables:\u0026quot;\n    env | grep -E \u0026quot;^(TF_|AWS_|ARM_|GOOGLE_)\u0026quot; | sed \u0026#039;s/=.*/=***/\u0026#039; | sort\n}\n\n# Run all checks\nrun_all_checks() {\n    check_installation || return 1\n    check_configuration || return 1\n    check_providers\n    check_state || return 1\n    check_common_issues\n    debug_info\n}\n\n# Main execution\ncase \u0026quot;${1:-all}\u0026quot; in\n    \u0026quot;installation\u0026quot;)\n        check_installation\n        ;;\n    \u0026quot;config\u0026quot;)\n        check_configuration\n        ;;\n    \u0026quot;providers\u0026quot;)\n        check_providers\n        ;;\n    \u0026quot;state\u0026quot;)\n        check_state\n        ;;\n    \u0026quot;common\u0026quot;)\n        check_common_issues\n        ;;\n    \u0026quot;debug\u0026quot;)\n        debug_info\n        ;;\n    \u0026quot;all\u0026quot;)\n        run_all_checks\n        ;;\n    *)\n        echo \u0026quot;Usage: $0 [installation|config|providers|state|common|debug|all]\u0026quot;\n        exit 1\n        ;;\nesac\nEOF\n\nchmod +x scripts/troubleshoot-terraform.sh\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"advanced-debugging\" class=\"mobile-header\"\u003eAdvanced Debugging\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Advanced debugging techniques\ncat \u0026gt; scripts/debug-terraform.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\n\n# Enable debug logging\nexport TF_LOG=DEBUG\nexport TF_LOG_PATH=\u0026quot;terraform-debug-$(date +%Y%m%d_%H%M%S).log\u0026quot;\n\n# Create debug session\ndebug_session() {\n    local operation=\u0026quot;$1\u0026quot;\n    shift\n    \n    echo \u0026quot;🐛 Starting debug session for: $operation\u0026quot;\n    echo \u0026quot;Debug log: $TF_LOG_PATH\u0026quot;\n    \n    # Capture detailed timing information\n    time terraform \u0026quot;$operation\u0026quot; \u0026quot;$@\u0026quot; 2\u0026gt;\u0026amp;1 | tee -a \u0026quot;$TF_LOG_PATH\u0026quot;\n    \n    local exit_code=${PIPESTATUS[0]}\n    \n    if [[ $exit_code -ne 0 ]]; then\n        echo \u0026quot;❌ Operation failed with exit code: $exit_code\u0026quot;\n        echo \u0026quot;📄 Last 50 lines of debug log:\u0026quot;\n        tail -50 \u0026quot;$TF_LOG_PATH\u0026quot;\n    else\n        echo \u0026quot;✅ Operation completed successfully\u0026quot;\n    fi\n    \n    return $exit_code\n}\n\n# Analyze state file for issues\nanalyze_state() {\n    echo \u0026quot;🔍 Analyzing state file...\u0026quot;\n    \n    # Check for orphaned resources\n    echo \u0026quot;Checking for potential orphaned resources...\u0026quot;\n    terraform state list | while read resource; do\n        if ! terraform plan -target=\u0026quot;$resource\u0026quot; -detailed-exitcode \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n            echo \u0026quot;⚠️  Potential issue with resource: $resource\u0026quot;\n        fi\n    done\n    \n    # Check for large resources in state\n    echo \u0026quot;Checking for large resources...\u0026quot;\n    terraform state pull | jq -r \u0026#039;.resources[] | select(.instances[0].attributes | length \u0026gt; 50) | .address\u0026#039; 2\u0026gt;/dev/null | head -10\n}\n\n# Provider debug information\ndebug_providers() {\n    echo \u0026quot;🔍 Debugging provider issues...\u0026quot;\n    \n    # Show provider configuration\n    terraform providers\n    \n    # Check provider cache\n    if [[ -d \u0026quot;$HOME/.terraform.d/plugin-cache\u0026quot; ]]; then\n        echo \u0026quot;Provider cache contents:\u0026quot;\n        ls -la \u0026quot;$HOME/.terraform.d/plugin-cache\u0026quot;\n    fi\n    \n    # Check for provider version conflicts\n    terraform version -json | jq \u0026#039;.provider_selections\u0026#039; 2\u0026gt;/dev/null\n}\n\n# Network and API debugging\ndebug_network() {\n    echo \u0026quot;🌐 Debugging network connectivity...\u0026quot;\n    \n    # Test connectivity to common endpoints\n    local endpoints=(\n        \u0026quot;https://releases.hashicorp.com\u0026quot;\n        \u0026quot;https://registry.terraform.io\u0026quot;\n        \u0026quot;https://api.github.com\u0026quot;\n        \u0026quot;https://aws.amazon.com\u0026quot;\n        \u0026quot;https://management.azure.com\u0026quot;\n        \u0026quot;https://www.googleapis.com\u0026quot;\n    )\n    \n    for endpoint in \u0026quot;${endpoints[@]}\u0026quot;; do\n        if curl -s --connect-timeout 5 \u0026quot;$endpoint\u0026quot; \u0026gt;/dev/null; then\n            echo \u0026quot;✅ $endpoint - OK\u0026quot;\n        else\n            echo \u0026quot;❌ $endpoint - FAILED\u0026quot;\n        fi\n    done\n}\n\n# Performance analysis\nanalyze_performance() {\n    echo \u0026quot;📊 Analyzing Terraform performance...\u0026quot;\n    \n    # Generate and analyze dependency graph\n    terraform graph \u0026gt; dependency-graph.dot\n    \n    # Count resources by type\n    echo \u0026quot;Resource distribution:\u0026quot;\n    terraform state list | cut -d. -f1 | sort | uniq -c | sort -nr | head -10\n    \n    # Estimate plan time based on resources\n    resource_count=$(terraform state list | wc -l)\n    estimated_time=$((resource_count * 2))  # Rough estimate: 2 seconds per resource\n    echo \u0026quot;Estimated plan time: ${estimated_time} seconds for $resource_count resources\u0026quot;\n}\n\n# Usage\ncase \u0026quot;${1:-help}\u0026quot; in\n    \u0026quot;session\u0026quot;)\n        shift\n        debug_session \u0026quot;$@\u0026quot;\n        ;;\n    \u0026quot;state\u0026quot;)\n        analyze_state\n        ;;\n    \u0026quot;providers\u0026quot;)\n        debug_providers\n        ;;\n    \u0026quot;network\u0026quot;)\n        debug_network\n        ;;\n    \u0026quot;performance\u0026quot;)\n        analyze_performance\n        ;;\n    \u0026quot;all\u0026quot;)\n        debug_providers\n        debug_network\n        analyze_state\n        analyze_performance\n        ;;\n    \u0026quot;help\u0026quot;|*)\n        echo \u0026quot;Usage: $0 [session|state|providers|network|performance|all]\u0026quot;\n        echo \u0026quot;\u0026quot;\n        echo \u0026quot;  session \u0026lt;operation\u0026gt; [args]  - Debug specific Terraform operation\u0026quot;\n        echo \u0026quot;  state                       - Analyze state file for issues\u0026quot;\n        echo \u0026quot;  providers                   - Debug provider configuration\u0026quot;\n        echo \u0026quot;  network                     - Test network connectivity\u0026quot;\n        echo \u0026quot;  performance                 - Analyze performance characteristics\u0026quot;\n        echo \u0026quot;  all                         - Run all debug checks\u0026quot;\n        ;;\nesac\nEOF\n\nchmod +x scripts/debug-terraform.sh\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"maintenance\" class=\"mobile-header\"\u003eMaintenance\u003c/h2\u003e\n\u003ch3 id=\"update-procedures\" class=\"mobile-header\"\u003eUpdate Procedures\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Terraform update script\ncat \u0026gt; scripts/update-terraform.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\n\nCURRENT_VERSION=$(terraform version -json | jq -r \u0026#039;.terraform_version\u0026#039;)\necho \u0026quot;Current Terraform version: $CURRENT_VERSION\u0026quot;\n\n# Check for latest version\ncheck_latest_version() {\n    local latest_version\n    latest_version=$(curl -s https://api.github.com/repos/hashicorp/terraform/releases/latest | jq -r \u0026#039;.tag_name\u0026#039; | sed \u0026#039;s/v//\u0026#039;)\n    echo \u0026quot;Latest Terraform version: $latest_version\u0026quot;\n    \n    if [[ \u0026quot;$CURRENT_VERSION\u0026quot; != \u0026quot;$latest_version\u0026quot; ]]; then\n        echo \u0026quot;⚠️  Update available: $CURRENT_VERSION → $latest_version\u0026quot;\n        return 1\n    else\n        echo \u0026quot;✅ Terraform is up to date\u0026quot;\n        return 0\n    fi\n}\n\n# Update using package manager\nupdate_terraform() {\n    echo \u0026quot;🔄 Updating Terraform...\u0026quot;\n    \n    if command -v apt \u0026amp;\u0026gt;/dev/null; then\n        sudo apt update \u0026amp;\u0026amp; sudo apt upgrade terraform\n    elif command -v yum \u0026amp;\u0026gt;/dev/null; then\n        sudo yum update terraform\n    elif command -v dnf \u0026amp;\u0026gt;/dev/null; then\n        sudo dnf update terraform\n    elif command -v pacman \u0026amp;\u0026gt;/dev/null; then\n        sudo pacman -Syu terraform\n    elif command -v zypper \u0026amp;\u0026gt;/dev/null; then\n        sudo zypper update terraform\n    elif command -v brew \u0026amp;\u0026gt;/dev/null; then\n        brew upgrade terraform\n    else\n        echo \u0026quot;❌ No supported package manager found\u0026quot;\n        echo \u0026quot;💡 Please update manually from: https://releases.hashicorp.com/terraform/\u0026quot;\n        return 1\n    fi\n}\n\n# Update providers\nupdate_providers() {\n    echo \u0026quot;🔄 Updating providers...\u0026quot;\n    terraform init -upgrade\n}\n\n# Verify update\nverify_update() {\n    echo \u0026quot;🔍 Verifying update...\u0026quot;\n    \n    terraform version\n    \n    # Test basic functionality\n    if terraform validate; then\n        echo \u0026quot;✅ Update verification successful\u0026quot;\n    else\n        echo \u0026quot;❌ Update verification failed\u0026quot;\n        return 1\n    fi\n}\n\n# Main update process\nmain() {\n    if check_latest_version; then\n        exit 0\n    fi\n    \n    echo \u0026quot;Proceed with update? (y/N)\u0026quot;\n    read -r response\n    \n    if [[ \u0026quot;$response\u0026quot; =~ ^[Yy]$ ]]; then\n        update_terraform || exit 1\n        update_providers || exit 1\n        verify_update || exit 1\n        echo \u0026quot;🎉 Terraform update completed successfully\u0026quot;\n    else\n        echo \u0026quot;Update cancelled\u0026quot;\n    fi\n}\n\nmain \u0026quot;$@\u0026quot;\nEOF\n\nchmod +x scripts/update-terraform.sh\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"maintenance-tasks\" class=\"mobile-header\"\u003eMaintenance Tasks\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Comprehensive maintenance script\ncat \u0026gt; scripts/terraform-maintenance.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\n\nMAINTENANCE_LOG=\u0026quot;/var/log/terraform-maintenance-$(date +%Y%m%d_%H%M%S).log\u0026quot;\n\nlog() {\n    echo \u0026quot;$(date \u0026#039;+%Y-%m-%d %H:%M:%S\u0026#039;) - $1\u0026quot; | tee -a \u0026quot;$MAINTENANCE_LOG\u0026quot;\n}\n\n# Cleanup old plan files\ncleanup_plans() {\n    log \u0026quot;🧹 Cleaning up old plan files...\u0026quot;\n    find . -name \u0026quot;*.tfplan\u0026quot; -mtime +7 -delete\n    find . -name \u0026quot;*.tfplan.json\u0026quot; -mtime +7 -delete\n    log \u0026quot;✅ Plan file cleanup completed\u0026quot;\n}\n\n# Cleanup provider cache\ncleanup_provider_cache() {\n    log \u0026quot;🧹 Cleaning up provider cache...\u0026quot;\n    if [[ -d \u0026quot;$HOME/.terraform.d/plugin-cache\u0026quot; ]]; then\n        # Remove providers older than 30 days\n        find \u0026quot;$HOME/.terraform.d/plugin-cache\u0026quot; -type f -mtime +30 -delete\n        \n        # Remove empty directories\n        find \u0026quot;$HOME/.terraform.d/plugin-cache\u0026quot; -type d -empty -delete\n        \n        cache_size=$(du -sh \u0026quot;$HOME/.terraform.d/plugin-cache\u0026quot; 2\u0026gt;/dev/null | cut -f1)\n        log \u0026quot;✅ Provider cache cleanup completed - current size: $cache_size\u0026quot;\n    fi\n}\n\n# Validate all configurations\nvalidate_configurations() {\n    log \u0026quot;🔍 Validating all configurations...\u0026quot;\n    \n    local validation_failed=false\n    \n    # Find all directories with Terraform files\n    find . -name \u0026quot;*.tf\u0026quot; -exec dirname {} \\; | sort -u | while read -r dir; do\n        log \u0026quot;Validating: $dir\u0026quot;\n        cd \u0026quot;$dir\u0026quot; || continue\n        \n        if terraform validate; then\n            log \u0026quot;✅ $dir validation passed\u0026quot;\n        else\n            log \u0026quot;❌ $dir validation failed\u0026quot;\n            validation_failed=true\n        fi\n        \n        cd - \u0026gt; /dev/null\n    done\n    \n    if [[ \u0026quot;$validation_failed\u0026quot; == \u0026quot;true\u0026quot; ]]; then\n        log \u0026quot;⚠️  Some validations failed - please review\u0026quot;\n    else\n        log \u0026quot;✅ All validations passed\u0026quot;\n    fi\n}\n\n# Check for deprecated features\ncheck_deprecated() {\n    log \u0026quot;🔍 Checking for deprecated features...\u0026quot;\n    \n    # Check for deprecated syntax\n    local deprecated_patterns=(\n        \u0026quot;provider\\s+\\\u0026quot;[^\\\u0026quot;]+\\\u0026quot;\\s+{\u0026quot; # Old provider syntax\n        \u0026quot;terraform\\s+{[^}]*version\\s*=\u0026quot; # Old terraform version constraints\n        \u0026quot;ignore_changes\\s*=\u0026quot; # Old ignore_changes syntax\n    )\n    \n    for pattern in \u0026quot;${deprecated_patterns[@]}\u0026quot;; do\n        if grep -r \u0026quot;$pattern\u0026quot; . --include=\u0026quot;*.tf\u0026quot; 2\u0026gt;/dev/null; then\n            log \u0026quot;⚠️  Deprecated pattern found: $pattern\u0026quot;\n        fi\n    done\n    \n    log \u0026quot;✅ Deprecation check completed\u0026quot;\n}\n\n# Security audit\nsecurity_audit() {\n    log \u0026quot;🔒 Performing security audit...\u0026quot;\n    \n    # Check for potential security issues\n    local security_issues=()\n    \n    # Check for hardcoded secrets\n    if grep -r -i \u0026quot;password\\s*=\\s*\\\u0026quot;[^$]\u0026quot; . --include=\u0026quot;*.tf\u0026quot; --include=\u0026quot;*.tfvars\u0026quot; 2\u0026gt;/dev/null; then\n        security_issues+=(\u0026quot;Potential hardcoded passwords\u0026quot;)\n    fi\n    \n    # Check for public access\n    if grep -r \u0026quot;0.0.0.0/0\u0026quot; . --include=\u0026quot;*.tf\u0026quot; 2\u0026gt;/dev/null; then\n        security_issues+=(\u0026quot;Public access (0.0.0.0/0) found\u0026quot;)\n    fi\n    \n    # Check for unencrypted resources\n    if grep -r \u0026quot;encrypt.*=.*false\u0026quot; . --include=\u0026quot;*.tf\u0026quot; 2\u0026gt;/dev/null; then\n        security_issues+=(\u0026quot;Unencrypted resources found\u0026quot;)\n    fi\n    \n    if [[ ${#security_issues[@]} -gt 0 ]]; then\n        log \u0026quot;⚠️  Security issues found:\u0026quot;\n        for issue in \u0026quot;${security_issues[@]}\u0026quot;; do\n            log \u0026quot;  - $issue\u0026quot;\n        done\n    else\n        log \u0026quot;✅ No obvious security issues found\u0026quot;\n    fi\n}\n\n# State health check\nstate_health_check() {\n    log \u0026quot;🏥 Performing state health check...\u0026quot;\n    \n    # Check state file size\n    if [[ -f \u0026quot;terraform.tfstate\u0026quot; ]]; then\n        state_size=$(stat -f%z \u0026quot;terraform.tfstate\u0026quot; 2\u0026gt;/dev/null || stat -c%s \u0026quot;terraform.tfstate\u0026quot; 2\u0026gt;/dev/null)\n        state_size_mb=$((state_size / 1024 / 1024))\n        \n        if [[ $state_size_mb -gt 50 ]]; then\n            log \u0026quot;⚠️  Large state file detected: ${state_size_mb}MB\u0026quot;\n        else\n            log \u0026quot;✅ State file size OK: ${state_size_mb}MB\u0026quot;\n        fi\n    fi\n    \n    # Check for drift\n    if terraform plan -detailed-exitcode \u0026gt; /dev/null 2\u0026gt;\u0026amp;1; then\n        log \u0026quot;✅ No infrastructure drift detected\u0026quot;\n    else\n        exit_code=$?\n        if [[ $exit_code -eq 2 ]]; then\n            log \u0026quot;⚠️  Infrastructure drift detected\u0026quot;\n        else\n            log \u0026quot;❌ Error checking for drift\u0026quot;\n        fi\n    fi\n}\n\n# Generate maintenance report\ngenerate_report() {\n    log \u0026quot;📊 Generating maintenance report...\u0026quot;\n    \n    local report_file=\u0026quot;/tmp/terraform-maintenance-report-$(date +%Y%m%d_%H%M%S).md\u0026quot;\n    \n    cat \u0026gt; \u0026quot;$report_file\u0026quot; \u0026lt;\u0026lt;EOF\n# Terraform Maintenance Report\n\n**Date:** $(date)\n**Duration:** $((SECONDS / 60)) minutes\n\n## Summary\n\n- Configuration validation: $(grep \u0026quot;validation\u0026quot; \u0026quot;$MAINTENANCE_LOG\u0026quot; | grep -c \u0026quot;passed\u0026quot;)\n- Security audit: Completed\n- State health check: Completed\n- Cleanup operations: Completed\n\n## Recommendations\n\n$(grep \u0026quot;⚠️\u0026quot; \u0026quot;$MAINTENANCE_LOG\u0026quot; | sed \u0026#039;s/.*⚠️  /- /\u0026#039;)\n\n## Full Log\n\n\\`\\`\\`\n$(cat \u0026quot;$MAINTENANCE_LOG\u0026quot;)\n\\`\\`\\`\nEOF\n    \n    log \u0026quot;📄 Maintenance report generated: $report_file\u0026quot;\n    \n    # Email report if configured\n    if [[ -n \u0026quot;$MAINTENANCE_EMAIL\u0026quot; ]]; then\n        mail -s \u0026quot;Terraform Maintenance Report - $(date)\u0026quot; \u0026quot;$MAINTENANCE_EMAIL\u0026quot; \u0026lt; \u0026quot;$report_file\u0026quot;\n        log \u0026quot;📧 Report emailed to: $MAINTENANCE_EMAIL\u0026quot;\n    fi\n}\n\n# Main maintenance routine\nmain() {\n    log \u0026quot;🚀 Starting Terraform maintenance...\u0026quot;\n    \n    cleanup_plans\n    cleanup_provider_cache\n    validate_configurations\n    check_deprecated\n    security_audit\n    state_health_check\n    generate_report\n    \n    log \u0026quot;🎉 Terraform maintenance completed\u0026quot;\n    log \u0026quot;📊 Total runtime: $((SECONDS / 60)) minutes\u0026quot;\n}\n\n# Run maintenance\nmain \u0026quot;$@\u0026quot;\nEOF\n\nchmod +x scripts/terraform-maintenance.sh\n\n# Schedule maintenance with cron\ncat \u0026gt; scripts/schedule-maintenance.sh \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\n\n# Add to crontab for weekly maintenance\n(crontab -l 2\u0026gt;/dev/null; echo \u0026quot;0 2 * * 0 /path/to/terraform-maintenance.sh\u0026quot;) | crontab -\n\necho \u0026quot;✅ Weekly maintenance scheduled for Sundays at 2 AM\u0026quot;\nEOF\n\nchmod +x scripts/schedule-maintenance.sh\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"integration-examples\" class=\"mobile-header\"\u003eIntegration Examples\u003c/h2\u003e\n\u003ch3 id=\"cicd-pipeline-integration\" class=\"mobile-header\"\u003eCI/CD Pipeline Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# GitHub Actions workflow\nmkdir -p .github/workflows\ncat \u0026gt; .github/workflows/terraform.yml \u0026lt;\u0026lt;EOF\nname: Terraform Multi-Cloud Deployment\n\non:\n  push:\n    branches: [ main, develop ]\n  pull_request:\n    branches: [ main ]\n\nenv:\n  TF_VERSION: 1.6.4\n\njobs:\n  terraform:\n    runs-on: ubuntu-latest\n    strategy:\n      matrix:\n        environment: [development, staging, production]\n        \n    steps:\n    - name: Checkout code\n      uses: actions/checkout@v4\n    \n    - name: Setup Terraform\n      uses: hashicorp/setup-terraform@v3\n      with:\n        terraform_version: \\${{ env.TF_VERSION }}\n        cli_config_credentials_token: \\${{ secrets.TF_CLOUD_TOKEN }}\n    \n    - name: Configure AWS credentials\n      uses: aws-actions/configure-aws-credentials@v4\n      with:\n        aws-access-key-id: \\${{ secrets.AWS_ACCESS_KEY_ID }}\n        aws-secret-access-key: \\${{ secrets.AWS_SECRET_ACCESS_KEY }}\n        aws-region: us-west-2\n    \n    - name: Terraform Format Check\n      run: terraform fmt -check -recursive\n    \n    - name: Terraform Initialize\n      run: terraform init\n      working-directory: environments/\\${{ matrix.environment }}\n    \n    - name: Terraform Validate\n      run: terraform validate\n      working-directory: environments/\\${{ matrix.environment }}\n    \n    - name: Terraform Plan\n      run: terraform plan -var-file=\u0026quot;\\${{ matrix.environment }}.tfvars\u0026quot;\n      working-directory: environments/\\${{ matrix.environment }}\n    \n    - name: Security Scan with Checkov\n      uses: bridgecrewio/checkov-action@master\n      with:\n        directory: .\n        framework: terraform\n        output_format: sarif\n        output_file_path: checkov.sarif\n    \n    - name: Upload Checkov results\n      uses: github/codeql-action/upload-sarif@v2\n      if: always()\n      with:\n        sarif_file: checkov.sarif\n    \n    - name: Terraform Apply (Production)\n      if: github.ref == \u0026#039;refs/heads/main\u0026#039; \u0026amp;\u0026amp; matrix.environment == \u0026#039;production\u0026#039;\n      run: terraform apply -auto-approve -var-file=\u0026quot;production.tfvars\u0026quot;\n      working-directory: environments/production\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"gitlab-ci-integration\" class=\"mobile-header\"\u003eGitLab CI Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; .gitlab-ci.yml \u0026lt;\u0026lt;EOF\nstages:\n  - validate\n  - plan\n  - apply\n  - destroy\n\nvariables:\n  TF_ROOT: \\${CI_PROJECT_DIR}\n  TF_VERSION: \u0026quot;1.6.4\u0026quot;\n  TF_IN_AUTOMATION: \u0026quot;true\u0026quot;\n\ncache:\n  key: \u0026quot;\\${TF_ROOT}\u0026quot;\n  paths:\n    - \\${TF_ROOT}/.terraform\n\nbefore_script:\n  - cd \\${TF_ROOT}\n  - terraform version\n  - terraform init\n\nvalidate:\n  stage: validate\n  script:\n    - terraform fmt -check -recursive\n    - terraform validate\n    - |\n      for dir in environments/*/; do\n        cd \u0026quot;\\$dir\u0026quot;\n        terraform validate\n        cd -\n      done\n  rules:\n    - if: \u0026#039;\\$CI_MERGE_REQUEST_IID\u0026#039;\n    - if: \u0026#039;\\$CI_COMMIT_BRANCH == \\$CI_DEFAULT_BRANCH\u0026#039;\n\nplan:production:\n  stage: plan\n  script:\n    - cd environments/production\n    - terraform plan -var-file=\u0026quot;production.tfvars\u0026quot; -out=\u0026quot;production.tfplan\u0026quot;\n  artifacts:\n    paths:\n      - environments/production/production.tfplan\n    expire_in: 1 week\n  rules:\n    - if: \u0026#039;\\$CI_COMMIT_BRANCH == \\$CI_DEFAULT_BRANCH\u0026#039;\n\napply:production:\n  stage: apply\n  script:\n    - cd environments/production\n    - terraform apply -input=false \u0026quot;production.tfplan\u0026quot;\n  dependencies:\n    - plan:production\n  rules:\n    - if: \u0026#039;\\$CI_COMMIT_BRANCH == \\$CI_DEFAULT_BRANCH\u0026#039;\n      when: manual\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"jenkins-pipeline\" class=\"mobile-header\"\u003eJenkins Pipeline\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"groovy\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003egroovy\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-groovy\"\u003e// Jenkinsfile\npipeline {\n    agent any\n    \n    environment {\n        TF_VERSION = \u0026#039;1.6.4\u0026#039;\n        AWS_DEFAULT_REGION = \u0026#039;us-west-2\u0026#039;\n    }\n    \n    stages {\n        stage(\u0026#039;Checkout\u0026#039;) {\n            steps {\n                checkout scm\n            }\n        }\n        \n        stage(\u0026#039;Setup\u0026#039;) {\n            steps {\n                sh \u0026#039;\u0026#039;\u0026#039;\n                    # Install Terraform if not present\n                    if ! command -v terraform \u0026amp;\u0026gt; /dev/null; then\n                        wget https://releases.hashicorp.com/terraform/${TF_VERSION}/terraform_${TF_VERSION}_linux_amd64.zip\n                        unzip terraform_${TF_VERSION}_linux_amd64.zip\n                        chmod +x terraform\n                        sudo mv terraform /usr/local/bin/\n                    fi\n                    \n                    terraform version\n                \u0026#039;\u0026#039;\u0026#039;\n            }\n        }\n        \n        stage(\u0026#039;Validate\u0026#039;) {\n            parallel {\n                stage(\u0026#039;Format Check\u0026#039;) {\n                    steps {\n                        sh \u0026#039;terraform fmt -check -recursive\u0026#039;\n                    }\n                }\n                stage(\u0026#039;Configuration Validation\u0026#039;) {\n                    steps {\n                        sh \u0026#039;\u0026#039;\u0026#039;\n                            for dir in environments/*/; do\n                                cd \u0026quot;$dir\u0026quot;\n                                terraform init\n                                terraform validate\n                                cd -\n                            done\n                        \u0026#039;\u0026#039;\u0026#039;\n                    }\n                }\n                stage(\u0026#039;Security Scan\u0026#039;) {\n                    steps {\n                        sh \u0026#039;\u0026#039;\u0026#039;\n                            # Install and run Checkov\n                            pip3 install checkov\n                            checkov --framework terraform --directory .\n                        \u0026#039;\u0026#039;\u0026#039;\n                    }\n                }\n            }\n        }\n        \n        stage(\u0026#039;Plan\u0026#039;) {\n            steps {\n                script {\n                    def environments = [\u0026#039;development\u0026#039;, \u0026#039;staging\u0026#039;, \u0026#039;production\u0026#039;]\n                    def planResults = [:]\n                    \n                    environments.each { env -\u0026gt;\n                        planResults[env] = {\n                            dir(\u0026quot;environments/${env}\u0026quot;) {\n                                sh \u0026quot;\u0026quot;\u0026quot;\n                                    terraform init\n                                    terraform plan -var-file=\u0026quot;${env}.tfvars\u0026quot; -out=\u0026quot;${env}.tfplan\u0026quot;\n                                \u0026quot;\u0026quot;\u0026quot;\n                            }\n                        }\n                    }\n                    \n                    parallel planResults\n                }\n            }\n        }\n        \n        stage(\u0026#039;Apply\u0026#039;) {\n            when {\n                branch \u0026#039;main\u0026#039;\n            }\n            steps {\n                script {\n                    input message: \u0026#039;Apply Terraform changes?\u0026#039;, ok: \u0026#039;Apply\u0026#039;\n                    \n                    dir(\u0026#039;environments/production\u0026#039;) {\n                        sh \u0026#039;terraform apply -input=false production.tfplan\u0026#039;\n                    }\n                }\n            }\n        }\n    }\n    \n    post {\n        always {\n            archiveArtifacts artifacts: \u0026#039;environments/**/*.tfplan\u0026#039;, fingerprint: true\n            publishHTML([\n                allowMissing: false,\n                alwaysLinkToLastBuild: true,\n                keepAll: true,\n                reportDir: \u0026#039;checkov-report\u0026#039;,\n                reportFiles: \u0026#039;index.html\u0026#039;,\n                reportName: \u0026#039;Checkov Security Report\u0026#039;\n            ])\n        }\n        failure {\n            emailext (\n                subject: \u0026quot;Terraform Pipeline Failed: ${env.JOB_NAME} - ${env.BUILD_NUMBER}\u0026quot;,\n                body: \u0026quot;The Terraform pipeline has failed. Please check the build logs for details.\u0026quot;,\n                to: \u0026quot;${env.CHANGE_AUTHOR_EMAIL}\u0026quot;\n            )\n        }\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"additional-resources\" class=\"mobile-header\"\u003eAdditional Resources\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://developer.hashicorp.com/terraform/docs\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eOfficial Terraform Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://registry.terraform.io/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eTerraform Registry\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://developer.hashicorp.com/terraform/cloud-docs/recommended-practices\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eTerraform Best Practices\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://developer.hashicorp.com/terraform/tutorials/aws-get-started\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eMulti-Cloud Architecture Guide\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://developer.hashicorp.com/terraform/language/values/sensitive\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eSecurity Best Practices\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://registry.terraform.io/providers/hashicorp/aws/latest/docs\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eAWS Provider Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eAzure Provider Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://registry.terraform.io/providers/hashicorp/google/latest/docs\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGCP Provider Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://discuss.hashicorp.com/c/terraform-core\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eTerraform Community Forum\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://learn.hashicorp.com/terraform\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eHashiCorp Learn Terraform\u003c/a\u003e\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e---\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This guide is part of the \u003ca href=\"https://howtomgr.github.io\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eHowToMgr\u003c/a\u003e collection. Always refer to official documentation for the most up-to-date information.\u003c/p\u003e","readTime":"33 min","wordCount":6439,"lastBuilt":"2025-09-14T06:12:59.659Z"},{"name":"transmission","displayName":"Transmission","slug":"transmission","description":"Repo for transmission","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/transmission","updatedAt":"2025-09-08T03:17:27Z","createdAt":"2025-09-08T03:17:17Z","readmeRaw":"## 👋 Welcome to transmission 🚀  \n\ntransmission README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-transmission\" class=\"mobile-header\"\u003e👋 Welcome to transmission 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003etransmission README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T06:13:12.105Z"},{"name":"truenas-scale","displayName":"Truenas Scale","slug":"truenas-scale","description":"Repo for truenas-scale","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/truenas-scale","updatedAt":"2025-09-08T03:17:40Z","createdAt":"2025-09-08T03:17:30Z","readmeRaw":"## 👋 Welcome to truenas-scale 🚀  \n\ntruenas-scale README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-truenas-scale\" class=\"mobile-header\"\u003e👋 Welcome to truenas-scale 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003etruenas-scale README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T06:13:11.831Z"},{"name":"unifi-controller","displayName":"Unifi Controller","slug":"unifi-controller","description":"Repo for unifi-controller","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/unifi-controller","updatedAt":"2025-09-08T03:17:53Z","createdAt":"2025-09-08T03:17:43Z","readmeRaw":"## 👋 Welcome to unifi-controller 🚀  \n\nunifi-controller README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-unifi-controller\" class=\"mobile-header\"\u003e👋 Welcome to unifi-controller 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eunifi-controller README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T06:13:11.569Z"},{"name":"vscode-server","displayName":"Vscode Server","slug":"vscode-server","description":"Repo for vscode-server","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/vscode-server","updatedAt":"2025-09-08T03:18:10Z","createdAt":"2023-08-28T03:50:15Z","readmeRaw":"### VS-Code docker\n\n```shell\nsudo mkdir -p /var/lib/docker/storage/vscode/config\n\nsudo docker run -d \\\n  --name=code-server \\\n  -e PUID=0 \\\n  -e PGID=0 \\\n  -e TZ=America/New_York \\\n  -e PASSWORD=password \\\n  -e SUDO_PASSWORD=password \\\n  -e PROXY_DOMAIN=code-server.casjay.in \\\n  -p 8443:8443 \\\n  -v /var/lib/docker/storage/vscode/config:/config \\\n  --restart always \\\n  linuxserver/code-server\n```\n","readmeHtml":"\u003ch3 id=\"vs-code-docker\" class=\"mobile-header\"\u003eVS-Code docker\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"shell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eshell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-shell\"\u003esudo mkdir -p /var/lib/docker/storage/vscode/config\n\nsudo docker run -d \\\n  --name=code-server \\\n  -e PUID=0 \\\n  -e PGID=0 \\\n  -e TZ=America/New_York \\\n  -e PASSWORD=password \\\n  -e SUDO_PASSWORD=password \\\n  -e PROXY_DOMAIN=code-server.casjay.in \\\n  -p 8443:8443 \\\n  -v /var/lib/docker/storage/vscode/config:/config \\\n  --restart always \\\n  linuxserver/code-server\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e","readTime":"1 min","wordCount":45,"lastBuilt":"2025-09-14T06:13:11.286Z"},{"name":"webvirt","displayName":"Webvirt","slug":"webvirt","description":"Repo for webvirt","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/webvirt","updatedAt":"2025-09-08T03:18:15Z","createdAt":"2023-08-28T03:50:25Z","readmeRaw":"# CentOS 7 WebVirt\n\n```bash\nyum -y install git python-pip libvirt-python libxml2-python python-websockify supervisor nginx\nyum -y install gcc python-devel\n\npip install --upgrade pip\npip install numpy\n\ngit clone git://github.com/retspen/webvirtmgr.git /usr/share/webvirtmgr\ncd /usr/share/webvirtmgr\npip install -r requirements.txt\n\n./manage.py syncdb\n./manage.py collectstatic\n\nwget https://github.com/casjay-base/howtos/raw/main/webvirt/webvirt.supervisord.ini -O  /etc/supervisord.d/webvirtmgr.ini\nwget https://github.com/casjay-base/howtos/raw/main/webvirt/webvirt-nginx.conf -O /etc/nginx/conf.d/webvirt.conf\n```\n","readmeHtml":"\u003ch1 id=\"centos-7-webvirt\" class=\"mobile-header\"\u003eCentOS 7 WebVirt\u003c/h1\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003eyum -y install git python-pip libvirt-python libxml2-python python-websockify supervisor nginx\nyum -y install gcc python-devel\n\npip install --upgrade pip\npip install numpy\n\ngit clone git://github.com/retspen/webvirtmgr.git /usr/share/webvirtmgr\ncd /usr/share/webvirtmgr\npip install -r requirements.txt\n\n./manage.py syncdb\n./manage.py collectstatic\n\nwget https://github.com/casjay-base/howtos/raw/main/webvirt/webvirt.supervisord.ini -O  /etc/supervisord.d/webvirtmgr.ini\nwget https://github.com/casjay-base/howtos/raw/main/webvirt/webvirt-nginx.conf -O /etc/nginx/conf.d/webvirt.conf\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e","readTime":"1 min","wordCount":51,"lastBuilt":"2025-09-14T06:13:10.995Z"},{"name":"xen-orchestra","displayName":"Xen Orchestra","slug":"xen-orchestra","description":"Repo for xen-orchestra","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/xen-orchestra","updatedAt":"2025-09-08T03:18:43Z","createdAt":"2023-08-28T03:50:35Z","readmeRaw":"# xen-orchestra - CentOS\n\n```bash\ncurl --silent --location https://rpm.nodesource.com/setup_8.x | sudo bash -\ncurl --silent --location https://dl.yarnpkg.com/rpm/yarn.repo | sudo tee /etc/yum.repos.d/yarn.repo\n\nyum groupinstall 'Development Tools'\nyum -y install epel-release gcc gcc-c++ automake libpng-devel git python redis nodejs yarn\nsystemctl enable --now redis\n\ngit clone -b master http://github.com/vatesfr/xen-orchestra\nyarn\nyarn build\ncd packages/xo-server\ncp sample.config.yaml .xo-server.yaml\nvi .xo-server.yaml # mounts: '/': '../xo-web/dist/'\nyarn start \n```\n\n## xen-orchestra - Debian\n\n```bash\ncurl -sL https://deb.nodesource.com/setup_8.x | sudo -E bash -\ncurl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -\necho \"deb https://dl.yarnpkg.com/debian/ stable main\" | sudo tee /etc/apt/sources.list.d/yarn.list\nsudo apt update\nsudo apt-get install -y nodejs yarn build-essential redis-server libpng-dev git python-minimal libvhdi-utils lvm2\n\ngit clone -b master http://github.com/vatesfr/xen-orchestra\ncd xen-orchestra\nyarn\nyarn build\ncd packages/xo-server\ncp sample.config.yaml .xo-server.yaml\nvi .xo-server.yaml # mounts: '/': '../xo-web/dist/'\nyarn start \n```\n\n## xen-orchestra - Updating\n\n```bash\ncd /opt/xen-orchestra/\nsudo git pull --ff-only\nsudo yarn\nsudo yarn build\n```\n","readmeHtml":"\u003ch1 id=\"xen-orchestra-centos\" class=\"mobile-header\"\u003exen-orchestra - CentOS\u003c/h1\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecurl --silent --location https://rpm.nodesource.com/setup_8.x | sudo bash -\ncurl --silent --location https://dl.yarnpkg.com/rpm/yarn.repo | sudo tee /etc/yum.repos.d/yarn.repo\n\nyum groupinstall \u0026#039;Development Tools\u0026#039;\nyum -y install epel-release gcc gcc-c++ automake libpng-devel git python redis nodejs yarn\nsystemctl enable --now redis\n\ngit clone -b master http://github.com/vatesfr/xen-orchestra\nyarn\nyarn build\ncd packages/xo-server\ncp sample.config.yaml .xo-server.yaml\nvi .xo-server.yaml # mounts: \u0026#039;/\u0026#039;: \u0026#039;../xo-web/dist/\u0026#039;\nyarn start \u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"xen-orchestra-debian\" class=\"mobile-header\"\u003exen-orchestra - Debian\u003c/h2\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecurl -sL https://deb.nodesource.com/setup_8.x | sudo -E bash -\ncurl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -\necho \u0026quot;deb https://dl.yarnpkg.com/debian/ stable main\u0026quot; | sudo tee /etc/apt/sources.list.d/yarn.list\nsudo apt update\nsudo apt-get install -y nodejs yarn build-essential redis-server libpng-dev git python-minimal libvhdi-utils lvm2\n\ngit clone -b master http://github.com/vatesfr/xen-orchestra\ncd xen-orchestra\nyarn\nyarn build\ncd packages/xo-server\ncp sample.config.yaml .xo-server.yaml\nvi .xo-server.yaml # mounts: \u0026#039;/\u0026#039;: \u0026#039;../xo-web/dist/\u0026#039;\nyarn start \u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"xen-orchestra-updating\" class=\"mobile-header\"\u003exen-orchestra - Updating\u003c/h2\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecd /opt/xen-orchestra/\nsudo git pull --ff-only\nsudo yarn\nsudo yarn build\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e","readTime":"1 min","wordCount":152,"lastBuilt":"2025-09-14T06:13:10.727Z"},{"name":"yacht","displayName":"Yacht","slug":"yacht","description":"Repo for yacht","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/yacht","updatedAt":"2025-09-08T03:18:56Z","createdAt":"2025-09-08T03:18:45Z","readmeRaw":"## 👋 Welcome to yacht 🚀  \n\nyacht README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-yacht\" class=\"mobile-header\"\u003e👋 Welcome to yacht 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eyacht README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T06:13:10.411Z"},{"name":"zigbee2mqtt","displayName":"Zigbee2mqtt","slug":"zigbee2mqtt","description":"Repo for zigbee2mqtt","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/zigbee2mqtt","updatedAt":"2025-09-08T03:19:22Z","createdAt":"2025-09-08T03:19:12Z","readmeRaw":"## 👋 Welcome to zigbee2mqtt 🚀  \n\nzigbee2mqtt README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-zigbee2mqtt\" class=\"mobile-header\"\u003e👋 Welcome to zigbee2mqtt 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003ezigbee2mqtt README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-14T06:13:09.780Z"}]},"__N_SSG":true},"page":"/[category]","query":{"category":"infrastructure"},"buildId":"Qa3FY_nUAtj8cvSxbxn7x","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>