<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"/><meta name="theme-color" content="#bd93f9"/><link rel="icon" href="/favicon.ico"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true"/><title class="jsx-f92e766e9414ef16">Rabbitmq Installation Guide - HowToMgr</title><meta name="description" content="Repo for rabbitmq" class="jsx-f92e766e9414ef16"/><meta name="keywords" content="installation guides, tutorials, linux, docker, kubernetes, mobile-first, responsive" class="jsx-f92e766e9414ef16"/><meta property="og:title" content="Rabbitmq Installation Guide - HowToMgr" class="jsx-f92e766e9414ef16"/><meta property="og:description" content="Repo for rabbitmq" class="jsx-f92e766e9414ef16"/><meta property="og:type" content="website" class="jsx-f92e766e9414ef16"/><meta property="og:url" content="https://howtomgr.github.io" class="jsx-f92e766e9414ef16"/><meta property="og:image" content="https://howtomgr.github.io/social-preview.png" class="jsx-f92e766e9414ef16"/><meta property="twitter:card" content="summary_large_image" class="jsx-f92e766e9414ef16"/><meta property="twitter:title" content="Rabbitmq Installation Guide - HowToMgr" class="jsx-f92e766e9414ef16"/><meta property="twitter:description" content="Repo for rabbitmq" class="jsx-f92e766e9414ef16"/><meta name="next-head-count" content="17"/><link rel="dns-prefetch" href="//api.github.com"/><link rel="dns-prefetch" href="//github.com"/><link rel="preload" href="/favicon.ico" as="image"/><meta name="application-name" content="HowToMgr"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="default"/><meta name="apple-mobile-web-app-title" content="HowToMgr"/><meta name="format-detection" content="telephone=no"/><meta name="mobile-web-app-capable" content="yes"/><noscript><style>
            .requires-js { display: none !important; }
            .no-js-message { display: block !important; }
          </style></noscript><link rel="preload" href="/_next/static/css/eec6c1c201affe77.css" as="style"/><link rel="stylesheet" href="/_next/static/css/eec6c1c201affe77.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-ee7e63bc15b31913.js" defer=""></script><script src="/_next/static/chunks/framework-2b1f7a23d657eae4.js" defer=""></script><script src="/_next/static/chunks/main-6ec3f7584970eebe.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f7367f88af207b64.js" defer=""></script><script src="/_next/static/chunks/119-abfbe7c9e22798da.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bcategory%5D/%5Bguide%5D-ae7274cbb918ed8b.js" defer=""></script><script src="/_next/static/FWaJNz_CPEuOjXz3AhtJ8/_buildManifest.js" defer=""></script><script src="/_next/static/FWaJNz_CPEuOjXz3AhtJ8/_ssgManifest.js" defer=""></script><style id="__jsx-8a7f0cdcf94f52ce">.breadcrumb.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:var(--space-2);margin-bottom:var(--space-6);font-size:var(--font-sm);color:var(--text-secondary);overflow-x:auto;white-space:nowrap;-webkit-overflow-scrolling:touch}.breadcrumb.jsx-8a7f0cdcf94f52ce a.jsx-8a7f0cdcf94f52ce{color:var(--accent-primary);text-decoration:none;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.breadcrumb.jsx-8a7f0cdcf94f52ce a.jsx-8a7f0cdcf94f52ce:hover{text-decoration:underline}.separator.jsx-8a7f0cdcf94f52ce{color:var(--text-muted);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.current.jsx-8a7f0cdcf94f52ce{color:var(--text-primary);font-weight:500;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.guide-header.jsx-8a7f0cdcf94f52ce{background:var(--bg-secondary);-webkit-border-radius:var(--border-radius-lg);-moz-border-radius:var(--border-radius-lg);border-radius:var(--border-radius-lg);padding:var(--space-6);margin-bottom:var(--space-8);border:1px solid var(--bg-surface)}.guide-title.jsx-8a7f0cdcf94f52ce{color:var(--accent-primary);font-size:var(--font-3xl);margin-bottom:var(--space-4);line-height:1.2;word-break:break-word}.guide-description.jsx-8a7f0cdcf94f52ce{color:var(--text-secondary);font-size:var(--font-lg);margin-bottom:var(--space-5);line-height:1.5}.guide-badges.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-3);margin-bottom:var(--space-5);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.guide-actions.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-3);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.guide-content.jsx-8a7f0cdcf94f52ce{background:var(--bg-secondary);-webkit-border-radius:var(--border-radius-lg);-moz-border-radius:var(--border-radius-lg);border-radius:var(--border-radius-lg);padding:var(--space-6);margin-bottom:var(--space-8);border:1px solid var(--bg-surface);overflow-x:hidden}.related-section.jsx-8a7f0cdcf94f52ce{margin-bottom:var(--space-8)}.section-title.jsx-8a7f0cdcf94f52ce{color:var(--accent-primary);font-size:var(--font-2xl);text-align:center;margin-bottom:var(--space-6)}.guide-navigation.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-4);-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:var(--space-8)}.loading-container.jsx-8a7f0cdcf94f52ce,.error-container.jsx-8a7f0cdcf94f52ce{text-align:center;padding:var(--space-8)}.error-actions.jsx-8a7f0cdcf94f52ce{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-4);-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:var(--space-6);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}@media(max-width:767px){.guide-header.jsx-8a7f0cdcf94f52ce{padding:var(--space-4);margin-bottom:var(--space-6)}.guide-title.jsx-8a7f0cdcf94f52ce{font-size:var(--font-2xl)}.guide-description.jsx-8a7f0cdcf94f52ce{font-size:var(--font-base)}.guide-content.jsx-8a7f0cdcf94f52ce{padding:var(--space-4);margin-bottom:var(--space-6)}.guide-badges.jsx-8a7f0cdcf94f52ce{gap:var(--space-2)}.guide-actions.jsx-8a7f0cdcf94f52ce{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.guide-navigation.jsx-8a7f0cdcf94f52ce{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.breadcrumb.jsx-8a7f0cdcf94f52ce{margin-bottom:var(--space-4)}}</style><style id="__jsx-f92e766e9414ef16">.app-container.jsx-f92e766e9414ef16{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding-top:56px}.main-content.jsx-f92e766e9414ef16{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;padding:var(--space-6)0}.mobile-footer.jsx-f92e766e9414ef16{background:var(--bg-secondary);border-top:1px solid var(--bg-surface);padding:var(--space-6)0;margin-top:auto}.footer-content.jsx-f92e766e9414ef16{text-align:center}.footer-links.jsx-f92e766e9414ef16{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:var(--space-6);margin-bottom:var(--space-4);-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.footer-links.jsx-f92e766e9414ef16 a.jsx-f92e766e9414ef16{color:var(--accent-primary);text-decoration:none;font-size:var(--font-sm)}.footer-links.jsx-f92e766e9414ef16 a.jsx-f92e766e9414ef16:hover{color:var(--accent-secondary)}.footer-separator.jsx-f92e766e9414ef16{height:1px;background:var(--bg-surface);margin:var(--space-4)auto;width:200px}.footer-text.jsx-f92e766e9414ef16,.footer-tech.jsx-f92e766e9414ef16{color:var(--text-secondary);font-size:var(--font-sm);margin-bottom:var(--space-2)}.footer-disclaimer.jsx-f92e766e9414ef16{color:var(--text-muted);font-size:var(--font-xs)}.nav-links.jsx-f92e766e9414ef16{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--space-4)}.nav-link.jsx-f92e766e9414ef16{color:var(--text-primary);text-decoration:none;padding:var(--space-2)var(--space-3);-webkit-border-radius:var(--border-radius);-moz-border-radius:var(--border-radius);border-radius:var(--border-radius);font-size:var(--font-sm);font-weight:500;-webkit-transition:var(--transition);-moz-transition:var(--transition);-o-transition:var(--transition);transition:var(--transition);min-height:36px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.nav-link.jsx-f92e766e9414ef16:hover{background:var(--bg-surface);color:var(--accent-primary);text-decoration:none}[data-theme="light"].jsx-f92e766e9414ef16 .theme-icon-dark.jsx-f92e766e9414ef16{display:none}[data-theme="light"].jsx-f92e766e9414ef16 .theme-icon-light.jsx-f92e766e9414ef16{display:inline!important}@media(max-width:767px){.main-content.jsx-f92e766e9414ef16{padding:var(--space-4)0}.footer-links.jsx-f92e766e9414ef16{gap:var(--space-4)}}</style></head><body><noscript><div class="no-js-message" style="padding:1rem;background:#ff5555;color:#f8f8f2;text-align:center;font-size:0.9rem">This site requires JavaScript to function properly. Please enable JavaScript in your browser.</div></noscript><div id="__next"><div class="jsx-f92e766e9414ef16 app-container"><a href="#main-content" class="jsx-f92e766e9414ef16 skip-link">Skip to main content</a><nav class="jsx-f92e766e9414ef16 mobile-nav"><div class="jsx-f92e766e9414ef16 mobile-nav-content"><a class="mobile-brand" href="/"><span role="img" aria-label="Books" class="jsx-f92e766e9414ef16">📚</span>HowToMgr</a><div class="jsx-f92e766e9414ef16 nav-links"><a class="nav-link" href="/all/">All</a><a class="nav-link" href="/search/">Search</a></div><button aria-label="Toggle theme" title="Switch theme" class="jsx-f92e766e9414ef16 mobile-theme-toggle touch-target"><span class="jsx-f92e766e9414ef16 theme-icon-dark">🌙</span><span style="display:none" class="jsx-f92e766e9414ef16 theme-icon-light">☀️</span></button></div></nav><main id="main-content" tabindex="-1" class="jsx-f92e766e9414ef16 main-content"><div class="jsx-f92e766e9414ef16 container"><nav aria-label="Breadcrumb" class="jsx-8a7f0cdcf94f52ce breadcrumb"><a href="/">Home</a><span class="jsx-8a7f0cdcf94f52ce separator">→</span><a href="/infrastructure/">Infrastructure</a><span class="jsx-8a7f0cdcf94f52ce separator">→</span><span class="jsx-8a7f0cdcf94f52ce current">Rabbitmq</span></nav><header class="jsx-8a7f0cdcf94f52ce guide-header"><div class="jsx-8a7f0cdcf94f52ce guide-meta-top"><h1 class="jsx-8a7f0cdcf94f52ce guide-title">Rabbitmq</h1><p class="jsx-8a7f0cdcf94f52ce guide-description">Repo for rabbitmq</p><div class="jsx-8a7f0cdcf94f52ce guide-badges"><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-primary">Infrastructure</span><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-info">21 min</span></div><div class="jsx-8a7f0cdcf94f52ce guide-actions"><a href="https://github.com/howtomgr/rabbitmq" target="_blank" rel="noopener" class="jsx-8a7f0cdcf94f52ce btn btn-secondary">View on GitHub</a></div></div></header><article class="jsx-8a7f0cdcf94f52ce guide-content"><div class="jsx-8a7f0cdcf94f52ce readme-content"><h1 id="rabbitmq-installation-guide" class="mobile-header">RabbitMQ Installation Guide</h1>
<p class="mobile-paragraph">RabbitMQ is a free and open-source message-queueing software and broker written in Erlang. Originally developed by Rabbit Technologies and now owned by VMware, RabbitMQ implements the Advanced Message Queuing Protocol (AMQP) and provides message routing, queuing, and delivery guarantees. It serves as a FOSS alternative to commercial message brokers like IBM MQ, Oracle WebLogic Server, or Microsoft Azure Service Bus, offering enterprise-grade reliability, clustering, and high availability without licensing costs, with features like message persistence, flexible routing, and cross-language support.</p>
<h2 id="prerequisites" class="mobile-header">Prerequisites</h2>
<li class="mobile-list-item"><strong>Hardware Requirements</strong>:</li>
<li class="mobile-list-item">CPU: 2 cores minimum (4+ cores recommended for production)</li>
<li class="mobile-list-item">RAM: 1GB minimum (4GB+ recommended for production)</li>
<li class="mobile-list-item">Storage: 10GB minimum (SSD recommended for message persistence)</li>
<li class="mobile-list-item">Network: Stable connectivity for clustering setups</li>
<li class="mobile-list-item"><strong>Operating System</strong>: </li>
<li class="mobile-list-item">Linux: Any modern distribution with kernel 3.2+</li>
<li class="mobile-list-item">macOS: 10.13+ (High Sierra or newer)</li>
<li class="mobile-list-item">Windows: Windows Server 2016+ or Windows 10</li>
<li class="mobile-list-item">FreeBSD: 11.0+</li>
<li class="mobile-list-item"><strong>Network Requirements</strong>:</li>
<li class="mobile-list-item">Port 5672 (AMQP 0-9-1 and 1.0)</li>
<li class="mobile-list-item">Port 15672 (HTTP Management API)</li>
<li class="mobile-list-item">Port 25672 (Erlang distribution for clustering)</li>
<li class="mobile-list-item">Port 4369 (EPMD - Erlang Port Mapper Daemon)</li>
<li class="mobile-list-item">Port 35672-35682 (CLI tools)</li>
<li class="mobile-list-item"><strong>Dependencies</strong>:</li>
<li class="mobile-list-item">Erlang/OTP (version 23.2+ for RabbitMQ 3.9+)</li>
<li class="mobile-list-item">systemd or compatible init system (Linux)</li>
<li class="mobile-list-item">Root or administrative access for installation</li>
<li class="mobile-list-item"><strong>System Access</strong>: root or sudo privileges required</li>
<h2 id="installation" class="mobile-header">Installation</h2>
<h3 id="rhelcentosrocky-linuxalmalinux" class="mobile-header">RHEL/CentOS/Rocky Linux/AlmaLinux</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Add RabbitMQ repository
curl -s https://packagecloud.io/install/repositories/rabbitmq/rabbitmq-server/script.rpm.sh | sudo bash

# Add Erlang repository
curl -s https://packagecloud.io/install/repositories/rabbitmq/erlang/script.rpm.sh | sudo bash

# Install Erlang
sudo yum install -y erlang

# Install RabbitMQ server
sudo yum install -y rabbitmq-server

# Enable and start service
sudo systemctl enable --now rabbitmq-server

# Enable management plugin
sudo rabbitmq-plugins enable rabbitmq_management

# Configure firewall
sudo firewall-cmd --permanent --add-port=5672/tcp
sudo firewall-cmd --permanent --add-port=15672/tcp
sudo firewall-cmd --permanent --add-port=25672/tcp
sudo firewall-cmd --reload

# Create admin user
sudo rabbitmqctl add_user admin SecureAdminPassword123!
sudo rabbitmqctl set_user_tags admin administrator
sudo rabbitmqctl set_permissions -p / admin &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;

# Remove guest user (security)
sudo rabbitmqctl delete_user guest</code></pre>
      </div>
    </div>
<h3 id="debianubuntu" class="mobile-header">Debian/Ubuntu</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Update package index
sudo apt update

# Install prerequisite packages
sudo apt install -y curl gnupg apt-transport-https

# Add RabbitMQ signing key
curl -fsSL https://keys.openpgp.org/vks/v1/by-fingerprint/0A9AF2115F4687BD29803A206B73A36E6026DFCA | sudo gpg --dearmor -o /usr/share/keyrings/com.rabbitmq.team.gpg

# Add RabbitMQ repository
echo &quot;deb [signed-by=/usr/share/keyrings/com.rabbitmq.team.gpg] https://ppa1.novemberain.com/rabbitmq/rabbitmq-server/deb/ubuntu $(lsb_release -cs) main&quot; | sudo tee /etc/apt/sources.list.d/rabbitmq.list

# Add Erlang repository
echo &quot;deb [signed-by=/usr/share/keyrings/com.rabbitmq.team.gpg] https://ppa1.novemberain.com/rabbitmq/rabbitmq-erlang/deb/ubuntu $(lsb_release -cs) main&quot; | sudo tee /etc/apt/sources.list.d/rabbitmq-erlang.list

# Update package index
sudo apt update

# Install Erlang and RabbitMQ
sudo apt install -y erlang-base erlang-asn1 erlang-crypto erlang-eldap erlang-ftp erlang-inets erlang-mnesia erlang-os-mon erlang-parsetools erlang-public-key erlang-runtime-tools erlang-snmp erlang-ssl erlang-syntax-tools erlang-tftp erlang-tools erlang-xmerl
sudo apt install -y rabbitmq-server

# Enable and start service
sudo systemctl enable --now rabbitmq-server

# Enable management plugin
sudo rabbitmq-plugins enable rabbitmq_management

# Configure firewall
sudo ufw allow 5672
sudo ufw allow 15672

# Create admin user
sudo rabbitmqctl add_user admin SecureAdminPassword123!
sudo rabbitmqctl set_user_tags admin administrator
sudo rabbitmqctl set_permissions -p / admin &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;

# Remove guest user (security)
sudo rabbitmqctl delete_user guest</code></pre>
      </div>
    </div>
<h3 id="arch-linux" class="mobile-header">Arch Linux</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Install RabbitMQ from official repositories
sudo pacman -S rabbitmq

# Install Erlang (dependency)
sudo pacman -S erlang-nox

# Create rabbitmq user if not exists
sudo useradd -r -s /sbin/nologin -d /var/lib/rabbitmq -c &quot;RabbitMQ messaging server&quot; rabbitmq

# Enable and start service
sudo systemctl enable --now rabbitmq

# Enable management plugin
sudo rabbitmq-plugins enable rabbitmq_management

# Create admin user
sudo rabbitmqctl add_user admin SecureAdminPassword123!
sudo rabbitmqctl set_user_tags admin administrator
sudo rabbitmqctl set_permissions -p / admin &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;

# Remove guest user (security)
sudo rabbitmqctl delete_user guest

# Configuration location: /etc/rabbitmq/</code></pre>
      </div>
    </div>
<h3 id="alpine-linux" class="mobile-header">Alpine Linux</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Install RabbitMQ
apk add --no-cache rabbitmq-server rabbitmq-server-management

# Install Erlang
apk add --no-cache erlang

# Create rabbitmq user if not exists
adduser -D -H -s /sbin/nologin -G rabbitmq rabbitmq

# Set permissions
chown -R rabbitmq:rabbitmq /var/lib/rabbitmq /var/log/rabbitmq

# Enable and start service
rc-update add rabbitmq default
rc-service rabbitmq start

# Enable management plugin
rabbitmq-plugins enable rabbitmq_management

# Create admin user
rabbitmqctl add_user admin SecureAdminPassword123!
rabbitmqctl set_user_tags admin administrator
rabbitmqctl set_permissions -p / admin &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;

# Remove guest user (security)
rabbitmqctl delete_user guest</code></pre>
      </div>
    </div>
<h3 id="opensusesles" class="mobile-header">openSUSE/SLES</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># openSUSE Leap/Tumbleweed
sudo zypper install -y rabbitmq-server erlang

# SLES 15
sudo SUSEConnect -p sle-module-server-applications/15.5/x86_64
sudo zypper install -y rabbitmq-server erlang

# Enable and start service
sudo systemctl enable --now rabbitmq-server

# Enable management plugin
sudo rabbitmq-plugins enable rabbitmq_management

# Configure firewall
sudo firewall-cmd --permanent --add-port=5672/tcp
sudo firewall-cmd --permanent --add-port=15672/tcp
sudo firewall-cmd --reload

# Create admin user
sudo rabbitmqctl add_user admin SecureAdminPassword123!
sudo rabbitmqctl set_user_tags admin administrator
sudo rabbitmqctl set_permissions -p / admin &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;

# Remove guest user (security)
sudo rabbitmqctl delete_user guest</code></pre>
      </div>
    </div>
<h3 id="macos" class="mobile-header">macOS</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Using Homebrew
brew install rabbitmq

# Start RabbitMQ service
brew services start rabbitmq

# Or run manually
sudo rabbitmq-server

# Enable management plugin
sudo rabbitmq-plugins enable rabbitmq_management

# Create admin user
sudo rabbitmqctl add_user admin SecureAdminPassword123!
sudo rabbitmqctl set_user_tags admin administrator
sudo rabbitmqctl set_permissions -p / admin &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;

# Remove guest user (security)
sudo rabbitmqctl delete_user guest

# Configuration location: /usr/local/etc/rabbitmq/
# Alternative: /opt/homebrew/etc/rabbitmq/ (Apple Silicon)</code></pre>
      </div>
    </div>
<h3 id="freebsd" class="mobile-header">FreeBSD</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Using pkg
pkg install rabbitmq erlang

# Using ports
cd /usr/ports/net/rabbitmq
make install clean

# Enable RabbitMQ
echo &#039;rabbitmq_enable=&quot;YES&quot;&#039; &gt;&gt; /etc/rc.conf

# Start service
service rabbitmq start

# Enable management plugin
rabbitmq-plugins enable rabbitmq_management

# Create admin user
rabbitmqctl add_user admin SecureAdminPassword123!
rabbitmqctl set_user_tags admin administrator
rabbitmqctl set_permissions -p / admin &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;

# Remove guest user (security)
rabbitmqctl delete_user guest

# Configuration location: /usr/local/etc/rabbitmq/</code></pre>
      </div>
    </div>
<h3 id="windows" class="mobile-header">Windows</h3>
<div class="mobile-code-block" data-language="powershell">
      <div class="mobile-code-header">
        <span class="mobile-code-language">powershell</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-powershell"># Method 1: Using Chocolatey
choco install rabbitmq

# Method 2: Using Scoop
scoop install rabbitmq

# Method 3: Manual installation
# Download from https://www.rabbitmq.com/download.html
# Install Erlang first, then RabbitMQ

# Install as Windows service (automatic with installer)
# The service is named &quot;RabbitMQ&quot;

# Enable management plugin
rabbitmq-plugins.bat enable rabbitmq_management

# Create admin user
rabbitmqctl.bat add_user admin SecureAdminPassword123!
rabbitmqctl.bat set_user_tags admin administrator
rabbitmqctl.bat set_permissions -p / admin &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;

# Remove guest user (security)
rabbitmqctl.bat delete_user guest

# Configuration location: %APPDATA%\RabbitMQ\</code></pre>
      </div>
    </div>
<h2 id="initial-configuration" class="mobile-header">Initial Configuration</h2>
<h3 id="first-run-setup" class="mobile-header">First-Run Setup</h3>
<p class="mobile-paragraph">1. <strong>Create rabbitmq user</strong> (if not created by package):</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Linux systems
sudo useradd -r -d /var/lib/rabbitmq -s /sbin/nologin -c &quot;RabbitMQ messaging server&quot; rabbitmq</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">2. <strong>Default configuration locations</strong>:</p>
<li class="mobile-list-item">RHEL/CentOS/Rocky/AlmaLinux: <code class="mobile-inline-code">/etc/rabbitmq/rabbitmq.conf</code></li>
<li class="mobile-list-item">Debian/Ubuntu: <code class="mobile-inline-code">/etc/rabbitmq/rabbitmq.conf</code></li>
<li class="mobile-list-item">Arch Linux: <code class="mobile-inline-code">/etc/rabbitmq/rabbitmq.conf</code></li>
<li class="mobile-list-item">Alpine Linux: <code class="mobile-inline-code">/etc/rabbitmq/rabbitmq.conf</code></li>
<li class="mobile-list-item">openSUSE/SLES: <code class="mobile-inline-code">/etc/rabbitmq/rabbitmq.conf</code></li>
<li class="mobile-list-item">macOS: <code class="mobile-inline-code">/usr/local/etc/rabbitmq/rabbitmq.conf</code></li>
<li class="mobile-list-item">FreeBSD: <code class="mobile-inline-code">/usr/local/etc/rabbitmq/rabbitmq.conf</code></li>
<li class="mobile-list-item">Windows: <code class="mobile-inline-code">%APPDATA%\RabbitMQ\rabbitmq.conf</code></li>
<p class="mobile-paragraph">3. <strong>Essential settings to change</strong>:</p>
<div class="mobile-code-block" data-language="ini">
      <div class="mobile-code-header">
        <span class="mobile-code-language">ini</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-ini"># /etc/rabbitmq/rabbitmq.conf
# Network and clustering
listeners.tcp.default = 5672
management.tcp.port = 15672

# Security
loopback_users.guest = false
default_user = admin
default_pass = SecureAdminPassword123!

# Logging
log.file.level = info
log.file = /var/log/rabbitmq/rabbitmq.log
log.file.rotation.size = 10485760

# Memory and disk limits
vm_memory_high_watermark.relative = 0.6
disk_free_limit.absolute = 1GB

# Message TTL and limits
default_user_tags.administrator = true
heartbeat = 60

# Clustering (if multiple nodes)
cluster_formation.peer_discovery_backend = rabbit_peer_discovery_classic_config
cluster_formation.classic_config.nodes.1 = rabbit@node1
cluster_formation.classic_config.nodes.2 = rabbit@node2</code></pre>
      </div>
    </div>
<h3 id="testing-initial-setup" class="mobile-header">Testing Initial Setup</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Check if RabbitMQ is running
sudo systemctl status rabbitmq-server

# Test connection
rabbitmqctl status

# Check cluster status
rabbitmqctl cluster_status

# List users
rabbitmqctl list_users

# List virtual hosts
rabbitmqctl list_vhosts

# Test management interface
curl -u admin:SecureAdminPassword123! http://localhost:15672/api/overview

# Test AMQP connection
rabbitmqctl eval &#039;rabbit_networking:tcp_listener_started(5672).&#039;</code></pre>
      </div>
    </div>
<p class="mobile-paragraph"><strong>WARNING:</strong> Remove or disable the default guest user and enable proper authentication!</p>
<h2 id="service-management" class="mobile-header">Service Management</h2>
<h3 id="systemd-rhel-debian-ubuntu-arch-opensuse" class="mobile-header">systemd (RHEL, Debian, Ubuntu, Arch, openSUSE)</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Enable RabbitMQ to start on boot
sudo systemctl enable rabbitmq-server

# Start RabbitMQ
sudo systemctl start rabbitmq-server

# Stop RabbitMQ
sudo systemctl stop rabbitmq-server

# Restart RabbitMQ
sudo systemctl restart rabbitmq-server

# Reload configuration (graceful)
sudo rabbitmqctl eval &#039;application:stop(rabbitmq_management_agent), application:start(rabbitmq_management_agent).&#039;

# Check status
sudo systemctl status rabbitmq-server

# View logs
sudo journalctl -u rabbitmq-server -f</code></pre>
      </div>
    </div>
<h3 id="openrc-alpine-linux" class="mobile-header">OpenRC (Alpine Linux)</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Enable RabbitMQ to start on boot
rc-update add rabbitmq default

# Start RabbitMQ
rc-service rabbitmq start

# Stop RabbitMQ
rc-service rabbitmq stop

# Restart RabbitMQ
rc-service rabbitmq restart

# Check status
rc-service rabbitmq status

# View logs
tail -f /var/log/rabbitmq/rabbit@$(hostname).log</code></pre>
      </div>
    </div>
<h3 id="rcd-freebsd" class="mobile-header">rc.d (FreeBSD)</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Enable in /etc/rc.conf
echo &#039;rabbitmq_enable=&quot;YES&quot;&#039; &gt;&gt; /etc/rc.conf

# Start RabbitMQ
service rabbitmq start

# Stop RabbitMQ
service rabbitmq stop

# Restart RabbitMQ
service rabbitmq restart

# Check status
service rabbitmq status</code></pre>
      </div>
    </div>
<h3 id="launchd-macos" class="mobile-header">launchd (macOS)</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Using Homebrew services
brew services start rabbitmq
brew services stop rabbitmq
brew services restart rabbitmq

# Check status
brew services list | grep rabbitmq

# Manual control
sudo rabbitmq-server -detached
sudo rabbitmqctl shutdown</code></pre>
      </div>
    </div>
<h3 id="windows-service-manager" class="mobile-header">Windows Service Manager</h3>
<div class="mobile-code-block" data-language="powershell">
      <div class="mobile-code-header">
        <span class="mobile-code-language">powershell</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-powershell"># Start RabbitMQ service
net start RabbitMQ

# Stop RabbitMQ service
net stop RabbitMQ

# Using PowerShell
Start-Service RabbitMQ
Stop-Service RabbitMQ
Restart-Service RabbitMQ

# Check status
Get-Service RabbitMQ

# View logs
Get-EventLog -LogName Application -Source RabbitMQ</code></pre>
      </div>
    </div>
<h2 id="advanced-configuration" class="mobile-header">Advanced Configuration</h2>
<h3 id="high-availability-configuration" class="mobile-header">High Availability Configuration</h3>
<div class="mobile-code-block" data-language="ini">
      <div class="mobile-code-header">
        <span class="mobile-code-language">ini</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-ini"># Cluster configuration
cluster_formation.peer_discovery_backend = rabbit_peer_discovery_classic_config
cluster_formation.classic_config.nodes.1 = rabbit@rabbitmq-1
cluster_formation.classic_config.nodes.2 = rabbit@rabbitmq-2
cluster_formation.classic_config.nodes.3 = rabbit@rabbitmq-3

# Enable quorum queues by default
default_queue_type = quorum

# HA policy for classic queues
queue_master_locator = min-masters</code></pre>
      </div>
    </div>
<h3 id="advanced-security-settings" class="mobile-header">Advanced Security Settings</h3>
<div class="mobile-code-block" data-language="ini">
      <div class="mobile-code-header">
        <span class="mobile-code-language">ini</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-ini"># SSL/TLS configuration
listeners.ssl.default = 5671
ssl_options.cacertfile = /etc/rabbitmq/ssl/ca_certificate.pem
ssl_options.certfile = /etc/rabbitmq/ssl/server_certificate.pem
ssl_options.keyfile = /etc/rabbitmq/ssl/server_key.pem
ssl_options.verify = verify_peer
ssl_options.fail_if_no_peer_cert = true

# Management over HTTPS
management.ssl.port = 15671
management.ssl.cacertfile = /etc/rabbitmq/ssl/ca_certificate.pem
management.ssl.certfile = /etc/rabbitmq/ssl/server_certificate.pem
management.ssl.keyfile = /etc/rabbitmq/ssl/server_key.pem

# Authentication backends
auth_backends.1 = rabbit_auth_backend_ldap
auth_backends.2 = rabbit_auth_backend_internal

# LDAP configuration
auth_ldap.servers.1 = ldap.example.com
auth_ldap.user_dn_pattern = cn=${username},ou=users,dc=example,dc=com</code></pre>
      </div>
    </div>
<h2 id="reverse-proxy-setup" class="mobile-header">Reverse Proxy Setup</h2>
<h3 id="nginx-configuration" class="mobile-header">nginx Configuration</h3>
<div class="mobile-code-block" data-language="nginx">
      <div class="mobile-code-header">
        <span class="mobile-code-language">nginx</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-nginx"># /etc/nginx/sites-available/rabbitmq
upstream rabbitmq_management {
    server 127.0.0.1:15672 max_fails=3 fail_timeout=30s;
    server 127.0.0.1:15673 max_fails=3 fail_timeout=30s backup;
}

server {
    listen 80;
    server_name rabbitmq.example.com;
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name rabbitmq.example.com;

    ssl_certificate /etc/letsencrypt/live/rabbitmq.example.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/rabbitmq.example.com/privkey.pem;

    location / {
        proxy_pass http://rabbitmq_management;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # WebSocket support for management UI
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection &quot;upgrade&quot;;
    }
}</code></pre>
      </div>
    </div>
<h3 id="haproxy-configuration" class="mobile-header">HAProxy Configuration</h3>
<div class="mobile-code-block" data-language="haproxy">
      <div class="mobile-code-header">
        <span class="mobile-code-language">haproxy</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-haproxy"># /etc/haproxy/haproxy.cfg
frontend rabbitmq_management_frontend
    bind *:80
    bind *:443 ssl crt /etc/ssl/certs/rabbitmq.pem
    redirect scheme https if !{ ssl_fc }
    default_backend rabbitmq_management_servers

backend rabbitmq_management_servers
    mode http
    balance roundrobin
    option httpchk GET /api/aliveness-test/%2F
    server rabbitmq1 127.0.0.1:15672 check
    server rabbitmq2 127.0.0.1:15673 check backup

frontend rabbitmq_amqp_frontend
    bind *:5672
    mode tcp
    default_backend rabbitmq_amqp_servers

backend rabbitmq_amqp_servers
    mode tcp
    balance roundrobin
    server rabbitmq1 127.0.0.1:5672 check
    server rabbitmq2 127.0.0.1:5673 check backup</code></pre>
      </div>
    </div>
<h2 id="security-configuration" class="mobile-header">Security Configuration</h2>
<h3 id="ssltls-setup" class="mobile-header">SSL/TLS Setup</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Generate SSL certificates for RabbitMQ
sudo mkdir -p /etc/rabbitmq/ssl

# Create CA certificate
sudo openssl genrsa -out /etc/rabbitmq/ssl/ca_key.pem 4096
sudo openssl req -new -x509 -days 3650 -key /etc/rabbitmq/ssl/ca_key.pem -out /etc/rabbitmq/ssl/ca_certificate.pem -subj &quot;/C=US/ST=State/L=City/O=Organization/CN=RabbitMQ-CA&quot;

# Create server certificate
sudo openssl genrsa -out /etc/rabbitmq/ssl/server_key.pem 4096
sudo openssl req -new -key /etc/rabbitmq/ssl/server_key.pem -out /etc/rabbitmq/ssl/server_certificate_request.pem -subj &quot;/C=US/ST=State/L=City/O=Organization/CN=rabbitmq.example.com&quot;
sudo openssl x509 -req -in /etc/rabbitmq/ssl/server_certificate_request.pem -CA /etc/rabbitmq/ssl/ca_certificate.pem -CAkey /etc/rabbitmq/ssl/ca_key.pem -CAcreateserial -out /etc/rabbitmq/ssl/server_certificate.pem -days 365

# Create client certificate
sudo openssl genrsa -out /etc/rabbitmq/ssl/client_key.pem 4096
sudo openssl req -new -key /etc/rabbitmq/ssl/client_key.pem -out /etc/rabbitmq/ssl/client_certificate_request.pem -subj &quot;/C=US/ST=State/L=City/O=Organization/CN=rabbitmq-client&quot;
sudo openssl x509 -req -in /etc/rabbitmq/ssl/client_certificate_request.pem -CA /etc/rabbitmq/ssl/ca_certificate.pem -CAkey /etc/rabbitmq/ssl/ca_key.pem -CAcreateserial -out /etc/rabbitmq/ssl/client_certificate.pem -days 365

# Set permissions
sudo chown -R rabbitmq:rabbitmq /etc/rabbitmq/ssl
sudo chmod 600 /etc/rabbitmq/ssl/*_key.pem
sudo chmod 644 /etc/rabbitmq/ssl/*_certificate.pem /etc/rabbitmq/ssl/ca_certificate.pem</code></pre>
      </div>
    </div>
<h3 id="user-management-and-access-control" class="mobile-header">User Management and Access Control</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create application user
sudo rabbitmqctl add_user myapp SecureAppPassword123!
sudo rabbitmqctl set_permissions -p / myapp &quot;myapp\..*&quot; &quot;myapp\..*&quot; &quot;myapp\..*&quot;

# Create monitoring user
sudo rabbitmqctl add_user monitoring MonitorPassword123!
sudo rabbitmqctl set_user_tags monitoring monitoring
sudo rabbitmqctl set_permissions -p / monitoring &quot;&quot; &quot;&quot; &quot;.*&quot;

# Create backup user
sudo rabbitmqctl add_user backup BackupPassword123!
sudo rabbitmqctl set_user_tags backup management
sudo rabbitmqctl set_permissions -p / backup &quot;&quot; &quot;&quot; &quot;.*&quot;

# Create virtual hosts
sudo rabbitmqctl add_vhost production
sudo rabbitmqctl add_vhost staging

# Set permissions for virtual hosts
sudo rabbitmqctl set_permissions -p production myapp &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;
sudo rabbitmqctl set_permissions -p staging myapp &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;

# Set resource limits
sudo rabbitmqctl set_user_limits myapp &#039;{&quot;max-connections&quot;: 100, &quot;max-channels&quot;: 1000}&#039;</code></pre>
      </div>
    </div>
<h3 id="firewall-rules" class="mobile-header">Firewall Rules</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># UFW (Ubuntu/Debian)
sudo ufw allow from 192.168.1.0/24 to any port 5672
sudo ufw allow from 192.168.1.0/24 to any port 15672
sudo ufw reload

# firewalld (RHEL/CentOS/openSUSE)
sudo firewall-cmd --permanent --new-zone=rabbitmq
sudo firewall-cmd --permanent --zone=rabbitmq --add-source=192.168.1.0/24
sudo firewall-cmd --permanent --zone=rabbitmq --add-port=5672/tcp
sudo firewall-cmd --permanent --zone=rabbitmq --add-port=15672/tcp
sudo firewall-cmd --permanent --zone=rabbitmq --add-port=25672/tcp
sudo firewall-cmd --reload

# iptables
sudo iptables -A INPUT -s 192.168.1.0/24 -p tcp --dport 5672 -j ACCEPT
sudo iptables -A INPUT -s 192.168.1.0/24 -p tcp --dport 15672 -j ACCEPT
sudo iptables -save &gt; /etc/iptables/rules.v4

# pf (FreeBSD)
# Add to /etc/pf.conf
pass in on $ext_if proto tcp from 192.168.1.0/24 to any port {5672, 15672, 25672}

# Windows Firewall
New-NetFirewallRule -DisplayName &quot;RabbitMQ AMQP&quot; -Direction Inbound -Protocol TCP -LocalPort 5672 -RemoteAddress 192.168.1.0/24 -Action Allow
New-NetFirewallRule -DisplayName &quot;RabbitMQ Management&quot; -Direction Inbound -Protocol TCP -LocalPort 15672 -RemoteAddress 192.168.1.0/24 -Action Allow</code></pre>
      </div>
    </div>
<h2 id="database-setup" class="mobile-header">Database Setup</h2>
<h3 id="queue-and-exchange-configuration" class="mobile-header">Queue and Exchange Configuration</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create exchanges
rabbitmqctl eval &#039;rabbit_exchange:declare({resource, &lt;&lt;&quot;/&quot;&gt;&gt;, exchange, &lt;&lt;&quot;logs&quot;&gt;&gt;}, topic, true, false, false, []).&#039;
rabbitmqctl eval &#039;rabbit_exchange:declare({resource, &lt;&lt;&quot;/&quot;&gt;&gt;, exchange, &lt;&lt;&quot;tasks&quot;&gt;&gt;}, direct, true, false, false, []).&#039;

# Create queues
rabbitmqctl eval &#039;rabbit_amqqueue:declare({resource, &lt;&lt;&quot;/&quot;&gt;&gt;, queue, &lt;&lt;&quot;error_logs&quot;&gt;&gt;}, true, false, [], none, &lt;&lt;&quot;/&quot;&gt;&gt;).&#039;
rabbitmqctl eval &#039;rabbit_amqqueue:declare({resource, &lt;&lt;&quot;/&quot;&gt;&gt;, queue, &lt;&lt;&quot;task_queue&quot;&gt;&gt;}, true, false, [], none, &lt;&lt;&quot;/&quot;&gt;&gt;).&#039;

# Create bindings
rabbitmqctl eval &#039;rabbit_binding:add({binding, {resource, &lt;&lt;&quot;/&quot;&gt;&gt;, exchange, &lt;&lt;&quot;logs&quot;&gt;&gt;}, &lt;&lt;&quot;error&quot;&gt;&gt;, {resource, &lt;&lt;&quot;/&quot;&gt;&gt;, queue, &lt;&lt;&quot;error_logs&quot;&gt;&gt;}, []}).&#039;

# Set queue policies for HA
sudo rabbitmqctl set_policy ha-all &quot;.*&quot; &#039;{&quot;ha-mode&quot;:&quot;all&quot;,&quot;ha-sync-mode&quot;:&quot;automatic&quot;}&#039;

# Set TTL policy
sudo rabbitmqctl set_policy TTL &quot;.*&quot; &#039;{&quot;message-ttl&quot;:3600000}&#039; --apply-to queues

# Set queue length limit
sudo rabbitmqctl set_policy max-length &quot;.*&quot; &#039;{&quot;max-length&quot;:10000}&#039; --apply-to queues</code></pre>
      </div>
    </div>
<h3 id="shovel-configuration-message-transfer" class="mobile-header">Shovel Configuration (Message Transfer)</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Install shovel plugin
sudo rabbitmq-plugins enable rabbitmq_shovel
sudo rabbitmq-plugins enable rabbitmq_shovel_management

# Create shovel (via management API)
curl -u admin:SecureAdminPassword123! -X PUT \
  http://localhost:15672/api/parameters/shovel/%2F/my-shovel \
  -H &quot;Content-Type: application/json&quot; \
  -d &#039;{
    &quot;value&quot;: {
      &quot;src-protocol&quot;: &quot;amqp091&quot;,
      &quot;src-uri&quot;: &quot;amqp://guest:guest@source-server:5672/%2F&quot;,
      &quot;src-queue&quot;: &quot;source-queue&quot;,
      &quot;dest-protocol&quot;: &quot;amqp091&quot;,
      &quot;dest-uri&quot;: &quot;amqp://guest:guest@dest-server:5672/%2F&quot;,
      &quot;dest-queue&quot;: &quot;dest-queue&quot;
    }
  }&#039;</code></pre>
      </div>
    </div>
<h2 id="performance-optimization" class="mobile-header">Performance Optimization</h2>
<h3 id="system-tuning" class="mobile-header">System Tuning</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># RabbitMQ-specific system optimizations
sudo tee -a /etc/sysctl.conf &lt;&lt;EOF
# RabbitMQ optimizations
vm.swappiness = 1
net.core.somaxconn = 4096
net.ipv4.tcp_fin_timeout = 30
net.ipv4.tcp_tw_reuse = 1
fs.file-max = 100000
EOF

sudo sysctl -p

# Increase file descriptor limits
sudo tee -a /etc/security/limits.conf &lt;&lt;EOF
rabbitmq soft nofile 65536
rabbitmq hard nofile 65536
EOF

# Set Erlang VM parameters
sudo tee /etc/rabbitmq/rabbitmq-env.conf &lt;&lt;EOF
RABBITMQ_SERVER_ERL_ARGS=&quot;+K true +A 128 +P 1048576&quot;
RABBITMQ_CTL_ERL_ARGS=&quot;+K true&quot;
EOF</code></pre>
      </div>
    </div>
<h3 id="rabbitmq-performance-configuration" class="mobile-header">RabbitMQ Performance Configuration</h3>
<div class="mobile-code-block" data-language="ini">
      <div class="mobile-code-header">
        <span class="mobile-code-language">ini</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-ini"># High-performance RabbitMQ configuration
# /etc/rabbitmq/rabbitmq.conf

# Memory and disk
vm_memory_high_watermark.relative = 0.4
vm_memory_high_watermark_paging_ratio = 0.3
disk_free_limit.absolute = 2GB

# Clustering and replication
cluster_partition_handling = pause_minority
cluster_keepalive_interval = 10000

# Connection and channel limits
connection_max = 65536
channel_max = 2047

# Message store
msg_store_file_size_limit = 16777216
queue_index_embed_msgs_below = 4096

# Lazy queues (for large queues)
lazy_queue_explicit_gc_run_operation_threshold = 1000

# Mnesia table loading
mnesia_table_loading_retry_timeout = 30000
mnesia_table_loading_retry_limit = 10</code></pre>
      </div>
    </div>
<h3 id="queue-optimization" class="mobile-header">Queue Optimization</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Enable lazy queues for large message backlogs
rabbitmqctl set_policy lazy-queue &quot;.*&quot; &#039;{&quot;queue-mode&quot;:&quot;lazy&quot;}&#039; --apply-to queues

# Configure quorum queues for better consistency
rabbitmqctl set_policy quorum-queue &quot;.*&quot; &#039;{&quot;queue-type&quot;:&quot;quorum&quot;}&#039; --apply-to queues

# Set delivery limits to prevent poison messages
rabbitmqctl set_policy delivery-limit &quot;.*&quot; &#039;{&quot;delivery-limit&quot;:10}&#039; --apply-to queues

# Configure stream queues for high throughput
rabbitmqctl set_policy stream-queue &quot;stream.*&quot; &#039;{&quot;queue-type&quot;:&quot;stream&quot;}&#039; --apply-to queues</code></pre>
      </div>
    </div>
<h2 id="monitoring" class="mobile-header">Monitoring</h2>
<h3 id="built-in-monitoring" class="mobile-header">Built-in Monitoring</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Node status and statistics
rabbitmqctl status
rabbitmqctl node_health_check
rabbitmqctl environment

# Queue monitoring
rabbitmqctl list_queues name messages consumers memory
rabbitmqctl list_exchanges name type
rabbitmqctl list_bindings

# Connection monitoring
rabbitmqctl list_connections peer_host peer_port state channels
rabbitmqctl list_channels connection name consumer_count messages_unacknowledged

# Cluster monitoring
rabbitmqctl cluster_status
rabbitmqctl list_cluster_nodes

# Memory and disk usage
rabbitmqctl eval &#039;rabbit_vm:memory().&#039;
rabbitmqctl eval &#039;rabbit_disk_monitor:get_disk_free().&#039;</code></pre>
      </div>
    </div>
<h3 id="external-monitoring-setup" class="mobile-header">External Monitoring Setup</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Install RabbitMQ Exporter for Prometheus
wget https://github.com/kbudde/rabbitmq_exporter/releases/download/v1.0.0/rabbitmq_exporter-1.0.0.linux-amd64.tar.gz
tar xzf rabbitmq_exporter-*.tar.gz
sudo cp rabbitmq_exporter /usr/local/bin/

# Create monitoring user in RabbitMQ
sudo rabbitmqctl add_user prometheus PrometheusPassword123!
sudo rabbitmqctl set_user_tags prometheus monitoring

# Create systemd service
sudo tee /etc/systemd/system/rabbitmq_exporter.service &lt;&lt;EOF
[Unit]
Description=RabbitMQ Exporter
After=network.target

[Service]
Type=simple
User=rabbitmq
Environment=RABBIT_URL=&quot;http://prometheus:PrometheusPassword123!@localhost:15672&quot;
ExecStart=/usr/local/bin/rabbitmq_exporter
Restart=always

[Install]
WantedBy=multi-user.target
EOF

sudo systemctl enable --now rabbitmq_exporter</code></pre>
      </div>
    </div>
<h3 id="health-check-scripts" class="mobile-header">Health Check Scripts</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash">#!/bin/bash
# rabbitmq-health-check.sh

# Check RabbitMQ service
if ! systemctl is-active rabbitmq-server &gt;/dev/null 2&gt;&amp;1; then
    echo &quot;CRITICAL: RabbitMQ service is not running&quot;
    exit 2
fi

# Check node health
if ! rabbitmqctl node_health_check &gt;/dev/null 2&gt;&amp;1; then
    echo &quot;CRITICAL: RabbitMQ node health check failed&quot;
    exit 2
fi

# Check cluster status
CLUSTER_STATUS=$(rabbitmqctl cluster_status --formatter json 2&gt;/dev/null | jq -r &#039;.running_nodes | length&#039;)
if [ &quot;$CLUSTER_STATUS&quot; -lt 2 ]; then
    echo &quot;WARNING: Less than 2 nodes running in cluster&quot;
    exit 1
fi

# Check memory usage
MEMORY_ALARM=$(rabbitmqctl status --formatter json 2&gt;/dev/null | jq -r &#039;.alarms | length&#039;)
if [ &quot;$MEMORY_ALARM&quot; -gt 0 ]; then
    echo &quot;WARNING: Memory alarms detected&quot;
    exit 1
fi

# Check disk space
DISK_ALARM=$(rabbitmqctl status --formatter json 2&gt;/dev/null | jq -r &#039;.disk_free_alarm&#039;)
if [ &quot;$DISK_ALARM&quot; = &quot;true&quot; ]; then
    echo &quot;WARNING: Disk space alarm active&quot;
    exit 1
fi

# Check queue lengths
MAX_QUEUE_LENGTH=$(rabbitmqctl list_queues messages --formatter json 2&gt;/dev/null | jq -r &#039;max_by(.messages).messages&#039;)
if [ &quot;$MAX_QUEUE_LENGTH&quot; -gt 100000 ]; then
    echo &quot;WARNING: Queue length exceeds 100,000 messages&quot;
    exit 1
fi

echo &quot;OK: RabbitMQ is healthy&quot;
exit 0</code></pre>
      </div>
    </div>
<h2 id="backup-and-restore" class="mobile-header">Backup and Restore</h2>
<h3 id="backup-procedures" class="mobile-header">Backup Procedures</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash">#!/bin/bash
# rabbitmq-backup.sh

BACKUP_DIR=&quot;/backup/rabbitmq/$(date +%Y%m%d_%H%M%S)&quot;
mkdir -p &quot;$BACKUP_DIR&quot;

# Export definitions (exchanges, queues, users, policies)
curl -u admin:SecureAdminPassword123! \
    http://localhost:15672/api/definitions \
    -o &quot;$BACKUP_DIR/definitions.json&quot;

# Export queue messages (if needed for small queues)
rabbitmqctl eval &quot;
    application:load(rabbitmq_management_agent),
    rabbitmq_management_db:get_all_queues(all_vhosts).
&quot; &gt; &quot;$BACKUP_DIR/queue_stats.txt&quot;

# Backup configuration files
tar czf &quot;$BACKUP_DIR/rabbitmq-config.tar.gz&quot; \
    /etc/rabbitmq/ \
    --exclude=&#039;*.log&#039; \
    --exclude=&#039;*.pid&#039;

# Backup SSL certificates
if [ -d /etc/rabbitmq/ssl ]; then
    tar czf &quot;$BACKUP_DIR/rabbitmq-ssl.tar.gz&quot; /etc/rabbitmq/ssl/
fi

# Save cluster information
rabbitmqctl cluster_status &gt; &quot;$BACKUP_DIR/cluster_status.txt&quot;
rabbitmqctl status &gt; &quot;$BACKUP_DIR/node_status.txt&quot;

# Create manifest
echo &quot;RabbitMQ Backup - $(date)&quot; &gt; &quot;$BACKUP_DIR/backup_manifest.txt&quot;
echo &quot;Node: $(hostname)&quot; &gt;&gt; &quot;$BACKUP_DIR/backup_manifest.txt&quot;
echo &quot;Version: $(rabbitmqctl version)&quot; &gt;&gt; &quot;$BACKUP_DIR/backup_manifest.txt&quot;

echo &quot;Backup completed: $BACKUP_DIR&quot;</code></pre>
      </div>
    </div>
<h3 id="restore-procedures" class="mobile-header">Restore Procedures</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash">#!/bin/bash
# rabbitmq-restore.sh

BACKUP_DIR=&quot;$1&quot;
if [ -z &quot;$BACKUP_DIR&quot; ]; then
    echo &quot;Usage: $0 &lt;backup-directory&gt;&quot;
    exit 1
fi

# Stop RabbitMQ (ensure clean state)
sudo systemctl stop rabbitmq-server

# Restore configuration
sudo tar xzf &quot;$BACKUP_DIR/rabbitmq-config.tar.gz&quot; -C /

# Restore SSL certificates
if [ -f &quot;$BACKUP_DIR/rabbitmq-ssl.tar.gz&quot; ]; then
    sudo tar xzf &quot;$BACKUP_DIR/rabbitmq-ssl.tar.gz&quot; -C /
fi

# Start RabbitMQ
sudo systemctl start rabbitmq-server

# Wait for RabbitMQ to start
sleep 10

# Import definitions
curl -u admin:SecureAdminPassword123! \
    -X POST \
    -H &quot;Content-Type: application/json&quot; \
    -d @&quot;$BACKUP_DIR/definitions.json&quot; \
    http://localhost:15672/api/definitions

# Verify restore
rabbitmqctl list_queues
rabbitmqctl list_users

echo &quot;Restore completed from $BACKUP_DIR&quot;</code></pre>
      </div>
    </div>
<h3 id="message-level-backup-advanced" class="mobile-header">Message-Level Backup (Advanced)</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash">#!/bin/bash
# rabbitmq-message-backup.sh

BACKUP_DIR=&quot;/backup/rabbitmq-messages/$(date +%Y%m%d_%H%M%S)&quot;
mkdir -p &quot;$BACKUP_DIR&quot;

# Install shovel plugin for message transfer
rabbitmq-plugins enable rabbitmq_shovel
rabbitmq-plugins enable rabbitmq_shovel_management

# Backup messages from all queues
rabbitmqctl list_queues name --formatter json | jq -r &#039;.[].name&#039; | while read -r queue; do
    if [ &quot;$queue&quot; != &quot;null&quot; ]; then
        # Create shovel to backup queue
        curl -u admin:SecureAdminPassword123! -X PUT \
            &quot;http://localhost:15672/api/parameters/shovel/%2F/backup-$queue&quot; \
            -H &quot;Content-Type: application/json&quot; \
            -d &quot;{
                \&quot;value\&quot;: {
                    \&quot;src-protocol\&quot;: \&quot;amqp091\&quot;,
                    \&quot;src-uri\&quot;: \&quot;amqp://admin:SecureAdminPassword123!@localhost:5672/%2F\&quot;,
                    \&quot;src-queue\&quot;: \&quot;$queue\&quot;,
                    \&quot;dest-protocol\&quot;: \&quot;amqp091\&quot;,
                    \&quot;dest-uri\&quot;: \&quot;amqp://backup:BackupPassword123!@backup-server:5672/%2F\&quot;,
                    \&quot;dest-queue\&quot;: \&quot;backup-$queue\&quot;
                }
            }&quot;
    fi
done

echo &quot;Message backup shovels created for all queues&quot;</code></pre>
      </div>
    </div>
<h2 id="troubleshooting" class="mobile-header">Troubleshooting</h2>
<h3 id="common-issues" class="mobile-header">Common Issues</h3>
<p class="mobile-paragraph">1. <strong>RabbitMQ won't start</strong>:</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Check logs
sudo journalctl -u rabbitmq-server -f
sudo tail -f /var/log/rabbitmq/rabbit@$(hostname).log

# Check Erlang installation
erl -version

# Check disk space
df -h /var/lib/rabbitmq

# Check permissions
ls -la /var/lib/rabbitmq
ls -la /var/log/rabbitmq

# Reset node (last resort)
sudo rabbitmqctl stop_app
sudo rabbitmqctl reset
sudo rabbitmqctl start_app</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">2. <strong>Cluster issues</strong>:</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Check cluster status
rabbitmqctl cluster_status

# Check network connectivity between nodes
telnet rabbitmq-node-2 25672

# Check Erlang cookie consistency
sudo cat /var/lib/rabbitmq/.erlang.cookie

# Force cluster join
sudo rabbitmqctl stop_app
sudo rabbitmqctl join_cluster rabbit@rabbitmq-node-1
sudo rabbitmqctl start_app</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">3. <strong>Memory/disk alarms</strong>:</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Check alarms
rabbitmqctl status | grep alarms

# Check memory usage
rabbitmqctl eval &#039;rabbit_vm:memory().&#039;

# Check disk usage
df -h /var/lib/rabbitmq

# Clear memory alarm (after fixing issue)
rabbitmqctl eval &#039;vm_memory_monitor:set_vm_memory_high_watermark(0.4).&#039;</code></pre>
      </div>
    </div>
<p class="mobile-paragraph">4. <strong>Connection issues</strong>:</p>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Check if RabbitMQ is listening
sudo ss -tlnp | grep :5672

# Test AMQP connection
rabbitmqctl eval &#039;rabbit_networking:tcp_listener_started(5672).&#039;

# Check user permissions
rabbitmqctl list_user_permissions admin

# Test with management API
curl -u admin:SecureAdminPassword123! http://localhost:15672/api/overview</code></pre>
      </div>
    </div>
<h3 id="debug-mode" class="mobile-header">Debug Mode</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Enable debug logging
echo &#039;log.file.level = debug&#039; &gt;&gt; /etc/rabbitmq/rabbitmq.conf

# Enable connection logging
echo &#039;log.connection.level = debug&#039; &gt;&gt; /etc/rabbitmq/rabbitmq.conf

# Enable channel logging  
echo &#039;log.channel.level = debug&#039; &gt;&gt; /etc/rabbitmq/rabbitmq.conf

# Restart to apply
sudo systemctl restart rabbitmq-server

# View debug logs
sudo tail -f /var/log/rabbitmq/rabbit@$(hostname).log</code></pre>
      </div>
    </div>
<h2 id="maintenance" class="mobile-header">Maintenance</h2>
<h3 id="update-procedures" class="mobile-header">Update Procedures</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># RHEL/CentOS/Rocky/AlmaLinux
sudo yum check-update rabbitmq-server
sudo yum update rabbitmq-server

# Debian/Ubuntu
sudo apt update
sudo apt upgrade rabbitmq-server

# Arch Linux
sudo pacman -Syu rabbitmq

# Alpine Linux
apk update
apk upgrade rabbitmq-server

# openSUSE
sudo zypper update rabbitmq-server

# FreeBSD
pkg update
pkg upgrade rabbitmq

# Always backup before updates
./rabbitmq-backup.sh

# Test after updates
rabbitmqctl status
sudo systemctl restart rabbitmq-server</code></pre>
      </div>
    </div>
<h3 id="maintenance-tasks" class="mobile-header">Maintenance Tasks</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Weekly maintenance script
#!/bin/bash
# rabbitmq-maintenance.sh

# Rotate logs
rabbitmqctl rotate_logs

# Check node health
rabbitmqctl node_health_check

# Clean up old definitions backup
find /backup/rabbitmq -name &quot;*.json&quot; -mtime +30 -delete

# Optimize memory usage
rabbitmqctl eval &#039;erlang:garbage_collect().&#039;

# Check and clean old message store files
rabbitmqctl eval &#039;rabbit_msg_store_gc:gc().&#039;

# Check queue statistics
rabbitmqctl list_queues name messages consumers memory | \
    awk &#039;$2 &gt; 1000 {print &quot;Queue &quot; $1 &quot; has &quot; $2 &quot; messages&quot;}&#039;

echo &quot;RabbitMQ maintenance completed&quot;</code></pre>
      </div>
    </div>
<h3 id="health-monitoring" class="mobile-header">Health Monitoring</h3>
<div class="mobile-code-block" data-language="bash">
      <div class="mobile-code-header">
        <span class="mobile-code-language">bash</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-bash"># Create monitoring cron job
echo &quot;*/5 * * * * /usr/local/bin/rabbitmq-health-check.sh&quot; | sudo crontab -

# Log rotation
sudo tee /etc/logrotate.d/rabbitmq &lt;&lt;EOF
/var/log/rabbitmq/*.log {
    daily
    rotate 30
    compress
    delaycompress
    missingok
    notifempty
    sharedscripts
    postrotate
        rabbitmqctl rotate_logs
    endscript
}
EOF</code></pre>
      </div>
    </div>
<h2 id="integration-examples" class="mobile-header">Integration Examples</h2>
<h3 id="python-pika-integration" class="mobile-header">Python (pika) Integration</h3>
<div class="mobile-code-block" data-language="python">
      <div class="mobile-code-header">
        <span class="mobile-code-language">python</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-python">import pika
import ssl

# Basic connection
connection = pika.BlockingConnection(
    pika.ConnectionParameters(host=&#039;localhost&#039;, port=5672,
                            credentials=pika.PlainCredentials(&#039;myapp&#039;, &#039;SecureAppPassword123!&#039;))
)
channel = connection.channel()

# SSL connection
ssl_context = ssl.create_default_context(cafile=&#039;/etc/rabbitmq/ssl/ca_certificate.pem&#039;)
ssl_context.check_hostname = False

ssl_connection = pika.BlockingConnection(
    pika.ConnectionParameters(
        host=&#039;localhost&#039;,
        port=5671,
        credentials=pika.PlainCredentials(&#039;myapp&#039;, &#039;SecureAppPassword123!&#039;),
        ssl_options=pika.SSLOptions(ssl_context)
    )
)

# Declare queue and exchange
channel.exchange_declare(exchange=&#039;task_exchange&#039;, exchange_type=&#039;direct&#039;)
channel.queue_declare(queue=&#039;task_queue&#039;, durable=True)
channel.queue_bind(exchange=&#039;task_exchange&#039;, queue=&#039;task_queue&#039;, routing_key=&#039;task&#039;)

# Publish message
channel.basic_publish(
    exchange=&#039;task_exchange&#039;,
    routing_key=&#039;task&#039;,
    body=&#039;Hello, RabbitMQ!&#039;,
    properties=pika.BasicProperties(delivery_mode=2)  # Make message persistent
)

# Consume messages
def callback(ch, method, properties, body):
    print(f&quot;Received: {body}&quot;)
    ch.basic_ack(delivery_tag=method.delivery_tag)

channel.basic_qos(prefetch_count=1)
channel.basic_consume(queue=&#039;task_queue&#039;, on_message_callback=callback)
channel.start_consuming()</code></pre>
      </div>
    </div>
<h3 id="nodejs-amqplib-integration" class="mobile-header">Node.js (amqplib) Integration</h3>
<div class="mobile-code-block" data-language="javascript">
      <div class="mobile-code-header">
        <span class="mobile-code-language">javascript</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-javascript">const amqp = require(&#039;amqplib&#039;);
const fs = require(&#039;fs&#039;);

// Basic connection
async function connectBasic() {
    const connection = await amqp.connect(&#039;amqp://myapp:SecureAppPassword123!@localhost:5672&#039;);
    return connection;
}

// SSL connection
async function connectSSL() {
    const connection = await amqp.connect({
        protocol: &#039;amqps&#039;,
        hostname: &#039;localhost&#039;,
        port: 5671,
        username: &#039;myapp&#039;,
        password: &#039;SecureAppPassword123!&#039;,
        ca: [fs.readFileSync(&#039;/etc/rabbitmq/ssl/ca_certificate.pem&#039;)],
        cert: fs.readFileSync(&#039;/etc/rabbitmq/ssl/client_certificate.pem&#039;),
        key: fs.readFileSync(&#039;/etc/rabbitmq/ssl/client_key.pem&#039;)
    });
    return connection;
}

// Publisher
async function publishMessage() {
    const connection = await connectBasic();
    const channel = await connection.createChannel();
    
    const exchange = &#039;task_exchange&#039;;
    const routingKey = &#039;task&#039;;
    const message = &#039;Hello from Node.js!&#039;;
    
    await channel.assertExchange(exchange, &#039;direct&#039;, { durable: true });
    await channel.publish(exchange, routingKey, Buffer.from(message), { persistent: true });
    
    console.log(&#039;Message sent&#039;);
    await channel.close();
    await connection.close();
}

// Consumer
async function consumeMessages() {
    const connection = await connectBasic();
    const channel = await connection.createChannel();
    
    const queue = &#039;task_queue&#039;;
    
    await channel.assertQueue(queue, { durable: true });
    await channel.prefetch(1);
    
    console.log(&#039;Waiting for messages...&#039;);
    
    channel.consume(queue, async (message) =&gt; {
        if (message) {
            console.log(&#039;Received:&#039;, message.content.toString());
            // Process message
            channel.ack(message);
        }
    });
}</code></pre>
      </div>
    </div>
<h3 id="java-spring-amqp-integration" class="mobile-header">Java (Spring AMQP) Integration</h3>
<div class="mobile-code-block" data-language="java">
      <div class="mobile-code-header">
        <span class="mobile-code-language">java</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-java">// Configuration
@Configuration
@EnableRabbit
public class RabbitConfig {
    
    @Bean
    public ConnectionFactory connectionFactory() {
        CachingConnectionFactory factory = new CachingConnectionFactory(&quot;localhost&quot;);
        factory.setPort(5672);
        factory.setUsername(&quot;myapp&quot;);
        factory.setPassword(&quot;SecureAppPassword123!&quot;);
        factory.setVirtualHost(&quot;/&quot;);
        return factory;
    }
    
    @Bean
    public RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory) {
        RabbitTemplate template = new RabbitTemplate(connectionFactory);
        template.setMandatory(true);
        return template;
    }
    
    @Bean
    public DirectExchange taskExchange() {
        return new DirectExchange(&quot;task_exchange&quot;, true, false);
    }
    
    @Bean
    public Queue taskQueue() {
        return QueueBuilder.durable(&quot;task_queue&quot;).build();
    }
    
    @Bean
    public Binding taskBinding() {
        return BindingBuilder.bind(taskQueue()).to(taskExchange()).with(&quot;task&quot;);
    }
}

// Producer
@Service
public class MessageProducer {
    
    @Autowired
    private RabbitTemplate rabbitTemplate;
    
    public void sendMessage(String message) {
        rabbitTemplate.convertAndSend(&quot;task_exchange&quot;, &quot;task&quot;, message);
    }
}

// Consumer
@Service
public class MessageConsumer {
    
    @RabbitListener(queues = &quot;task_queue&quot;)
    public void receiveMessage(String message) {
        System.out.println(&quot;Received: &quot; + message);
        // Process message
    }
}</code></pre>
      </div>
    </div>
<h3 id="go-amqp091-go-integration" class="mobile-header">Go (amqp091-go) Integration</h3>
<div class="mobile-code-block" data-language="go">
      <div class="mobile-code-header">
        <span class="mobile-code-language">go</span>
        <button class="mobile-copy-button" onclick="copyCode(this)" title="Copy code">
          <span class="copy-icon">📋</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div class="mobile-code-content">
        <pre><code class="language-go">package main

import (
    &quot;log&quot;
    &quot;github.com/rabbitmq/amqp091-go&quot;
)

func connectRabbitMQ() (*amqp091.Connection, error) {
    return amqp091.Dial(&quot;amqp://myapp:SecureAppPassword123!@localhost:5672/&quot;)
}

func publishMessage(message string) error {
    conn, err := connectRabbitMQ()
    if err != nil {
        return err
    }
    defer conn.Close()

    ch, err := conn.Channel()
    if err != nil {
        return err
    }
    defer ch.Close()

    // Declare exchange
    err = ch.ExchangeDeclare(
        &quot;task_exchange&quot;,
        &quot;direct&quot;,
        true,  // durable
        false, // auto-deleted
        false, // internal
        false, // no-wait
        nil,   // arguments
    )
    if err != nil {
        return err
    }

    // Declare queue
    _, err = ch.QueueDeclare(
        &quot;task_queue&quot;,
        true,  // durable
        false, // delete when unused
        false, // exclusive
        false, // no-wait
        nil,   // arguments
    )
    if err != nil {
        return err
    }

    // Publish message
    return ch.Publish(
        &quot;task_exchange&quot;,
        &quot;task&quot;,
        false, // mandatory
        false, // immediate
        amqp091.Publishing{
            ContentType:  &quot;text/plain&quot;,
            Body:         []byte(message),
            DeliveryMode: amqp091.Persistent,
        },
    )
}

func consumeMessages() error {
    conn, err := connectRabbitMQ()
    if err != nil {
        return err
    }
    defer conn.Close()

    ch, err := conn.Channel()
    if err != nil {
        return err
    }
    defer ch.Close()

    msgs, err := ch.Consume(
        &quot;task_queue&quot;,
        &quot;&quot;,    // consumer
        false, // auto-ack
        false, // exclusive
        false, // no-local
        false, // no-wait
        nil,   // args
    )
    if err != nil {
        return err
    }

    forever := make(chan bool)

    go func() {
        for d := range msgs {
            log.Printf(&quot;Received: %s&quot;, d.Body)
            // Process message
            d.Ack(false)
        }
    }()

    log.Printf(&quot;Waiting for messages...&quot;)
    &lt;-forever
    return nil
}</code></pre>
      </div>
    </div>
<h2 id="additional-resources" class="mobile-header">Additional Resources</h2>
<li class="mobile-list-item"><a href="https://www.rabbitmq.com/documentation.html" target="_blank" rel="noopener" class="mobile-link">Official RabbitMQ Documentation</a></li>
<li class="mobile-list-item"><a href="https://www.rabbitmq.com/getstarted.html" target="_blank" rel="noopener" class="mobile-link">RabbitMQ Tutorials</a></li>
<li class="mobile-list-item"><a href="https://www.rabbitmq.com/management.html" target="_blank" rel="noopener" class="mobile-link">RabbitMQ Management Plugin</a></li>
<li class="mobile-list-item"><a href="https://www.rabbitmq.com/clustering.html" target="_blank" rel="noopener" class="mobile-link">RabbitMQ Clustering Guide</a></li>
<li class="mobile-list-item"><a href="https://www.rabbitmq.com/ha.html" target="_blank" rel="noopener" class="mobile-link">RabbitMQ High Availability</a></li>
<li class="mobile-list-item"><a href="https://www.rabbitmq.com/amqp-0-9-1-reference.html" target="_blank" rel="noopener" class="mobile-link">AMQP 0-9-1 Protocol Reference</a></li>
<li class="mobile-list-item"><a href="https://www.rabbitmq.com/community.html" target="_blank" rel="noopener" class="mobile-link">RabbitMQ Community</a></li>
<li class="mobile-list-item"><a href="https://github.com/rabbitmq/rabbitmq-server" target="_blank" rel="noopener" class="mobile-link">RabbitMQ GitHub Repository</a></li>
<p class="mobile-paragraph">---</p>
<p class="mobile-paragraph"><strong>Note:</strong> This guide is part of the <a href="https://howtomgr.github.io" target="_blank" rel="noopener" class="mobile-link">HowToMgr</a> collection. Always refer to official documentation for the most up-to-date information.</p></div></article><section class="jsx-8a7f0cdcf94f52ce related-section"><h2 class="jsx-8a7f0cdcf94f52ce section-title">Related <!-- -->Infrastructure<!-- --> Guides</h2><div class="jsx-8a7f0cdcf94f52ce mobile-grid"><a class="mobile-card" href="/infrastructure/adguard-home/"><div class="jsx-8a7f0cdcf94f52ce mobile-card-header"><h3 class="jsx-8a7f0cdcf94f52ce mobile-card-title">Adguard Home</h3><p class="jsx-8a7f0cdcf94f52ce mobile-card-description">Repo for adguard-home</p></div><div class="jsx-8a7f0cdcf94f52ce mobile-card-meta"><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card" href="/infrastructure/adminer/"><div class="jsx-8a7f0cdcf94f52ce mobile-card-header"><h3 class="jsx-8a7f0cdcf94f52ce mobile-card-title">Adminer</h3><p class="jsx-8a7f0cdcf94f52ce mobile-card-description">Repo for adminer</p></div><div class="jsx-8a7f0cdcf94f52ce mobile-card-meta"><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-info">1 min</span></div></a><a class="mobile-card" href="/infrastructure/ansible/"><div class="jsx-8a7f0cdcf94f52ce mobile-card-header"><h3 class="jsx-8a7f0cdcf94f52ce mobile-card-title">Ansible</h3><p class="jsx-8a7f0cdcf94f52ce mobile-card-description">Repo for ansible</p></div><div class="jsx-8a7f0cdcf94f52ce mobile-card-meta"><span class="jsx-8a7f0cdcf94f52ce mobile-badge mobile-badge-info">31 min</span></div></a></div></section><nav class="jsx-8a7f0cdcf94f52ce guide-navigation"><a class="btn btn-secondary" href="/infrastructure/">← All <!-- -->Infrastructure</a><a class="btn btn-secondary" href="/">All Categories</a></nav></div></main><footer class="jsx-f92e766e9414ef16 mobile-footer"><div class="jsx-f92e766e9414ef16 container"><div class="jsx-f92e766e9414ef16 footer-content"><div class="jsx-f92e766e9414ef16 footer-links"><a href="/">Home</a><a href="https://github.com/howtomgr" target="_blank" rel="noopener" class="jsx-f92e766e9414ef16">GitHub</a><a href="https://github.com/howtomgr/howtomgr.github.io" target="_blank" rel="noopener" class="jsx-f92e766e9414ef16">Source</a></div><div class="jsx-f92e766e9414ef16 footer-separator"></div><p class="jsx-f92e766e9414ef16 footer-text">© <!-- -->2025<!-- --> HowToMgr Organization. Open source installation guides.</p><p class="jsx-f92e766e9414ef16 footer-tech">Built with ❤️ using Next.js + GitHub Pages</p><p class="jsx-f92e766e9414ef16 footer-disclaimer"><small class="jsx-f92e766e9414ef16">All guides are provided as-is. Please review and test before production use.</small></p></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"guide":{"name":"rabbitmq","displayName":"Rabbitmq","slug":"rabbitmq","description":"Repo for rabbitmq","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/rabbitmq","updatedAt":"2025-09-14T03:45:47Z","createdAt":"2025-09-08T03:15:11Z","readmeRaw":"# RabbitMQ Installation Guide\n\nRabbitMQ is a free and open-source message-queueing software and broker written in Erlang. Originally developed by Rabbit Technologies and now owned by VMware, RabbitMQ implements the Advanced Message Queuing Protocol (AMQP) and provides message routing, queuing, and delivery guarantees. It serves as a FOSS alternative to commercial message brokers like IBM MQ, Oracle WebLogic Server, or Microsoft Azure Service Bus, offering enterprise-grade reliability, clustering, and high availability without licensing costs, with features like message persistence, flexible routing, and cross-language support.\n\n## Prerequisites\n\n- **Hardware Requirements**:\n  - CPU: 2 cores minimum (4+ cores recommended for production)\n  - RAM: 1GB minimum (4GB+ recommended for production)\n  - Storage: 10GB minimum (SSD recommended for message persistence)\n  - Network: Stable connectivity for clustering setups\n- **Operating System**: \n  - Linux: Any modern distribution with kernel 3.2+\n  - macOS: 10.13+ (High Sierra or newer)\n  - Windows: Windows Server 2016+ or Windows 10\n  - FreeBSD: 11.0+\n- **Network Requirements**:\n  - Port 5672 (AMQP 0-9-1 and 1.0)\n  - Port 15672 (HTTP Management API)\n  - Port 25672 (Erlang distribution for clustering)\n  - Port 4369 (EPMD - Erlang Port Mapper Daemon)\n  - Port 35672-35682 (CLI tools)\n- **Dependencies**:\n  - Erlang/OTP (version 23.2+ for RabbitMQ 3.9+)\n  - systemd or compatible init system (Linux)\n  - Root or administrative access for installation\n- **System Access**: root or sudo privileges required\n\n## Installation\n\n### RHEL/CentOS/Rocky Linux/AlmaLinux\n\n```bash\n# Add RabbitMQ repository\ncurl -s https://packagecloud.io/install/repositories/rabbitmq/rabbitmq-server/script.rpm.sh | sudo bash\n\n# Add Erlang repository\ncurl -s https://packagecloud.io/install/repositories/rabbitmq/erlang/script.rpm.sh | sudo bash\n\n# Install Erlang\nsudo yum install -y erlang\n\n# Install RabbitMQ server\nsudo yum install -y rabbitmq-server\n\n# Enable and start service\nsudo systemctl enable --now rabbitmq-server\n\n# Enable management plugin\nsudo rabbitmq-plugins enable rabbitmq_management\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=5672/tcp\nsudo firewall-cmd --permanent --add-port=15672/tcp\nsudo firewall-cmd --permanent --add-port=25672/tcp\nsudo firewall-cmd --reload\n\n# Create admin user\nsudo rabbitmqctl add_user admin SecureAdminPassword123!\nsudo rabbitmqctl set_user_tags admin administrator\nsudo rabbitmqctl set_permissions -p / admin \".*\" \".*\" \".*\"\n\n# Remove guest user (security)\nsudo rabbitmqctl delete_user guest\n```\n\n### Debian/Ubuntu\n\n```bash\n# Update package index\nsudo apt update\n\n# Install prerequisite packages\nsudo apt install -y curl gnupg apt-transport-https\n\n# Add RabbitMQ signing key\ncurl -fsSL https://keys.openpgp.org/vks/v1/by-fingerprint/0A9AF2115F4687BD29803A206B73A36E6026DFCA | sudo gpg --dearmor -o /usr/share/keyrings/com.rabbitmq.team.gpg\n\n# Add RabbitMQ repository\necho \"deb [signed-by=/usr/share/keyrings/com.rabbitmq.team.gpg] https://ppa1.novemberain.com/rabbitmq/rabbitmq-server/deb/ubuntu $(lsb_release -cs) main\" | sudo tee /etc/apt/sources.list.d/rabbitmq.list\n\n# Add Erlang repository\necho \"deb [signed-by=/usr/share/keyrings/com.rabbitmq.team.gpg] https://ppa1.novemberain.com/rabbitmq/rabbitmq-erlang/deb/ubuntu $(lsb_release -cs) main\" | sudo tee /etc/apt/sources.list.d/rabbitmq-erlang.list\n\n# Update package index\nsudo apt update\n\n# Install Erlang and RabbitMQ\nsudo apt install -y erlang-base erlang-asn1 erlang-crypto erlang-eldap erlang-ftp erlang-inets erlang-mnesia erlang-os-mon erlang-parsetools erlang-public-key erlang-runtime-tools erlang-snmp erlang-ssl erlang-syntax-tools erlang-tftp erlang-tools erlang-xmerl\nsudo apt install -y rabbitmq-server\n\n# Enable and start service\nsudo systemctl enable --now rabbitmq-server\n\n# Enable management plugin\nsudo rabbitmq-plugins enable rabbitmq_management\n\n# Configure firewall\nsudo ufw allow 5672\nsudo ufw allow 15672\n\n# Create admin user\nsudo rabbitmqctl add_user admin SecureAdminPassword123!\nsudo rabbitmqctl set_user_tags admin administrator\nsudo rabbitmqctl set_permissions -p / admin \".*\" \".*\" \".*\"\n\n# Remove guest user (security)\nsudo rabbitmqctl delete_user guest\n```\n\n### Arch Linux\n\n```bash\n# Install RabbitMQ from official repositories\nsudo pacman -S rabbitmq\n\n# Install Erlang (dependency)\nsudo pacman -S erlang-nox\n\n# Create rabbitmq user if not exists\nsudo useradd -r -s /sbin/nologin -d /var/lib/rabbitmq -c \"RabbitMQ messaging server\" rabbitmq\n\n# Enable and start service\nsudo systemctl enable --now rabbitmq\n\n# Enable management plugin\nsudo rabbitmq-plugins enable rabbitmq_management\n\n# Create admin user\nsudo rabbitmqctl add_user admin SecureAdminPassword123!\nsudo rabbitmqctl set_user_tags admin administrator\nsudo rabbitmqctl set_permissions -p / admin \".*\" \".*\" \".*\"\n\n# Remove guest user (security)\nsudo rabbitmqctl delete_user guest\n\n# Configuration location: /etc/rabbitmq/\n```\n\n### Alpine Linux\n\n```bash\n# Install RabbitMQ\napk add --no-cache rabbitmq-server rabbitmq-server-management\n\n# Install Erlang\napk add --no-cache erlang\n\n# Create rabbitmq user if not exists\nadduser -D -H -s /sbin/nologin -G rabbitmq rabbitmq\n\n# Set permissions\nchown -R rabbitmq:rabbitmq /var/lib/rabbitmq /var/log/rabbitmq\n\n# Enable and start service\nrc-update add rabbitmq default\nrc-service rabbitmq start\n\n# Enable management plugin\nrabbitmq-plugins enable rabbitmq_management\n\n# Create admin user\nrabbitmqctl add_user admin SecureAdminPassword123!\nrabbitmqctl set_user_tags admin administrator\nrabbitmqctl set_permissions -p / admin \".*\" \".*\" \".*\"\n\n# Remove guest user (security)\nrabbitmqctl delete_user guest\n```\n\n### openSUSE/SLES\n\n```bash\n# openSUSE Leap/Tumbleweed\nsudo zypper install -y rabbitmq-server erlang\n\n# SLES 15\nsudo SUSEConnect -p sle-module-server-applications/15.5/x86_64\nsudo zypper install -y rabbitmq-server erlang\n\n# Enable and start service\nsudo systemctl enable --now rabbitmq-server\n\n# Enable management plugin\nsudo rabbitmq-plugins enable rabbitmq_management\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=5672/tcp\nsudo firewall-cmd --permanent --add-port=15672/tcp\nsudo firewall-cmd --reload\n\n# Create admin user\nsudo rabbitmqctl add_user admin SecureAdminPassword123!\nsudo rabbitmqctl set_user_tags admin administrator\nsudo rabbitmqctl set_permissions -p / admin \".*\" \".*\" \".*\"\n\n# Remove guest user (security)\nsudo rabbitmqctl delete_user guest\n```\n\n### macOS\n\n```bash\n# Using Homebrew\nbrew install rabbitmq\n\n# Start RabbitMQ service\nbrew services start rabbitmq\n\n# Or run manually\nsudo rabbitmq-server\n\n# Enable management plugin\nsudo rabbitmq-plugins enable rabbitmq_management\n\n# Create admin user\nsudo rabbitmqctl add_user admin SecureAdminPassword123!\nsudo rabbitmqctl set_user_tags admin administrator\nsudo rabbitmqctl set_permissions -p / admin \".*\" \".*\" \".*\"\n\n# Remove guest user (security)\nsudo rabbitmqctl delete_user guest\n\n# Configuration location: /usr/local/etc/rabbitmq/\n# Alternative: /opt/homebrew/etc/rabbitmq/ (Apple Silicon)\n```\n\n### FreeBSD\n\n```bash\n# Using pkg\npkg install rabbitmq erlang\n\n# Using ports\ncd /usr/ports/net/rabbitmq\nmake install clean\n\n# Enable RabbitMQ\necho 'rabbitmq_enable=\"YES\"' \u003e\u003e /etc/rc.conf\n\n# Start service\nservice rabbitmq start\n\n# Enable management plugin\nrabbitmq-plugins enable rabbitmq_management\n\n# Create admin user\nrabbitmqctl add_user admin SecureAdminPassword123!\nrabbitmqctl set_user_tags admin administrator\nrabbitmqctl set_permissions -p / admin \".*\" \".*\" \".*\"\n\n# Remove guest user (security)\nrabbitmqctl delete_user guest\n\n# Configuration location: /usr/local/etc/rabbitmq/\n```\n\n### Windows\n\n```powershell\n# Method 1: Using Chocolatey\nchoco install rabbitmq\n\n# Method 2: Using Scoop\nscoop install rabbitmq\n\n# Method 3: Manual installation\n# Download from https://www.rabbitmq.com/download.html\n# Install Erlang first, then RabbitMQ\n\n# Install as Windows service (automatic with installer)\n# The service is named \"RabbitMQ\"\n\n# Enable management plugin\nrabbitmq-plugins.bat enable rabbitmq_management\n\n# Create admin user\nrabbitmqctl.bat add_user admin SecureAdminPassword123!\nrabbitmqctl.bat set_user_tags admin administrator\nrabbitmqctl.bat set_permissions -p / admin \".*\" \".*\" \".*\"\n\n# Remove guest user (security)\nrabbitmqctl.bat delete_user guest\n\n# Configuration location: %APPDATA%\\RabbitMQ\\\n```\n\n## Initial Configuration\n\n### First-Run Setup\n\n1. **Create rabbitmq user** (if not created by package):\n```bash\n# Linux systems\nsudo useradd -r -d /var/lib/rabbitmq -s /sbin/nologin -c \"RabbitMQ messaging server\" rabbitmq\n```\n\n2. **Default configuration locations**:\n- RHEL/CentOS/Rocky/AlmaLinux: `/etc/rabbitmq/rabbitmq.conf`\n- Debian/Ubuntu: `/etc/rabbitmq/rabbitmq.conf`\n- Arch Linux: `/etc/rabbitmq/rabbitmq.conf`\n- Alpine Linux: `/etc/rabbitmq/rabbitmq.conf`\n- openSUSE/SLES: `/etc/rabbitmq/rabbitmq.conf`\n- macOS: `/usr/local/etc/rabbitmq/rabbitmq.conf`\n- FreeBSD: `/usr/local/etc/rabbitmq/rabbitmq.conf`\n- Windows: `%APPDATA%\\RabbitMQ\\rabbitmq.conf`\n\n3. **Essential settings to change**:\n\n```ini\n# /etc/rabbitmq/rabbitmq.conf\n# Network and clustering\nlisteners.tcp.default = 5672\nmanagement.tcp.port = 15672\n\n# Security\nloopback_users.guest = false\ndefault_user = admin\ndefault_pass = SecureAdminPassword123!\n\n# Logging\nlog.file.level = info\nlog.file = /var/log/rabbitmq/rabbitmq.log\nlog.file.rotation.size = 10485760\n\n# Memory and disk limits\nvm_memory_high_watermark.relative = 0.6\ndisk_free_limit.absolute = 1GB\n\n# Message TTL and limits\ndefault_user_tags.administrator = true\nheartbeat = 60\n\n# Clustering (if multiple nodes)\ncluster_formation.peer_discovery_backend = rabbit_peer_discovery_classic_config\ncluster_formation.classic_config.nodes.1 = rabbit@node1\ncluster_formation.classic_config.nodes.2 = rabbit@node2\n```\n\n### Testing Initial Setup\n\n```bash\n# Check if RabbitMQ is running\nsudo systemctl status rabbitmq-server\n\n# Test connection\nrabbitmqctl status\n\n# Check cluster status\nrabbitmqctl cluster_status\n\n# List users\nrabbitmqctl list_users\n\n# List virtual hosts\nrabbitmqctl list_vhosts\n\n# Test management interface\ncurl -u admin:SecureAdminPassword123! http://localhost:15672/api/overview\n\n# Test AMQP connection\nrabbitmqctl eval 'rabbit_networking:tcp_listener_started(5672).'\n```\n\n**WARNING:** Remove or disable the default guest user and enable proper authentication!\n\n## Service Management\n\n### systemd (RHEL, Debian, Ubuntu, Arch, openSUSE)\n\n```bash\n# Enable RabbitMQ to start on boot\nsudo systemctl enable rabbitmq-server\n\n# Start RabbitMQ\nsudo systemctl start rabbitmq-server\n\n# Stop RabbitMQ\nsudo systemctl stop rabbitmq-server\n\n# Restart RabbitMQ\nsudo systemctl restart rabbitmq-server\n\n# Reload configuration (graceful)\nsudo rabbitmqctl eval 'application:stop(rabbitmq_management_agent), application:start(rabbitmq_management_agent).'\n\n# Check status\nsudo systemctl status rabbitmq-server\n\n# View logs\nsudo journalctl -u rabbitmq-server -f\n```\n\n### OpenRC (Alpine Linux)\n\n```bash\n# Enable RabbitMQ to start on boot\nrc-update add rabbitmq default\n\n# Start RabbitMQ\nrc-service rabbitmq start\n\n# Stop RabbitMQ\nrc-service rabbitmq stop\n\n# Restart RabbitMQ\nrc-service rabbitmq restart\n\n# Check status\nrc-service rabbitmq status\n\n# View logs\ntail -f /var/log/rabbitmq/rabbit@$(hostname).log\n```\n\n### rc.d (FreeBSD)\n\n```bash\n# Enable in /etc/rc.conf\necho 'rabbitmq_enable=\"YES\"' \u003e\u003e /etc/rc.conf\n\n# Start RabbitMQ\nservice rabbitmq start\n\n# Stop RabbitMQ\nservice rabbitmq stop\n\n# Restart RabbitMQ\nservice rabbitmq restart\n\n# Check status\nservice rabbitmq status\n```\n\n### launchd (macOS)\n\n```bash\n# Using Homebrew services\nbrew services start rabbitmq\nbrew services stop rabbitmq\nbrew services restart rabbitmq\n\n# Check status\nbrew services list | grep rabbitmq\n\n# Manual control\nsudo rabbitmq-server -detached\nsudo rabbitmqctl shutdown\n```\n\n### Windows Service Manager\n\n```powershell\n# Start RabbitMQ service\nnet start RabbitMQ\n\n# Stop RabbitMQ service\nnet stop RabbitMQ\n\n# Using PowerShell\nStart-Service RabbitMQ\nStop-Service RabbitMQ\nRestart-Service RabbitMQ\n\n# Check status\nGet-Service RabbitMQ\n\n# View logs\nGet-EventLog -LogName Application -Source RabbitMQ\n```\n\n## Advanced Configuration\n\n### High Availability Configuration\n\n```ini\n# Cluster configuration\ncluster_formation.peer_discovery_backend = rabbit_peer_discovery_classic_config\ncluster_formation.classic_config.nodes.1 = rabbit@rabbitmq-1\ncluster_formation.classic_config.nodes.2 = rabbit@rabbitmq-2\ncluster_formation.classic_config.nodes.3 = rabbit@rabbitmq-3\n\n# Enable quorum queues by default\ndefault_queue_type = quorum\n\n# HA policy for classic queues\nqueue_master_locator = min-masters\n```\n\n### Advanced Security Settings\n\n```ini\n# SSL/TLS configuration\nlisteners.ssl.default = 5671\nssl_options.cacertfile = /etc/rabbitmq/ssl/ca_certificate.pem\nssl_options.certfile = /etc/rabbitmq/ssl/server_certificate.pem\nssl_options.keyfile = /etc/rabbitmq/ssl/server_key.pem\nssl_options.verify = verify_peer\nssl_options.fail_if_no_peer_cert = true\n\n# Management over HTTPS\nmanagement.ssl.port = 15671\nmanagement.ssl.cacertfile = /etc/rabbitmq/ssl/ca_certificate.pem\nmanagement.ssl.certfile = /etc/rabbitmq/ssl/server_certificate.pem\nmanagement.ssl.keyfile = /etc/rabbitmq/ssl/server_key.pem\n\n# Authentication backends\nauth_backends.1 = rabbit_auth_backend_ldap\nauth_backends.2 = rabbit_auth_backend_internal\n\n# LDAP configuration\nauth_ldap.servers.1 = ldap.example.com\nauth_ldap.user_dn_pattern = cn=${username},ou=users,dc=example,dc=com\n```\n\n## Reverse Proxy Setup\n\n### nginx Configuration\n\n```nginx\n# /etc/nginx/sites-available/rabbitmq\nupstream rabbitmq_management {\n    server 127.0.0.1:15672 max_fails=3 fail_timeout=30s;\n    server 127.0.0.1:15673 max_fails=3 fail_timeout=30s backup;\n}\n\nserver {\n    listen 80;\n    server_name rabbitmq.example.com;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name rabbitmq.example.com;\n\n    ssl_certificate /etc/letsencrypt/live/rabbitmq.example.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/rabbitmq.example.com/privkey.pem;\n\n    location / {\n        proxy_pass http://rabbitmq_management;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        \n        # WebSocket support for management UI\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n    }\n}\n```\n\n### HAProxy Configuration\n\n```haproxy\n# /etc/haproxy/haproxy.cfg\nfrontend rabbitmq_management_frontend\n    bind *:80\n    bind *:443 ssl crt /etc/ssl/certs/rabbitmq.pem\n    redirect scheme https if !{ ssl_fc }\n    default_backend rabbitmq_management_servers\n\nbackend rabbitmq_management_servers\n    mode http\n    balance roundrobin\n    option httpchk GET /api/aliveness-test/%2F\n    server rabbitmq1 127.0.0.1:15672 check\n    server rabbitmq2 127.0.0.1:15673 check backup\n\nfrontend rabbitmq_amqp_frontend\n    bind *:5672\n    mode tcp\n    default_backend rabbitmq_amqp_servers\n\nbackend rabbitmq_amqp_servers\n    mode tcp\n    balance roundrobin\n    server rabbitmq1 127.0.0.1:5672 check\n    server rabbitmq2 127.0.0.1:5673 check backup\n```\n\n## Security Configuration\n\n### SSL/TLS Setup\n\n```bash\n# Generate SSL certificates for RabbitMQ\nsudo mkdir -p /etc/rabbitmq/ssl\n\n# Create CA certificate\nsudo openssl genrsa -out /etc/rabbitmq/ssl/ca_key.pem 4096\nsudo openssl req -new -x509 -days 3650 -key /etc/rabbitmq/ssl/ca_key.pem -out /etc/rabbitmq/ssl/ca_certificate.pem -subj \"/C=US/ST=State/L=City/O=Organization/CN=RabbitMQ-CA\"\n\n# Create server certificate\nsudo openssl genrsa -out /etc/rabbitmq/ssl/server_key.pem 4096\nsudo openssl req -new -key /etc/rabbitmq/ssl/server_key.pem -out /etc/rabbitmq/ssl/server_certificate_request.pem -subj \"/C=US/ST=State/L=City/O=Organization/CN=rabbitmq.example.com\"\nsudo openssl x509 -req -in /etc/rabbitmq/ssl/server_certificate_request.pem -CA /etc/rabbitmq/ssl/ca_certificate.pem -CAkey /etc/rabbitmq/ssl/ca_key.pem -CAcreateserial -out /etc/rabbitmq/ssl/server_certificate.pem -days 365\n\n# Create client certificate\nsudo openssl genrsa -out /etc/rabbitmq/ssl/client_key.pem 4096\nsudo openssl req -new -key /etc/rabbitmq/ssl/client_key.pem -out /etc/rabbitmq/ssl/client_certificate_request.pem -subj \"/C=US/ST=State/L=City/O=Organization/CN=rabbitmq-client\"\nsudo openssl x509 -req -in /etc/rabbitmq/ssl/client_certificate_request.pem -CA /etc/rabbitmq/ssl/ca_certificate.pem -CAkey /etc/rabbitmq/ssl/ca_key.pem -CAcreateserial -out /etc/rabbitmq/ssl/client_certificate.pem -days 365\n\n# Set permissions\nsudo chown -R rabbitmq:rabbitmq /etc/rabbitmq/ssl\nsudo chmod 600 /etc/rabbitmq/ssl/*_key.pem\nsudo chmod 644 /etc/rabbitmq/ssl/*_certificate.pem /etc/rabbitmq/ssl/ca_certificate.pem\n```\n\n### User Management and Access Control\n\n```bash\n# Create application user\nsudo rabbitmqctl add_user myapp SecureAppPassword123!\nsudo rabbitmqctl set_permissions -p / myapp \"myapp\\..*\" \"myapp\\..*\" \"myapp\\..*\"\n\n# Create monitoring user\nsudo rabbitmqctl add_user monitoring MonitorPassword123!\nsudo rabbitmqctl set_user_tags monitoring monitoring\nsudo rabbitmqctl set_permissions -p / monitoring \"\" \"\" \".*\"\n\n# Create backup user\nsudo rabbitmqctl add_user backup BackupPassword123!\nsudo rabbitmqctl set_user_tags backup management\nsudo rabbitmqctl set_permissions -p / backup \"\" \"\" \".*\"\n\n# Create virtual hosts\nsudo rabbitmqctl add_vhost production\nsudo rabbitmqctl add_vhost staging\n\n# Set permissions for virtual hosts\nsudo rabbitmqctl set_permissions -p production myapp \".*\" \".*\" \".*\"\nsudo rabbitmqctl set_permissions -p staging myapp \".*\" \".*\" \".*\"\n\n# Set resource limits\nsudo rabbitmqctl set_user_limits myapp '{\"max-connections\": 100, \"max-channels\": 1000}'\n```\n\n### Firewall Rules\n\n```bash\n# UFW (Ubuntu/Debian)\nsudo ufw allow from 192.168.1.0/24 to any port 5672\nsudo ufw allow from 192.168.1.0/24 to any port 15672\nsudo ufw reload\n\n# firewalld (RHEL/CentOS/openSUSE)\nsudo firewall-cmd --permanent --new-zone=rabbitmq\nsudo firewall-cmd --permanent --zone=rabbitmq --add-source=192.168.1.0/24\nsudo firewall-cmd --permanent --zone=rabbitmq --add-port=5672/tcp\nsudo firewall-cmd --permanent --zone=rabbitmq --add-port=15672/tcp\nsudo firewall-cmd --permanent --zone=rabbitmq --add-port=25672/tcp\nsudo firewall-cmd --reload\n\n# iptables\nsudo iptables -A INPUT -s 192.168.1.0/24 -p tcp --dport 5672 -j ACCEPT\nsudo iptables -A INPUT -s 192.168.1.0/24 -p tcp --dport 15672 -j ACCEPT\nsudo iptables -save \u003e /etc/iptables/rules.v4\n\n# pf (FreeBSD)\n# Add to /etc/pf.conf\npass in on $ext_if proto tcp from 192.168.1.0/24 to any port {5672, 15672, 25672}\n\n# Windows Firewall\nNew-NetFirewallRule -DisplayName \"RabbitMQ AMQP\" -Direction Inbound -Protocol TCP -LocalPort 5672 -RemoteAddress 192.168.1.0/24 -Action Allow\nNew-NetFirewallRule -DisplayName \"RabbitMQ Management\" -Direction Inbound -Protocol TCP -LocalPort 15672 -RemoteAddress 192.168.1.0/24 -Action Allow\n```\n\n## Database Setup\n\n### Queue and Exchange Configuration\n\n```bash\n# Create exchanges\nrabbitmqctl eval 'rabbit_exchange:declare({resource, \u003c\u003c\"/\"\u003e\u003e, exchange, \u003c\u003c\"logs\"\u003e\u003e}, topic, true, false, false, []).'\nrabbitmqctl eval 'rabbit_exchange:declare({resource, \u003c\u003c\"/\"\u003e\u003e, exchange, \u003c\u003c\"tasks\"\u003e\u003e}, direct, true, false, false, []).'\n\n# Create queues\nrabbitmqctl eval 'rabbit_amqqueue:declare({resource, \u003c\u003c\"/\"\u003e\u003e, queue, \u003c\u003c\"error_logs\"\u003e\u003e}, true, false, [], none, \u003c\u003c\"/\"\u003e\u003e).'\nrabbitmqctl eval 'rabbit_amqqueue:declare({resource, \u003c\u003c\"/\"\u003e\u003e, queue, \u003c\u003c\"task_queue\"\u003e\u003e}, true, false, [], none, \u003c\u003c\"/\"\u003e\u003e).'\n\n# Create bindings\nrabbitmqctl eval 'rabbit_binding:add({binding, {resource, \u003c\u003c\"/\"\u003e\u003e, exchange, \u003c\u003c\"logs\"\u003e\u003e}, \u003c\u003c\"error\"\u003e\u003e, {resource, \u003c\u003c\"/\"\u003e\u003e, queue, \u003c\u003c\"error_logs\"\u003e\u003e}, []}).'\n\n# Set queue policies for HA\nsudo rabbitmqctl set_policy ha-all \".*\" '{\"ha-mode\":\"all\",\"ha-sync-mode\":\"automatic\"}'\n\n# Set TTL policy\nsudo rabbitmqctl set_policy TTL \".*\" '{\"message-ttl\":3600000}' --apply-to queues\n\n# Set queue length limit\nsudo rabbitmqctl set_policy max-length \".*\" '{\"max-length\":10000}' --apply-to queues\n```\n\n### Shovel Configuration (Message Transfer)\n\n```bash\n# Install shovel plugin\nsudo rabbitmq-plugins enable rabbitmq_shovel\nsudo rabbitmq-plugins enable rabbitmq_shovel_management\n\n# Create shovel (via management API)\ncurl -u admin:SecureAdminPassword123! -X PUT \\\n  http://localhost:15672/api/parameters/shovel/%2F/my-shovel \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"value\": {\n      \"src-protocol\": \"amqp091\",\n      \"src-uri\": \"amqp://guest:guest@source-server:5672/%2F\",\n      \"src-queue\": \"source-queue\",\n      \"dest-protocol\": \"amqp091\",\n      \"dest-uri\": \"amqp://guest:guest@dest-server:5672/%2F\",\n      \"dest-queue\": \"dest-queue\"\n    }\n  }'\n```\n\n## Performance Optimization\n\n### System Tuning\n\n```bash\n# RabbitMQ-specific system optimizations\nsudo tee -a /etc/sysctl.conf \u003c\u003cEOF\n# RabbitMQ optimizations\nvm.swappiness = 1\nnet.core.somaxconn = 4096\nnet.ipv4.tcp_fin_timeout = 30\nnet.ipv4.tcp_tw_reuse = 1\nfs.file-max = 100000\nEOF\n\nsudo sysctl -p\n\n# Increase file descriptor limits\nsudo tee -a /etc/security/limits.conf \u003c\u003cEOF\nrabbitmq soft nofile 65536\nrabbitmq hard nofile 65536\nEOF\n\n# Set Erlang VM parameters\nsudo tee /etc/rabbitmq/rabbitmq-env.conf \u003c\u003cEOF\nRABBITMQ_SERVER_ERL_ARGS=\"+K true +A 128 +P 1048576\"\nRABBITMQ_CTL_ERL_ARGS=\"+K true\"\nEOF\n```\n\n### RabbitMQ Performance Configuration\n\n```ini\n# High-performance RabbitMQ configuration\n# /etc/rabbitmq/rabbitmq.conf\n\n# Memory and disk\nvm_memory_high_watermark.relative = 0.4\nvm_memory_high_watermark_paging_ratio = 0.3\ndisk_free_limit.absolute = 2GB\n\n# Clustering and replication\ncluster_partition_handling = pause_minority\ncluster_keepalive_interval = 10000\n\n# Connection and channel limits\nconnection_max = 65536\nchannel_max = 2047\n\n# Message store\nmsg_store_file_size_limit = 16777216\nqueue_index_embed_msgs_below = 4096\n\n# Lazy queues (for large queues)\nlazy_queue_explicit_gc_run_operation_threshold = 1000\n\n# Mnesia table loading\nmnesia_table_loading_retry_timeout = 30000\nmnesia_table_loading_retry_limit = 10\n```\n\n### Queue Optimization\n\n```bash\n# Enable lazy queues for large message backlogs\nrabbitmqctl set_policy lazy-queue \".*\" '{\"queue-mode\":\"lazy\"}' --apply-to queues\n\n# Configure quorum queues for better consistency\nrabbitmqctl set_policy quorum-queue \".*\" '{\"queue-type\":\"quorum\"}' --apply-to queues\n\n# Set delivery limits to prevent poison messages\nrabbitmqctl set_policy delivery-limit \".*\" '{\"delivery-limit\":10}' --apply-to queues\n\n# Configure stream queues for high throughput\nrabbitmqctl set_policy stream-queue \"stream.*\" '{\"queue-type\":\"stream\"}' --apply-to queues\n```\n\n## Monitoring\n\n### Built-in Monitoring\n\n```bash\n# Node status and statistics\nrabbitmqctl status\nrabbitmqctl node_health_check\nrabbitmqctl environment\n\n# Queue monitoring\nrabbitmqctl list_queues name messages consumers memory\nrabbitmqctl list_exchanges name type\nrabbitmqctl list_bindings\n\n# Connection monitoring\nrabbitmqctl list_connections peer_host peer_port state channels\nrabbitmqctl list_channels connection name consumer_count messages_unacknowledged\n\n# Cluster monitoring\nrabbitmqctl cluster_status\nrabbitmqctl list_cluster_nodes\n\n# Memory and disk usage\nrabbitmqctl eval 'rabbit_vm:memory().'\nrabbitmqctl eval 'rabbit_disk_monitor:get_disk_free().'\n```\n\n### External Monitoring Setup\n\n```bash\n# Install RabbitMQ Exporter for Prometheus\nwget https://github.com/kbudde/rabbitmq_exporter/releases/download/v1.0.0/rabbitmq_exporter-1.0.0.linux-amd64.tar.gz\ntar xzf rabbitmq_exporter-*.tar.gz\nsudo cp rabbitmq_exporter /usr/local/bin/\n\n# Create monitoring user in RabbitMQ\nsudo rabbitmqctl add_user prometheus PrometheusPassword123!\nsudo rabbitmqctl set_user_tags prometheus monitoring\n\n# Create systemd service\nsudo tee /etc/systemd/system/rabbitmq_exporter.service \u003c\u003cEOF\n[Unit]\nDescription=RabbitMQ Exporter\nAfter=network.target\n\n[Service]\nType=simple\nUser=rabbitmq\nEnvironment=RABBIT_URL=\"http://prometheus:PrometheusPassword123!@localhost:15672\"\nExecStart=/usr/local/bin/rabbitmq_exporter\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsudo systemctl enable --now rabbitmq_exporter\n```\n\n### Health Check Scripts\n\n```bash\n#!/bin/bash\n# rabbitmq-health-check.sh\n\n# Check RabbitMQ service\nif ! systemctl is-active rabbitmq-server \u003e/dev/null 2\u003e\u00261; then\n    echo \"CRITICAL: RabbitMQ service is not running\"\n    exit 2\nfi\n\n# Check node health\nif ! rabbitmqctl node_health_check \u003e/dev/null 2\u003e\u00261; then\n    echo \"CRITICAL: RabbitMQ node health check failed\"\n    exit 2\nfi\n\n# Check cluster status\nCLUSTER_STATUS=$(rabbitmqctl cluster_status --formatter json 2\u003e/dev/null | jq -r '.running_nodes | length')\nif [ \"$CLUSTER_STATUS\" -lt 2 ]; then\n    echo \"WARNING: Less than 2 nodes running in cluster\"\n    exit 1\nfi\n\n# Check memory usage\nMEMORY_ALARM=$(rabbitmqctl status --formatter json 2\u003e/dev/null | jq -r '.alarms | length')\nif [ \"$MEMORY_ALARM\" -gt 0 ]; then\n    echo \"WARNING: Memory alarms detected\"\n    exit 1\nfi\n\n# Check disk space\nDISK_ALARM=$(rabbitmqctl status --formatter json 2\u003e/dev/null | jq -r '.disk_free_alarm')\nif [ \"$DISK_ALARM\" = \"true\" ]; then\n    echo \"WARNING: Disk space alarm active\"\n    exit 1\nfi\n\n# Check queue lengths\nMAX_QUEUE_LENGTH=$(rabbitmqctl list_queues messages --formatter json 2\u003e/dev/null | jq -r 'max_by(.messages).messages')\nif [ \"$MAX_QUEUE_LENGTH\" -gt 100000 ]; then\n    echo \"WARNING: Queue length exceeds 100,000 messages\"\n    exit 1\nfi\n\necho \"OK: RabbitMQ is healthy\"\nexit 0\n```\n\n## Backup and Restore\n\n### Backup Procedures\n\n```bash\n#!/bin/bash\n# rabbitmq-backup.sh\n\nBACKUP_DIR=\"/backup/rabbitmq/$(date +%Y%m%d_%H%M%S)\"\nmkdir -p \"$BACKUP_DIR\"\n\n# Export definitions (exchanges, queues, users, policies)\ncurl -u admin:SecureAdminPassword123! \\\n    http://localhost:15672/api/definitions \\\n    -o \"$BACKUP_DIR/definitions.json\"\n\n# Export queue messages (if needed for small queues)\nrabbitmqctl eval \"\n    application:load(rabbitmq_management_agent),\n    rabbitmq_management_db:get_all_queues(all_vhosts).\n\" \u003e \"$BACKUP_DIR/queue_stats.txt\"\n\n# Backup configuration files\ntar czf \"$BACKUP_DIR/rabbitmq-config.tar.gz\" \\\n    /etc/rabbitmq/ \\\n    --exclude='*.log' \\\n    --exclude='*.pid'\n\n# Backup SSL certificates\nif [ -d /etc/rabbitmq/ssl ]; then\n    tar czf \"$BACKUP_DIR/rabbitmq-ssl.tar.gz\" /etc/rabbitmq/ssl/\nfi\n\n# Save cluster information\nrabbitmqctl cluster_status \u003e \"$BACKUP_DIR/cluster_status.txt\"\nrabbitmqctl status \u003e \"$BACKUP_DIR/node_status.txt\"\n\n# Create manifest\necho \"RabbitMQ Backup - $(date)\" \u003e \"$BACKUP_DIR/backup_manifest.txt\"\necho \"Node: $(hostname)\" \u003e\u003e \"$BACKUP_DIR/backup_manifest.txt\"\necho \"Version: $(rabbitmqctl version)\" \u003e\u003e \"$BACKUP_DIR/backup_manifest.txt\"\n\necho \"Backup completed: $BACKUP_DIR\"\n```\n\n### Restore Procedures\n\n```bash\n#!/bin/bash\n# rabbitmq-restore.sh\n\nBACKUP_DIR=\"$1\"\nif [ -z \"$BACKUP_DIR\" ]; then\n    echo \"Usage: $0 \u003cbackup-directory\u003e\"\n    exit 1\nfi\n\n# Stop RabbitMQ (ensure clean state)\nsudo systemctl stop rabbitmq-server\n\n# Restore configuration\nsudo tar xzf \"$BACKUP_DIR/rabbitmq-config.tar.gz\" -C /\n\n# Restore SSL certificates\nif [ -f \"$BACKUP_DIR/rabbitmq-ssl.tar.gz\" ]; then\n    sudo tar xzf \"$BACKUP_DIR/rabbitmq-ssl.tar.gz\" -C /\nfi\n\n# Start RabbitMQ\nsudo systemctl start rabbitmq-server\n\n# Wait for RabbitMQ to start\nsleep 10\n\n# Import definitions\ncurl -u admin:SecureAdminPassword123! \\\n    -X POST \\\n    -H \"Content-Type: application/json\" \\\n    -d @\"$BACKUP_DIR/definitions.json\" \\\n    http://localhost:15672/api/definitions\n\n# Verify restore\nrabbitmqctl list_queues\nrabbitmqctl list_users\n\necho \"Restore completed from $BACKUP_DIR\"\n```\n\n### Message-Level Backup (Advanced)\n\n```bash\n#!/bin/bash\n# rabbitmq-message-backup.sh\n\nBACKUP_DIR=\"/backup/rabbitmq-messages/$(date +%Y%m%d_%H%M%S)\"\nmkdir -p \"$BACKUP_DIR\"\n\n# Install shovel plugin for message transfer\nrabbitmq-plugins enable rabbitmq_shovel\nrabbitmq-plugins enable rabbitmq_shovel_management\n\n# Backup messages from all queues\nrabbitmqctl list_queues name --formatter json | jq -r '.[].name' | while read -r queue; do\n    if [ \"$queue\" != \"null\" ]; then\n        # Create shovel to backup queue\n        curl -u admin:SecureAdminPassword123! -X PUT \\\n            \"http://localhost:15672/api/parameters/shovel/%2F/backup-$queue\" \\\n            -H \"Content-Type: application/json\" \\\n            -d \"{\n                \\\"value\\\": {\n                    \\\"src-protocol\\\": \\\"amqp091\\\",\n                    \\\"src-uri\\\": \\\"amqp://admin:SecureAdminPassword123!@localhost:5672/%2F\\\",\n                    \\\"src-queue\\\": \\\"$queue\\\",\n                    \\\"dest-protocol\\\": \\\"amqp091\\\",\n                    \\\"dest-uri\\\": \\\"amqp://backup:BackupPassword123!@backup-server:5672/%2F\\\",\n                    \\\"dest-queue\\\": \\\"backup-$queue\\\"\n                }\n            }\"\n    fi\ndone\n\necho \"Message backup shovels created for all queues\"\n```\n\n## Troubleshooting\n\n### Common Issues\n\n1. **RabbitMQ won't start**:\n```bash\n# Check logs\nsudo journalctl -u rabbitmq-server -f\nsudo tail -f /var/log/rabbitmq/rabbit@$(hostname).log\n\n# Check Erlang installation\nerl -version\n\n# Check disk space\ndf -h /var/lib/rabbitmq\n\n# Check permissions\nls -la /var/lib/rabbitmq\nls -la /var/log/rabbitmq\n\n# Reset node (last resort)\nsudo rabbitmqctl stop_app\nsudo rabbitmqctl reset\nsudo rabbitmqctl start_app\n```\n\n2. **Cluster issues**:\n```bash\n# Check cluster status\nrabbitmqctl cluster_status\n\n# Check network connectivity between nodes\ntelnet rabbitmq-node-2 25672\n\n# Check Erlang cookie consistency\nsudo cat /var/lib/rabbitmq/.erlang.cookie\n\n# Force cluster join\nsudo rabbitmqctl stop_app\nsudo rabbitmqctl join_cluster rabbit@rabbitmq-node-1\nsudo rabbitmqctl start_app\n```\n\n3. **Memory/disk alarms**:\n```bash\n# Check alarms\nrabbitmqctl status | grep alarms\n\n# Check memory usage\nrabbitmqctl eval 'rabbit_vm:memory().'\n\n# Check disk usage\ndf -h /var/lib/rabbitmq\n\n# Clear memory alarm (after fixing issue)\nrabbitmqctl eval 'vm_memory_monitor:set_vm_memory_high_watermark(0.4).'\n```\n\n4. **Connection issues**:\n```bash\n# Check if RabbitMQ is listening\nsudo ss -tlnp | grep :5672\n\n# Test AMQP connection\nrabbitmqctl eval 'rabbit_networking:tcp_listener_started(5672).'\n\n# Check user permissions\nrabbitmqctl list_user_permissions admin\n\n# Test with management API\ncurl -u admin:SecureAdminPassword123! http://localhost:15672/api/overview\n```\n\n### Debug Mode\n\n```bash\n# Enable debug logging\necho 'log.file.level = debug' \u003e\u003e /etc/rabbitmq/rabbitmq.conf\n\n# Enable connection logging\necho 'log.connection.level = debug' \u003e\u003e /etc/rabbitmq/rabbitmq.conf\n\n# Enable channel logging  \necho 'log.channel.level = debug' \u003e\u003e /etc/rabbitmq/rabbitmq.conf\n\n# Restart to apply\nsudo systemctl restart rabbitmq-server\n\n# View debug logs\nsudo tail -f /var/log/rabbitmq/rabbit@$(hostname).log\n```\n\n## Maintenance\n\n### Update Procedures\n\n```bash\n# RHEL/CentOS/Rocky/AlmaLinux\nsudo yum check-update rabbitmq-server\nsudo yum update rabbitmq-server\n\n# Debian/Ubuntu\nsudo apt update\nsudo apt upgrade rabbitmq-server\n\n# Arch Linux\nsudo pacman -Syu rabbitmq\n\n# Alpine Linux\napk update\napk upgrade rabbitmq-server\n\n# openSUSE\nsudo zypper update rabbitmq-server\n\n# FreeBSD\npkg update\npkg upgrade rabbitmq\n\n# Always backup before updates\n./rabbitmq-backup.sh\n\n# Test after updates\nrabbitmqctl status\nsudo systemctl restart rabbitmq-server\n```\n\n### Maintenance Tasks\n\n```bash\n# Weekly maintenance script\n#!/bin/bash\n# rabbitmq-maintenance.sh\n\n# Rotate logs\nrabbitmqctl rotate_logs\n\n# Check node health\nrabbitmqctl node_health_check\n\n# Clean up old definitions backup\nfind /backup/rabbitmq -name \"*.json\" -mtime +30 -delete\n\n# Optimize memory usage\nrabbitmqctl eval 'erlang:garbage_collect().'\n\n# Check and clean old message store files\nrabbitmqctl eval 'rabbit_msg_store_gc:gc().'\n\n# Check queue statistics\nrabbitmqctl list_queues name messages consumers memory | \\\n    awk '$2 \u003e 1000 {print \"Queue \" $1 \" has \" $2 \" messages\"}'\n\necho \"RabbitMQ maintenance completed\"\n```\n\n### Health Monitoring\n\n```bash\n# Create monitoring cron job\necho \"*/5 * * * * /usr/local/bin/rabbitmq-health-check.sh\" | sudo crontab -\n\n# Log rotation\nsudo tee /etc/logrotate.d/rabbitmq \u003c\u003cEOF\n/var/log/rabbitmq/*.log {\n    daily\n    rotate 30\n    compress\n    delaycompress\n    missingok\n    notifempty\n    sharedscripts\n    postrotate\n        rabbitmqctl rotate_logs\n    endscript\n}\nEOF\n```\n\n## Integration Examples\n\n### Python (pika) Integration\n\n```python\nimport pika\nimport ssl\n\n# Basic connection\nconnection = pika.BlockingConnection(\n    pika.ConnectionParameters(host='localhost', port=5672,\n                            credentials=pika.PlainCredentials('myapp', 'SecureAppPassword123!'))\n)\nchannel = connection.channel()\n\n# SSL connection\nssl_context = ssl.create_default_context(cafile='/etc/rabbitmq/ssl/ca_certificate.pem')\nssl_context.check_hostname = False\n\nssl_connection = pika.BlockingConnection(\n    pika.ConnectionParameters(\n        host='localhost',\n        port=5671,\n        credentials=pika.PlainCredentials('myapp', 'SecureAppPassword123!'),\n        ssl_options=pika.SSLOptions(ssl_context)\n    )\n)\n\n# Declare queue and exchange\nchannel.exchange_declare(exchange='task_exchange', exchange_type='direct')\nchannel.queue_declare(queue='task_queue', durable=True)\nchannel.queue_bind(exchange='task_exchange', queue='task_queue', routing_key='task')\n\n# Publish message\nchannel.basic_publish(\n    exchange='task_exchange',\n    routing_key='task',\n    body='Hello, RabbitMQ!',\n    properties=pika.BasicProperties(delivery_mode=2)  # Make message persistent\n)\n\n# Consume messages\ndef callback(ch, method, properties, body):\n    print(f\"Received: {body}\")\n    ch.basic_ack(delivery_tag=method.delivery_tag)\n\nchannel.basic_qos(prefetch_count=1)\nchannel.basic_consume(queue='task_queue', on_message_callback=callback)\nchannel.start_consuming()\n```\n\n### Node.js (amqplib) Integration\n\n```javascript\nconst amqp = require('amqplib');\nconst fs = require('fs');\n\n// Basic connection\nasync function connectBasic() {\n    const connection = await amqp.connect('amqp://myapp:SecureAppPassword123!@localhost:5672');\n    return connection;\n}\n\n// SSL connection\nasync function connectSSL() {\n    const connection = await amqp.connect({\n        protocol: 'amqps',\n        hostname: 'localhost',\n        port: 5671,\n        username: 'myapp',\n        password: 'SecureAppPassword123!',\n        ca: [fs.readFileSync('/etc/rabbitmq/ssl/ca_certificate.pem')],\n        cert: fs.readFileSync('/etc/rabbitmq/ssl/client_certificate.pem'),\n        key: fs.readFileSync('/etc/rabbitmq/ssl/client_key.pem')\n    });\n    return connection;\n}\n\n// Publisher\nasync function publishMessage() {\n    const connection = await connectBasic();\n    const channel = await connection.createChannel();\n    \n    const exchange = 'task_exchange';\n    const routingKey = 'task';\n    const message = 'Hello from Node.js!';\n    \n    await channel.assertExchange(exchange, 'direct', { durable: true });\n    await channel.publish(exchange, routingKey, Buffer.from(message), { persistent: true });\n    \n    console.log('Message sent');\n    await channel.close();\n    await connection.close();\n}\n\n// Consumer\nasync function consumeMessages() {\n    const connection = await connectBasic();\n    const channel = await connection.createChannel();\n    \n    const queue = 'task_queue';\n    \n    await channel.assertQueue(queue, { durable: true });\n    await channel.prefetch(1);\n    \n    console.log('Waiting for messages...');\n    \n    channel.consume(queue, async (message) =\u003e {\n        if (message) {\n            console.log('Received:', message.content.toString());\n            // Process message\n            channel.ack(message);\n        }\n    });\n}\n```\n\n### Java (Spring AMQP) Integration\n\n```java\n// Configuration\n@Configuration\n@EnableRabbit\npublic class RabbitConfig {\n    \n    @Bean\n    public ConnectionFactory connectionFactory() {\n        CachingConnectionFactory factory = new CachingConnectionFactory(\"localhost\");\n        factory.setPort(5672);\n        factory.setUsername(\"myapp\");\n        factory.setPassword(\"SecureAppPassword123!\");\n        factory.setVirtualHost(\"/\");\n        return factory;\n    }\n    \n    @Bean\n    public RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory) {\n        RabbitTemplate template = new RabbitTemplate(connectionFactory);\n        template.setMandatory(true);\n        return template;\n    }\n    \n    @Bean\n    public DirectExchange taskExchange() {\n        return new DirectExchange(\"task_exchange\", true, false);\n    }\n    \n    @Bean\n    public Queue taskQueue() {\n        return QueueBuilder.durable(\"task_queue\").build();\n    }\n    \n    @Bean\n    public Binding taskBinding() {\n        return BindingBuilder.bind(taskQueue()).to(taskExchange()).with(\"task\");\n    }\n}\n\n// Producer\n@Service\npublic class MessageProducer {\n    \n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n    \n    public void sendMessage(String message) {\n        rabbitTemplate.convertAndSend(\"task_exchange\", \"task\", message);\n    }\n}\n\n// Consumer\n@Service\npublic class MessageConsumer {\n    \n    @RabbitListener(queues = \"task_queue\")\n    public void receiveMessage(String message) {\n        System.out.println(\"Received: \" + message);\n        // Process message\n    }\n}\n```\n\n### Go (amqp091-go) Integration\n\n```go\npackage main\n\nimport (\n    \"log\"\n    \"github.com/rabbitmq/amqp091-go\"\n)\n\nfunc connectRabbitMQ() (*amqp091.Connection, error) {\n    return amqp091.Dial(\"amqp://myapp:SecureAppPassword123!@localhost:5672/\")\n}\n\nfunc publishMessage(message string) error {\n    conn, err := connectRabbitMQ()\n    if err != nil {\n        return err\n    }\n    defer conn.Close()\n\n    ch, err := conn.Channel()\n    if err != nil {\n        return err\n    }\n    defer ch.Close()\n\n    // Declare exchange\n    err = ch.ExchangeDeclare(\n        \"task_exchange\",\n        \"direct\",\n        true,  // durable\n        false, // auto-deleted\n        false, // internal\n        false, // no-wait\n        nil,   // arguments\n    )\n    if err != nil {\n        return err\n    }\n\n    // Declare queue\n    _, err = ch.QueueDeclare(\n        \"task_queue\",\n        true,  // durable\n        false, // delete when unused\n        false, // exclusive\n        false, // no-wait\n        nil,   // arguments\n    )\n    if err != nil {\n        return err\n    }\n\n    // Publish message\n    return ch.Publish(\n        \"task_exchange\",\n        \"task\",\n        false, // mandatory\n        false, // immediate\n        amqp091.Publishing{\n            ContentType:  \"text/plain\",\n            Body:         []byte(message),\n            DeliveryMode: amqp091.Persistent,\n        },\n    )\n}\n\nfunc consumeMessages() error {\n    conn, err := connectRabbitMQ()\n    if err != nil {\n        return err\n    }\n    defer conn.Close()\n\n    ch, err := conn.Channel()\n    if err != nil {\n        return err\n    }\n    defer ch.Close()\n\n    msgs, err := ch.Consume(\n        \"task_queue\",\n        \"\",    // consumer\n        false, // auto-ack\n        false, // exclusive\n        false, // no-local\n        false, // no-wait\n        nil,   // args\n    )\n    if err != nil {\n        return err\n    }\n\n    forever := make(chan bool)\n\n    go func() {\n        for d := range msgs {\n            log.Printf(\"Received: %s\", d.Body)\n            // Process message\n            d.Ack(false)\n        }\n    }()\n\n    log.Printf(\"Waiting for messages...\")\n    \u003c-forever\n    return nil\n}\n```\n\n## Additional Resources\n\n- [Official RabbitMQ Documentation](https://www.rabbitmq.com/documentation.html)\n- [RabbitMQ Tutorials](https://www.rabbitmq.com/getstarted.html)\n- [RabbitMQ Management Plugin](https://www.rabbitmq.com/management.html)\n- [RabbitMQ Clustering Guide](https://www.rabbitmq.com/clustering.html)\n- [RabbitMQ High Availability](https://www.rabbitmq.com/ha.html)\n- [AMQP 0-9-1 Protocol Reference](https://www.rabbitmq.com/amqp-0-9-1-reference.html)\n- [RabbitMQ Community](https://www.rabbitmq.com/community.html)\n- [RabbitMQ GitHub Repository](https://github.com/rabbitmq/rabbitmq-server)\n\n---\n\n**Note:** This guide is part of the [HowToMgr](https://howtomgr.github.io) collection. Always refer to official documentation for the most up-to-date information.","readmeHtml":"\u003ch1 id=\"rabbitmq-installation-guide\" class=\"mobile-header\"\u003eRabbitMQ Installation Guide\u003c/h1\u003e\n\u003cp class=\"mobile-paragraph\"\u003eRabbitMQ is a free and open-source message-queueing software and broker written in Erlang. Originally developed by Rabbit Technologies and now owned by VMware, RabbitMQ implements the Advanced Message Queuing Protocol (AMQP) and provides message routing, queuing, and delivery guarantees. It serves as a FOSS alternative to commercial message brokers like IBM MQ, Oracle WebLogic Server, or Microsoft Azure Service Bus, offering enterprise-grade reliability, clustering, and high availability without licensing costs, with features like message persistence, flexible routing, and cross-language support.\u003c/p\u003e\n\u003ch2 id=\"prerequisites\" class=\"mobile-header\"\u003ePrerequisites\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eHardware Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eCPU: 2 cores minimum (4+ cores recommended for production)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eRAM: 1GB minimum (4GB+ recommended for production)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eStorage: 10GB minimum (SSD recommended for message persistence)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eNetwork: Stable connectivity for clustering setups\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eOperating System\u003c/strong\u003e: \u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eLinux: Any modern distribution with kernel 3.2+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003emacOS: 10.13+ (High Sierra or newer)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWindows: Windows Server 2016+ or Windows 10\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eFreeBSD: 11.0+\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eNetwork Requirements\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 5672 (AMQP 0-9-1 and 1.0)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 15672 (HTTP Management API)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 25672 (Erlang distribution for clustering)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 4369 (EPMD - Erlang Port Mapper Daemon)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePort 35672-35682 (CLI tools)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eDependencies\u003c/strong\u003e:\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eErlang/OTP (version 23.2+ for RabbitMQ 3.9+)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003esystemd or compatible init system (Linux)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eRoot or administrative access for installation\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003cstrong\u003eSystem Access\u003c/strong\u003e: root or sudo privileges required\u003c/li\u003e\n\u003ch2 id=\"installation\" class=\"mobile-header\"\u003eInstallation\u003c/h2\u003e\n\u003ch3 id=\"rhelcentosrocky-linuxalmalinux\" class=\"mobile-header\"\u003eRHEL/CentOS/Rocky Linux/AlmaLinux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Add RabbitMQ repository\ncurl -s https://packagecloud.io/install/repositories/rabbitmq/rabbitmq-server/script.rpm.sh | sudo bash\n\n# Add Erlang repository\ncurl -s https://packagecloud.io/install/repositories/rabbitmq/erlang/script.rpm.sh | sudo bash\n\n# Install Erlang\nsudo yum install -y erlang\n\n# Install RabbitMQ server\nsudo yum install -y rabbitmq-server\n\n# Enable and start service\nsudo systemctl enable --now rabbitmq-server\n\n# Enable management plugin\nsudo rabbitmq-plugins enable rabbitmq_management\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=5672/tcp\nsudo firewall-cmd --permanent --add-port=15672/tcp\nsudo firewall-cmd --permanent --add-port=25672/tcp\nsudo firewall-cmd --reload\n\n# Create admin user\nsudo rabbitmqctl add_user admin SecureAdminPassword123!\nsudo rabbitmqctl set_user_tags admin administrator\nsudo rabbitmqctl set_permissions -p / admin \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot;\n\n# Remove guest user (security)\nsudo rabbitmqctl delete_user guest\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"debianubuntu\" class=\"mobile-header\"\u003eDebian/Ubuntu\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Update package index\nsudo apt update\n\n# Install prerequisite packages\nsudo apt install -y curl gnupg apt-transport-https\n\n# Add RabbitMQ signing key\ncurl -fsSL https://keys.openpgp.org/vks/v1/by-fingerprint/0A9AF2115F4687BD29803A206B73A36E6026DFCA | sudo gpg --dearmor -o /usr/share/keyrings/com.rabbitmq.team.gpg\n\n# Add RabbitMQ repository\necho \u0026quot;deb [signed-by=/usr/share/keyrings/com.rabbitmq.team.gpg] https://ppa1.novemberain.com/rabbitmq/rabbitmq-server/deb/ubuntu $(lsb_release -cs) main\u0026quot; | sudo tee /etc/apt/sources.list.d/rabbitmq.list\n\n# Add Erlang repository\necho \u0026quot;deb [signed-by=/usr/share/keyrings/com.rabbitmq.team.gpg] https://ppa1.novemberain.com/rabbitmq/rabbitmq-erlang/deb/ubuntu $(lsb_release -cs) main\u0026quot; | sudo tee /etc/apt/sources.list.d/rabbitmq-erlang.list\n\n# Update package index\nsudo apt update\n\n# Install Erlang and RabbitMQ\nsudo apt install -y erlang-base erlang-asn1 erlang-crypto erlang-eldap erlang-ftp erlang-inets erlang-mnesia erlang-os-mon erlang-parsetools erlang-public-key erlang-runtime-tools erlang-snmp erlang-ssl erlang-syntax-tools erlang-tftp erlang-tools erlang-xmerl\nsudo apt install -y rabbitmq-server\n\n# Enable and start service\nsudo systemctl enable --now rabbitmq-server\n\n# Enable management plugin\nsudo rabbitmq-plugins enable rabbitmq_management\n\n# Configure firewall\nsudo ufw allow 5672\nsudo ufw allow 15672\n\n# Create admin user\nsudo rabbitmqctl add_user admin SecureAdminPassword123!\nsudo rabbitmqctl set_user_tags admin administrator\nsudo rabbitmqctl set_permissions -p / admin \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot;\n\n# Remove guest user (security)\nsudo rabbitmqctl delete_user guest\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"arch-linux\" class=\"mobile-header\"\u003eArch Linux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install RabbitMQ from official repositories\nsudo pacman -S rabbitmq\n\n# Install Erlang (dependency)\nsudo pacman -S erlang-nox\n\n# Create rabbitmq user if not exists\nsudo useradd -r -s /sbin/nologin -d /var/lib/rabbitmq -c \u0026quot;RabbitMQ messaging server\u0026quot; rabbitmq\n\n# Enable and start service\nsudo systemctl enable --now rabbitmq\n\n# Enable management plugin\nsudo rabbitmq-plugins enable rabbitmq_management\n\n# Create admin user\nsudo rabbitmqctl add_user admin SecureAdminPassword123!\nsudo rabbitmqctl set_user_tags admin administrator\nsudo rabbitmqctl set_permissions -p / admin \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot;\n\n# Remove guest user (security)\nsudo rabbitmqctl delete_user guest\n\n# Configuration location: /etc/rabbitmq/\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"alpine-linux\" class=\"mobile-header\"\u003eAlpine Linux\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install RabbitMQ\napk add --no-cache rabbitmq-server rabbitmq-server-management\n\n# Install Erlang\napk add --no-cache erlang\n\n# Create rabbitmq user if not exists\nadduser -D -H -s /sbin/nologin -G rabbitmq rabbitmq\n\n# Set permissions\nchown -R rabbitmq:rabbitmq /var/lib/rabbitmq /var/log/rabbitmq\n\n# Enable and start service\nrc-update add rabbitmq default\nrc-service rabbitmq start\n\n# Enable management plugin\nrabbitmq-plugins enable rabbitmq_management\n\n# Create admin user\nrabbitmqctl add_user admin SecureAdminPassword123!\nrabbitmqctl set_user_tags admin administrator\nrabbitmqctl set_permissions -p / admin \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot;\n\n# Remove guest user (security)\nrabbitmqctl delete_user guest\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"opensusesles\" class=\"mobile-header\"\u003eopenSUSE/SLES\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# openSUSE Leap/Tumbleweed\nsudo zypper install -y rabbitmq-server erlang\n\n# SLES 15\nsudo SUSEConnect -p sle-module-server-applications/15.5/x86_64\nsudo zypper install -y rabbitmq-server erlang\n\n# Enable and start service\nsudo systemctl enable --now rabbitmq-server\n\n# Enable management plugin\nsudo rabbitmq-plugins enable rabbitmq_management\n\n# Configure firewall\nsudo firewall-cmd --permanent --add-port=5672/tcp\nsudo firewall-cmd --permanent --add-port=15672/tcp\nsudo firewall-cmd --reload\n\n# Create admin user\nsudo rabbitmqctl add_user admin SecureAdminPassword123!\nsudo rabbitmqctl set_user_tags admin administrator\nsudo rabbitmqctl set_permissions -p / admin \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot;\n\n# Remove guest user (security)\nsudo rabbitmqctl delete_user guest\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"macos\" class=\"mobile-header\"\u003emacOS\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using Homebrew\nbrew install rabbitmq\n\n# Start RabbitMQ service\nbrew services start rabbitmq\n\n# Or run manually\nsudo rabbitmq-server\n\n# Enable management plugin\nsudo rabbitmq-plugins enable rabbitmq_management\n\n# Create admin user\nsudo rabbitmqctl add_user admin SecureAdminPassword123!\nsudo rabbitmqctl set_user_tags admin administrator\nsudo rabbitmqctl set_permissions -p / admin \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot;\n\n# Remove guest user (security)\nsudo rabbitmqctl delete_user guest\n\n# Configuration location: /usr/local/etc/rabbitmq/\n# Alternative: /opt/homebrew/etc/rabbitmq/ (Apple Silicon)\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"freebsd\" class=\"mobile-header\"\u003eFreeBSD\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using pkg\npkg install rabbitmq erlang\n\n# Using ports\ncd /usr/ports/net/rabbitmq\nmake install clean\n\n# Enable RabbitMQ\necho \u0026#039;rabbitmq_enable=\u0026quot;YES\u0026quot;\u0026#039; \u0026gt;\u0026gt; /etc/rc.conf\n\n# Start service\nservice rabbitmq start\n\n# Enable management plugin\nrabbitmq-plugins enable rabbitmq_management\n\n# Create admin user\nrabbitmqctl add_user admin SecureAdminPassword123!\nrabbitmqctl set_user_tags admin administrator\nrabbitmqctl set_permissions -p / admin \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot;\n\n# Remove guest user (security)\nrabbitmqctl delete_user guest\n\n# Configuration location: /usr/local/etc/rabbitmq/\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"windows\" class=\"mobile-header\"\u003eWindows\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"powershell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epowershell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-powershell\"\u003e# Method 1: Using Chocolatey\nchoco install rabbitmq\n\n# Method 2: Using Scoop\nscoop install rabbitmq\n\n# Method 3: Manual installation\n# Download from https://www.rabbitmq.com/download.html\n# Install Erlang first, then RabbitMQ\n\n# Install as Windows service (automatic with installer)\n# The service is named \u0026quot;RabbitMQ\u0026quot;\n\n# Enable management plugin\nrabbitmq-plugins.bat enable rabbitmq_management\n\n# Create admin user\nrabbitmqctl.bat add_user admin SecureAdminPassword123!\nrabbitmqctl.bat set_user_tags admin administrator\nrabbitmqctl.bat set_permissions -p / admin \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot;\n\n# Remove guest user (security)\nrabbitmqctl.bat delete_user guest\n\n# Configuration location: %APPDATA%\\RabbitMQ\\\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"initial-configuration\" class=\"mobile-header\"\u003eInitial Configuration\u003c/h2\u003e\n\u003ch3 id=\"first-run-setup\" class=\"mobile-header\"\u003eFirst-Run Setup\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e1. \u003cstrong\u003eCreate rabbitmq user\u003c/strong\u003e (if not created by package):\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Linux systems\nsudo useradd -r -d /var/lib/rabbitmq -s /sbin/nologin -c \u0026quot;RabbitMQ messaging server\u0026quot; rabbitmq\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e2. \u003cstrong\u003eDefault configuration locations\u003c/strong\u003e:\u003c/p\u003e\n\u003cli class=\"mobile-list-item\"\u003eRHEL/CentOS/Rocky/AlmaLinux: \u003ccode class=\"mobile-inline-code\"\u003e/etc/rabbitmq/rabbitmq.conf\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eDebian/Ubuntu: \u003ccode class=\"mobile-inline-code\"\u003e/etc/rabbitmq/rabbitmq.conf\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eArch Linux: \u003ccode class=\"mobile-inline-code\"\u003e/etc/rabbitmq/rabbitmq.conf\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eAlpine Linux: \u003ccode class=\"mobile-inline-code\"\u003e/etc/rabbitmq/rabbitmq.conf\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eopenSUSE/SLES: \u003ccode class=\"mobile-inline-code\"\u003e/etc/rabbitmq/rabbitmq.conf\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003emacOS: \u003ccode class=\"mobile-inline-code\"\u003e/usr/local/etc/rabbitmq/rabbitmq.conf\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eFreeBSD: \u003ccode class=\"mobile-inline-code\"\u003e/usr/local/etc/rabbitmq/rabbitmq.conf\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eWindows: \u003ccode class=\"mobile-inline-code\"\u003e%APPDATA%\\RabbitMQ\\rabbitmq.conf\u003c/code\u003e\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e3. \u003cstrong\u003eEssential settings to change\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ini\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eini\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ini\"\u003e# /etc/rabbitmq/rabbitmq.conf\n# Network and clustering\nlisteners.tcp.default = 5672\nmanagement.tcp.port = 15672\n\n# Security\nloopback_users.guest = false\ndefault_user = admin\ndefault_pass = SecureAdminPassword123!\n\n# Logging\nlog.file.level = info\nlog.file = /var/log/rabbitmq/rabbitmq.log\nlog.file.rotation.size = 10485760\n\n# Memory and disk limits\nvm_memory_high_watermark.relative = 0.6\ndisk_free_limit.absolute = 1GB\n\n# Message TTL and limits\ndefault_user_tags.administrator = true\nheartbeat = 60\n\n# Clustering (if multiple nodes)\ncluster_formation.peer_discovery_backend = rabbit_peer_discovery_classic_config\ncluster_formation.classic_config.nodes.1 = rabbit@node1\ncluster_formation.classic_config.nodes.2 = rabbit@node2\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"testing-initial-setup\" class=\"mobile-header\"\u003eTesting Initial Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check if RabbitMQ is running\nsudo systemctl status rabbitmq-server\n\n# Test connection\nrabbitmqctl status\n\n# Check cluster status\nrabbitmqctl cluster_status\n\n# List users\nrabbitmqctl list_users\n\n# List virtual hosts\nrabbitmqctl list_vhosts\n\n# Test management interface\ncurl -u admin:SecureAdminPassword123! http://localhost:15672/api/overview\n\n# Test AMQP connection\nrabbitmqctl eval \u0026#039;rabbit_networking:tcp_listener_started(5672).\u0026#039;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eWARNING:\u003c/strong\u003e Remove or disable the default guest user and enable proper authentication!\u003c/p\u003e\n\u003ch2 id=\"service-management\" class=\"mobile-header\"\u003eService Management\u003c/h2\u003e\n\u003ch3 id=\"systemd-rhel-debian-ubuntu-arch-opensuse\" class=\"mobile-header\"\u003esystemd (RHEL, Debian, Ubuntu, Arch, openSUSE)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable RabbitMQ to start on boot\nsudo systemctl enable rabbitmq-server\n\n# Start RabbitMQ\nsudo systemctl start rabbitmq-server\n\n# Stop RabbitMQ\nsudo systemctl stop rabbitmq-server\n\n# Restart RabbitMQ\nsudo systemctl restart rabbitmq-server\n\n# Reload configuration (graceful)\nsudo rabbitmqctl eval \u0026#039;application:stop(rabbitmq_management_agent), application:start(rabbitmq_management_agent).\u0026#039;\n\n# Check status\nsudo systemctl status rabbitmq-server\n\n# View logs\nsudo journalctl -u rabbitmq-server -f\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"openrc-alpine-linux\" class=\"mobile-header\"\u003eOpenRC (Alpine Linux)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable RabbitMQ to start on boot\nrc-update add rabbitmq default\n\n# Start RabbitMQ\nrc-service rabbitmq start\n\n# Stop RabbitMQ\nrc-service rabbitmq stop\n\n# Restart RabbitMQ\nrc-service rabbitmq restart\n\n# Check status\nrc-service rabbitmq status\n\n# View logs\ntail -f /var/log/rabbitmq/rabbit@$(hostname).log\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"rcd-freebsd\" class=\"mobile-header\"\u003erc.d (FreeBSD)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable in /etc/rc.conf\necho \u0026#039;rabbitmq_enable=\u0026quot;YES\u0026quot;\u0026#039; \u0026gt;\u0026gt; /etc/rc.conf\n\n# Start RabbitMQ\nservice rabbitmq start\n\n# Stop RabbitMQ\nservice rabbitmq stop\n\n# Restart RabbitMQ\nservice rabbitmq restart\n\n# Check status\nservice rabbitmq status\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"launchd-macos\" class=\"mobile-header\"\u003elaunchd (macOS)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Using Homebrew services\nbrew services start rabbitmq\nbrew services stop rabbitmq\nbrew services restart rabbitmq\n\n# Check status\nbrew services list | grep rabbitmq\n\n# Manual control\nsudo rabbitmq-server -detached\nsudo rabbitmqctl shutdown\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"windows-service-manager\" class=\"mobile-header\"\u003eWindows Service Manager\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"powershell\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epowershell\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-powershell\"\u003e# Start RabbitMQ service\nnet start RabbitMQ\n\n# Stop RabbitMQ service\nnet stop RabbitMQ\n\n# Using PowerShell\nStart-Service RabbitMQ\nStop-Service RabbitMQ\nRestart-Service RabbitMQ\n\n# Check status\nGet-Service RabbitMQ\n\n# View logs\nGet-EventLog -LogName Application -Source RabbitMQ\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"advanced-configuration\" class=\"mobile-header\"\u003eAdvanced Configuration\u003c/h2\u003e\n\u003ch3 id=\"high-availability-configuration\" class=\"mobile-header\"\u003eHigh Availability Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ini\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eini\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ini\"\u003e# Cluster configuration\ncluster_formation.peer_discovery_backend = rabbit_peer_discovery_classic_config\ncluster_formation.classic_config.nodes.1 = rabbit@rabbitmq-1\ncluster_formation.classic_config.nodes.2 = rabbit@rabbitmq-2\ncluster_formation.classic_config.nodes.3 = rabbit@rabbitmq-3\n\n# Enable quorum queues by default\ndefault_queue_type = quorum\n\n# HA policy for classic queues\nqueue_master_locator = min-masters\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"advanced-security-settings\" class=\"mobile-header\"\u003eAdvanced Security Settings\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ini\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eini\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ini\"\u003e# SSL/TLS configuration\nlisteners.ssl.default = 5671\nssl_options.cacertfile = /etc/rabbitmq/ssl/ca_certificate.pem\nssl_options.certfile = /etc/rabbitmq/ssl/server_certificate.pem\nssl_options.keyfile = /etc/rabbitmq/ssl/server_key.pem\nssl_options.verify = verify_peer\nssl_options.fail_if_no_peer_cert = true\n\n# Management over HTTPS\nmanagement.ssl.port = 15671\nmanagement.ssl.cacertfile = /etc/rabbitmq/ssl/ca_certificate.pem\nmanagement.ssl.certfile = /etc/rabbitmq/ssl/server_certificate.pem\nmanagement.ssl.keyfile = /etc/rabbitmq/ssl/server_key.pem\n\n# Authentication backends\nauth_backends.1 = rabbit_auth_backend_ldap\nauth_backends.2 = rabbit_auth_backend_internal\n\n# LDAP configuration\nauth_ldap.servers.1 = ldap.example.com\nauth_ldap.user_dn_pattern = cn=${username},ou=users,dc=example,dc=com\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"reverse-proxy-setup\" class=\"mobile-header\"\u003eReverse Proxy Setup\u003c/h2\u003e\n\u003ch3 id=\"nginx-configuration\" class=\"mobile-header\"\u003enginx Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"nginx\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003enginx\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-nginx\"\u003e# /etc/nginx/sites-available/rabbitmq\nupstream rabbitmq_management {\n    server 127.0.0.1:15672 max_fails=3 fail_timeout=30s;\n    server 127.0.0.1:15673 max_fails=3 fail_timeout=30s backup;\n}\n\nserver {\n    listen 80;\n    server_name rabbitmq.example.com;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name rabbitmq.example.com;\n\n    ssl_certificate /etc/letsencrypt/live/rabbitmq.example.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/rabbitmq.example.com/privkey.pem;\n\n    location / {\n        proxy_pass http://rabbitmq_management;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        \n        # WebSocket support for management UI\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \u0026quot;upgrade\u0026quot;;\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"haproxy-configuration\" class=\"mobile-header\"\u003eHAProxy Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"haproxy\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ehaproxy\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-haproxy\"\u003e# /etc/haproxy/haproxy.cfg\nfrontend rabbitmq_management_frontend\n    bind *:80\n    bind *:443 ssl crt /etc/ssl/certs/rabbitmq.pem\n    redirect scheme https if !{ ssl_fc }\n    default_backend rabbitmq_management_servers\n\nbackend rabbitmq_management_servers\n    mode http\n    balance roundrobin\n    option httpchk GET /api/aliveness-test/%2F\n    server rabbitmq1 127.0.0.1:15672 check\n    server rabbitmq2 127.0.0.1:15673 check backup\n\nfrontend rabbitmq_amqp_frontend\n    bind *:5672\n    mode tcp\n    default_backend rabbitmq_amqp_servers\n\nbackend rabbitmq_amqp_servers\n    mode tcp\n    balance roundrobin\n    server rabbitmq1 127.0.0.1:5672 check\n    server rabbitmq2 127.0.0.1:5673 check backup\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"security-configuration\" class=\"mobile-header\"\u003eSecurity Configuration\u003c/h2\u003e\n\u003ch3 id=\"ssltls-setup\" class=\"mobile-header\"\u003eSSL/TLS Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Generate SSL certificates for RabbitMQ\nsudo mkdir -p /etc/rabbitmq/ssl\n\n# Create CA certificate\nsudo openssl genrsa -out /etc/rabbitmq/ssl/ca_key.pem 4096\nsudo openssl req -new -x509 -days 3650 -key /etc/rabbitmq/ssl/ca_key.pem -out /etc/rabbitmq/ssl/ca_certificate.pem -subj \u0026quot;/C=US/ST=State/L=City/O=Organization/CN=RabbitMQ-CA\u0026quot;\n\n# Create server certificate\nsudo openssl genrsa -out /etc/rabbitmq/ssl/server_key.pem 4096\nsudo openssl req -new -key /etc/rabbitmq/ssl/server_key.pem -out /etc/rabbitmq/ssl/server_certificate_request.pem -subj \u0026quot;/C=US/ST=State/L=City/O=Organization/CN=rabbitmq.example.com\u0026quot;\nsudo openssl x509 -req -in /etc/rabbitmq/ssl/server_certificate_request.pem -CA /etc/rabbitmq/ssl/ca_certificate.pem -CAkey /etc/rabbitmq/ssl/ca_key.pem -CAcreateserial -out /etc/rabbitmq/ssl/server_certificate.pem -days 365\n\n# Create client certificate\nsudo openssl genrsa -out /etc/rabbitmq/ssl/client_key.pem 4096\nsudo openssl req -new -key /etc/rabbitmq/ssl/client_key.pem -out /etc/rabbitmq/ssl/client_certificate_request.pem -subj \u0026quot;/C=US/ST=State/L=City/O=Organization/CN=rabbitmq-client\u0026quot;\nsudo openssl x509 -req -in /etc/rabbitmq/ssl/client_certificate_request.pem -CA /etc/rabbitmq/ssl/ca_certificate.pem -CAkey /etc/rabbitmq/ssl/ca_key.pem -CAcreateserial -out /etc/rabbitmq/ssl/client_certificate.pem -days 365\n\n# Set permissions\nsudo chown -R rabbitmq:rabbitmq /etc/rabbitmq/ssl\nsudo chmod 600 /etc/rabbitmq/ssl/*_key.pem\nsudo chmod 644 /etc/rabbitmq/ssl/*_certificate.pem /etc/rabbitmq/ssl/ca_certificate.pem\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"user-management-and-access-control\" class=\"mobile-header\"\u003eUser Management and Access Control\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create application user\nsudo rabbitmqctl add_user myapp SecureAppPassword123!\nsudo rabbitmqctl set_permissions -p / myapp \u0026quot;myapp\\..*\u0026quot; \u0026quot;myapp\\..*\u0026quot; \u0026quot;myapp\\..*\u0026quot;\n\n# Create monitoring user\nsudo rabbitmqctl add_user monitoring MonitorPassword123!\nsudo rabbitmqctl set_user_tags monitoring monitoring\nsudo rabbitmqctl set_permissions -p / monitoring \u0026quot;\u0026quot; \u0026quot;\u0026quot; \u0026quot;.*\u0026quot;\n\n# Create backup user\nsudo rabbitmqctl add_user backup BackupPassword123!\nsudo rabbitmqctl set_user_tags backup management\nsudo rabbitmqctl set_permissions -p / backup \u0026quot;\u0026quot; \u0026quot;\u0026quot; \u0026quot;.*\u0026quot;\n\n# Create virtual hosts\nsudo rabbitmqctl add_vhost production\nsudo rabbitmqctl add_vhost staging\n\n# Set permissions for virtual hosts\nsudo rabbitmqctl set_permissions -p production myapp \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot;\nsudo rabbitmqctl set_permissions -p staging myapp \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot; \u0026quot;.*\u0026quot;\n\n# Set resource limits\nsudo rabbitmqctl set_user_limits myapp \u0026#039;{\u0026quot;max-connections\u0026quot;: 100, \u0026quot;max-channels\u0026quot;: 1000}\u0026#039;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"firewall-rules\" class=\"mobile-header\"\u003eFirewall Rules\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# UFW (Ubuntu/Debian)\nsudo ufw allow from 192.168.1.0/24 to any port 5672\nsudo ufw allow from 192.168.1.0/24 to any port 15672\nsudo ufw reload\n\n# firewalld (RHEL/CentOS/openSUSE)\nsudo firewall-cmd --permanent --new-zone=rabbitmq\nsudo firewall-cmd --permanent --zone=rabbitmq --add-source=192.168.1.0/24\nsudo firewall-cmd --permanent --zone=rabbitmq --add-port=5672/tcp\nsudo firewall-cmd --permanent --zone=rabbitmq --add-port=15672/tcp\nsudo firewall-cmd --permanent --zone=rabbitmq --add-port=25672/tcp\nsudo firewall-cmd --reload\n\n# iptables\nsudo iptables -A INPUT -s 192.168.1.0/24 -p tcp --dport 5672 -j ACCEPT\nsudo iptables -A INPUT -s 192.168.1.0/24 -p tcp --dport 15672 -j ACCEPT\nsudo iptables -save \u0026gt; /etc/iptables/rules.v4\n\n# pf (FreeBSD)\n# Add to /etc/pf.conf\npass in on $ext_if proto tcp from 192.168.1.0/24 to any port {5672, 15672, 25672}\n\n# Windows Firewall\nNew-NetFirewallRule -DisplayName \u0026quot;RabbitMQ AMQP\u0026quot; -Direction Inbound -Protocol TCP -LocalPort 5672 -RemoteAddress 192.168.1.0/24 -Action Allow\nNew-NetFirewallRule -DisplayName \u0026quot;RabbitMQ Management\u0026quot; -Direction Inbound -Protocol TCP -LocalPort 15672 -RemoteAddress 192.168.1.0/24 -Action Allow\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"database-setup\" class=\"mobile-header\"\u003eDatabase Setup\u003c/h2\u003e\n\u003ch3 id=\"queue-and-exchange-configuration\" class=\"mobile-header\"\u003eQueue and Exchange Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create exchanges\nrabbitmqctl eval \u0026#039;rabbit_exchange:declare({resource, \u0026lt;\u0026lt;\u0026quot;/\u0026quot;\u0026gt;\u0026gt;, exchange, \u0026lt;\u0026lt;\u0026quot;logs\u0026quot;\u0026gt;\u0026gt;}, topic, true, false, false, []).\u0026#039;\nrabbitmqctl eval \u0026#039;rabbit_exchange:declare({resource, \u0026lt;\u0026lt;\u0026quot;/\u0026quot;\u0026gt;\u0026gt;, exchange, \u0026lt;\u0026lt;\u0026quot;tasks\u0026quot;\u0026gt;\u0026gt;}, direct, true, false, false, []).\u0026#039;\n\n# Create queues\nrabbitmqctl eval \u0026#039;rabbit_amqqueue:declare({resource, \u0026lt;\u0026lt;\u0026quot;/\u0026quot;\u0026gt;\u0026gt;, queue, \u0026lt;\u0026lt;\u0026quot;error_logs\u0026quot;\u0026gt;\u0026gt;}, true, false, [], none, \u0026lt;\u0026lt;\u0026quot;/\u0026quot;\u0026gt;\u0026gt;).\u0026#039;\nrabbitmqctl eval \u0026#039;rabbit_amqqueue:declare({resource, \u0026lt;\u0026lt;\u0026quot;/\u0026quot;\u0026gt;\u0026gt;, queue, \u0026lt;\u0026lt;\u0026quot;task_queue\u0026quot;\u0026gt;\u0026gt;}, true, false, [], none, \u0026lt;\u0026lt;\u0026quot;/\u0026quot;\u0026gt;\u0026gt;).\u0026#039;\n\n# Create bindings\nrabbitmqctl eval \u0026#039;rabbit_binding:add({binding, {resource, \u0026lt;\u0026lt;\u0026quot;/\u0026quot;\u0026gt;\u0026gt;, exchange, \u0026lt;\u0026lt;\u0026quot;logs\u0026quot;\u0026gt;\u0026gt;}, \u0026lt;\u0026lt;\u0026quot;error\u0026quot;\u0026gt;\u0026gt;, {resource, \u0026lt;\u0026lt;\u0026quot;/\u0026quot;\u0026gt;\u0026gt;, queue, \u0026lt;\u0026lt;\u0026quot;error_logs\u0026quot;\u0026gt;\u0026gt;}, []}).\u0026#039;\n\n# Set queue policies for HA\nsudo rabbitmqctl set_policy ha-all \u0026quot;.*\u0026quot; \u0026#039;{\u0026quot;ha-mode\u0026quot;:\u0026quot;all\u0026quot;,\u0026quot;ha-sync-mode\u0026quot;:\u0026quot;automatic\u0026quot;}\u0026#039;\n\n# Set TTL policy\nsudo rabbitmqctl set_policy TTL \u0026quot;.*\u0026quot; \u0026#039;{\u0026quot;message-ttl\u0026quot;:3600000}\u0026#039; --apply-to queues\n\n# Set queue length limit\nsudo rabbitmqctl set_policy max-length \u0026quot;.*\u0026quot; \u0026#039;{\u0026quot;max-length\u0026quot;:10000}\u0026#039; --apply-to queues\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"shovel-configuration-message-transfer\" class=\"mobile-header\"\u003eShovel Configuration (Message Transfer)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install shovel plugin\nsudo rabbitmq-plugins enable rabbitmq_shovel\nsudo rabbitmq-plugins enable rabbitmq_shovel_management\n\n# Create shovel (via management API)\ncurl -u admin:SecureAdminPassword123! -X PUT \\\n  http://localhost:15672/api/parameters/shovel/%2F/my-shovel \\\n  -H \u0026quot;Content-Type: application/json\u0026quot; \\\n  -d \u0026#039;{\n    \u0026quot;value\u0026quot;: {\n      \u0026quot;src-protocol\u0026quot;: \u0026quot;amqp091\u0026quot;,\n      \u0026quot;src-uri\u0026quot;: \u0026quot;amqp://guest:guest@source-server:5672/%2F\u0026quot;,\n      \u0026quot;src-queue\u0026quot;: \u0026quot;source-queue\u0026quot;,\n      \u0026quot;dest-protocol\u0026quot;: \u0026quot;amqp091\u0026quot;,\n      \u0026quot;dest-uri\u0026quot;: \u0026quot;amqp://guest:guest@dest-server:5672/%2F\u0026quot;,\n      \u0026quot;dest-queue\u0026quot;: \u0026quot;dest-queue\u0026quot;\n    }\n  }\u0026#039;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"performance-optimization\" class=\"mobile-header\"\u003ePerformance Optimization\u003c/h2\u003e\n\u003ch3 id=\"system-tuning\" class=\"mobile-header\"\u003eSystem Tuning\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# RabbitMQ-specific system optimizations\nsudo tee -a /etc/sysctl.conf \u0026lt;\u0026lt;EOF\n# RabbitMQ optimizations\nvm.swappiness = 1\nnet.core.somaxconn = 4096\nnet.ipv4.tcp_fin_timeout = 30\nnet.ipv4.tcp_tw_reuse = 1\nfs.file-max = 100000\nEOF\n\nsudo sysctl -p\n\n# Increase file descriptor limits\nsudo tee -a /etc/security/limits.conf \u0026lt;\u0026lt;EOF\nrabbitmq soft nofile 65536\nrabbitmq hard nofile 65536\nEOF\n\n# Set Erlang VM parameters\nsudo tee /etc/rabbitmq/rabbitmq-env.conf \u0026lt;\u0026lt;EOF\nRABBITMQ_SERVER_ERL_ARGS=\u0026quot;+K true +A 128 +P 1048576\u0026quot;\nRABBITMQ_CTL_ERL_ARGS=\u0026quot;+K true\u0026quot;\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"rabbitmq-performance-configuration\" class=\"mobile-header\"\u003eRabbitMQ Performance Configuration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"ini\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003eini\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-ini\"\u003e# High-performance RabbitMQ configuration\n# /etc/rabbitmq/rabbitmq.conf\n\n# Memory and disk\nvm_memory_high_watermark.relative = 0.4\nvm_memory_high_watermark_paging_ratio = 0.3\ndisk_free_limit.absolute = 2GB\n\n# Clustering and replication\ncluster_partition_handling = pause_minority\ncluster_keepalive_interval = 10000\n\n# Connection and channel limits\nconnection_max = 65536\nchannel_max = 2047\n\n# Message store\nmsg_store_file_size_limit = 16777216\nqueue_index_embed_msgs_below = 4096\n\n# Lazy queues (for large queues)\nlazy_queue_explicit_gc_run_operation_threshold = 1000\n\n# Mnesia table loading\nmnesia_table_loading_retry_timeout = 30000\nmnesia_table_loading_retry_limit = 10\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"queue-optimization\" class=\"mobile-header\"\u003eQueue Optimization\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable lazy queues for large message backlogs\nrabbitmqctl set_policy lazy-queue \u0026quot;.*\u0026quot; \u0026#039;{\u0026quot;queue-mode\u0026quot;:\u0026quot;lazy\u0026quot;}\u0026#039; --apply-to queues\n\n# Configure quorum queues for better consistency\nrabbitmqctl set_policy quorum-queue \u0026quot;.*\u0026quot; \u0026#039;{\u0026quot;queue-type\u0026quot;:\u0026quot;quorum\u0026quot;}\u0026#039; --apply-to queues\n\n# Set delivery limits to prevent poison messages\nrabbitmqctl set_policy delivery-limit \u0026quot;.*\u0026quot; \u0026#039;{\u0026quot;delivery-limit\u0026quot;:10}\u0026#039; --apply-to queues\n\n# Configure stream queues for high throughput\nrabbitmqctl set_policy stream-queue \u0026quot;stream.*\u0026quot; \u0026#039;{\u0026quot;queue-type\u0026quot;:\u0026quot;stream\u0026quot;}\u0026#039; --apply-to queues\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"monitoring\" class=\"mobile-header\"\u003eMonitoring\u003c/h2\u003e\n\u003ch3 id=\"built-in-monitoring\" class=\"mobile-header\"\u003eBuilt-in Monitoring\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Node status and statistics\nrabbitmqctl status\nrabbitmqctl node_health_check\nrabbitmqctl environment\n\n# Queue monitoring\nrabbitmqctl list_queues name messages consumers memory\nrabbitmqctl list_exchanges name type\nrabbitmqctl list_bindings\n\n# Connection monitoring\nrabbitmqctl list_connections peer_host peer_port state channels\nrabbitmqctl list_channels connection name consumer_count messages_unacknowledged\n\n# Cluster monitoring\nrabbitmqctl cluster_status\nrabbitmqctl list_cluster_nodes\n\n# Memory and disk usage\nrabbitmqctl eval \u0026#039;rabbit_vm:memory().\u0026#039;\nrabbitmqctl eval \u0026#039;rabbit_disk_monitor:get_disk_free().\u0026#039;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"external-monitoring-setup\" class=\"mobile-header\"\u003eExternal Monitoring Setup\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install RabbitMQ Exporter for Prometheus\nwget https://github.com/kbudde/rabbitmq_exporter/releases/download/v1.0.0/rabbitmq_exporter-1.0.0.linux-amd64.tar.gz\ntar xzf rabbitmq_exporter-*.tar.gz\nsudo cp rabbitmq_exporter /usr/local/bin/\n\n# Create monitoring user in RabbitMQ\nsudo rabbitmqctl add_user prometheus PrometheusPassword123!\nsudo rabbitmqctl set_user_tags prometheus monitoring\n\n# Create systemd service\nsudo tee /etc/systemd/system/rabbitmq_exporter.service \u0026lt;\u0026lt;EOF\n[Unit]\nDescription=RabbitMQ Exporter\nAfter=network.target\n\n[Service]\nType=simple\nUser=rabbitmq\nEnvironment=RABBIT_URL=\u0026quot;http://prometheus:PrometheusPassword123!@localhost:15672\u0026quot;\nExecStart=/usr/local/bin/rabbitmq_exporter\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsudo systemctl enable --now rabbitmq_exporter\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"health-check-scripts\" class=\"mobile-header\"\u003eHealth Check Scripts\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# rabbitmq-health-check.sh\n\n# Check RabbitMQ service\nif ! systemctl is-active rabbitmq-server \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    echo \u0026quot;CRITICAL: RabbitMQ service is not running\u0026quot;\n    exit 2\nfi\n\n# Check node health\nif ! rabbitmqctl node_health_check \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n    echo \u0026quot;CRITICAL: RabbitMQ node health check failed\u0026quot;\n    exit 2\nfi\n\n# Check cluster status\nCLUSTER_STATUS=$(rabbitmqctl cluster_status --formatter json 2\u0026gt;/dev/null | jq -r \u0026#039;.running_nodes | length\u0026#039;)\nif [ \u0026quot;$CLUSTER_STATUS\u0026quot; -lt 2 ]; then\n    echo \u0026quot;WARNING: Less than 2 nodes running in cluster\u0026quot;\n    exit 1\nfi\n\n# Check memory usage\nMEMORY_ALARM=$(rabbitmqctl status --formatter json 2\u0026gt;/dev/null | jq -r \u0026#039;.alarms | length\u0026#039;)\nif [ \u0026quot;$MEMORY_ALARM\u0026quot; -gt 0 ]; then\n    echo \u0026quot;WARNING: Memory alarms detected\u0026quot;\n    exit 1\nfi\n\n# Check disk space\nDISK_ALARM=$(rabbitmqctl status --formatter json 2\u0026gt;/dev/null | jq -r \u0026#039;.disk_free_alarm\u0026#039;)\nif [ \u0026quot;$DISK_ALARM\u0026quot; = \u0026quot;true\u0026quot; ]; then\n    echo \u0026quot;WARNING: Disk space alarm active\u0026quot;\n    exit 1\nfi\n\n# Check queue lengths\nMAX_QUEUE_LENGTH=$(rabbitmqctl list_queues messages --formatter json 2\u0026gt;/dev/null | jq -r \u0026#039;max_by(.messages).messages\u0026#039;)\nif [ \u0026quot;$MAX_QUEUE_LENGTH\u0026quot; -gt 100000 ]; then\n    echo \u0026quot;WARNING: Queue length exceeds 100,000 messages\u0026quot;\n    exit 1\nfi\n\necho \u0026quot;OK: RabbitMQ is healthy\u0026quot;\nexit 0\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"backup-and-restore\" class=\"mobile-header\"\u003eBackup and Restore\u003c/h2\u003e\n\u003ch3 id=\"backup-procedures\" class=\"mobile-header\"\u003eBackup Procedures\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# rabbitmq-backup.sh\n\nBACKUP_DIR=\u0026quot;/backup/rabbitmq/$(date +%Y%m%d_%H%M%S)\u0026quot;\nmkdir -p \u0026quot;$BACKUP_DIR\u0026quot;\n\n# Export definitions (exchanges, queues, users, policies)\ncurl -u admin:SecureAdminPassword123! \\\n    http://localhost:15672/api/definitions \\\n    -o \u0026quot;$BACKUP_DIR/definitions.json\u0026quot;\n\n# Export queue messages (if needed for small queues)\nrabbitmqctl eval \u0026quot;\n    application:load(rabbitmq_management_agent),\n    rabbitmq_management_db:get_all_queues(all_vhosts).\n\u0026quot; \u0026gt; \u0026quot;$BACKUP_DIR/queue_stats.txt\u0026quot;\n\n# Backup configuration files\ntar czf \u0026quot;$BACKUP_DIR/rabbitmq-config.tar.gz\u0026quot; \\\n    /etc/rabbitmq/ \\\n    --exclude=\u0026#039;*.log\u0026#039; \\\n    --exclude=\u0026#039;*.pid\u0026#039;\n\n# Backup SSL certificates\nif [ -d /etc/rabbitmq/ssl ]; then\n    tar czf \u0026quot;$BACKUP_DIR/rabbitmq-ssl.tar.gz\u0026quot; /etc/rabbitmq/ssl/\nfi\n\n# Save cluster information\nrabbitmqctl cluster_status \u0026gt; \u0026quot;$BACKUP_DIR/cluster_status.txt\u0026quot;\nrabbitmqctl status \u0026gt; \u0026quot;$BACKUP_DIR/node_status.txt\u0026quot;\n\n# Create manifest\necho \u0026quot;RabbitMQ Backup - $(date)\u0026quot; \u0026gt; \u0026quot;$BACKUP_DIR/backup_manifest.txt\u0026quot;\necho \u0026quot;Node: $(hostname)\u0026quot; \u0026gt;\u0026gt; \u0026quot;$BACKUP_DIR/backup_manifest.txt\u0026quot;\necho \u0026quot;Version: $(rabbitmqctl version)\u0026quot; \u0026gt;\u0026gt; \u0026quot;$BACKUP_DIR/backup_manifest.txt\u0026quot;\n\necho \u0026quot;Backup completed: $BACKUP_DIR\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"restore-procedures\" class=\"mobile-header\"\u003eRestore Procedures\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# rabbitmq-restore.sh\n\nBACKUP_DIR=\u0026quot;$1\u0026quot;\nif [ -z \u0026quot;$BACKUP_DIR\u0026quot; ]; then\n    echo \u0026quot;Usage: $0 \u0026lt;backup-directory\u0026gt;\u0026quot;\n    exit 1\nfi\n\n# Stop RabbitMQ (ensure clean state)\nsudo systemctl stop rabbitmq-server\n\n# Restore configuration\nsudo tar xzf \u0026quot;$BACKUP_DIR/rabbitmq-config.tar.gz\u0026quot; -C /\n\n# Restore SSL certificates\nif [ -f \u0026quot;$BACKUP_DIR/rabbitmq-ssl.tar.gz\u0026quot; ]; then\n    sudo tar xzf \u0026quot;$BACKUP_DIR/rabbitmq-ssl.tar.gz\u0026quot; -C /\nfi\n\n# Start RabbitMQ\nsudo systemctl start rabbitmq-server\n\n# Wait for RabbitMQ to start\nsleep 10\n\n# Import definitions\ncurl -u admin:SecureAdminPassword123! \\\n    -X POST \\\n    -H \u0026quot;Content-Type: application/json\u0026quot; \\\n    -d @\u0026quot;$BACKUP_DIR/definitions.json\u0026quot; \\\n    http://localhost:15672/api/definitions\n\n# Verify restore\nrabbitmqctl list_queues\nrabbitmqctl list_users\n\necho \u0026quot;Restore completed from $BACKUP_DIR\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"message-level-backup-advanced\" class=\"mobile-header\"\u003eMessage-Level Backup (Advanced)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e#!/bin/bash\n# rabbitmq-message-backup.sh\n\nBACKUP_DIR=\u0026quot;/backup/rabbitmq-messages/$(date +%Y%m%d_%H%M%S)\u0026quot;\nmkdir -p \u0026quot;$BACKUP_DIR\u0026quot;\n\n# Install shovel plugin for message transfer\nrabbitmq-plugins enable rabbitmq_shovel\nrabbitmq-plugins enable rabbitmq_shovel_management\n\n# Backup messages from all queues\nrabbitmqctl list_queues name --formatter json | jq -r \u0026#039;.[].name\u0026#039; | while read -r queue; do\n    if [ \u0026quot;$queue\u0026quot; != \u0026quot;null\u0026quot; ]; then\n        # Create shovel to backup queue\n        curl -u admin:SecureAdminPassword123! -X PUT \\\n            \u0026quot;http://localhost:15672/api/parameters/shovel/%2F/backup-$queue\u0026quot; \\\n            -H \u0026quot;Content-Type: application/json\u0026quot; \\\n            -d \u0026quot;{\n                \\\u0026quot;value\\\u0026quot;: {\n                    \\\u0026quot;src-protocol\\\u0026quot;: \\\u0026quot;amqp091\\\u0026quot;,\n                    \\\u0026quot;src-uri\\\u0026quot;: \\\u0026quot;amqp://admin:SecureAdminPassword123!@localhost:5672/%2F\\\u0026quot;,\n                    \\\u0026quot;src-queue\\\u0026quot;: \\\u0026quot;$queue\\\u0026quot;,\n                    \\\u0026quot;dest-protocol\\\u0026quot;: \\\u0026quot;amqp091\\\u0026quot;,\n                    \\\u0026quot;dest-uri\\\u0026quot;: \\\u0026quot;amqp://backup:BackupPassword123!@backup-server:5672/%2F\\\u0026quot;,\n                    \\\u0026quot;dest-queue\\\u0026quot;: \\\u0026quot;backup-$queue\\\u0026quot;\n                }\n            }\u0026quot;\n    fi\ndone\n\necho \u0026quot;Message backup shovels created for all queues\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"troubleshooting\" class=\"mobile-header\"\u003eTroubleshooting\u003c/h2\u003e\n\u003ch3 id=\"common-issues\" class=\"mobile-header\"\u003eCommon Issues\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e1. \u003cstrong\u003eRabbitMQ won't start\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check logs\nsudo journalctl -u rabbitmq-server -f\nsudo tail -f /var/log/rabbitmq/rabbit@$(hostname).log\n\n# Check Erlang installation\nerl -version\n\n# Check disk space\ndf -h /var/lib/rabbitmq\n\n# Check permissions\nls -la /var/lib/rabbitmq\nls -la /var/log/rabbitmq\n\n# Reset node (last resort)\nsudo rabbitmqctl stop_app\nsudo rabbitmqctl reset\nsudo rabbitmqctl start_app\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e2. \u003cstrong\u003eCluster issues\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check cluster status\nrabbitmqctl cluster_status\n\n# Check network connectivity between nodes\ntelnet rabbitmq-node-2 25672\n\n# Check Erlang cookie consistency\nsudo cat /var/lib/rabbitmq/.erlang.cookie\n\n# Force cluster join\nsudo rabbitmqctl stop_app\nsudo rabbitmqctl join_cluster rabbit@rabbitmq-node-1\nsudo rabbitmqctl start_app\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e3. \u003cstrong\u003eMemory/disk alarms\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check alarms\nrabbitmqctl status | grep alarms\n\n# Check memory usage\nrabbitmqctl eval \u0026#039;rabbit_vm:memory().\u0026#039;\n\n# Check disk usage\ndf -h /var/lib/rabbitmq\n\n# Clear memory alarm (after fixing issue)\nrabbitmqctl eval \u0026#039;vm_memory_monitor:set_vm_memory_high_watermark(0.4).\u0026#039;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e4. \u003cstrong\u003eConnection issues\u003c/strong\u003e:\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Check if RabbitMQ is listening\nsudo ss -tlnp | grep :5672\n\n# Test AMQP connection\nrabbitmqctl eval \u0026#039;rabbit_networking:tcp_listener_started(5672).\u0026#039;\n\n# Check user permissions\nrabbitmqctl list_user_permissions admin\n\n# Test with management API\ncurl -u admin:SecureAdminPassword123! http://localhost:15672/api/overview\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"debug-mode\" class=\"mobile-header\"\u003eDebug Mode\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable debug logging\necho \u0026#039;log.file.level = debug\u0026#039; \u0026gt;\u0026gt; /etc/rabbitmq/rabbitmq.conf\n\n# Enable connection logging\necho \u0026#039;log.connection.level = debug\u0026#039; \u0026gt;\u0026gt; /etc/rabbitmq/rabbitmq.conf\n\n# Enable channel logging  \necho \u0026#039;log.channel.level = debug\u0026#039; \u0026gt;\u0026gt; /etc/rabbitmq/rabbitmq.conf\n\n# Restart to apply\nsudo systemctl restart rabbitmq-server\n\n# View debug logs\nsudo tail -f /var/log/rabbitmq/rabbit@$(hostname).log\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"maintenance\" class=\"mobile-header\"\u003eMaintenance\u003c/h2\u003e\n\u003ch3 id=\"update-procedures\" class=\"mobile-header\"\u003eUpdate Procedures\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# RHEL/CentOS/Rocky/AlmaLinux\nsudo yum check-update rabbitmq-server\nsudo yum update rabbitmq-server\n\n# Debian/Ubuntu\nsudo apt update\nsudo apt upgrade rabbitmq-server\n\n# Arch Linux\nsudo pacman -Syu rabbitmq\n\n# Alpine Linux\napk update\napk upgrade rabbitmq-server\n\n# openSUSE\nsudo zypper update rabbitmq-server\n\n# FreeBSD\npkg update\npkg upgrade rabbitmq\n\n# Always backup before updates\n./rabbitmq-backup.sh\n\n# Test after updates\nrabbitmqctl status\nsudo systemctl restart rabbitmq-server\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"maintenance-tasks\" class=\"mobile-header\"\u003eMaintenance Tasks\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Weekly maintenance script\n#!/bin/bash\n# rabbitmq-maintenance.sh\n\n# Rotate logs\nrabbitmqctl rotate_logs\n\n# Check node health\nrabbitmqctl node_health_check\n\n# Clean up old definitions backup\nfind /backup/rabbitmq -name \u0026quot;*.json\u0026quot; -mtime +30 -delete\n\n# Optimize memory usage\nrabbitmqctl eval \u0026#039;erlang:garbage_collect().\u0026#039;\n\n# Check and clean old message store files\nrabbitmqctl eval \u0026#039;rabbit_msg_store_gc:gc().\u0026#039;\n\n# Check queue statistics\nrabbitmqctl list_queues name messages consumers memory | \\\n    awk \u0026#039;$2 \u0026gt; 1000 {print \u0026quot;Queue \u0026quot; $1 \u0026quot; has \u0026quot; $2 \u0026quot; messages\u0026quot;}\u0026#039;\n\necho \u0026quot;RabbitMQ maintenance completed\u0026quot;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"health-monitoring\" class=\"mobile-header\"\u003eHealth Monitoring\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create monitoring cron job\necho \u0026quot;*/5 * * * * /usr/local/bin/rabbitmq-health-check.sh\u0026quot; | sudo crontab -\n\n# Log rotation\nsudo tee /etc/logrotate.d/rabbitmq \u0026lt;\u0026lt;EOF\n/var/log/rabbitmq/*.log {\n    daily\n    rotate 30\n    compress\n    delaycompress\n    missingok\n    notifempty\n    sharedscripts\n    postrotate\n        rabbitmqctl rotate_logs\n    endscript\n}\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"integration-examples\" class=\"mobile-header\"\u003eIntegration Examples\u003c/h2\u003e\n\u003ch3 id=\"python-pika-integration\" class=\"mobile-header\"\u003ePython (pika) Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"python\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003epython\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-python\"\u003eimport pika\nimport ssl\n\n# Basic connection\nconnection = pika.BlockingConnection(\n    pika.ConnectionParameters(host=\u0026#039;localhost\u0026#039;, port=5672,\n                            credentials=pika.PlainCredentials(\u0026#039;myapp\u0026#039;, \u0026#039;SecureAppPassword123!\u0026#039;))\n)\nchannel = connection.channel()\n\n# SSL connection\nssl_context = ssl.create_default_context(cafile=\u0026#039;/etc/rabbitmq/ssl/ca_certificate.pem\u0026#039;)\nssl_context.check_hostname = False\n\nssl_connection = pika.BlockingConnection(\n    pika.ConnectionParameters(\n        host=\u0026#039;localhost\u0026#039;,\n        port=5671,\n        credentials=pika.PlainCredentials(\u0026#039;myapp\u0026#039;, \u0026#039;SecureAppPassword123!\u0026#039;),\n        ssl_options=pika.SSLOptions(ssl_context)\n    )\n)\n\n# Declare queue and exchange\nchannel.exchange_declare(exchange=\u0026#039;task_exchange\u0026#039;, exchange_type=\u0026#039;direct\u0026#039;)\nchannel.queue_declare(queue=\u0026#039;task_queue\u0026#039;, durable=True)\nchannel.queue_bind(exchange=\u0026#039;task_exchange\u0026#039;, queue=\u0026#039;task_queue\u0026#039;, routing_key=\u0026#039;task\u0026#039;)\n\n# Publish message\nchannel.basic_publish(\n    exchange=\u0026#039;task_exchange\u0026#039;,\n    routing_key=\u0026#039;task\u0026#039;,\n    body=\u0026#039;Hello, RabbitMQ!\u0026#039;,\n    properties=pika.BasicProperties(delivery_mode=2)  # Make message persistent\n)\n\n# Consume messages\ndef callback(ch, method, properties, body):\n    print(f\u0026quot;Received: {body}\u0026quot;)\n    ch.basic_ack(delivery_tag=method.delivery_tag)\n\nchannel.basic_qos(prefetch_count=1)\nchannel.basic_consume(queue=\u0026#039;task_queue\u0026#039;, on_message_callback=callback)\nchannel.start_consuming()\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"nodejs-amqplib-integration\" class=\"mobile-header\"\u003eNode.js (amqplib) Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"javascript\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ejavascript\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-javascript\"\u003econst amqp = require(\u0026#039;amqplib\u0026#039;);\nconst fs = require(\u0026#039;fs\u0026#039;);\n\n// Basic connection\nasync function connectBasic() {\n    const connection = await amqp.connect(\u0026#039;amqp://myapp:SecureAppPassword123!@localhost:5672\u0026#039;);\n    return connection;\n}\n\n// SSL connection\nasync function connectSSL() {\n    const connection = await amqp.connect({\n        protocol: \u0026#039;amqps\u0026#039;,\n        hostname: \u0026#039;localhost\u0026#039;,\n        port: 5671,\n        username: \u0026#039;myapp\u0026#039;,\n        password: \u0026#039;SecureAppPassword123!\u0026#039;,\n        ca: [fs.readFileSync(\u0026#039;/etc/rabbitmq/ssl/ca_certificate.pem\u0026#039;)],\n        cert: fs.readFileSync(\u0026#039;/etc/rabbitmq/ssl/client_certificate.pem\u0026#039;),\n        key: fs.readFileSync(\u0026#039;/etc/rabbitmq/ssl/client_key.pem\u0026#039;)\n    });\n    return connection;\n}\n\n// Publisher\nasync function publishMessage() {\n    const connection = await connectBasic();\n    const channel = await connection.createChannel();\n    \n    const exchange = \u0026#039;task_exchange\u0026#039;;\n    const routingKey = \u0026#039;task\u0026#039;;\n    const message = \u0026#039;Hello from Node.js!\u0026#039;;\n    \n    await channel.assertExchange(exchange, \u0026#039;direct\u0026#039;, { durable: true });\n    await channel.publish(exchange, routingKey, Buffer.from(message), { persistent: true });\n    \n    console.log(\u0026#039;Message sent\u0026#039;);\n    await channel.close();\n    await connection.close();\n}\n\n// Consumer\nasync function consumeMessages() {\n    const connection = await connectBasic();\n    const channel = await connection.createChannel();\n    \n    const queue = \u0026#039;task_queue\u0026#039;;\n    \n    await channel.assertQueue(queue, { durable: true });\n    await channel.prefetch(1);\n    \n    console.log(\u0026#039;Waiting for messages...\u0026#039;);\n    \n    channel.consume(queue, async (message) =\u0026gt; {\n        if (message) {\n            console.log(\u0026#039;Received:\u0026#039;, message.content.toString());\n            // Process message\n            channel.ack(message);\n        }\n    });\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"java-spring-amqp-integration\" class=\"mobile-header\"\u003eJava (Spring AMQP) Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"java\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ejava\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-java\"\u003e// Configuration\n@Configuration\n@EnableRabbit\npublic class RabbitConfig {\n    \n    @Bean\n    public ConnectionFactory connectionFactory() {\n        CachingConnectionFactory factory = new CachingConnectionFactory(\u0026quot;localhost\u0026quot;);\n        factory.setPort(5672);\n        factory.setUsername(\u0026quot;myapp\u0026quot;);\n        factory.setPassword(\u0026quot;SecureAppPassword123!\u0026quot;);\n        factory.setVirtualHost(\u0026quot;/\u0026quot;);\n        return factory;\n    }\n    \n    @Bean\n    public RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory) {\n        RabbitTemplate template = new RabbitTemplate(connectionFactory);\n        template.setMandatory(true);\n        return template;\n    }\n    \n    @Bean\n    public DirectExchange taskExchange() {\n        return new DirectExchange(\u0026quot;task_exchange\u0026quot;, true, false);\n    }\n    \n    @Bean\n    public Queue taskQueue() {\n        return QueueBuilder.durable(\u0026quot;task_queue\u0026quot;).build();\n    }\n    \n    @Bean\n    public Binding taskBinding() {\n        return BindingBuilder.bind(taskQueue()).to(taskExchange()).with(\u0026quot;task\u0026quot;);\n    }\n}\n\n// Producer\n@Service\npublic class MessageProducer {\n    \n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n    \n    public void sendMessage(String message) {\n        rabbitTemplate.convertAndSend(\u0026quot;task_exchange\u0026quot;, \u0026quot;task\u0026quot;, message);\n    }\n}\n\n// Consumer\n@Service\npublic class MessageConsumer {\n    \n    @RabbitListener(queues = \u0026quot;task_queue\u0026quot;)\n    public void receiveMessage(String message) {\n        System.out.println(\u0026quot;Received: \u0026quot; + message);\n        // Process message\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"go-amqp091-go-integration\" class=\"mobile-header\"\u003eGo (amqp091-go) Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"go\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ego\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-go\"\u003epackage main\n\nimport (\n    \u0026quot;log\u0026quot;\n    \u0026quot;github.com/rabbitmq/amqp091-go\u0026quot;\n)\n\nfunc connectRabbitMQ() (*amqp091.Connection, error) {\n    return amqp091.Dial(\u0026quot;amqp://myapp:SecureAppPassword123!@localhost:5672/\u0026quot;)\n}\n\nfunc publishMessage(message string) error {\n    conn, err := connectRabbitMQ()\n    if err != nil {\n        return err\n    }\n    defer conn.Close()\n\n    ch, err := conn.Channel()\n    if err != nil {\n        return err\n    }\n    defer ch.Close()\n\n    // Declare exchange\n    err = ch.ExchangeDeclare(\n        \u0026quot;task_exchange\u0026quot;,\n        \u0026quot;direct\u0026quot;,\n        true,  // durable\n        false, // auto-deleted\n        false, // internal\n        false, // no-wait\n        nil,   // arguments\n    )\n    if err != nil {\n        return err\n    }\n\n    // Declare queue\n    _, err = ch.QueueDeclare(\n        \u0026quot;task_queue\u0026quot;,\n        true,  // durable\n        false, // delete when unused\n        false, // exclusive\n        false, // no-wait\n        nil,   // arguments\n    )\n    if err != nil {\n        return err\n    }\n\n    // Publish message\n    return ch.Publish(\n        \u0026quot;task_exchange\u0026quot;,\n        \u0026quot;task\u0026quot;,\n        false, // mandatory\n        false, // immediate\n        amqp091.Publishing{\n            ContentType:  \u0026quot;text/plain\u0026quot;,\n            Body:         []byte(message),\n            DeliveryMode: amqp091.Persistent,\n        },\n    )\n}\n\nfunc consumeMessages() error {\n    conn, err := connectRabbitMQ()\n    if err != nil {\n        return err\n    }\n    defer conn.Close()\n\n    ch, err := conn.Channel()\n    if err != nil {\n        return err\n    }\n    defer ch.Close()\n\n    msgs, err := ch.Consume(\n        \u0026quot;task_queue\u0026quot;,\n        \u0026quot;\u0026quot;,    // consumer\n        false, // auto-ack\n        false, // exclusive\n        false, // no-local\n        false, // no-wait\n        nil,   // args\n    )\n    if err != nil {\n        return err\n    }\n\n    forever := make(chan bool)\n\n    go func() {\n        for d := range msgs {\n            log.Printf(\u0026quot;Received: %s\u0026quot;, d.Body)\n            // Process message\n            d.Ack(false)\n        }\n    }()\n\n    log.Printf(\u0026quot;Waiting for messages...\u0026quot;)\n    \u0026lt;-forever\n    return nil\n}\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"additional-resources\" class=\"mobile-header\"\u003eAdditional Resources\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.rabbitmq.com/documentation.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eOfficial RabbitMQ Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.rabbitmq.com/getstarted.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eRabbitMQ Tutorials\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.rabbitmq.com/management.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eRabbitMQ Management Plugin\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.rabbitmq.com/clustering.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eRabbitMQ Clustering Guide\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.rabbitmq.com/ha.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eRabbitMQ High Availability\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.rabbitmq.com/amqp-0-9-1-reference.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eAMQP 0-9-1 Protocol Reference\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://www.rabbitmq.com/community.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eRabbitMQ Community\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://github.com/rabbitmq/rabbitmq-server\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eRabbitMQ GitHub Repository\u003c/a\u003e\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e---\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This guide is part of the \u003ca href=\"https://howtomgr.github.io\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eHowToMgr\u003c/a\u003e collection. Always refer to official documentation for the most up-to-date information.\u003c/p\u003e","readTime":"21 min","wordCount":4178,"lastBuilt":"2025-09-15T18:14:27.675Z"},"category":{"key":"infrastructure","name":"Infrastructure","description":"DevOps and infrastructure automation tools","icon":"🏗️","color":"#44475a","keywords":["ansible","terraform","gitlab","jenkins","consul","etcd"]},"relatedGuides":[{"name":"adguard-home","displayName":"Adguard Home","slug":"adguard-home","description":"Repo for adguard-home","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/adguard-home","updatedAt":"2025-09-08T03:04:18Z","createdAt":"2025-09-08T03:04:08Z","readmeRaw":"## 👋 Welcome to adguard-home 🚀  \n\nadguard-home README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-adguard-home\" class=\"mobile-header\"\u003e👋 Welcome to adguard-home 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eadguard-home README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-15T18:14:58.581Z"},{"name":"adminer","displayName":"Adminer","slug":"adminer","description":"Repo for adminer","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/adminer","updatedAt":"2025-09-08T03:04:32Z","createdAt":"2025-09-08T03:04:22Z","readmeRaw":"## 👋 Welcome to adminer 🚀  \n\nadminer README  \n  \n  \n## Author  \n\n🤖 casjay: [Github](https://github.com/casjay) 🤖  \n","readmeHtml":"\u003ch2 id=\"welcome-to-adminer\" class=\"mobile-header\"\u003e👋 Welcome to adminer 🚀  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003eadminer README  \u003c/p\u003e\n\u003ch2 id=\"author\" class=\"mobile-header\"\u003eAuthor  \u003c/h2\u003e\n\u003cp class=\"mobile-paragraph\"\u003e🤖 casjay: \u003ca href=\"https://github.com/casjay\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eGithub\u003c/a\u003e 🤖  \u003c/p\u003e","readTime":"1 min","wordCount":15,"lastBuilt":"2025-09-15T18:14:58.168Z"},{"name":"ansible","displayName":"Ansible","slug":"ansible","description":"Repo for ansible","category":"infrastructure","language":null,"stars":0,"forks":0,"topics":[],"githubUrl":"https://github.com/howtomgr/ansible","updatedAt":"2025-09-14T01:29:39Z","createdAt":"2025-09-08T03:04:35Z","readmeRaw":"# Ansible Installation Guide\n\nAgentless automation platform for configuration management, application deployment, and task automation across multiple systems. Industry standard for infrastructure automation with enterprise-grade security.\n\n## Prerequisites\n\n- Linux control machine (any modern distribution)\n- Python 3.8+ on control machine\n- SSH access to target hosts\n- Python 2.7+ or 3.5+ on target hosts\n- 2GB RAM minimum, 4GB+ recommended for large infrastructures\n\n## Installation\n\n### Using Package Manager (Recommended)\n\n#### Ubuntu/Debian\n```bash\n# Update package list\nsudo apt update\n\n# Install Ansible and dependencies\nsudo apt install -y ansible python3-pip python3-venv sshpass\n\n# Install additional collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\nansible-galaxy collection install amazon.aws\nansible-galaxy collection install azure.azcollection\nansible-galaxy collection install google.cloud\n\n# Verify installation\nansible --version\nansible-galaxy collection list\n```\n\n#### RHEL/CentOS/Rocky Linux/AlmaLinux\n```bash\n# Install EPEL repository\nsudo yum install -y epel-release\n\n# Install Ansible\nsudo yum install -y ansible python3-pip\n\n# For newer distributions\nsudo dnf install -y ansible python3-pip\n\n# Install collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\n\n# Verify installation\nansible --version\n```\n\n#### Fedora\n```bash\n# Install Ansible\nsudo dnf install -y ansible python3-pip python3-virtualenv\n\n# Install additional collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\n\n# Verify installation\nansible --version\n```\n\n#### Arch Linux\n```bash\n# Install Ansible\nsudo pacman -Syu ansible python-pip\n\n# Install collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\n\n# Verify installation\nansible --version\n```\n\n#### Alpine Linux\n```bash\n# Install Ansible\nsudo apk update\nsudo apk add ansible python3 py3-pip openssh\n\n# Install collections\nansible-galaxy collection install community.general\n\n# Verify installation\nansible --version\n```\n\n### Using pip (Latest Version)\n```bash\n# Create virtual environment (recommended)\npython3 -m venv ~/ansible-venv\nsource ~/ansible-venv/bin/activate\n\n# Install Ansible via pip\npip install --upgrade pip\npip install ansible ansible-core\n\n# Install additional packages\npip install paramiko jinja2 PyYAML cryptography\n\n# Install cloud provider SDKs\npip install boto3 botocore azure-cli google-cloud-storage\n\n# Install collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\nansible-galaxy collection install amazon.aws\nansible-galaxy collection install azure.azcollection\nansible-galaxy collection install google.cloud\n\n# Add to PATH permanently\necho 'source ~/ansible-venv/bin/activate' \u003e\u003e ~/.bashrc\n\n# Verify installation\nansible --version\n```\n\n### Using Docker\n```bash\n# Create Ansible Docker container with mounted volumes\ndocker run --rm -it \\\n  -v $(pwd):/ansible \\\n  -v ~/.ssh:/root/.ssh:ro \\\n  -v ~/.aws:/root/.aws:ro \\\n  -v ~/.azure:/root/.azure:ro \\\n  --workdir /ansible \\\n  ansible/ansible:latest\n\n# Create wrapper script for ease of use\nsudo tee /usr/local/bin/ansible-docker \u003e /dev/null \u003c\u003c'EOF'\n#!/bin/bash\ndocker run --rm -it \\\n  -v $(pwd):/ansible \\\n  -v ~/.ssh:/root/.ssh:ro \\\n  -v ~/.aws:/root/.aws:ro \\\n  -v ~/.azure:/root/.azure:ro \\\n  -v ~/.kube:/root/.kube:ro \\\n  --workdir /ansible \\\n  --network host \\\n  ansible/ansible:latest \"$@\"\nEOF\nsudo chmod +x /usr/local/bin/ansible-docker\n\n# Create aliases\necho 'alias ansible=\"ansible-docker ansible\"' \u003e\u003e ~/.bashrc\necho 'alias ansible-playbook=\"ansible-docker ansible-playbook\"' \u003e\u003e ~/.bashrc\n```\n\n## Project Structure and Configuration\n\n### Professional Project Structure\n```bash\n# Create comprehensive Ansible project structure\nmkdir -p ~/ansible-infrastructure/{\n  inventories/{production,staging,development},\n  playbooks,\n  roles,\n  group_vars,\n  host_vars,\n  library,\n  filter_plugins,\n  callback_plugins,\n  vault,\n  collections,\n  logs\n}\n\ncd ~/ansible-infrastructure\n\n# Create ansible.cfg with security best practices\ncat \u003e ansible.cfg \u003c\u003cEOF\n[defaults]\ninventory = inventories/production/hosts.yml\nremote_user = ansible\nprivate_key_file = ~/.ssh/ansible_key\nhost_key_checking = True\ntimeout = 30\nretry_files_enabled = False\nstdout_callback = yaml\nbin_ansible_callbacks = True\ngathering = smart\nfact_caching = jsonfile\nfact_caching_connection = ~/.ansible/facts_cache\nfact_caching_timeout = 86400\ninterpreter_python = auto_silent\nvault_password_file = ~/.ansible_vault_pass\n\n# Logging\nlog_path = logs/ansible.log\ndisplay_skipped_hosts = False\ndisplay_ok_hosts = False\n\n# Performance\nforks = 20\npoll_interval = 15\ninternal_poll_interval = 0.001\n\n# Security\ncommand_warnings = True\ndeprecation_warnings = True\naction_warnings = True\nlocalhost_warning = True\n\n[ssh_connection]\nssh_args = -o ControlMaster=auto -o ControlPersist=3600s -o PreferredAuthentications=publickey\npipelining = True\ncontrol_path = ~/.ansible/cp/%%h-%%p-%%r\nretries = 3\n\n[privilege_escalation]\nbecome = False\nbecome_method = sudo\nbecome_user = root\nbecome_ask_pass = False\n\n[inventory]\nenable_plugins = host_list, script, auto, yaml, ini, toml\ncache = True\ncache_plugin = jsonfile\ncache_timeout = 3600\ncache_connection = ~/.ansible/inventory_cache\n\n[galaxy]\nserver_list = automation_hub, galaxy\nEOF\n```\n\n### Advanced Inventory Management\n```bash\n# Create production inventory with groups and variables\ncat \u003e inventories/production/hosts.yml \u003c\u003cEOF\nall:\n  children:\n    webservers:\n      hosts:\n        web-prod-01:\n          ansible_host: 10.0.1.10\n          ansible_user: ansible\n          server_role: frontend\n          backup_enabled: true\n        web-prod-02:\n          ansible_host: 10.0.1.11\n          ansible_user: ansible\n          server_role: frontend\n          backup_enabled: true\n        web-prod-03:\n          ansible_host: 10.0.1.12\n          ansible_user: ansible\n          server_role: frontend\n          backup_enabled: true\n      vars:\n        http_port: 80\n        https_port: 443\n        max_clients: 200\n        environment: production\n        monitoring_enabled: true\n\n    dbservers:\n      hosts:\n        db-prod-01:\n          ansible_host: 10.0.2.10\n          ansible_user: ansible\n          mysql_server_id: 1\n          mysql_role: master\n        db-prod-02:\n          ansible_host: 10.0.2.11\n          ansible_user: ansible\n          mysql_server_id: 2\n          mysql_role: slave\n      vars:\n        mysql_port: 3306\n        mysql_root_password: \"{{ vault_mysql_root_password }}\"\n        mysql_replication_user: \"{{ vault_mysql_replication_user }}\"\n        mysql_replication_password: \"{{ vault_mysql_replication_password }}\"\n\n    loadbalancers:\n      hosts:\n        lb-prod-01:\n          ansible_host: 10.0.3.10\n          ansible_user: ansible\n          lb_algorithm: roundrobin\n        lb-prod-02:\n          ansible_host: 10.0.3.11\n          ansible_user: ansible\n          lb_algorithm: roundrobin\n      vars:\n        haproxy_stats_enabled: true\n        haproxy_stats_user: admin\n        haproxy_stats_password: \"{{ vault_haproxy_stats_password }}\"\n\n    monitoring:\n      hosts:\n        monitor-prod-01:\n          ansible_host: 10.0.4.10\n          ansible_user: ansible\n          prometheus_retention: 30d\n          grafana_admin_password: \"{{ vault_grafana_admin_password }}\"\n\n    bastion:\n      hosts:\n        bastion-prod-01:\n          ansible_host: bastion.example.com\n          ansible_user: ansible\n          ansible_port: 22\n\n# Global variables for all hosts\nwebservers:\n  vars:\n    nginx_worker_processes: auto\n    nginx_worker_connections: 1024\n    ssl_certificate_path: /etc/ssl/certs\n    backup_schedule: \"0 2 * * *\"\n\ndbservers:\n  vars:\n    mysql_innodb_buffer_pool_size: 2G\n    mysql_max_connections: 200\n    backup_schedule: \"0 1 * * *\"\n    monitoring_enabled: true\nEOF\n\n# Create dynamic inventory script for cloud environments\ncat \u003e inventories/production/aws_ec2.yml \u003c\u003cEOF\nplugin: amazon.aws.aws_ec2\nregions:\n  - us-west-2\n  - us-east-1\nfilters:\n  tag:Environment: production\n  tag:Ansible: managed\n  instance-state-name: running\n\nhostnames:\n  - tag:Name\n  - dns-name\n  - private-ip-address\n\ncompose:\n  ansible_host: private_ip_address\n  ec2_state: ec2_state_name\n  ec2_arch: ec2_architecture\n\ngroups:\n  # Group by instance type\n  webservers: \"'web' in tags.Role\"\n  databases: \"'db' in tags.Role\"\n  loadbalancers: \"'lb' in tags.Role\"\n  \n  # Group by environment\n  production: \"tags.Environment == 'production'\"\n  staging: \"tags.Environment == 'staging'\"\n  \n  # Group by availability zone\n  us_west_2a: ec2_placement_availability_zone == \"us-west-2a\"\n  us_west_2b: ec2_placement_availability_zone == \"us-west-2b\"\n\nkeyed_groups:\n  # Create groups based on tags\n  - key: tags.Environment\n    prefix: env\n  - key: tags.Role  \n    prefix: role\n  - key: ec2_instance_type\n    prefix: type\nEOF\n```\n\n### Ansible Vault Security\n```bash\n# Create strong vault password\nopenssl rand -base64 32 \u003e ~/.ansible_vault_pass\nchmod 600 ~/.ansible_vault_pass\n\n# Create encrypted vault file for secrets\nansible-vault create group_vars/all/vault.yml\n# Enter secure passwords and API keys:\n# vault_mysql_root_password: your_secure_mysql_password\n# vault_grafana_admin_password: your_secure_grafana_password  \n# vault_ssl_private_key: |\n#   -----BEGIN PRIVATE KEY-----\n#   your_private_key_content\n#   -----END PRIVATE KEY-----\n\n# Create non-encrypted variables file\ncat \u003e group_vars/all/vars.yml \u003c\u003cEOF\n# Non-sensitive variables\nmysql_port: 3306\nnginx_port: 80\ngrafana_port: 3000\nprometheus_port: 9090\n\n# Reference vault variables\nmysql_root_password: \"{{ vault_mysql_root_password }}\"\ngrafana_admin_password: \"{{ vault_grafana_admin_password }}\"\n\n# SSL configuration\nssl_certificate_path: /etc/ssl/certs/server.crt\nssl_private_key_path: /etc/ssl/private/server.key\nssl_private_key_content: \"{{ vault_ssl_private_key }}\"\n\n# Security settings\nansible_ssh_common_args: '-o StrictHostKeyChecking=yes -o UserKnownHostsFile=~/.ssh/known_hosts'\nansible_become_method: sudo\nansible_become_user: root\nEOF\n\n# Edit vault file\nansible-vault edit group_vars/all/vault.yml\n\n# View vault file (read-only)\nansible-vault view group_vars/all/vault.yml\n\n# Change vault password\nansible-vault rekey group_vars/all/vault.yml\n```\n\n## Comprehensive Playbooks\n\n### System Hardening Playbook\n```bash\ncat \u003e playbooks/system-hardening.yml \u003c\u003cEOF\n---\n- name: System Security Hardening\n  hosts: all\n  become: yes\n  gather_facts: yes\n  vars:\n    security_packages:\n      - fail2ban\n      - ufw\n      - aide\n      - chkrootkit\n      - rkhunter\n      - clamav\n      - lynis\n    \n    disabled_services:\n      - telnet\n      - rsh\n      - rlogin\n      - tftp\n      - talk\n      - finger\n\n  pre_tasks:\n    - name: Update package cache\n      package:\n        update_cache: yes\n        cache_valid_time: 3600\n      when: ansible_os_family in [\"Debian\", \"RedHat\"]\n\n  tasks:\n    # System updates\n    - name: Upgrade all packages\n      package:\n        name: \"*\"\n        state: latest\n      when: ansible_os_family == \"RedHat\"\n\n    - name: Upgrade all packages (Debian/Ubuntu)\n      apt:\n        upgrade: dist\n        autoremove: yes\n        autoclean: yes\n      when: ansible_os_family == \"Debian\"\n\n    # Install security packages\n    - name: Install security packages\n      package:\n        name: \"{{ security_packages }}\"\n        state: present\n\n    # User security\n    - name: Create ansible user with limited privileges\n      user:\n        name: ansible\n        groups: sudo\n        shell: /bin/bash\n        create_home: yes\n        generate_ssh_key: yes\n        ssh_key_bits: 4096\n        ssh_key_type: rsa\n\n    - name: Configure sudo for ansible user\n      lineinfile:\n        path: /etc/sudoers.d/ansible\n        line: 'ansible ALL=(ALL) NOPASSWD:ALL'\n        create: yes\n        mode: '0440'\n        validate: 'visudo -cf %s'\n\n    # SSH hardening\n    - name: Configure SSH security\n      lineinfile:\n        path: /etc/ssh/sshd_config\n        regexp: \"{{ item.regexp }}\"\n        line: \"{{ item.line }}\"\n        backup: yes\n      loop:\n        - { regexp: '^#?PermitRootLogin', line: 'PermitRootLogin no' }\n        - { regexp: '^#?PasswordAuthentication', line: 'PasswordAuthentication no' }\n        - { regexp: '^#?X11Forwarding', line: 'X11Forwarding no' }\n        - { regexp: '^#?MaxAuthTries', line: 'MaxAuthTries 3' }\n        - { regexp: '^#?ClientAliveInterval', line: 'ClientAliveInterval 300' }\n        - { regexp: '^#?ClientAliveCountMax', line: 'ClientAliveCountMax 0' }\n        - { regexp: '^#?Protocol', line: 'Protocol 2' }\n        - { regexp: '^#?LogLevel', line: 'LogLevel VERBOSE' }\n      notify: restart ssh\n\n    # Firewall configuration\n    - name: Configure UFW firewall (Debian/Ubuntu)\n      ufw:\n        state: enabled\n        policy: deny\n        direction: incoming\n      when: ansible_os_family == \"Debian\"\n\n    - name: Allow SSH through UFW\n      ufw:\n        rule: allow\n        port: 22\n        proto: tcp\n        comment: 'SSH access'\n      when: ansible_os_family == \"Debian\"\n\n    - name: Configure firewalld (RHEL/CentOS/Fedora)\n      firewalld:\n        state: enabled\n        permanent: yes\n        immediate: yes\n      when: ansible_os_family == \"RedHat\"\n\n    - name: Allow SSH through firewalld\n      firewalld:\n        service: ssh\n        permanent: yes\n        state: enabled\n        immediate: yes\n      when: ansible_os_family == \"RedHat\"\n\n    # Disable unnecessary services\n    - name: Disable unnecessary services\n      systemd:\n        name: \"{{ item }}\"\n        enabled: no\n        state: stopped\n      loop: \"{{ disabled_services }}\"\n      ignore_errors: yes\n\n    # File system security\n    - name: Set proper permissions on sensitive files\n      file:\n        path: \"{{ item.path }}\"\n        mode: \"{{ item.mode }}\"\n        owner: root\n        group: root\n      loop:\n        - { path: '/etc/passwd', mode: '0644' }\n        - { path: '/etc/shadow', mode: '0640' }\n        - { path: '/etc/group', mode: '0644' }\n        - { path: '/etc/gshadow', mode: '0640' }\n        - { path: '/etc/ssh/sshd_config', mode: '0600' }\n\n    # Kernel security parameters\n    - name: Configure kernel security parameters\n      sysctl:\n        name: \"{{ item.key }}\"\n        value: \"{{ item.value }}\"\n        sysctl_set: yes\n        state: present\n        reload: yes\n      loop:\n        - { key: 'net.ipv4.ip_forward', value: '0' }\n        - { key: 'net.ipv4.conf.all.send_redirects', value: '0' }\n        - { key: 'net.ipv4.conf.default.send_redirects', value: '0' }\n        - { key: 'net.ipv4.conf.all.accept_source_route', value: '0' }\n        - { key: 'net.ipv4.conf.default.accept_source_route', value: '0' }\n        - { key: 'net.ipv4.conf.all.accept_redirects', value: '0' }\n        - { key: 'net.ipv4.conf.default.accept_redirects', value: '0' }\n        - { key: 'net.ipv4.conf.all.secure_redirects', value: '0' }\n        - { key: 'net.ipv4.conf.default.secure_redirects', value: '0' }\n        - { key: 'net.ipv4.conf.all.log_martians', value: '1' }\n        - { key: 'net.ipv4.conf.default.log_martians', value: '1' }\n        - { key: 'kernel.randomize_va_space', value: '2' }\n\n    # Configure fail2ban\n    - name: Configure fail2ban for SSH protection\n      template:\n        src: templates/fail2ban-jail.local.j2\n        dest: /etc/fail2ban/jail.local\n        backup: yes\n      notify: restart fail2ban\n\n  handlers:\n    - name: restart ssh\n      service:\n        name: \"{{ 'ssh' if ansible_os_family == 'Debian' else 'sshd' }}\"\n        state: restarted\n\n    - name: restart fail2ban\n      service:\n        name: fail2ban\n        state: restarted\nEOF\n```\n\n### Application Deployment Playbook\n```bash\ncat \u003e playbooks/web-application-deployment.yml \u003c\u003cEOF\n---\n- name: Deploy Web Application Stack\n  hosts: webservers\n  become: yes\n  serial: \"25%\"  # Rolling deployment\n  max_fail_percentage: 10\n  vars:\n    app_name: mywebapp\n    app_version: \"{{ app_version | default('latest') }}\"\n    app_port: 3000\n    nginx_workers: \"{{ ansible_processor_cores }}\"\n    \n  pre_tasks:\n    - name: Check if maintenance mode file exists\n      stat:\n        path: /var/www/html/maintenance.html\n      register: maintenance_mode\n\n    - name: Fail if in maintenance mode\n      fail:\n        msg: \"Server is in maintenance mode\"\n      when: maintenance_mode.stat.exists and not force_deployment | default(false)\n\n  tasks:\n    # Application deployment\n    - name: Create application user\n      user:\n        name: \"{{ app_name }}\"\n        system: yes\n        shell: /bin/false\n        home: \"/opt/{{ app_name }}\"\n        create_home: yes\n\n    - name: Create application directories\n      file:\n        path: \"{{ item }}\"\n        state: directory\n        owner: \"{{ app_name }}\"\n        group: \"{{ app_name }}\"\n        mode: '0755'\n      loop:\n        - \"/opt/{{ app_name }}\"\n        - \"/opt/{{ app_name }}/releases\"\n        - \"/opt/{{ app_name }}/shared\"\n        - \"/var/log/{{ app_name }}\"\n\n    - name: Download application release\n      get_url:\n        url: \"https://releases.example.com/{{ app_name }}/{{ app_version }}/{{ app_name }}-{{ app_version }}.tar.gz\"\n        dest: \"/tmp/{{ app_name }}-{{ app_version }}.tar.gz\"\n        mode: '0644'\n        timeout: 300\n      register: download_result\n\n    - name: Extract application\n      unarchive:\n        src: \"/tmp/{{ app_name }}-{{ app_version }}.tar.gz\"\n        dest: \"/opt/{{ app_name }}/releases/\"\n        owner: \"{{ app_name }}\"\n        group: \"{{ app_name }}\"\n        remote_src: yes\n        creates: \"/opt/{{ app_name }}/releases/{{ app_version }}\"\n\n    - name: Create symlink to current release\n      file:\n        src: \"/opt/{{ app_name }}/releases/{{ app_version }}\"\n        dest: \"/opt/{{ app_name }}/current\"\n        state: link\n        owner: \"{{ app_name }}\"\n        group: \"{{ app_name }}\"\n      notify:\n        - reload application\n        - reload nginx\n\n    # Configuration management\n    - name: Deploy application configuration\n      template:\n        src: \"templates/{{ app_name }}.conf.j2\"\n        dest: \"/opt/{{ app_name }}/shared/{{ app_name }}.conf\"\n        owner: \"{{ app_name }}\"\n        group: \"{{ app_name }}\"\n        mode: '0640'\n        backup: yes\n      notify: reload application\n\n    # Service management\n    - name: Deploy systemd service file\n      template:\n        src: \"templates/{{ app_name }}.service.j2\"\n        dest: \"/etc/systemd/system/{{ app_name }}.service\"\n        mode: '0644'\n      notify:\n        - daemon reload\n        - restart application\n\n    - name: Enable and start application service\n      systemd:\n        name: \"{{ app_name }}\"\n        enabled: yes\n        state: started\n        daemon_reload: yes\n\n    # Health check\n    - name: Wait for application to be ready\n      uri:\n        url: \"http://localhost:{{ app_port }}/health\"\n        method: GET\n        status_code: 200\n      retries: 30\n      delay: 10\n\n    # Cleanup old releases\n    - name: Clean up old releases (keep last 3)\n      shell: |\n        cd /opt/{{ app_name }}/releases\n        ls -t | tail -n +4 | xargs rm -rf\n      args:\n        executable: /bin/bash\n\n  post_tasks:\n    - name: Verify application is running\n      uri:\n        url: \"http://{{ ansible_default_ipv4.address }}:{{ app_port }}/health\"\n        method: GET\n        status_code: 200\n      delegate_to: localhost\n\n    - name: Log deployment success\n      lineinfile:\n        path: \"/var/log/{{ app_name }}/deployments.log\"\n        line: \"{{ ansible_date_time.iso8601 }} - Successfully deployed {{ app_version }} to {{ inventory_hostname }}\"\n        create: yes\n\n  handlers:\n    - name: daemon reload\n      systemd:\n        daemon_reload: yes\n\n    - name: restart application\n      systemd:\n        name: \"{{ app_name }}\"\n        state: restarted\n\n    - name: reload application\n      systemd:\n        name: \"{{ app_name }}\"\n        state: reloaded\n\n    - name: reload nginx\n      service:\n        name: nginx\n        state: reloaded\nEOF\n```\n\n### Infrastructure as Code Playbook\n```bash\ncat \u003e playbooks/infrastructure-provisioning.yml \u003c\u003cEOF\n---\n- name: Infrastructure Provisioning and Configuration\n  hosts: all\n  become: yes\n  strategy: free  # Parallel execution\n  vars:\n    base_packages:\n      Debian:\n        - curl\n        - wget\n        - vim\n        - htop\n        - git\n        - python3\n        - python3-pip\n        - unzip\n        - tree\n      RedHat:\n        - curl\n        - wget\n        - vim\n        - htop\n        - git\n        - python3\n        - python3-pip\n        - unzip\n        - tree\n        - epel-release\n\n  tasks:\n    # System preparation\n    - name: Set hostname\n      hostname:\n        name: \"{{ inventory_hostname }}\"\n\n    - name: Update /etc/hosts\n      lineinfile:\n        path: /etc/hosts\n        line: \"{{ ansible_default_ipv4.address }} {{ inventory_hostname }}\"\n        backup: yes\n\n    # Package management\n    - name: Install base packages\n      package:\n        name: \"{{ base_packages[ansible_os_family] | default(base_packages['Debian']) }}\"\n        state: present\n\n    # Time synchronization\n    - name: Install and configure NTP\n      package:\n        name: \"{{ 'ntp' if ansible_os_family == 'Debian' else 'chrony' }}\"\n        state: present\n\n    - name: Start and enable time synchronization\n      service:\n        name: \"{{ 'ntp' if ansible_os_family == 'Debian' else 'chronyd' }}\"\n        state: started\n        enabled: yes\n\n    # Log management\n    - name: Configure logrotate for application logs\n      template:\n        src: templates/app-logrotate.j2\n        dest: /etc/logrotate.d/applications\n        mode: '0644'\n\n    # Monitoring agent installation\n    - name: Install Node Exporter for Prometheus monitoring\n      get_url:\n        url: \"https://github.com/prometheus/node_exporter/releases/download/v1.6.1/node_exporter-1.6.1.linux-amd64.tar.gz\"\n        dest: /tmp/node_exporter.tar.gz\n        mode: '0644'\n\n    - name: Extract Node Exporter\n      unarchive:\n        src: /tmp/node_exporter.tar.gz\n        dest: /tmp\n        remote_src: yes\n\n    - name: Copy Node Exporter binary\n      copy:\n        src: /tmp/node_exporter-1.6.1.linux-amd64/node_exporter\n        dest: /usr/local/bin/node_exporter\n        mode: '0755'\n        owner: root\n        group: root\n        remote_src: yes\n\n    - name: Create node_exporter systemd service\n      template:\n        src: templates/node_exporter.service.j2\n        dest: /etc/systemd/system/node_exporter.service\n        mode: '0644'\n      notify:\n        - daemon reload\n        - restart node_exporter\n\n    # Security configuration\n    - name: Configure kernel parameters for security\n      sysctl:\n        name: \"{{ item.key }}\"\n        value: \"{{ item.value }}\"\n        sysctl_set: yes\n        state: present\n        reload: yes\n      loop:\n        - { key: 'kernel.dmesg_restrict', value: '1' }\n        - { key: 'kernel.kptr_restrict', value: '2' }\n        - { key: 'kernel.yama.ptrace_scope', value: '1' }\n        - { key: 'net.ipv4.conf.all.log_martians', value: '1' }\n        - { key: 'net.ipv4.conf.default.log_martians', value: '1' }\n        - { key: 'net.ipv4.conf.all.send_redirects', value: '0' }\n        - { key: 'net.ipv4.conf.default.send_redirects', value: '0' }\n\n    # File integrity monitoring\n    - name: Initialize AIDE database\n      shell: |\n        aide --init\n        mv /var/lib/aide/aide.db.new /var/lib/aide/aide.db\n      args:\n        creates: /var/lib/aide/aide.db\n\n    - name: Schedule AIDE integrity checks\n      cron:\n        name: \"AIDE integrity check\"\n        minute: \"0\"\n        hour: \"3\"\n        job: \"/usr/bin/aide --check\"\n        user: root\n\n  handlers:\n    - name: daemon reload\n      systemd:\n        daemon_reload: yes\n\n    - name: restart node_exporter\n      service:\n        name: node_exporter\n        state: restarted\n        enabled: yes\nEOF\n```\n\n## Advanced Role Development\n\n### Comprehensive NGINX Role\n```bash\n# Create NGINX role structure\nansible-galaxy init roles/nginx\n\n# Main tasks\ncat \u003e roles/nginx/tasks/main.yml \u003c\u003cEOF\n---\n# NGINX Installation and Configuration Role\n- name: Include OS-specific variables\n  include_vars: \"{{ ansible_os_family }}.yml\"\n\n- name: Install NGINX\n  include_tasks: \"install-{{ ansible_os_family }}.yml\"\n\n- name: Create NGINX directories\n  file:\n    path: \"{{ item }}\"\n    state: directory\n    owner: root\n    group: root\n    mode: '0755'\n  loop:\n    - /etc/nginx/sites-available\n    - /etc/nginx/sites-enabled\n    - /etc/nginx/conf.d\n    - /var/log/nginx\n    - /var/cache/nginx\n\n- name: Generate DH parameters\n  openssl_dhparam:\n    path: /etc/ssl/certs/dhparam.pem\n    size: 2048\n  when: nginx_ssl_enabled | default(false)\n\n- name: Deploy NGINX main configuration\n  template:\n    src: nginx.conf.j2\n    dest: /etc/nginx/nginx.conf\n    backup: yes\n    validate: 'nginx -t -c %s'\n  notify: reload nginx\n\n- name: Deploy virtual host configurations\n  template:\n    src: vhost.conf.j2\n    dest: \"/etc/nginx/sites-available/{{ item.name }}.conf\"\n    backup: yes\n  loop: \"{{ nginx_vhosts | default([]) }}\"\n  notify: reload nginx\n\n- name: Enable virtual hosts\n  file:\n    src: \"/etc/nginx/sites-available/{{ item.name }}.conf\"\n    dest: \"/etc/nginx/sites-enabled/{{ item.name }}.conf\"\n    state: link\n  loop: \"{{ nginx_vhosts | default([]) }}\"\n  when: item.enabled | default(true)\n  notify: reload nginx\n\n- name: Remove default site\n  file:\n    path: /etc/nginx/sites-enabled/default\n    state: absent\n  notify: reload nginx\n\n- name: Start and enable NGINX\n  service:\n    name: nginx\n    state: started\n    enabled: yes\n\n- name: Configure log rotation\n  template:\n    src: nginx-logrotate.j2\n    dest: /etc/logrotate.d/nginx\n    mode: '0644'\n\n- name: Setup NGINX monitoring\n  include_tasks: monitoring.yml\n  when: nginx_monitoring_enabled | default(false)\n\n- name: Configure SSL certificates\n  include_tasks: ssl.yml\n  when: nginx_ssl_enabled | default(false)\nEOF\n\n# OS-specific installation tasks\ncat \u003e roles/nginx/tasks/install-Debian.yml \u003c\u003cEOF\n---\n- name: Add NGINX signing key (Debian/Ubuntu)\n  apt_key:\n    url: https://nginx.org/keys/nginx_signing.key\n    state: present\n\n- name: Add NGINX repository (Debian/Ubuntu)\n  apt_repository:\n    repo: \"deb https://nginx.org/packages/{{ ansible_distribution | lower }}/ {{ ansible_distribution_release }} nginx\"\n    state: present\n\n- name: Install NGINX (Debian/Ubuntu)\n  apt:\n    name: nginx\n    state: present\n    update_cache: yes\nEOF\n\ncat \u003e roles/nginx/tasks/install-RedHat.yml \u003c\u003cEOF\n---\n- name: Add NGINX repository (RHEL/CentOS)\n  yum_repository:\n    name: nginx\n    description: NGINX Repository\n    baseurl: \"https://nginx.org/packages/centos/{{ ansible_distribution_major_version }}/$basearch/\"\n    gpgcheck: yes\n    gpgkey: https://nginx.org/keys/nginx_signing.key\n    enabled: yes\n\n- name: Install NGINX (RHEL/CentOS)\n  yum:\n    name: nginx\n    state: present\nEOF\n\n# Variables\ncat \u003e roles/nginx/vars/main.yml \u003c\u003cEOF\n---\nnginx_user: nginx\nnginx_worker_processes: auto\nnginx_worker_connections: 1024\nnginx_keepalive_timeout: 65\nnginx_ssl_enabled: false\nnginx_monitoring_enabled: true\n\nnginx_security_headers:\n  - \"add_header X-Frame-Options SAMEORIGIN always;\"\n  - \"add_header X-Content-Type-Options nosniff always;\"\n  - \"add_header X-XSS-Protection '1; mode=block' always;\"\n  - \"add_header Strict-Transport-Security 'max-age=31536000; includeSubDomains' always;\"\n\nnginx_default_vhost:\n  name: default\n  listen: 80\n  server_name: \"_\"\n  root: /var/www/html\n  index: index.html\n  enabled: false\nEOF\n\n# Templates\ncat \u003e roles/nginx/templates/nginx.conf.j2 \u003c\u003cEOF\nuser {{ nginx_user }};\nworker_processes {{ nginx_worker_processes }};\npid /var/run/nginx.pid;\n\nevents {\n    worker_connections {{ nginx_worker_connections }};\n    use epoll;\n    multi_accept on;\n}\n\nhttp {\n    # Basic settings\n    sendfile on;\n    tcp_nopush on;\n    tcp_nodelay on;\n    keepalive_timeout {{ nginx_keepalive_timeout }};\n    types_hash_max_size 2048;\n    server_tokens off;\n\n    include /etc/nginx/mime.types;\n    default_type application/octet-stream;\n\n    # SSL configuration\n{% if nginx_ssl_enabled %}\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_prefer_server_ciphers off;\n    ssl_dhparam /etc/ssl/certs/dhparam.pem;\n{% endif %}\n\n    # Gzip compression\n    gzip on;\n    gzip_vary on;\n    gzip_proxied any;\n    gzip_comp_level 6;\n    gzip_types\n        application/javascript\n        application/json\n        application/xml\n        text/css\n        text/javascript\n        text/xml\n        text/plain;\n\n    # Security headers\n{% for header in nginx_security_headers %}\n    {{ header }}\n{% endfor %}\n\n    # Logging\n    log_format main '\\$remote_addr - \\$remote_user [\\$time_local] \"\\$request\" '\n                    '\\$status \\$body_bytes_sent \"\\$http_referer\" '\n                    '\"\\$http_user_agent\" \"\\$http_x_forwarded_for\"';\n\n    access_log /var/log/nginx/access.log main;\n    error_log /var/log/nginx/error.log;\n\n    # Rate limiting\n    limit_req_zone \\$binary_remote_addr zone=login:10m rate=10r/m;\n    limit_conn_zone \\$binary_remote_addr zone=addr:10m;\n\n    # Include configurations\n    include /etc/nginx/conf.d/*.conf;\n    include /etc/nginx/sites-enabled/*;\n}\nEOF\n\n# Handlers\ncat \u003e roles/nginx/handlers/main.yml \u003c\u003cEOF\n---\n- name: restart nginx\n  service:\n    name: nginx\n    state: restarted\n\n- name: reload nginx\n  service:\n    name: nginx\n    state: reloaded\n\n- name: validate nginx config\n  command: nginx -t\n  changed_when: false\nEOF\n```\n\n## Security and Compliance\n\n### Ansible Security Scanner Integration\n```bash\n# Create security scanning playbook\ncat \u003e playbooks/security-scan.yml \u003c\u003cEOF\n---\n- name: Security Compliance Scanning\n  hosts: all\n  become: yes\n  gather_facts: yes\n  vars:\n    scan_results_dir: \"/tmp/security-scans\"\n    \n  tasks:\n    - name: Create scan results directory\n      file:\n        path: \"{{ scan_results_dir }}\"\n        state: directory\n        mode: '0755'\n\n    # CIS benchmark scanning\n    - name: Download CIS benchmark script\n      get_url:\n        url: \"https://github.com/dev-sec/cis-dil-benchmark/archive/master.zip\"\n        dest: \"/tmp/cis-benchmark.zip\"\n        mode: '0644'\n\n    - name: Run CIS benchmark scan\n      shell: |\n        cd /tmp\n        unzip -o cis-benchmark.zip\n        cd cis-dil-benchmark-master\n        bash cis_ubuntu2204.sh \u003e {{ scan_results_dir }}/cis-scan-{{ inventory_hostname }}.txt\n      args:\n        creates: \"{{ scan_results_dir }}/cis-scan-{{ inventory_hostname }}.txt\"\n\n    # Lynis security audit\n    - name: Install Lynis\n      package:\n        name: lynis\n        state: present\n\n    - name: Run Lynis security audit\n      command: lynis audit system --quiet --cronjob\n      register: lynis_result\n      changed_when: false\n\n    - name: Save Lynis results\n      copy:\n        content: \"{{ lynis_result.stdout }}\"\n        dest: \"{{ scan_results_dir }}/lynis-scan-{{ inventory_hostname }}.txt\"\n        mode: '0644'\n\n    # OpenSCAP compliance scanning\n    - name: Install OpenSCAP (RHEL/CentOS)\n      package:\n        name:\n          - openscap-scanner\n          - scap-security-guide\n        state: present\n      when: ansible_os_family == \"RedHat\"\n\n    - name: Install OpenSCAP (Debian/Ubuntu)\n      package:\n        name:\n          - libopenscap8\n          - ssg-debian\n        state: present\n      when: ansible_os_family == \"Debian\"\n\n    - name: Run OpenSCAP scan\n      shell: |\n        oscap xccdf eval --profile xccdf_org.ssgproject.content_profile_standard \\\n          --results {{ scan_results_dir }}/oscap-results-{{ inventory_hostname }}.xml \\\n          --report {{ scan_results_dir }}/oscap-report-{{ inventory_hostname }}.html \\\n          /usr/share/xml/scap/ssg/content/ssg-{{ ansible_distribution | lower }}{{ ansible_distribution_major_version }}-xccdf.xml\n      ignore_errors: yes\n      when: ansible_os_family in [\"RedHat\", \"Debian\"]\n\n    # Vulnerability scanning with Trivy\n    - name: Install Trivy vulnerability scanner\n      shell: |\n        curl -sfL https://raw.githubusercontent.com/aquasecurity/trivy/main/contrib/install.sh | sh -s -- -b /usr/local/bin\n      args:\n        creates: /usr/local/bin/trivy\n\n    - name: Run Trivy filesystem scan\n      shell: |\n        trivy fs --format json --output {{ scan_results_dir }}/trivy-scan-{{ inventory_hostname }}.json /\n      ignore_errors: yes\n\n    # Collect scan results\n    - name: Fetch scan results to control machine\n      fetch:\n        src: \"{{ item }}\"\n        dest: \"./security-reports/{{ inventory_hostname }}/\"\n        flat: yes\n      loop:\n        - \"{{ scan_results_dir }}/cis-scan-{{ inventory_hostname }}.txt\"\n        - \"{{ scan_results_dir }}/lynis-scan-{{ inventory_hostname }}.txt\"\n        - \"{{ scan_results_dir }}/oscap-report-{{ inventory_hostname }}.html\"\n        - \"{{ scan_results_dir }}/trivy-scan-{{ inventory_hostname }}.json\"\n      ignore_errors: yes\n      delegate_to: localhost\n\n  post_tasks:\n    - name: Generate compliance summary\n      template:\n        src: templates/compliance-summary.j2\n        dest: \"{{ scan_results_dir }}/compliance-summary-{{ inventory_hostname }}.txt\"\n        mode: '0644'\nEOF\n```\n\n### Ansible AWX/Tower Integration\n```bash\n# Install Ansible AWX (open source)\ncat \u003e playbooks/install-awx.yml \u003c\u003cEOF\n---\n- name: Install Ansible AWX\n  hosts: localhost\n  connection: local\n  become: yes\n  vars:\n    awx_namespace: awx\n    awx_admin_user: admin\n    awx_admin_password: \"{{ vault_awx_admin_password }}\"\n\n  tasks:\n    - name: Install prerequisite packages\n      package:\n        name:\n          - git\n          - curl\n          - docker.io\n          - docker-compose\n        state: present\n\n    - name: Clone AWX repository\n      git:\n        repo: https://github.com/ansible/awx.git\n        dest: /opt/awx\n        version: devel\n\n    - name: Create AWX Docker inventory\n      template:\n        src: templates/awx-docker-inventory.j2\n        dest: /opt/awx/installer/inventory\n        mode: '0644'\n\n    - name: Install AWX using Ansible\n      shell: ansible-playbook -i inventory install.yml\n      args:\n        chdir: /opt/awx/installer\n      environment:\n        ANSIBLE_HOST_KEY_CHECKING: False\n\n    - name: Wait for AWX to be ready\n      uri:\n        url: \"http://localhost:80/api/v2/ping/\"\n        method: GET\n      retries: 30\n      delay: 10\n\n    - name: Configure AWX organizations and projects\n      uri:\n        url: \"http://localhost:80/api/v2/organizations/\"\n        method: POST\n        user: \"{{ awx_admin_user }}\"\n        password: \"{{ awx_admin_password }}\"\n        force_basic_auth: yes\n        body_format: json\n        body:\n          name: \"Production\"\n          description: \"Production environment organization\"\n        status_code: [200, 201, 409]\nEOF\n```\n\n## Multi-Cloud Automation\n\n### AWS Infrastructure Automation\n```bash\ncat \u003e playbooks/aws-infrastructure.yml \u003c\u003cEOF\n---\n- name: AWS Infrastructure Automation\n  hosts: localhost\n  connection: local\n  gather_facts: no\n  vars:\n    aws_region: \"{{ aws_region | default('us-west-2') }}\"\n    vpc_cidr: \"{{ vpc_cidr | default('10.0.0.0/16') }}\"\n    environment: \"{{ environment | default('production') }}\"\n\n  tasks:\n    # VPC Creation\n    - name: Create VPC\n      amazon.aws.ec2_vpc_info:\n        filters:\n          \"tag:Name\": \"{{ environment }}-vpc\"\n        region: \"{{ aws_region }}\"\n      register: existing_vpc\n\n    - name: Create new VPC if not exists\n      amazon.aws.ec2_vpc_net:\n        name: \"{{ environment }}-vpc\"\n        cidr_block: \"{{ vpc_cidr }}\"\n        region: \"{{ aws_region }}\"\n        state: present\n        dns_hostnames: yes\n        dns_support: yes\n        tags:\n          Environment: \"{{ environment }}\"\n          ManagedBy: ansible\n      register: vpc\n      when: existing_vpc.vpcs | length == 0\n\n    # Security Groups\n    - name: Create web security group\n      amazon.aws.ec2_group:\n        name: \"{{ environment }}-web-sg\"\n        description: \"Security group for web servers\"\n        vpc_id: \"{{ vpc.vpc.id if vpc.vpc is defined else existing_vpc.vpcs[0].vpc_id }}\"\n        region: \"{{ aws_region }}\"\n        rules:\n          - proto: tcp\n            ports:\n              - 80\n              - 443\n            cidr_ip: 0.0.0.0/0\n            rule_desc: \"HTTP and HTTPS access\"\n          - proto: tcp\n            ports:\n              - 22\n            group_id: \"{{ environment }}-bastion-sg\"\n            rule_desc: \"SSH from bastion\"\n        tags:\n          Environment: \"{{ environment }}\"\n\n    # Launch EC2 instances\n    - name: Launch web servers\n      amazon.aws.ec2_instance:\n        name: \"{{ environment }}-web-{{ item }}\"\n        instance_type: t3.medium\n        image_id: ami-0c02fb55956c7d316  # Amazon Linux 2\n        key_name: \"{{ ec2_key_name }}\"\n        vpc_subnet_id: \"{{ web_subnet_id }}\"\n        security_groups:\n          - \"{{ environment }}-web-sg\"\n        region: \"{{ aws_region }}\"\n        state: running\n        wait: yes\n        wait_timeout: 300\n        user_data: |\n          #!/bin/bash\n          yum update -y\n          yum install -y python3\n        tags:\n          Environment: \"{{ environment }}\"\n          Role: webserver\n          Ansible: managed\n      loop: \"{{ range(1, web_server_count + 1) | list }}\"\n      register: web_instances\n\n    # Add instances to inventory\n    - name: Add web servers to inventory\n      add_host:\n        name: \"{{ item.instances[0].tags.Name }}\"\n        hostname: \"{{ item.instances[0].public_ip_address }}\"\n        groups: webservers\n        ansible_ssh_private_key_file: \"~/.ssh/{{ ec2_key_name }}.pem\"\n        ansible_user: ec2-user\n      loop: \"{{ web_instances.results }}\"\n      changed_when: false\nEOF\n```\n\n### Kubernetes Cluster Management\n```bash\ncat \u003e playbooks/k8s-cluster-management.yml \u003c\u003cEOF\n---\n- name: Kubernetes Cluster Management with Ansible\n  hosts: k8s_masters\n  become: yes\n  serial: 1\n  vars:\n    k8s_version: \"1.28.2\"\n    containerd_version: \"1.6.24\"\n    cni_version: \"1.3.0\"\n\n  tasks:\n    # Pre-flight checks\n    - name: Check system requirements\n      assert:\n        that:\n          - ansible_memtotal_mb \u003e= 1700\n          - ansible_processor_cores \u003e= 2\n        fail_msg: \"System doesn't meet minimum requirements\"\n\n    - name: Verify connectivity to all nodes\n      ping:\n      delegate_to: \"{{ item }}\"\n      loop: \"{{ groups['k8s_all'] }}\"\n\n    # Container runtime setup\n    - name: Install containerd\n      include_role:\n        name: containerd\n      vars:\n        containerd_version: \"{{ containerd_version }}\"\n\n    # Kubernetes installation\n    - name: Install Kubernetes components\n      include_role:\n        name: kubernetes\n      vars:\n        kubernetes_version: \"{{ k8s_version }}\"\n\n    # Cluster initialization\n    - name: Initialize Kubernetes cluster\n      shell: |\n        kubeadm init \\\n          --pod-network-cidr=10.244.0.0/16 \\\n          --service-cidr=10.96.0.0/12 \\\n          --apiserver-advertise-address={{ ansible_default_ipv4.address }} \\\n          --node-name={{ inventory_hostname }}\n      args:\n        creates: /etc/kubernetes/admin.conf\n      register: kubeadm_init\n\n    - name: Create .kube directory\n      file:\n        path: \"{{ ansible_env.HOME }}/.kube\"\n        state: directory\n        mode: '0755'\n\n    - name: Copy admin.conf to user's kube config\n      copy:\n        src: /etc/kubernetes/admin.conf\n        dest: \"{{ ansible_env.HOME }}/.kube/config\"\n        owner: \"{{ ansible_user }}\"\n        group: \"{{ ansible_user }}\"\n        mode: '0644'\n        remote_src: yes\n\n    # Network plugin installation\n    - name: Install Flannel CNI\n      shell: kubectl apply -f https://github.com/flannel-io/flannel/releases/latest/download/kube-flannel.yml\n      environment:\n        KUBECONFIG: \"{{ ansible_env.HOME }}/.kube/config\"\n\n    # Join worker nodes\n    - name: Get join command\n      shell: kubeadm token create --print-join-command\n      register: join_command\n      when: inventory_hostname in groups['k8s_masters'][0]\n\n    - name: Join worker nodes to cluster\n      shell: \"{{ hostvars[groups['k8s_masters'][0]]['join_command'].stdout }}\"\n      when: inventory_hostname in groups['k8s_workers']\n\n  post_tasks:\n    - name: Verify cluster status\n      shell: kubectl get nodes\n      environment:\n        KUBECONFIG: \"{{ ansible_env.HOME }}/.kube/config\"\n      register: cluster_status\n      when: inventory_hostname in groups['k8s_masters'][0]\n\n    - name: Display cluster status\n      debug:\n        var: cluster_status.stdout_lines\n      when: inventory_hostname in groups['k8s_masters'][0]\nEOF\n```\n\n## Performance Optimization and Scaling\n\n### Parallel Execution Strategies\n```bash\n# Create high-performance playbook configuration\ncat \u003e playbooks/high-performance-deployment.yml \u003c\u003cEOF\n---\n- name: High-Performance Deployment\n  hosts: all\n  become: yes\n  strategy: free  # Parallel execution\n  serial: \"30%\"   # Process 30% of hosts at a time\n  max_fail_percentage: 10\n  gather_facts: yes\n  fact_caching: smart\n  vars:\n    deployment_batch_size: 10\n    max_concurrent_tasks: 50\n\n  pre_tasks:\n    - name: Check system load\n      shell: uptime | awk '{print $(NF-2)}' | sed 's/,//'\n      register: system_load\n      changed_when: false\n\n    - name: Skip high-load systems\n      meta: end_host\n      when: system_load.stdout | float \u003e 5.0\n\n  tasks:\n    - name: Update packages with retries\n      package:\n        name: \"*\"\n        state: latest\n      retries: 3\n      delay: 30\n      async: 300\n      poll: 10\n\n    - name: Deploy configuration files in parallel\n      template:\n        src: \"{{ item.src }}\"\n        dest: \"{{ item.dest }}\"\n        mode: \"{{ item.mode | default('0644') }}\"\n        backup: yes\n      loop:\n        - { src: \"nginx.conf.j2\", dest: \"/etc/nginx/nginx.conf\" }\n        - { src: \"mysql.cnf.j2\", dest: \"/etc/mysql/my.cnf\" }\n        - { src: \"redis.conf.j2\", dest: \"/etc/redis/redis.conf\" }\n      async: 120\n      poll: 5\n      register: config_deployment\n\n    - name: Wait for all configuration deployments\n      async_status:\n        jid: \"{{ item.ansible_job_id }}\"\n      loop: \"{{ config_deployment.results }}\"\n      when: item.ansible_job_id is defined\n\n  handlers:\n    - name: restart services\n      service:\n        name: \"{{ item }}\"\n        state: restarted\n      loop:\n        - nginx\n        - mysql\n        - redis\n      listen: \"restart all services\"\nEOF\n\n# Performance monitoring playbook\ncat \u003e playbooks/performance-monitoring.yml \u003c\u003cEOF\n---\n- name: Performance Monitoring Setup\n  hosts: all\n  become: yes\n  vars:\n    monitoring_tools:\n      - htop\n      - iotop\n      - nethogs\n      - dstat\n      - sysstat\n      - perf\n\n  tasks:\n    - name: Install performance monitoring tools\n      package:\n        name: \"{{ monitoring_tools }}\"\n        state: present\n\n    - name: Configure system monitoring\n      template:\n        src: templates/sysstat.j2\n        dest: /etc/default/sysstat\n        backup: yes\n      when: ansible_os_family == \"Debian\"\n\n    - name: Enable system statistics collection\n      service:\n        name: \"{{ 'sysstat' if ansible_os_family == 'Debian' else 'sysstat' }}\"\n        enabled: yes\n        state: started\n\n    - name: Create performance monitoring script\n      template:\n        src: templates/performance-monitor.sh.j2\n        dest: /usr/local/bin/performance-monitor.sh\n        mode: '0755'\n\n    - name: Schedule performance monitoring\n      cron:\n        name: \"Performance monitoring\"\n        minute: \"*/5\"\n        job: \"/usr/local/bin/performance-monitor.sh\"\n        user: root\nEOF\n```\n\n## Testing and Validation\n\n### Molecule Testing Framework\n```bash\n# Install Molecule for role testing\npip install molecule[docker] molecule[vagrant] molecule[libvirt]\n\n# Initialize Molecule in role directory\ncd roles/nginx\nmolecule init scenario --driver-name docker\n\n# Create molecule configuration\ncat \u003e molecule/default/molecule.yml \u003c\u003cEOF\n---\ndependency:\n  name: galaxy\ndriver:\n  name: docker\nplatforms:\n  - name: nginx-ubuntu\n    image: ubuntu:22.04\n    pre_build_image: true\n    privileged: true\n    volumes:\n      - /sys/fs/cgroup:/sys/fs/cgroup:ro\n    command: /lib/systemd/systemd\n    networks:\n      - name: molecule\n  - name: nginx-centos\n    image: centos:8\n    pre_build_image: true\n    privileged: true\n    volumes:\n      - /sys/fs/cgroup:/sys/fs/cgroup:ro\n    command: /usr/sbin/init\n    networks:\n      - name: molecule\nprovisioner:\n  name: ansible\n  config_options:\n    defaults:\n      callbacks_enabled: profile_tasks,timer,yaml\n  inventory:\n    host_vars:\n      nginx-ubuntu:\n        ansible_python_interpreter: /usr/bin/python3\n      nginx-centos:\n        ansible_python_interpreter: /usr/bin/python3\nverifier:\n  name: ansible\nlint: |\n  set -e\n  yamllint .\n  ansible-lint\n  flake8\nEOF\n\n# Create test playbook\ncat \u003e molecule/default/converge.yml \u003c\u003cEOF\n---\n- name: Converge\n  hosts: all\n  become: true\n  tasks:\n    - name: \"Include nginx role\"\n      include_role:\n        name: nginx\n      vars:\n        nginx_vhosts:\n          - name: default\n            server_name: localhost\n            listen: 80\n            root: /var/www/html\n            enabled: true\nEOF\n\n# Create test verification\ncat \u003e molecule/default/verify.yml \u003c\u003cEOF\n---\n- name: Verify\n  hosts: all\n  gather_facts: false\n  tasks:\n    - name: Check if NGINX is running\n      uri:\n        url: http://localhost\n        method: GET\n      register: nginx_check\n\n    - name: Verify NGINX is responding\n      assert:\n        that:\n          - nginx_check.status == 200\n        fail_msg: \"NGINX is not responding correctly\"\n\n    - name: Check NGINX configuration\n      shell: nginx -t\n      changed_when: false\n\n    - name: Verify NGINX process\n      shell: pgrep nginx\n      changed_when: false\nEOF\n\n# Run tests\nmolecule test\n```\n\n### Ansible Lint and Security Scanning\n```bash\n# Install Ansible Lint\npip install ansible-lint\n\n# Create .ansible-lint configuration\ncat \u003e .ansible-lint \u003c\u003cEOF\n---\nprofile: production\n\nexclude_paths:\n  - .cache/\n  - .github/\n  - molecule/\n  - .venv/\n\nskip_list:\n  - yaml[line-length]  # Allow longer lines for readability\n\nwarn_list:\n  - experimental  # Warn about experimental features\n\n# Custom rules\nrules:\n  braces:\n    min-spaces-inside: 0\n    max-spaces-inside: 1\n  brackets:\n    min-spaces-inside: 0\n    max-spaces-inside: 0\n  colons:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  commas:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  comments:\n    min-spaces-from-content: 1\n  document-start: disable\n  empty-lines:\n    max: 2\n    max-start: 0\n    max-end: 1\n  hyphens:\n    max-spaces-after: 1\n  indentation:\n    spaces: 2\n    indent-sequences: true\n  line-length:\n    max: 120\n  new-line-at-end-of-file: enable\n  trailing-spaces: enable\n  truthy:\n    allowed-values: ['true', 'false', 'yes', 'no']\nEOF\n\n# Create security-focused playbook linting\ncat \u003e .yamllint \u003c\u003cEOF\n---\nextends: default\n\nrules:\n  braces:\n    min-spaces-inside: 0\n    max-spaces-inside: 1\n  brackets:\n    min-spaces-inside: 0\n    max-spaces-inside: 0\n  colons:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  commas:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  comments: disable\n  comments-indentation: disable\n  document-start: disable\n  empty-lines:\n    max: 2\n    max-start: 0\n    max-end: 1\n  hyphens:\n    max-spaces-after: 1\n  indentation:\n    spaces: 2\n    indent-sequences: true\n    check-multi-line-strings: false\n  key-duplicates: enable\n  line-length:\n    max: 120\n  new-line-at-end-of-file: enable\n  octal-values:\n    forbid-implicit-octal: true\n  trailing-spaces: enable\n  truthy: disable\nEOF\n\n# Run linting\nansible-lint playbooks/\nyamllint .\n```\n\n## Backup and Disaster Recovery\n\n### Comprehensive Backup Automation\n```bash\ncat \u003e playbooks/backup-automation.yml \u003c\u003cEOF\n---\n- name: Automated Backup System\n  hosts: all\n  become: yes\n  vars:\n    backup_root: /backup\n    backup_retention_days: 30\n    backup_schedule:\n      databases: \"0 2 * * *\"\n      files: \"0 3 * * *\"\n      configs: \"0 4 * * *\"\n\n  tasks:\n    - name: Create backup directories\n      file:\n        path: \"{{ backup_root }}/{{ item }}\"\n        state: directory\n        mode: '0755'\n        owner: root\n        group: root\n      loop:\n        - databases\n        - files\n        - configs\n        - logs\n\n    # Database backups\n    - name: Create database backup script\n      template:\n        src: templates/mysql-backup.sh.j2\n        dest: /usr/local/bin/mysql-backup.sh\n        mode: '0755'\n      when: \"'dbservers' in group_names\"\n\n    - name: Schedule database backups\n      cron:\n        name: \"MySQL backup\"\n        minute: \"0\"\n        hour: \"2\"\n        job: \"/usr/local/bin/mysql-backup.sh\"\n        user: root\n      when: \"'dbservers' in group_names\"\n\n    # File system backups\n    - name: Create file backup script\n      template:\n        src: templates/file-backup.sh.j2\n        dest: /usr/local/bin/file-backup.sh\n        mode: '0755'\n\n    - name: Schedule file backups\n      cron:\n        name: \"File system backup\"\n        minute: \"0\"\n        hour: \"3\"\n        job: \"/usr/local/bin/file-backup.sh\"\n        user: root\n\n    # Configuration backups\n    - name: Backup system configurations\n      archive:\n        path:\n          - /etc/nginx\n          - /etc/mysql\n          - /etc/systemd/system\n          - /etc/crontab\n          - /etc/hosts\n          - /etc/fstab\n        dest: \"{{ backup_root }}/configs/system-config-{{ ansible_date_time.epoch }}.tar.gz\"\n        mode: '0600'\n\n    # Remote backup synchronization\n    - name: Synchronize backups to remote storage\n      synchronize:\n        src: \"{{ backup_root }}/\"\n        dest: \"backup-server.example.com:{{ backup_root }}/{{ inventory_hostname }}/\"\n        delete: yes\n        rsync_opts:\n          - \"--exclude=*.tmp\"\n          - \"--compress\"\n          - \"--archive\"\n      when: backup_remote_sync | default(true)\n\n    # Cleanup old backups\n    - name: Clean up old backup files\n      find:\n        paths: \"{{ backup_root }}\"\n        age: \"{{ backup_retention_days }}d\"\n        file_type: file\n      register: old_backups\n\n    - name: Remove old backup files\n      file:\n        path: \"{{ item.path }}\"\n        state: absent\n      loop: \"{{ old_backups.files }}\"\nEOF\n```\n\n## Verification and Monitoring\n\n### Cross-Platform System Verification\n```bash\n# Create comprehensive verification playbook\ncat \u003e playbooks/system-verification.yml \u003c\u003cEOF\n---\n- name: System Verification and Health Check\n  hosts: all\n  become: yes\n  gather_facts: yes\n  vars:\n    health_checks:\n      - service: nginx\n        port: 80\n        process: nginx\n      - service: mysql\n        port: 3306\n        process: mysqld\n      - service: redis\n        port: 6379\n        process: redis-server\n\n  tasks:\n    # System information gathering\n    - name: Gather system information\n      setup:\n        gather_subset:\n          - all\n          - !facter\n          - !ohai\n\n    # Service verification\n    - name: Check critical services status\n      service_facts:\n\n    - name: Verify services are running\n      assert:\n        that:\n          - \"ansible_facts.services[item.service + '.service'].state == 'running'\"\n        fail_msg: \"Service {{ item.service }} is not running\"\n        success_msg: \"Service {{ item.service }} is healthy\"\n      loop: \"{{ health_checks }}\"\n      when: \"item.service + '.service' in ansible_facts.services\"\n\n    # Network connectivity tests\n    - name: Test network connectivity\n      wait_for:\n        host: \"{{ item.host }}\"\n        port: \"{{ item.port }}\"\n        timeout: 5\n      loop:\n        - { host: \"8.8.8.8\", port: 53 }\n        - { host: \"1.1.1.1\", port: 53 }\n      ignore_errors: yes\n\n    # Disk space monitoring\n    - name: Check disk space usage\n      shell: df -h | awk '$5 \u003e \"85%\" {print $0}'\n      register: disk_usage\n      changed_when: false\n      failed_when: disk_usage.stdout != \"\"\n\n    # Memory usage check\n    - name: Check memory usage\n      shell: free | grep Mem | awk '{printf \"%.0f\", $3/$2 * 100.0}'\n      register: memory_usage\n      changed_when: false\n\n    - name: Alert on high memory usage\n      debug:\n        msg: \"WARNING: Memory usage is {{ memory_usage.stdout }}%\"\n      when: memory_usage.stdout | int \u003e 85\n\n    # Security verification\n    - name: Check for failed login attempts\n      shell: grep \"Failed password\" /var/log/auth.log | tail -10\n      register: failed_logins\n      changed_when: false\n      ignore_errors: yes\n      when: ansible_os_family == \"Debian\"\n\n    - name: Check firewall status\n      shell: |\n        if command -v ufw \u003e/dev/null 2\u003e\u00261; then\n          ufw status\n        elif command -v firewall-cmd \u003e/dev/null 2\u003e\u00261; then\n          firewall-cmd --state\n        else\n          echo \"No supported firewall found\"\n        fi\n      register: firewall_status\n      changed_when: false\n\n  post_tasks:\n    - name: Generate system health report\n      template:\n        src: templates/health-report.j2\n        dest: \"/tmp/health-report-{{ inventory_hostname }}-{{ ansible_date_time.epoch }}.txt\"\n        mode: '0644'\n\n    - name: Fetch health reports\n      fetch:\n        src: \"/tmp/health-report-{{ inventory_hostname }}-{{ ansible_date_time.epoch }}.txt\"\n        dest: \"./reports/\"\n        flat: yes\nEOF\n```\n\n### Continuous Compliance Monitoring\n```bash\ncat \u003e playbooks/compliance-monitoring.yml \u003c\u003cEOF\n---\n- name: Continuous Compliance Monitoring\n  hosts: all\n  become: yes\n  vars:\n    compliance_standards:\n      - cis\n      - pci_dss\n      - soc2\n      - hipaa\n    \n    audit_log_paths:\n      - /var/log/auth.log\n      - /var/log/syslog\n      - /var/log/audit/audit.log\n\n  tasks:\n    # Install audit tools\n    - name: Install audit daemon\n      package:\n        name: \"{{ 'auditd' if ansible_os_family == 'RedHat' else 'auditd' }}\"\n        state: present\n\n    - name: Configure audit rules\n      template:\n        src: templates/audit.rules.j2\n        dest: /etc/audit/rules.d/audit.rules\n        backup: yes\n      notify: restart auditd\n\n    # CIS compliance checks\n    - name: Run CIS benchmark checks\n      shell: |\n        if [ -f /opt/cis-cat/CIS-CAT.sh ]; then\n          /opt/cis-cat/CIS-CAT.sh -b /opt/cis-cat/benchmarks/\n        else\n          echo \"CIS-CAT not installed, skipping\"\n        fi\n      register: cis_results\n      ignore_errors: yes\n\n    # File integrity monitoring\n    - name: Install AIDE\n      package:\n        name: aide\n        state: present\n\n    - name: Initialize AIDE database\n      shell: |\n        aide --init\n        mv /var/lib/aide/aide.db.new /var/lib/aide/aide.db\n      args:\n        creates: /var/lib/aide/aide.db\n\n    - name: Schedule AIDE integrity checks\n      cron:\n        name: \"AIDE integrity check\"\n        minute: \"0\"\n        hour: \"3\"\n        job: \"/usr/bin/aide --check | mail -s 'AIDE Report' security@example.com\"\n        user: root\n\n    # Log monitoring\n    - name: Install log monitoring tools\n      package:\n        name:\n          - logwatch\n          - rsyslog\n        state: present\n\n    - name: Configure centralized logging\n      template:\n        src: templates/rsyslog.conf.j2\n        dest: /etc/rsyslog.conf\n        backup: yes\n      notify: restart rsyslog\n\n  handlers:\n    - name: restart auditd\n      service:\n        name: auditd\n        state: restarted\n\n    - name: restart rsyslog\n      service:\n        name: rsyslog\n        state: restarted\nEOF\n```\n\n## CI/CD Integration\n\n### Jenkins Pipeline Integration\n```bash\n# Create Jenkinsfile for Ansible automation\ncat \u003e Jenkinsfile \u003c\u003cEOF\npipeline {\n    agent any\n    \n    environment {\n        ANSIBLE_CONFIG = 'ansible.cfg'\n        ANSIBLE_HOST_KEY_CHECKING = 'False'\n    }\n    \n    stages {\n        stage('Lint') {\n            steps {\n                sh 'ansible-lint playbooks/'\n                sh 'yamllint .'\n            }\n        }\n        \n        stage('Syntax Check') {\n            steps {\n                sh 'ansible-playbook playbooks/site.yml --syntax-check'\n            }\n        }\n        \n        stage('Dry Run') {\n            steps {\n                sh 'ansible-playbook playbooks/site.yml --check --diff'\n            }\n        }\n        \n        stage('Deploy to Staging') {\n            when {\n                branch 'develop'\n            }\n            steps {\n                sh 'ansible-playbook -i inventories/staging playbooks/site.yml'\n            }\n        }\n        \n        stage('Deploy to Production') {\n            when {\n                branch 'main'\n            }\n            steps {\n                input 'Deploy to Production?'\n                sh 'ansible-playbook -i inventories/production playbooks/site.yml'\n            }\n        }\n        \n        stage('Verify Deployment') {\n            steps {\n                sh 'ansible-playbook playbooks/system-verification.yml'\n            }\n        }\n    }\n    \n    post {\n        always {\n            archiveArtifacts artifacts: 'logs/*.log', allowEmptyArchive: true\n            publishHTML([\n                allowMissing: false,\n                alwaysLinkToLastBuild: true,\n                keepAll: true,\n                reportDir: 'reports',\n                reportFiles: '*.html',\n                reportName: 'Ansible Report'\n            ])\n        }\n        failure {\n            emailext (\n                subject: \"Failed Pipeline: ${env.JOB_NAME} - ${env.BUILD_NUMBER}\",\n                body: \"Something is wrong with ${env.BUILD_URL}\",\n                to: \"${env.DEFAULT_RECIPIENTS}\"\n            )\n        }\n    }\n}\nEOF\n```\n\n### GitLab CI Integration\n```bash\ncat \u003e .gitlab-ci.yml \u003c\u003cEOF\nstages:\n  - lint\n  - test\n  - deploy-staging\n  - deploy-production\n\nvariables:\n  ANSIBLE_CONFIG: ansible.cfg\n  ANSIBLE_HOST_KEY_CHECKING: \"False\"\n\nbefore_script:\n  - pip install ansible ansible-lint yamllint\n  - ansible-galaxy install -r requirements.yml\n\nlint:\n  stage: lint\n  script:\n    - ansible-lint playbooks/\n    - yamllint .\n  rules:\n    - if: '$CI_MERGE_REQUEST_IID'\n    - if: '$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH'\n\nsyntax-check:\n  stage: test\n  script:\n    - ansible-playbook playbooks/site.yml --syntax-check\n    - ansible-playbook playbooks/site.yml --check --diff -i inventories/staging\n  rules:\n    - if: '$CI_MERGE_REQUEST_IID'\n    - if: '$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH'\n\ndeploy-staging:\n  stage: deploy-staging\n  script:\n    - ansible-playbook -i inventories/staging playbooks/site.yml\n  rules:\n    - if: '$CI_COMMIT_BRANCH == \"develop\"'\n\ndeploy-production:\n  stage: deploy-production\n  script:\n    - ansible-playbook -i inventories/production playbooks/site.yml\n  rules:\n    - if: '$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH'\n      when: manual\n  environment:\n    name: production\n    url: https://production.example.com\nEOF\n```\n\n## Troubleshooting (Cross-Platform)\n\n### Common Issues and Solutions\n```bash\n# Debug connection issues\nansible all -m ping -vvv\n\n# Check SSH connectivity\nansible all -m setup --ask-pass --ask-become-pass\n\n# Verify inventory\nansible-inventory --list\nansible-inventory --graph\n\n# Test specific host\nansible target-host -m command -a \"uptime\"\n\n# Check syntax without execution\nansible-playbook playbooks/site.yml --syntax-check\n\n# Dry run with verbose output\nansible-playbook playbooks/site.yml --check --diff -vvv\n\n# Debug variable resolution\nansible-playbook playbooks/site.yml --extra-vars=\"debug=true\" --tags debug\n\n# Check facts\nansible all -m setup | grep ansible_os_family\n\n# Connection troubleshooting\nssh -vvv user@target-host\n\n# Permission issues\nansible all -m file -a \"path=/tmp/test state=touch\" --become\n\n# Vault issues\nansible-vault view group_vars/all/vault.yml\n\n# Performance debugging\nansible-playbook playbooks/site.yml --start-at-task=\"specific task name\"\nansible-playbook playbooks/site.yml --step\n\n# Module testing\nansible localhost -m debug -a \"var=hostvars\"\nansible localhost -m setup\n\n# Check for syntax errors in roles\nfind roles/ -name \"*.yml\" -exec ansible-playbook {} --syntax-check \\;\n```\n\n### Advanced Debugging\n```bash\n# Enable comprehensive logging\nexport ANSIBLE_DEBUG=1\nexport ANSIBLE_VERBOSITY=4\nansible-playbook playbooks/site.yml\n\n# Profile playbook execution\nansible-playbook playbooks/site.yml --extra-vars=\"profile_tasks_sort_order=none\"\n\n# Memory usage analysis\nansible-playbook playbooks/site.yml --extra-vars=\"ansible_python_interpreter=/usr/bin/python3\"\n\n# Network debugging\nansible all -m command -a \"ss -tulpn\"\nansible all -m command -a \"netstat -rn\"\n\n# Process debugging\nansible all -m command -a \"ps aux --sort=-%mem | head -10\"\n\n# Disk usage analysis\nansible all -m command -a \"df -h\"\nansible all -m command -a \"du -sh /var/log/*\"\n\n# Service debugging\nansible all -m systemd -a \"name=nginx\" --become\nansible all -m command -a \"systemctl status nginx\" --become\n\n# Variable debugging\nansible-playbook playbooks/site.yml --extra-vars=\"debug_vars=true\" --tags debug_vars\n```\n\n## Additional Resources\n\n- [Official Documentation](https://docs.ansible.com/)\n- [Ansible Galaxy](https://galaxy.ansible.com/)\n- [Best Practices Guide](https://docs.ansible.com/ansible/latest/user_guide/playbooks_best_practices.html)\n- [Security Best Practices](https://docs.ansible.com/ansible/latest/user_guide/become.html#security-best-practices)\n- [Ansible Molecule Testing](https://molecule.readthedocs.io/)\n- [Community Collections](https://docs.ansible.com/ansible/latest/collections/index.html)\n\n---\n\n**Note:** This guide is part of the [HowToMgr](https://howtomgr.github.io) collection.","readmeHtml":"\u003ch1 id=\"ansible-installation-guide\" class=\"mobile-header\"\u003eAnsible Installation Guide\u003c/h1\u003e\n\u003cp class=\"mobile-paragraph\"\u003eAgentless automation platform for configuration management, application deployment, and task automation across multiple systems. Industry standard for infrastructure automation with enterprise-grade security.\u003c/p\u003e\n\u003ch2 id=\"prerequisites\" class=\"mobile-header\"\u003ePrerequisites\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003eLinux control machine (any modern distribution)\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePython 3.8+ on control machine\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003eSSH access to target hosts\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003ePython 2.7+ or 3.5+ on target hosts\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e2GB RAM minimum, 4GB+ recommended for large infrastructures\u003c/li\u003e\n\u003ch2 id=\"installation\" class=\"mobile-header\"\u003eInstallation\u003c/h2\u003e\n\u003ch3 id=\"using-package-manager-recommended\" class=\"mobile-header\"\u003eUsing Package Manager (Recommended)\u003c/h3\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Ubuntu/Debian\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Update package list\nsudo apt update\n\n# Install Ansible and dependencies\nsudo apt install -y ansible python3-pip python3-venv sshpass\n\n# Install additional collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\nansible-galaxy collection install amazon.aws\nansible-galaxy collection install azure.azcollection\nansible-galaxy collection install google.cloud\n\n# Verify installation\nansible --version\nansible-galaxy collection list\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### RHEL/CentOS/Rocky Linux/AlmaLinux\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install EPEL repository\nsudo yum install -y epel-release\n\n# Install Ansible\nsudo yum install -y ansible python3-pip\n\n# For newer distributions\nsudo dnf install -y ansible python3-pip\n\n# Install collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\n\n# Verify installation\nansible --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Fedora\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Ansible\nsudo dnf install -y ansible python3-pip python3-virtualenv\n\n# Install additional collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\n\n# Verify installation\nansible --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Arch Linux\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Ansible\nsudo pacman -Syu ansible python-pip\n\n# Install collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\n\n# Verify installation\nansible --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003cp class=\"mobile-paragraph\"\u003e#### Alpine Linux\u003c/p\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Ansible\nsudo apk update\nsudo apk add ansible python3 py3-pip openssh\n\n# Install collections\nansible-galaxy collection install community.general\n\n# Verify installation\nansible --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"using-pip-latest-version\" class=\"mobile-header\"\u003eUsing pip (Latest Version)\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create virtual environment (recommended)\npython3 -m venv ~/ansible-venv\nsource ~/ansible-venv/bin/activate\n\n# Install Ansible via pip\npip install --upgrade pip\npip install ansible ansible-core\n\n# Install additional packages\npip install paramiko jinja2 PyYAML cryptography\n\n# Install cloud provider SDKs\npip install boto3 botocore azure-cli google-cloud-storage\n\n# Install collections\nansible-galaxy collection install community.general\nansible-galaxy collection install ansible.posix\nansible-galaxy collection install kubernetes.core\nansible-galaxy collection install amazon.aws\nansible-galaxy collection install azure.azcollection\nansible-galaxy collection install google.cloud\n\n# Add to PATH permanently\necho \u0026#039;source ~/ansible-venv/bin/activate\u0026#039; \u0026gt;\u0026gt; ~/.bashrc\n\n# Verify installation\nansible --version\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"using-docker\" class=\"mobile-header\"\u003eUsing Docker\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create Ansible Docker container with mounted volumes\ndocker run --rm -it \\\n  -v $(pwd):/ansible \\\n  -v ~/.ssh:/root/.ssh:ro \\\n  -v ~/.aws:/root/.aws:ro \\\n  -v ~/.azure:/root/.azure:ro \\\n  --workdir /ansible \\\n  ansible/ansible:latest\n\n# Create wrapper script for ease of use\nsudo tee /usr/local/bin/ansible-docker \u0026gt; /dev/null \u0026lt;\u0026lt;\u0026#039;EOF\u0026#039;\n#!/bin/bash\ndocker run --rm -it \\\n  -v $(pwd):/ansible \\\n  -v ~/.ssh:/root/.ssh:ro \\\n  -v ~/.aws:/root/.aws:ro \\\n  -v ~/.azure:/root/.azure:ro \\\n  -v ~/.kube:/root/.kube:ro \\\n  --workdir /ansible \\\n  --network host \\\n  ansible/ansible:latest \u0026quot;$@\u0026quot;\nEOF\nsudo chmod +x /usr/local/bin/ansible-docker\n\n# Create aliases\necho \u0026#039;alias ansible=\u0026quot;ansible-docker ansible\u0026quot;\u0026#039; \u0026gt;\u0026gt; ~/.bashrc\necho \u0026#039;alias ansible-playbook=\u0026quot;ansible-docker ansible-playbook\u0026quot;\u0026#039; \u0026gt;\u0026gt; ~/.bashrc\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"project-structure-and-configuration\" class=\"mobile-header\"\u003eProject Structure and Configuration\u003c/h2\u003e\n\u003ch3 id=\"professional-project-structure\" class=\"mobile-header\"\u003eProfessional Project Structure\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create comprehensive Ansible project structure\nmkdir -p ~/ansible-infrastructure/{\n  inventories/{production,staging,development},\n  playbooks,\n  roles,\n  group_vars,\n  host_vars,\n  library,\n  filter_plugins,\n  callback_plugins,\n  vault,\n  collections,\n  logs\n}\n\ncd ~/ansible-infrastructure\n\n# Create ansible.cfg with security best practices\ncat \u0026gt; ansible.cfg \u0026lt;\u0026lt;EOF\n[defaults]\ninventory = inventories/production/hosts.yml\nremote_user = ansible\nprivate_key_file = ~/.ssh/ansible_key\nhost_key_checking = True\ntimeout = 30\nretry_files_enabled = False\nstdout_callback = yaml\nbin_ansible_callbacks = True\ngathering = smart\nfact_caching = jsonfile\nfact_caching_connection = ~/.ansible/facts_cache\nfact_caching_timeout = 86400\ninterpreter_python = auto_silent\nvault_password_file = ~/.ansible_vault_pass\n\n# Logging\nlog_path = logs/ansible.log\ndisplay_skipped_hosts = False\ndisplay_ok_hosts = False\n\n# Performance\nforks = 20\npoll_interval = 15\ninternal_poll_interval = 0.001\n\n# Security\ncommand_warnings = True\ndeprecation_warnings = True\naction_warnings = True\nlocalhost_warning = True\n\n[ssh_connection]\nssh_args = -o ControlMaster=auto -o ControlPersist=3600s -o PreferredAuthentications=publickey\npipelining = True\ncontrol_path = ~/.ansible/cp/%%h-%%p-%%r\nretries = 3\n\n[privilege_escalation]\nbecome = False\nbecome_method = sudo\nbecome_user = root\nbecome_ask_pass = False\n\n[inventory]\nenable_plugins = host_list, script, auto, yaml, ini, toml\ncache = True\ncache_plugin = jsonfile\ncache_timeout = 3600\ncache_connection = ~/.ansible/inventory_cache\n\n[galaxy]\nserver_list = automation_hub, galaxy\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"advanced-inventory-management\" class=\"mobile-header\"\u003eAdvanced Inventory Management\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create production inventory with groups and variables\ncat \u0026gt; inventories/production/hosts.yml \u0026lt;\u0026lt;EOF\nall:\n  children:\n    webservers:\n      hosts:\n        web-prod-01:\n          ansible_host: 10.0.1.10\n          ansible_user: ansible\n          server_role: frontend\n          backup_enabled: true\n        web-prod-02:\n          ansible_host: 10.0.1.11\n          ansible_user: ansible\n          server_role: frontend\n          backup_enabled: true\n        web-prod-03:\n          ansible_host: 10.0.1.12\n          ansible_user: ansible\n          server_role: frontend\n          backup_enabled: true\n      vars:\n        http_port: 80\n        https_port: 443\n        max_clients: 200\n        environment: production\n        monitoring_enabled: true\n\n    dbservers:\n      hosts:\n        db-prod-01:\n          ansible_host: 10.0.2.10\n          ansible_user: ansible\n          mysql_server_id: 1\n          mysql_role: master\n        db-prod-02:\n          ansible_host: 10.0.2.11\n          ansible_user: ansible\n          mysql_server_id: 2\n          mysql_role: slave\n      vars:\n        mysql_port: 3306\n        mysql_root_password: \u0026quot;{{ vault_mysql_root_password }}\u0026quot;\n        mysql_replication_user: \u0026quot;{{ vault_mysql_replication_user }}\u0026quot;\n        mysql_replication_password: \u0026quot;{{ vault_mysql_replication_password }}\u0026quot;\n\n    loadbalancers:\n      hosts:\n        lb-prod-01:\n          ansible_host: 10.0.3.10\n          ansible_user: ansible\n          lb_algorithm: roundrobin\n        lb-prod-02:\n          ansible_host: 10.0.3.11\n          ansible_user: ansible\n          lb_algorithm: roundrobin\n      vars:\n        haproxy_stats_enabled: true\n        haproxy_stats_user: admin\n        haproxy_stats_password: \u0026quot;{{ vault_haproxy_stats_password }}\u0026quot;\n\n    monitoring:\n      hosts:\n        monitor-prod-01:\n          ansible_host: 10.0.4.10\n          ansible_user: ansible\n          prometheus_retention: 30d\n          grafana_admin_password: \u0026quot;{{ vault_grafana_admin_password }}\u0026quot;\n\n    bastion:\n      hosts:\n        bastion-prod-01:\n          ansible_host: bastion.example.com\n          ansible_user: ansible\n          ansible_port: 22\n\n# Global variables for all hosts\nwebservers:\n  vars:\n    nginx_worker_processes: auto\n    nginx_worker_connections: 1024\n    ssl_certificate_path: /etc/ssl/certs\n    backup_schedule: \u0026quot;0 2 * * *\u0026quot;\n\ndbservers:\n  vars:\n    mysql_innodb_buffer_pool_size: 2G\n    mysql_max_connections: 200\n    backup_schedule: \u0026quot;0 1 * * *\u0026quot;\n    monitoring_enabled: true\nEOF\n\n# Create dynamic inventory script for cloud environments\ncat \u0026gt; inventories/production/aws_ec2.yml \u0026lt;\u0026lt;EOF\nplugin: amazon.aws.aws_ec2\nregions:\n  - us-west-2\n  - us-east-1\nfilters:\n  tag:Environment: production\n  tag:Ansible: managed\n  instance-state-name: running\n\nhostnames:\n  - tag:Name\n  - dns-name\n  - private-ip-address\n\ncompose:\n  ansible_host: private_ip_address\n  ec2_state: ec2_state_name\n  ec2_arch: ec2_architecture\n\ngroups:\n  # Group by instance type\n  webservers: \u0026quot;\u0026#039;web\u0026#039; in tags.Role\u0026quot;\n  databases: \u0026quot;\u0026#039;db\u0026#039; in tags.Role\u0026quot;\n  loadbalancers: \u0026quot;\u0026#039;lb\u0026#039; in tags.Role\u0026quot;\n  \n  # Group by environment\n  production: \u0026quot;tags.Environment == \u0026#039;production\u0026#039;\u0026quot;\n  staging: \u0026quot;tags.Environment == \u0026#039;staging\u0026#039;\u0026quot;\n  \n  # Group by availability zone\n  us_west_2a: ec2_placement_availability_zone == \u0026quot;us-west-2a\u0026quot;\n  us_west_2b: ec2_placement_availability_zone == \u0026quot;us-west-2b\u0026quot;\n\nkeyed_groups:\n  # Create groups based on tags\n  - key: tags.Environment\n    prefix: env\n  - key: tags.Role  \n    prefix: role\n  - key: ec2_instance_type\n    prefix: type\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"ansible-vault-security\" class=\"mobile-header\"\u003eAnsible Vault Security\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create strong vault password\nopenssl rand -base64 32 \u0026gt; ~/.ansible_vault_pass\nchmod 600 ~/.ansible_vault_pass\n\n# Create encrypted vault file for secrets\nansible-vault create group_vars/all/vault.yml\n# Enter secure passwords and API keys:\n# vault_mysql_root_password: your_secure_mysql_password\n# vault_grafana_admin_password: your_secure_grafana_password  \n# vault_ssl_private_key: |\n#   -----BEGIN PRIVATE KEY-----\n#   your_private_key_content\n#   -----END PRIVATE KEY-----\n\n# Create non-encrypted variables file\ncat \u0026gt; group_vars/all/vars.yml \u0026lt;\u0026lt;EOF\n# Non-sensitive variables\nmysql_port: 3306\nnginx_port: 80\ngrafana_port: 3000\nprometheus_port: 9090\n\n# Reference vault variables\nmysql_root_password: \u0026quot;{{ vault_mysql_root_password }}\u0026quot;\ngrafana_admin_password: \u0026quot;{{ vault_grafana_admin_password }}\u0026quot;\n\n# SSL configuration\nssl_certificate_path: /etc/ssl/certs/server.crt\nssl_private_key_path: /etc/ssl/private/server.key\nssl_private_key_content: \u0026quot;{{ vault_ssl_private_key }}\u0026quot;\n\n# Security settings\nansible_ssh_common_args: \u0026#039;-o StrictHostKeyChecking=yes -o UserKnownHostsFile=~/.ssh/known_hosts\u0026#039;\nansible_become_method: sudo\nansible_become_user: root\nEOF\n\n# Edit vault file\nansible-vault edit group_vars/all/vault.yml\n\n# View vault file (read-only)\nansible-vault view group_vars/all/vault.yml\n\n# Change vault password\nansible-vault rekey group_vars/all/vault.yml\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"comprehensive-playbooks\" class=\"mobile-header\"\u003eComprehensive Playbooks\u003c/h2\u003e\n\u003ch3 id=\"system-hardening-playbook\" class=\"mobile-header\"\u003eSystem Hardening Playbook\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; playbooks/system-hardening.yml \u0026lt;\u0026lt;EOF\n---\n- name: System Security Hardening\n  hosts: all\n  become: yes\n  gather_facts: yes\n  vars:\n    security_packages:\n      - fail2ban\n      - ufw\n      - aide\n      - chkrootkit\n      - rkhunter\n      - clamav\n      - lynis\n    \n    disabled_services:\n      - telnet\n      - rsh\n      - rlogin\n      - tftp\n      - talk\n      - finger\n\n  pre_tasks:\n    - name: Update package cache\n      package:\n        update_cache: yes\n        cache_valid_time: 3600\n      when: ansible_os_family in [\u0026quot;Debian\u0026quot;, \u0026quot;RedHat\u0026quot;]\n\n  tasks:\n    # System updates\n    - name: Upgrade all packages\n      package:\n        name: \u0026quot;*\u0026quot;\n        state: latest\n      when: ansible_os_family == \u0026quot;RedHat\u0026quot;\n\n    - name: Upgrade all packages (Debian/Ubuntu)\n      apt:\n        upgrade: dist\n        autoremove: yes\n        autoclean: yes\n      when: ansible_os_family == \u0026quot;Debian\u0026quot;\n\n    # Install security packages\n    - name: Install security packages\n      package:\n        name: \u0026quot;{{ security_packages }}\u0026quot;\n        state: present\n\n    # User security\n    - name: Create ansible user with limited privileges\n      user:\n        name: ansible\n        groups: sudo\n        shell: /bin/bash\n        create_home: yes\n        generate_ssh_key: yes\n        ssh_key_bits: 4096\n        ssh_key_type: rsa\n\n    - name: Configure sudo for ansible user\n      lineinfile:\n        path: /etc/sudoers.d/ansible\n        line: \u0026#039;ansible ALL=(ALL) NOPASSWD:ALL\u0026#039;\n        create: yes\n        mode: \u0026#039;0440\u0026#039;\n        validate: \u0026#039;visudo -cf %s\u0026#039;\n\n    # SSH hardening\n    - name: Configure SSH security\n      lineinfile:\n        path: /etc/ssh/sshd_config\n        regexp: \u0026quot;{{ item.regexp }}\u0026quot;\n        line: \u0026quot;{{ item.line }}\u0026quot;\n        backup: yes\n      loop:\n        - { regexp: \u0026#039;^#?PermitRootLogin\u0026#039;, line: \u0026#039;PermitRootLogin no\u0026#039; }\n        - { regexp: \u0026#039;^#?PasswordAuthentication\u0026#039;, line: \u0026#039;PasswordAuthentication no\u0026#039; }\n        - { regexp: \u0026#039;^#?X11Forwarding\u0026#039;, line: \u0026#039;X11Forwarding no\u0026#039; }\n        - { regexp: \u0026#039;^#?MaxAuthTries\u0026#039;, line: \u0026#039;MaxAuthTries 3\u0026#039; }\n        - { regexp: \u0026#039;^#?ClientAliveInterval\u0026#039;, line: \u0026#039;ClientAliveInterval 300\u0026#039; }\n        - { regexp: \u0026#039;^#?ClientAliveCountMax\u0026#039;, line: \u0026#039;ClientAliveCountMax 0\u0026#039; }\n        - { regexp: \u0026#039;^#?Protocol\u0026#039;, line: \u0026#039;Protocol 2\u0026#039; }\n        - { regexp: \u0026#039;^#?LogLevel\u0026#039;, line: \u0026#039;LogLevel VERBOSE\u0026#039; }\n      notify: restart ssh\n\n    # Firewall configuration\n    - name: Configure UFW firewall (Debian/Ubuntu)\n      ufw:\n        state: enabled\n        policy: deny\n        direction: incoming\n      when: ansible_os_family == \u0026quot;Debian\u0026quot;\n\n    - name: Allow SSH through UFW\n      ufw:\n        rule: allow\n        port: 22\n        proto: tcp\n        comment: \u0026#039;SSH access\u0026#039;\n      when: ansible_os_family == \u0026quot;Debian\u0026quot;\n\n    - name: Configure firewalld (RHEL/CentOS/Fedora)\n      firewalld:\n        state: enabled\n        permanent: yes\n        immediate: yes\n      when: ansible_os_family == \u0026quot;RedHat\u0026quot;\n\n    - name: Allow SSH through firewalld\n      firewalld:\n        service: ssh\n        permanent: yes\n        state: enabled\n        immediate: yes\n      when: ansible_os_family == \u0026quot;RedHat\u0026quot;\n\n    # Disable unnecessary services\n    - name: Disable unnecessary services\n      systemd:\n        name: \u0026quot;{{ item }}\u0026quot;\n        enabled: no\n        state: stopped\n      loop: \u0026quot;{{ disabled_services }}\u0026quot;\n      ignore_errors: yes\n\n    # File system security\n    - name: Set proper permissions on sensitive files\n      file:\n        path: \u0026quot;{{ item.path }}\u0026quot;\n        mode: \u0026quot;{{ item.mode }}\u0026quot;\n        owner: root\n        group: root\n      loop:\n        - { path: \u0026#039;/etc/passwd\u0026#039;, mode: \u0026#039;0644\u0026#039; }\n        - { path: \u0026#039;/etc/shadow\u0026#039;, mode: \u0026#039;0640\u0026#039; }\n        - { path: \u0026#039;/etc/group\u0026#039;, mode: \u0026#039;0644\u0026#039; }\n        - { path: \u0026#039;/etc/gshadow\u0026#039;, mode: \u0026#039;0640\u0026#039; }\n        - { path: \u0026#039;/etc/ssh/sshd_config\u0026#039;, mode: \u0026#039;0600\u0026#039; }\n\n    # Kernel security parameters\n    - name: Configure kernel security parameters\n      sysctl:\n        name: \u0026quot;{{ item.key }}\u0026quot;\n        value: \u0026quot;{{ item.value }}\u0026quot;\n        sysctl_set: yes\n        state: present\n        reload: yes\n      loop:\n        - { key: \u0026#039;net.ipv4.ip_forward\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.all.send_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.default.send_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.all.accept_source_route\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.default.accept_source_route\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.all.accept_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.default.accept_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.all.secure_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.default.secure_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.all.log_martians\u0026#039;, value: \u0026#039;1\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.default.log_martians\u0026#039;, value: \u0026#039;1\u0026#039; }\n        - { key: \u0026#039;kernel.randomize_va_space\u0026#039;, value: \u0026#039;2\u0026#039; }\n\n    # Configure fail2ban\n    - name: Configure fail2ban for SSH protection\n      template:\n        src: templates/fail2ban-jail.local.j2\n        dest: /etc/fail2ban/jail.local\n        backup: yes\n      notify: restart fail2ban\n\n  handlers:\n    - name: restart ssh\n      service:\n        name: \u0026quot;{{ \u0026#039;ssh\u0026#039; if ansible_os_family == \u0026#039;Debian\u0026#039; else \u0026#039;sshd\u0026#039; }}\u0026quot;\n        state: restarted\n\n    - name: restart fail2ban\n      service:\n        name: fail2ban\n        state: restarted\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"application-deployment-playbook\" class=\"mobile-header\"\u003eApplication Deployment Playbook\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; playbooks/web-application-deployment.yml \u0026lt;\u0026lt;EOF\n---\n- name: Deploy Web Application Stack\n  hosts: webservers\n  become: yes\n  serial: \u0026quot;25%\u0026quot;  # Rolling deployment\n  max_fail_percentage: 10\n  vars:\n    app_name: mywebapp\n    app_version: \u0026quot;{{ app_version | default(\u0026#039;latest\u0026#039;) }}\u0026quot;\n    app_port: 3000\n    nginx_workers: \u0026quot;{{ ansible_processor_cores }}\u0026quot;\n    \n  pre_tasks:\n    - name: Check if maintenance mode file exists\n      stat:\n        path: /var/www/html/maintenance.html\n      register: maintenance_mode\n\n    - name: Fail if in maintenance mode\n      fail:\n        msg: \u0026quot;Server is in maintenance mode\u0026quot;\n      when: maintenance_mode.stat.exists and not force_deployment | default(false)\n\n  tasks:\n    # Application deployment\n    - name: Create application user\n      user:\n        name: \u0026quot;{{ app_name }}\u0026quot;\n        system: yes\n        shell: /bin/false\n        home: \u0026quot;/opt/{{ app_name }}\u0026quot;\n        create_home: yes\n\n    - name: Create application directories\n      file:\n        path: \u0026quot;{{ item }}\u0026quot;\n        state: directory\n        owner: \u0026quot;{{ app_name }}\u0026quot;\n        group: \u0026quot;{{ app_name }}\u0026quot;\n        mode: \u0026#039;0755\u0026#039;\n      loop:\n        - \u0026quot;/opt/{{ app_name }}\u0026quot;\n        - \u0026quot;/opt/{{ app_name }}/releases\u0026quot;\n        - \u0026quot;/opt/{{ app_name }}/shared\u0026quot;\n        - \u0026quot;/var/log/{{ app_name }}\u0026quot;\n\n    - name: Download application release\n      get_url:\n        url: \u0026quot;https://releases.example.com/{{ app_name }}/{{ app_version }}/{{ app_name }}-{{ app_version }}.tar.gz\u0026quot;\n        dest: \u0026quot;/tmp/{{ app_name }}-{{ app_version }}.tar.gz\u0026quot;\n        mode: \u0026#039;0644\u0026#039;\n        timeout: 300\n      register: download_result\n\n    - name: Extract application\n      unarchive:\n        src: \u0026quot;/tmp/{{ app_name }}-{{ app_version }}.tar.gz\u0026quot;\n        dest: \u0026quot;/opt/{{ app_name }}/releases/\u0026quot;\n        owner: \u0026quot;{{ app_name }}\u0026quot;\n        group: \u0026quot;{{ app_name }}\u0026quot;\n        remote_src: yes\n        creates: \u0026quot;/opt/{{ app_name }}/releases/{{ app_version }}\u0026quot;\n\n    - name: Create symlink to current release\n      file:\n        src: \u0026quot;/opt/{{ app_name }}/releases/{{ app_version }}\u0026quot;\n        dest: \u0026quot;/opt/{{ app_name }}/current\u0026quot;\n        state: link\n        owner: \u0026quot;{{ app_name }}\u0026quot;\n        group: \u0026quot;{{ app_name }}\u0026quot;\n      notify:\n        - reload application\n        - reload nginx\n\n    # Configuration management\n    - name: Deploy application configuration\n      template:\n        src: \u0026quot;templates/{{ app_name }}.conf.j2\u0026quot;\n        dest: \u0026quot;/opt/{{ app_name }}/shared/{{ app_name }}.conf\u0026quot;\n        owner: \u0026quot;{{ app_name }}\u0026quot;\n        group: \u0026quot;{{ app_name }}\u0026quot;\n        mode: \u0026#039;0640\u0026#039;\n        backup: yes\n      notify: reload application\n\n    # Service management\n    - name: Deploy systemd service file\n      template:\n        src: \u0026quot;templates/{{ app_name }}.service.j2\u0026quot;\n        dest: \u0026quot;/etc/systemd/system/{{ app_name }}.service\u0026quot;\n        mode: \u0026#039;0644\u0026#039;\n      notify:\n        - daemon reload\n        - restart application\n\n    - name: Enable and start application service\n      systemd:\n        name: \u0026quot;{{ app_name }}\u0026quot;\n        enabled: yes\n        state: started\n        daemon_reload: yes\n\n    # Health check\n    - name: Wait for application to be ready\n      uri:\n        url: \u0026quot;http://localhost:{{ app_port }}/health\u0026quot;\n        method: GET\n        status_code: 200\n      retries: 30\n      delay: 10\n\n    # Cleanup old releases\n    - name: Clean up old releases (keep last 3)\n      shell: |\n        cd /opt/{{ app_name }}/releases\n        ls -t | tail -n +4 | xargs rm -rf\n      args:\n        executable: /bin/bash\n\n  post_tasks:\n    - name: Verify application is running\n      uri:\n        url: \u0026quot;http://{{ ansible_default_ipv4.address }}:{{ app_port }}/health\u0026quot;\n        method: GET\n        status_code: 200\n      delegate_to: localhost\n\n    - name: Log deployment success\n      lineinfile:\n        path: \u0026quot;/var/log/{{ app_name }}/deployments.log\u0026quot;\n        line: \u0026quot;{{ ansible_date_time.iso8601 }} - Successfully deployed {{ app_version }} to {{ inventory_hostname }}\u0026quot;\n        create: yes\n\n  handlers:\n    - name: daemon reload\n      systemd:\n        daemon_reload: yes\n\n    - name: restart application\n      systemd:\n        name: \u0026quot;{{ app_name }}\u0026quot;\n        state: restarted\n\n    - name: reload application\n      systemd:\n        name: \u0026quot;{{ app_name }}\u0026quot;\n        state: reloaded\n\n    - name: reload nginx\n      service:\n        name: nginx\n        state: reloaded\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"infrastructure-as-code-playbook\" class=\"mobile-header\"\u003eInfrastructure as Code Playbook\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; playbooks/infrastructure-provisioning.yml \u0026lt;\u0026lt;EOF\n---\n- name: Infrastructure Provisioning and Configuration\n  hosts: all\n  become: yes\n  strategy: free  # Parallel execution\n  vars:\n    base_packages:\n      Debian:\n        - curl\n        - wget\n        - vim\n        - htop\n        - git\n        - python3\n        - python3-pip\n        - unzip\n        - tree\n      RedHat:\n        - curl\n        - wget\n        - vim\n        - htop\n        - git\n        - python3\n        - python3-pip\n        - unzip\n        - tree\n        - epel-release\n\n  tasks:\n    # System preparation\n    - name: Set hostname\n      hostname:\n        name: \u0026quot;{{ inventory_hostname }}\u0026quot;\n\n    - name: Update /etc/hosts\n      lineinfile:\n        path: /etc/hosts\n        line: \u0026quot;{{ ansible_default_ipv4.address }} {{ inventory_hostname }}\u0026quot;\n        backup: yes\n\n    # Package management\n    - name: Install base packages\n      package:\n        name: \u0026quot;{{ base_packages[ansible_os_family] | default(base_packages[\u0026#039;Debian\u0026#039;]) }}\u0026quot;\n        state: present\n\n    # Time synchronization\n    - name: Install and configure NTP\n      package:\n        name: \u0026quot;{{ \u0026#039;ntp\u0026#039; if ansible_os_family == \u0026#039;Debian\u0026#039; else \u0026#039;chrony\u0026#039; }}\u0026quot;\n        state: present\n\n    - name: Start and enable time synchronization\n      service:\n        name: \u0026quot;{{ \u0026#039;ntp\u0026#039; if ansible_os_family == \u0026#039;Debian\u0026#039; else \u0026#039;chronyd\u0026#039; }}\u0026quot;\n        state: started\n        enabled: yes\n\n    # Log management\n    - name: Configure logrotate for application logs\n      template:\n        src: templates/app-logrotate.j2\n        dest: /etc/logrotate.d/applications\n        mode: \u0026#039;0644\u0026#039;\n\n    # Monitoring agent installation\n    - name: Install Node Exporter for Prometheus monitoring\n      get_url:\n        url: \u0026quot;https://github.com/prometheus/node_exporter/releases/download/v1.6.1/node_exporter-1.6.1.linux-amd64.tar.gz\u0026quot;\n        dest: /tmp/node_exporter.tar.gz\n        mode: \u0026#039;0644\u0026#039;\n\n    - name: Extract Node Exporter\n      unarchive:\n        src: /tmp/node_exporter.tar.gz\n        dest: /tmp\n        remote_src: yes\n\n    - name: Copy Node Exporter binary\n      copy:\n        src: /tmp/node_exporter-1.6.1.linux-amd64/node_exporter\n        dest: /usr/local/bin/node_exporter\n        mode: \u0026#039;0755\u0026#039;\n        owner: root\n        group: root\n        remote_src: yes\n\n    - name: Create node_exporter systemd service\n      template:\n        src: templates/node_exporter.service.j2\n        dest: /etc/systemd/system/node_exporter.service\n        mode: \u0026#039;0644\u0026#039;\n      notify:\n        - daemon reload\n        - restart node_exporter\n\n    # Security configuration\n    - name: Configure kernel parameters for security\n      sysctl:\n        name: \u0026quot;{{ item.key }}\u0026quot;\n        value: \u0026quot;{{ item.value }}\u0026quot;\n        sysctl_set: yes\n        state: present\n        reload: yes\n      loop:\n        - { key: \u0026#039;kernel.dmesg_restrict\u0026#039;, value: \u0026#039;1\u0026#039; }\n        - { key: \u0026#039;kernel.kptr_restrict\u0026#039;, value: \u0026#039;2\u0026#039; }\n        - { key: \u0026#039;kernel.yama.ptrace_scope\u0026#039;, value: \u0026#039;1\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.all.log_martians\u0026#039;, value: \u0026#039;1\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.default.log_martians\u0026#039;, value: \u0026#039;1\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.all.send_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n        - { key: \u0026#039;net.ipv4.conf.default.send_redirects\u0026#039;, value: \u0026#039;0\u0026#039; }\n\n    # File integrity monitoring\n    - name: Initialize AIDE database\n      shell: |\n        aide --init\n        mv /var/lib/aide/aide.db.new /var/lib/aide/aide.db\n      args:\n        creates: /var/lib/aide/aide.db\n\n    - name: Schedule AIDE integrity checks\n      cron:\n        name: \u0026quot;AIDE integrity check\u0026quot;\n        minute: \u0026quot;0\u0026quot;\n        hour: \u0026quot;3\u0026quot;\n        job: \u0026quot;/usr/bin/aide --check\u0026quot;\n        user: root\n\n  handlers:\n    - name: daemon reload\n      systemd:\n        daemon_reload: yes\n\n    - name: restart node_exporter\n      service:\n        name: node_exporter\n        state: restarted\n        enabled: yes\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"advanced-role-development\" class=\"mobile-header\"\u003eAdvanced Role Development\u003c/h2\u003e\n\u003ch3 id=\"comprehensive-nginx-role\" class=\"mobile-header\"\u003eComprehensive NGINX Role\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create NGINX role structure\nansible-galaxy init roles/nginx\n\n# Main tasks\ncat \u0026gt; roles/nginx/tasks/main.yml \u0026lt;\u0026lt;EOF\n---\n# NGINX Installation and Configuration Role\n- name: Include OS-specific variables\n  include_vars: \u0026quot;{{ ansible_os_family }}.yml\u0026quot;\n\n- name: Install NGINX\n  include_tasks: \u0026quot;install-{{ ansible_os_family }}.yml\u0026quot;\n\n- name: Create NGINX directories\n  file:\n    path: \u0026quot;{{ item }}\u0026quot;\n    state: directory\n    owner: root\n    group: root\n    mode: \u0026#039;0755\u0026#039;\n  loop:\n    - /etc/nginx/sites-available\n    - /etc/nginx/sites-enabled\n    - /etc/nginx/conf.d\n    - /var/log/nginx\n    - /var/cache/nginx\n\n- name: Generate DH parameters\n  openssl_dhparam:\n    path: /etc/ssl/certs/dhparam.pem\n    size: 2048\n  when: nginx_ssl_enabled | default(false)\n\n- name: Deploy NGINX main configuration\n  template:\n    src: nginx.conf.j2\n    dest: /etc/nginx/nginx.conf\n    backup: yes\n    validate: \u0026#039;nginx -t -c %s\u0026#039;\n  notify: reload nginx\n\n- name: Deploy virtual host configurations\n  template:\n    src: vhost.conf.j2\n    dest: \u0026quot;/etc/nginx/sites-available/{{ item.name }}.conf\u0026quot;\n    backup: yes\n  loop: \u0026quot;{{ nginx_vhosts | default([]) }}\u0026quot;\n  notify: reload nginx\n\n- name: Enable virtual hosts\n  file:\n    src: \u0026quot;/etc/nginx/sites-available/{{ item.name }}.conf\u0026quot;\n    dest: \u0026quot;/etc/nginx/sites-enabled/{{ item.name }}.conf\u0026quot;\n    state: link\n  loop: \u0026quot;{{ nginx_vhosts | default([]) }}\u0026quot;\n  when: item.enabled | default(true)\n  notify: reload nginx\n\n- name: Remove default site\n  file:\n    path: /etc/nginx/sites-enabled/default\n    state: absent\n  notify: reload nginx\n\n- name: Start and enable NGINX\n  service:\n    name: nginx\n    state: started\n    enabled: yes\n\n- name: Configure log rotation\n  template:\n    src: nginx-logrotate.j2\n    dest: /etc/logrotate.d/nginx\n    mode: \u0026#039;0644\u0026#039;\n\n- name: Setup NGINX monitoring\n  include_tasks: monitoring.yml\n  when: nginx_monitoring_enabled | default(false)\n\n- name: Configure SSL certificates\n  include_tasks: ssl.yml\n  when: nginx_ssl_enabled | default(false)\nEOF\n\n# OS-specific installation tasks\ncat \u0026gt; roles/nginx/tasks/install-Debian.yml \u0026lt;\u0026lt;EOF\n---\n- name: Add NGINX signing key (Debian/Ubuntu)\n  apt_key:\n    url: https://nginx.org/keys/nginx_signing.key\n    state: present\n\n- name: Add NGINX repository (Debian/Ubuntu)\n  apt_repository:\n    repo: \u0026quot;deb https://nginx.org/packages/{{ ansible_distribution | lower }}/ {{ ansible_distribution_release }} nginx\u0026quot;\n    state: present\n\n- name: Install NGINX (Debian/Ubuntu)\n  apt:\n    name: nginx\n    state: present\n    update_cache: yes\nEOF\n\ncat \u0026gt; roles/nginx/tasks/install-RedHat.yml \u0026lt;\u0026lt;EOF\n---\n- name: Add NGINX repository (RHEL/CentOS)\n  yum_repository:\n    name: nginx\n    description: NGINX Repository\n    baseurl: \u0026quot;https://nginx.org/packages/centos/{{ ansible_distribution_major_version }}/$basearch/\u0026quot;\n    gpgcheck: yes\n    gpgkey: https://nginx.org/keys/nginx_signing.key\n    enabled: yes\n\n- name: Install NGINX (RHEL/CentOS)\n  yum:\n    name: nginx\n    state: present\nEOF\n\n# Variables\ncat \u0026gt; roles/nginx/vars/main.yml \u0026lt;\u0026lt;EOF\n---\nnginx_user: nginx\nnginx_worker_processes: auto\nnginx_worker_connections: 1024\nnginx_keepalive_timeout: 65\nnginx_ssl_enabled: false\nnginx_monitoring_enabled: true\n\nnginx_security_headers:\n  - \u0026quot;add_header X-Frame-Options SAMEORIGIN always;\u0026quot;\n  - \u0026quot;add_header X-Content-Type-Options nosniff always;\u0026quot;\n  - \u0026quot;add_header X-XSS-Protection \u0026#039;1; mode=block\u0026#039; always;\u0026quot;\n  - \u0026quot;add_header Strict-Transport-Security \u0026#039;max-age=31536000; includeSubDomains\u0026#039; always;\u0026quot;\n\nnginx_default_vhost:\n  name: default\n  listen: 80\n  server_name: \u0026quot;_\u0026quot;\n  root: /var/www/html\n  index: index.html\n  enabled: false\nEOF\n\n# Templates\ncat \u0026gt; roles/nginx/templates/nginx.conf.j2 \u0026lt;\u0026lt;EOF\nuser {{ nginx_user }};\nworker_processes {{ nginx_worker_processes }};\npid /var/run/nginx.pid;\n\nevents {\n    worker_connections {{ nginx_worker_connections }};\n    use epoll;\n    multi_accept on;\n}\n\nhttp {\n    # Basic settings\n    sendfile on;\n    tcp_nopush on;\n    tcp_nodelay on;\n    keepalive_timeout {{ nginx_keepalive_timeout }};\n    types_hash_max_size 2048;\n    server_tokens off;\n\n    include /etc/nginx/mime.types;\n    default_type application/octet-stream;\n\n    # SSL configuration\n{% if nginx_ssl_enabled %}\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_prefer_server_ciphers off;\n    ssl_dhparam /etc/ssl/certs/dhparam.pem;\n{% endif %}\n\n    # Gzip compression\n    gzip on;\n    gzip_vary on;\n    gzip_proxied any;\n    gzip_comp_level 6;\n    gzip_types\n        application/javascript\n        application/json\n        application/xml\n        text/css\n        text/javascript\n        text/xml\n        text/plain;\n\n    # Security headers\n{% for header in nginx_security_headers %}\n    {{ header }}\n{% endfor %}\n\n    # Logging\n    log_format main \u0026#039;\\$remote_addr - \\$remote_user [\\$time_local] \u0026quot;\\$request\u0026quot; \u0026#039;\n                    \u0026#039;\\$status \\$body_bytes_sent \u0026quot;\\$http_referer\u0026quot; \u0026#039;\n                    \u0026#039;\u0026quot;\\$http_user_agent\u0026quot; \u0026quot;\\$http_x_forwarded_for\u0026quot;\u0026#039;;\n\n    access_log /var/log/nginx/access.log main;\n    error_log /var/log/nginx/error.log;\n\n    # Rate limiting\n    limit_req_zone \\$binary_remote_addr zone=login:10m rate=10r/m;\n    limit_conn_zone \\$binary_remote_addr zone=addr:10m;\n\n    # Include configurations\n    include /etc/nginx/conf.d/*.conf;\n    include /etc/nginx/sites-enabled/*;\n}\nEOF\n\n# Handlers\ncat \u0026gt; roles/nginx/handlers/main.yml \u0026lt;\u0026lt;EOF\n---\n- name: restart nginx\n  service:\n    name: nginx\n    state: restarted\n\n- name: reload nginx\n  service:\n    name: nginx\n    state: reloaded\n\n- name: validate nginx config\n  command: nginx -t\n  changed_when: false\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"security-and-compliance\" class=\"mobile-header\"\u003eSecurity and Compliance\u003c/h2\u003e\n\u003ch3 id=\"ansible-security-scanner-integration\" class=\"mobile-header\"\u003eAnsible Security Scanner Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create security scanning playbook\ncat \u0026gt; playbooks/security-scan.yml \u0026lt;\u0026lt;EOF\n---\n- name: Security Compliance Scanning\n  hosts: all\n  become: yes\n  gather_facts: yes\n  vars:\n    scan_results_dir: \u0026quot;/tmp/security-scans\u0026quot;\n    \n  tasks:\n    - name: Create scan results directory\n      file:\n        path: \u0026quot;{{ scan_results_dir }}\u0026quot;\n        state: directory\n        mode: \u0026#039;0755\u0026#039;\n\n    # CIS benchmark scanning\n    - name: Download CIS benchmark script\n      get_url:\n        url: \u0026quot;https://github.com/dev-sec/cis-dil-benchmark/archive/master.zip\u0026quot;\n        dest: \u0026quot;/tmp/cis-benchmark.zip\u0026quot;\n        mode: \u0026#039;0644\u0026#039;\n\n    - name: Run CIS benchmark scan\n      shell: |\n        cd /tmp\n        unzip -o cis-benchmark.zip\n        cd cis-dil-benchmark-master\n        bash cis_ubuntu2204.sh \u0026gt; {{ scan_results_dir }}/cis-scan-{{ inventory_hostname }}.txt\n      args:\n        creates: \u0026quot;{{ scan_results_dir }}/cis-scan-{{ inventory_hostname }}.txt\u0026quot;\n\n    # Lynis security audit\n    - name: Install Lynis\n      package:\n        name: lynis\n        state: present\n\n    - name: Run Lynis security audit\n      command: lynis audit system --quiet --cronjob\n      register: lynis_result\n      changed_when: false\n\n    - name: Save Lynis results\n      copy:\n        content: \u0026quot;{{ lynis_result.stdout }}\u0026quot;\n        dest: \u0026quot;{{ scan_results_dir }}/lynis-scan-{{ inventory_hostname }}.txt\u0026quot;\n        mode: \u0026#039;0644\u0026#039;\n\n    # OpenSCAP compliance scanning\n    - name: Install OpenSCAP (RHEL/CentOS)\n      package:\n        name:\n          - openscap-scanner\n          - scap-security-guide\n        state: present\n      when: ansible_os_family == \u0026quot;RedHat\u0026quot;\n\n    - name: Install OpenSCAP (Debian/Ubuntu)\n      package:\n        name:\n          - libopenscap8\n          - ssg-debian\n        state: present\n      when: ansible_os_family == \u0026quot;Debian\u0026quot;\n\n    - name: Run OpenSCAP scan\n      shell: |\n        oscap xccdf eval --profile xccdf_org.ssgproject.content_profile_standard \\\n          --results {{ scan_results_dir }}/oscap-results-{{ inventory_hostname }}.xml \\\n          --report {{ scan_results_dir }}/oscap-report-{{ inventory_hostname }}.html \\\n          /usr/share/xml/scap/ssg/content/ssg-{{ ansible_distribution | lower }}{{ ansible_distribution_major_version }}-xccdf.xml\n      ignore_errors: yes\n      when: ansible_os_family in [\u0026quot;RedHat\u0026quot;, \u0026quot;Debian\u0026quot;]\n\n    # Vulnerability scanning with Trivy\n    - name: Install Trivy vulnerability scanner\n      shell: |\n        curl -sfL https://raw.githubusercontent.com/aquasecurity/trivy/main/contrib/install.sh | sh -s -- -b /usr/local/bin\n      args:\n        creates: /usr/local/bin/trivy\n\n    - name: Run Trivy filesystem scan\n      shell: |\n        trivy fs --format json --output {{ scan_results_dir }}/trivy-scan-{{ inventory_hostname }}.json /\n      ignore_errors: yes\n\n    # Collect scan results\n    - name: Fetch scan results to control machine\n      fetch:\n        src: \u0026quot;{{ item }}\u0026quot;\n        dest: \u0026quot;./security-reports/{{ inventory_hostname }}/\u0026quot;\n        flat: yes\n      loop:\n        - \u0026quot;{{ scan_results_dir }}/cis-scan-{{ inventory_hostname }}.txt\u0026quot;\n        - \u0026quot;{{ scan_results_dir }}/lynis-scan-{{ inventory_hostname }}.txt\u0026quot;\n        - \u0026quot;{{ scan_results_dir }}/oscap-report-{{ inventory_hostname }}.html\u0026quot;\n        - \u0026quot;{{ scan_results_dir }}/trivy-scan-{{ inventory_hostname }}.json\u0026quot;\n      ignore_errors: yes\n      delegate_to: localhost\n\n  post_tasks:\n    - name: Generate compliance summary\n      template:\n        src: templates/compliance-summary.j2\n        dest: \u0026quot;{{ scan_results_dir }}/compliance-summary-{{ inventory_hostname }}.txt\u0026quot;\n        mode: \u0026#039;0644\u0026#039;\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"ansible-awxtower-integration\" class=\"mobile-header\"\u003eAnsible AWX/Tower Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Ansible AWX (open source)\ncat \u0026gt; playbooks/install-awx.yml \u0026lt;\u0026lt;EOF\n---\n- name: Install Ansible AWX\n  hosts: localhost\n  connection: local\n  become: yes\n  vars:\n    awx_namespace: awx\n    awx_admin_user: admin\n    awx_admin_password: \u0026quot;{{ vault_awx_admin_password }}\u0026quot;\n\n  tasks:\n    - name: Install prerequisite packages\n      package:\n        name:\n          - git\n          - curl\n          - docker.io\n          - docker-compose\n        state: present\n\n    - name: Clone AWX repository\n      git:\n        repo: https://github.com/ansible/awx.git\n        dest: /opt/awx\n        version: devel\n\n    - name: Create AWX Docker inventory\n      template:\n        src: templates/awx-docker-inventory.j2\n        dest: /opt/awx/installer/inventory\n        mode: \u0026#039;0644\u0026#039;\n\n    - name: Install AWX using Ansible\n      shell: ansible-playbook -i inventory install.yml\n      args:\n        chdir: /opt/awx/installer\n      environment:\n        ANSIBLE_HOST_KEY_CHECKING: False\n\n    - name: Wait for AWX to be ready\n      uri:\n        url: \u0026quot;http://localhost:80/api/v2/ping/\u0026quot;\n        method: GET\n      retries: 30\n      delay: 10\n\n    - name: Configure AWX organizations and projects\n      uri:\n        url: \u0026quot;http://localhost:80/api/v2/organizations/\u0026quot;\n        method: POST\n        user: \u0026quot;{{ awx_admin_user }}\u0026quot;\n        password: \u0026quot;{{ awx_admin_password }}\u0026quot;\n        force_basic_auth: yes\n        body_format: json\n        body:\n          name: \u0026quot;Production\u0026quot;\n          description: \u0026quot;Production environment organization\u0026quot;\n        status_code: [200, 201, 409]\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"multi-cloud-automation\" class=\"mobile-header\"\u003eMulti-Cloud Automation\u003c/h2\u003e\n\u003ch3 id=\"aws-infrastructure-automation\" class=\"mobile-header\"\u003eAWS Infrastructure Automation\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; playbooks/aws-infrastructure.yml \u0026lt;\u0026lt;EOF\n---\n- name: AWS Infrastructure Automation\n  hosts: localhost\n  connection: local\n  gather_facts: no\n  vars:\n    aws_region: \u0026quot;{{ aws_region | default(\u0026#039;us-west-2\u0026#039;) }}\u0026quot;\n    vpc_cidr: \u0026quot;{{ vpc_cidr | default(\u0026#039;10.0.0.0/16\u0026#039;) }}\u0026quot;\n    environment: \u0026quot;{{ environment | default(\u0026#039;production\u0026#039;) }}\u0026quot;\n\n  tasks:\n    # VPC Creation\n    - name: Create VPC\n      amazon.aws.ec2_vpc_info:\n        filters:\n          \u0026quot;tag:Name\u0026quot;: \u0026quot;{{ environment }}-vpc\u0026quot;\n        region: \u0026quot;{{ aws_region }}\u0026quot;\n      register: existing_vpc\n\n    - name: Create new VPC if not exists\n      amazon.aws.ec2_vpc_net:\n        name: \u0026quot;{{ environment }}-vpc\u0026quot;\n        cidr_block: \u0026quot;{{ vpc_cidr }}\u0026quot;\n        region: \u0026quot;{{ aws_region }}\u0026quot;\n        state: present\n        dns_hostnames: yes\n        dns_support: yes\n        tags:\n          Environment: \u0026quot;{{ environment }}\u0026quot;\n          ManagedBy: ansible\n      register: vpc\n      when: existing_vpc.vpcs | length == 0\n\n    # Security Groups\n    - name: Create web security group\n      amazon.aws.ec2_group:\n        name: \u0026quot;{{ environment }}-web-sg\u0026quot;\n        description: \u0026quot;Security group for web servers\u0026quot;\n        vpc_id: \u0026quot;{{ vpc.vpc.id if vpc.vpc is defined else existing_vpc.vpcs[0].vpc_id }}\u0026quot;\n        region: \u0026quot;{{ aws_region }}\u0026quot;\n        rules:\n          - proto: tcp\n            ports:\n              - 80\n              - 443\n            cidr_ip: 0.0.0.0/0\n            rule_desc: \u0026quot;HTTP and HTTPS access\u0026quot;\n          - proto: tcp\n            ports:\n              - 22\n            group_id: \u0026quot;{{ environment }}-bastion-sg\u0026quot;\n            rule_desc: \u0026quot;SSH from bastion\u0026quot;\n        tags:\n          Environment: \u0026quot;{{ environment }}\u0026quot;\n\n    # Launch EC2 instances\n    - name: Launch web servers\n      amazon.aws.ec2_instance:\n        name: \u0026quot;{{ environment }}-web-{{ item }}\u0026quot;\n        instance_type: t3.medium\n        image_id: ami-0c02fb55956c7d316  # Amazon Linux 2\n        key_name: \u0026quot;{{ ec2_key_name }}\u0026quot;\n        vpc_subnet_id: \u0026quot;{{ web_subnet_id }}\u0026quot;\n        security_groups:\n          - \u0026quot;{{ environment }}-web-sg\u0026quot;\n        region: \u0026quot;{{ aws_region }}\u0026quot;\n        state: running\n        wait: yes\n        wait_timeout: 300\n        user_data: |\n          #!/bin/bash\n          yum update -y\n          yum install -y python3\n        tags:\n          Environment: \u0026quot;{{ environment }}\u0026quot;\n          Role: webserver\n          Ansible: managed\n      loop: \u0026quot;{{ range(1, web_server_count + 1) | list }}\u0026quot;\n      register: web_instances\n\n    # Add instances to inventory\n    - name: Add web servers to inventory\n      add_host:\n        name: \u0026quot;{{ item.instances[0].tags.Name }}\u0026quot;\n        hostname: \u0026quot;{{ item.instances[0].public_ip_address }}\u0026quot;\n        groups: webservers\n        ansible_ssh_private_key_file: \u0026quot;~/.ssh/{{ ec2_key_name }}.pem\u0026quot;\n        ansible_user: ec2-user\n      loop: \u0026quot;{{ web_instances.results }}\u0026quot;\n      changed_when: false\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"kubernetes-cluster-management\" class=\"mobile-header\"\u003eKubernetes Cluster Management\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; playbooks/k8s-cluster-management.yml \u0026lt;\u0026lt;EOF\n---\n- name: Kubernetes Cluster Management with Ansible\n  hosts: k8s_masters\n  become: yes\n  serial: 1\n  vars:\n    k8s_version: \u0026quot;1.28.2\u0026quot;\n    containerd_version: \u0026quot;1.6.24\u0026quot;\n    cni_version: \u0026quot;1.3.0\u0026quot;\n\n  tasks:\n    # Pre-flight checks\n    - name: Check system requirements\n      assert:\n        that:\n          - ansible_memtotal_mb \u0026gt;= 1700\n          - ansible_processor_cores \u0026gt;= 2\n        fail_msg: \u0026quot;System doesn\u0026#039;t meet minimum requirements\u0026quot;\n\n    - name: Verify connectivity to all nodes\n      ping:\n      delegate_to: \u0026quot;{{ item }}\u0026quot;\n      loop: \u0026quot;{{ groups[\u0026#039;k8s_all\u0026#039;] }}\u0026quot;\n\n    # Container runtime setup\n    - name: Install containerd\n      include_role:\n        name: containerd\n      vars:\n        containerd_version: \u0026quot;{{ containerd_version }}\u0026quot;\n\n    # Kubernetes installation\n    - name: Install Kubernetes components\n      include_role:\n        name: kubernetes\n      vars:\n        kubernetes_version: \u0026quot;{{ k8s_version }}\u0026quot;\n\n    # Cluster initialization\n    - name: Initialize Kubernetes cluster\n      shell: |\n        kubeadm init \\\n          --pod-network-cidr=10.244.0.0/16 \\\n          --service-cidr=10.96.0.0/12 \\\n          --apiserver-advertise-address={{ ansible_default_ipv4.address }} \\\n          --node-name={{ inventory_hostname }}\n      args:\n        creates: /etc/kubernetes/admin.conf\n      register: kubeadm_init\n\n    - name: Create .kube directory\n      file:\n        path: \u0026quot;{{ ansible_env.HOME }}/.kube\u0026quot;\n        state: directory\n        mode: \u0026#039;0755\u0026#039;\n\n    - name: Copy admin.conf to user\u0026#039;s kube config\n      copy:\n        src: /etc/kubernetes/admin.conf\n        dest: \u0026quot;{{ ansible_env.HOME }}/.kube/config\u0026quot;\n        owner: \u0026quot;{{ ansible_user }}\u0026quot;\n        group: \u0026quot;{{ ansible_user }}\u0026quot;\n        mode: \u0026#039;0644\u0026#039;\n        remote_src: yes\n\n    # Network plugin installation\n    - name: Install Flannel CNI\n      shell: kubectl apply -f https://github.com/flannel-io/flannel/releases/latest/download/kube-flannel.yml\n      environment:\n        KUBECONFIG: \u0026quot;{{ ansible_env.HOME }}/.kube/config\u0026quot;\n\n    # Join worker nodes\n    - name: Get join command\n      shell: kubeadm token create --print-join-command\n      register: join_command\n      when: inventory_hostname in groups[\u0026#039;k8s_masters\u0026#039;][0]\n\n    - name: Join worker nodes to cluster\n      shell: \u0026quot;{{ hostvars[groups[\u0026#039;k8s_masters\u0026#039;][0]][\u0026#039;join_command\u0026#039;].stdout }}\u0026quot;\n      when: inventory_hostname in groups[\u0026#039;k8s_workers\u0026#039;]\n\n  post_tasks:\n    - name: Verify cluster status\n      shell: kubectl get nodes\n      environment:\n        KUBECONFIG: \u0026quot;{{ ansible_env.HOME }}/.kube/config\u0026quot;\n      register: cluster_status\n      when: inventory_hostname in groups[\u0026#039;k8s_masters\u0026#039;][0]\n\n    - name: Display cluster status\n      debug:\n        var: cluster_status.stdout_lines\n      when: inventory_hostname in groups[\u0026#039;k8s_masters\u0026#039;][0]\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"performance-optimization-and-scaling\" class=\"mobile-header\"\u003ePerformance Optimization and Scaling\u003c/h2\u003e\n\u003ch3 id=\"parallel-execution-strategies\" class=\"mobile-header\"\u003eParallel Execution Strategies\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create high-performance playbook configuration\ncat \u0026gt; playbooks/high-performance-deployment.yml \u0026lt;\u0026lt;EOF\n---\n- name: High-Performance Deployment\n  hosts: all\n  become: yes\n  strategy: free  # Parallel execution\n  serial: \u0026quot;30%\u0026quot;   # Process 30% of hosts at a time\n  max_fail_percentage: 10\n  gather_facts: yes\n  fact_caching: smart\n  vars:\n    deployment_batch_size: 10\n    max_concurrent_tasks: 50\n\n  pre_tasks:\n    - name: Check system load\n      shell: uptime | awk \u0026#039;{print $(NF-2)}\u0026#039; | sed \u0026#039;s/,//\u0026#039;\n      register: system_load\n      changed_when: false\n\n    - name: Skip high-load systems\n      meta: end_host\n      when: system_load.stdout | float \u0026gt; 5.0\n\n  tasks:\n    - name: Update packages with retries\n      package:\n        name: \u0026quot;*\u0026quot;\n        state: latest\n      retries: 3\n      delay: 30\n      async: 300\n      poll: 10\n\n    - name: Deploy configuration files in parallel\n      template:\n        src: \u0026quot;{{ item.src }}\u0026quot;\n        dest: \u0026quot;{{ item.dest }}\u0026quot;\n        mode: \u0026quot;{{ item.mode | default(\u0026#039;0644\u0026#039;) }}\u0026quot;\n        backup: yes\n      loop:\n        - { src: \u0026quot;nginx.conf.j2\u0026quot;, dest: \u0026quot;/etc/nginx/nginx.conf\u0026quot; }\n        - { src: \u0026quot;mysql.cnf.j2\u0026quot;, dest: \u0026quot;/etc/mysql/my.cnf\u0026quot; }\n        - { src: \u0026quot;redis.conf.j2\u0026quot;, dest: \u0026quot;/etc/redis/redis.conf\u0026quot; }\n      async: 120\n      poll: 5\n      register: config_deployment\n\n    - name: Wait for all configuration deployments\n      async_status:\n        jid: \u0026quot;{{ item.ansible_job_id }}\u0026quot;\n      loop: \u0026quot;{{ config_deployment.results }}\u0026quot;\n      when: item.ansible_job_id is defined\n\n  handlers:\n    - name: restart services\n      service:\n        name: \u0026quot;{{ item }}\u0026quot;\n        state: restarted\n      loop:\n        - nginx\n        - mysql\n        - redis\n      listen: \u0026quot;restart all services\u0026quot;\nEOF\n\n# Performance monitoring playbook\ncat \u0026gt; playbooks/performance-monitoring.yml \u0026lt;\u0026lt;EOF\n---\n- name: Performance Monitoring Setup\n  hosts: all\n  become: yes\n  vars:\n    monitoring_tools:\n      - htop\n      - iotop\n      - nethogs\n      - dstat\n      - sysstat\n      - perf\n\n  tasks:\n    - name: Install performance monitoring tools\n      package:\n        name: \u0026quot;{{ monitoring_tools }}\u0026quot;\n        state: present\n\n    - name: Configure system monitoring\n      template:\n        src: templates/sysstat.j2\n        dest: /etc/default/sysstat\n        backup: yes\n      when: ansible_os_family == \u0026quot;Debian\u0026quot;\n\n    - name: Enable system statistics collection\n      service:\n        name: \u0026quot;{{ \u0026#039;sysstat\u0026#039; if ansible_os_family == \u0026#039;Debian\u0026#039; else \u0026#039;sysstat\u0026#039; }}\u0026quot;\n        enabled: yes\n        state: started\n\n    - name: Create performance monitoring script\n      template:\n        src: templates/performance-monitor.sh.j2\n        dest: /usr/local/bin/performance-monitor.sh\n        mode: \u0026#039;0755\u0026#039;\n\n    - name: Schedule performance monitoring\n      cron:\n        name: \u0026quot;Performance monitoring\u0026quot;\n        minute: \u0026quot;*/5\u0026quot;\n        job: \u0026quot;/usr/local/bin/performance-monitor.sh\u0026quot;\n        user: root\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"testing-and-validation\" class=\"mobile-header\"\u003eTesting and Validation\u003c/h2\u003e\n\u003ch3 id=\"molecule-testing-framework\" class=\"mobile-header\"\u003eMolecule Testing Framework\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Molecule for role testing\npip install molecule[docker] molecule[vagrant] molecule[libvirt]\n\n# Initialize Molecule in role directory\ncd roles/nginx\nmolecule init scenario --driver-name docker\n\n# Create molecule configuration\ncat \u0026gt; molecule/default/molecule.yml \u0026lt;\u0026lt;EOF\n---\ndependency:\n  name: galaxy\ndriver:\n  name: docker\nplatforms:\n  - name: nginx-ubuntu\n    image: ubuntu:22.04\n    pre_build_image: true\n    privileged: true\n    volumes:\n      - /sys/fs/cgroup:/sys/fs/cgroup:ro\n    command: /lib/systemd/systemd\n    networks:\n      - name: molecule\n  - name: nginx-centos\n    image: centos:8\n    pre_build_image: true\n    privileged: true\n    volumes:\n      - /sys/fs/cgroup:/sys/fs/cgroup:ro\n    command: /usr/sbin/init\n    networks:\n      - name: molecule\nprovisioner:\n  name: ansible\n  config_options:\n    defaults:\n      callbacks_enabled: profile_tasks,timer,yaml\n  inventory:\n    host_vars:\n      nginx-ubuntu:\n        ansible_python_interpreter: /usr/bin/python3\n      nginx-centos:\n        ansible_python_interpreter: /usr/bin/python3\nverifier:\n  name: ansible\nlint: |\n  set -e\n  yamllint .\n  ansible-lint\n  flake8\nEOF\n\n# Create test playbook\ncat \u0026gt; molecule/default/converge.yml \u0026lt;\u0026lt;EOF\n---\n- name: Converge\n  hosts: all\n  become: true\n  tasks:\n    - name: \u0026quot;Include nginx role\u0026quot;\n      include_role:\n        name: nginx\n      vars:\n        nginx_vhosts:\n          - name: default\n            server_name: localhost\n            listen: 80\n            root: /var/www/html\n            enabled: true\nEOF\n\n# Create test verification\ncat \u0026gt; molecule/default/verify.yml \u0026lt;\u0026lt;EOF\n---\n- name: Verify\n  hosts: all\n  gather_facts: false\n  tasks:\n    - name: Check if NGINX is running\n      uri:\n        url: http://localhost\n        method: GET\n      register: nginx_check\n\n    - name: Verify NGINX is responding\n      assert:\n        that:\n          - nginx_check.status == 200\n        fail_msg: \u0026quot;NGINX is not responding correctly\u0026quot;\n\n    - name: Check NGINX configuration\n      shell: nginx -t\n      changed_when: false\n\n    - name: Verify NGINX process\n      shell: pgrep nginx\n      changed_when: false\nEOF\n\n# Run tests\nmolecule test\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"ansible-lint-and-security-scanning\" class=\"mobile-header\"\u003eAnsible Lint and Security Scanning\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Install Ansible Lint\npip install ansible-lint\n\n# Create .ansible-lint configuration\ncat \u0026gt; .ansible-lint \u0026lt;\u0026lt;EOF\n---\nprofile: production\n\nexclude_paths:\n  - .cache/\n  - .github/\n  - molecule/\n  - .venv/\n\nskip_list:\n  - yaml[line-length]  # Allow longer lines for readability\n\nwarn_list:\n  - experimental  # Warn about experimental features\n\n# Custom rules\nrules:\n  braces:\n    min-spaces-inside: 0\n    max-spaces-inside: 1\n  brackets:\n    min-spaces-inside: 0\n    max-spaces-inside: 0\n  colons:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  commas:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  comments:\n    min-spaces-from-content: 1\n  document-start: disable\n  empty-lines:\n    max: 2\n    max-start: 0\n    max-end: 1\n  hyphens:\n    max-spaces-after: 1\n  indentation:\n    spaces: 2\n    indent-sequences: true\n  line-length:\n    max: 120\n  new-line-at-end-of-file: enable\n  trailing-spaces: enable\n  truthy:\n    allowed-values: [\u0026#039;true\u0026#039;, \u0026#039;false\u0026#039;, \u0026#039;yes\u0026#039;, \u0026#039;no\u0026#039;]\nEOF\n\n# Create security-focused playbook linting\ncat \u0026gt; .yamllint \u0026lt;\u0026lt;EOF\n---\nextends: default\n\nrules:\n  braces:\n    min-spaces-inside: 0\n    max-spaces-inside: 1\n  brackets:\n    min-spaces-inside: 0\n    max-spaces-inside: 0\n  colons:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  commas:\n    max-spaces-before: 0\n    min-spaces-after: 1\n    max-spaces-after: 1\n  comments: disable\n  comments-indentation: disable\n  document-start: disable\n  empty-lines:\n    max: 2\n    max-start: 0\n    max-end: 1\n  hyphens:\n    max-spaces-after: 1\n  indentation:\n    spaces: 2\n    indent-sequences: true\n    check-multi-line-strings: false\n  key-duplicates: enable\n  line-length:\n    max: 120\n  new-line-at-end-of-file: enable\n  octal-values:\n    forbid-implicit-octal: true\n  trailing-spaces: enable\n  truthy: disable\nEOF\n\n# Run linting\nansible-lint playbooks/\nyamllint .\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"backup-and-disaster-recovery\" class=\"mobile-header\"\u003eBackup and Disaster Recovery\u003c/h2\u003e\n\u003ch3 id=\"comprehensive-backup-automation\" class=\"mobile-header\"\u003eComprehensive Backup Automation\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; playbooks/backup-automation.yml \u0026lt;\u0026lt;EOF\n---\n- name: Automated Backup System\n  hosts: all\n  become: yes\n  vars:\n    backup_root: /backup\n    backup_retention_days: 30\n    backup_schedule:\n      databases: \u0026quot;0 2 * * *\u0026quot;\n      files: \u0026quot;0 3 * * *\u0026quot;\n      configs: \u0026quot;0 4 * * *\u0026quot;\n\n  tasks:\n    - name: Create backup directories\n      file:\n        path: \u0026quot;{{ backup_root }}/{{ item }}\u0026quot;\n        state: directory\n        mode: \u0026#039;0755\u0026#039;\n        owner: root\n        group: root\n      loop:\n        - databases\n        - files\n        - configs\n        - logs\n\n    # Database backups\n    - name: Create database backup script\n      template:\n        src: templates/mysql-backup.sh.j2\n        dest: /usr/local/bin/mysql-backup.sh\n        mode: \u0026#039;0755\u0026#039;\n      when: \u0026quot;\u0026#039;dbservers\u0026#039; in group_names\u0026quot;\n\n    - name: Schedule database backups\n      cron:\n        name: \u0026quot;MySQL backup\u0026quot;\n        minute: \u0026quot;0\u0026quot;\n        hour: \u0026quot;2\u0026quot;\n        job: \u0026quot;/usr/local/bin/mysql-backup.sh\u0026quot;\n        user: root\n      when: \u0026quot;\u0026#039;dbservers\u0026#039; in group_names\u0026quot;\n\n    # File system backups\n    - name: Create file backup script\n      template:\n        src: templates/file-backup.sh.j2\n        dest: /usr/local/bin/file-backup.sh\n        mode: \u0026#039;0755\u0026#039;\n\n    - name: Schedule file backups\n      cron:\n        name: \u0026quot;File system backup\u0026quot;\n        minute: \u0026quot;0\u0026quot;\n        hour: \u0026quot;3\u0026quot;\n        job: \u0026quot;/usr/local/bin/file-backup.sh\u0026quot;\n        user: root\n\n    # Configuration backups\n    - name: Backup system configurations\n      archive:\n        path:\n          - /etc/nginx\n          - /etc/mysql\n          - /etc/systemd/system\n          - /etc/crontab\n          - /etc/hosts\n          - /etc/fstab\n        dest: \u0026quot;{{ backup_root }}/configs/system-config-{{ ansible_date_time.epoch }}.tar.gz\u0026quot;\n        mode: \u0026#039;0600\u0026#039;\n\n    # Remote backup synchronization\n    - name: Synchronize backups to remote storage\n      synchronize:\n        src: \u0026quot;{{ backup_root }}/\u0026quot;\n        dest: \u0026quot;backup-server.example.com:{{ backup_root }}/{{ inventory_hostname }}/\u0026quot;\n        delete: yes\n        rsync_opts:\n          - \u0026quot;--exclude=*.tmp\u0026quot;\n          - \u0026quot;--compress\u0026quot;\n          - \u0026quot;--archive\u0026quot;\n      when: backup_remote_sync | default(true)\n\n    # Cleanup old backups\n    - name: Clean up old backup files\n      find:\n        paths: \u0026quot;{{ backup_root }}\u0026quot;\n        age: \u0026quot;{{ backup_retention_days }}d\u0026quot;\n        file_type: file\n      register: old_backups\n\n    - name: Remove old backup files\n      file:\n        path: \u0026quot;{{ item.path }}\u0026quot;\n        state: absent\n      loop: \u0026quot;{{ old_backups.files }}\u0026quot;\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"verification-and-monitoring\" class=\"mobile-header\"\u003eVerification and Monitoring\u003c/h2\u003e\n\u003ch3 id=\"cross-platform-system-verification\" class=\"mobile-header\"\u003eCross-Platform System Verification\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create comprehensive verification playbook\ncat \u0026gt; playbooks/system-verification.yml \u0026lt;\u0026lt;EOF\n---\n- name: System Verification and Health Check\n  hosts: all\n  become: yes\n  gather_facts: yes\n  vars:\n    health_checks:\n      - service: nginx\n        port: 80\n        process: nginx\n      - service: mysql\n        port: 3306\n        process: mysqld\n      - service: redis\n        port: 6379\n        process: redis-server\n\n  tasks:\n    # System information gathering\n    - name: Gather system information\n      setup:\n        gather_subset:\n          - all\n          - !facter\n          - !ohai\n\n    # Service verification\n    - name: Check critical services status\n      service_facts:\n\n    - name: Verify services are running\n      assert:\n        that:\n          - \u0026quot;ansible_facts.services[item.service + \u0026#039;.service\u0026#039;].state == \u0026#039;running\u0026#039;\u0026quot;\n        fail_msg: \u0026quot;Service {{ item.service }} is not running\u0026quot;\n        success_msg: \u0026quot;Service {{ item.service }} is healthy\u0026quot;\n      loop: \u0026quot;{{ health_checks }}\u0026quot;\n      when: \u0026quot;item.service + \u0026#039;.service\u0026#039; in ansible_facts.services\u0026quot;\n\n    # Network connectivity tests\n    - name: Test network connectivity\n      wait_for:\n        host: \u0026quot;{{ item.host }}\u0026quot;\n        port: \u0026quot;{{ item.port }}\u0026quot;\n        timeout: 5\n      loop:\n        - { host: \u0026quot;8.8.8.8\u0026quot;, port: 53 }\n        - { host: \u0026quot;1.1.1.1\u0026quot;, port: 53 }\n      ignore_errors: yes\n\n    # Disk space monitoring\n    - name: Check disk space usage\n      shell: df -h | awk \u0026#039;$5 \u0026gt; \u0026quot;85%\u0026quot; {print $0}\u0026#039;\n      register: disk_usage\n      changed_when: false\n      failed_when: disk_usage.stdout != \u0026quot;\u0026quot;\n\n    # Memory usage check\n    - name: Check memory usage\n      shell: free | grep Mem | awk \u0026#039;{printf \u0026quot;%.0f\u0026quot;, $3/$2 * 100.0}\u0026#039;\n      register: memory_usage\n      changed_when: false\n\n    - name: Alert on high memory usage\n      debug:\n        msg: \u0026quot;WARNING: Memory usage is {{ memory_usage.stdout }}%\u0026quot;\n      when: memory_usage.stdout | int \u0026gt; 85\n\n    # Security verification\n    - name: Check for failed login attempts\n      shell: grep \u0026quot;Failed password\u0026quot; /var/log/auth.log | tail -10\n      register: failed_logins\n      changed_when: false\n      ignore_errors: yes\n      when: ansible_os_family == \u0026quot;Debian\u0026quot;\n\n    - name: Check firewall status\n      shell: |\n        if command -v ufw \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n          ufw status\n        elif command -v firewall-cmd \u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then\n          firewall-cmd --state\n        else\n          echo \u0026quot;No supported firewall found\u0026quot;\n        fi\n      register: firewall_status\n      changed_when: false\n\n  post_tasks:\n    - name: Generate system health report\n      template:\n        src: templates/health-report.j2\n        dest: \u0026quot;/tmp/health-report-{{ inventory_hostname }}-{{ ansible_date_time.epoch }}.txt\u0026quot;\n        mode: \u0026#039;0644\u0026#039;\n\n    - name: Fetch health reports\n      fetch:\n        src: \u0026quot;/tmp/health-report-{{ inventory_hostname }}-{{ ansible_date_time.epoch }}.txt\u0026quot;\n        dest: \u0026quot;./reports/\u0026quot;\n        flat: yes\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"continuous-compliance-monitoring\" class=\"mobile-header\"\u003eContinuous Compliance Monitoring\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; playbooks/compliance-monitoring.yml \u0026lt;\u0026lt;EOF\n---\n- name: Continuous Compliance Monitoring\n  hosts: all\n  become: yes\n  vars:\n    compliance_standards:\n      - cis\n      - pci_dss\n      - soc2\n      - hipaa\n    \n    audit_log_paths:\n      - /var/log/auth.log\n      - /var/log/syslog\n      - /var/log/audit/audit.log\n\n  tasks:\n    # Install audit tools\n    - name: Install audit daemon\n      package:\n        name: \u0026quot;{{ \u0026#039;auditd\u0026#039; if ansible_os_family == \u0026#039;RedHat\u0026#039; else \u0026#039;auditd\u0026#039; }}\u0026quot;\n        state: present\n\n    - name: Configure audit rules\n      template:\n        src: templates/audit.rules.j2\n        dest: /etc/audit/rules.d/audit.rules\n        backup: yes\n      notify: restart auditd\n\n    # CIS compliance checks\n    - name: Run CIS benchmark checks\n      shell: |\n        if [ -f /opt/cis-cat/CIS-CAT.sh ]; then\n          /opt/cis-cat/CIS-CAT.sh -b /opt/cis-cat/benchmarks/\n        else\n          echo \u0026quot;CIS-CAT not installed, skipping\u0026quot;\n        fi\n      register: cis_results\n      ignore_errors: yes\n\n    # File integrity monitoring\n    - name: Install AIDE\n      package:\n        name: aide\n        state: present\n\n    - name: Initialize AIDE database\n      shell: |\n        aide --init\n        mv /var/lib/aide/aide.db.new /var/lib/aide/aide.db\n      args:\n        creates: /var/lib/aide/aide.db\n\n    - name: Schedule AIDE integrity checks\n      cron:\n        name: \u0026quot;AIDE integrity check\u0026quot;\n        minute: \u0026quot;0\u0026quot;\n        hour: \u0026quot;3\u0026quot;\n        job: \u0026quot;/usr/bin/aide --check | mail -s \u0026#039;AIDE Report\u0026#039; security@example.com\u0026quot;\n        user: root\n\n    # Log monitoring\n    - name: Install log monitoring tools\n      package:\n        name:\n          - logwatch\n          - rsyslog\n        state: present\n\n    - name: Configure centralized logging\n      template:\n        src: templates/rsyslog.conf.j2\n        dest: /etc/rsyslog.conf\n        backup: yes\n      notify: restart rsyslog\n\n  handlers:\n    - name: restart auditd\n      service:\n        name: auditd\n        state: restarted\n\n    - name: restart rsyslog\n      service:\n        name: rsyslog\n        state: restarted\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"cicd-integration\" class=\"mobile-header\"\u003eCI/CD Integration\u003c/h2\u003e\n\u003ch3 id=\"jenkins-pipeline-integration\" class=\"mobile-header\"\u003eJenkins Pipeline Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Create Jenkinsfile for Ansible automation\ncat \u0026gt; Jenkinsfile \u0026lt;\u0026lt;EOF\npipeline {\n    agent any\n    \n    environment {\n        ANSIBLE_CONFIG = \u0026#039;ansible.cfg\u0026#039;\n        ANSIBLE_HOST_KEY_CHECKING = \u0026#039;False\u0026#039;\n    }\n    \n    stages {\n        stage(\u0026#039;Lint\u0026#039;) {\n            steps {\n                sh \u0026#039;ansible-lint playbooks/\u0026#039;\n                sh \u0026#039;yamllint .\u0026#039;\n            }\n        }\n        \n        stage(\u0026#039;Syntax Check\u0026#039;) {\n            steps {\n                sh \u0026#039;ansible-playbook playbooks/site.yml --syntax-check\u0026#039;\n            }\n        }\n        \n        stage(\u0026#039;Dry Run\u0026#039;) {\n            steps {\n                sh \u0026#039;ansible-playbook playbooks/site.yml --check --diff\u0026#039;\n            }\n        }\n        \n        stage(\u0026#039;Deploy to Staging\u0026#039;) {\n            when {\n                branch \u0026#039;develop\u0026#039;\n            }\n            steps {\n                sh \u0026#039;ansible-playbook -i inventories/staging playbooks/site.yml\u0026#039;\n            }\n        }\n        \n        stage(\u0026#039;Deploy to Production\u0026#039;) {\n            when {\n                branch \u0026#039;main\u0026#039;\n            }\n            steps {\n                input \u0026#039;Deploy to Production?\u0026#039;\n                sh \u0026#039;ansible-playbook -i inventories/production playbooks/site.yml\u0026#039;\n            }\n        }\n        \n        stage(\u0026#039;Verify Deployment\u0026#039;) {\n            steps {\n                sh \u0026#039;ansible-playbook playbooks/system-verification.yml\u0026#039;\n            }\n        }\n    }\n    \n    post {\n        always {\n            archiveArtifacts artifacts: \u0026#039;logs/*.log\u0026#039;, allowEmptyArchive: true\n            publishHTML([\n                allowMissing: false,\n                alwaysLinkToLastBuild: true,\n                keepAll: true,\n                reportDir: \u0026#039;reports\u0026#039;,\n                reportFiles: \u0026#039;*.html\u0026#039;,\n                reportName: \u0026#039;Ansible Report\u0026#039;\n            ])\n        }\n        failure {\n            emailext (\n                subject: \u0026quot;Failed Pipeline: ${env.JOB_NAME} - ${env.BUILD_NUMBER}\u0026quot;,\n                body: \u0026quot;Something is wrong with ${env.BUILD_URL}\u0026quot;,\n                to: \u0026quot;${env.DEFAULT_RECIPIENTS}\u0026quot;\n            )\n        }\n    }\n}\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"gitlab-ci-integration\" class=\"mobile-header\"\u003eGitLab CI Integration\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecat \u0026gt; .gitlab-ci.yml \u0026lt;\u0026lt;EOF\nstages:\n  - lint\n  - test\n  - deploy-staging\n  - deploy-production\n\nvariables:\n  ANSIBLE_CONFIG: ansible.cfg\n  ANSIBLE_HOST_KEY_CHECKING: \u0026quot;False\u0026quot;\n\nbefore_script:\n  - pip install ansible ansible-lint yamllint\n  - ansible-galaxy install -r requirements.yml\n\nlint:\n  stage: lint\n  script:\n    - ansible-lint playbooks/\n    - yamllint .\n  rules:\n    - if: \u0026#039;$CI_MERGE_REQUEST_IID\u0026#039;\n    - if: \u0026#039;$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH\u0026#039;\n\nsyntax-check:\n  stage: test\n  script:\n    - ansible-playbook playbooks/site.yml --syntax-check\n    - ansible-playbook playbooks/site.yml --check --diff -i inventories/staging\n  rules:\n    - if: \u0026#039;$CI_MERGE_REQUEST_IID\u0026#039;\n    - if: \u0026#039;$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH\u0026#039;\n\ndeploy-staging:\n  stage: deploy-staging\n  script:\n    - ansible-playbook -i inventories/staging playbooks/site.yml\n  rules:\n    - if: \u0026#039;$CI_COMMIT_BRANCH == \u0026quot;develop\u0026quot;\u0026#039;\n\ndeploy-production:\n  stage: deploy-production\n  script:\n    - ansible-playbook -i inventories/production playbooks/site.yml\n  rules:\n    - if: \u0026#039;$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH\u0026#039;\n      when: manual\n  environment:\n    name: production\n    url: https://production.example.com\nEOF\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"troubleshooting-cross-platform\" class=\"mobile-header\"\u003eTroubleshooting (Cross-Platform)\u003c/h2\u003e\n\u003ch3 id=\"common-issues-and-solutions\" class=\"mobile-header\"\u003eCommon Issues and Solutions\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Debug connection issues\nansible all -m ping -vvv\n\n# Check SSH connectivity\nansible all -m setup --ask-pass --ask-become-pass\n\n# Verify inventory\nansible-inventory --list\nansible-inventory --graph\n\n# Test specific host\nansible target-host -m command -a \u0026quot;uptime\u0026quot;\n\n# Check syntax without execution\nansible-playbook playbooks/site.yml --syntax-check\n\n# Dry run with verbose output\nansible-playbook playbooks/site.yml --check --diff -vvv\n\n# Debug variable resolution\nansible-playbook playbooks/site.yml --extra-vars=\u0026quot;debug=true\u0026quot; --tags debug\n\n# Check facts\nansible all -m setup | grep ansible_os_family\n\n# Connection troubleshooting\nssh -vvv user@target-host\n\n# Permission issues\nansible all -m file -a \u0026quot;path=/tmp/test state=touch\u0026quot; --become\n\n# Vault issues\nansible-vault view group_vars/all/vault.yml\n\n# Performance debugging\nansible-playbook playbooks/site.yml --start-at-task=\u0026quot;specific task name\u0026quot;\nansible-playbook playbooks/site.yml --step\n\n# Module testing\nansible localhost -m debug -a \u0026quot;var=hostvars\u0026quot;\nansible localhost -m setup\n\n# Check for syntax errors in roles\nfind roles/ -name \u0026quot;*.yml\u0026quot; -exec ansible-playbook {} --syntax-check \\;\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch3 id=\"advanced-debugging\" class=\"mobile-header\"\u003eAdvanced Debugging\u003c/h3\u003e\n\u003cdiv class=\"mobile-code-block\" data-language=\"bash\"\u003e\n      \u003cdiv class=\"mobile-code-header\"\u003e\n        \u003cspan class=\"mobile-code-language\"\u003ebash\u003c/span\u003e\n        \u003cbutton class=\"mobile-copy-button\" onclick=\"copyCode(this)\" title=\"Copy code\"\u003e\n          \u003cspan class=\"copy-icon\"\u003e📋\u003c/span\u003e\n          \u003cspan class=\"copy-text\"\u003eCopy\u003c/span\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n      \u003cdiv class=\"mobile-code-content\"\u003e\n        \u003cpre\u003e\u003ccode class=\"language-bash\"\u003e# Enable comprehensive logging\nexport ANSIBLE_DEBUG=1\nexport ANSIBLE_VERBOSITY=4\nansible-playbook playbooks/site.yml\n\n# Profile playbook execution\nansible-playbook playbooks/site.yml --extra-vars=\u0026quot;profile_tasks_sort_order=none\u0026quot;\n\n# Memory usage analysis\nansible-playbook playbooks/site.yml --extra-vars=\u0026quot;ansible_python_interpreter=/usr/bin/python3\u0026quot;\n\n# Network debugging\nansible all -m command -a \u0026quot;ss -tulpn\u0026quot;\nansible all -m command -a \u0026quot;netstat -rn\u0026quot;\n\n# Process debugging\nansible all -m command -a \u0026quot;ps aux --sort=-%mem | head -10\u0026quot;\n\n# Disk usage analysis\nansible all -m command -a \u0026quot;df -h\u0026quot;\nansible all -m command -a \u0026quot;du -sh /var/log/*\u0026quot;\n\n# Service debugging\nansible all -m systemd -a \u0026quot;name=nginx\u0026quot; --become\nansible all -m command -a \u0026quot;systemctl status nginx\u0026quot; --become\n\n# Variable debugging\nansible-playbook playbooks/site.yml --extra-vars=\u0026quot;debug_vars=true\u0026quot; --tags debug_vars\u003c/code\u003e\u003c/pre\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n\u003ch2 id=\"additional-resources\" class=\"mobile-header\"\u003eAdditional Resources\u003c/h2\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.ansible.com/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eOfficial Documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://galaxy.ansible.com/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eAnsible Galaxy\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.ansible.com/ansible/latest/user_guide/playbooks_best_practices.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eBest Practices Guide\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.ansible.com/ansible/latest/user_guide/become.html#security-best-practices\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eSecurity Best Practices\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://molecule.readthedocs.io/\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eAnsible Molecule Testing\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"mobile-list-item\"\u003e\u003ca href=\"https://docs.ansible.com/ansible/latest/collections/index.html\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eCommunity Collections\u003c/a\u003e\u003c/li\u003e\n\u003cp class=\"mobile-paragraph\"\u003e---\u003c/p\u003e\n\u003cp class=\"mobile-paragraph\"\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This guide is part of the \u003ca href=\"https://howtomgr.github.io\" target=\"_blank\" rel=\"noopener\" class=\"mobile-link\"\u003eHowToMgr\u003c/a\u003e collection.\u003c/p\u003e","readTime":"31 min","wordCount":6191,"lastBuilt":"2025-09-15T18:14:38.832Z"}]},"__N_SSG":true},"page":"/[category]/[guide]","query":{"category":"infrastructure","guide":"rabbitmq"},"buildId":"FWaJNz_CPEuOjXz3AhtJ8","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>